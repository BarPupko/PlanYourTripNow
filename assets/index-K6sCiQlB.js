(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var YD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GE={exports:{}},of={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WD=Symbol.for("react.transitional.element"),KD=Symbol.for("react.fragment");function YE(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:WD,type:t,key:r,ref:e!==void 0?e:null,props:n}}of.Fragment=KD;of.jsx=YE;of.jsxs=YE;GE.exports=of;var l=GE.exports,WE={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy=Symbol.for("react.transitional.element"),QD=Symbol.for("react.portal"),XD=Symbol.for("react.fragment"),JD=Symbol.for("react.strict_mode"),ZD=Symbol.for("react.profiler"),eI=Symbol.for("react.consumer"),tI=Symbol.for("react.context"),nI=Symbol.for("react.forward_ref"),rI=Symbol.for("react.suspense"),aI=Symbol.for("react.memo"),KE=Symbol.for("react.lazy"),iI=Symbol.for("react.activity"),L1=Symbol.iterator;function sI(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XE=Object.assign,JE={};function zo(t,e,n){this.props=t,this.context=e,this.refs=JE,this.updater=n||QE}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ZE(){}ZE.prototype=zo.prototype;function Zy(t,e,n){this.props=t,this.context=e,this.refs=JE,this.updater=n||QE}var e0=Zy.prototype=new ZE;e0.constructor=Zy;XE(e0,zo.prototype);e0.isPureReactComponent=!0;var V1=Array.isArray;function ng(){}var Ue={H:null,A:null,T:null,S:null},eT=Object.prototype.hasOwnProperty;function t0(t,e,n){var r=n.ref;return{$$typeof:Jy,type:t,key:e,ref:r!==void 0?r:null,props:n}}function oI(t,e){return t0(t.type,e,t.props)}function n0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jy}function lI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U1=/\/+/g;function Fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lI(""+t.key):e.toString(36)}function cI(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(ng,ng):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ps(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Jy:case QD:s=!0;break;case KE:return s=t._init,Ps(s(t._payload),e,n,r,a)}}if(s)return a=a(t),s=r===""?"."+Fm(t,0):r,V1(a)?(n="",s!=null&&(n=s.replace(U1,"$&/")+"/"),Ps(a,e,n,"",function(d){return d})):a!=null&&(n0(a)&&(a=oI(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(U1,"$&/")+"/")+s)),e.push(a)),1;s=0;var o=r===""?".":r+":";if(V1(t))for(var u=0;u<t.length;u++)r=t[u],i=o+Fm(r,u),s+=Ps(r,e,n,i,a);else if(u=sI(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,i=o+Fm(r,u++),s+=Ps(r,e,n,i,a);else if(i==="object"){if(typeof t.then=="function")return Ps(cI(t),e,n,r,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Wu(t,e,n){if(t==null)return t;var r=[],a=0;return Ps(t,r,"","",function(i){return e.call(n,i,a++)}),r}function uI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var B1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},dI={map:Wu,forEach:function(t,e,n){Wu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Wu(t,function(){e++}),e},toArray:function(t){return Wu(t,function(e){return e})||[]},only:function(t){if(!n0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Activity=iI;se.Children=dI;se.Component=zo;se.Fragment=XD;se.Profiler=ZD;se.PureComponent=Zy;se.StrictMode=JD;se.Suspense=rI;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;se.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ue.H.useMemoCache(t)}};se.cache=function(t){return function(){return t.apply(null,arguments)}};se.cacheSignal=function(){return null};se.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=XE({},t.props),a=t.key;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)!eT.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(r[i]=e[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return t0(t.type,a,r)};se.createContext=function(t){return t={$$typeof:tI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:eI,_context:t},t};se.createElement=function(t,e,n){var r,a={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)eT.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=e[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return t0(t,i,a)};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:nI,render:t}};se.isValidElement=n0;se.lazy=function(t){return{$$typeof:KE,_payload:{_status:-1,_result:t},_init:uI}};se.memo=function(t,e){return{$$typeof:aI,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Ue.T,n={};Ue.T=n;try{var r=t(),a=Ue.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(ng,B1)}catch(i){B1(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ue.T=e}};se.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};se.use=function(t){return Ue.H.use(t)};se.useActionState=function(t,e,n){return Ue.H.useActionState(t,e,n)};se.useCallback=function(t,e){return Ue.H.useCallback(t,e)};se.useContext=function(t){return Ue.H.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t,e){return Ue.H.useDeferredValue(t,e)};se.useEffect=function(t,e){return Ue.H.useEffect(t,e)};se.useEffectEvent=function(t){return Ue.H.useEffectEvent(t)};se.useId=function(){return Ue.H.useId()};se.useImperativeHandle=function(t,e,n){return Ue.H.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ue.H.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ue.H.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ue.H.useMemo(t,e)};se.useOptimistic=function(t,e){return Ue.H.useOptimistic(t,e)};se.useReducer=function(t,e,n){return Ue.H.useReducer(t,e,n)};se.useRef=function(t){return Ue.H.useRef(t)};se.useState=function(t){return Ue.H.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ue.H.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ue.H.useTransition()};se.version="19.2.3";WE.exports=se;var R=WE.exports;const hI=sf(R);var tT={exports:{}},lf={},nT={exports:{}},rT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,U){var q=k.length;k.push(U);e:for(;0<q;){var Y=q-1>>>1,X=k[Y];if(0<a(X,U))k[Y]=U,k[q]=X,q=Y;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],q=k.pop();if(q!==U){k[0]=q;e:for(var Y=0,X=k.length,be=X>>>1;Y<be;){var H=2*(Y+1)-1,re=k[H],Ae=H+1,Te=k[Ae];if(0>a(re,q))Ae<X&&0>a(Te,re)?(k[Y]=Te,k[Ae]=q,Y=Ae):(k[Y]=re,k[H]=q,Y=H);else if(Ae<X&&0>a(Te,q))k[Y]=Te,k[Ae]=q,Y=Ae;else break e}}return U}function a(k,U){var q=k.sortIndex-U.sortIndex;return q!==0?q:k.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],d=[],h=1,f=null,p=3,y=!1,w=!1,N=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function I(k){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=k)r(d),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(d)}}function V(k){if(N=!1,I(k),!w)if(n(u)!==null)w=!0,$||($=!0,j());else{var U=n(d);U!==null&&J(V,U.startTime-k)}}var $=!1,S=-1,v=5,b=-1;function C(){return A?!0:!(t.unstable_now()-b<v)}function O(){if(A=!1,$){var k=t.unstable_now();b=k;var U=!0;try{e:{w=!1,N&&(N=!1,x(S),S=-1),y=!0;var q=p;try{t:{for(I(k),f=n(u);f!==null&&!(f.expirationTime>k&&C());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,p=f.priorityLevel;var X=Y(f.expirationTime<=k);if(k=t.unstable_now(),typeof X=="function"){f.callback=X,I(k),U=!0;break t}f===n(u)&&r(u),I(k)}else r(u);f=n(u)}if(f!==null)U=!0;else{var be=n(d);be!==null&&J(V,be.startTime-k),U=!1}}break e}finally{f=null,p=q,y=!1}U=void 0}}finally{U?j():$=!1}}}var j;if(typeof E=="function")j=function(){E(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=O,j=function(){G.postMessage(null)}}else j=function(){_(O,0)};function J(k,U){S=_(function(){k(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var q=p;p=U;try{return k()}finally{p=q}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var q=p;p=k;try{return U()}finally{p=q}},t.unstable_scheduleCallback=function(k,U,q){var Y=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Y+q:Y):q=Y,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,k={id:h++,callback:U,priorityLevel:k,startTime:q,expirationTime:X,sortIndex:-1},q>Y?(k.sortIndex=q,e(d,k),n(u)===null&&k===n(d)&&(N?(x(S),S=-1):N=!0,J(V,q-Y))):(k.sortIndex=X,e(u,k),w||y||(w=!0,$||($=!0,j()))),k},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(k){var U=p;return function(){var q=p;p=U;try{return k.apply(this,arguments)}finally{p=q}}}})(rT);nT.exports=rT;var fI=nT.exports,aT={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI=R;function iT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ya(){}var $t={d:{f:ya,r:function(){throw Error(iT(522))},D:ya,C:ya,L:ya,m:ya,X:ya,S:ya,M:ya},p:0,findDOMNode:null},pI=Symbol.for("react.portal");function gI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pI,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var lc=mI.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function cf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$t;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(iT(299));return gI(t,e,null,n)};Ht.flushSync=function(t){var e=lc.T,n=$t.p;try{if(lc.T=null,$t.p=2,t)return t()}finally{lc.T=e,$t.p=n,$t.d.f()}};Ht.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,$t.d.C(t,e))};Ht.prefetchDNS=function(t){typeof t=="string"&&$t.d.D(t)};Ht.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=cf(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?$t.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&$t.d.X(t,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ht.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=cf(e.as,e.crossOrigin);$t.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&$t.d.M(t)};Ht.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=cf(n,e.crossOrigin);$t.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ht.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=cf(e.as,e.crossOrigin);$t.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else $t.d.m(t)};Ht.requestFormReset=function(t){$t.d.r(t)};Ht.unstable_batchedUpdates=function(t,e){return t(e)};Ht.useFormState=function(t,e,n){return lc.H.useFormState(t,e,n)};Ht.useFormStatus=function(){return lc.H.useHostTransitionStatus()};Ht.version="19.2.3";function sT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sT)}catch(t){console.error(t)}}sT(),aT.exports=Ht;var yI=aT.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=fI,oT=R,vI=yI;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function z1(t){if(eu(t)!==t)throw Error(z(188))}function _I(t){var e=t.alternate;if(!e){if(e=eu(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return z1(a),t;if(i===r)return z1(a),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function dT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=dT(t),e!==null)return e;t=t.sibling}return null}var Be=Object.assign,bI=Symbol.for("react.element"),Ku=Symbol.for("react.transitional.element"),Kl=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),hT=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),fT=Symbol.for("react.consumer"),Mr=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),ig=Symbol.for("react.suspense_list"),a0=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),sg=Symbol.for("react.activity"),xI=Symbol.for("react.memo_cache_sentinel"),F1=Symbol.iterator;function Ll(t){return t===null||typeof t!="object"?null:(t=F1&&t[F1]||t["@@iterator"],typeof t=="function"?t:null)}var wI=Symbol.for("react.client.reference");function og(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===wI?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qs:return"Fragment";case rg:return"Profiler";case hT:return"StrictMode";case ag:return"Suspense";case ig:return"SuspenseList";case sg:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Kl:return"Portal";case Mr:return t.displayName||"Context";case fT:return(t._context.displayName||"Context")+".Consumer";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case a0:return e=t.displayName||null,e!==null?e:og(t.type)||"Memo";case ba:e=t._payload,t=t._init;try{return og(t(e))}catch{}}return null}var Ql=Array.isArray,ne=oT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=vI.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bi={pending:!1,data:null,method:null,action:null},lg=[],Hs=-1;function wr(t){return{current:t}}function wt(t){0>Hs||(t.current=lg[Hs],lg[Hs]=null,Hs--)}function ke(t,e){Hs++,lg[Hs]=t.current,t.current=e}var hr=wr(null),Cc=wr(null),La=wr(null),nh=wr(null);function rh(t,e){switch(ke(La,e),ke(Cc,t),ke(hr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Wb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Wb(e),t=j2(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}wt(hr),ke(hr,t)}function _o(){wt(hr),wt(Cc),wt(La)}function cg(t){t.memoizedState!==null&&ke(nh,t);var e=hr.current,n=j2(e,t.type);e!==n&&(ke(Cc,t),ke(hr,n))}function ah(t){Cc.current===t&&(wt(hr),wt(Cc)),nh.current===t&&(wt(nh),Uc._currentValue=Bi)}var $m,$1;function ji(t){if($m===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$m=e&&e[1]||"",$1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$m+t+$1}var qm=!1;function Hm(t,e){if(!t||qm)return"";qm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(y){var p=y}Reflect.construct(t,[],f)}else{try{f.call()}catch(y){p=y}t.call(f.prototype)}}else{try{throw Error()}catch(y){p=y}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var u=s.split(`
`),d=o.split(`
`);for(a=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;a<d.length&&!d[a].includes("DetermineComponentFrameRoot");)a++;if(r===u.length||a===d.length)for(r=u.length-1,a=d.length-1;1<=r&&0<=a&&u[r]!==d[a];)a--;for(;1<=r&&0<=a;r--,a--)if(u[r]!==d[a]){if(r!==1||a!==1)do if(r--,a--,0>a||u[r]!==d[a]){var h=`
`+u[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=a);break}}}finally{qm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ji(n):""}function EI(t,e){switch(t.tag){case 26:case 27:case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return t.child!==e&&e!==null?ji("Suspense Fallback"):ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Hm(t.type,!1);case 11:return Hm(t.type.render,!1);case 1:return Hm(t.type,!0);case 31:return ji("Activity");default:return""}}function q1(t){try{var e="",n=null;do e+=EI(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ug=Object.prototype.hasOwnProperty,i0=gt.unstable_scheduleCallback,Gm=gt.unstable_cancelCallback,TI=gt.unstable_shouldYield,SI=gt.unstable_requestPaint,pn=gt.unstable_now,NI=gt.unstable_getCurrentPriorityLevel,mT=gt.unstable_ImmediatePriority,pT=gt.unstable_UserBlockingPriority,ih=gt.unstable_NormalPriority,AI=gt.unstable_LowPriority,gT=gt.unstable_IdlePriority,CI=gt.log,RI=gt.unstable_setDisableYieldValue,tu=null,gn=null;function Da(t){if(typeof CI=="function"&&RI(t),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(tu,t)}catch{}}var yn=Math.clz32?Math.clz32:OI,DI=Math.log,II=Math.LN2;function OI(t){return t>>>=0,t===0?32:31-(DI(t)/II|0)|0}var Qu=256,Xu=262144,Ju=4194304;function ki(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function uf(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~i,r!==0?a=ki(r):(s&=o,s!==0?a=ki(s):n||(n=o&~t,n!==0&&(a=ki(n))))):(o=r&~i,o!==0?a=ki(o):s!==0?a=ki(s):n||(n=r&~t,n!==0&&(a=ki(n)))),a===0?0:e!==0&&e!==a&&!(e&i)&&(i=a&-a,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:a}function nu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function jI(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yT(){var t=Ju;return Ju<<=1,!(Ju&62914560)&&(Ju=4194304),t}function Ym(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ru(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function kI(t,e,n,r,a,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,d=t.hiddenUpdates;for(n=s&~n;0<n;){var h=31-yn(n),f=1<<h;o[h]=0,u[h]=-1;var p=d[h];if(p!==null)for(d[h]=null,h=0;h<p.length;h++){var y=p[h];y!==null&&(y.lane&=-536870913)}n&=~f}r!==0&&vT(t,r,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function vT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-yn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function _T(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}function bT(t,e){var n=e&-e;return n=n&42?1:s0(n),n&(t.suspendedLanes|e)?0:n}function s0(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function o0(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function xT(){var t=we.p;return t!==0?t:(t=window.event,t===void 0?32:q2(t.type))}function H1(t,e){var n=we.p;try{return we.p=t,e()}finally{we.p=n}}var ci=Math.random().toString(36).slice(2),At="__reactFiber$"+ci,nn="__reactProps$"+ci,Fo="__reactContainer$"+ci,dg="__reactEvents$"+ci,MI="__reactListeners$"+ci,PI="__reactHandles$"+ci,G1="__reactResources$"+ci,au="__reactMarker$"+ci;function l0(t){delete t[At],delete t[nn],delete t[dg],delete t[MI],delete t[PI]}function Gs(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fo]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zb(t);t!==null;){if(n=t[At])return n;t=Zb(t)}return e}t=n,n=t.parentNode}return null}function $o(t){if(t=t[At]||t[Fo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Xl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function so(t){var e=t[G1];return e||(e=t[G1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xt(t){t[au]=!0}var wT=new Set,ET={};function ss(t,e){bo(t,e),bo(t+"Capture",e)}function bo(t,e){for(ET[t]=e,t=0;t<e.length;t++)wT.add(e[t])}var LI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Y1={},W1={};function VI(t){return ug.call(W1,t)?!0:ug.call(Y1,t)?!1:LI.test(t)?W1[t]=!0:(Y1[t]=!0,!1)}function Ad(t,e,n){if(VI(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Zu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Cr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function TT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UI(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hg(t){if(!t._valueTracker){var e=TT(t)?"checked":"value";t._valueTracker=UI(t,e,""+t[e])}}function ST(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=TT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var BI=/[\n"\\]/g;function Cn(t){return t.replace(BI,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function fg(t,e,n,r,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Sn(e)):t.value!==""+Sn(e)&&(t.value=""+Sn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?mg(t,s,Sn(e)):n!=null?mg(t,s,Sn(n)):r!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Sn(o):t.removeAttribute("name")}function NT(t,e,n,r,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){hg(t);return}n=n!=null?""+Sn(n):"",e=e!=null?""+Sn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),hg(t)}function mg(t,e,n){e==="number"&&sh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function oo(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function AT(t,e,n){if(e!=null&&(e=""+Sn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Sn(n):""}function CT(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(z(92));if(Ql(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Sn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),hg(t)}function xo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function K1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||zI.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function RT(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var a in e)r=e[a],e.hasOwnProperty(a)&&n[a]!==r&&K1(t,a,r)}else for(var i in e)e.hasOwnProperty(i)&&K1(t,i,e[i])}function c0(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$I=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cd(t){return $I.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Pr(){}var pg=null;function u0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ys=null,lo=null;function Q1(t){var e=$o(t);if(e&&(t=e.stateNode)){var n=t[nn]||null;e:switch(t=e.stateNode,e.type){case"input":if(fg(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=r[nn]||null;if(!a)throw Error(z(90));fg(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&ST(r)}break e;case"textarea":AT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&oo(t,!!n.multiple,e,!1)}}}var Wm=!1;function DT(t,e,n){if(Wm)return t(e,n);Wm=!0;try{var r=t(e);return r}finally{if(Wm=!1,(Ys!==null||lo!==null)&&(wf(),Ys&&(e=Ys,t=lo,lo=Ys=null,Q1(e),t)))for(e=0;e<t.length;e++)Q1(t[e])}}function Rc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[nn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gg=!1;if(Yr)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){gg=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{gg=!1}var Ia=null,d0=null,Rd=null;function IT(){if(Rd)return Rd;var t,e=d0,n=e.length,r,a="value"in Ia?Ia.value:Ia.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return Rd=a.slice(t,1<r?1-r:void 0)}function Dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ed(){return!0}function X1(){return!1}function rn(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ed:X1,this.isPropagationStopped=X1,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ed)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ed)},persist:function(){},isPersistent:ed}),e}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},df=rn(os),iu=Be({},os,{view:0,detail:0}),qI=rn(iu),Km,Qm,Ul,hf=Be({},iu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ul&&(Ul&&t.type==="mousemove"?(Km=t.screenX-Ul.screenX,Qm=t.screenY-Ul.screenY):Qm=Km=0,Ul=t),Km)},movementY:function(t){return"movementY"in t?t.movementY:Qm}}),J1=rn(hf),HI=Be({},hf,{dataTransfer:0}),GI=rn(HI),YI=Be({},iu,{relatedTarget:0}),Xm=rn(YI),WI=Be({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),KI=rn(WI),QI=Be({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XI=rn(QI),JI=Be({},os,{data:0}),Z1=rn(JI),ZI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tO[t])?!!e[t]:!1}function h0(){return nO}var rO=Be({},iu,{key:function(t){if(t.key){var e=ZI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h0,charCode:function(t){return t.type==="keypress"?Dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aO=rn(rO),iO=Be({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eb=rn(iO),sO=Be({},iu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h0}),oO=rn(sO),lO=Be({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),cO=rn(lO),uO=Be({},hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dO=rn(uO),hO=Be({},os,{newState:0,oldState:0}),fO=rn(hO),mO=[9,13,27,32],f0=Yr&&"CompositionEvent"in window,cc=null;Yr&&"documentMode"in document&&(cc=document.documentMode);var pO=Yr&&"TextEvent"in window&&!cc,OT=Yr&&(!f0||cc&&8<cc&&11>=cc),tb=" ",nb=!1;function jT(t,e){switch(t){case"keyup":return mO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ws=!1;function gO(t,e){switch(t){case"compositionend":return kT(e);case"keypress":return e.which!==32?null:(nb=!0,tb);case"textInput":return t=e.data,t===tb&&nb?null:t;default:return null}}function yO(t,e){if(Ws)return t==="compositionend"||!f0&&jT(t,e)?(t=IT(),Rd=d0=Ia=null,Ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return OT&&e.locale!=="ko"?null:e.data;default:return null}}var vO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vO[t.type]:e==="textarea"}function MT(t,e,n,r){Ys?lo?lo.push(r):lo=[r]:Ys=r,e=Th(e,"onChange"),0<e.length&&(n=new df("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var uc=null,Dc=null;function _O(t){D2(t,0)}function ff(t){var e=Xl(t);if(ST(e))return t}function ab(t,e){if(t==="change")return e}var PT=!1;if(Yr){var Jm;if(Yr){var Zm="oninput"in document;if(!Zm){var ib=document.createElement("div");ib.setAttribute("oninput","return;"),Zm=typeof ib.oninput=="function"}Jm=Zm}else Jm=!1;PT=Jm&&(!document.documentMode||9<document.documentMode)}function sb(){uc&&(uc.detachEvent("onpropertychange",LT),Dc=uc=null)}function LT(t){if(t.propertyName==="value"&&ff(Dc)){var e=[];MT(e,Dc,t,u0(t)),DT(_O,e)}}function bO(t,e,n){t==="focusin"?(sb(),uc=e,Dc=n,uc.attachEvent("onpropertychange",LT)):t==="focusout"&&sb()}function xO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ff(Dc)}function wO(t,e){if(t==="click")return ff(e)}function EO(t,e){if(t==="input"||t==="change")return ff(e)}function TO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:TO;function Ic(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!ug.call(e,a)||!bn(t[a],e[a]))return!1}return!0}function ob(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lb(t,e){var n=ob(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ob(n)}}function VT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=sh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sh(t.document)}return e}function m0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var SO=Yr&&"documentMode"in document&&11>=document.documentMode,Ks=null,yg=null,dc=null,vg=!1;function cb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vg||Ks==null||Ks!==sh(r)||(r=Ks,"selectionStart"in r&&m0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Ic(dc,r)||(dc=r,r=Th(yg,"onSelect"),0<r.length&&(e=new df("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ks)))}function Oi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qs={animationend:Oi("Animation","AnimationEnd"),animationiteration:Oi("Animation","AnimationIteration"),animationstart:Oi("Animation","AnimationStart"),transitionrun:Oi("Transition","TransitionRun"),transitionstart:Oi("Transition","TransitionStart"),transitioncancel:Oi("Transition","TransitionCancel"),transitionend:Oi("Transition","TransitionEnd")},ep={},BT={};Yr&&(BT=document.createElement("div").style,"AnimationEvent"in window||(delete Qs.animationend.animation,delete Qs.animationiteration.animation,delete Qs.animationstart.animation),"TransitionEvent"in window||delete Qs.transitionend.transition);function ls(t){if(ep[t])return ep[t];if(!Qs[t])return t;var e=Qs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in BT)return ep[t]=e[n];return t}var zT=ls("animationend"),FT=ls("animationiteration"),$T=ls("animationstart"),NO=ls("transitionrun"),AO=ls("transitionstart"),CO=ls("transitioncancel"),qT=ls("transitionend"),HT=new Map,_g="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");_g.push("scrollEnd");function Jn(t,e){HT.set(t,e),ss(e,[t])}var oh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Tn=[],Xs=0,p0=0;function mf(){for(var t=Xs,e=p0=Xs=0;e<t;){var n=Tn[e];Tn[e++]=null;var r=Tn[e];Tn[e++]=null;var a=Tn[e];Tn[e++]=null;var i=Tn[e];if(Tn[e++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}i!==0&&GT(n,a,i)}}function pf(t,e,n,r){Tn[Xs++]=t,Tn[Xs++]=e,Tn[Xs++]=n,Tn[Xs++]=r,p0|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function g0(t,e,n,r){return pf(t,e,n,r),lh(t)}function cs(t,e){return pf(t,null,null,e),lh(t)}function GT(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-yn(n),t=i.hiddenUpdates,r=t[a],r===null?t[a]=[e]:r.push(e),e.lane=n|536870912),i):null}function lh(t){if(50<bc)throw bc=0,Bg=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Js={};function RO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,e,n,r){return new RO(t,e,n,r)}function y0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zr(t,e){var n=t.alternate;return n===null?(n=dn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function YT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Id(t,e,n,r,a,i){var s=0;if(r=t,typeof t=="function")y0(t)&&(s=1);else if(typeof t=="string")s=kj(t,n,hr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case sg:return t=dn(31,n,e,a),t.elementType=sg,t.lanes=i,t;case qs:return zi(n.children,a,i,e);case hT:s=8,a|=24;break;case rg:return t=dn(12,n,e,a|2),t.elementType=rg,t.lanes=i,t;case ag:return t=dn(13,n,e,a),t.elementType=ag,t.lanes=i,t;case ig:return t=dn(19,n,e,a),t.elementType=ig,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mr:s=10;break e;case fT:s=9;break e;case r0:s=11;break e;case a0:s=14;break e;case ba:s=16,r=null;break e}s=29,n=Error(z(130,t===null?"null":typeof t,"")),r=null}return e=dn(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function zi(t,e,n,r){return t=dn(7,t,r,e),t.lanes=n,t}function tp(t,e,n){return t=dn(6,t,null,e),t.lanes=n,t}function WT(t){var e=dn(18,null,null,0);return e.stateNode=t,e}function np(t,e,n){return e=dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ub=new WeakMap;function Rn(t,e){if(typeof t=="object"&&t!==null){var n=ub.get(t);return n!==void 0?n:(e={value:t,source:e,stack:q1(e)},ub.set(t,e),e)}return{value:t,source:e,stack:q1(e)}}var Zs=[],eo=0,ch=null,Oc=0,Nn=[],An=0,Ja=null,lr=1,cr="";function jr(t,e){Zs[eo++]=Oc,Zs[eo++]=ch,ch=t,Oc=e}function KT(t,e,n){Nn[An++]=lr,Nn[An++]=cr,Nn[An++]=Ja,Ja=t;var r=lr;t=cr;var a=32-yn(r)-1;r&=~(1<<a),n+=1;var i=32-yn(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,lr=1<<32-yn(e)+a|n<<a|r,cr=i+t}else lr=1<<i|n<<a|r,cr=t}function v0(t){t.return!==null&&(jr(t,1),KT(t,1,0))}function _0(t){for(;t===ch;)ch=Zs[--eo],Zs[eo]=null,Oc=Zs[--eo],Zs[eo]=null;for(;t===Ja;)Ja=Nn[--An],Nn[An]=null,cr=Nn[--An],Nn[An]=null,lr=Nn[--An],Nn[An]=null}function QT(t,e){Nn[An++]=lr,Nn[An++]=cr,Nn[An++]=Ja,lr=e.id,cr=e.overflow,Ja=t}var Ct=null,Ve=null,ve=!1,Va=null,Dn=!1,bg=Error(z(519));function Za(t){var e=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jc(Rn(e,t)),bg}function db(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[At]=t,e[nn]=r,n){case"dialog":he("cancel",e),he("close",e);break;case"iframe":case"object":case"embed":he("load",e);break;case"video":case"audio":for(n=0;n<Lc.length;n++)he(Lc[n],e);break;case"source":he("error",e);break;case"img":case"image":case"link":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"input":he("invalid",e),NT(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",e);break;case"textarea":he("invalid",e),CT(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||O2(e.textContent,n)?(r.popover!=null&&(he("beforetoggle",e),he("toggle",e)),r.onScroll!=null&&he("scroll",e),r.onScrollEnd!=null&&he("scrollend",e),r.onClick!=null&&(e.onclick=Pr),e=!0):e=!1,e||Za(t,!0)}function hb(t){for(Ct=t.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:Dn=!1;return;case 27:case 3:Dn=!0;return;default:Ct=Ct.return}}function Is(t){if(t!==Ct)return!1;if(!ve)return hb(t),ve=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Hg(t.type,t.memoizedProps)),n=!n),n&&Ve&&Za(t),hb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ve=Jb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ve=Jb(t)}else e===27?(e=Ve,ui(t.type)?(t=Kg,Kg=null,Ve=t):Ve=e):Ve=Ct?Mn(t.stateNode.nextSibling):null;return!0}function Ki(){Ve=Ct=null,ve=!1}function rp(){var t=Va;return t!==null&&(Qt===null?Qt=t:Qt.push.apply(Qt,t),Va=null),t}function jc(t){Va===null?Va=[t]:Va.push(t)}var xg=wr(null),us=null,Lr=null;function wa(t,e,n){ke(xg,e._currentValue),e._currentValue=n}function Fr(t){t._currentValue=xg.current,wt(xg)}function wg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eg(t,e,n,r){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=a;for(var u=0;u<e.length;u++)if(o.context===e[u]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),wg(i.return,n,t),r||(s=null);break e}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(z(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),wg(s,n,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function qo(t,e,n,r){t=null;for(var a=e,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=a.type;bn(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===nh.current){if(s=a.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Uc):t=[Uc])}a=a.return}t!==null&&Eg(e,t,n,r),e.flags|=262144}function uh(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qi(t){us=t,Lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function It(t){return XT(us,t)}function td(t,e){return us===null&&Qi(t),XT(t,e)}function XT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Lr===null){if(t===null)throw Error(z(308));Lr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Lr=Lr.next=e;return n}var DO=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},IO=gt.unstable_scheduleCallback,OO=gt.unstable_NormalPriority,lt={$$typeof:Mr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function b0(){return{controller:new DO,data:new Map,refCount:0}}function su(t){t.refCount--,t.refCount===0&&IO(OO,function(){t.controller.abort()})}var hc=null,Tg=0,wo=0,co=null;function jO(t,e){if(hc===null){var n=hc=[];Tg=0,wo=H0(),co={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Tg++,e.then(fb,fb),e}function fb(){if(--Tg===0&&hc!==null){co!==null&&(co.status="fulfilled");var t=hc;hc=null,wo=0,co=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function kO(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var mb=ne.S;ne.S=function(t,e){d2=pn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&jO(t,e),mb!==null&&mb(t,e)};var Fi=wr(null);function x0(){var t=Fi.current;return t!==null?t:Ie.pooledCache}function Od(t,e){e===null?ke(Fi,Fi.current):ke(Fi,e.pool)}function JT(){var t=x0();return t===null?null:{parent:lt._currentValue,pool:t}}var Ho=Error(z(460)),w0=Error(z(474)),gf=Error(z(542)),dh={then:function(){}};function pb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ZT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Pr,Pr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yb(t),t;default:if(typeof e.status=="string")e.then(Pr,Pr);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=r}},function(r){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yb(t),t}throw $i=e,Ho}}function Mi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($i=n,Ho):n}}var $i=null;function gb(){if($i===null)throw Error(z(459));var t=$i;return $i=null,t}function yb(t){if(t===Ho||t===gf)throw Error(z(483))}var uo=null,kc=0;function nd(t){var e=kc;return kc+=1,uo===null&&(uo=[]),ZT(uo,t,e)}function Bl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function rd(t,e){throw e.$$typeof===bI?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function eS(t){function e(_,x){if(t){var E=_.deletions;E===null?(_.deletions=[x],_.flags|=16):E.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_){for(var x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function a(_,x){return _=zr(_,x),_.index=0,_.sibling=null,_}function i(_,x,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<x?(_.flags|=67108866,x):E):(_.flags|=67108866,x)):(_.flags|=1048576,x)}function s(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function o(_,x,E,I){return x===null||x.tag!==6?(x=tp(E,_.mode,I),x.return=_,x):(x=a(x,E),x.return=_,x)}function u(_,x,E,I){var V=E.type;return V===qs?h(_,x,E.props.children,I,E.key):x!==null&&(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ba&&Mi(V)===x.type)?(x=a(x,E.props),Bl(x,E),x.return=_,x):(x=Id(E.type,E.key,E.props,null,_.mode,I),Bl(x,E),x.return=_,x)}function d(_,x,E,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=np(E,_.mode,I),x.return=_,x):(x=a(x,E.children||[]),x.return=_,x)}function h(_,x,E,I,V){return x===null||x.tag!==7?(x=zi(E,_.mode,I,V),x.return=_,x):(x=a(x,E),x.return=_,x)}function f(_,x,E){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=tp(""+x,_.mode,E),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ku:return E=Id(x.type,x.key,x.props,null,_.mode,E),Bl(E,x),E.return=_,E;case Kl:return x=np(x,_.mode,E),x.return=_,x;case ba:return x=Mi(x),f(_,x,E)}if(Ql(x)||Ll(x))return x=zi(x,_.mode,E,null),x.return=_,x;if(typeof x.then=="function")return f(_,nd(x),E);if(x.$$typeof===Mr)return f(_,td(_,x),E);rd(_,x)}return null}function p(_,x,E,I){var V=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return V!==null?null:o(_,x,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ku:return E.key===V?u(_,x,E,I):null;case Kl:return E.key===V?d(_,x,E,I):null;case ba:return E=Mi(E),p(_,x,E,I)}if(Ql(E)||Ll(E))return V!==null?null:h(_,x,E,I,null);if(typeof E.then=="function")return p(_,x,nd(E),I);if(E.$$typeof===Mr)return p(_,x,td(_,E),I);rd(_,E)}return null}function y(_,x,E,I,V){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return _=_.get(E)||null,o(x,_,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ku:return _=_.get(I.key===null?E:I.key)||null,u(x,_,I,V);case Kl:return _=_.get(I.key===null?E:I.key)||null,d(x,_,I,V);case ba:return I=Mi(I),y(_,x,E,I,V)}if(Ql(I)||Ll(I))return _=_.get(E)||null,h(x,_,I,V,null);if(typeof I.then=="function")return y(_,x,E,nd(I),V);if(I.$$typeof===Mr)return y(_,x,E,td(x,I),V);rd(x,I)}return null}function w(_,x,E,I){for(var V=null,$=null,S=x,v=x=0,b=null;S!==null&&v<E.length;v++){S.index>v?(b=S,S=null):b=S.sibling;var C=p(_,S,E[v],I);if(C===null){S===null&&(S=b);break}t&&S&&C.alternate===null&&e(_,S),x=i(C,x,v),$===null?V=C:$.sibling=C,$=C,S=b}if(v===E.length)return n(_,S),ve&&jr(_,v),V;if(S===null){for(;v<E.length;v++)S=f(_,E[v],I),S!==null&&(x=i(S,x,v),$===null?V=S:$.sibling=S,$=S);return ve&&jr(_,v),V}for(S=r(S);v<E.length;v++)b=y(S,_,v,E[v],I),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?v:b.key),x=i(b,x,v),$===null?V=b:$.sibling=b,$=b);return t&&S.forEach(function(O){return e(_,O)}),ve&&jr(_,v),V}function N(_,x,E,I){if(E==null)throw Error(z(151));for(var V=null,$=null,S=x,v=x=0,b=null,C=E.next();S!==null&&!C.done;v++,C=E.next()){S.index>v?(b=S,S=null):b=S.sibling;var O=p(_,S,C.value,I);if(O===null){S===null&&(S=b);break}t&&S&&O.alternate===null&&e(_,S),x=i(O,x,v),$===null?V=O:$.sibling=O,$=O,S=b}if(C.done)return n(_,S),ve&&jr(_,v),V;if(S===null){for(;!C.done;v++,C=E.next())C=f(_,C.value,I),C!==null&&(x=i(C,x,v),$===null?V=C:$.sibling=C,$=C);return ve&&jr(_,v),V}for(S=r(S);!C.done;v++,C=E.next())C=y(S,_,v,C.value,I),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?v:C.key),x=i(C,x,v),$===null?V=C:$.sibling=C,$=C);return t&&S.forEach(function(j){return e(_,j)}),ve&&jr(_,v),V}function A(_,x,E,I){if(typeof E=="object"&&E!==null&&E.type===qs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ku:e:{for(var V=E.key;x!==null;){if(x.key===V){if(V=E.type,V===qs){if(x.tag===7){n(_,x.sibling),I=a(x,E.props.children),I.return=_,_=I;break e}}else if(x.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ba&&Mi(V)===x.type){n(_,x.sibling),I=a(x,E.props),Bl(I,E),I.return=_,_=I;break e}n(_,x);break}else e(_,x);x=x.sibling}E.type===qs?(I=zi(E.props.children,_.mode,I,E.key),I.return=_,_=I):(I=Id(E.type,E.key,E.props,null,_.mode,I),Bl(I,E),I.return=_,_=I)}return s(_);case Kl:e:{for(V=E.key;x!==null;){if(x.key===V)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(_,x.sibling),I=a(x,E.children||[]),I.return=_,_=I;break e}else{n(_,x);break}else e(_,x);x=x.sibling}I=np(E,_.mode,I),I.return=_,_=I}return s(_);case ba:return E=Mi(E),A(_,x,E,I)}if(Ql(E))return w(_,x,E,I);if(Ll(E)){if(V=Ll(E),typeof V!="function")throw Error(z(150));return E=V.call(E),N(_,x,E,I)}if(typeof E.then=="function")return A(_,x,nd(E),I);if(E.$$typeof===Mr)return A(_,x,td(_,E),I);rd(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,x!==null&&x.tag===6?(n(_,x.sibling),I=a(x,E),I.return=_,_=I):(n(_,x),I=tp(E,_.mode,I),I.return=_,_=I),s(_)):n(_,x)}return function(_,x,E,I){try{kc=0;var V=A(_,x,E,I);return uo=null,V}catch(S){if(S===Ho||S===gf)throw S;var $=dn(29,S,null,_.mode);return $.lanes=I,$.return=_,$}finally{}}}var Xi=eS(!0),tS=eS(!1),xa=!1;function E0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ua(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ba(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,e=lh(t),GT(t,null,n),e}return pf(t,r,e,n),lh(t)}function fc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_T(t,n)}}function ap(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ng=!1;function mc(){if(Ng){var t=co;if(t!==null)throw t}}function pc(t,e,n,r){Ng=!1;var a=t.updateQueue;xa=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,d=u.next;u.next=null,s===null?i=d:s.next=d,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=u))}if(i!==null){var f=a.baseState;s=0,h=d=u=null,o=i;do{var p=o.lane&-536870913,y=p!==o.lane;if(y?(ye&p)===p:(r&p)===p){p!==0&&p===wo&&(Ng=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var w=t,N=o;p=e;var A=n;switch(N.tag){case 1:if(w=N.payload,typeof w=="function"){f=w.call(A,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,p=typeof w=="function"?w.call(A,f,p):w,p==null)break e;f=Be({},f,p);break e;case 2:xa=!0}}p=o.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=a.callbacks,y===null?a.callbacks=[p]:y.push(p))}else y={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=y,u=f):h=h.next=y,s|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;y=o,o=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);h===null&&(u=f),a.baseState=u,a.firstBaseUpdate=d,a.lastBaseUpdate=h,i===null&&(a.shared.lanes=0),ti|=s,t.lanes=s,t.memoizedState=f}}function nS(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function rS(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)nS(n[t],e)}var Eo=wr(null),hh=wr(0);function vb(t,e){t=Xr,ke(hh,t),ke(Eo,e),Xr=t|e.baseLanes}function Ag(){ke(hh,Xr),ke(Eo,Eo.current)}function T0(){Xr=hh.current,wt(Eo),wt(hh)}var xn=wr(null),kn=null;function Ea(t){var e=t.alternate;ke(tt,tt.current&1),ke(xn,t),kn===null&&(e===null||Eo.current!==null||e.memoizedState!==null)&&(kn=t)}function Cg(t){ke(tt,tt.current),ke(xn,t),kn===null&&(kn=t)}function aS(t){t.tag===22?(ke(tt,tt.current),ke(xn,t),kn===null&&(kn=t)):Ta()}function Ta(){ke(tt,tt.current),ke(xn,xn.current)}function un(t){wt(xn),kn===t&&(kn=null),wt(tt)}var tt=wr(0);function fh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Yg(n)||Wg(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wr=0,oe=null,Re=null,st=null,mh=!1,ho=!1,Ji=!1,ph=0,Mc=0,fo=null,MO=0;function Je(){throw Error(z(321))}function S0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function N0(t,e,n,r,a,i){return Wr=i,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ne.H=t===null||t.memoizedState===null?MS:L0,Ji=!1,i=n(r,a),Ji=!1,ho&&(i=sS(e,n,r,a)),iS(t),i}function iS(t){ne.H=Pc;var e=Re!==null&&Re.next!==null;if(Wr=0,st=Re=oe=null,mh=!1,Mc=0,fo=null,e)throw Error(z(300));t===null||ut||(t=t.dependencies,t!==null&&uh(t)&&(ut=!0))}function sS(t,e,n,r){oe=t;var a=0;do{if(ho&&(fo=null),Mc=0,ho=!1,25<=a)throw Error(z(301));if(a+=1,st=Re=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ne.H=PS,i=e(n,r)}while(ho);return i}function PO(){var t=ne.H,e=t.useState()[0];return e=typeof e.then=="function"?ou(e):e,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(oe.flags|=1024),e}function A0(){var t=ph!==0;return ph=0,t}function C0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function R0(t){if(mh){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}mh=!1}Wr=0,st=Re=oe=null,ho=!1,Mc=ph=0,fo=null}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?oe.memoizedState=st=t:st=st.next=t,st}function rt(){if(Re===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=st===null?oe.memoizedState:st.next;if(e!==null)st=e,Re=t;else{if(t===null)throw oe.alternate===null?Error(z(467)):Error(z(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},st===null?oe.memoizedState=st=t:st=st.next=t}return st}function yf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ou(t){var e=Mc;return Mc+=1,fo===null&&(fo=[]),t=ZT(fo,t,e),e=oe,(st===null?e.memoizedState:st.next)===null&&(e=e.alternate,ne.H=e===null||e.memoizedState===null?MS:L0),t}function vf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ou(t);if(t.$$typeof===Mr)return It(t)}throw Error(z(438,String(t)))}function D0(t){var e=null,n=oe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=oe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=yf(),oe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=xI;return e.index++,n}function Kr(t,e){return typeof e=="function"?e(t):e}function jd(t){var e=rt();return I0(e,Re,t)}function I0(t,e,n){var r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var a=t.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,r.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,u=null,d=e,h=!1;do{var f=d.lane&-536870913;if(f!==d.lane?(ye&f)===f:(Wr&f)===f){var p=d.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),f===wo&&(h=!0);else if((Wr&p)===p){d=d.next,p===wo&&(h=!0);continue}else f={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(o=u=f,s=i):u=u.next=f,oe.lanes|=p,ti|=p;f=d.action,Ji&&n(i,f),i=d.hasEagerState?d.eagerState:n(i,f)}else p={lane:f,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},u===null?(o=u=p,s=i):u=u.next=p,oe.lanes|=f,ti|=f;d=d.next}while(d!==null&&d!==e);if(u===null?s=i:u.next=o,!bn(i,t.memoizedState)&&(ut=!0,h&&(n=co,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=u,r.lastRenderedState=i}return a===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function ip(t){var e=rt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);bn(i,e.memoizedState)||(ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function oS(t,e,n){var r=oe,a=rt(),i=ve;if(i){if(n===void 0)throw Error(z(407));n=n()}else n=e();var s=!bn((Re||a).memoizedState,n);if(s&&(a.memoizedState=n,ut=!0),a=a.queue,O0(uS.bind(null,r,a,t),[t]),a.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,To(9,{destroy:void 0},cS.bind(null,r,a,n,e),null),Ie===null)throw Error(z(349));i||Wr&127||lS(r,e,n)}return n}function lS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=oe.updateQueue,e===null?(e=yf(),oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function cS(t,e,n,r){e.value=n,e.getSnapshot=r,dS(e)&&hS(t)}function uS(t,e,n){return n(function(){dS(e)&&hS(t)})}function dS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function hS(t){var e=cs(t,2);e!==null&&en(e,t,2)}function Rg(t){var e=Ft();if(typeof t=="function"){var n=t;if(t=n(),Ji){Da(!0);try{n()}finally{Da(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},e}function fS(t,e,n,r){return t.baseState=n,I0(t,Re,typeof r=="function"?r:Kr)}function LO(t,e,n,r,a){if(bf(t))throw Error(z(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};ne.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,mS(e,i)):(i.next=n.next,e.pending=n.next=i)}}function mS(t,e){var n=e.action,r=e.payload,a=t.state;if(e.isTransition){var i=ne.T,s={};ne.T=s;try{var o=n(a,r),u=ne.S;u!==null&&u(s,o),_b(t,e,o)}catch(d){Dg(t,e,d)}finally{i!==null&&s.types!==null&&(i.types=s.types),ne.T=i}}else try{i=n(a,r),_b(t,e,i)}catch(d){Dg(t,e,d)}}function _b(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){bb(t,e,r)},function(r){return Dg(t,e,r)}):bb(t,e,n)}function bb(t,e,n){e.status="fulfilled",e.value=n,pS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,mS(t,n)))}function Dg(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,pS(e),e=e.next;while(e!==r)}t.action=null}function pS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function gS(t,e){return e}function xb(t,e){if(ve){var n=Ie.formState;if(n!==null){e:{var r=oe;if(ve){if(Ve){t:{for(var a=Ve,i=Dn;a.nodeType!==8;){if(!i){a=null;break t}if(a=Mn(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ve=Mn(a.nextSibling),r=a.data==="F!";break e}}Za(r)}r=!1}r&&(e=n[0])}}return n=Ft(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gS,lastRenderedState:e},n.queue=r,n=OS.bind(null,oe,r),r.dispatch=n,r=Rg(!1),i=P0.bind(null,oe,!1,r.queue),r=Ft(),a={state:e,dispatch:null,action:t,pending:null},r.queue=a,n=LO.bind(null,oe,a,i,n),a.dispatch=n,r.memoizedState=t,[e,n,!1]}function wb(t){var e=rt();return yS(e,Re,t)}function yS(t,e,n){if(e=I0(t,e,gS)[0],t=jd(Kr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ou(e)}catch(s){throw s===Ho?gf:s}else r=e;e=rt();var a=e.queue,i=a.dispatch;return n!==e.memoizedState&&(oe.flags|=2048,To(9,{destroy:void 0},VO.bind(null,a,n),null)),[r,i,t]}function VO(t,e){t.action=e}function Eb(t){var e=rt(),n=Re;if(n!==null)return yS(e,n,t);rt(),e=e.memoizedState,n=rt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function To(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=oe.updateQueue,e===null&&(e=yf(),oe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function vS(){return rt().memoizedState}function kd(t,e,n,r){var a=Ft();oe.flags|=t,a.memoizedState=To(1|e,{destroy:void 0},n,r===void 0?null:r)}function _f(t,e,n,r){var a=rt();r=r===void 0?null:r;var i=a.memoizedState.inst;Re!==null&&r!==null&&S0(r,Re.memoizedState.deps)?a.memoizedState=To(e,i,n,r):(oe.flags|=t,a.memoizedState=To(1|e,i,n,r))}function Tb(t,e){kd(8390656,8,t,e)}function O0(t,e){_f(2048,8,t,e)}function UO(t){oe.flags|=4;var e=oe.updateQueue;if(e===null)e=yf(),oe.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function _S(t){var e=rt().memoizedState;return UO({ref:e,nextImpl:t}),function(){if(xe&2)throw Error(z(440));return e.impl.apply(void 0,arguments)}}function bS(t,e){return _f(4,2,t,e)}function xS(t,e){return _f(4,4,t,e)}function wS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ES(t,e,n){n=n!=null?n.concat([t]):null,_f(4,4,wS.bind(null,e,t),n)}function j0(){}function TS(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&S0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function SS(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&S0(e,r[1]))return r[0];if(r=t(),Ji){Da(!0);try{t()}finally{Da(!1)}}return n.memoizedState=[r,e],r}function k0(t,e,n){return n===void 0||Wr&1073741824&&!(ye&261930)?t.memoizedState=e:(t.memoizedState=n,t=f2(),oe.lanes|=t,ti|=t,n)}function NS(t,e,n,r){return bn(n,e)?n:Eo.current!==null?(t=k0(t,n,r),bn(t,e)||(ut=!0),t):!(Wr&42)||Wr&1073741824&&!(ye&261930)?(ut=!0,t.memoizedState=n):(t=f2(),oe.lanes|=t,ti|=t,e)}function AS(t,e,n,r,a){var i=we.p;we.p=i!==0&&8>i?i:8;var s=ne.T,o={};ne.T=o,P0(t,!1,e,n);try{var u=a(),d=ne.S;if(d!==null&&d(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=kO(u,r);gc(t,e,h,vn(t))}else gc(t,e,r,vn(t))}catch(f){gc(t,e,{then:function(){},status:"rejected",reason:f},vn())}finally{we.p=i,s!==null&&o.types!==null&&(s.types=o.types),ne.T=s}}function BO(){}function Ig(t,e,n,r){if(t.tag!==5)throw Error(z(476));var a=CS(t).queue;AS(t,a,e,Bi,n===null?BO:function(){return RS(t),n(r)})}function CS(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Bi,baseState:Bi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:Bi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function RS(t){var e=CS(t);e.next===null&&(e=t.alternate.memoizedState),gc(t,e.next.queue,{},vn())}function M0(){return It(Uc)}function DS(){return rt().memoizedState}function IS(){return rt().memoizedState}function zO(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=vn();t=Ua(n);var r=Ba(e,t,n);r!==null&&(en(r,e,n),fc(r,e,n)),e={cache:b0()},t.payload=e;return}e=e.return}}function FO(t,e,n){var r=vn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},bf(t)?jS(e,n):(n=g0(t,e,n,r),n!==null&&(en(n,t,r),kS(n,e,r)))}function OS(t,e,n){var r=vn();gc(t,e,n,r)}function gc(t,e,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(bf(t))jS(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,bn(o,s))return pf(t,e,a,0),Ie===null&&mf(),!1}catch{}finally{}if(n=g0(t,e,a,r),n!==null)return en(n,t,r),kS(n,e,r),!0}return!1}function P0(t,e,n,r){if(r={lane:2,revertLane:H0(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},bf(t)){if(e)throw Error(z(479))}else e=g0(t,n,r,2),e!==null&&en(e,t,2)}function bf(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function jS(t,e){ho=mh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function kS(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_T(t,n)}}var Pc={readContext:It,use:vf,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Pc.useEffectEvent=Je;var MS={readContext:It,use:vf,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:Tb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,kd(4194308,4,wS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return kd(4194308,4,t,e)},useInsertionEffect:function(t,e){kd(4,2,t,e)},useMemo:function(t,e){var n=Ft();e=e===void 0?null:e;var r=t();if(Ji){Da(!0);try{t()}finally{Da(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ft();if(n!==void 0){var a=n(e);if(Ji){Da(!0);try{n(e)}finally{Da(!1)}}}else a=e;return r.memoizedState=r.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},r.queue=t,t=t.dispatch=FO.bind(null,oe,t),[r.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:function(t){t=Rg(t);var e=t.queue,n=OS.bind(null,oe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:j0,useDeferredValue:function(t,e){var n=Ft();return k0(n,t,e)},useTransition:function(){var t=Rg(!1);return t=AS.bind(null,oe,t.queue,!0,!1),Ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=oe,a=Ft();if(ve){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ie===null)throw Error(z(349));ye&127||lS(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,Tb(uS.bind(null,r,i,t),[t]),r.flags|=2048,To(9,{destroy:void 0},cS.bind(null,r,i,n,e),null),n},useId:function(){var t=Ft(),e=Ie.identifierPrefix;if(ve){var n=cr,r=lr;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=ph++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=MO++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:M0,useFormState:xb,useActionState:xb,useOptimistic:function(t){var e=Ft();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=P0.bind(null,oe,!0,n),n.dispatch=e,[t,e]},useMemoCache:D0,useCacheRefresh:function(){return Ft().memoizedState=zO.bind(null,oe)},useEffectEvent:function(t){var e=Ft(),n={impl:t};return e.memoizedState=n,function(){if(xe&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},L0={readContext:It,use:vf,useCallback:TS,useContext:It,useEffect:O0,useImperativeHandle:ES,useInsertionEffect:bS,useLayoutEffect:xS,useMemo:SS,useReducer:jd,useRef:vS,useState:function(){return jd(Kr)},useDebugValue:j0,useDeferredValue:function(t,e){var n=rt();return NS(n,Re.memoizedState,t,e)},useTransition:function(){var t=jd(Kr)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:ou(t),e]},useSyncExternalStore:oS,useId:DS,useHostTransitionStatus:M0,useFormState:wb,useActionState:wb,useOptimistic:function(t,e){var n=rt();return fS(n,Re,t,e)},useMemoCache:D0,useCacheRefresh:IS};L0.useEffectEvent=_S;var PS={readContext:It,use:vf,useCallback:TS,useContext:It,useEffect:O0,useImperativeHandle:ES,useInsertionEffect:bS,useLayoutEffect:xS,useMemo:SS,useReducer:ip,useRef:vS,useState:function(){return ip(Kr)},useDebugValue:j0,useDeferredValue:function(t,e){var n=rt();return Re===null?k0(n,t,e):NS(n,Re.memoizedState,t,e)},useTransition:function(){var t=ip(Kr)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:ou(t),e]},useSyncExternalStore:oS,useId:DS,useHostTransitionStatus:M0,useFormState:Eb,useActionState:Eb,useOptimistic:function(t,e){var n=rt();return Re!==null?fS(n,Re,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:D0,useCacheRefresh:IS};PS.useEffectEvent=_S;function sp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Og={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),a=Ua(r);a.payload=e,n!=null&&(a.callback=n),e=Ba(t,a,r),e!==null&&(en(e,t,r),fc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),a=Ua(r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ba(t,a,r),e!==null&&(en(e,t,r),fc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=Ua(n);r.tag=2,e!=null&&(r.callback=e),e=Ba(t,r,n),e!==null&&(en(e,t,n),fc(e,t,n))}};function Sb(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ic(n,r)||!Ic(a,i):!0}function Nb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Og.enqueueReplaceState(e,e.state,null)}function Zi(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Be({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function LS(t){oh(t)}function VS(t){console.error(t)}function US(t){oh(t)}function gh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Ab(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function jg(t,e,n){return n=Ua(n),n.tag=3,n.payload={element:null},n.callback=function(){gh(t,e)},n}function BS(t){return t=Ua(t),t.tag=3,t}function zS(t,e,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;t.payload=function(){return a(i)},t.callback=function(){Ab(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Ab(e,n,r),typeof a!="function"&&(za===null?za=new Set([this]):za.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function $O(t,e,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&qo(e,n,a,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?xh():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===dh?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),yp(t,r,a)),!1;case 22:return n.flags|=65536,r===dh?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),yp(t,r,a)),!1}throw Error(z(435,n.tag))}return yp(t,r,a),xh(),!1}if(ve)return e=xn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,r!==bg&&(t=Error(z(422),{cause:r}),jc(Rn(t,n)))):(r!==bg&&(e=Error(z(423),{cause:r}),jc(Rn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,r=Rn(r,n),a=jg(t.stateNode,r,a),ap(t,a),Ze!==4&&(Ze=2)),!1;var i=Error(z(520),{cause:r});if(i=Rn(i,n),_c===null?_c=[i]:_c.push(i),Ze!==4&&(Ze=2),e===null)return!0;r=Rn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=jg(n.stateNode,r,t),ap(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(za===null||!za.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=BS(a),zS(a,t,n,r),ap(n,a),!1}n=n.return}while(n!==null);return!1}var V0=Error(z(461)),ut=!1;function St(t,e,n,r){e.child=t===null?tS(e,null,n,r):Xi(e,t.child,n,r)}function Cb(t,e,n,r,a){n=n.render;var i=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Qi(e),r=N0(t,e,n,s,i,a),o=A0(),t!==null&&!ut?(C0(t,e,a),Qr(t,e,a)):(ve&&o&&v0(e),e.flags|=1,St(t,e,r,a),e.child)}function Rb(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!y0(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,FS(t,e,i,r,a)):(t=Id(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!U0(t,a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ic,n(s,r)&&t.ref===e.ref)return Qr(t,e,a)}return e.flags|=1,t=zr(i,r),t.ref=e.ref,t.return=e,e.child=t}function FS(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(Ic(i,r)&&t.ref===e.ref)if(ut=!1,e.pendingProps=r=i,U0(t,a))t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,Qr(t,e,a)}return kg(t,e,n,r,a)}function $S(t,e,n,r){var a=r.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,e.child=null;return Db(t,e,i,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Od(e,i!==null?i.cachePool:null),i!==null?vb(e,i):Ag(),aS(e);else return r=e.lanes=536870912,Db(t,e,i!==null?i.baseLanes|n:n,n,r)}else i!==null?(Od(e,i.cachePool),vb(e,i),Ta(),e.memoizedState=null):(t!==null&&Od(e,null),Ag(),Ta());return St(t,e,a,n),e.child}function Jl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Db(t,e,n,r,a){var i=x0();return i=i===null?null:{parent:lt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Od(e,null),Ag(),aS(e),t!==null&&qo(t,e,r,!0),e.childLanes=a,null}function Md(t,e){return e=yh({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ib(t,e,n){return Xi(e,t.child,null,n),t=Md(e,e.pendingProps),t.flags|=2,un(e),e.memoizedState=null,t}function qO(t,e,n){var r=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ve){if(r.mode==="hidden")return t=Md(e,r),e.lanes=536870912,Jl(null,t);if(Cg(e),(t=Ve)?(t=M2(t,Dn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ja!==null?{id:lr,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},n=WT(t),n.return=e,e.child=n,Ct=e,Ve=null)):t=null,t===null)throw Za(e);return e.lanes=536870912,null}return Md(e,r)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(Cg(e),a)if(e.flags&256)e.flags&=-257,e=Ib(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(z(558));else if(ut||qo(t,e,n,!1),a=(n&t.childLanes)!==0,ut||a){if(r=Ie,r!==null&&(s=bT(r,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,cs(t,s),en(r,t,s),V0;xh(),e=Ib(t,e,n)}else t=i.treeContext,Ve=Mn(s.nextSibling),Ct=e,ve=!0,Va=null,Dn=!1,t!==null&&QT(e,t),e=Md(e,r),e.flags|=4096;return e}return t=zr(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Pd(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function kg(t,e,n,r,a){return Qi(e),n=N0(t,e,n,r,void 0,a),r=A0(),t!==null&&!ut?(C0(t,e,a),Qr(t,e,a)):(ve&&r&&v0(e),e.flags|=1,St(t,e,n,a),e.child)}function Ob(t,e,n,r,a,i){return Qi(e),e.updateQueue=null,n=sS(e,r,n,a),iS(t),r=A0(),t!==null&&!ut?(C0(t,e,i),Qr(t,e,i)):(ve&&r&&v0(e),e.flags|=1,St(t,e,n,i),e.child)}function jb(t,e,n,r,a){if(Qi(e),e.stateNode===null){var i=Js,s=n.contextType;typeof s=="object"&&s!==null&&(i=It(s)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Og,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},E0(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?It(s):Js,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(sp(e,n,s,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Og.enqueueReplaceState(i,i.state,null),pc(e,r,i,a),mc(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,u=Zi(n,o);i.props=u;var d=i.context,h=n.contextType;s=Js,typeof h=="object"&&h!==null&&(s=It(h));var f=n.getDerivedStateFromProps;h=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||d!==s)&&Nb(e,i,r,s),xa=!1;var p=e.memoizedState;i.state=p,pc(e,r,i,a),mc(),d=e.memoizedState,o||p!==d||xa?(typeof f=="function"&&(sp(e,n,f,r),d=e.memoizedState),(u=xa||Sb(e,n,u,r,p,d,s))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),i.props=r,i.state=d,i.context=s,r=u):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,Sg(t,e),s=e.memoizedProps,h=Zi(n,s),i.props=h,f=e.pendingProps,p=i.context,d=n.contextType,u=Js,typeof d=="object"&&d!==null&&(u=It(d)),o=n.getDerivedStateFromProps,(d=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||p!==u)&&Nb(e,i,r,u),xa=!1,p=e.memoizedState,i.state=p,pc(e,r,i,a),mc();var y=e.memoizedState;s!==f||p!==y||xa||t!==null&&t.dependencies!==null&&uh(t.dependencies)?(typeof o=="function"&&(sp(e,n,o,r),y=e.memoizedState),(h=xa||Sb(e,n,h,r,p,y,u)||t!==null&&t.dependencies!==null&&uh(t.dependencies))?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,y,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,y,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),i.props=r,i.state=y,i.context=u,r=h):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,Pd(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=Xi(e,t.child,null,a),e.child=Xi(e,null,n,a)):St(t,e,n,a),e.memoizedState=i.state,t=e.child):t=Qr(t,e,a),t}function kb(t,e,n,r){return Ki(),e.flags|=256,St(t,e,n,r),e.child}var op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lp(t){return{baseLanes:t,cachePool:JT()}}function cp(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=fn),t}function qS(t,e,n){var r=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(tt.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ve){if(a?Ea(e):Ta(),(t=Ve)?(t=M2(t,Dn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ja!==null?{id:lr,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},n=WT(t),n.return=e,e.child=n,Ct=e,Ve=null)):t=null,t===null)throw Za(e);return Wg(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,a?(Ta(),a=e.mode,o=yh({mode:"hidden",children:o},a),r=zi(r,a,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=lp(n),r.childLanes=cp(t,s,n),e.memoizedState=op,Jl(null,r)):(Ea(e),Mg(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(i)e.flags&256?(Ea(e),e.flags&=-257,e=up(t,e,n)):e.memoizedState!==null?(Ta(),e.child=t.child,e.flags|=128,e=null):(Ta(),o=r.fallback,a=e.mode,r=yh({mode:"visible",children:r.children},a),o=zi(o,a,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Xi(e,t.child,null,n),r=e.child,r.memoizedState=lp(n),r.childLanes=cp(t,s,n),e.memoizedState=op,e=Jl(null,r));else if(Ea(e),Wg(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var d=s.dgst;s=d,r=Error(z(419)),r.stack="",r.digest=s,jc({value:r,source:null,stack:null}),e=up(t,e,n)}else if(ut||qo(t,e,n,!1),s=(n&t.childLanes)!==0,ut||s){if(s=Ie,s!==null&&(r=bT(s,n),r!==0&&r!==u.retryLane))throw u.retryLane=r,cs(t,r),en(s,t,r),V0;Yg(o)||xh(),e=up(t,e,n)}else Yg(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Ve=Mn(o.nextSibling),Ct=e,ve=!0,Va=null,Dn=!1,t!==null&&QT(e,t),e=Mg(e,r.children),e.flags|=4096);return e}return a?(Ta(),o=r.fallback,a=e.mode,u=t.child,d=u.sibling,r=zr(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,d!==null?o=zr(d,o):(o=zi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,Jl(null,r),r=e.child,o=t.child.memoizedState,o===null?o=lp(n):(a=o.cachePool,a!==null?(u=lt._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=JT(),o={baseLanes:o.baseLanes|n,cachePool:a}),r.memoizedState=o,r.childLanes=cp(t,s,n),e.memoizedState=op,Jl(t.child,r)):(Ea(e),n=t.child,t=n.sibling,n=zr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Mg(t,e){return e=yh({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function yh(t,e){return t=dn(22,t,null,e),t.lanes=0,t}function up(t,e,n){return Xi(e,t.child,null,n),t=Mg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Mb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wg(t.return,e,n)}function dp(t,e,n,r,a,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a,s.treeForkCount=i)}function HS(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var s=tt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,ke(tt,s),St(t,e,r,n),r=ve?Oc:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mb(t,n,e);else if(t.tag===19)Mb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&fh(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),dp(e,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&fh(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}dp(e,!0,n,null,i,r);break;case"together":dp(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Qr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))if(t!==null){if(qo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U0(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&uh(t)))}function HO(t,e,n){switch(e.tag){case 3:rh(e,e.stateNode.containerInfo),wa(e,lt,t.memoizedState.cache),Ki();break;case 27:case 5:cg(e);break;case 4:rh(e,e.stateNode.containerInfo);break;case 10:wa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Cg(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Ea(e),e.flags|=128,null):n&e.child.childLanes?qS(t,e,n):(Ea(e),t=Qr(t,e,n),t!==null?t.sibling:null);Ea(e);break;case 19:var a=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(qo(t,e,n,!1),r=(n&e.childLanes)!==0),a){if(r)return HS(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(tt,tt.current),r)break;return null;case 22:return e.lanes=0,$S(t,e,n,e.pendingProps);case 24:wa(e,lt,t.memoizedState.cache)}return Qr(t,e,n)}function GS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ut=!0;else{if(!U0(t,n)&&!(e.flags&128))return ut=!1,HO(t,e,n);ut=!!(t.flags&131072)}else ut=!1,ve&&e.flags&1048576&&KT(e,Oc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Mi(e.elementType),e.type=t,typeof t=="function")y0(t)?(r=Zi(t,r),e.tag=1,e=jb(null,e,t,r,n)):(e.tag=0,e=kg(null,e,t,r,n));else{if(t!=null){var a=t.$$typeof;if(a===r0){e.tag=11,e=Cb(null,e,t,r,n);break e}else if(a===a0){e.tag=14,e=Rb(null,e,t,r,n);break e}}throw e=og(t)||t,Error(z(306,e,""))}}return e;case 0:return kg(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,a=Zi(r,e.pendingProps),jb(t,e,r,a,n);case 3:e:{if(rh(e,e.stateNode.containerInfo),t===null)throw Error(z(387));r=e.pendingProps;var i=e.memoizedState;a=i.element,Sg(t,e),pc(e,r,null,n);var s=e.memoizedState;if(r=s.cache,wa(e,lt,r),r!==i.cache&&Eg(e,[lt],n,!0),mc(),r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=kb(t,e,r,n);break e}else if(r!==a){a=Rn(Error(z(424)),e),jc(a),e=kb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Mn(t.firstChild),Ct=e,ve=!0,Va=null,Dn=!0,n=tS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ki(),r===a){e=Qr(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 26:return Pd(t,e),t===null?(n=tx(e.type,null,e.pendingProps,null))?e.memoizedState=n:ve||(n=e.type,t=e.pendingProps,r=Sh(La.current).createElement(n),r[At]=e,r[nn]=t,Ot(r,n,t),xt(r),e.stateNode=r):e.memoizedState=tx(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return cg(e),t===null&&ve&&(r=e.stateNode=P2(e.type,e.pendingProps,La.current),Ct=e,Dn=!0,a=Ve,ui(e.type)?(Kg=a,Ve=Mn(r.firstChild)):Ve=a),St(t,e,e.pendingProps.children,n),Pd(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ve&&((a=r=Ve)&&(r=xj(r,e.type,e.pendingProps,Dn),r!==null?(e.stateNode=r,Ct=e,Ve=Mn(r.firstChild),Dn=!1,a=!0):a=!1),a||Za(e)),cg(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,r=i.children,Hg(a,i)?r=null:s!==null&&Hg(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=N0(t,e,PO,null,null,n),Uc._currentValue=a),Pd(t,e),St(t,e,r,n),e.child;case 6:return t===null&&ve&&((t=n=Ve)&&(n=wj(n,e.pendingProps,Dn),n!==null?(e.stateNode=n,Ct=e,Ve=null,t=!0):t=!1),t||Za(e)),null;case 13:return qS(t,e,n);case 4:return rh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xi(e,null,r,n):St(t,e,r,n),e.child;case 11:return Cb(t,e,e.type,e.pendingProps,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,wa(e,e.type,r.value),St(t,e,r.children,n),e.child;case 9:return a=e.type._context,r=e.pendingProps.children,Qi(e),a=It(a),r=r(a),e.flags|=1,St(t,e,r,n),e.child;case 14:return Rb(t,e,e.type,e.pendingProps,n);case 15:return FS(t,e,e.type,e.pendingProps,n);case 19:return HS(t,e,n);case 31:return qO(t,e,n);case 22:return $S(t,e,n,e.pendingProps);case 24:return Qi(e),r=It(lt),t===null?(a=x0(),a===null&&(a=Ie,i=b0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),e.memoizedState={parent:r,cache:a},E0(e),wa(e,lt,a)):(t.lanes&n&&(Sg(t,e),pc(e,null,null,n),mc()),a=t.memoizedState,i=e.memoizedState,a.parent!==r?(a={parent:r,cache:r},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),wa(e,lt,r)):(r=i.cache,wa(e,lt,r),r!==a.cache&&Eg(e,[lt],n,!0))),St(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function Rr(t){t.flags|=4}function hp(t,e,n,r,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(g2())t.flags|=8192;else throw $i=dh,w0}else t.flags&=-16777217}function Pb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!U2(e))if(g2())t.flags|=8192;else throw $i=dh,w0}function ad(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?yT():536870912,t.lanes|=e,So|=e)}function zl(t,e){if(!ve)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GO(t,e,n){var r=e.pendingProps;switch(_0(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return Le(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Fr(lt),_o(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Is(e)?Rr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rp())),Le(e),null;case 26:var a=e.type,i=e.memoizedState;return t===null?(Rr(e),i!==null?(Le(e),Pb(e,i)):(Le(e),hp(e,a,null,r,n))):i?i!==t.memoizedState?(Rr(e),Le(e),Pb(e,i)):(Le(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Rr(e),Le(e),hp(e,a,t,r,n)),null;case 27:if(ah(e),n=La.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Rr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Le(e),null}t=hr.current,Is(e)?db(e):(t=P2(a,r,n),e.stateNode=t,Rr(e))}return Le(e),null;case 5:if(ah(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Rr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Le(e),null}if(i=hr.current,Is(e))db(e);else{var s=Sh(La.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i=typeof r.is=="string"?s.createElement(a,{is:r.is}):s.createElement(a)}}i[At]=e,i[nn]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;e:switch(Ot(i,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Rr(e)}}return Le(e),hp(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Rr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=La.current,Is(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,a=Ct,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}t[At]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||O2(t.nodeValue,n)),t||Za(e,!0)}else t=Sh(t).createTextNode(r),t[At]=e,e.stateNode=t}return Le(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Is(e),n!==null){if(t===null){if(!r)throw Error(z(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(557));t[At]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),t=!1}else n=rp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(un(e),e):(un(e),null);if(e.flags&128)throw Error(z(558))}return Le(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Is(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[At]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),a=!1}else a=rp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(un(e),e):(un(e),null)}return un(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),ad(e,e.updateQueue),Le(e),null);case 4:return _o(),t===null&&G0(e.stateNode.containerInfo),Le(e),null;case 10:return Fr(e.type),Le(e),null;case 19:if(wt(tt),r=e.memoizedState,r===null)return Le(e),null;if(a=(e.flags&128)!==0,i=r.rendering,i===null)if(a)zl(r,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=fh(t),i!==null){for(e.flags|=128,zl(r,!1),t=i.updateQueue,e.updateQueue=t,ad(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)YT(n,t),n=n.sibling;return ke(tt,tt.current&1|2),ve&&jr(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&pn()>_h&&(e.flags|=128,a=!0,zl(r,!1),e.lanes=4194304)}else{if(!a)if(t=fh(i),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,ad(e,t),zl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!ve)return Le(e),null}else 2*pn()-r.renderingStartTime>_h&&n!==536870912&&(e.flags|=128,a=!0,zl(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=pn(),t.sibling=null,n=tt.current,ke(tt,a?n&1|2:n&1),ve&&jr(e,r.treeForkCount),t):(Le(e),null);case 22:case 23:return un(e),T0(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),n=e.updateQueue,n!==null&&ad(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&wt(Fi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Fr(lt),Le(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function YO(t,e){switch(_0(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fr(lt),_o(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ah(e),null;case 31:if(e.memoizedState!==null){if(un(e),e.alternate===null)throw Error(z(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(tt),null;case 4:return _o(),null;case 10:return Fr(e.type),null;case 22:case 23:return un(e),T0(),t!==null&&wt(Fi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Fr(lt),null;case 25:return null;default:return null}}function YS(t,e){switch(_0(e),e.tag){case 3:Fr(lt),_o();break;case 26:case 27:case 5:ah(e);break;case 4:_o();break;case 31:e.memoizedState!==null&&un(e);break;case 13:un(e);break;case 19:wt(tt);break;case 10:Fr(e.type);break;case 22:case 23:un(e),T0(),t!==null&&wt(Fi);break;case 24:Fr(lt)}}function lu(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&t)===t){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){Ne(e,e.return,o)}}function ei(t,e,n){try{var r=e.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var u=n,d=o;try{d()}catch(h){Ne(a,u,h)}}}r=r.next}while(r!==i)}}catch(h){Ne(e,e.return,h)}}function WS(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{rS(e,n)}catch(r){Ne(t,t.return,r)}}}function KS(t,e,n){n.props=Zi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ne(t,e,r)}}function yc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(a){Ne(t,e,a)}}function ur(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Ne(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Ne(t,e,a)}else n.current=null}function QS(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Ne(t,t.return,a)}}function fp(t,e,n){try{var r=t.stateNode;pj(r,t.type,n,e),r[nn]=e}catch(a){Ne(t,t.return,a)}}function XS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ui(t.type)||t.tag===4}function mp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ui(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pr));else if(r!==4&&(r===27&&ui(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Pg(t,e,n),t=t.sibling;t!==null;)Pg(t,e,n),t=t.sibling}function vh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&ui(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(vh(t,e,n),t=t.sibling;t!==null;)vh(t,e,n),t=t.sibling}function JS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ot(e,r,n),e[At]=t,e[nn]=n}catch(i){Ne(t,t.return,i)}}var kr=!1,ot=!1,pp=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,bt=null;function WO(t,e){if(t=t.containerInfo,$g=Rh,t=UT(t),m0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var y;f!==n||a!==0&&f.nodeType!==3||(o=s+a),f!==i||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++d===a&&(o=s),p===i&&++h===r&&(u=s),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(qg={focusedElem:t,selectionRange:n},Rh=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){switch(e=bt,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var w=Zi(n.type,a);t=r.getSnapshotBeforeUpdate(w,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(N){Ne(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Gg(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}}function ZS(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ir(t,n),r&4&&lu(5,n);break;case 1:if(Ir(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ne(n,n.return,s)}else{var a=Zi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ne(n,n.return,s)}}r&64&&WS(n),r&512&&yc(n,n.return);break;case 3:if(Ir(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{rS(t,e)}catch(s){Ne(n,n.return,s)}}break;case 27:e===null&&r&4&&JS(n);case 26:case 5:Ir(t,n),e===null&&r&4&&QS(n),r&512&&yc(n,n.return);break;case 12:Ir(t,n);break;case 31:Ir(t,n),r&4&&n2(t,n);break;case 13:Ir(t,n),r&4&&r2(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=rj.bind(null,n),Ej(t,n))));break;case 22:if(r=n.memoizedState!==null||kr,!r){e=e!==null&&e.memoizedState!==null||ot,a=kr;var i=ot;kr=r,(ot=e)&&!i?Or(t,n,(n.subtreeFlags&8772)!==0):Ir(t,n),kr=a,ot=i}break;case 30:break;default:Ir(t,n)}}function e2(t){var e=t.alternate;e!==null&&(t.alternate=null,e2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&l0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $e=null,Kt=!1;function Dr(t,e,n){for(n=n.child;n!==null;)t2(t,e,n),n=n.sibling}function t2(t,e,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(tu,n)}catch{}switch(n.tag){case 26:ot||ur(n,e),Dr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||ur(n,e);var r=$e,a=Kt;ui(n.type)&&($e=n.stateNode,Kt=!1),Dr(t,e,n),xc(n.stateNode),$e=r,Kt=a;break;case 5:ot||ur(n,e);case 6:if(r=$e,a=Kt,$e=null,Dr(t,e,n),$e=r,Kt=a,$e!==null)if(Kt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(n.stateNode)}catch(i){Ne(n,e,i)}else try{$e.removeChild(n.stateNode)}catch(i){Ne(n,e,i)}break;case 18:$e!==null&&(Kt?(t=$e,Qb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ro(t)):Qb($e,n.stateNode));break;case 4:r=$e,a=Kt,$e=n.stateNode.containerInfo,Kt=!0,Dr(t,e,n),$e=r,Kt=a;break;case 0:case 11:case 14:case 15:ei(2,n,e),ot||ei(4,n,e),Dr(t,e,n);break;case 1:ot||(ur(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&KS(n,e,r)),Dr(t,e,n);break;case 21:Dr(t,e,n);break;case 22:ot=(r=ot)||n.memoizedState!==null,Dr(t,e,n),ot=r;break;default:Dr(t,e,n)}}function n2(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ro(t)}catch(n){Ne(e,e.return,n)}}}function r2(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ro(t)}catch(n){Ne(e,e.return,n)}}function KO(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Lb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Lb),e;default:throw Error(z(435,t.tag))}}function id(t,e){var n=KO(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var a=aj.bind(null,t,r);r.then(a,a)}})}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(ui(o.type)){$e=o.stateNode,Kt=!1;break e}break;case 5:$e=o.stateNode,Kt=!1;break e;case 3:case 4:$e=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if($e===null)throw Error(z(160));t2(i,s,a),$e=null,Kt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)a2(e,t),e=e.sibling}var qn=null;function a2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yt(e,t),Wt(t),r&4&&(ei(3,t,t.return),lu(3,t),ei(5,t,t.return));break;case 1:Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),r&64&&kr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=qn;if(Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[au]||i[At]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),Ot(i,r,n),i[At]=t,xt(i),r=i;break e;case"link":var s=rx("link","href",a).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;case"meta":if(s=rx("meta","content",a).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;default:throw Error(z(468,r))}i[At]=t,xt(i),r=i}t.stateNode=r}else ax(a,t.type,t.stateNode);else t.stateNode=nx(a,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?ax(a,t.type,t.stateNode):nx(a,r,t.memoizedProps)):r===null&&t.stateNode!==null&&fp(t,t.memoizedProps,n.memoizedProps)}break;case 27:Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),n!==null&&r&4&&fp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),t.flags&32){a=t.stateNode;try{xo(a,"")}catch(w){Ne(t,t.return,w)}}r&4&&t.stateNode!=null&&(a=t.memoizedProps,fp(t,a,n!==null?n.memoizedProps:a)),r&1024&&(pp=!0);break;case 6:if(Yt(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(z(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(w){Ne(t,t.return,w)}}break;case 3:if(Ud=null,a=qn,qn=Nh(e.containerInfo),Yt(e,t),qn=a,Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ro(e.containerInfo)}catch(w){Ne(t,t.return,w)}pp&&(pp=!1,i2(t));break;case 4:r=qn,qn=Nh(t.stateNode.containerInfo),Yt(e,t),Wt(t),qn=r;break;case 12:Yt(e,t),Wt(t);break;case 31:Yt(e,t),Wt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,id(t,r)));break;case 13:Yt(e,t),Wt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xf=pn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,id(t,r)));break;case 22:a=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,d=kr,h=ot;if(kr=d||a,ot=h||u,Yt(e,t),ot=h,kr=d,Wt(t),r&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||u||kr||ot||Pi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(i=u.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var f=u.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(w){Ne(u,u.return,w)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(w){Ne(u,u.return,w)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;a?Xb(y,!0):Xb(u.stateNode,!1)}catch(w){Ne(u,u.return,w)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,id(t,n))));break;case 19:Yt(e,t),Wt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,id(t,r)));break;case 30:break;case 21:break;default:Yt(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(XS(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var a=n.stateNode,i=mp(t);vh(t,i,a);break;case 5:var s=n.stateNode;n.flags&32&&(xo(s,""),n.flags&=-33);var o=mp(t);vh(t,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,d=mp(t);Pg(t,d,u);break;default:throw Error(z(161))}}catch(h){Ne(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function i2(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;i2(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ir(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)ZS(t,e.alternate,e),e=e.sibling}function Pi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ei(4,e,e.return),Pi(e);break;case 1:ur(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&KS(e,e.return,n),Pi(e);break;case 27:xc(e.stateNode);case 26:case 5:ur(e,e.return),Pi(e);break;case 22:e.memoizedState===null&&Pi(e);break;case 30:Pi(e);break;default:Pi(e)}t=t.sibling}}function Or(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Or(a,i,n),lu(4,i);break;case 1:if(Or(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(d){Ne(r,r.return,d)}if(r=i,a=r.updateQueue,a!==null){var o=r.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)nS(u[a],o)}catch(d){Ne(r,r.return,d)}}n&&s&64&&WS(i),yc(i,i.return);break;case 27:JS(i);case 26:case 5:Or(a,i,n),n&&r===null&&s&4&&QS(i),yc(i,i.return);break;case 12:Or(a,i,n);break;case 31:Or(a,i,n),n&&s&4&&n2(a,i);break;case 13:Or(a,i,n),n&&s&4&&r2(a,i);break;case 22:i.memoizedState===null&&Or(a,i,n),yc(i,i.return);break;case 30:break;default:Or(a,i,n)}e=e.sibling}}function B0(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&su(n))}function z0(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&su(t))}function $n(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)s2(t,e,n,r),e=e.sibling}function s2(t,e,n,r){var a=e.flags;switch(e.tag){case 0:case 11:case 15:$n(t,e,n,r),a&2048&&lu(9,e);break;case 1:$n(t,e,n,r);break;case 3:$n(t,e,n,r),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&su(t)));break;case 12:if(a&2048){$n(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ne(e,e.return,u)}}else $n(t,e,n,r);break;case 31:$n(t,e,n,r);break;case 13:$n(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?$n(t,e,n,r):vc(t,e):i._visibility&2?$n(t,e,n,r):(i._visibility|=2,Ls(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),a&2048&&B0(s,e);break;case 24:$n(t,e,n,r),a&2048&&z0(e.alternate,e);break;default:$n(t,e,n,r)}}function Ls(t,e,n,r,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,o=n,u=r,d=s.flags;switch(s.tag){case 0:case 11:case 15:Ls(i,s,o,u,a),lu(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?Ls(i,s,o,u,a):vc(i,s):(h._visibility|=2,Ls(i,s,o,u,a)),a&&d&2048&&B0(s.alternate,s);break;case 24:Ls(i,s,o,u,a),a&&d&2048&&z0(s.alternate,s);break;default:Ls(i,s,o,u,a)}e=e.sibling}}function vc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,a=r.flags;switch(r.tag){case 22:vc(n,r),a&2048&&B0(r.alternate,r);break;case 24:vc(n,r),a&2048&&z0(r.alternate,r);break;default:vc(n,r)}e=e.sibling}}var Zl=8192;function Os(t,e,n){if(t.subtreeFlags&Zl)for(t=t.child;t!==null;)o2(t,e,n),t=t.sibling}function o2(t,e,n){switch(t.tag){case 26:Os(t,e,n),t.flags&Zl&&t.memoizedState!==null&&Mj(n,qn,t.memoizedState,t.memoizedProps);break;case 5:Os(t,e,n);break;case 3:case 4:var r=qn;qn=Nh(t.stateNode.containerInfo),Os(t,e,n),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Zl,Zl=16777216,Os(t,e,n),Zl=r):Os(t,e,n));break;default:Os(t,e,n)}}function l2(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Fl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,u2(r,t)}l2(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c2(t),t=t.sibling}function c2(t){switch(t.tag){case 0:case 11:case 15:Fl(t),t.flags&2048&&ei(9,t,t.return);break;case 3:Fl(t);break;case 12:Fl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ld(t)):Fl(t);break;default:Fl(t)}}function Ld(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,u2(r,t)}l2(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ei(8,e,e.return),Ld(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ld(e));break;default:Ld(e)}t=t.sibling}}function u2(t,e){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:ei(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:su(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bt=r;else e:for(n=t;bt!==null;){r=bt;var a=r.sibling,i=r.return;if(e2(r),r===n){bt=null;break e}if(a!==null){a.return=i,bt=a;break e}bt=i}}}var QO={getCacheForType:function(t){var e=It(lt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return It(lt).controller.signal}},XO=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ie=null,fe=null,ye=0,Se=0,cn=null,Oa=!1,Go=!1,F0=!1,Xr=0,Ze=0,ti=0,qi=0,$0=0,fn=0,So=0,_c=null,Qt=null,Lg=!1,xf=0,d2=0,_h=1/0,bh=null,za=null,mt=0,Fa=null,No=null,$r=0,Vg=0,Ug=null,h2=null,bc=0,Bg=null;function vn(){return xe&2&&ye!==0?ye&-ye:ne.T!==null?H0():xT()}function f2(){if(fn===0)if(!(ye&536870912)||ve){var t=Xu;Xu<<=1,!(Xu&3932160)&&(Xu=262144),fn=t}else fn=536870912;return t=xn.current,t!==null&&(t.flags|=32),fn}function en(t,e,n){(t===Ie&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(Ao(t,0),ja(t,ye,fn,!1)),ru(t,n),(!(xe&2)||t!==Ie)&&(t===Ie&&(!(xe&2)&&(qi|=n),Ze===4&&ja(t,ye,fn,!1)),Er(t))}function m2(t,e,n){if(xe&6)throw Error(z(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||nu(t,e),a=r?ej(t,e):gp(t,e,!0),i=r;do{if(a===0){Go&&!r&&ja(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!JO(n)){a=gp(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;a=_c;var u=o.current.memoizedState.isDehydrated;if(u&&(Ao(o,s).flags|=256),s=gp(o,s,!1),s!==2){if(F0&&!u){o.errorRecoveryDisabledLanes|=i,qi|=i,a=4;break e}i=Qt,Qt=a,i!==null&&(Qt===null?Qt=i:Qt.push.apply(Qt,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){Ao(t,0),ja(t,e,0,!0);break}e:{switch(r=t,i=a,i){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:ja(r,e,fn,!Oa);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(a=xf+300-pn(),10<a)){if(ja(r,e,fn,!Oa),uf(r,0,!0)!==0)break e;$r=e,r.timeoutHandle=k2(Vb.bind(null,r,n,Qt,bh,Lg,e,fn,qi,So,Oa,i,"Throttled",-0,0),a);break e}Vb(r,n,Qt,bh,Lg,e,fn,qi,So,Oa,i,null,-0,0)}}break}while(!0);Er(t)}function Vb(t,e,n,r,a,i,s,o,u,d,h,f,p,y){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pr},o2(e,i,f);var w=(i&62914560)===i?xf-pn():(i&4194048)===i?d2-pn():0;if(w=Pj(f,w),w!==null){$r=i,t.cancelPendingCommit=w(Bb.bind(null,t,e,i,n,r,a,s,o,u,h,f,null,p,y)),ja(t,i,s,!d);return}}Bb(t,e,i,n,r,a,s,o,u)}function JO(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!bn(i(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ja(t,e,n,r){e&=~$0,e&=~qi,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var a=e;0<a;){var i=31-yn(a),s=1<<i;r[i]=-1,a&=~s}n!==0&&vT(t,n,e)}function wf(){return xe&6?!0:(cu(0),!1)}function q0(){if(fe!==null){if(Se===0)var t=fe.return;else t=fe,Lr=us=null,R0(t),uo=null,kc=0,t=fe;for(;t!==null;)YS(t.alternate,t),t=t.return;fe=null}}function Ao(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,vj(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),$r=0,q0(),Ie=t,fe=n=zr(t.current,null),ye=e,Se=0,cn=null,Oa=!1,Go=nu(t,e),F0=!1,So=fn=$0=qi=ti=Ze=0,Qt=_c=null,Lg=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var a=31-yn(r),i=1<<a;e|=t[a],r&=~i}return Xr=e,mf(),n}function p2(t,e){oe=null,ne.H=Pc,e===Ho||e===gf?(e=gb(),Se=3):e===w0?(e=gb(),Se=4):Se=e===V0?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,cn=e,fe===null&&(Ze=1,gh(t,Rn(e,t.current)))}function g2(){var t=xn.current;return t===null?!0:(ye&4194048)===ye?kn===null:(ye&62914560)===ye||ye&536870912?t===kn:!1}function y2(){var t=ne.H;return ne.H=Pc,t===null?Pc:t}function v2(){var t=ne.A;return ne.A=QO,t}function xh(){Ze=4,Oa||(ye&4194048)!==ye&&xn.current!==null||(Go=!0),!(ti&134217727)&&!(qi&134217727)||Ie===null||ja(Ie,ye,fn,!1)}function gp(t,e,n){var r=xe;xe|=2;var a=y2(),i=v2();(Ie!==t||ye!==e)&&(bh=null,Ao(t,e)),e=!1;var s=Ze;e:do try{if(Se!==0&&fe!==null){var o=fe,u=cn;switch(Se){case 8:q0(),s=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(e=!0);var d=Se;if(Se=0,cn=null,to(t,o,u,d),n&&Go){s=0;break e}break;default:d=Se,Se=0,cn=null,to(t,o,u,d)}}ZO(),s=Ze;break}catch(h){p2(t,h)}while(!0);return e&&t.shellSuspendCounter++,Lr=us=null,xe=r,ne.H=a,ne.A=i,fe===null&&(Ie=null,ye=0,mf()),s}function ZO(){for(;fe!==null;)_2(fe)}function ej(t,e){var n=xe;xe|=2;var r=y2(),a=v2();Ie!==t||ye!==e?(bh=null,_h=pn()+500,Ao(t,e)):Go=nu(t,e);e:do try{if(Se!==0&&fe!==null){e=fe;var i=cn;t:switch(Se){case 1:Se=0,cn=null,to(t,e,i,1);break;case 2:case 9:if(pb(i)){Se=0,cn=null,Ub(e);break}e=function(){Se!==2&&Se!==9||Ie!==t||(Se=7),Er(t)},i.then(e,e);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:pb(i)?(Se=0,cn=null,Ub(e)):(Se=0,cn=null,to(t,e,i,7));break;case 5:var s=null;switch(fe.tag){case 26:s=fe.memoizedState;case 5:case 27:var o=fe;if(s?U2(s):o.stateNode.complete){Se=0,cn=null;var u=o.sibling;if(u!==null)fe=u;else{var d=o.return;d!==null?(fe=d,Ef(d)):fe=null}break t}}Se=0,cn=null,to(t,e,i,5);break;case 6:Se=0,cn=null,to(t,e,i,6);break;case 8:q0(),Ze=6;break e;default:throw Error(z(462))}}tj();break}catch(h){p2(t,h)}while(!0);return Lr=us=null,ne.H=r,ne.A=a,xe=n,fe!==null?0:(Ie=null,ye=0,mf(),Ze)}function tj(){for(;fe!==null&&!TI();)_2(fe)}function _2(t){var e=GS(t.alternate,t,Xr);t.memoizedProps=t.pendingProps,e===null?Ef(t):fe=e}function Ub(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Ob(n,e,e.pendingProps,e.type,void 0,ye);break;case 11:e=Ob(n,e,e.pendingProps,e.type.render,e.ref,ye);break;case 5:R0(e);default:YS(n,e),e=fe=YT(e,Xr),e=GS(n,e,Xr)}t.memoizedProps=t.pendingProps,e===null?Ef(t):fe=e}function to(t,e,n,r){Lr=us=null,R0(e),uo=null,kc=0;var a=e.return;try{if($O(t,a,e,n,ye)){Ze=1,gh(t,Rn(n,t.current)),fe=null;return}}catch(i){if(a!==null)throw fe=a,i;Ze=1,gh(t,Rn(n,t.current)),fe=null;return}e.flags&32768?(ve||r===1?t=!0:Go||ye&536870912?t=!1:(Oa=t=!0,(r===2||r===9||r===3||r===6)&&(r=xn.current,r!==null&&r.tag===13&&(r.flags|=16384))),b2(e,t)):Ef(e)}function Ef(t){var e=t;do{if(e.flags&32768){b2(e,Oa);return}t=e.return;var n=GO(e.alternate,e,Xr);if(n!==null){fe=n;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);Ze===0&&(Ze=5)}function b2(t,e){do{var n=YO(t.alternate,t);if(n!==null){n.flags&=32767,fe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){fe=t;return}fe=t=n}while(t!==null);Ze=6,fe=null}function Bb(t,e,n,r,a,i,s,o,u){t.cancelPendingCommit=null;do Tf();while(mt!==0);if(xe&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(i=e.lanes|e.childLanes,i|=p0,kI(t,n,i,s,o,u),t===Ie&&(fe=Ie=null,ye=0),No=e,Fa=t,$r=n,Vg=i,Ug=a,h2=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,ij(ih,function(){return S2(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ne.T,ne.T=null,a=we.p,we.p=2,s=xe,xe|=4;try{WO(t,e,n)}finally{xe=s,we.p=a,ne.T=r}}mt=1,x2(),w2(),E2()}}function x2(){if(mt===1){mt=0;var t=Fa,e=No,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ne.T,ne.T=null;var r=we.p;we.p=2;var a=xe;xe|=4;try{a2(e,t);var i=qg,s=UT(t.containerInfo),o=i.focusedElem,u=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&VT(o.ownerDocument.documentElement,o)){if(u!==null&&m0(o)){var d=u.start,h=u.end;if(h===void 0&&(h=d),"selectionStart"in o)o.selectionStart=d,o.selectionEnd=Math.min(h,o.value.length);else{var f=o.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var y=p.getSelection(),w=o.textContent.length,N=Math.min(u.start,w),A=u.end===void 0?N:Math.min(u.end,w);!y.extend&&N>A&&(s=A,A=N,N=s);var _=lb(o,N),x=lb(o,A);if(_&&x&&(y.rangeCount!==1||y.anchorNode!==_.node||y.anchorOffset!==_.offset||y.focusNode!==x.node||y.focusOffset!==x.offset)){var E=f.createRange();E.setStart(_.node,_.offset),y.removeAllRanges(),N>A?(y.addRange(E),y.extend(x.node,x.offset)):(E.setEnd(x.node,x.offset),y.addRange(E))}}}}for(f=[],y=o;y=y.parentNode;)y.nodeType===1&&f.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var I=f[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Rh=!!$g,qg=$g=null}finally{xe=a,we.p=r,ne.T=n}}t.current=e,mt=2}}function w2(){if(mt===2){mt=0;var t=Fa,e=No,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ne.T,ne.T=null;var r=we.p;we.p=2;var a=xe;xe|=4;try{ZS(t,e.alternate,e)}finally{xe=a,we.p=r,ne.T=n}}mt=3}}function E2(){if(mt===4||mt===3){mt=0,SI();var t=Fa,e=No,n=$r,r=h2;e.subtreeFlags&10256||e.flags&10256?mt=5:(mt=0,No=Fa=null,T2(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(za=null),o0(n),e=e.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(tu,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ne.T,a=we.p,we.p=2,ne.T=null;try{for(var i=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{ne.T=e,we.p=a}}$r&3&&Tf(),Er(t),a=t.pendingLanes,n&261930&&a&42?t===Bg?bc++:(bc=0,Bg=t):bc=0,cu(0)}}function T2(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,su(e)))}function Tf(){return x2(),w2(),E2(),S2()}function S2(){if(mt!==5)return!1;var t=Fa,e=Vg;Vg=0;var n=o0($r),r=ne.T,a=we.p;try{we.p=32>n?32:n,ne.T=null,n=Ug,Ug=null;var i=Fa,s=$r;if(mt=0,No=Fa=null,$r=0,xe&6)throw Error(z(331));var o=xe;if(xe|=4,c2(i.current),s2(i,i.current,s,n),xe=o,cu(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(tu,i)}catch{}return!0}finally{we.p=a,ne.T=r,T2(t,e)}}function zb(t,e,n){e=Rn(n,e),e=jg(t.stateNode,e,2),t=Ba(t,e,2),t!==null&&(ru(t,2),Er(t))}function Ne(t,e,n){if(t.tag===3)zb(t,t,n);else for(;e!==null;){if(e.tag===3){zb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(za===null||!za.has(r))){t=Rn(n,t),n=BS(2),r=Ba(e,n,2),r!==null&&(zS(n,r,e,t),ru(r,2),Er(r));break}}e=e.return}}function yp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XO;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(F0=!0,a.add(n),t=nj.bind(null,t,e,n),e.then(t,t))}function nj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ie===t&&(ye&n)===n&&(Ze===4||Ze===3&&(ye&62914560)===ye&&300>pn()-xf?!(xe&2)&&Ao(t,0):$0|=n,So===ye&&(So=0)),Er(t)}function N2(t,e){e===0&&(e=yT()),t=cs(t,e),t!==null&&(ru(t,e),Er(t))}function rj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N2(t,n)}function aj(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(e),N2(t,n)}function ij(t,e){return i0(t,e)}var wh=null,Vs=null,zg=!1,Eh=!1,vp=!1,ka=0;function Er(t){t!==Vs&&t.next===null&&(Vs===null?wh=Vs=t:Vs=Vs.next=t),Eh=!0,zg||(zg=!0,oj())}function cu(t,e){if(!vp&&Eh){vp=!0;do for(var n=!1,r=wh;r!==null;){if(t!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-yn(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Fb(r,i))}else i=ye,i=uf(r,r===Ie?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||nu(r,i)||(n=!0,Fb(r,i));r=r.next}while(n);vp=!1}}function sj(){A2()}function A2(){Eh=zg=!1;var t=0;ka!==0&&yj()&&(t=ka);for(var e=pn(),n=null,r=wh;r!==null;){var a=r.next,i=C2(r,e);i===0?(r.next=null,n===null?wh=a:n.next=a,a===null&&(Vs=n)):(n=r,(t!==0||i&3)&&(Eh=!0)),r=a}mt!==0&&mt!==5||cu(t),ka!==0&&(ka=0)}function C2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-yn(i),o=1<<s,u=a[s];u===-1?(!(o&n)||o&r)&&(a[s]=jI(o,e)):u<=e&&(t.expiredLanes|=o),i&=~o}if(e=Ie,n=ye,n=uf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Gm(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||nu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Gm(r),o0(n)){case 2:case 8:n=pT;break;case 32:n=ih;break;case 268435456:n=gT;break;default:n=ih}return r=R2.bind(null,t),n=i0(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Gm(r),t.callbackPriority=2,t.callbackNode=null,2}function R2(t,e){if(mt!==0&&mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Tf()&&t.callbackNode!==n)return null;var r=ye;return r=uf(t,t===Ie?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(m2(t,r,e),C2(t,pn()),t.callbackNode!=null&&t.callbackNode===n?R2.bind(null,t):null)}function Fb(t,e){if(Tf())return null;m2(t,e,!0)}function oj(){_j(function(){xe&6?i0(mT,sj):A2()})}function H0(){if(ka===0){var t=wo;t===0&&(t=Qu,Qu<<=1,!(Qu&261888)&&(Qu=256)),ka=t}return ka}function $b(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Cd(""+t)}function qb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function lj(t,e,n,r,a){if(e==="submit"&&n&&n.stateNode===a){var i=$b((a[nn]||null).action),s=r.submitter;s&&(e=(e=s[nn]||null)?$b(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new df("action","action",null,r,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ka!==0){var u=s?qb(a,s):new FormData(a);Ig(n,{pending:!0,data:u,method:a.method,action:i},null,u)}}else typeof i=="function"&&(o.preventDefault(),u=s?qb(a,s):new FormData(a),Ig(n,{pending:!0,data:u,method:a.method,action:i},i,u))},currentTarget:a}]})}}for(var _p=0;_p<_g.length;_p++){var bp=_g[_p],cj=bp.toLowerCase(),uj=bp[0].toUpperCase()+bp.slice(1);Jn(cj,"on"+uj)}Jn(zT,"onAnimationEnd");Jn(FT,"onAnimationIteration");Jn($T,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(NO,"onTransitionRun");Jn(AO,"onTransitionStart");Jn(CO,"onTransitionCancel");Jn(qT,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lc));function D2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,d=o.currentTarget;if(o=o.listener,u!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=d;try{i(a)}catch(h){oh(h)}a.currentTarget=null,i=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,d=o.currentTarget,o=o.listener,u!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=d;try{i(a)}catch(h){oh(h)}a.currentTarget=null,i=u}}}}function he(t,e){var n=e[dg];n===void 0&&(n=e[dg]=new Set);var r=t+"__bubble";n.has(r)||(I2(e,t,2,!1),n.add(r))}function xp(t,e,n){var r=0;e&&(r|=4),I2(n,t,r,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function G0(t){if(!t[sd]){t[sd]=!0,wT.forEach(function(n){n!=="selectionchange"&&(dj.has(n)||xp(n,!1,t),xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,xp("selectionchange",!1,e))}}function I2(t,e,n,r){switch(q2(e)){case 2:var a=Uj;break;case 8:a=Bj;break;default:a=Q0}n=a.bind(null,e,n,t),a=void 0,!gg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function wp(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Gs(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=i=s;continue e}o=o.parentNode}}r=r.return}DT(function(){var d=i,h=u0(n),f=[];e:{var p=HT.get(t);if(p!==void 0){var y=df,w=t;switch(t){case"keypress":if(Dd(n)===0)break e;case"keydown":case"keyup":y=aO;break;case"focusin":w="focus",y=Xm;break;case"focusout":w="blur",y=Xm;break;case"beforeblur":case"afterblur":y=Xm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=J1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=GI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=oO;break;case zT:case FT:case $T:y=KI;break;case qT:y=cO;break;case"scroll":case"scrollend":y=qI;break;case"wheel":y=dO;break;case"copy":case"cut":case"paste":y=XI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=eb;break;case"toggle":case"beforetoggle":y=fO}var N=(e&4)!==0,A=!N&&(t==="scroll"||t==="scrollend"),_=N?p!==null?p+"Capture":null:p;N=[];for(var x=d,E;x!==null;){var I=x;if(E=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||E===null||_===null||(I=Rc(x,_),I!=null&&N.push(Vc(x,I,E))),A)break;x=x.return}0<N.length&&(p=new y(p,w,null,n,h),f.push({event:p,listeners:N}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==pg&&(w=n.relatedTarget||n.fromElement)&&(Gs(w)||w[Fo]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=d,w=w?Gs(w):null,w!==null&&(A=eu(w),N=w.tag,w!==A||N!==5&&N!==27&&N!==6)&&(w=null)):(y=null,w=d),y!==w)){if(N=J1,I="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(N=eb,I="onPointerLeave",_="onPointerEnter",x="pointer"),A=y==null?p:Xl(y),E=w==null?p:Xl(w),p=new N(I,x+"leave",y,n,h),p.target=A,p.relatedTarget=E,I=null,Gs(h)===d&&(N=new N(_,x+"enter",w,n,h),N.target=E,N.relatedTarget=A,I=N),A=I,y&&w)t:{for(N=hj,_=y,x=w,E=0,I=_;I;I=N(I))E++;I=0;for(var V=x;V;V=N(V))I++;for(;0<E-I;)_=N(_),E--;for(;0<I-E;)x=N(x),I--;for(;E--;){if(_===x||x!==null&&_===x.alternate){N=_;break t}_=N(_),x=N(x)}N=null}else N=null;y!==null&&Hb(f,p,y,N,!1),w!==null&&A!==null&&Hb(f,A,w,N,!0)}}e:{if(p=d?Xl(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var $=ab;else if(rb(p))if(PT)$=EO;else{$=xO;var S=bO}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?d&&c0(d.elementType)&&($=ab):$=wO;if($&&($=$(t,d))){MT(f,$,n,h);break e}S&&S(t,p,d),t==="focusout"&&d&&p.type==="number"&&d.memoizedProps.value!=null&&mg(p,"number",p.value)}switch(S=d?Xl(d):window,t){case"focusin":(rb(S)||S.contentEditable==="true")&&(Ks=S,yg=d,dc=null);break;case"focusout":dc=yg=Ks=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,cb(f,n,h);break;case"selectionchange":if(SO)break;case"keydown":case"keyup":cb(f,n,h)}var v;if(f0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ws?jT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(OT&&n.locale!=="ko"&&(Ws||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ws&&(v=IT()):(Ia=h,d0="value"in Ia?Ia.value:Ia.textContent,Ws=!0)),S=Th(d,b),0<S.length&&(b=new Z1(b,t,null,n,h),f.push({event:b,listeners:S}),v?b.data=v:(v=kT(n),v!==null&&(b.data=v)))),(v=pO?gO(t,n):yO(t,n))&&(b=Th(d,"onBeforeInput"),0<b.length&&(S=new Z1("onBeforeInput","beforeinput",null,n,h),f.push({event:S,listeners:b}),S.data=v)),lj(f,t,d,n,h)}D2(f,e)})}function Vc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Th(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=Rc(t,n),a!=null&&r.unshift(Vc(t,a,i)),a=Rc(t,e),a!=null&&r.push(Vc(t,a,i))),t.tag===3)return r;t=t.return}return[]}function hj(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Hb(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,d=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||d===null||(u=d,a?(d=Rc(n,i),d!=null&&s.unshift(Vc(n,d,u))):a||(d=Rc(n,i),d!=null&&s.push(Vc(n,d,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var fj=/\r\n?/g,mj=/\u0000|\uFFFD/g;function Gb(t){return(typeof t=="string"?t:""+t).replace(fj,`
`).replace(mj,"")}function O2(t,e){return e=Gb(e),Gb(t)===e}function Ce(t,e,n,r,a,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||xo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&xo(t,""+r);break;case"className":Zu(t,"class",r);break;case"tabIndex":Zu(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Zu(t,n,r);break;case"style":RT(t,r,i);break;case"data":if(e!=="object"){Zu(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Cd(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Ce(t,e,"name",a.name,a,null),Ce(t,e,"formEncType",a.formEncType,a,null),Ce(t,e,"formMethod",a.formMethod,a,null),Ce(t,e,"formTarget",a.formTarget,a,null)):(Ce(t,e,"encType",a.encType,a,null),Ce(t,e,"method",a.method,a,null),Ce(t,e,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Cd(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Pr);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Cd(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":he("beforetoggle",t),he("toggle",t),Ad(t,"popover",r);break;case"xlinkActuate":Cr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Cr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Cr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Cr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Cr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Cr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Cr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Cr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Cr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Ad(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=FI.get(n)||n,Ad(t,n,r))}}function Fg(t,e,n,r,a,i){switch(n){case"style":RT(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof r=="string"?xo(t,r):(typeof r=="number"||typeof r=="bigint")&&xo(t,""+r);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ET.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),i=t[nn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,a);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Ad(t,n,r)}}}function Ot(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Ce(t,e,i,s,n,null)}}a&&Ce(t,e,"srcSet",n.srcSet,n,null),r&&Ce(t,e,"src",n.src,n,null);return;case"input":he("invalid",t);var o=i=s=a=null,u=null,d=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":a=h;break;case"type":s=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":i=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,e));break;default:Ce(t,e,r,h,n,null)}}NT(t,i,o,u,d,s,a,!1);return;case"select":he("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ce(t,e,a,o,n,null)}e=i,n=s,t.multiple=!!r,e!=null?oo(t,!!r,e,!1):n!=null&&oo(t,!!r,n,!0);return;case"textarea":he("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Ce(t,e,s,o,n,null)}CT(t,r,a,i);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ce(t,e,u,r,n,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(r=0;r<Lc.length;r++)he(Lc[r],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(r=n[d],r!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Ce(t,e,d,r,n,null)}return;default:if(c0(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Fg(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ce(t,e,o,r,n,null))}function pj(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,u=null,d=null,h=null;for(y in n){var f=n[y];if(n.hasOwnProperty(y)&&f!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=f;default:r.hasOwnProperty(y)||Ce(t,e,y,null,r,f)}}for(var p in r){var y=r[p];if(f=n[p],r.hasOwnProperty(p)&&(y!=null||f!=null))switch(p){case"type":i=y;break;case"name":a=y;break;case"checked":d=y;break;case"defaultChecked":h=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(z(137,e));break;default:y!==f&&Ce(t,e,p,y,r,f)}}fg(t,s,o,u,d,h,i,a);return;case"select":y=s=o=p=null;for(i in n)if(u=n[i],n.hasOwnProperty(i)&&u!=null)switch(i){case"value":break;case"multiple":y=u;default:r.hasOwnProperty(i)||Ce(t,e,i,null,r,u)}for(a in r)if(i=r[a],u=n[a],r.hasOwnProperty(a)&&(i!=null||u!=null))switch(a){case"value":p=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==u&&Ce(t,e,a,i,r,u)}e=o,n=s,r=y,p!=null?oo(t,!!n,p,!1):!!r!=!!n&&(e!=null?oo(t,!!n,e,!0):oo(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ce(t,e,o,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":p=a;break;case"defaultValue":y=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(z(91));break;default:a!==i&&Ce(t,e,s,a,r,i)}AT(t,p,y);return;case"option":for(var w in n)if(p=n[w],n.hasOwnProperty(w)&&p!=null&&!r.hasOwnProperty(w))switch(w){case"selected":t.selected=!1;break;default:Ce(t,e,w,null,r,p)}for(u in r)if(p=r[u],y=n[u],r.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ce(t,e,u,p,r,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!=null&&!r.hasOwnProperty(N)&&Ce(t,e,N,null,r,p);for(d in r)if(p=r[d],y=n[d],r.hasOwnProperty(d)&&p!==y&&(p!=null||y!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,e));break;default:Ce(t,e,d,p,r,y)}return;default:if(c0(e)){for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!==void 0&&!r.hasOwnProperty(A)&&Fg(t,e,A,void 0,r,p);for(h in r)p=r[h],y=n[h],!r.hasOwnProperty(h)||p===y||p===void 0&&y===void 0||Fg(t,e,h,p,r,y);return}}for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!=null&&!r.hasOwnProperty(_)&&Ce(t,e,_,null,r,p);for(f in r)p=r[f],y=n[f],!r.hasOwnProperty(f)||p===y||p==null&&y==null||Ce(t,e,f,p,r,y)}function Yb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gj(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&Yb(s)){for(s=0,o=a.responseEnd,r+=1;r<n.length;r++){var u=n[r],d=u.startTime;if(d>o)break;var h=u.transferSize,f=u.initiatorType;h&&Yb(f)&&(u=u.responseEnd,s+=h*(u<o?1:(o-d)/(u-d)))}if(--r,e+=8*(i+s)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $g=null,qg=null;function Sh(t){return t.nodeType===9?t:t.ownerDocument}function Wb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j2(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Hg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ep=null;function yj(){var t=window.event;return t&&t.type==="popstate"?t===Ep?!1:(Ep=t,!0):(Ep=null,!1)}var k2=typeof setTimeout=="function"?setTimeout:void 0,vj=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,_j=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(t){return Kb.resolve(null).then(t).catch(bj)}:k2;function bj(t){setTimeout(function(){throw t})}function ui(t){return t==="head"}function Qb(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(a),Ro(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")xc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,xc(n);for(var i=n.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[au]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=s}}else n==="body"&&xc(t.ownerDocument.body);n=a}while(n);Ro(e)}function Xb(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Gg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Gg(n),l0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function xj(t,e,n,r){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[au])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function wj(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function M2(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Mn(t.nextSibling),t===null))return null;return t}function Yg(t){return t.data==="$?"||t.data==="$~"}function Wg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Ej(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Kg=null;function Jb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Mn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Zb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function P2(t,e,n){switch(e=Sh(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function xc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);l0(t)}var Ln=new Map,ex=new Set;function Nh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var aa=we.d;we.d={f:Tj,r:Sj,D:Nj,C:Aj,L:Cj,m:Rj,X:Ij,S:Dj,M:Oj};function Tj(){var t=aa.f(),e=wf();return t||e}function Sj(t){var e=$o(t);e!==null&&e.tag===5&&e.type==="form"?RS(e):aa.r(t)}var Yo=typeof document>"u"?null:document;function L2(t,e,n){var r=Yo;if(r&&typeof e=="string"&&e){var a=Cn(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),ex.has(a)||(ex.add(a),t={rel:t,crossOrigin:n,href:e},r.querySelector(a)===null&&(e=r.createElement("link"),Ot(e,"link",t),xt(e),r.head.appendChild(e)))}}function Nj(t){aa.D(t),L2("dns-prefetch",t,null)}function Aj(t,e){aa.C(t,e),L2("preconnect",t,e)}function Cj(t,e,n){aa.L(t,e,n);var r=Yo;if(r&&t&&e){var a='link[rel="preload"][as="'+Cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Cn(n.imageSizes)+'"]')):a+='[href="'+Cn(t)+'"]';var i=a;switch(e){case"style":i=Co(t);break;case"script":i=Wo(t)}Ln.has(i)||(t=Be({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ln.set(i,t),r.querySelector(a)!==null||e==="style"&&r.querySelector(uu(i))||e==="script"&&r.querySelector(du(i))||(e=r.createElement("link"),Ot(e,"link",t),xt(e),r.head.appendChild(e)))}}function Rj(t,e){aa.m(t,e);var n=Yo;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+Cn(r)+'"][href="'+Cn(t)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Wo(t)}if(!Ln.has(i)&&(t=Be({rel:"modulepreload",href:t},e),Ln.set(i,t),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(du(i)))return}r=n.createElement("link"),Ot(r,"link",t),xt(r),n.head.appendChild(r)}}}function Dj(t,e,n){aa.S(t,e,n);var r=Yo;if(r&&t){var a=so(r).hoistableStyles,i=Co(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(uu(i)))o.loading=5;else{t=Be({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ln.get(i))&&Y0(t,n);var u=s=r.createElement("link");xt(u),Ot(u,"link",t),u._p=new Promise(function(d,h){u.onload=d,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Vd(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function Ij(t,e){aa.X(t,e);var n=Yo;if(n&&t){var r=so(n).hoistableScripts,a=Wo(t),i=r.get(a);i||(i=n.querySelector(du(a)),i||(t=Be({src:t,async:!0},e),(e=Ln.get(a))&&W0(t,e),i=n.createElement("script"),xt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function Oj(t,e){aa.M(t,e);var n=Yo;if(n&&t){var r=so(n).hoistableScripts,a=Wo(t),i=r.get(a);i||(i=n.querySelector(du(a)),i||(t=Be({src:t,async:!0,type:"module"},e),(e=Ln.get(a))&&W0(t,e),i=n.createElement("script"),xt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function tx(t,e,n,r){var a=(a=La.current)?Nh(a):null;if(!a)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Co(n.href),n=so(a).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Co(n.href);var i=so(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(uu(t)))&&!i._p&&(s.instance=i,s.state.loading=5),Ln.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(t,n),i||jj(a,t,n,s.state))),e&&r===null)throw Error(z(528,""));return s}if(e&&r!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Wo(n),n=so(a).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function Co(t){return'href="'+Cn(t)+'"'}function uu(t){return'link[rel="stylesheet"]['+t+"]"}function V2(t){return Be({},t,{"data-precedence":t.precedence,precedence:null})}function jj(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ot(e,"link",n),xt(e),t.head.appendChild(e))}function Wo(t){return'[src="'+Cn(t)+'"]'}function du(t){return"script[async]"+t}function nx(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(r)return e.instance=r,xt(r),r;var a=Be({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),xt(r),Ot(r,"style",a),Vd(r,n.precedence,t),e.instance=r;case"stylesheet":a=Co(n.href);var i=t.querySelector(uu(a));if(i)return e.state.loading|=4,e.instance=i,xt(i),i;r=V2(n),(a=Ln.get(a))&&Y0(r,a),i=(t.ownerDocument||t).createElement("link"),xt(i);var s=i;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ot(i,"link",r),e.state.loading|=4,Vd(i,n.precedence,t),e.instance=i;case"script":return i=Wo(n.src),(a=t.querySelector(du(i)))?(e.instance=a,xt(a),a):(r=n,(a=Ln.get(i))&&(r=Be({},n),W0(r,a)),t=t.ownerDocument||t,a=t.createElement("script"),xt(a),Ot(a,"link",r),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Vd(r,n.precedence,t));return e.instance}function Vd(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Y0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function W0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ud=null;function rx(t,e,n){if(Ud===null){var r=new Map,a=Ud=new Map;a.set(n,r)}else a=Ud,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var i=n[a];if(!(i[au]||i[At]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function ax(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function kj(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function U2(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Mj(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=Co(r.href),i=e.querySelector(uu(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Ah.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,xt(i);return}i=e.ownerDocument||e,r=V2(r),(a=Ln.get(a))&&Y0(r,a),i=i.createElement("link"),xt(i);var s=i;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ot(i,"link",r),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Ah.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Tp=0;function Pj(t,e){return t.stylesheets&&t.count===0&&Bd(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Bd(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Tp===0&&(Tp=62500*gj());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bd(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Tp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}function Ah(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ch=null;function Bd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ch=new Map,e.forEach(Lj,t),Ch=null,Ah.call(t))}function Lj(t,e){if(!(e.state.loading&4)){var n=Ch.get(t);if(n)var r=n.get(null);else{n=new Map,Ch.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=e.instance,s=a.getAttribute("data-precedence"),i=n.get(s)||r,i===r&&n.set(null,a),n.set(s,a),this.count++,r=Ah.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Uc={$$typeof:Mr,Provider:null,Consumer:null,_currentValue:Bi,_currentValue2:Bi,_threadCount:0};function Vj(t,e,n,r,a,i,s,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ym(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ym(0),this.hiddenUpdates=Ym(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function B2(t,e,n,r,a,i,s,o,u,d,h,f){return t=new Vj(t,e,n,s,u,d,h,f,o),e=1,i===!0&&(e|=24),i=dn(3,null,null,e),t.current=i,i.stateNode=t,e=b0(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},E0(i),t}function z2(t){return t?(t=Js,t):Js}function F2(t,e,n,r,a,i){a=z2(a),r.context===null?r.context=a:r.pendingContext=a,r=Ua(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=Ba(t,r,e),n!==null&&(en(n,t,e),fc(n,t,e))}function ix(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function K0(t,e){ix(t,e),(t=t.alternate)&&ix(t,e)}function $2(t){if(t.tag===13||t.tag===31){var e=cs(t,67108864);e!==null&&en(e,t,67108864),K0(t,67108864)}}function sx(t){if(t.tag===13||t.tag===31){var e=vn();e=s0(e);var n=cs(t,e);n!==null&&en(n,t,e),K0(t,e)}}var Rh=!0;function Uj(t,e,n,r){var a=ne.T;ne.T=null;var i=we.p;try{we.p=2,Q0(t,e,n,r)}finally{we.p=i,ne.T=a}}function Bj(t,e,n,r){var a=ne.T;ne.T=null;var i=we.p;try{we.p=8,Q0(t,e,n,r)}finally{we.p=i,ne.T=a}}function Q0(t,e,n,r){if(Rh){var a=Qg(r);if(a===null)wp(t,e,r,Dh,n),ox(t,r);else if(Fj(a,t,e,n,r))r.stopPropagation();else if(ox(t,r),e&4&&-1<zj.indexOf(t)){for(;a!==null;){var i=$o(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=ki(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-yn(s);o.entanglements[1]|=u,s&=~u}Er(i),!(xe&6)&&(_h=pn()+500,cu(0))}}break;case 31:case 13:o=cs(i,2),o!==null&&en(o,i,2),wf(),K0(i,2)}if(i=Qg(r),i===null&&wp(t,e,r,Dh,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else wp(t,e,r,null,n)}}function Qg(t){return t=u0(t),X0(t)}var Dh=null;function X0(t){if(Dh=null,t=Gs(t),t!==null){var e=eu(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=cT(e),t!==null)return t;t=null}else if(n===31){if(t=uT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Dh=t,null}function q2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(NI()){case mT:return 2;case pT:return 8;case ih:case AI:return 32;case gT:return 268435456;default:return 32}default:return 32}}var Xg=!1,$a=null,qa=null,Ha=null,Bc=new Map,zc=new Map,Sa=[],zj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":$a=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ha=null;break;case"pointerover":case"pointerout":Bc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(e.pointerId)}}function $l(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=$o(e),e!==null&&$2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Fj(t,e,n,r,a){switch(e){case"focusin":return $a=$l($a,t,e,n,r,a),!0;case"dragenter":return qa=$l(qa,t,e,n,r,a),!0;case"mouseover":return Ha=$l(Ha,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Bc.set(i,$l(Bc.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,zc.set(i,$l(zc.get(i)||null,t,e,n,r,a)),!0}return!1}function H2(t){var e=Gs(t.target);if(e!==null){var n=eu(e);if(n!==null){if(e=n.tag,e===13){if(e=cT(n),e!==null){t.blockedOn=e,H1(t.priority,function(){sx(n)});return}}else if(e===31){if(e=uT(n),e!==null){t.blockedOn=e,H1(t.priority,function(){sx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qg(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);pg=r,n.target.dispatchEvent(r),pg=null}else return e=$o(n),e!==null&&$2(e),t.blockedOn=n,!1;e.shift()}return!0}function lx(t,e,n){zd(t)&&n.delete(e)}function $j(){Xg=!1,$a!==null&&zd($a)&&($a=null),qa!==null&&zd(qa)&&(qa=null),Ha!==null&&zd(Ha)&&(Ha=null),Bc.forEach(lx),zc.forEach(lx)}function od(t,e){t.blockedOn===e&&(t.blockedOn=null,Xg||(Xg=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,$j)))}var ld=null;function cx(t){ld!==t&&(ld=t,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,function(){ld===t&&(ld=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if(typeof r!="function"){if(X0(r||n)===null)continue;break}var i=$o(n);i!==null&&(t.splice(e,3),e-=3,Ig(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Ro(t){function e(u){return od(u,t)}$a!==null&&od($a,t),qa!==null&&od(qa,t),Ha!==null&&od(Ha,t),Bc.forEach(e),zc.forEach(e);for(var n=0;n<Sa.length;n++){var r=Sa[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Sa.length&&(n=Sa[0],n.blockedOn===null);)H2(n),n.blockedOn===null&&Sa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[nn]||null;if(typeof i=="function")s||cx(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[nn]||null)o=s.formAction;else if(X0(a)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),cx(n)}}}function G2(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function J0(t){this._internalRoot=t}Sf.prototype.render=J0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,r=vn();F2(n,r,t,e,null,null)};Sf.prototype.unmount=J0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;F2(t.current,2,null,t,null,null),wf(),e[Fo]=null}};function Sf(t){this._internalRoot=t}Sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=xT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sa.length&&e!==0&&e<Sa[n].priority;n++);Sa.splice(n,0,t),n===0&&H2(t)}};var ux=oT.version;if(ux!=="19.2.3")throw Error(z(527,ux,"19.2.3"));we.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=_I(e),t=t!==null?dT(t):null,t=t===null?null:t.stateNode,t};var qj={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{tu=cd.inject(qj),gn=cd}catch{}}lf.createRoot=function(t,e){if(!lT(t))throw Error(z(299));var n=!1,r="",a=LS,i=VS,s=US;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=B2(t,1,!1,null,null,n,r,null,a,i,s,G2),t[Fo]=e.current,G0(t),new J0(e)};lf.hydrateRoot=function(t,e,n){if(!lT(t))throw Error(z(299));var r=!1,a="",i=LS,s=VS,o=US,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=B2(t,1,!0,e,n??null,r,a,u,i,s,o,G2),e.context=z2(null),n=e.current,r=vn(),r=s0(r),a=Ua(r),a.callback=null,Ba(n,a,r),n=r,e.current.lanes=n,ru(e,n),Er(e),t[Fo]=e.current,G0(t),new Sf(e)};lf.version="19.2.3";function Y2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y2)}catch(t){console.error(t)}}Y2(),tT.exports=lf;var Hj=tT.exports;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var dx="popstate";function Gj(t={}){function e(r,a){let{pathname:i,search:s,hash:o}=r.location;return Jg("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Fc(a)}return Wj(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Yj(){return Math.random().toString(36).substring(2,10)}function hx(t,e){return{usr:t.state,key:t.key,idx:e}}function Jg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ko(e):e,state:n,key:e&&e.key||r||Yj()}}function Fc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ko(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Wj(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",u=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function f(){o="POP";let A=h(),_=A==null?null:A-d;d=A,u&&u({action:o,location:N.location,delta:_})}function p(A,_){o="PUSH";let x=Jg(N.location,A,_);d=h()+1;let E=hx(x,d),I=N.createHref(x);try{s.pushState(E,"",I)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(I)}i&&u&&u({action:o,location:N.location,delta:1})}function y(A,_){o="REPLACE";let x=Jg(N.location,A,_);d=h();let E=hx(x,d),I=N.createHref(x);s.replaceState(E,"",I),i&&u&&u({action:o,location:N.location,delta:0})}function w(A){return Kj(A)}let N={get action(){return o},get location(){return t(a,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(dx,f),u=A,()=>{a.removeEventListener(dx,f),u=null}},createHref(A){return e(a,A)},createURL:w,encodeLocation(A){let _=w(A);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:y,go(A){return s.go(A)}};return N}function Kj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Fc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function W2(t,e,n="/"){return Qj(t,e,n,!1)}function Qj(t,e,n,r){let a=typeof e=="string"?Ko(e):e,i=Jr(a.pathname||"/",n);if(i==null)return null;let s=K2(t);Xj(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let d=lk(i);o=sk(s[u],d,r)}return o}function K2(t,e=[],n=[],r="",a=!1){let i=(s,o,u=a,d)=>{let h={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;qe(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let f=qr([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(qe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),K2(s.children,e,p,f,u)),!(s.path==null&&!s.index)&&e.push({path:f,score:ak(f,s.index),routesMeta:p})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let d of Q2(s.path))i(s,o,!0,d)}),e}function Q2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=Q2(r.join("/")),o=[];return o.push(...s.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function Xj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ik(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Jj=/^:[\w-]+$/,Zj=3,ek=2,tk=1,nk=10,rk=-2,fx=t=>t==="*";function ak(t,e){let n=t.split("/"),r=n.length;return n.some(fx)&&(r+=rk),e&&(r+=ek),n.filter(a=>!fx(a)).reduce((a,i)=>a+(Jj.test(i)?Zj:i===""?tk:nk),r)}function ik(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function sk(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],d=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=Ih({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},h),p=u.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=Ih({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:qr([i,f.pathname]),pathnameBase:hk(qr([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=qr([i,f.pathnameBase]))}return s}function Ih(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ok(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:f},p)=>{if(h==="*"){let w=o[p]||"";s=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[p];return f&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:s,pattern:t}}function ok(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function lk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var X2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ck=t=>X2.test(t);function uk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ko(t):t,i;if(n)if(ck(n))i=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?i=mx(n.substring(1),"/"):i=mx(n,e)}else i=e;return{pathname:i,search:fk(r),hash:mk(a)}}function mx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Sp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Z0(t){let e=dk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function ev(t,e,n,r=!1){let a;typeof t=="string"?a=Ko(t):(a={...t},qe(!a.pathname||!a.pathname.includes("?"),Sp("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),Sp("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),Sp("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}o=f>=0?e[f]:"/"}let u=uk(a,o),d=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||h)&&(u.pathname+="/"),u}var qr=t=>t.join("/").replace(/\/\/+/g,"/"),hk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,pk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function gk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function yk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var J2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Z2(t,e){let n=t;if(typeof n!="string"||!X2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(J2)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),o=Jr(s.pathname,e);s.origin===i.origin&&o!=null?n=o+s.search+s.hash:a=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eN=["POST","PUT","PATCH","DELETE"];new Set(eN);var vk=["GET",...eN];new Set(vk);var Qo=R.createContext(null);Qo.displayName="DataRouter";var Nf=R.createContext(null);Nf.displayName="DataRouterState";var _k=R.createContext(!1),tN=R.createContext({isTransitioning:!1});tN.displayName="ViewTransition";var bk=R.createContext(new Map);bk.displayName="Fetchers";var xk=R.createContext(null);xk.displayName="Await";var wn=R.createContext(null);wn.displayName="Navigation";var hu=R.createContext(null);hu.displayName="Location";var Zn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var tv=R.createContext(null);tv.displayName="RouteError";var nN="REACT_ROUTER_ERROR",wk="REDIRECT",Ek="ROUTE_ERROR_RESPONSE";function Tk(t){if(t.startsWith(`${nN}:${wk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Sk(t){if(t.startsWith(`${nN}:${Ek}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new pk(e.status,e.statusText,e.data)}catch{}}function Nk(t,{relative:e}={}){qe(Xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(wn),{hash:a,pathname:i,search:s}=fu(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:qr([n,i])),r.createHref({pathname:o,search:s,hash:a})}function Xo(){return R.useContext(hu)!=null}function ia(){return qe(Xo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(hu).location}var rN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aN(t){R.useContext(wn).static||R.useLayoutEffect(t)}function ds(){let{isDataRoute:t}=R.useContext(Zn);return t?Uk():Ak()}function Ak(){qe(Xo(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Qo),{basename:e,navigator:n}=R.useContext(wn),{matches:r}=R.useContext(Zn),{pathname:a}=ia(),i=JSON.stringify(Z0(r)),s=R.useRef(!1);return aN(()=>{s.current=!0}),R.useCallback((u,d={})=>{if(Vn(s.current,rN),!s.current)return;if(typeof u=="number"){n.go(u);return}let h=ev(u,JSON.parse(i),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:qr([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,a,t])}R.createContext(null);function iN(){let{matches:t}=R.useContext(Zn),e=t[t.length-1];return e?e.params:{}}function fu(t,{relative:e}={}){let{matches:n}=R.useContext(Zn),{pathname:r}=ia(),a=JSON.stringify(Z0(n));return R.useMemo(()=>ev(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Ck(t,e){return sN(t,e)}function sN(t,e,n,r,a){var x;qe(Xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(wn),{matches:s}=R.useContext(Zn),o=s[s.length-1],u=o?o.params:{},d=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let E=f&&f.path||"";lN(d,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=ia(),y;if(e){let E=typeof e=="string"?Ko(e):e;qe(h==="/"||((x=E.pathname)==null?void 0:x.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${E.pathname}" was given in the \`location\` prop.`),y=E}else y=p;let w=y.pathname||"/",N=w;if(h!=="/"){let E=h.replace(/^\//,"").split("/");N="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let A=W2(t,{pathname:N});Vn(f||A!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Vn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=jk(A&&A.map(E=>Object.assign({},E,{params:Object.assign({},u,E.params),pathname:qr([h,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?h:qr([h,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,n,r,a);return e&&_?R.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},_):_}function Rk(){let t=Vk(),e=gk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,s)}var Dk=R.createElement(Rk,null),oN=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Sk(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(Zn.Provider,{value:this.props.routeContext},R.createElement(tv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(Ik,{error:t},e):e}};oN.contextType=_k;var Np=new WeakMap;function Ik({children:t,error:e}){let{basename:n}=R.useContext(wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Tk(e.digest);if(r){let a=Np.get(e);if(a)throw a;let i=Z2(r.location,n);if(J2&&!Np.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw Np.set(e,s),s}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Ok({routeContext:t,match:e,children:n}){let r=R.useContext(Qo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Zn.Provider,{value:t},n)}function jk(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let h=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);qe(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let o=!1,u=-1;if(n)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:y}=n,w=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let d=n&&r?(h,f)=>{var p,y;r(h,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:yk(n.matches),errorInfo:f})}:void 0;return i.reduceRight((h,f,p)=>{let y,w=!1,N=null,A=null;n&&(y=s&&f.route.id?s[f.route.id]:void 0,N=f.route.errorElement||Dk,o&&(u<0&&p===0?(lN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):u===p&&(w=!0,A=f.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,p+1)),x=()=>{let E;return y?E=N:w?E=A:f.route.Component?E=R.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,R.createElement(Ok,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?R.createElement(oN,{location:n.location,revalidation:n.revalidation,component:N,error:y,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:d}):x()},null)}function nv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kk(t){let e=R.useContext(Qo);return qe(e,nv(t)),e}function Mk(t){let e=R.useContext(Nf);return qe(e,nv(t)),e}function Pk(t){let e=R.useContext(Zn);return qe(e,nv(t)),e}function rv(t){let e=Pk(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Lk(){return rv("useRouteId")}function Vk(){var r;let t=R.useContext(tv),e=Mk("useRouteError"),n=rv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Uk(){let{router:t}=kk("useNavigate"),e=rv("useNavigate"),n=R.useRef(!1);return aN(()=>{n.current=!0}),R.useCallback(async(a,i={})=>{Vn(n.current,rN),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var px={};function lN(t,e,n){!e&&!px[t]&&(px[t]=!0,Vn(!1,n))}R.memo(Bk);function Bk({routes:t,future:e,state:n,onError:r}){return sN(t,void 0,n,r,e)}function zk({to:t,replace:e,state:n,relative:r}){qe(Xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(wn);Vn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=R.useContext(Zn),{pathname:s}=ia(),o=ds(),u=ev(t,Z0(i),s,r==="path"),d=JSON.stringify(u);return R.useEffect(()=>{o(JSON.parse(d),{replace:e,state:n,relative:r})},[o,d,r,e,n]),null}function _a(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){qe(!Xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof n=="string"&&(n=Ko(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:y="default"}=n,w=R.useMemo(()=>{let N=Jr(d,o);return N==null?null:{location:{pathname:N,search:h,hash:f,state:p,key:y},navigationType:r}},[o,d,h,f,p,y,r]);return Vn(w!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:R.createElement(wn.Provider,{value:u},R.createElement(hu.Provider,{children:e,value:w}))}function $k({children:t,location:e}){return Ck(Zg(t),e)}function Zg(t,e=[]){let n=[];return R.Children.forEach(t,(r,a)=>{if(!R.isValidElement(r))return;let i=[...e,a];if(r.type===R.Fragment){n.push.apply(n,Zg(r.props.children,i));return}qe(r.type===_a,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Zg(r.props.children,i)),n.push(s)}),n}var Fd="get",$d="application/x-www-form-urlencoded";function Af(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function qk(t){return Af(t)&&t.tagName.toLowerCase()==="button"}function Hk(t){return Af(t)&&t.tagName.toLowerCase()==="form"}function Gk(t){return Af(t)&&t.tagName.toLowerCase()==="input"}function Yk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Wk(t,e){return t.button===0&&(!e||e==="_self")&&!Yk(t)}var ud=null;function Kk(){if(ud===null)try{new FormData(document.createElement("form"),0),ud=!1}catch{ud=!0}return ud}var Qk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ap(t){return t!=null&&!Qk.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$d}"`),null):t}function Xk(t,e){let n,r,a,i,s;if(Hk(t)){let o=t.getAttribute("action");r=o?Jr(o,e):null,n=t.getAttribute("method")||Fd,a=Ap(t.getAttribute("enctype"))||$d,i=new FormData(t)}else if(qk(t)||Gk(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?Jr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Fd,a=Ap(t.getAttribute("formenctype"))||Ap(o.getAttribute("enctype"))||$d,i=new FormData(o,t),!Kk()){let{name:d,type:h,value:f}=t;if(h==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,f)}}else{if(Af(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fd,r=null,a=$d,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function av(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Zk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function e4(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function t4(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await Zk(i,n);return s.links?s.links():[]}return[]}));return i4(r.flat(1).filter(e4).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function gx(t,e,n,r,a,i){let s=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,o=(u,d)=>{var h;return n[d].pathname!==u.pathname||((h=n[d].route.path)==null?void 0:h.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,d)=>s(u,d)||o(u,d)):i==="data"?e.filter((u,d)=>{var f;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,d)||o(u,d))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function n4(t,e,{includeHydrateFallback:n}={}){return r4(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function r4(t){return[...new Set(t)]}function a4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function i4(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(a4(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function cN(){let t=R.useContext(Qo);return av(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function s4(){let t=R.useContext(Nf);return av(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var iv=R.createContext(void 0);iv.displayName="FrameworkContext";function uN(){let t=R.useContext(iv);return av(t,"You must render this element inside a <HydratedRouter> element"),t}function o4(t,e){let n=R.useContext(iv),[r,a]=R.useState(!1),[i,s]=R.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:d,onMouseLeave:h,onTouchStart:f}=e,p=R.useRef(null);R.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let N=_=>{_.forEach(x=>{s(x.isIntersecting)})},A=new IntersectionObserver(N,{threshold:.5});return p.current&&A.observe(p.current),()=>{A.disconnect()}}},[t]),R.useEffect(()=>{if(r){let N=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(N)}}},[r]);let y=()=>{a(!0)},w=()=>{a(!1),s(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:ql(o,y),onBlur:ql(u,w),onMouseEnter:ql(d,y),onMouseLeave:ql(h,w),onTouchStart:ql(f,y)}]:[!1,p,{}]}function ql(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function l4({page:t,...e}){let{router:n}=cN(),r=R.useMemo(()=>W2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(u4,{page:t,matches:r,...e}):null}function c4(t){let{manifest:e,routeModules:n}=uN(),[r,a]=R.useState([]);return R.useEffect(()=>{let i=!1;return t4(t,e,n).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,n]),r}function u4({page:t,matches:e,...n}){let r=ia(),{manifest:a,routeModules:i}=uN(),{basename:s}=cN(),{loaderData:o,matches:u}=s4(),d=R.useMemo(()=>gx(t,e,u,a,r,"data"),[t,e,u,a,r]),h=R.useMemo(()=>gx(t,e,u,a,r,"assets"),[t,e,u,a,r]),f=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,N=!1;if(e.forEach(_=>{var E;let x=a.routes[_.route.id];!x||!x.hasLoader||(!d.some(I=>I.route.id===_.route.id)&&_.route.id in o&&((E=i[_.route.id])!=null&&E.shouldRevalidate)||x.hasClientLoader?N=!0:w.add(_.route.id))}),w.size===0)return[];let A=Jk(t,s,"data");return N&&w.size>0&&A.searchParams.set("_routes",e.filter(_=>w.has(_.route.id)).map(_=>_.route.id).join(",")),[A.pathname+A.search]},[s,o,r,a,d,e,t,i]),p=R.useMemo(()=>n4(h,a),[h,a]),y=c4(h);return R.createElement(R.Fragment,null,f.map(w=>R.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),p.map(w=>R.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:N})=>R.createElement("link",{key:w,nonce:n.nonce,...N})))}function d4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h4&&(window.__reactRouterVersion="7.11.0")}catch{}function f4({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=R.useRef();a.current==null&&(a.current=Gj({window:r,v5Compat:!0}));let i=a.current,[s,o]=R.useState({action:i.action,location:i.location}),u=R.useCallback(d=>{n===!1?o(d):R.startTransition(()=>o(d))},[n]);return R.useLayoutEffect(()=>i.listen(u),[i,u]),R.createElement(Fk,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var dN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hN=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:s,state:o,target:u,to:d,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:p,...y},w){let{basename:N,unstable_useTransitions:A}=R.useContext(wn),_=typeof d=="string"&&dN.test(d),x=Z2(d,N);d=x.to;let E=Nk(d,{relative:a}),[I,V,$]=o4(r,y),S=y4(d,{replace:s,state:o,target:u,preventScrollReset:h,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:p,unstable_useTransitions:A});function v(C){e&&e(C),C.defaultPrevented||S(C)}let b=R.createElement("a",{...y,...$,href:x.absoluteURL||E,onClick:x.isExternal||i?e:v,ref:d4(w,V),target:u,"data-discover":!_&&n==="render"?"true":void 0});return I&&!_?R.createElement(R.Fragment,null,b,R.createElement(l4,{page:E})):b});hN.displayName="Link";var m4=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:s,viewTransition:o,children:u,...d},h){let f=fu(s,{relative:d.relative}),p=ia(),y=R.useContext(Nf),{navigator:w,basename:N}=R.useContext(wn),A=y!=null&&w4(f)&&o===!0,_=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,x=p.pathname,E=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(x=x.toLowerCase(),E=E?E.toLowerCase():null,_=_.toLowerCase()),E&&N&&(E=Jr(E,N)||E);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let V=x===_||!a&&x.startsWith(_)&&x.charAt(I)==="/",$=E!=null&&(E===_||!a&&E.startsWith(_)&&E.charAt(_.length)==="/"),S={isActive:V,isPending:$,isTransitioning:A},v=V?e:void 0,b;typeof r=="function"?b=r(S):b=[r,V?"active":null,$?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(S):i;return R.createElement(hN,{...d,"aria-current":v,className:b,ref:h,style:C,to:s,viewTransition:o},typeof u=="function"?u(S):u)});m4.displayName="NavLink";var p4=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:s=Fd,action:o,onSubmit:u,relative:d,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:p,...y},w)=>{let{unstable_useTransitions:N}=R.useContext(wn),A=b4(),_=x4(o,{relative:d}),x=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&dN.test(o),I=V=>{if(u&&u(V),V.defaultPrevented)return;V.preventDefault();let $=V.nativeEvent.submitter,S=($==null?void 0:$.getAttribute("formmethod"))||s,v=()=>A($||V.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:a,state:i,relative:d,preventScrollReset:h,viewTransition:f,unstable_defaultShouldRevalidate:p});N&&n!==!1?R.startTransition(()=>v()):v()};return R.createElement("form",{ref:w,method:x,action:_,onSubmit:r?u:I,...y,"data-discover":!E&&t==="render"?"true":void 0})});p4.displayName="Form";function g4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fN(t){let e=R.useContext(Qo);return qe(e,g4(t)),e}function y4(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let d=ds(),h=ia(),f=fu(t,{relative:i});return R.useCallback(p=>{if(Wk(p,e)){p.preventDefault();let y=n!==void 0?n:Fc(h)===Fc(f),w=()=>d(t,{replace:y,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});u?R.startTransition(()=>w()):w()}},[h,d,f,n,r,e,t,a,i,s,o,u])}var v4=0,_4=()=>`__${String(++v4)}__`;function b4(){let{router:t}=fN("useSubmit"),{basename:e}=R.useContext(wn),n=Lk(),r=t.fetch,a=t.navigate;return R.useCallback(async(i,s={})=>{let{action:o,method:u,encType:d,formData:h,body:f}=Xk(i,e);if(s.navigate===!1){let p=s.fetcherKey||_4();await r(p,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:f,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,a,e,n])}function x4(t,{relative:e}={}){let{basename:n}=R.useContext(wn),r=R.useContext(Zn);qe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...fu(t||".",{relative:e})},s=ia();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(f=>f).forEach(f=>o.append("index",f));let h=o.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:qr([n,i.pathname])),Fc(i)}function w4(t,{relative:e}={}){let n=R.useContext(tN);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fN("useViewTransitionState"),a=fu(t,{relative:e});if(!n.isTransitioning)return!1;let i=Jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ih(a.pathname,s)!=null||Ih(a.pathname,i)!=null}const mN=R.createContext(),sa=()=>{const t=R.useContext(mN);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},E4=({children:t})=>{const[e,n]=R.useState("en"),a={language:e,setLanguage:n,changeLanguage:i=>{n(i)}};return l.jsx(mN.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),yx=t=>{const e=S4(t);return e.charAt(0).toUpperCase()+e.slice(1)},pN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),N4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...o},u)=>R.createElement("svg",{ref:u,...A4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:pN("lucide",a),...!i&&!N4(o)&&{"aria-hidden":"true"},...o},[...s.map(([d,h])=>R.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const n=R.forwardRef(({className:r,...a},i)=>R.createElement(C4,{ref:i,iconNode:e,className:pN(`lucide-${T4(yx(t))}`,`lucide-${t}`,r),...a}));return n.displayName=yx(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],D4=le("archive",R4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],vx=le("arrow-left",I4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],gN=le("banknote",O4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ma=le("calendar",j4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Cf=le("check",k4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P4=le("chevron-down",M4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],V4=le("chevron-up",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],B4=le("circle-alert",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vr=le("circle-check",z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ey=le("circle-x",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yN=le("clock",$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],dd=le("cloud-rain",q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],G4=le("cloud-snow",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Hl=le("cloud",Y4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],sv=le("copy",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Rf=le("credit-card",K4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],mu=le("dollar-sign",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],J4=le("external-link",X4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],eM=le("facebook",Z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Yn=le("gift",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],vN=le("globe",nM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],aM=le("instagram",rM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],sM=le("loader",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],lM=le("log-in",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uM=le("log-out",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_x=le("mail",dM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ty=le("map-pin",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],ov=le("message-circle",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],_N=le("message-square",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],gM=le("party-popper",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],bN=le("pen",yM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xN=le("plus",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bx=le("search",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],xx=le("sparkles",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],wM=le("square-pen",xM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],TM=le("sun",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Df=le("trash-2",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],wN=le("user-plus",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Do=le("user",AM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lv=le("users",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],wx=le("wind",RM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hs=le("x",DM),P={primary:{teal:"#00BCD4",black:"#2B2B2B",white:"#FFFFFF"},success:"#10b981",seat:{vacant:"#E5E7EB",occupied:"#10b981",selected:"#00BCD4"},button:{danger:"#ef4444"},gradient:{primary:"linear-gradient(135deg, #00BCD4 0%, #26C6DA 100%)"}},IM=()=>{const t=ds(),{language:e,changeLanguage:n}=sa(),[r,a]=R.useState(!1),[i,s]=R.useState({name:"",email:"",phone:"",destination:"",message:""});R.useEffect(()=>{sessionStorage.getItem("hasVisitedLanding")||(a(!0),sessionStorage.setItem("hasVisitedLanding","true"))},[]);const u={en:{welcome:"Welcome to IVRI Tours!",welcomeMsg:"Discover breathtaking destinations with expert tour guides in multiple languages. Your adventure begins here!",getStarted:"Get Started",heroTitle:"Explore North America with IVRI Tours",heroSubtitle:"Professional guided tours in English, Hebrew, and Russian",destinationsTitle:"Our Amazing Destinations",multiLang:"Multi-language Tours",duration:"Duration",groupSize:"Group Size",highlights:"Highlights",testimonialsTitle:"What People Say About Us",socialTitle:"Follow Our Adventures",socialDesc:"Stay connected with our latest tours, photos, and travel tips on social media!",visitFacebook:"Visit Facebook",visitInstagram:"Visit Instagram",contactTitle:"Contact Us",stats:{travelers:"Happy Travelers",tours:"Tours Completed",destinations:"Destinations",languages:"Languages"},nameLabel:"Name",emailLabel:"Email",phoneLabel:"Phone",destinationLabel:"Preferred Destination",messageLabel:"Message",submitBtn:"Send Message",footerText:"All rights reserved. Explore the world with us!",adminLogin:"Admin Login",destinations:{toronto:{title:"Toronto Downtown",desc:"Explore Canada's largest and most diverse city! Experience the iconic CN Tower with breathtaking 360 views, stroll along the beautiful harbourfront, discover the historic Distillery District, visit the Royal Ontario Museum, and immerse yourself in vibrant multicultural neighborhoods like Kensington Market and Chinatown.",duration:"8-10 hours",groupSize:"12-20 people",highlights:["CN Tower & Views","Harbourfront Walk","Distillery District","ROM Museum","Kensington Market"]},niagara:{title:"Niagara Falls",desc:"Witness the raw power and beauty of one of the world's most spectacular natural wonders! Get up close with the Hornblower boat tour, walk behind the falls at Journey Behind the Falls, enjoy panoramic views from Skylon Tower, explore the charming town of Niagara-on-the-Lake, and taste world-class wines at local vineyards.",duration:"Full Day (10-12 hours)",groupSize:"15-25 people",highlights:["Hornblower Boat Tour","Journey Behind Falls","Skylon Tower","Niagara-on-the-Lake","Wine Tasting"]},tremblant:{title:"mont-tremblant",desc:"Discover Quebec's premier four-season resort destination! Experience world-class skiing and snowboarding in winter, enjoy scenic gondola rides with stunning Laurentian views, explore the charming European-style pedestrian village, try exciting outdoor activities like hiking and zip-lining, and relax in the beautiful natural surroundings.",duration:"2-3 Days",groupSize:"10-18 people",highlights:["Skiing & Snowboarding","Scenic Gondola","Village Pedestrian","Outdoor Activities","Spa & Relaxation"]},quebec:{title:"Quebec City",desc:"Step into Europe without leaving North America! Wander through the UNESCO World Heritage Old Quebec with its cobblestone streets, visit the majestic Chteau Frontenac, explore the historic Citadelle fortification, discover the charming Quartier Petit Champlain, and savor authentic French-Canadian cuisine and culture.",duration:"2-3 Days",groupSize:"12-20 people",highlights:["Old Quebec UNESCO Site","Chteau Frontenac","Citadelle Tour","Petit Champlain","French Cuisine"]},barrie:{title:"Barrie & Lake Simcoe",desc:"Experience Ontario's beautiful lakeside gem! Enjoy stunning waterfront parks and beaches along Lake Simcoe, explore the historic downtown with unique shops and restaurants, visit Spirit Catcher sculpture and Centennial Park, experience seasonal activities like swimming in summer or ice fishing in winter.",duration:"6-8 hours",groupSize:"10-15 people",highlights:["Lake Simcoe Beach","Waterfront Parks","Downtown Shopping","Spirit Catcher","Seasonal Activities"]},detroit:{title:"Detroit",desc:"Discover the Motor City's incredible transformation! Visit the Henry Ford Museum and Greenfield Village, explore the stunning Detroit Institute of Arts, walk along the beautiful RiverWalk, tour the historic Fox Theatre, experience the vibrant Eastern Market, and learn about Motown's musical legacy.",duration:"Full Day (10-12 hours)",groupSize:"15-20 people",highlights:["Henry Ford Museum","DIA Art Museum","Detroit RiverWalk","Motown Museum","Eastern Market"]},chicago:{title:"Chicago",desc:"Experience the magnificent Windy City! Marvel at world-famous architecture on a river cruise, visit Millennium Park and the iconic Cloud Gate (Bean), explore Navy Pier and Lake Michigan shoreline, enjoy deep-dish pizza, discover Art Institute treasures, and take in breathtaking views from Willis Tower Skydeck.",duration:"2-3 Days",groupSize:"15-25 people",highlights:["Architecture River Cruise","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck","Deep-Dish Pizza"]}},testimonials:[{text:"Amazing experience! The tour guide was knowledgeable and friendly. Seeing Niagara Falls was a dream come true!",author:"Sarah M."},{text:"The multi-language support made everything so comfortable for our family. Highly recommend IVRI Tours!",author:"David L."},{text:"Quebec City tour was magical! Our guide shared fascinating stories and insider tips. Best vacation ever!",author:"Rachel K."},{text:"Professional, organized, and fun! The Chicago architecture tour exceeded all expectations. Thank you IVRI Tours!",author:"Michael R."}]},he:{welcome:"  -IVRI Tours!",welcomeMsg:"         .    !",getStarted:" ",heroTitle:"     IVRI Tours",heroSubtitle:"   ,  ",destinationsTitle:"  ",multiLang:"  ",duration:"",groupSize:" ",highlights:"",testimonialsTitle:"  ",socialTitle:"   ",socialDesc:"    ,    !",visitFacebook:" ",visitInstagram:" ",contactTitle:" ",stats:{travelers:" ",tours:" ",destinations:"",languages:""},nameLabel:"",emailLabel:"",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .    !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN    360  ,    ,     ,        - .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN "," "," "," ROM"," "]},niagara:{title:" ",desc:"         !     Hornblower,   ,     Skylon,     Niagara-on-the-Lake    .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower","  "," Skylon","Niagara-on-the-Lake"," "]},tremblant:{title:" ",desc:"        !      ,        ,           .",duration:"2-3 ",groupSize:"10-18 ",highlights:[" "," ","  "," "," "]},quebec:{title:" ",desc:'      !         "   ,    ,       - .',duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," "," "," "," "]},barrie:{title:"  ",desc:"     !        ,         ,   Spirit Catcher  Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," "," ","Spirit Catcher"," "]},detroit:{title:"",desc:"      !    ,       ,   -RiverWalk ,   Fox      .",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  "," DIA","Detroit RiverWalk"," ","Eastern Market"]},chicago:{title:"",desc:"    !     ,    -Cloud Gate ,   Navy Pier   ,         Willis.",duration:"2-3 ",groupSize:"15-25 ",highlights:["  ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .       !",author:" ."},{text:" -        .    IVRI Tours!",author:" ."},{text:"    !       .     !",author:" ."},{text:",  !       .  IVRI Tours!",author:" ."}]},ru:{welcome:"   IVRI Tours!",welcomeMsg:"           .    !",getStarted:"",heroTitle:"    IVRI Tours",heroSubtitle:"   ,    ",destinationsTitle:"  ",multiLang:" ",duration:"",groupSize:" ",highlights:" ",testimonialsTitle:"   ",socialTitle:"   ",socialDesc:"     ,      !",visitFacebook:" Facebook",visitInstagram:" Instagram",contactTitle:"  ",stats:{travelers:" ",tours:" ",destinations:"",languages:""},nameLabel:"",emailLabel:" ",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .     !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN     360,    ,      Distillery,          .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN  ","  "," Distillery"," ROM"," "]},niagara:{title:" ",desc:"          !     Hornblower,     Journey Behind the Falls,      Skylon,    ---     .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower"," "," Skylon","---"," "]},tremblant:{title:"-",desc:"      !       ,          ,              .",duration:"2-3 ",groupSize:"10-18 ",highlights:["  "," "," "," ","  "]},quebec:{title:"-",desc:"  ,    !    ,    ,    ,    ,   ,      -    - .",duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," ","  ","-"," "]},barrie:{title:"   ",desc:"      !         ,         ,   Spirit Catcher   Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," ","  ","Spirit Catcher"," "]},detroit:{title:"",desc:"     -!      -,     ,     RiverWalk,      Fox      Motown.",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  ","  DIA","Detroit RiverWalk"," Motown","Eastern Market"]},chicago:{title:"",desc:"   !        ,  -   Cloud Gate (Bean),  Navy Pier     ,         Willis Tower Skydeck.",duration:"2-3 ",groupSize:"15-25 ",highlights:[" ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .      !",author:" ."},{text:"        .   IVRI Tours!",author:" ."},{text:"    !        .    !",author:" ."},{text:",   !       .  IVRI Tours!",author:" ."}]}}[e],h={en:{giftCardTitle:"Give the Gift of Travel",giftCardDesc:"Share unforgettable experiences with IVRI Tours gift cards",purchaseGiftCard:"Purchase Gift Card"},he:{giftCardTitle:"    ",giftCardDesc:"        IVRI Tours",purchaseGiftCard:"  "},ru:{giftCardTitle:" ",giftCardDesc:"      IVRI Tours",purchaseGiftCard:"  "}}[e],f=[{key:"toronto",image:"https://images.unsplash.com/photo-1517935706615-2717063c2225?w=800&q=80"},{key:"niagara",image:"https://images.unsplash.com/photo-1489447068241-b3490214e879?w=800&q=80"},{key:"tremblant",image:"https://images.unsplash.com/photo-1729477458908-0a59d8026ed8?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{key:"quebec",image:"https://images.unsplash.com/photo-1519451241324-20b4ea2c4220?w=800&q=80"},{key:"barrie",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80"},{key:"detroit",image:"https://images.unsplash.com/photo-1590859808308-3d2d9c515b1a?w=800&q=80"},{key:"chicago",image:"https://images.unsplash.com/photo-1494522358652-f30e61a60313?w=800&q=80"}],p=["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&q=80","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&q=80","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&q=80","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200&q=80"],y=w=>{w.preventDefault(),alert({en:"Thank you for your message! We will contact you soon.",he:"  !    .",ru:"   !     ."}[e]),s({name:"",email:"",phone:"",destination:"",message:""})};return l.jsxs("div",{className:"min-h-screen bg-white",dir:e==="he"?"rtl":"ltr",children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 px-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-lg w-full text-center shadow-2xl animate-slideDown",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:P.primary.teal},children:u.welcome}),l.jsx("p",{className:"text-lg text-gray-600 mb-6",children:u.welcomeMsg}),l.jsx("button",{onClick:()=>a(!1),className:"px-8 py-3 text-white rounded-lg text-lg font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:P.primary.teal},children:u.getStarted})]})}),l.jsx("nav",{className:"bg-white shadow-md sticky top-0 z-40",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:P.primary.teal},children:"IVRI Tours"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("button",{onClick:()=>t("/gift-card-purchase"),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-medium hover:opacity-90 transition-opacity",style:{backgroundColor:P.primary.teal},children:[l.jsx(Yn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:h.purchaseGiftCard}),l.jsx("span",{className:"sm:hidden",children:"Gift"})]}),l.jsx("button",{onClick:()=>n("en"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="en"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="en"?{backgroundColor:P.primary.teal}:{},children:"English"}),l.jsx("button",{onClick:()=>n("he"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="he"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="he"?{backgroundColor:P.primary.teal}:{},children:""}),l.jsx("button",{onClick:()=>n("ru"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="ru"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="ru"?{backgroundColor:P.primary.teal}:{},children:""})]})]})})}),l.jsx("section",{className:"py-20 px-4 text-center text-white",style:{background:`linear-gradient(135deg, ${P.primary.teal} 0%, #0097A7 100%)`},children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",children:u.heroTitle}),l.jsx("p",{className:"text-xl sm:text-2xl opacity-95",children:u.heroSubtitle})]})}),l.jsxs("section",{className:"py-16 px-4 max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:P.primary.teal},children:u.destinationsTitle}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f.map(w=>l.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2",children:[l.jsx("div",{className:"h-64 bg-cover bg-center",style:{backgroundImage:`url(${w.image})`}}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:P.primary.teal},children:u.destinations[w.key].title}),l.jsx("p",{className:"text-gray-600 leading-relaxed mb-4 text-sm",children:u.destinations[w.key].desc}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(yN,{className:"w-4 h-4",style:{color:P.primary.teal}}),l.jsxs("span",{className:"font-semibold",children:[u.duration,":"]})," ",u.destinations[w.key].duration]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(lv,{className:"w-4 h-4",style:{color:P.primary.teal}}),l.jsxs("span",{className:"font-semibold",children:[u.groupSize,":"]})," ",u.destinations[w.key].groupSize]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:[u.highlights,":"]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:u.destinations[w.key].highlights.map((N,A)=>l.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-white text-xs",style:{backgroundColor:P.primary.teal},children:N},A))})]}),l.jsxs("span",{className:"inline-block px-4 py-2 rounded-full text-white text-sm font-medium mt-2",style:{backgroundColor:P.primary.teal},children:[" ",u.multiLang]})]})]},w.key))})]}),l.jsx("section",{className:"py-16 px-4 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:P.primary.teal},children:u.testimonialsTitle}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.testimonials.map((w,N)=>l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 bg-cover bg-center",style:{backgroundImage:`url(${p[N]})`,border:`3px solid ${P.primary.teal}`}}),l.jsxs("p",{className:"text-gray-600 italic mb-4 leading-relaxed",children:['"',w.text,'"']}),l.jsx("h4",{className:"font-bold",style:{color:P.primary.teal},children:w.author})]},N))})]})}),l.jsx("section",{className:"py-16 px-4 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",style:{color:P.primary.teal},children:u.socialTitle}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:u.socialDesc}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[l.jsxs("a",{href:"https://www.facebook.com/Ivritours/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{backgroundColor:"#1877F2"},children:[l.jsx(eM,{className:"w-6 h-6"}),u.visitFacebook]}),l.jsxs("a",{href:"https://www.instagram.com/ivritours_ca/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{background:"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)"},children:[l.jsx(aM,{className:"w-6 h-6"}),u.visitInstagram]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 shadow-inner",children:[l.jsxs("div",{className:"text-gray-500 mb-6",children:[l.jsx("p",{className:"text-lg font-semibold mb-2",children:"Connect with us:"}),l.jsx("p",{className:"mb-1",children:"Facebook: @Ivritours"}),l.jsx("p",{children:"Instagram: @ivritours_ca"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:P.primary.teal},children:"1000+"}),l.jsx("div",{className:"text-sm text-gray-600",children:u.stats.travelers})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:P.primary.teal},children:"100+"}),l.jsx("div",{className:"text-sm text-gray-600",children:u.stats.tours})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:P.primary.teal},children:"7"}),l.jsx("div",{className:"text-sm text-gray-600",children:u.stats.destinations})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:P.primary.teal},children:"3"}),l.jsx("div",{className:"text-sm text-gray-600",children:u.stats.languages})]})]})]})]})}),l.jsxs("section",{className:"py-16 px-4 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:P.primary.teal},children:u.contactTitle}),l.jsxs("form",{onSubmit:y,className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.nameLabel," *"]}),l.jsx("input",{type:"text",value:i.name,onChange:w=>s({...i,name:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.emailLabel," *"]}),l.jsx("input",{type:"email",value:i.email,onChange:w=>s({...i,email:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:u.phoneLabel}),l.jsx("input",{type:"tel",value:i.phone,onChange:w=>s({...i,phone:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:u.destinationLabel}),l.jsx("input",{type:"text",value:i.destination,onChange:w=>s({...i,destination:w.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.messageLabel," *"]}),l.jsx("textarea",{value:i.message,onChange:w=>s({...i,message:w.target.value}),rows:"6",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors resize-vertical",required:!0})]}),l.jsx("button",{type:"submit",className:"w-full py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:P.primary.teal},children:u.submitBtn})]})]}),l.jsx("footer",{className:"bg-gray-900 text-white py-8 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-4",style:{color:P.primary.teal},children:"IVRI Tours"}),l.jsxs("p",{className:"text-gray-400 mb-4",children:[" 2025 IVRI Tours. ",u.footerText]}),l.jsx("button",{onClick:()=>t("/login"),className:"text-sm hover:underline",style:{color:P.primary.teal},children:u.adminLogin})]})}),l.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideDown { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
        .animate-slideDown { animation: slideDown 0.5s ease-out; }
      `})]})};function EN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=EN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function If(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=EN(t))&&(r&&(r+=" "),r+=e);return r}const OM=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const a=Object.getOwnPropertyDescriptor(t,n),i=Object.getOwnPropertyDescriptor(e,n);!jM(a,i)&&r||Object.defineProperty(t,n,i)},jM=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},kM=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},MM=(t,e)=>`/* Wrapped ${t}*/
${e}`,PM=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),LM=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),VM=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,a=MM.bind(null,r,e.toString());Object.defineProperty(a,"name",LM);const{writable:i,enumerable:s,configurable:o}=PM;Object.defineProperty(t,"toString",{value:a,writable:i,enumerable:s,configurable:o})};function UM(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const a of Reflect.ownKeys(e))OM(t,e,a,n);return kM(t,e),VM(t,e,r),t}const hd=2147483647,BM=new WeakMap,Cp=new WeakMap,zM=new WeakMap;function FM(t,e){const n=t.get(e);if(n){if(n.maxAge<=Date.now()){t.delete(e);return}return n}}function TN(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"&&Number.isFinite(r)){if(r>hd)throw new TypeError(`The \`maxAge\` option cannot exceed ${hd}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(...i){var h;const s=e?e(i):i[0],o=FM(n,s);if(o)return o.data;const u=t.apply(this,i),d=typeof r=="function"?r(...i):r;if(d!==void 0&&d!==Number.POSITIVE_INFINITY){if(!Number.isFinite(d))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(d<=0)return u;if(d>hd)throw new TypeError(`The \`maxAge\` function result cannot exceed ${hd}.`)}if(n.set(s,{data:u,maxAge:d===void 0||d===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+d}),d!==void 0&&d!==Number.POSITIVE_INFINITY){const f=setTimeout(()=>{var y;n.delete(s),(y=Cp.get(a))==null||y.delete(f)},d);(h=f.unref)==null||h.call(f);const p=Cp.get(a)??new Set;p.add(f),Cp.set(a,p)}return u};return UM(a,t,{ignoreNonConfigurable:!0}),BM.set(a,n),zM.set(a,e??(i=>i[0])),a}function $M(t){return typeof t=="string"}function qM(t,e,n){return n.indexOf(t)===e}function HM(t){return t.toLowerCase()===t}function Ex(t){return t.indexOf(",")===-1?t:t.split(",")}function ny(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return ny(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return ny(n)}if(t.indexOf("-")===-1||!HM(t))return t;var a=t.split("-"),i=a[0],s=a[1],o=s===void 0?"":s;return"".concat(i,"-").concat(o.toUpperCase())}function GM(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,a=e.fallbackLocale,i=a===void 0?"en-US":a,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],u=[],d=0,h=o;d<h.length;d++){var f=h[d];u=u.concat(Ex(f))}var p=navigator.language,y=p&&Ex(p);s=s.concat(u,y)}return r&&s.push(i),s.filter($M).map(ny).filter(qM)}var YM=TN(GM,{cacheKey:JSON.stringify});function WM(t){return YM(t)[0]||null}var SN=TN(WM,{cacheKey:JSON.stringify});function oa(t,e,n){return function(a,i=n){const s=t(a)+i;return e(s)}}function pu(t){return function(n){return new Date(t(n).getTime()-1)}}function gu(t,e){return function(r){return[t(r),e(r)]}}function He(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function di(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Of(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Jo(t){const e=He(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const KM=oa(He,Jo,-100),NN=oa(He,Jo,100),cv=pu(NN),QM=oa(He,cv,-100),AN=gu(Jo,cv);function hi(t){const e=He(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const CN=oa(He,hi,-10),uv=oa(He,hi,10),jf=pu(uv),RN=oa(He,jf,-10),DN=gu(hi,jf);function Zo(t){const e=He(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const IN=oa(He,Zo,-1),dv=oa(He,Zo,1),kf=pu(dv),ON=oa(He,kf,-1),XM=gu(Zo,kf);function hv(t,e){return function(r,a=e){const i=He(r),s=di(r)+a,o=new Date;return o.setFullYear(i,s,1),o.setHours(0,0,0,0),t(o)}}function fs(t){const e=He(t),n=di(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const jN=hv(fs,-1),fv=hv(fs,1),yu=pu(fv),kN=hv(yu,-1),JM=gu(fs,yu);function ZM(t,e){return function(r,a=e){const i=He(r),s=di(r),o=Of(r)+a,u=new Date;return u.setFullYear(i,s,o),u.setHours(0,0,0,0),t(u)}}function vu(t){const e=He(t),n=di(t),r=Of(t),a=new Date;return a.setFullYear(e,n,r),a.setHours(0,0,0,0),a}const eP=ZM(vu,1),mv=pu(eP),tP=gu(vu,mv);function MN(t){return Of(yu(t))}var Rt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},nP={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},pv=[0,1,2,3,4,5,6],Rp=new Map;function rP(t){return function(n,r){var a=n||SN();Rp.has(a)||Rp.set(a,new Map);var i=Rp.get(a);return i.has(t)||i.set(t,new Intl.DateTimeFormat(a||void 0,t).format),i.get(t)(r)}}function aP(t){var e=new Date(t);return new Date(e.setHours(12))}function ms(t){return function(e,n){return rP(t)(e,aP(n))}}var iP={day:"numeric"},sP={day:"numeric",month:"long",year:"numeric"},oP={month:"long"},lP={month:"long",year:"numeric"},cP={weekday:"short"},uP={weekday:"long"},dP={year:"numeric"},hP=ms(iP),fP=ms(sP),mP=ms(oP),PN=ms(lP),pP=ms(cP),gP=ms(uP),Mf=ms(dP),yP=pv[0],vP=pv[5],Tx=pv[6];function $c(t,e){e===void 0&&(e=Rt.ISO_8601);var n=t.getDay();switch(e){case Rt.ISO_8601:return(n+6)%7;case Rt.ISLAMIC:return(n+1)%7;case Rt.HEBREW:case Rt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function _P(t){var e=Jo(t);return He(e)}function bP(t){var e=hi(t);return He(e)}function ry(t,e){e===void 0&&(e=Rt.ISO_8601);var n=He(t),r=di(t),a=t.getDate()-$c(t,e);return new Date(n,r,a)}function xP(t,e){e===void 0&&(e=Rt.ISO_8601);var n=e===Rt.GREGORY?Rt.GREGORY:Rt.ISO_8601,r=ry(t,e),a=He(t)+1,i,s;do i=new Date(a,0,n===Rt.ISO_8601?4:1),s=ry(i,e),a-=1;while(t<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function Hi(t,e){switch(t){case"century":return Jo(e);case"decade":return hi(e);case"year":return Zo(e);case"month":return fs(e);case"day":return vu(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wP(t,e){switch(t){case"century":return KM(e);case"decade":return CN(e);case"year":return IN(e);case"month":return jN(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function LN(t,e){switch(t){case"century":return NN(e);case"decade":return uv(e);case"year":return dv(e);case"month":return fv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function EP(t,e){switch(t){case"decade":return CN(e,-100);case"year":return IN(e,-10);case"month":return jN(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function TP(t,e){switch(t){case"decade":return uv(e,100);case"year":return dv(e,10);case"month":return fv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function VN(t,e){switch(t){case"century":return cv(e);case"decade":return jf(e);case"year":return kf(e);case"month":return yu(e);case"day":return mv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function SP(t,e){switch(t){case"century":return QM(e);case"decade":return RN(e);case"year":return ON(e);case"month":return kN(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function NP(t,e){switch(t){case"decade":return RN(e,-100);case"year":return ON(e,-10);case"month":return kN(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Sx(t,e){switch(t){case"century":return AN(e);case"decade":return DN(e);case"year":return XM(e);case"month":return JM(e);case"day":return tP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function AP(t,e,n){var r=[e,n].sort(function(a,i){return a.getTime()-i.getTime()});return[Hi(t,r[0]),VN(t,r[1])]}function UN(t,e,n){return n.map(function(r){return(e||Mf)(t,r)}).join("  ")}function CP(t,e,n){return UN(t,e,AN(n))}function BN(t,e,n){return UN(t,e,DN(n))}function RP(t){return t.getDay()===new Date().getDay()}function zN(t,e){e===void 0&&(e=Rt.ISO_8601);var n=t.getDay();switch(e){case Rt.ISLAMIC:case Rt.HEBREW:return n===vP||n===Tx;case Rt.ISO_8601:case Rt.GREGORY:return n===Tx||n===yP;default:throw new Error("Unsupported calendar type.")}}var sr="react-calendar__navigation";function DP(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,a=r===void 0?PN:r,i=t.formatYear,s=i===void 0?Mf:i,o=t.locale,u=t.maxDate,d=t.minDate,h=t.navigationAriaLabel,f=h===void 0?"":h,p=t.navigationAriaLive,y=t.navigationLabel,w=t.next2AriaLabel,N=w===void 0?"":w,A=t.next2Label,_=A===void 0?"":A,x=t.nextAriaLabel,E=x===void 0?"":x,I=t.nextLabel,V=I===void 0?"":I,$=t.prev2AriaLabel,S=$===void 0?"":$,v=t.prev2Label,b=v===void 0?"":v,C=t.prevAriaLabel,O=C===void 0?"":C,j=t.prevLabel,D=j===void 0?"":j,G=t.setActiveStartDate,J=t.showDoubleView,k=t.view,U=t.views,q=U.indexOf(k)>0,Y=k!=="century",X=wP(k,e),be=Y?EP(k,e):void 0,H=LN(k,e),re=Y?TP(k,e):void 0,Ae=function(){if(X.getFullYear()<0)return!0;var Qe=SP(k,e);return d&&d>=Qe}(),Te=Y&&function(){if(be.getFullYear()<0)return!0;var Qe=NP(k,e);return d&&d>=Qe}(),zt=u&&u<H,Sr=Y&&u&&u<re;function Nr(){G(X,"prev")}function Fn(){G(be,"prev2")}function fl(){G(H,"next")}function ml(){G(re,"next2")}function bi(Qe){var wi=function(){switch(k){case"century":return CP(o,s,Qe);case"decade":return BN(o,s,Qe);case"year":return s(o,Qe);case"month":return a(o,Qe);default:throw new Error("Invalid view: ".concat(k,"."))}}();return y?y({date:Qe,label:wi,locale:o||SN()||void 0,view:k}):wi}function xi(){var Qe="".concat(sr,"__label");return l.jsxs("button",{"aria-label":f,"aria-live":p,className:Qe,disabled:!q,onClick:n,style:{flexGrow:1},type:"button",children:[l.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--from"),children:bi(e)}),J?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"".concat(Qe,"__divider"),children:"  "}),l.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--to"),children:bi(H)})]}):null]})}return l.jsxs("div",{className:sr,children:[b!==null&&Y?l.jsx("button",{"aria-label":S,className:"".concat(sr,"__arrow ").concat(sr,"__prev2-button"),disabled:Te,onClick:Fn,type:"button",children:b}):null,D!==null&&l.jsx("button",{"aria-label":O,className:"".concat(sr,"__arrow ").concat(sr,"__prev-button"),disabled:Ae,onClick:Nr,type:"button",children:D}),xi(),V!==null&&l.jsx("button",{"aria-label":E,className:"".concat(sr,"__arrow ").concat(sr,"__next-button"),disabled:zt,onClick:fl,type:"button",children:V}),_!==null&&Y?l.jsx("button",{"aria-label":N,className:"".concat(sr,"__arrow ").concat(sr,"__next2-button"),disabled:Sr,onClick:ml,type:"button",children:_}):null]})}var no=function(){return no=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},no.apply(this,arguments)},IP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function Nx(t){return"".concat(t,"%")}function gv(t){var e=t.children,n=t.className,r=t.count,a=t.direction,i=t.offset,s=t.style,o=t.wrap,u=IP(t,["children","className","count","direction","offset","style","wrap"]);return l.jsx("div",no({className:n,style:no({display:"flex",flexDirection:a,flexWrap:o?"wrap":"nowrap"},s)},u,{children:R.Children.map(e,function(d,h){var f=i&&h===0?Nx(100*i/r):null;return R.cloneElement(d,no(no({},d.props),{style:{flexBasis:Nx(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:f,marginInlineStart:f,marginInlineEnd:0}}))})}))}function OP(t,e,n){return e&&e>t?e:n&&n<t?n:t}function qc(t,e){return e[0]<=t&&e[1]>=t}function jP(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function FN(t,e){return qc(t[0],e)||qc(t[1],e)}function Ax(t,e,n){var r=FN(e,t),a=[];if(r){a.push(n);var i=qc(t[0],e),s=qc(t[1],e);i&&a.push("".concat(n,"Start")),s&&a.push("".concat(n,"End")),i&&s&&a.push("".concat(n,"BothEnds"))}return a}function kP(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function MP(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,a="react-calendar__tile",i=[a];if(!n)return i;var s=new Date,o=function(){if(Array.isArray(n))return n;var y=t.dateType;if(!y)throw new Error("dateType is required when date is not an array of two dates");return Sx(y,n)}();if(qc(s,o)&&i.push("".concat(a,"--now")),!e||!kP(e))return i;var u=function(){if(Array.isArray(e))return e;var y=t.valueType;if(!y)throw new Error("valueType is required when value is not an array of two dates");return Sx(y,e)}();jP(u,o)?i.push("".concat(a,"--active")):FN(u,o)&&i.push("".concat(a,"--hasActive"));var d=Ax(u,o,"".concat(a,"--range"));i.push.apply(i,d);var h=Array.isArray(e)?e:[e];if(r&&h.length===1){var f=r>u[0]?[u[0],r]:[r,u[0]],p=Ax(f,o,"".concat(a,"--hover"));i.push.apply(i,p)}return i}function Pf(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,a=t.dateTransform,i=t.dateType,s=t.end,o=t.hover,u=t.offset,d=t.renderTile,h=t.start,f=t.step,p=f===void 0?1:f,y=t.value,w=t.valueType,N=[],A=h;A<=s;A+=p){var _=a(A);N.push(d({classes:MP({date:_,dateType:i,hover:o,value:y,valueType:w}),date:_}))}return l.jsx(gv,{className:e,count:r,offset:u,wrap:!0,children:N})}function Lf(t){var e=t.activeStartDate,n=t.children,r=t.classes,a=t.date,i=t.formatAbbr,s=t.locale,o=t.maxDate,u=t.maxDateTransform,d=t.minDate,h=t.minDateTransform,f=t.onClick,p=t.onMouseOver,y=t.style,w=t.tileClassName,N=t.tileContent,A=t.tileDisabled,_=t.view,x=R.useMemo(function(){var I={activeStartDate:e,date:a,view:_};return typeof w=="function"?w(I):w},[e,a,w,_]),E=R.useMemo(function(){var I={activeStartDate:e,date:a,view:_};return typeof N=="function"?N(I):N},[e,a,N,_]);return l.jsxs("button",{className:If(r,x),disabled:d&&h(d)>a||o&&u(o)<a||(A==null?void 0:A({activeStartDate:e,date:a,view:_})),onClick:f?function(I){return f(a,I)}:void 0,onFocus:p?function(){return p(a)}:void 0,onMouseOver:p?function(){return p(a)}:void 0,style:y,type:"button",children:[i?l.jsx("abbr",{"aria-label":i(s,a),children:n}):n,E]})}var ay=function(){return ay=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ay.apply(this,arguments)},PP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Cx="react-calendar__century-view__decades__decade";function LP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,a=t.formatYear,i=a===void 0?Mf:a,s=PP(t,["classes","currentCentury","formatYear"]),o=s.date,u=s.locale,d=[];return n&&d.push.apply(d,n),d.push(Cx),Jo(o).getFullYear()!==r&&d.push("".concat(Cx,"--neighboringCentury")),l.jsx(Lf,ay({},s,{classes:d,maxDateTransform:jf,minDateTransform:hi,view:"century",children:BN(u,i,o)}))}var iy=function(){return iy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},iy.apply(this,arguments)},Rx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function VP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,a=t.value,i=t.valueType,s=Rx(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=_P(e),u=o+(r?119:99);return l.jsx(Pf,{className:"react-calendar__century-view__decades",dateTransform:hi,dateType:"decade",end:u,hover:n,renderTile:function(d){var h=d.date,f=Rx(d,["date"]);return l.jsx(LP,iy({},s,f,{activeStartDate:e,currentCentury:o,date:h}),h.getTime())},start:o,step:10,value:a,valueType:i})}var sy=function(){return sy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},sy.apply(this,arguments)};function UP(t){function e(){return l.jsx(VP,sy({},t))}return l.jsx("div",{className:"react-calendar__century-view",children:e()})}var oy=function(){return oy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},oy.apply(this,arguments)},BP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Dx="react-calendar__decade-view__years__year";function zP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,a=t.formatYear,i=a===void 0?Mf:a,s=BP(t,["classes","currentDecade","formatYear"]),o=s.date,u=s.locale,d=[];return n&&d.push.apply(d,n),d.push(Dx),hi(o).getFullYear()!==r&&d.push("".concat(Dx,"--neighboringDecade")),l.jsx(Lf,oy({},s,{classes:d,maxDateTransform:kf,minDateTransform:Zo,view:"decade",children:i(u,o)}))}var ly=function(){return ly=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ly.apply(this,arguments)},Ix=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function FP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,a=t.value,i=t.valueType,s=Ix(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=bP(e),u=o+(r?11:9);return l.jsx(Pf,{className:"react-calendar__decade-view__years",dateTransform:Zo,dateType:"year",end:u,hover:n,renderTile:function(d){var h=d.date,f=Ix(d,["date"]);return l.jsx(zP,ly({},s,f,{activeStartDate:e,currentDecade:o,date:h}),h.getTime())},start:o,value:a,valueType:i})}var cy=function(){return cy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},cy.apply(this,arguments)};function $P(t){function e(){return l.jsx(FP,cy({},t))}return l.jsx("div",{className:"react-calendar__decade-view",children:e()})}var uy=function(){return uy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},uy.apply(this,arguments)},qP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Ox=function(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},HP="react-calendar__year-view__months__month";function GP(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,a=r===void 0?mP:r,i=t.formatMonthYear,s=i===void 0?PN:i,o=qP(t,["classes","formatMonth","formatMonthYear"]),u=o.date,d=o.locale;return l.jsx(Lf,uy({},o,{classes:Ox(Ox([],n,!0),[HP],!1),formatAbbr:s,maxDateTransform:yu,minDateTransform:fs,view:"year",children:a(d,u)}))}var dy=function(){return dy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},dy.apply(this,arguments)},jx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function YP(t){var e=t.activeStartDate,n=t.hover,r=t.value,a=t.valueType,i=jx(t,["activeStartDate","hover","value","valueType"]),s=0,o=11,u=He(e);return l.jsx(Pf,{className:"react-calendar__year-view__months",dateTransform:function(d){var h=new Date;return h.setFullYear(u,d,1),fs(h)},dateType:"month",end:o,hover:n,renderTile:function(d){var h=d.date,f=jx(d,["date"]);return l.jsx(GP,dy({},i,f,{activeStartDate:e,date:h}),h.getTime())},start:s,value:r,valueType:a})}var hy=function(){return hy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},hy.apply(this,arguments)};function WP(t){function e(){return l.jsx(YP,hy({},t))}return l.jsx("div",{className:"react-calendar__year-view",children:e()})}var fy=function(){return fy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},fy.apply(this,arguments)},KP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Dp="react-calendar__month-view__days__day";function QP(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,a=t.currentMonthIndex,i=t.formatDay,s=i===void 0?hP:i,o=t.formatLongDate,u=o===void 0?fP:o,d=KP(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),h=d.date,f=d.locale,p=[];return r&&p.push.apply(p,r),p.push(Dp),zN(h,e)&&p.push("".concat(Dp,"--weekend")),h.getMonth()!==a&&p.push("".concat(Dp,"--neighboringMonth")),l.jsx(Lf,fy({},d,{classes:p,formatAbbr:u,maxDateTransform:mv,minDateTransform:vu,view:"month",children:s(f,h)}))}var my=function(){return my=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},my.apply(this,arguments)},kx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function XP(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,a=t.showFixedNumberOfWeeks,i=t.showNeighboringMonth,s=t.value,o=t.valueType,u=kx(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=He(e),h=di(e),f=a||i,p=$c(e,n),y=f?0:p,w=(f?-p:0)+1,N=function(){if(a)return w+6*7-1;var A=MN(e);if(i){var _=new Date;_.setFullYear(d,h,A),_.setHours(0,0,0,0);var x=7-$c(_,n)-1;return A+x}return A}();return l.jsx(Pf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(A){var _=new Date;return _.setFullYear(d,h,A),vu(_)},dateType:"day",hover:r,end:N,renderTile:function(A){var _=A.date,x=kx(A,["date"]);return l.jsx(QP,my({},u,x,{activeStartDate:e,calendarType:n,currentMonthIndex:h,date:_}),_.getTime())},offset:y,start:w,value:s,valueType:o})}var $N="react-calendar__month-view__weekdays",Ip="".concat($N,"__weekday");function JP(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?pP:n,a=t.formatWeekday,i=a===void 0?gP:a,s=t.locale,o=t.onMouseLeave,u=new Date,d=fs(u),h=He(d),f=di(d),p=[],y=1;y<=7;y+=1){var w=new Date(h,f,y-$c(d,e)),N=i(s,w);p.push(l.jsx("div",{className:If(Ip,RP(w)&&"".concat(Ip,"--current"),zN(w,e)&&"".concat(Ip,"--weekend")),children:l.jsx("abbr",{"aria-label":N,title:N,children:r(s,w).replace(".","")})},y))}return l.jsx(gv,{className:$N,count:7,onFocus:o,onMouseOver:o,children:p})}var Oh=function(){return Oh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Oh.apply(this,arguments)},Mx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Px="react-calendar__tile";function ZP(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=l.jsx("span",{children:n});if(e){var a=t.date,i=t.onClickWeekNumber,s=t.weekNumber,o=Mx(t,["date","onClickWeekNumber","weekNumber"]);return l.jsx("button",Oh({},o,{className:Px,onClick:function(u){return i(s,a,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=Mx(t,["date","onClickWeekNumber","weekNumber"]);return l.jsx("div",Oh({},o,{className:Px,children:r}))}}function e3(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,a=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=function(){if(i)return 6;var d=MN(e),h=$c(e,n),f=d-(7-h);return 1+Math.ceil(f/7)}(),o=function(){for(var d=He(e),h=di(e),f=Of(e),p=[],y=0;y<s;y+=1)p.push(ry(new Date(d,h,f+y*7),n));return p}(),u=o.map(function(d){return xP(d,n)});return l.jsx(gv,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(d,h){var f=o[h];if(!f)throw new Error("date is not defined");return l.jsx(ZP,{date:f,onClickWeekNumber:r,weekNumber:d},d)})})}var py=function(){return py=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},py.apply(this,arguments)},t3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function n3(t){if(t)for(var e=0,n=Object.entries(nP);e<n.length;e++){var r=n[e],a=r[0],i=r[1];if(i.includes(t))return a}return Rt.ISO_8601}function r3(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,a=t.showFixedNumberOfWeeks,i=t.calendarType,s=i===void 0?n3(n):i,o=t.formatShortWeekday,u=t.formatWeekday,d=t.onClickWeekNumber,h=t.showWeekNumbers,f=t3(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return l.jsx(JP,{calendarType:s,formatShortWeekday:o,formatWeekday:u,locale:n,onMouseLeave:r})}function y(){return h?l.jsx(e3,{activeStartDate:e,calendarType:s,onClickWeekNumber:d,onMouseLeave:r,showFixedNumberOfWeeks:a}):null}function w(){return l.jsx(XP,py({calendarType:s},f))}var N="react-calendar__month-view";return l.jsx("div",{className:If(N,h?"".concat(N,"--weekNumbers"):""),children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[y(),l.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),w()]})]})})}var ro=function(){return ro=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ro.apply(this,arguments)},fd="react-calendar",qd=["century","decade","year","month"],a3=["decade","year","month","day"],yv=new Date;yv.setFullYear(1,0,1);yv.setHours(0,0,0,0);var i3=new Date(864e13);function ec(t){return t instanceof Date?t:new Date(t)}function qN(t,e){return qd.slice(qd.indexOf(t),qd.indexOf(e)+1)}function s3(t,e,n){var r=qN(e,n);return r.indexOf(t)!==-1}function vv(t,e,n){return t&&s3(t,e,n)?t:n}function HN(t){var e=qd.indexOf(t);return a3[e]}function o3(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=ec(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function GN(t,e){var n=t.value,r=t.minDate,a=t.maxDate,i=t.maxDetail,s=o3(n,e);if(!s)return null;var o=HN(i),u=function(){switch(e){case 0:return Hi(o,s);case 1:return VN(o,s);default:throw new Error("Invalid index value: ".concat(e))}}();return OP(u,r,a)}var _v=function(t){return GN(t,0)},YN=function(t){return GN(t,1)},l3=function(t){return[_v,YN].map(function(e){return e(t)})};function WN(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,a=t.minDetail,i=t.value,s=t.view,o=vv(s,a,n),u=_v({value:i,minDate:r,maxDate:e,maxDetail:n})||new Date;return Hi(o,u)}function c3(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,a=t.defaultView,i=t.maxDate,s=t.maxDetail,o=t.minDate,u=t.minDetail,d=t.value,h=t.view,f=vv(h,u,s),p=e||n;return p?Hi(f,p):WN({maxDate:i,maxDetail:s,minDate:o,minDetail:u,value:d||r,view:h||a})}function Op(t){return t&&(!Array.isArray(t)||t.length===1)}function md(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var u3=R.forwardRef(function(e,n){var r=e.activeStartDate,a=e.allowPartialRange,i=e.calendarType,s=e.className,o=e.defaultActiveStartDate,u=e.defaultValue,d=e.defaultView,h=e.formatDay,f=e.formatLongDate,p=e.formatMonth,y=e.formatMonthYear,w=e.formatShortWeekday,N=e.formatWeekday,A=e.formatYear,_=e.goToRangeStartOnSelect,x=_===void 0?!0:_,E=e.inputRef,I=e.locale,V=e.maxDate,$=V===void 0?i3:V,S=e.maxDetail,v=S===void 0?"month":S,b=e.minDate,C=b===void 0?yv:b,O=e.minDetail,j=O===void 0?"century":O,D=e.navigationAriaLabel,G=e.navigationAriaLive,J=e.navigationLabel,k=e.next2AriaLabel,U=e.next2Label,q=e.nextAriaLabel,Y=e.nextLabel,X=e.onActiveStartDateChange,be=e.onChange,H=e.onClickDay,re=e.onClickDecade,Ae=e.onClickMonth,Te=e.onClickWeekNumber,zt=e.onClickYear,Sr=e.onDrillDown,Nr=e.onDrillUp,Fn=e.onViewChange,fl=e.prev2AriaLabel,ml=e.prev2Label,bi=e.prevAriaLabel,xi=e.prevLabel,Qe=e.returnValue,wi=Qe===void 0?"start":Qe,Mt=e.selectRange,la=e.showDoubleView,pl=e.showFixedNumberOfWeeks,ht=e.showNavigation,Et=ht===void 0?!0:ht,Ts=e.showNeighboringCentury,Dm=e.showNeighboringDecade,gl=e.showNeighboringMonth,Im=gl===void 0?!0:gl,Ei=e.showWeekNumbers,ju=e.tileClassName,ku=e.tileContent,yl=e.tileDisabled,vl=e.value,Mu=e.view,_l=R.useState(o),Pu=_l[0],er=_l[1],Ss=R.useState(null),bl=Ss[0],tr=Ss[1],xl=R.useState(Array.isArray(u)?u.map(function(ue){return ue!==null?ec(ue):null}):u!=null?ec(u):null),ca=xl[0],Lu=xl[1],ua=R.useState(d),Vu=ua[0],yt=ua[1],Tt=r||Pu||c3({activeStartDate:r,defaultActiveStartDate:o,defaultValue:u,defaultView:d,maxDate:$,maxDetail:v,minDate:C,minDetail:j,value:vl,view:Mu}),at=function(){var ue=function(){return Mt&&Op(ca)?ca:vl!==void 0?vl:ca}();return ue?Array.isArray(ue)?ue.map(function(Fe){return Fe!==null?ec(Fe):null}):ue!==null?ec(ue):null:null}(),nr=HN(v),Me=vv(Mu||Vu,j,v),En=qN(j,v),da=Mt?bl:null,wl=En.indexOf(Me)<En.length-1,Uu=En.indexOf(Me)>0,Ti=R.useCallback(function(ue){var Fe=function(){switch(wi){case"start":return _v;case"end":return YN;case"range":return l3;default:throw new Error("Invalid returnValue.")}}();return Fe({maxDate:$,maxDetail:v,minDate:C,value:ue})},[$,v,C,wi]),Ns=R.useCallback(function(ue,Fe){er(ue);var Ge={action:Fe,activeStartDate:ue,value:at,view:Me};X&&!md(Tt,ue)&&X(Ge)},[Tt,X,at,Me]),Si=R.useCallback(function(ue,Fe){var Ge=function(){switch(Me){case"century":return re;case"decade":return zt;case"year":return Ae;case"month":return H;default:throw new Error("Invalid view: ".concat(Me,"."))}}();Ge&&Ge(ue,Fe)},[H,re,Ae,zt,Me]),Ni=R.useCallback(function(ue,Fe){if(wl){Si(ue,Fe);var Ge=En[En.indexOf(Me)+1];if(!Ge)throw new Error("Attempted to drill down from the lowest view.");er(ue),yt(Ge);var an={action:"drillDown",activeStartDate:ue,value:at,view:Ge};X&&!md(Tt,ue)&&X(an),Fn&&Me!==Ge&&Fn(an),Sr&&Sr(an)}},[Tt,wl,X,Si,Sr,Fn,at,Me,En]),Ar=R.useCallback(function(){if(Uu){var ue=En[En.indexOf(Me)-1];if(!ue)throw new Error("Attempted to drill up from the highest view.");var Fe=Hi(ue,Tt);er(Fe),yt(ue);var Ge={action:"drillUp",activeStartDate:Fe,value:at,view:ue};X&&!md(Tt,Fe)&&X(Ge),Fn&&Me!==ue&&Fn(Ge),Nr&&Nr(Ge)}},[Tt,Uu,X,Nr,Fn,at,Me,En]),El=R.useCallback(function(ue,Fe){var Ge=at;Si(ue,Fe);var an=Mt&&!Op(Ge),Pt;if(Mt)if(an)Pt=Hi(nr,ue);else{if(!Ge)throw new Error("previousValue is required");if(Array.isArray(Ge))throw new Error("previousValue must not be an array");Pt=AP(nr,Ge,ue)}else Pt=Ti(ue);var Cs=!Mt||an||x?WN({maxDate:$,maxDetail:v,minDate:C,minDetail:j,value:Pt,view:Me}):null;Fe.persist(),er(Cs),Lu(Pt);var Al={action:"onChange",activeStartDate:Cs,value:Pt,view:Me};if(X&&!md(Tt,Cs)&&X(Al),be)if(Mt){var Ai=Op(Pt);if(!Ai)be(Pt||null,Fe);else if(a){if(Array.isArray(Pt))throw new Error("value must not be an array");be([Pt||null,null],Fe)}}else be(Pt||null,Fe)},[Tt,a,Ti,x,$,v,C,j,X,be,Si,Mt,at,nr,Me]);function rr(ue){tr(ue)}function As(){tr(null)}R.useImperativeHandle(n,function(){return{activeStartDate:Tt,drillDown:Ni,drillUp:Ar,onChange:El,setActiveStartDate:Ns,value:at,view:Me}},[Tt,Ni,Ar,El,Ns,at,Me]);function Tl(ue){var Fe=ue?LN(Me,Tt):Hi(Me,Tt),Ge=wl?Ni:El,an={activeStartDate:Fe,hover:da,locale:I,maxDate:$,minDate:C,onClick:Ge,onMouseOver:Mt?rr:void 0,tileClassName:ju,tileContent:ku,tileDisabled:yl,value:at,valueType:nr};switch(Me){case"century":return l.jsx(UP,ro({formatYear:A,showNeighboringCentury:Ts},an));case"decade":return l.jsx($P,ro({formatYear:A,showNeighboringDecade:Dm},an));case"year":return l.jsx(WP,ro({formatMonth:p,formatMonthYear:y},an));case"month":return l.jsx(r3,ro({calendarType:i,formatDay:h,formatLongDate:f,formatShortWeekday:w,formatWeekday:N,onClickWeekNumber:Te,onMouseLeave:Mt?As:void 0,showFixedNumberOfWeeks:typeof pl<"u"?pl:la,showNeighboringMonth:Im,showWeekNumbers:Ei},an));default:throw new Error("Invalid view: ".concat(Me,"."))}}function Sl(){return Et?l.jsx(DP,{activeStartDate:Tt,drillUp:Ar,formatMonthYear:y,formatYear:A,locale:I,maxDate:$,minDate:C,navigationAriaLabel:D,navigationAriaLive:G,navigationLabel:J,next2AriaLabel:k,next2Label:U,nextAriaLabel:q,nextLabel:Y,prev2AriaLabel:fl,prev2Label:ml,prevAriaLabel:bi,prevLabel:xi,setActiveStartDate:Ns,showDoubleView:la,view:Me,views:En}):null}var Nl=Array.isArray(at)?at:[at];return l.jsxs("div",{className:If(fd,Mt&&Nl.length===1&&"".concat(fd,"--selectRange"),la&&"".concat(fd,"--doubleView"),s),ref:E,children:[Sl(),l.jsxs("div",{className:"".concat(fd,"__viewContainer"),onBlur:Mt?As:void 0,onMouseLeave:Mt?As:void 0,children:[Tl(),la?Tl(!0):null]})]})});const d3=()=>{};var Lx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},h3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],s=t[n++],o=t[n++],u=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},QN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,o=s?t[a+1]:0,u=a+2<t.length,d=u?t[a+2]:0,h=i>>2,f=(i&3)<<4|o>>4;let p=(o&15)<<2|d>>6,y=d&63;u||(y=64,s||(p=64)),r.push(n[h],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],o=a<t.length?n[t.charAt(a)]:0;++a;const d=a<t.length?n[t.charAt(a)]:64;++a;const f=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||o==null||d==null||f==null)throw new f3;const p=i<<2|o>>4;if(r.push(p),d!==64){const y=o<<4&240|d>>2;if(r.push(y),f!==64){const w=d<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class f3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m3=function(t){const e=KN(t);return QN.encodeByteArray(e,!0)},jh=function(t){return m3(t).replace(/\./g,"")},XN=function(t){try{return QN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=()=>p3().__FIREBASE_DEFAULTS__,y3=()=>{if(typeof process>"u"||typeof Lx>"u")return;const t=Lx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},v3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&XN(t[1]);return e&&JSON.parse(e)},Vf=()=>{try{return d3()||g3()||y3()||v3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JN=t=>{var e,n;return(n=(e=Vf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ZN=t=>{const e=JN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eA=()=>{var t;return(t=Vf())==null?void 0:t.config},tA=t=>{var e;return(e=Vf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(s)),""].join(".")}const wc={};function b3(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function x3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Vx=!1;function xv(t,e){if(typeof window>"u"||typeof document>"u"||!ps(window.location.host)||wc[t]===e||wc[t]||Vx)return;wc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=b3().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Vx=!0,s()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=x3(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),A=document.getElementById(N)||document.createElement("a"),_=n("preprendIcon"),x=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;o(E),h(A,N);const I=d();u(x,_),E.append(x,w,A,I),document.body.appendChild(E)}i?(w.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function w3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function E3(){var e;const t=(e=Vf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function S3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N3(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function A3(){return!E3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function C3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=R3,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gs.prototype.create)}}class gs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?D3(i,r):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Bn(a,o,r)}}function D3(t,e){return t.replace(I3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const I3=/\{\$([^}]+)}/g;function O3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zr(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],s=e[a];if(Ux(i)&&Ux(s)){if(!Zr(i,s))return!1}else if(i!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Ux(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,i]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function j3(t,e){const n=new k3(t,e);return n.subscribe.bind(n)}class k3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=jp),a.error===void 0&&(a.error=jp),a.complete===void 0&&(a.complete=jp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=1e3,L3=2,V3=4*60*60*1e3,U3=.5;function Bx(t,e=P3,n=L3){const r=e*Math.pow(n,t),a=Math.round(U3*r*(Math.random()-.5)*2);return Math.min(V3,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F3(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&s.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z3(t){return t===Li?void 0:t}function F3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new B3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const q3={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},H3=me.INFO,G3={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},Y3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=G3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uf{constructor(e){this.name=e,this._logLevel=H3,this._logHandler=Y3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?q3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const W3=(t,e)=>e.some(n=>t instanceof n);let zx,Fx;function K3(){return zx||(zx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q3(){return Fx||(Fx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sA=new WeakMap,gy=new WeakMap,oA=new WeakMap,kp=new WeakMap,wv=new WeakMap;function X3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Ga(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&sA.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function J3(t){if(gy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});gy.set(t,e)}let yy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ga(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z3(t){yy=t(yy)}function e6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mp(this),e,...n);return oA.set(r,e.sort?e.sort():[e]),Ga(r)}:Q3().includes(t)?function(...e){return t.apply(Mp(this),e),Ga(sA.get(this))}:function(...e){return Ga(t.apply(Mp(this),e))}}function t6(t){return typeof t=="function"?e6(t):(t instanceof IDBTransaction&&J3(t),W3(t,K3())?new Proxy(t,yy):t)}function Ga(t){if(t instanceof IDBRequest)return X3(t);if(kp.has(t))return kp.get(t);const e=t6(t);return e!==t&&(kp.set(t,e),wv.set(e,t)),e}const Mp=t=>wv.get(t);function lA(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=Ga(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ga(s.result),u.oldVersion,u.newVersion,Ga(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const n6=["get","getKey","getAll","getAllKeys","count"],r6=["put","add","delete","clear"],Pp=new Map;function $x(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Pp.get(e))return Pp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=r6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||n6.includes(n)))return;const i=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),a&&u.done]))[0]};return Pp.set(e,i),i}Z3(t=>({...t,get:(e,n,r)=>$x(e,n)||t.get(e,n,r),has:(e,n)=>!!$x(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vy="@firebase/app",qx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new Uf("@firebase/app"),s6="@firebase/app-compat",o6="@firebase/analytics-compat",l6="@firebase/analytics",c6="@firebase/app-check-compat",u6="@firebase/app-check",d6="@firebase/auth",h6="@firebase/auth-compat",f6="@firebase/database",m6="@firebase/data-connect",p6="@firebase/database-compat",g6="@firebase/functions",y6="@firebase/functions-compat",v6="@firebase/installations",_6="@firebase/installations-compat",b6="@firebase/messaging",x6="@firebase/messaging-compat",w6="@firebase/performance",E6="@firebase/performance-compat",T6="@firebase/remote-config",S6="@firebase/remote-config-compat",N6="@firebase/storage",A6="@firebase/storage-compat",C6="@firebase/firestore",R6="@firebase/ai",D6="@firebase/firestore-compat",I6="firebase",O6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="[DEFAULT]",j6={[vy]:"fire-core",[s6]:"fire-core-compat",[l6]:"fire-analytics",[o6]:"fire-analytics-compat",[u6]:"fire-app-check",[c6]:"fire-app-check-compat",[d6]:"fire-auth",[h6]:"fire-auth-compat",[f6]:"fire-rtdb",[m6]:"fire-data-connect",[p6]:"fire-rtdb-compat",[g6]:"fire-fn",[y6]:"fire-fn-compat",[v6]:"fire-iid",[_6]:"fire-iid-compat",[b6]:"fire-fcm",[x6]:"fire-fcm-compat",[w6]:"fire-perf",[E6]:"fire-perf-compat",[T6]:"fire-rc",[S6]:"fire-rc-compat",[N6]:"fire-gcs",[A6]:"fire-gcs-compat",[C6]:"fire-fst",[D6]:"fire-fst-compat",[R6]:"fire-vertex","fire-js":"fire-js",[I6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Map,k6=new Map,by=new Map;function Hx(t,e){try{t.container.addComponent(e)}catch(n){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(by.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;by.set(e,t);for(const n of kh.values())Hx(n,t);for(const n of k6.values())Hx(n,t);return!0}function fi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new gs("app","Firebase",M6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=O6;function cA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:_y,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Ya.create("bad-app-name",{appName:String(a)});if(n||(n=eA()),!n)throw Ya.create("no-options");const i=kh.get(a);if(i){if(Zr(n,i.options)&&Zr(r,i.config))return i;throw Ya.create("duplicate-app",{appName:a})}const s=new $3(a);for(const u of by.values())s.addComponent(u);const o=new P6(n,r,s);return kh.set(a,o),o}function Bf(t=_y){const e=kh.get(t);if(!e&&t===_y&&eA())return cA();if(!e)throw Ya.create("no-app",{appName:t});return e}function tn(t,e,n){let r=j6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const s=[`Unable to register library "${r}" with version "${e}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ea.warn(s.join(" "));return}Kn(new Un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="firebase-heartbeat-database",V6=1,Hc="firebase-heartbeat-store";let Lp=null;function uA(){return Lp||(Lp=lA(L6,V6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ya.create("idb-open",{originalErrorMessage:t.message})})),Lp}async function U6(t){try{const n=(await uA()).transaction(Hc),r=await n.objectStore(Hc).get(dA(t));return await n.done,r}catch(e){if(e instanceof Bn)ea.warn(e.message);else{const n=Ya.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ea.warn(n.message)}}}async function Gx(t,e){try{const r=(await uA()).transaction(Hc,"readwrite");await r.objectStore(Hc).put(e,dA(t)),await r.done}catch(n){if(n instanceof Bn)ea.warn(n.message);else{const r=Ya.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ea.warn(r.message)}}}function dA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=1024,z6=30;class F6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new q6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Yx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>z6){const s=H6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ea.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yx(),{heartbeatsToSend:r,unsentEntries:a}=$6(this._heartbeatsCache.heartbeats),i=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ea.warn(n),""}}}function Yx(){return new Date().toISOString().substring(0,10)}function $6(t,e=B6){const n=[];let r=t.slice();for(const a of t){const i=n.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Wx(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Wx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class q6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?iA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await U6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Gx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Wx(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function H6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){Kn(new Un("platform-logger",e=>new a6(e),"PRIVATE")),Kn(new Un("heartbeat",e=>new F6(e),"PRIVATE")),tn(vy,qx,t),tn(vy,qx,"esm2020"),tn("fire-js","")}G6("");var Kx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wa,hA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function b(){}b.prototype=v.prototype,S.F=v.prototype,S.prototype=new b,S.prototype.constructor=S,S.D=function(C,O,j){for(var D=Array(arguments.length-2),G=2;G<arguments.length;G++)D[G-2]=arguments[G];return v.prototype[O].apply(C,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,v,b){b||(b=0);const C=Array(16);if(typeof v=="string")for(var O=0;O<16;++O)C[O]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(O=0;O<16;++O)C[O]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=S.g[0],b=S.g[1],O=S.g[2];let j=S.g[3],D;D=v+(j^b&(O^j))+C[0]+3614090360&4294967295,v=b+(D<<7&4294967295|D>>>25),D=j+(O^v&(b^O))+C[1]+3905402710&4294967295,j=v+(D<<12&4294967295|D>>>20),D=O+(b^j&(v^b))+C[2]+606105819&4294967295,O=j+(D<<17&4294967295|D>>>15),D=b+(v^O&(j^v))+C[3]+3250441966&4294967295,b=O+(D<<22&4294967295|D>>>10),D=v+(j^b&(O^j))+C[4]+4118548399&4294967295,v=b+(D<<7&4294967295|D>>>25),D=j+(O^v&(b^O))+C[5]+1200080426&4294967295,j=v+(D<<12&4294967295|D>>>20),D=O+(b^j&(v^b))+C[6]+2821735955&4294967295,O=j+(D<<17&4294967295|D>>>15),D=b+(v^O&(j^v))+C[7]+4249261313&4294967295,b=O+(D<<22&4294967295|D>>>10),D=v+(j^b&(O^j))+C[8]+1770035416&4294967295,v=b+(D<<7&4294967295|D>>>25),D=j+(O^v&(b^O))+C[9]+2336552879&4294967295,j=v+(D<<12&4294967295|D>>>20),D=O+(b^j&(v^b))+C[10]+4294925233&4294967295,O=j+(D<<17&4294967295|D>>>15),D=b+(v^O&(j^v))+C[11]+2304563134&4294967295,b=O+(D<<22&4294967295|D>>>10),D=v+(j^b&(O^j))+C[12]+1804603682&4294967295,v=b+(D<<7&4294967295|D>>>25),D=j+(O^v&(b^O))+C[13]+4254626195&4294967295,j=v+(D<<12&4294967295|D>>>20),D=O+(b^j&(v^b))+C[14]+2792965006&4294967295,O=j+(D<<17&4294967295|D>>>15),D=b+(v^O&(j^v))+C[15]+1236535329&4294967295,b=O+(D<<22&4294967295|D>>>10),D=v+(O^j&(b^O))+C[1]+4129170786&4294967295,v=b+(D<<5&4294967295|D>>>27),D=j+(b^O&(v^b))+C[6]+3225465664&4294967295,j=v+(D<<9&4294967295|D>>>23),D=O+(v^b&(j^v))+C[11]+643717713&4294967295,O=j+(D<<14&4294967295|D>>>18),D=b+(j^v&(O^j))+C[0]+3921069994&4294967295,b=O+(D<<20&4294967295|D>>>12),D=v+(O^j&(b^O))+C[5]+3593408605&4294967295,v=b+(D<<5&4294967295|D>>>27),D=j+(b^O&(v^b))+C[10]+38016083&4294967295,j=v+(D<<9&4294967295|D>>>23),D=O+(v^b&(j^v))+C[15]+3634488961&4294967295,O=j+(D<<14&4294967295|D>>>18),D=b+(j^v&(O^j))+C[4]+3889429448&4294967295,b=O+(D<<20&4294967295|D>>>12),D=v+(O^j&(b^O))+C[9]+568446438&4294967295,v=b+(D<<5&4294967295|D>>>27),D=j+(b^O&(v^b))+C[14]+3275163606&4294967295,j=v+(D<<9&4294967295|D>>>23),D=O+(v^b&(j^v))+C[3]+4107603335&4294967295,O=j+(D<<14&4294967295|D>>>18),D=b+(j^v&(O^j))+C[8]+1163531501&4294967295,b=O+(D<<20&4294967295|D>>>12),D=v+(O^j&(b^O))+C[13]+2850285829&4294967295,v=b+(D<<5&4294967295|D>>>27),D=j+(b^O&(v^b))+C[2]+4243563512&4294967295,j=v+(D<<9&4294967295|D>>>23),D=O+(v^b&(j^v))+C[7]+1735328473&4294967295,O=j+(D<<14&4294967295|D>>>18),D=b+(j^v&(O^j))+C[12]+2368359562&4294967295,b=O+(D<<20&4294967295|D>>>12),D=v+(b^O^j)+C[5]+4294588738&4294967295,v=b+(D<<4&4294967295|D>>>28),D=j+(v^b^O)+C[8]+2272392833&4294967295,j=v+(D<<11&4294967295|D>>>21),D=O+(j^v^b)+C[11]+1839030562&4294967295,O=j+(D<<16&4294967295|D>>>16),D=b+(O^j^v)+C[14]+4259657740&4294967295,b=O+(D<<23&4294967295|D>>>9),D=v+(b^O^j)+C[1]+2763975236&4294967295,v=b+(D<<4&4294967295|D>>>28),D=j+(v^b^O)+C[4]+1272893353&4294967295,j=v+(D<<11&4294967295|D>>>21),D=O+(j^v^b)+C[7]+4139469664&4294967295,O=j+(D<<16&4294967295|D>>>16),D=b+(O^j^v)+C[10]+3200236656&4294967295,b=O+(D<<23&4294967295|D>>>9),D=v+(b^O^j)+C[13]+681279174&4294967295,v=b+(D<<4&4294967295|D>>>28),D=j+(v^b^O)+C[0]+3936430074&4294967295,j=v+(D<<11&4294967295|D>>>21),D=O+(j^v^b)+C[3]+3572445317&4294967295,O=j+(D<<16&4294967295|D>>>16),D=b+(O^j^v)+C[6]+76029189&4294967295,b=O+(D<<23&4294967295|D>>>9),D=v+(b^O^j)+C[9]+3654602809&4294967295,v=b+(D<<4&4294967295|D>>>28),D=j+(v^b^O)+C[12]+3873151461&4294967295,j=v+(D<<11&4294967295|D>>>21),D=O+(j^v^b)+C[15]+530742520&4294967295,O=j+(D<<16&4294967295|D>>>16),D=b+(O^j^v)+C[2]+3299628645&4294967295,b=O+(D<<23&4294967295|D>>>9),D=v+(O^(b|~j))+C[0]+4096336452&4294967295,v=b+(D<<6&4294967295|D>>>26),D=j+(b^(v|~O))+C[7]+1126891415&4294967295,j=v+(D<<10&4294967295|D>>>22),D=O+(v^(j|~b))+C[14]+2878612391&4294967295,O=j+(D<<15&4294967295|D>>>17),D=b+(j^(O|~v))+C[5]+4237533241&4294967295,b=O+(D<<21&4294967295|D>>>11),D=v+(O^(b|~j))+C[12]+1700485571&4294967295,v=b+(D<<6&4294967295|D>>>26),D=j+(b^(v|~O))+C[3]+2399980690&4294967295,j=v+(D<<10&4294967295|D>>>22),D=O+(v^(j|~b))+C[10]+4293915773&4294967295,O=j+(D<<15&4294967295|D>>>17),D=b+(j^(O|~v))+C[1]+2240044497&4294967295,b=O+(D<<21&4294967295|D>>>11),D=v+(O^(b|~j))+C[8]+1873313359&4294967295,v=b+(D<<6&4294967295|D>>>26),D=j+(b^(v|~O))+C[15]+4264355552&4294967295,j=v+(D<<10&4294967295|D>>>22),D=O+(v^(j|~b))+C[6]+2734768916&4294967295,O=j+(D<<15&4294967295|D>>>17),D=b+(j^(O|~v))+C[13]+1309151649&4294967295,b=O+(D<<21&4294967295|D>>>11),D=v+(O^(b|~j))+C[4]+4149444226&4294967295,v=b+(D<<6&4294967295|D>>>26),D=j+(b^(v|~O))+C[11]+3174756917&4294967295,j=v+(D<<10&4294967295|D>>>22),D=O+(v^(j|~b))+C[2]+718787259&4294967295,O=j+(D<<15&4294967295|D>>>17),D=b+(j^(O|~v))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.v=function(S,v){v===void 0&&(v=S.length);const b=v-this.blockSize,C=this.C;let O=this.h,j=0;for(;j<v;){if(O==0)for(;j<=b;)a(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<v;)if(C[O++]=S.charCodeAt(j++),O==this.blockSize){a(this,C),O=0;break}}else for(;j<v;)if(C[O++]=S[j++],O==this.blockSize){a(this,C),O=0;break}}this.h=O,this.o+=v},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;v=this.o*8;for(var b=S.length-8;b<S.length;++b)S[b]=v&255,v/=256;for(this.v(S),S=Array(16),v=0,b=0;b<4;++b)for(let C=0;C<32;C+=8)S[v++]=this.g[b]>>>C&255;return S};function i(S,v){var b=o;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=v(S)}function s(S,v){this.h=v;const b=[];let C=!0;for(let O=S.length-1;O>=0;O--){const j=S[O]|0;C&&j==v||(b[O]=j,C=!1)}this.g=b}var o={};function u(S){return-128<=S&&S<128?i(S,function(v){return new s([v|0],v<0?-1:0)}):new s([S|0],S<0?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return A(d(-S));const v=[];let b=1;for(let C=0;S>=b;C++)v[C]=S/b|0,b*=4294967296;return new s(v,0)}function h(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return A(h(S.substring(1),v));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=d(Math.pow(v,8));let C=f;for(let j=0;j<S.length;j+=8){var O=Math.min(8,S.length-j);const D=parseInt(S.substring(j,j+O),v);O<8?(O=d(Math.pow(v,O)),C=C.j(O).add(d(D))):(C=C.j(b),C=C.add(d(D)))}return C}var f=u(0),p=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-A(this).m();let S=0,v=1;for(let b=0;b<this.g.length;b++){const C=this.i(b);S+=(C>=0?C:4294967296+C)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(N(this))return"-"+A(this).toString(S);const v=d(Math.pow(S,6));var b=this;let C="";for(;;){const O=I(b,v).g;b=_(b,O.j(v));let j=((b.g.length>0?b.g[0]:b.h)>>>0).toString(S);if(b=O,w(b))return j+C;for(;j.length<6;)j="0"+j;C=j+C}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(let v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=_(this,S),N(S)?-1:w(S)?0:1};function A(S){const v=S.g.length,b=[];for(let C=0;C<v;C++)b[C]=~S.g[C];return new s(b,~S.h).add(p)}t.abs=function(){return N(this)?A(this):this},t.add=function(S){const v=Math.max(this.g.length,S.g.length),b=[];let C=0;for(let O=0;O<=v;O++){let j=C+(this.i(O)&65535)+(S.i(O)&65535),D=(j>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);C=D>>>16,j&=65535,D&=65535,b[O]=D<<16|j}return new s(b,b[b.length-1]&-2147483648?-1:0)};function _(S,v){return S.add(A(v))}t.j=function(S){if(w(this)||w(S))return f;if(N(this))return N(S)?A(this).j(A(S)):A(A(this).j(S));if(N(S))return A(this.j(A(S)));if(this.l(y)<0&&S.l(y)<0)return d(this.m()*S.m());const v=this.g.length+S.g.length,b=[];for(var C=0;C<2*v;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(let O=0;O<S.g.length;O++){const j=this.i(C)>>>16,D=this.i(C)&65535,G=S.i(O)>>>16,J=S.i(O)&65535;b[2*C+2*O]+=D*J,x(b,2*C+2*O),b[2*C+2*O+1]+=j*J,x(b,2*C+2*O+1),b[2*C+2*O+1]+=D*G,x(b,2*C+2*O+1),b[2*C+2*O+2]+=j*G,x(b,2*C+2*O+2)}for(S=0;S<v;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=v;S<2*v;S++)b[S]=0;return new s(b,0)};function x(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function E(S,v){this.g=S,this.h=v}function I(S,v){if(w(v))throw Error("division by zero");if(w(S))return new E(f,f);if(N(S))return v=I(A(S),v),new E(A(v.g),A(v.h));if(N(v))return v=I(S,A(v)),new E(A(v.g),v.h);if(S.g.length>30){if(N(S)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var b=p,C=v;C.l(S)<=0;)b=V(b),C=V(C);var O=$(b,1),j=$(C,1);for(C=$(C,2),b=$(b,2);!w(C);){var D=j.add(C);D.l(S)<=0&&(O=O.add(b),j=D),C=$(C,1),b=$(b,1)}return v=_(S,O.j(v)),new E(O,v)}for(O=f;S.l(v)>=0;){for(b=Math.max(1,Math.floor(S.m()/v.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),j=d(b),D=j.j(v);N(D)||D.l(S)>0;)b-=C,j=d(b),D=j.j(v);w(j)&&(j=p),O=O.add(j),S=_(S,D)}return new E(O,S)}t.B=function(S){return I(this,S).h},t.and=function(S){const v=Math.max(this.g.length,S.g.length),b=[];for(let C=0;C<v;C++)b[C]=this.i(C)&S.i(C);return new s(b,this.h&S.h)},t.or=function(S){const v=Math.max(this.g.length,S.g.length),b=[];for(let C=0;C<v;C++)b[C]=this.i(C)|S.i(C);return new s(b,this.h|S.h)},t.xor=function(S){const v=Math.max(this.g.length,S.g.length),b=[];for(let C=0;C<v;C++)b[C]=this.i(C)^S.i(C);return new s(b,this.h^S.h)};function V(S){const v=S.g.length+1,b=[];for(let C=0;C<v;C++)b[C]=S.i(C)<<1|S.i(C-1)>>>31;return new s(b,S.h)}function $(S,v){const b=v>>5;v%=32;const C=S.g.length-b,O=[];for(let j=0;j<C;j++)O[j]=v>0?S.i(j+b)>>>v|S.i(j+b+1)<<32-v:S.i(j+b);return new s(O,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hA=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,Wa=s}).apply(typeof Kx<"u"?Kx:typeof self<"u"?self:typeof window<"u"?window:{});var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fA,rc,mA,Hd,xy,pA,gA,yA;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pd=="object"&&pd];for(var m=0;m<c.length;++m){var g=c[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function a(c,m){if(m)e:{var g=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var M=c[T];if(!(M in g))break e;g=g[M]}c=c[c.length-1],T=g[c],m=m(T),m!=T&&m!=null&&e(g,c,{configurable:!0,writable:!0,value:m})}}a("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(c){return c||function(m){var g=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&g.push([T,m[T]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},s=this||self;function o(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function u(c,m,g){return c.call.apply(c.bind,arguments)}function d(c,m,g){return d=u,d.apply(null,arguments)}function h(c,m){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function f(c,m){function g(){}g.prototype=m.prototype,c.Z=m.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(T,M,L){for(var W=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)W[ce-2]=arguments[ce];return m.prototype[M].apply(T,W)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function y(c){const m=c.length;if(m>0){const g=Array(m);for(let T=0;T<m;T++)g[T]=c[T];return g}return[]}function w(c,m){for(let T=1;T<arguments.length;T++){const M=arguments[T];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=c.length||0;const L=M.length||0;c.length=g+L;for(let W=0;W<L;W++)c[g+W]=M[W]}else c.push(M)}}class N{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function A(c){s.setTimeout(()=>{throw c},0)}function _(){var c=S;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class x{constructor(){this.h=this.g=null}add(m,g){const T=E.get();T.set(m,g),this.h?this.h.next=T:this.g=T,this.h=T}}var E=new N(()=>new I,c=>c.reset());class I{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,$=!1,S=new x,v=()=>{const c=Promise.resolve(void 0);V=()=>{c.then(b)}};function b(){for(var c;c=_();){try{c.h.call(c.g)}catch(g){A(g)}var m=E;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}$=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};s.addEventListener("test",g,m),s.removeEventListener("test",g,m)}catch{}return c}();function D(c){return/^[\s\xa0]*$/.test(c)}function G(c,m){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}f(G,O),G.prototype.init=function(c,m){const g=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(g=="mouseover"?m=c.fromElement:g=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),k=0;function U(c,m,g,T,M){this.listener=c,this.proxy=null,this.src=m,this.type=g,this.capture=!!T,this.ha=M,this.key=++k,this.da=this.fa=!1}function q(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Y(c,m,g){for(const T in c)m.call(g,c[T],T,c)}function X(c,m){for(const g in c)m.call(void 0,c[g],g,c)}function be(c){const m={};for(const g in c)m[g]=c[g];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,m){let g,T;for(let M=1;M<arguments.length;M++){T=arguments[M];for(g in T)c[g]=T[g];for(let L=0;L<H.length;L++)g=H[L],Object.prototype.hasOwnProperty.call(T,g)&&(c[g]=T[g])}}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,m,g,T,M){const L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);const W=zt(c,m,T,M);return W>-1?(m=c[W],g||(m.fa=!1)):(m=new U(m,this.src,L,!!T,M),m.fa=g,c.push(m)),m};function Te(c,m){const g=m.type;if(g in c.g){var T=c.g[g],M=Array.prototype.indexOf.call(T,m,void 0),L;(L=M>=0)&&Array.prototype.splice.call(T,M,1),L&&(q(m),c.g[g].length==0&&(delete c.g[g],c.h--))}}function zt(c,m,g,T){for(let M=0;M<c.length;++M){const L=c[M];if(!L.da&&L.listener==m&&L.capture==!!g&&L.ha==T)return M}return-1}var Sr="closure_lm_"+(Math.random()*1e6|0),Nr={};function Fn(c,m,g,T,M){if(Array.isArray(m)){for(let L=0;L<m.length;L++)Fn(c,m[L],g,T,M);return null}return g=pl(g),c&&c[J]?c.J(m,g,o(T)?!!T.capture:!1,M):fl(c,m,g,!1,T,M)}function fl(c,m,g,T,M,L){if(!m)throw Error("Invalid event type");const W=o(M)?!!M.capture:!!M;let ce=Mt(c);if(ce||(c[Sr]=ce=new Ae(c)),g=ce.add(m,g,T,W,L),g.proxy)return g;if(T=ml(),g.proxy=T,T.src=c,T.listener=g,c.addEventListener)j||(M=W),M===void 0&&(M=!1),c.addEventListener(m.toString(),T,M);else if(c.attachEvent)c.attachEvent(Qe(m.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ml(){function c(g){return m.call(c.src,c.listener,g)}const m=wi;return c}function bi(c,m,g,T,M){if(Array.isArray(m))for(var L=0;L<m.length;L++)bi(c,m[L],g,T,M);else T=o(T)?!!T.capture:!!T,g=pl(g),c&&c[J]?(c=c.i,L=String(m).toString(),L in c.g&&(m=c.g[L],g=zt(m,g,T,M),g>-1&&(q(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete c.g[L],c.h--)))):c&&(c=Mt(c))&&(m=c.g[m.toString()],c=-1,m&&(c=zt(m,g,T,M)),(g=c>-1?m[c]:null)&&xi(g))}function xi(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[J])Te(m.i,c);else{var g=c.type,T=c.proxy;m.removeEventListener?m.removeEventListener(g,T,c.capture):m.detachEvent?m.detachEvent(Qe(g),T):m.addListener&&m.removeListener&&m.removeListener(T),(g=Mt(m))?(Te(g,c),g.h==0&&(g.src=null,m[Sr]=null)):q(c)}}}function Qe(c){return c in Nr?Nr[c]:Nr[c]="on"+c}function wi(c,m){if(c.da)c=!0;else{m=new G(m,this);const g=c.listener,T=c.ha||c.src;c.fa&&xi(c),c=g.call(T,m)}return c}function Mt(c){return c=c[Sr],c instanceof Ae?c:null}var la="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(c){return typeof c=="function"?c:(c[la]||(c[la]=function(m){return c.handleEvent(m)}),c[la])}function ht(){C.call(this),this.i=new Ae(this),this.M=this,this.G=null}f(ht,C),ht.prototype[J]=!0,ht.prototype.removeEventListener=function(c,m,g,T){bi(this,c,m,g,T)};function Et(c,m){var g,T=c.G;if(T)for(g=[];T;T=T.G)g.push(T);if(c=c.M,T=m.type||m,typeof m=="string")m=new O(m,c);else if(m instanceof O)m.target=m.target||c;else{var M=m;m=new O(T,c),re(m,M)}M=!0;let L,W;if(g)for(W=g.length-1;W>=0;W--)L=m.g=g[W],M=Ts(L,T,!0,m)&&M;if(L=m.g=c,M=Ts(L,T,!0,m)&&M,M=Ts(L,T,!1,m)&&M,g)for(W=0;W<g.length;W++)L=m.g=g[W],M=Ts(L,T,!1,m)&&M}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const g=c.g[m];for(let T=0;T<g.length;T++)q(g[T]);delete c.g[m],c.h--}}this.G=null},ht.prototype.J=function(c,m,g,T){return this.i.add(String(c),m,!1,g,T)},ht.prototype.K=function(c,m,g,T){return this.i.add(String(c),m,!0,g,T)};function Ts(c,m,g,T){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let M=!0;for(let L=0;L<m.length;++L){const W=m[L];if(W&&!W.da&&W.capture==g){const ce=W.listener,ft=W.ha||W.src;W.fa&&Te(c.i,W),M=ce.call(ft,T)!==!1&&M}}return M&&!T.defaultPrevented}function Dm(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:s.setTimeout(c,m||0)}function gl(c){c.g=Dm(()=>{c.g=null,c.i&&(c.i=!1,gl(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class Im extends C{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(c){C.call(this),this.h=c,this.g={}}f(Ei,C);var ju=[];function ku(c){Y(c.g,function(m,g){this.g.hasOwnProperty(g)&&xi(m)},c),c.g={}}Ei.prototype.N=function(){Ei.Z.N.call(this),ku(this)},Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yl=s.JSON.stringify,vl=s.JSON.parse,Mu=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function _l(){}function Pu(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ss(){O.call(this,"d")}f(Ss,O);function bl(){O.call(this,"c")}f(bl,O);var tr={},xl=null;function ca(){return xl=xl||new ht}tr.Ia="serverreachability";function Lu(c){O.call(this,tr.Ia,c)}f(Lu,O);function ua(c){const m=ca();Et(m,new Lu(m))}tr.STAT_EVENT="statevent";function Vu(c,m){O.call(this,tr.STAT_EVENT,c),this.stat=m}f(Vu,O);function yt(c){const m=ca();Et(m,new Vu(m,c))}tr.Ja="timingevent";function Tt(c,m){O.call(this,tr.Ja,c),this.size=m}f(Tt,O);function at(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},m)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function Me(c,m,g,T,M,L){c.info(function(){if(c.g)if(L){var W="",ce=L.split("&");for(let De=0;De<ce.length;De++){var ft=ce[De].split("=");if(ft.length>1){const vt=ft[0];ft=ft[1];const ir=vt.split("_");W=ir.length>=2&&ir[1]=="type"?W+(vt+"="+ft+"&"):W+(vt+"=redacted&")}}}else W=null;else W=L;return"XMLHTTP REQ ("+T+") [attempt "+M+"]: "+m+`
`+g+`
`+W})}function En(c,m,g,T,M,L,W){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+M+"]: "+m+`
`+g+`
`+L+" "+W})}function da(c,m,g,T){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uu(c,g)+(T?" "+T:"")})}function wl(c,m){c.info(function(){return"TIMEOUT: "+m})}nr.prototype.info=function(){};function Uu(c,m){if(!c.g)return m;if(!m)return null;try{const L=JSON.parse(m);if(L){for(c=0;c<L.length;c++)if(Array.isArray(L[c])){var g=L[c];if(!(g.length<2)){var T=g[1];if(Array.isArray(T)&&!(T.length<1)){var M=T[0];if(M!="noop"&&M!="stop"&&M!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return yl(L)}catch{return m}}var Ti={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ns={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function Ni(){}f(Ni,_l),Ni.prototype.g=function(){return new XMLHttpRequest},Si=new Ni;function Ar(c){return encodeURIComponent(String(c))}function El(c){var m=1;c=c.split(":");const g=[];for(;m>0&&c.length;)g.push(c.shift()),m--;return c.length&&g.push(c.join(":")),g}function rr(c,m,g,T){this.j=c,this.i=m,this.l=g,this.S=T||1,this.V=new Ei(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new As}function As(){this.i=null,this.g="",this.h=!1}var Tl={},Sl={};function Nl(c,m,g){c.M=1,c.A=Bu(ar(m)),c.u=g,c.R=!0,ue(c,null)}function ue(c,m){c.F=Date.now(),Pt(c),c.B=ar(c.A);var g=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),p1(g.i,"t",T),c.C=0,g=c.j.L,c.h=new As,c.g=j1(c.j,g?m:null,!c.u),c.P>0&&(c.O=new Im(d(c.Y,c,c.g),c.P)),m=c.V,g=c.g,T=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(ju[0]=M.toString()),M=ju);for(let L=0;L<M.length;L++){const W=Fn(g,M[L],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=c.J?be(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ua(),Me(c.i,c.v,c.B,c.l,c.S,c.u)}rr.prototype.ba=function(c){c=c.target;const m=this.O;m&&ma(c)==3?m.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{const ce=ma(this.g),ft=this.g.ya(),De=this.g.ca();if(!(ce<3)&&(ce!=3||this.g&&(this.h.h||this.g.la()||w1(this.g)))){this.K||ce!=4||ft==7||(ft==8||De<=0?ua(3):ua(2)),Al(this);var m=this.g.ca();this.X=m;var g=Fe(this);if(this.o=m==200,En(this.i,this.v,this.B,this.l,this.S,ce,m),this.o){if(this.U&&!this.L){t:{if(this.g){var T,M=this.g;if((T=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(T)){var L=T;break t}}L=null}if(c=L)da(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Om(this,c);else{this.o=!1,this.m=3,yt(12),Ci(this),Ai(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<g.length;)if(vt=an(this,g),vt==Sl){ce==4&&(this.m=4,yt(14),c=!1),da(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==Tl){this.m=4,yt(15),da(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else da(this.i,this.l,vt,null),Om(this,vt);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ce!=4||g.length!=0||this.h.h||(this.m=1,yt(16),c=!1),this.o=this.o&&c,!c)da(this.i,this.l,g,"[Invalid Chunked Response]"),Ci(this),Ai(this);else if(g.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Bm(W),W.P=!0,yt(11))}}else da(this.i,this.l,g,null),Om(this,g);ce==4&&Ci(this),this.o&&!this.K&&(ce==4?R1(this.j,this):(this.o=!1,Pt(this)))}else HD(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),Ci(this),Ai(this)}}}catch{}finally{}};function Fe(c){if(!Ge(c))return c.g.la();const m=w1(c.g);if(m==="")return"";let g="";const T=m.length,M=ma(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ci(c),Ai(c),"";c.h.i=new s.TextDecoder}for(let L=0;L<T;L++)c.h.h=!0,g+=c.h.i.decode(m[L],{stream:!(M&&L==T-1)});return m.length=0,c.h.g+=g,c.C=0,c.h.g}function Ge(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function an(c,m){var g=c.C,T=m.indexOf(`
`,g);return T==-1?Sl:(g=Number(m.substring(g,T)),isNaN(g)?Tl:(T+=1,T+g>m.length?Sl:(m=m.slice(T,T+g),c.C=T+g,m)))}rr.prototype.cancel=function(){this.K=!0,Ci(this)};function Pt(c){c.T=Date.now()+c.H,Cs(c,c.H)}function Cs(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=at(d(c.aa,c),m)}function Al(c){c.D&&(s.clearTimeout(c.D),c.D=null)}rr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(wl(this.i,this.B),this.M!=2&&(ua(),yt(17)),Ci(this),this.m=2,Ai(this)):Cs(this,this.T-c)};function Ai(c){c.j.I==0||c.K||R1(c.j,c)}function Ci(c){Al(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,ku(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Om(c,m){try{var g=c.j;if(g.I!=0&&(g.g==c||jm(g.h,c))){if(!c.L&&jm(g.h,c)&&g.I==3){try{var T=g.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var M=T;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)Hu(g),$u(g);else break e;Um(g),yt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=at(d(g.Va,g),6e3));o1(g.h)<=1&&g.ta&&(g.ta=void 0)}else Di(g,11)}else if((c.L||g.g==c)&&Hu(g),!D(m))for(M=g.Ba.g.parse(m),m=0;m<M.length;m++){let De=M[m];const vt=De[0];if(!(vt<=g.K))if(g.K=vt,De=De[1],g.I==2)if(De[0]=="c"){g.M=De[1],g.ba=De[2];const ir=De[3];ir!=null&&(g.ka=ir,g.j.info("VER="+g.ka));const Ii=De[4];Ii!=null&&(g.za=Ii,g.j.info("SVER="+g.za));const pa=De[5];pa!=null&&typeof pa=="number"&&pa>0&&(T=1.5*pa,g.O=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const ga=c.g;if(ga){const Yu=ga.g?ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yu){var L=T.h;L.g||Yu.indexOf("spdy")==-1&&Yu.indexOf("quic")==-1&&Yu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(km(L,L.h),L.h=null))}if(T.G){const zm=ga.g?ga.g.getResponseHeader("X-HTTP-Session-Id"):null;zm&&(T.wa=zm,Pe(T.J,T.G,zm))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),T=g;var W=c;if(T.na=O1(T,T.L?T.ba:null,T.W),W.L){l1(T.h,W);var ce=W,ft=T.O;ft&&(ce.H=ft),ce.D&&(Al(ce),Pt(ce)),T.g=W}else A1(T);g.i.length>0&&qu(g)}else De[0]!="stop"&&De[0]!="close"||Di(g,7);else g.I==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Di(g,7):Vm(g):De[0]!="noop"&&g.l&&g.l.qa(De),g.A=0)}}ua(4)}catch{}}var OD=class{constructor(c,m){this.g=c,this.map=m}};function i1(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function s1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function o1(c){return c.h?1:c.g?c.g.size:0}function jm(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function km(c,m){c.g?c.g.add(m):c.h=m}function l1(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}i1.prototype.cancel=function(){if(this.i=c1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function c1(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const g of c.g.values())m=m.concat(g.G);return m}return y(c.i)}var u1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jD(c,m){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const T=c[g].indexOf("=");let M,L=null;T>=0?(M=c[g].substring(0,T),L=c[g].substring(T+1)):M=c[g],m(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function ha(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof ha?(this.l=c.l,Cl(this,c.j),this.o=c.o,this.g=c.g,Rl(this,c.u),this.h=c.h,Mm(this,g1(c.i)),this.m=c.m):c&&(m=String(c).match(u1))?(this.l=!1,Cl(this,m[1]||"",!0),this.o=Dl(m[2]||""),this.g=Dl(m[3]||"",!0),Rl(this,m[4]),this.h=Dl(m[5]||"",!0),Mm(this,m[6]||"",!0),this.m=Dl(m[7]||"")):(this.l=!1,this.i=new Ol(null,this.l))}ha.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Il(m,d1,!0),":");var g=this.g;return(g||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Il(m,d1,!0),"@"),c.push(Ar(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Il(g,g.charAt(0)=="/"?PD:MD,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Il(g,VD)),c.join("")},ha.prototype.resolve=function(c){const m=ar(this);let g=!!c.j;g?Cl(m,c.j):g=!!c.o,g?m.o=c.o:g=!!c.g,g?m.g=c.g:g=c.u!=null;var T=c.h;if(g)Rl(m,c.u);else if(g=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var M=m.h.lastIndexOf("/");M!=-1&&(T=m.h.slice(0,M+1)+T)}if(M=T,M==".."||M==".")T="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){T=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let W=0;W<M.length;){const ce=M[W++];ce=="."?T&&W==M.length&&L.push(""):ce==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),T&&W==M.length&&L.push("")):(L.push(ce),T=!0)}T=L.join("/")}else T=M}return g?m.h=T:g=c.i.toString()!=="",g?Mm(m,g1(c.i)):g=!!c.m,g&&(m.m=c.m),m};function ar(c){return new ha(c)}function Cl(c,m,g){c.j=g?Dl(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function Rl(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Mm(c,m,g){m instanceof Ol?(c.i=m,UD(c.i,c.l)):(g||(m=Il(m,LD)),c.i=new Ol(m,c.l))}function Pe(c,m,g){c.i.set(m,g)}function Bu(c){return Pe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Dl(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Il(c,m,g){return typeof c=="string"?(c=encodeURI(c).replace(m,kD),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kD(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var d1=/[#\/\?@]/g,MD=/[#\?:]/g,PD=/[#\?]/g,LD=/[#\?@]/g,VD=/#/g;function Ol(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Ri(c){c.g||(c.g=new Map,c.h=0,c.i&&jD(c.i,function(m,g){c.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=Ol.prototype,t.add=function(c,m){Ri(this),this.i=null,c=Rs(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(m),this.h+=1,this};function h1(c,m){Ri(c),m=Rs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function f1(c,m){return Ri(c),m=Rs(c,m),c.g.has(m)}t.forEach=function(c,m){Ri(this),this.g.forEach(function(g,T){g.forEach(function(M){c.call(m,M,T,this)},this)},this)};function m1(c,m){Ri(c);let g=[];if(typeof m=="string")f1(c,m)&&(g=g.concat(c.g.get(Rs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)g=g.concat(c[m]);return g}t.set=function(c,m){return Ri(this),this.i=null,c=Rs(this,c),f1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=m1(this,c),c.length>0?String(c[0]):m):m};function p1(c,m,g){h1(c,m),g.length>0&&(c.i=null,c.g.set(Rs(c,m),y(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var g=m[T];const M=Ar(g);g=m1(this,g);for(let L=0;L<g.length;L++){let W=M;g[L]!==""&&(W+="="+Ar(g[L])),c.push(W)}}return this.i=c.join("&")};function g1(c){const m=new Ol;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Rs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function UD(c,m){m&&!c.j&&(Ri(c),c.i=null,c.g.forEach(function(g,T){const M=T.toLowerCase();T!=M&&(h1(this,T),p1(this,M,g))},c)),c.j=m}function BD(c,m){const g=new nr;if(s.Image){const T=new Image;T.onload=h(fa,g,"TestLoadImage: loaded",!0,m,T),T.onerror=h(fa,g,"TestLoadImage: error",!1,m,T),T.onabort=h(fa,g,"TestLoadImage: abort",!1,m,T),T.ontimeout=h(fa,g,"TestLoadImage: timeout",!1,m,T),s.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else m(!1)}function zD(c,m){const g=new nr,T=new AbortController,M=setTimeout(()=>{T.abort(),fa(g,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:T.signal}).then(L=>{clearTimeout(M),L.ok?fa(g,"TestPingServer: ok",!0,m):fa(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(M),fa(g,"TestPingServer: error",!1,m)})}function fa(c,m,g,T,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),T(g)}catch{}}function FD(){this.g=new Mu}function Pm(c){this.i=c.Sb||null,this.h=c.ab||!1}f(Pm,_l),Pm.prototype.g=function(){return new zu(this.i,this.h)};function zu(c,m){ht.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(zu,ht),t=zu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,kl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||s).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,kl(this)),this.g&&(this.readyState=3,kl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;y1(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function y1(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?jl(this):kl(this),this.readyState==3&&y1(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,jl(this))},t.Na=function(c){this.g&&(this.response=c,jl(this))},t.ga=function(){this.g&&jl(this)};function jl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,kl(c)}t.setRequestHeader=function(c,m){this.A.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=m.next();return c.join(`\r
`)};function kl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function v1(c){let m="";return Y(c,function(g,T){m+=T,m+=":",m+=g,m+=`\r
`}),m}function Lm(c,m,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=v1(g),typeof c=="string"?g!=null&&Ar(g):Pe(c,m,g))}function Xe(c){ht.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Xe,ht);var $D=/^https?$/i,qD=["POST","PUT"];t=Xe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,m,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(L){_1(this,L);return}if(c=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var M in T)g.set(M,T[M]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const L of T.keys())g.set(L,T.get(L));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(qD,m,void 0)>=0)||T||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of g)this.g.setRequestHeader(L,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(L){_1(this,L)}};function _1(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,b1(c),Fu(c)}function b1(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Et(this,"complete"),Et(this,"abort"),Fu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fu(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?x1(this):this.Xa())},t.Xa=function(){x1(this)};function x1(c){if(c.h&&typeof i<"u"){if(c.v&&ma(c)==4)setTimeout(c.Ca.bind(c),0);else if(Et(c,"readystatechange"),ma(c)==4){c.h=!1;try{const L=c.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var T;if(T=L===0){let W=String(c.D).match(u1)[1]||null;!W&&s.self&&s.self.location&&(W=s.self.location.protocol.slice(0,-1)),T=!$D.test(W?W.toLowerCase():"")}g=T}if(g)Et(c,"complete"),Et(c,"success");else{c.o=6;try{var M=ma(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",b1(c)}}finally{Fu(c)}}}}function Fu(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,m||Et(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ma(c){return c.g?c.g.readyState:0}t.ca=function(){try{return ma(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),vl(m)}};function w1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function HD(c){const m={};c=(c.g&&ma(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(D(c[T]))continue;var g=El(c[T]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=m[M]||[];m[M]=L,L.push(g)}X(m,function(T){return T.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ml(c,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||m}function E1(c){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ml("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ml("baseRetryDelayMs",5e3,c),this.Za=Ml("retryDelaySeedMs",1e4,c),this.Ta=Ml("forwardChannelMaxRetries",2,c),this.va=Ml("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new i1(c&&c.concurrentRequestLimit),this.Ba=new FD,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=E1.prototype,t.ka=8,t.I=1,t.connect=function(c,m,g,T){yt(0),this.W=c,this.H=m||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.J=O1(this,null,this.W),qu(this)};function Vm(c){if(T1(c),c.I==3){var m=c.V++,g=ar(c.J);if(Pe(g,"SID",c.M),Pe(g,"RID",m),Pe(g,"TYPE","terminate"),Pl(c,g),m=new rr(c,c.j,m),m.M=2,m.A=Bu(ar(g)),g=!1,s.navigator&&s.navigator.sendBeacon)try{g=s.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&s.Image&&(new Image().src=m.A,g=!0),g||(m.g=j1(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Pt(m)}I1(c)}function $u(c){c.g&&(Bm(c),c.g.cancel(),c.g=null)}function T1(c){$u(c),c.v&&(s.clearTimeout(c.v),c.v=null),Hu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function qu(c){if(!s1(c.h)&&!c.m){c.m=!0;var m=c.Ea;V||v(),$||(V(),$=!0),S.add(m,c),c.D=0}}function GD(c,m){return o1(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=at(d(c.Ea,c,m),D1(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new rr(this,this.j,c);let L=this.o;if(this.U&&(L?(L=be(L),re(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=N1(this,M,m),g=ar(this.J),Pe(g,"RID",c),Pe(g,"CVER",22),this.G&&Pe(g,"X-HTTP-Session-Id",this.G),Pl(this,g),L&&(this.R?m="headers="+Ar(v1(L))+"&"+m:this.u&&Lm(g,this.u,L)),km(this.h,M),this.Ra&&Pe(g,"TYPE","init"),this.S?(Pe(g,"$req",m),Pe(g,"SID","null"),M.U=!0,Nl(M,g,null)):Nl(M,g,m),this.I=2}}else this.I==3&&(c?S1(this,c):this.i.length==0||s1(this.h)||S1(this))};function S1(c,m){var g;m?g=m.l:g=c.V++;const T=ar(c.J);Pe(T,"SID",c.M),Pe(T,"RID",g),Pe(T,"AID",c.K),Pl(c,T),c.u&&c.o&&Lm(T,c.u,c.o),g=new rr(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),m&&(c.i=m.G.concat(c.i)),m=N1(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),km(c.h,g),Nl(g,T,m)}function Pl(c,m){c.H&&Y(c.H,function(g,T){Pe(m,T,g)}),c.l&&Y({},function(g,T){Pe(m,T,g)})}function N1(c,m,g){g=Math.min(c.i.length,g);const T=c.l?d(c.l.Ka,c.l,c):null;e:{var M=c.i;let ce=-1;for(;;){const ft=["count="+g];ce==-1?g>0?(ce=M[0].g,ft.push("ofs="+ce)):ce=0:ft.push("ofs="+ce);let De=!0;for(let vt=0;vt<g;vt++){var L=M[vt].g;const ir=M[vt].map;if(L-=ce,L<0)ce=Math.max(0,M[vt].g-100),De=!1;else try{L="req"+L+"_"||"";try{var W=ir instanceof Map?ir:Object.entries(ir);for(const[Ii,pa]of W){let ga=pa;o(pa)&&(ga=yl(pa)),ft.push(L+Ii+"="+encodeURIComponent(ga))}}catch(Ii){throw ft.push(L+"type="+encodeURIComponent("_badmap")),Ii}}catch{T&&T(ir)}}if(De){W=ft.join("&");break e}}W=void 0}return c=c.i.splice(0,g),m.G=c,W}function A1(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;V||v(),$||(V(),$=!0),S.add(m,c),c.A=0}}function Um(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=at(d(c.Da,c),D1(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,C1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=at(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),$u(this),C1(this))};function Bm(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function C1(c){c.g=new rr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ar(c.na);Pe(m,"RID","rpc"),Pe(m,"SID",c.M),Pe(m,"AID",c.K),Pe(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Pe(m,"TO",c.ia),Pe(m,"TYPE","xmlhttp"),Pl(c,m),c.u&&c.o&&Lm(m,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=Bu(ar(m)),g.u=null,g.R=!0,ue(g,c)}t.Va=function(){this.C!=null&&(this.C=null,$u(this),Um(this),yt(19))};function Hu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function R1(c,m){var g=null;if(c.g==m){Hu(c),Bm(c),c.g=null;var T=2}else if(jm(c.h,m))g=m.G,l1(c.h,m),T=1;else return;if(c.I!=0){if(m.o)if(T==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var M=c.D;T=ca(),Et(T,new Tt(T,g)),qu(c)}else A1(c);else if(M=m.m,M==3||M==0&&m.X>0||!(T==1&&GD(c,m)||T==2&&Um(c)))switch(g&&g.length>0&&(m=c.h,m.i=m.i.concat(g)),M){case 1:Di(c,5);break;case 4:Di(c,10);break;case 3:Di(c,6);break;default:Di(c,2)}}}function D1(c,m){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*m}function Di(c,m){if(c.j.info("Error code "+m),m==2){var g=d(c.bb,c),T=c.Ua;const M=!T;T=new ha(T||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Cl(T,"https"),Bu(T),M?BD(T.toString(),g):zD(T.toString(),g)}else yt(2);c.I=0,c.l&&c.l.pa(m),I1(c),T1(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function I1(c){if(c.I=0,c.ja=[],c.l){const m=c1(c.h);(m.length!=0||c.i.length!=0)&&(w(c.ja,m),w(c.ja,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.oa()}}function O1(c,m,g){var T=g instanceof ha?ar(g):new ha(g);if(T.g!="")m&&(T.g=m+"."+T.g),Rl(T,T.u);else{var M=s.location;T=M.protocol,m=m?m+"."+M.hostname:M.hostname,M=+M.port;const L=new ha(null);T&&Cl(L,T),m&&(L.g=m),M&&Rl(L,M),g&&(L.h=g),T=L}return g=c.G,m=c.wa,g&&m&&Pe(T,g,m),Pe(T,"VER",c.ka),Pl(c,T),T}function j1(c,m,g){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new Xe(new Pm({ab:g})):new Xe(c.ma),m.Fa(c.L),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function k1(){}t=k1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Gu(){}Gu.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){ht.call(this),this.g=new E1(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!D(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!D(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new Ds(this)}f(sn,ht),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Vm(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=yl(c),c=g);m.i.push(new OD(m.Ya++,c)),m.I==3&&qu(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Vm(this.g),delete this.g,sn.Z.N.call(this)};function M1(c){Ss.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const g in m){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}f(M1,Ss);function P1(){bl.call(this),this.status=1}f(P1,bl);function Ds(c){this.g=c}f(Ds,k1),Ds.prototype.ra=function(){Et(this.g,"a")},Ds.prototype.qa=function(c){Et(this.g,new M1(c))},Ds.prototype.pa=function(c){Et(this.g,new P1)},Ds.prototype.oa=function(){Et(this.g,"b")},Gu.prototype.createWebChannel=Gu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,yA=function(){return new Gu},gA=function(){return ca()},pA=tr,xy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,Hd=Ti,Ns.COMPLETE="complete",mA=Ns,Pu.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",ht.prototype.listen=ht.prototype.J,rc=Pu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,fA=Xe}).apply(typeof pd<"u"?pd:typeof self<"u"?self:typeof window<"u"?window:{});const Qx="@firebase/firestore",Xx="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Uf("@firebase/firestore");function Us(){return es.logLevel}function Q(t,...e){if(es.logLevel<=me.DEBUG){const n=e.map(Ev);es.debug(`Firestore (${el}): ${t}`,...n)}}function ta(t,...e){if(es.logLevel<=me.ERROR){const n=e.map(Ev);es.error(`Firestore (${el}): ${t}`,...n)}}function Io(t,...e){if(es.logLevel<=me.WARN){const n=e.map(Ev);es.warn(`Firestore (${el}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vA(t,r,n)}function vA(t,e,n){let r=`FIRESTORE (${el}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ta(r),new Error(r)}function Ee(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||vA(e,a,r)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vt.UNAUTHENTICATED))}shutdown(){}}class W6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class K6{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const a=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hr,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new _A(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Vt(e)}}class Q6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Q6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const a=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Z6(40);for(let i=0;i<a.length;++i)r.length<20&&a[i]<n&&(r+=e.charAt(a[i]%62))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function wy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),i=e.charAt(r);if(a!==i)return Vp(a)===Vp(i)?pe(a,i):Vp(a)?1:-1}return pe(t.length,e.length)}const e5=55296,t5=57343;function Vp(t){const e=t.charCodeAt(0);return e>=e5&&e<=t5}function Oo(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const i=or.compareSegments(e.get(a),n.get(a));if(i!==0)return i}return pe(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),a=or.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?or.extractNumericId(e).compare(or.extractNumericId(n)):wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wa.fromString(e.substring(4,e.length-2))}}class je extends or{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new je(n)}static emptyPath(){return new je([])}}const n5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends or{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return n5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zx}static keyField(){return new Dt([Zx])}static fromServerFormat(e){const n=[];let r="",a=0;const i=()=>{if(r.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;a<e.length;){const o=e[a];if(o==="\\"){if(a+1===e.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(r+=o,a++):(i(),a++)}if(i(),s)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(je.fromString(e))}static fromName(e){return new Z(je.fromString(e).popFirst(5))}static empty(){return new Z(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){if(!n)throw new K(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r5(t,e,n,r){if(e===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ew(t){if(!Z.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tw(t){if(Z.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function zf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zf(t);throw new K(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function bu(t,e){if(!xA(t))throw new K(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(a&&typeof s!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=-62135596800,rw=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(e){return de.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*rw);return new de(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nw)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rw}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bu(e,de._jsonSchema))return new de(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-nw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:dt("string",de._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new de(0,0))}static max(){return new ae(new de(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=-1;function a5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ae.fromTimestamp(r===1e9?new de(n+1,0):new de(n,r));return new ni(a,Z.empty(),e)}function i5(t){return new ni(t.readTime,t.key,Gc)}class ni{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ni(ae.min(),Z.empty(),Gc)}static max(){return new ni(ae.max(),Z.empty(),Gc)}}function s5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==o5)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,a)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let a=0,i=0,s=!1;e.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&n()},u=>r(u))}),s=!0,i===a&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(a=>a?F.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,i)=>{r.push(n.call(this,a,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,a)=>{const i=e.length,s=new Array(i);let o=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(h=>{s[d]=h,++o,o===i&&r(s)},h=>a(h))}})}static doWhile(e,n){return new F((r,a)=>{const i=()=>{e()===!0?n().next(()=>{i()},a):r()};i()})}}function c5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function $f(t){return t==null}function Mh(t){return t===0&&1/t==-1/0}function u5(t){return typeof t=="number"&&Number.isInteger(t)&&!Mh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA="";function d5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=aw(e)),e=h5(t.get(n),e);return aw(e)}function h5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const i=t.charAt(a);switch(i){case"\0":n+="";break;case wA:n+="";break;default:n+=i}}return n}function aw(t){return t+wA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,a,i){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=a??Nt.EMPTY,this.right=i??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,i){return new Nt(e??this.key,n??this.value,r??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const i=r(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,n,r),null):i===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Nt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,a,i){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sw(this.data.getIterator())}getIteratorFrom(e){return new sw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class sw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new mn([])}unionWith(e){let n=new pt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new TA("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const f5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ri(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=f5.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ai(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="server_timestamp",NA="__type__",AA="__previous_value__",CA="__local_write_time__";function Nv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[NA])==null?void 0:r.stringValue)===SA}function qf(t){const e=t.mapValue.fields[AA];return Nv(e)?qf(e):e}function Yc(t){const e=ri(t.mapValue.fields[CA].timestampValue);return new de(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,a,i,s,o,u,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=h}}const Ph="(default)";class Wc{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RA="__type__",p5="__max__",yd={mapValue:{}},DA="__vector__",Lh="value";function ii(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nv(t)?4:y5(t)?9007199254740991:g5(t)?10:11:te(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=ii(t);if(n!==ii(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=ri(a.timestampValue),o=ri(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ai(a.bytesValue).isEqual(ai(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return et(a.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return et(a.integerValue)===et(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=et(a.doubleValue),o=et(i.doubleValue);return s===o?Mh(s)===Mh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(iw(s)!==iw(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!_r(s[u],o[u])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function Kc(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function jo(t,e){if(t===e)return 0;const n=ii(t),r=ii(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),u=et(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return ow(t.timestampValue,e.timestampValue);case 4:return ow(Yc(t),Yc(e));case 5:return wy(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ai(i),u=ai(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let d=0;d<o.length&&d<u.length;d++){const h=pe(o[d],u[d]);if(h!==0)return h}return pe(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=pe(et(i.latitude),et(s.latitude));return o!==0?o:pe(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return lw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var p,y,w,N;const o=i.fields||{},u=s.fields||{},d=(p=o[Lh])==null?void 0:p.arrayValue,h=(y=u[Lh])==null?void 0:y.arrayValue,f=pe(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((N=h==null?void 0:h.values)==null?void 0:N.length)||0);return f!==0?f:lw(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===yd.mapValue&&s===yd.mapValue)return 0;if(i===yd.mapValue)return 1;if(s===yd.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),d=s.fields||{},h=Object.keys(d);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const p=wy(u[f],h[f]);if(p!==0)return p;const y=jo(o[u[f]],d[h[f]]);if(y!==0)return y}return pe(u.length,h.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function ow(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=ri(t),r=ri(e),a=pe(n.seconds,r.seconds);return a!==0?a:pe(n.nanos,r.nanos)}function lw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const i=jo(n[a],r[a]);if(i)return i}return pe(n.length,r.length)}function ko(t){return Ey(t)}function Ey(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ri(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ai(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const i of n.values||[])a?a=!1:r+=",",r+=Ey(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",i=!0;for(const s of r)i?i=!1:a+=",",a+=`${s}:${Ey(n.fields[s])}`;return a+"}"}(t.mapValue):te(61005,{value:t})}function Gd(t){switch(ii(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qf(t);return e?16+Gd(e):16;case 5:return 2*t.stringValue.length;case 6:return ai(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,i)=>a+Gd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return mi(r.fields,(i,s)=>{a+=i.length+Gd(s)}),a}(t.mapValue);default:throw te(13486,{value:t})}}function cw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ty(t){return!!t&&"integerValue"in t}function Av(t){return!!t&&"arrayValue"in t}function uw(t){return!!t&&"nullValue"in t}function dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yd(t){return!!t&&"mapValue"in t}function g5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RA])==null?void 0:r.stringValue)===DA}function Ec(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ec(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ec(t.arrayValue.values[n]);return e}return{...t}}function y5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===p5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ec(n)}setAll(e){let n=Dt.emptyPath(),r={},a=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,a),r={},a=[],n=o.popLast()}s?r[o.lastSegment()]=Ec(s):a.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,a)}delete(e){const n=this.field(e.popLast());Yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Yd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(a,i)=>e[a]=i);for(const a of r)delete e[a]}clone(){return new Zt(Ec(this.value))}}function IA(t){const e=[];return mi(t.fields,(n,r)=>{const a=new Dt([n]);if(Yd(r)){const i=IA(r.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,a,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ut(e,0,ae.min(),ae.min(),ae.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,a){return new Ut(e,1,n,ae.min(),r,a,0)}static newNoDocument(e,n){return new Ut(e,2,n,ae.min(),ae.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,ae.min(),ae.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function hw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?r=Z.comparator(Z.fromName(s.referenceValue),n.key):r=jo(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function fw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function v5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{}class ct extends OA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b5(e,n,r):n==="array-contains"?new E5(e,r):n==="in"?new T5(e,r):n==="not-in"?new S5(e,r):n==="array-contains-any"?new N5(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new x5(e,r):new w5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(jo(n,this.value)):n!==null&&ii(this.value)===ii(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends OA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return jA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jA(t){return t.op==="and"}function kA(t){return _5(t)&&jA(t)}function _5(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function Sy(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+ko(t.value);if(kA(t))return t.filters.map(e=>Sy(e)).join(",");{const e=t.filters.map(n=>Sy(n)).join(",");return`${t.op}(${e})`}}function MA(t,e){return t instanceof ct?function(r,a){return a instanceof ct&&r.op===a.op&&r.field.isEqual(a.field)&&_r(r.value,a.value)}(t,e):t instanceof Qn?function(r,a){return a instanceof Qn&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((i,s,o)=>i&&MA(s,a.filters[o]),!0):!1}(t,e):void te(19439)}function PA(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${ko(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(PA).join(" ,")+"}"}(t):"Filter"}class b5 extends ct{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class x5 extends ct{constructor(e,n){super(e,"in",n),this.keys=LA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class w5 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=LA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class E5 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Av(n)&&Kc(n.arrayValue,this.value)}}class T5 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kc(this.value.arrayValue,n)}}class S5 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kc(this.value.arrayValue,n)}}class N5 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Av(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Kc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n=null,r=[],a=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function mw(t,e=null,n=[],r=[],a=null,i=null,s=null){return new A5(t,e,n,r,a,i,s)}function Cv(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),$f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ko(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ko(r)).join(",")),e.Te=n}return e.Te}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fw(t.startAt,e.startAt)&&fw(t.endAt,e.endAt)}function Ny(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n=null,r=[],a=[],i=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function C5(t,e,n,r,a,i,s,o){return new rl(t,e,n,r,a,i,s,o)}function Hf(t){return new rl(t)}function pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function VA(t){return t.collectionGroup!==null}function Tc(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new pt(Dt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(o=o.add(d.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Qc(i,r))}),n.has(Dt.keyField().canonicalString())||e.Ie.push(new Qc(Dt.keyField(),r))}return e.Ie}function fr(t){const e=ie(t);return e.Ee||(e.Ee=R5(e,Tc(t))),e.Ee}function R5(t,e){if(t.limitType==="F")return mw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Qc(a.field,i)});const n=t.endAt?new Vh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vh(t.startAt.position,t.startAt.inclusive):null;return mw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ay(t,e){const n=t.filters.concat([e]);return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cy(t,e,n){return new rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gf(t,e){return Rv(fr(t),fr(e))&&t.limitType===e.limitType}function UA(t){return`${Cv(fr(t))}|lt:${t.limitType}`}function Bs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>PA(a)).join(", ")}]`),$f(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>ko(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>ko(a)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function Yf(t,e){return e.isFoundDocument()&&function(r,a){const i=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Z.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,a){for(const i of Tc(r))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const i of r.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(s,o,u){const d=hw(s,o,u);return s.inclusive?d<=0:d<0}(r.startAt,Tc(r),a)||r.endAt&&!function(s,o,u){const d=hw(s,o,u);return s.inclusive?d>=0:d>0}(r.endAt,Tc(r),a))}(t,e)}function D5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function BA(t){return(e,n)=>{let r=!1;for(const a of Tc(t)){const i=I5(a,e,n);if(i!==0)return i;r=r||a.field.isKeyField()}return 0}}function I5(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),d=o.data.field(i);return u!==null&&d!==null?jo(u,d):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,i]of r)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){mi(this.inner,(n,r)=>{for(const[a,i]of r)e(a,i)})}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O5=new Ke(Z.comparator);function na(){return O5}const zA=new Ke(Z.comparator);function ac(...t){let e=zA;for(const n of t)e=e.insert(n.key,n);return e}function FA(t){let e=zA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return Sc()}function $A(){return Sc()}function Sc(){return new vs(t=>t.toString(),(t,e)=>t.isEqual(e))}const j5=new Ke(Z.comparator),k5=new pt(Z.comparator);function ge(...t){let e=k5;for(const n of t)e=e.add(n);return e}const M5=new pt(pe);function P5(){return M5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function qA(t){return{integerValue:""+t}}function L5(t,e){return u5(e)?qA(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this._=void 0}}function V5(t,e,n){return t instanceof Uh?function(a,i){const s={fields:{[NA]:{stringValue:SA},[CA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&Nv(i)&&(i=qf(i)),i&&(s.fields[AA]=i),{mapValue:s}}(n,e):t instanceof Mo?GA(t,e):t instanceof Xc?YA(t,e):function(a,i){const s=HA(a,i),o=gw(s)+gw(a.Ae);return Ty(s)&&Ty(a.Ae)?qA(o):Dv(a.serializer,o)}(t,e)}function U5(t,e,n){return t instanceof Mo?GA(t,e):t instanceof Xc?YA(t,e):n}function HA(t,e){return t instanceof Bh?function(r){return Ty(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Uh extends Wf{}class Mo extends Wf{constructor(e){super(),this.elements=e}}function GA(t,e){const n=WA(e);for(const r of t.elements)n.some(a=>_r(a,r))||n.push(r);return{arrayValue:{values:n}}}class Xc extends Wf{constructor(e){super(),this.elements=e}}function YA(t,e){let n=WA(e);for(const r of t.elements)n=n.filter(a=>!_r(a,r));return{arrayValue:{values:n}}}class Bh extends Wf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function gw(t){return et(t.integerValue||t.doubleValue)}function WA(t){return Av(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.field=e,this.transform=n}}function z5(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Mo&&a instanceof Mo||r instanceof Xc&&a instanceof Xc?Oo(r.elements,a.elements,_r):r instanceof Bh&&a instanceof Bh?_r(r.Ae,a.Ae):r instanceof Uh&&a instanceof Uh}(t.transform,e.transform)}class F5{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kf{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iv(t.key,Wn.none()):new xu(t.key,t.data,Wn.none());{const n=t.data,r=Zt.empty();let a=new pt(Dt.comparator);for(let i of e.fields)if(!a.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),a=a.add(i)}return new pi(t.key,r,new mn(a.toArray()),Wn.none())}}function $5(t,e,n){t instanceof xu?function(a,i,s){const o=a.value.clone(),u=vw(a.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof pi?function(a,i,s){if(!Wd(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=vw(a.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(QA(a)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Nc(t,e,n,r){return t instanceof xu?function(i,s,o,u){if(!Wd(i.precondition,s))return o;const d=i.value.clone(),h=_w(i.fieldTransforms,u,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof pi?function(i,s,o,u){if(!Wd(i.precondition,s))return o;const d=_w(i.fieldTransforms,u,s),h=s.data;return h.setAll(QA(i)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,s,o){return Wd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function q5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),i=HA(r.transform,a||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function yw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Oo(r,a,(i,s)=>z5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xu extends Kf{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class pi extends Kf{constructor(e,n,r,a,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function QA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function vw(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const i=t[a],s=i.transform,o=e.data.field(i.field);r.set(i.field,U5(s,o,n[a]))}return r}function _w(t,e,n){const r=new Map;for(const a of t){const i=a.transform,s=n.data.field(a.field);r.set(a.field,V5(i,s,e))}return r}class Iv extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H5 extends Kf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&$5(i,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=$A();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=n.has(a.key)?null:o;const u=KA(s,o);u!==null&&r.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,r)=>yw(n,r))&&Oo(this.baseMutations,e.baseMutations,(n,r)=>yw(n,r))}}class Ov{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=function(){return j5}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new Ov(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,_e;function K5(t){switch(t){case B.OK:return te(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function XA(t){if(t===void 0)return ta("GRPC error has no .code"),B.UNKNOWN;switch(t){case it.OK:return B.OK;case it.CANCELLED:return B.CANCELLED;case it.UNKNOWN:return B.UNKNOWN;case it.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case it.INTERNAL:return B.INTERNAL;case it.UNAVAILABLE:return B.UNAVAILABLE;case it.UNAUTHENTICATED:return B.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case it.NOT_FOUND:return B.NOT_FOUND;case it.ALREADY_EXISTS:return B.ALREADY_EXISTS;case it.PERMISSION_DENIED:return B.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case it.ABORTED:return B.ABORTED;case it.OUT_OF_RANGE:return B.OUT_OF_RANGE;case it.UNIMPLEMENTED:return B.UNIMPLEMENTED;case it.DATA_LOSS:return B.DATA_LOSS;default:return te(39323,{code:t})}}(_e=it||(it={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new Wa([4294967295,4294967295],0);function bw(t){const e=Q5().encode(t),n=new hA;return n.update(e),new Uint8Array(n.digest())}function xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Wa([n,r],0),new Wa([a,i],0)]}class jv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wa.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Wa.fromNumber(r)));return a.compare(X5)===1&&(a=new Wa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=bw(e),[r,a]=xw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);if(!this.we(s))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new jv(i,a,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=bw(e),[r,a]=xw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n,r,a,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Qf(ae.min(),a,new Ke(pe),na(),ge())}}class wu{constructor(e,n,r,a,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wu(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class JA{constructor(e,n){this.targetId=e,this.Ce=n}}class ZA{constructor(e,n,r=jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class ww{constructor(){this.ve=0,this.Fe=Ew(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ge(),n=ge(),r=ge();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:te(38017,{changeType:i})}}),new wu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Ew()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class J5{constructor(e){this.Ge=e,this.ze=new Map,this.je=na(),this.Je=vd(),this.He=vd(),this.Ye=new Ke(pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const i=a.target;if(Ny(i))if(r===0){const s=new Z(i.path);this.et(n,s,Ut.newNoDocument(s,ae.min()))}else Ee(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),u=o?this.ct(o,e,s):1;if(u!==0){this.it(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let s,o;try{s=ai(r).toUint8Array()}catch(u){if(u instanceof TA)return Io("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new jv(s,a,i)}catch(u){return Io(u instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&Ny(o.target)){const u=new Z(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Ut.newNoDocument(u,e))}i.Be&&(n.set(s,i.ke()),i.qe())}});let r=ge();this.He.forEach((i,s)=>{let o=!0;s.forEachWhile(u=>{const d=this.ot(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const a=new Qf(e,n,this.Ye,this.je,r);return this.je=na(),this.Je=vd(),this.He=vd(),this.Ye=new Ke(pe),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ww,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ww),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vd(){return new Ke(Z.comparator)}function Ew(){return new Ke(Z.comparator)}const Z5={asc:"ASCENDING",desc:"DESCENDING"},eL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tL={and:"AND",or:"OR"};class nL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ry(t,e){return t.useProto3Json||$f(e)?e:{value:e}}function zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rL(t,e){return zh(t,e.toTimestamp())}function mr(t){return Ee(!!t,49232),ae.fromTimestamp(function(n){const r=ri(n);return new de(r.seconds,r.nanos)}(t))}function kv(t,e){return Dy(t,e).canonicalString()}function Dy(t,e){const n=function(a){return new je(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tC(t){const e=je.fromString(t);return Ee(sC(e),10190,{key:e.toString()}),e}function Iy(t,e){return kv(t.databaseId,e.path)}function Up(t,e){const n=tC(e);if(n.get(1)!==t.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(rC(n))}function nC(t,e){return kv(t.databaseId,e)}function aL(t){const e=tC(t);return e.length===4?je.emptyPath():rC(e)}function Oy(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function rC(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tw(t,e,n){return{name:Iy(t,e),fields:n.value.mapValue.fields}}function iL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:te(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ee(h===void 0||typeof h=="string",58123),jt.fromBase64String(h||"")):(Ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(d){const h=d.code===void 0?B.UNKNOWN:XA(d.code);return new K(h,d.message||"")}(s);n=new ZA(r,a,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Up(t,r.document.name),i=mr(r.document.updateTime),s=r.document.createTime?mr(r.document.createTime):ae.min(),o=new Zt({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(a,i,s,o),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Kd(d,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Up(t,r.document),i=r.readTime?mr(r.readTime):ae.min(),s=Ut.newNoDocument(a,i),o=r.removedTargetIds||[];n=new Kd([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Up(t,r.document),i=r.removedTargetIds||[];n=new Kd([],i,a,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:i}=r,s=new W5(a,i),o=r.targetId;n=new JA(o,s)}}return n}function sL(t,e){let n;if(e instanceof xu)n={update:Tw(t,e.key,e.value)};else if(e instanceof Iv)n={delete:Iy(t,e.key)};else if(e instanceof pi)n={update:Tw(t,e.key,e.data),updateMask:pL(e.fieldMask)};else{if(!(e instanceof H5))return te(16599,{Vt:e.type});n={verify:Iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Uh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Mo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Xc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bh)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw te(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:rL(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:te(27497)}(t,e.precondition)),n}function oL(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(a,i){let s=a.updateTime?mr(a.updateTime):mr(i);return s.isEqual(ae.min())&&(s=mr(i)),new F5(s,a.transformResults||[])}(n,e))):[]}function lL(t,e){return{documents:[nC(t,e.path)]}}function cL(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=nC(t,a);const i=function(d){if(d.length!==0)return iC(Qn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:zs(p.field),direction:hL(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ry(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:a}}function uL(t){let e=aL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ee(r===1,65062);const h=n.from[0];h.allDescendants?a=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=aC(f);return p instanceof Qn&&kA(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(p=>function(w){return new Qc(Fs(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(f){let p;return p=typeof f=="object"?f.value:f,$f(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(f){const p=!!f.before,y=f.values||[];return new Vh(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new Vh(y,p)}(n.endAt)),C5(e,a,s,i,o,"F",u,d)}function dL(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Fs(n.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fs(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Fs(n.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Fs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>aC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function hL(t){return Z5[t]}function fL(t){return eL[t]}function mL(t){return tL[t]}function zs(t){return{fieldPath:t.canonicalString()}}function Fs(t){return Dt.fromServerFormat(t.fieldPath)}function iC(t){return t instanceof ct?function(n){if(n.op==="=="){if(dw(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NAN"}};if(uw(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dw(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NAN"}};if(uw(n.value))return{unaryFilter:{field:zs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(n.field),op:fL(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(a=>iC(a));return r.length===1?r[0]:{compositeFilter:{op:mL(n.op),filters:r}}}(t):te(54877,{filter:t})}function pL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,a,i=ae.min(),s=ae.min(),o=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new Pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e){this.yt=e}}function yL(t){const e=uL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.Cn=new _L}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ni.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ni.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class _L{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new pt(je.comparator),i=!a.has(r);return this.index[n]=a.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new pt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oC=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(oC,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="LruGarbageCollector",bL=1048576;function Aw([t,e],[n,r]){const a=pe(t,n);return a===0?pe(e,r):a}class xL{constructor(e){this.Ir=e,this.buffer=new pt(Aw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Aw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(Nw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nl(n)?Q(Nw,"Ignoring IndexedDB error during garbage collection: ",n):await tl(n)}await this.Vr(3e5)})}}class EL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Ff.ce);const r=new xL(n);return this.mr.forEachTarget(e,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Sw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,i,s,o,u,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(e,a))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Us()<=me.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(u-o)+`ms
	Removed ${f} documents in `+(d-u)+`ms
Total Duration: ${d-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function TL(t,e){return new EL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(){this.changes=new vs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Nc(r.mutation,a,mn.empty(),de.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const a=Vi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(i=>{let s=ac();return i.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const a=[];return r.forEach(i=>{n.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,a){let i=na();const s=Sc(),o=function(){return Sc()}();return n.forEach((u,d)=>{const h=r.get(d.key);a.has(d.key)&&(h===void 0||h.mutation instanceof pi)?i=i.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),Nc(h.mutation,d,h.mutation.getFieldMask(),de.now())):s.set(d.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,h)=>s.set(d,h)),n.forEach((d,h)=>o.set(d,new NL(h,s.get(d)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Sc();let a=new Ke((s,o)=>s-o),i=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let h=r.get(u)||mn.empty();h=o.applyToLocalView(d,h),r.set(u,h);const f=(a.get(o.batchId)||ge()).add(u);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),d=u.key,h=u.value,f=$A();h.forEach(p=>{if(!i.has(p)){const y=KA(n.get(p),r.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,f))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(s){return Z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-i.size):F.resolve(Vi());let o=Gc,u=i;return s.next(d=>F.forEach(d,(h,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,ge())).next(h=>({batchId:o,changes:FA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let a=ac();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const i=n.collectionGroup;let s=ac();return this.indexManager.getCollectionParents(e,i).next(o=>F.forEach(o,u=>{const d=function(f,p){return new rl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next(h=>{h.forEach((f,p)=>{s=s.insert(f,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,a))).next(s=>{i.forEach((u,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,Ut.newInvalidDocument(h)))});let o=ac();return s.forEach((u,d)=>{const h=i.get(u);h!==void 0&&Nc(h.mutation,d,mn.empty(),de.now()),Yf(n,d)&&(o=o.insert(u,d))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:mr(a.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:yL(a.bundledQuery),readTime:mr(a.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(){this.overlays=new Ke(Z.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return F.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const a=Vi(),i=n.length+1,s=new Z(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&a.set(u.getKey(),u)}return F.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let i=new Ke((d,h)=>d-h);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Vi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const o=Vi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,h)=>o.set(d,h)),!(o.size()>=a)););return F.resolve(o)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Y5(n,r));let i=this.qr.get(n);i===void 0&&(i=ge(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Qr=new pt(_t.$r),this.Ur=new pt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new je([])),r=new _t(n,e),a=new _t(n,e+1),i=[];return this.Ur.forEachInRange([r,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new je([])),r=new _t(n,e),a=new _t(n,e+1);let i=ge();return this.Ur.forEachInRange([r,a],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new _t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||pe(e.Yr,n.Yr)}static Kr(e,n){return pe(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(_t.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new G5(i,n,r,a);this.mutationQueue.push(s);for(const o of a)this.Zr=this.Zr.add(new _t(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),i=a<0?0:a;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Sv:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,a],s=>{const o=this.Xr(s.Yr);i.push(o)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(pe);return n.forEach(a=>{const i=new _t(a,0),s=new _t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],o=>{r=r.add(o.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let i=r;Z.isDocumentKey(i)||(i=i.child(""));const s=new _t(new Z(i),0);let o=new pt(pe);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(o=o.add(u.Yr)),!0)},s),F.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const a=this.Xr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,a=>{const i=new _t(a.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new _t(n,0),a=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.ri=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),i=a?a.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=na();return n.forEach(a=>{const i=this.docs.get(a);r=r.insert(a,i?i.document.mutableCopy():Ut.newInvalidDocument(a))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let i=na();const s=n.path,o=new Z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:d,value:{document:h}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||s5(i5(h),r)<=0||(a.has(h.key)||Yf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,a){te(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jL(this)}getSize(e){return F.resolve(this.size)}}class jL extends SL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.persistence=e,this.si=new vs(n=>Cv(n),Rv),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Mv,this.targetCount=0,this.ai=Po.ur()}forEachTarget(e,n){return this.si.forEach((r,a)=>n(a)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Po(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let a=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),a++)}),F.waitFor(i).next(()=>a)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,i=[];return a&&n.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new DL,this.referenceDelegate=e(this),this.Pi=new kL(this),this.indexManager=new vL,this.remoteDocumentCache=function(a){return new OL(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new gL(n),this.Ii=new CL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new IL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const a=new ML(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class ML extends l5{constructor(e){super(),this.currentSequenceNumber=e}}class Pv{constructor(e){this.persistence=e,this.Ri=new Mv,this.Vi=null}static mi(e){return new Pv(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const a=Z.fromPath(r);return this.gi(e,a).next(i=>{i||n.removeEntry(a,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Fh{constructor(e,n){this.persistence=e,this.pi=new vs(r=>d5(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=TL(this,n)}static mi(e,n){return new Fh(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,a)=>this.br(e,r,a).next(i=>i?F.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,i.removeEntry(s,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gd(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return F.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=ge(),a=ge();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Lv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return A3()?8:c5(Bt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const i={result:null};return this.ys(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(e,n,a,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new PL;return this.Ss(e,n,s).next(o=>{if(i.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>i.result)}bs(e,n,r,a){return r.documentReadCount<this.fs?(Us()<=me.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Bs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Us()<=me.DEBUG&&Q("QueryEngine","Query:",Bs(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Us()<=me.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Bs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):F.resolve())}ys(e,n){if(pw(n))return F.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Cy(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=ge(...i);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(n,o);return this.Cs(n,d,s,u.readTime)?this.ys(e,Cy(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,r,a){return pw(n)||a.isEqual(ae.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const s=this.Ds(n,i);return this.Cs(n,s,r,a)?F.resolve(null):(Us()<=me.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Bs(n)),this.vs(e,s,n,a5(a,Gc)).next(o=>o))})}Ds(e,n){let r=new pt(BA(e));return n.forEach((a,i)=>{Yf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,n,r){return Us()<=me.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Bs(n)),this.ps.getDocumentsMatchingQuery(e,n,ni.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="LocalStore",VL=3e8;class UL{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ke(pe),this.xs=new vs(i=>Cv(i),Rv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function BL(t,e,n,r){return new UL(t,e,n,r)}async function cC(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(i=>(a=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],o=[];let u=ge();for(const d of a){s.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}for(const d of i){o.push(d.batchId);for(const h of d.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:s,addedBatchIds:o}))})})}function zL(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,d,h){const f=d.batch,p=f.keys();let y=F.resolve();return p.forEach(w=>{y=y.next(()=>h.getEntry(u,w)).next(N=>{const A=d.docVersions.get(w);Ee(A!==null,48541),N.version.compareTo(A)<0&&(f.applyToRemoteDocument(N,d),N.isValidDocument()&&(N.setReadTime(d.commitVersion),h.addEntry(N)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=ge();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(u=u.add(o.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function uC(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function FL(t,e){const n=ie(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const o=[];e.targetChanges.forEach((h,f)=>{const p=a.get(f);if(!p)return;o.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(jt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),a=a.insert(f,y),function(N,A,_){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=VL?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,y,h)&&o.push(n.Pi.updateTargetData(i,y))});let u=na(),d=ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),o.push($L(i,s,e.documentUpdates).next(h=>{u=h.ks,d=h.qs})),!r.isEqual(ae.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(h)}return F.waitFor(o).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,d)).next(()=>u)}).then(i=>(n.Ms=a,i))}function $L(t,e,n){let r=ge(),a=ge();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=na();return n.forEach((o,u)=>{const d=i.get(o);u.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):Q(Vv,"Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",u.version)}),{ks:s,qs:a}})}function qL(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HL(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Pi.getTargetData(r,e).next(i=>i?(a=i,F.resolve(a)):n.Pi.allocateTargetId(r).next(s=>(a=new Pa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function jy(t,e,n){const r=ie(t),a=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!nl(s))throw s;Q(Vv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Cw(t,e,n){const r=ie(t);let a=ae.min(),i=ge();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,h){const f=ie(u),p=f.xs.get(h);return p!==void 0?F.resolve(f.Ms.get(p)):f.Pi.getTargetData(d,h)}(r,s,fr(e)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?a:ae.min(),n?i:ge())).next(o=>(GL(r,D5(e),o),{documents:o,Qs:i})))}function GL(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((a,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Rw{constructor(){this.activeTargetIds=P5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YL{constructor(){this.Mo=new Rw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Rw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="ConnectivityMonitor";class Iw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(Dw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(Dw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _d=null;function ky(){return _d===null?_d=function(){return 268435456+Math.round(2147483648*Math.random())}():_d++,"0x"+_d.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="RestConnection",KL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,i){const s=ky(),o=this.zo(e,n.toUriEncodedString());Q(Bp,`Sending RPC '${e}' ${s}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,i);const{host:d}=new URL(o),h=ps(d);return this.Jo(e,o,u,r,h).then(f=>(Q(Bp,`Received RPC '${e}' ${s}: `,f),f),f=>{throw Io(Bp,`RPC '${e}' ${s} failed with error: `,f,"url: ",o,"request:",r),f})}Ho(e,n,r,a,i,s){return this.Go(e,n,r,a,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+el}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,i)=>e[i]=a),r&&r.headers.forEach((a,i)=>e[i]=a)}zo(e,n){const r=KL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class JL extends QL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,i){const s=ky();return new Promise((o,u)=>{const d=new fA;d.setWithCredentials(!0),d.listenOnce(mA.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Hd.NO_ERROR:const f=d.getResponseJson();Q(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case Hd.TIMEOUT:Q(Lt,`RPC '${e}' ${s} timed out`),u(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case Hd.HTTP_ERROR:const p=d.getStatus();if(Q(Lt,`RPC '${e}' ${s} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const N=function(_){const x=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(w.status);u(new K(N,w.message))}else u(new K(B.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new K(B.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Q(Lt,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(a);Q(Lt,`RPC '${e}' ${s} sending request:`,a),d.send(n,"POST",h,r,15)})}T_(e,n,r){const a=ky(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yA(),o=gA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");Q(Lt,`Creating RPC '${e}' stream ${a}: ${h}`,u);const f=s.createWebChannel(h,u);this.I_(f);let p=!1,y=!1;const w=new XL({Yo:A=>{y?Q(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(p||(Q(Lt,`Opening RPC '${e}' stream ${a} transport.`),f.open(),p=!0),Q(Lt,`RPC '${e}' stream ${a} sending:`,A),f.send(A))},Zo:()=>f.close()}),N=(A,_,x)=>{A.listen(_,E=>{try{x(E)}catch(I){setTimeout(()=>{throw I},0)}})};return N(f,rc.EventType.OPEN,()=>{y||(Q(Lt,`RPC '${e}' stream ${a} transport opened.`),w.o_())}),N(f,rc.EventType.CLOSE,()=>{y||(y=!0,Q(Lt,`RPC '${e}' stream ${a} transport closed`),w.a_(),this.E_(f))}),N(f,rc.EventType.ERROR,A=>{y||(y=!0,Io(Lt,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),w.a_(new K(B.UNAVAILABLE,"The operation could not be completed")))}),N(f,rc.EventType.MESSAGE,A=>{var _;if(!y){const x=A.data[0];Ee(!!x,16349);const E=x,I=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(I){Q(Lt,`RPC '${e}' stream ${a} received error:`,I);const V=I.status;let $=function(b){const C=it[b];if(C!==void 0)return XA(C)}(V),S=I.message;$===void 0&&($=B.INTERNAL,S="Unknown error status: "+V+" with message "+I.message),y=!0,w.a_(new K($,S)),f.close()}else Q(Lt,`RPC '${e}' stream ${a} received:`,x),w.u_(x)}}),N(o,pA.STAT_EVENT,A=>{A.stat===xy.PROXY?Q(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===xy.NOPROXY&&Q(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){return new nL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,r=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="PersistentStream";class hC{constructor(e,n,r,a,i,s,o,u){this.Mi=e,this.S_=r,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new dC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===n&&this.G_(r,a)},r=>{e(()=>{const a=new K(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(Ow,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(Ow,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZL extends hC{constructor(e,n,r,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=iL(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?mr(s.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Oy(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;if(o=Ny(u)?{documents:lL(i,u)}:{query:cL(i,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=eC(i,s.resumeToken);const d=Ry(i,s.expectedCount);d!==null&&(o.expectedCount=d)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=zh(i,s.snapshotVersion.toTimestamp());const d=Ry(i,s.expectedCount);d!==null&&(o.expectedCount=d)}return o}(this.serializer,e);const r=dL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Oy(this.serializer),n.removeTarget=e,this.q_(n)}}class eV extends hC{constructor(e,n,r,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oL(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Oy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>sL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{}class nV extends tV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,Dy(n,r),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(B.UNKNOWN,i.toString())})}Ho(e,n,r,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,Dy(n,r),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(B.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ta(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class aV{constructor(e,n,r,a,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{_s(this)&&(Q(ts,"Restarting streams for network reachability change."),await async function(u){const d=ie(u);d.Ea.add(4),await Eu(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Jf(d)}(this))})}),this.Ra=new rV(r,a)}}async function Jf(t){if(_s(t))for(const e of t.da)await e(!0)}async function Eu(t){for(const e of t.da)await e(!1)}function fC(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fv(n)?zv(n):al(n).O_()&&Bv(n,e))}function Uv(t,e){const n=ie(t),r=al(n);n.Ia.delete(e),r.O_()&&mC(n,e),n.Ia.size===0&&(r.O_()?r.L_():_s(n)&&n.Ra.set("Unknown"))}function Bv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(t).Y_(e)}function mC(t,e){t.Va.Ue(e),al(t).Z_(e)}function zv(t){t.Va=new J5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),al(t).start(),t.Ra.ua()}function Fv(t){return _s(t)&&!al(t).x_()&&t.Ia.size>0}function _s(t){return ie(t).Ea.size===0}function pC(t){t.Va=void 0}async function iV(t){t.Ra.set("Online")}async function sV(t){t.Ia.forEach((e,n)=>{Bv(t,e)})}async function oV(t,e){pC(t),Fv(t)?(t.Ra.ha(e),zv(t)):t.Ra.set("Unknown")}async function lV(t,e,n){if(t.Ra.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.Va.removeTarget(o))}(t,e)}catch(r){Q(ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $h(t,r)}else if(e instanceof Kd?t.Va.Ze(e):e instanceof JA?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await uC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Va.Tt(s);return o.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,d)=>{const h=i.Ia.get(u);if(!h)return;i.Ia.set(u,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),mC(i,u);const f=new Pa(h.target,u,d,h.sequenceNumber);Bv(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Q(ts,"Failed to raise snapshot:",r),await $h(t,r)}}async function $h(t,e,n){if(!nl(e))throw e;t.Ea.add(1),await Eu(t),t.Ra.set("Offline"),n||(n=()=>uC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(ts,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jf(t)})}function gC(t,e){return e().catch(n=>$h(t,n,e))}async function Zf(t){const e=ie(t),n=si(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sv;for(;cV(e);)try{const a=await qL(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,uV(e,a)}catch(a){await $h(e,a)}yC(e)&&vC(e)}function cV(t){return _s(t)&&t.Ta.length<10}function uV(t,e){t.Ta.push(e);const n=si(t);n.O_()&&n.X_&&n.ea(e.mutations)}function yC(t){return _s(t)&&!si(t).x_()&&t.Ta.length>0}function vC(t){si(t).start()}async function dV(t){si(t).ra()}async function hV(t){const e=si(t);for(const n of t.Ta)e.ea(n.mutations)}async function fV(t,e,n){const r=t.Ta.shift(),a=Ov.from(r,e,n);await gC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Zf(t)}async function mV(t,e){e&&si(t).X_&&await async function(r,a){if(function(s){return K5(s)&&s!==B.ABORTED}(a.code)){const i=r.Ta.shift();si(r).B_(),await gC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Zf(r)}}(t,e),yC(t)&&vC(t)}async function jw(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),Q(ts,"RemoteStore received new credentials");const r=_s(n);n.Ea.add(3),await Eu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jf(n)}async function pV(t,e){const n=ie(t);e?(n.Ea.delete(2),await Jf(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function al(t){return t.ma||(t.ma=function(n,r,a){const i=ie(n);return i.sa(),new ZL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:iV.bind(null,t),t_:sV.bind(null,t),r_:oV.bind(null,t),H_:lV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Fv(t)?zv(t):t.Ra.set("Unknown")):(await t.ma.stop(),pC(t))})),t.ma}function si(t){return t.fa||(t.fa=function(n,r,a){const i=ie(n);return i.sa(),new eV(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:dV.bind(null,t),r_:mV.bind(null,t),ta:hV.bind(null,t),na:fV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Zf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(ts,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,a,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,i){const s=Date.now()+r,o=new $v(e,n,s,a,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qv(t,e){if(ta("AsyncQueue",`${e}: ${t}`),nl(t))return new K(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.ga=new Ke(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lo{constructor(e,n,r,a,i,s,o,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,a,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Lo(e,n,mo.emptySet(n),s,r,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class yV{constructor(){this.queries=Mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ie(n),i=a.queries;a.queries=Mw(),i.forEach((s,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new K(B.ABORTED,"Firestore shutting down"))}}function Mw(){return new vs(t=>UA(t),Gf)}async function Hv(t,e){const n=ie(t);let r=3;const a=e.query;let i=n.queries.get(a);i?!i.ba()&&e.Da()&&(r=2):(i=new gV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(a,!0);break;case 1:i.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=qv(s,`Initialization of query '${Bs(e.query)}' failed`);return void e.onError(o)}n.queries.set(a,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Yv(n)}async function Gv(t,e){const n=ie(t),r=e.query;let a=3;const i=n.queries.get(r);if(i){const s=i.Sa.indexOf(e);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vV(t,e){const n=ie(t);let r=!1;for(const a of e){const i=a.query,s=n.queries.get(i);if(s){for(const o of s.Sa)o.Fa(a)&&(r=!0);s.wa=a}}r&&Yv(n)}function _V(t,e,n){const r=ie(t),a=r.queries.get(e);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(e)}function Yv(t){t.Ca.forEach(e=>{e.next()})}var My,Pw;(Pw=My||(My={})).Ma="default",Pw.Cache="cache";class Wv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==My.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.key=e}}class bC{constructor(e){this.key=e}}class bV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ge(),this.mutatedKeys=ge(),this.eu=BA(e),this.tu=new mo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new kw,a=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((h,f)=>{const p=a.get(h),y=Yf(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let A=!1;p&&y?p.data.isEqual(y.data)?w!==N&&(r.track({type:3,doc:y}),A=!0):this.su(p,y)||(r.track({type:2,doc:y}),A=!0,(u&&this.eu(y,u)>0||d&&this.eu(y,d)<0)&&(o=!0)):!p&&y?(r.track({type:0,doc:y}),A=!0):p&&!y&&(r.track({type:1,doc:p}),A=!0,(u||d)&&(o=!0)),A&&(y?(s=s.add(y),i=N?i.add(h):i.delete(h)):(s=s.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((h,f)=>function(y,w){const N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:A})}};return N(y)-N(w)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),a=a??!1;const o=n&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,d=u!==this.Za;return this.Za=u,s.length!==0||d?{snapshot:new Lo(this.query,e.tu,i,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ge(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new bC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _C(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=ge();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kv="SyncEngine";class xV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wV{constructor(e){this.key=e,this.hu=!1}}class EV{constructor(e,n,r,a,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new vs(o=>UA(o),Gf),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(Z.comparator),this.Au=new Map,this.Ru=new Mv,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TV(t,e,n=!0){const r=NC(t);let a;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await xC(r,e,n,!0),a}async function SV(t,e){const n=NC(t);await xC(n,e,!0,!1)}async function xC(t,e,n,r){const a=await HL(t.localStore,fr(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await NV(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&n&&fC(t.remoteStore,a),o}async function NV(t,e,n,r,a){t.pu=(f,p,y)=>async function(N,A,_,x){let E=A.view.ru(_);E.Cs&&(E=await Cw(N.localStore,A.query,!1).then(({documents:S})=>A.view.ru(S,E)));const I=x&&x.targetChanges.get(A.targetId),V=x&&x.targetMismatches.get(A.targetId)!=null,$=A.view.applyChanges(E,N.isPrimaryClient,I,V);return Vw(N,A.targetId,$.au),$.snapshot}(t,f,p,y);const i=await Cw(t.localStore,e,!0),s=new bV(e,i.Qs),o=s.ru(i.documents),u=wu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),d=s.applyChanges(o,t.isPrimaryClient,u);Vw(t,n,d.au);const h=new xV(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function AV(t,e,n){const r=ie(t),a=r.Tu.get(e),i=r.Iu.get(a.targetId);if(i.length>1)return r.Iu.set(a.targetId,i.filter(s=>!Gf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await jy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Uv(r.remoteStore,a.targetId),Py(r,a.targetId)}).catch(tl)):(Py(r,a.targetId),await jy(r.localStore,a.targetId,!0))}async function CV(t,e){const n=ie(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uv(n.remoteStore,r.targetId))}async function RV(t,e,n){const r=PV(t);try{const a=await function(s,o){const u=ie(s),d=de.now(),h=o.reduce((y,w)=>y.add(w.key),ge());let f,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=na(),N=ge();return u.Ns.getEntries(y,h).next(A=>{w=A,w.forEach((_,x)=>{x.isValidDocument()||(N=N.add(_))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(A=>{f=A;const _=[];for(const x of o){const E=q5(x,f.get(x.key).overlayedDocument);E!=null&&_.push(new pi(x.key,E,IA(E.value.mapValue),Wn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,d,_,o)}).next(A=>{p=A;const _=A.applyToLocalDocumentSet(f,N);return u.documentOverlayCache.saveOverlays(y,A.batchId,_)})}).then(()=>({batchId:p.batchId,changes:FA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let d=s.Vu[s.currentUser.toKey()];d||(d=new Ke(pe)),d=d.insert(o,u),s.Vu[s.currentUser.toKey()]=d}(r,a.batchId,n),await Tu(r,a.changes),await Zf(r.remoteStore)}catch(a){const i=qv(a,"Failed to persist write");n.reject(i)}}async function wC(t,e){const n=ie(t);try{const r=await FL(n.localStore,e);e.targetChanges.forEach((a,i)=>{const s=n.Au.get(i);s&&(Ee(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?Ee(s.hu,14607):a.removedDocuments.size>0&&(Ee(s.hu,42227),s.hu=!1))}),await Tu(n,r,e)}catch(r){await tl(r)}}function Lw(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach((i,s)=>{const o=s.view.va(e);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=ie(s);u.onlineState=o;let d=!1;u.queries.forEach((h,f)=>{for(const p of f.Sa)p.va(o)&&(d=!0)}),d&&Yv(u)}(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function DV(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),i=a&&a.key;if(i){let s=new Ke(Z.comparator);s=s.insert(i,Ut.newNoDocument(i,ae.min()));const o=ge().add(i),u=new Qf(ae.min(),new Map,new Ke(pe),s,o);await wC(r,u),r.du=r.du.remove(i),r.Au.delete(e),Qv(r)}else await jy(r.localStore,e,!1).then(()=>Py(r,e,n)).catch(tl)}async function IV(t,e){const n=ie(t),r=e.batch.batchId;try{const a=await zL(n.localStore,e);TC(n,r,null),EC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Tu(n,a)}catch(a){await tl(a)}}async function OV(t,e,n){const r=ie(t);try{const a=await function(s,o){const u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return u.mutationQueue.lookupMutationBatch(d,o).next(f=>(Ee(f!==null,37113),h=f.keys(),u.mutationQueue.removeMutationBatch(d,f))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,h,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>u.localDocuments.getDocuments(d,h))})}(r.localStore,e);TC(r,e,n),EC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Tu(r,a)}catch(a){await tl(a)}}function EC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function TC(t,e,n){const r=ie(t);let a=r.Vu[r.currentUser.toKey()];if(a){const i=a.get(e);i&&(n?i.reject(n):i.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||SC(t,r)})}function SC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Uv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Qv(t))}function Vw(t,e,n){for(const r of n)r instanceof _C?(t.Ru.addReference(r.key,e),jV(t,r)):r instanceof bC?(Q(Kv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||SC(t,r.key)):te(19791,{wu:r})}function jV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q(Kv,"New document in limbo: "+n),t.Eu.add(r),Qv(t))}function Qv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(je.fromString(e)),r=t.fu.next();t.Au.set(r,new wV(n)),t.du=t.du.insert(n,r),fC(t.remoteStore,new Pa(fr(Hf(n.path)),r,"TargetPurposeLimboResolution",Ff.ce))}}async function Tu(t,e,n){const r=ie(t),a=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{s.push(r.pu(u,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(d){a.push(d);const f=Lv.As(u.targetId,d);i.push(f)}}))}),await Promise.all(s),r.Pu.H_(a),await async function(u,d){const h=ie(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(d,p=>F.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>F.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!nl(f))throw f;Q(Vv,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.Ms.get(p),w=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(p,N)}}}(r.localStore,i))}async function kV(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){Q(Kv,"User change. New user:",e.toKey());const r=await cC(n.localStore,e);n.currentUser=e,function(i,s){i.mu.forEach(o=>{o.forEach(u=>{u.reject(new K(B.CANCELLED,s))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Tu(n,r.Ls)}}function MV(t,e){const n=ie(t),r=n.Au.get(e);if(r&&r.hu)return ge().add(r.key);{let a=ge();const i=n.Iu.get(e);if(!i)return a;for(const s of i){const o=n.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function NC(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DV.bind(null,e),e.Pu.H_=vV.bind(null,e.eventManager),e.Pu.yu=_V.bind(null,e.eventManager),e}function PV(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OV.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return BL(this.persistence,new LL,e.initialUser,this.serializer)}Cu(e){return new lC(Pv.mi,this.serializer)}Du(e){return new YL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class LV extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof Fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new wL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new lC(r=>Fh.mi(r,n),this.serializer)}}class Ly{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Lw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kV.bind(null,this.syncEngine),await pV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new yV}()}createDatastore(e){const n=Xf(e.databaseInfo.databaseId),r=function(i){return new JL(i)}(e.databaseInfo);return function(i,s,o,u){return new nV(i,s,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,i,s,o){return new aV(r,a,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Lw(this.syncEngine,n,0),function(){return Iw.v()?new Iw:new WL}())}createSyncEngine(e,n){return function(a,i,s,o,u,d,h){const f=new EV(a,i,s,o,u,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const i=ie(a);Q(ts,"RemoteStore shutting down."),i.Ea.add(5),await Eu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi="FirestoreClient";class VV{constructor(e,n,r,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Vt.UNAUTHENTICATED,this.clientId=Tv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{Q(oi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q(oi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(oi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await cC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await UV(t);Q(oi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>jw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>jw(e.remoteStore,a)),t._onlineComponents=e}async function UV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(oi,"Using user provided OfflineComponentProvider");try{await Fp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===B.FAILED_PRECONDITION||a.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Fp(t,new qh)}}else Q(oi,"Using default OfflineComponentProvider"),await Fp(t,new LV(void 0));return t._offlineComponents}async function AC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(oi,"Using user provided OnlineComponentProvider"),await Uw(t,t._uninitializedComponentsProvider._online)):(Q(oi,"Using default OnlineComponentProvider"),await Uw(t,new Ly))),t._onlineComponents}function BV(t){return AC(t).then(e=>e.syncEngine)}async function Hh(t){const e=await AC(t),n=e.eventManager;return n.onListen=TV.bind(null,e.syncEngine),n.onUnlisten=AV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CV.bind(null,e.syncEngine),n}function zV(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,d){const h=new Xv({next:p=>{h.Nu(),s.enqueueAndForget(()=>Gv(i,f));const y=p.docs.has(o);!y&&p.fromCache?d.reject(new K(B.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?d.reject(new K(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Wv(Hf(o.path),h,{includeMetadataChanges:!0,qa:!0});return Hv(i,f)}(await Hh(t),t.asyncQueue,e,n,r)),r.promise}function FV(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,d){const h=new Xv({next:p=>{h.Nu(),s.enqueueAndForget(()=>Gv(i,f)),p.fromCache&&u.source==="server"?d.reject(new K(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new Wv(o,h,{includeMetadataChanges:!0,qa:!0});return Hv(i,f)}(await Hh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="firestore.googleapis.com",zw=!0;class Fw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RC,this.ssl=zw}else this.host=e.host,this.ssl=e.ssl??zw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bL)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class em{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Y6;switch(r.type){case"firstParty":return new X6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Bw.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Bw.delete(n),r.terminate())}(this),Promise.resolve()}}function $V(t,e,n,r={}){var d;t=Pn(t,em);const a=ps(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;a&&(bv(`https://${o}`),xv("Firestore",!0)),i.host!==RC&&i.host!==o&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:o,ssl:a,emulatorOptions:r};if(!Zr(u,s)&&(t._setSettings(u),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Vt.MOCK_USER;else{h=nA(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Vt(p)}t._authCredentials=new W6(new _A(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new gi(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bu(n,nt._jsonSchema))return new nt(e,r||null,new Z(je.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:dt("string",nt._jsonSchemaVersion),referencePath:dt("string")};class Ka extends gi{constructor(e,n,r){super(e,n,Hf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new Z(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function yi(t,e,...n){if(t=We(t),bA("collection","path",e),t instanceof em){const r=je.fromString(e,...n);return tw(r),new Ka(t,null,r)}{if(!(t instanceof nt||t instanceof Ka))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return tw(r),new Ka(t.firestore,null,r)}}function br(t,e,...n){if(t=We(t),arguments.length===1&&(e=Tv.newId()),bA("doc","path",e),t instanceof em){const r=je.fromString(e,...n);return ew(r),new nt(t,null,new Z(r))}{if(!(t instanceof nt||t instanceof Ka))throw new K(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return ew(r),new nt(t.firestore,t instanceof Ka?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="AsyncQueue";class qw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new dC(this,"async_queue_retry"),this._c=()=>{const r=zp();r&&Q($w,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nl(e))throw e;Q($w,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ta("INTERNAL UNHANDLED ERROR: ",Hw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=$v.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&te(47125,{Pc:Hw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Hw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const i of r)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class li extends em{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new qw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qw(e),this._firestoreClient=void 0,await e}}}function qV(t,e){const n=typeof t=="object"?t:Bf(),r=typeof t=="string"?t:Ph,a=fi(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const i=ZN("firestore");i&&$V(a,...i)}return a}function tm(t){if(t._terminated)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||HV(t),t._firestoreClient}function HV(t){var r,a,i;const e=t._freezeSettings(),n=function(o,u,d,h){return new m5(o,u,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,CC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new VV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(jt.fromBase64String(e))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:dt("string",On._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(bu(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:dt("string",pr._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gr(e.vectorValues);throw new K(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:dt("string",gr._jsonSchemaVersion),vectorValues:dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^__.*__$/;class YV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new pi(e,this.data,this.fieldMask,n,this.fieldTransforms):new xu(e,this.data,n,this.fieldTransforms)}}class DC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new pi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class am{constructor(e,n,r,a,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new am({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IC(this.Ac)&&GV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class WV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xf(e)}Cc(e,n,r,a=!1){return new am({Ac:e,methodName:n,Dc:r,path:Dt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jv(t){const e=t._freezeSettings(),n=Xf(t._databaseId);return new WV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KV(t,e,n,r,a,i={}){const s=t.Cc(i.merge||i.mergeFields?2:0,e,n,a);e_("Data must be an object, but it was:",s,r);const o=OC(r,s);let u,d;if(i.merge)u=new mn(s.fieldMask),d=s.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Vy(e,f,n);if(!s.contains(p))throw new K(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);kC(h,p)||h.push(p)}u=new mn(h),d=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,d=s.fieldTransforms;return new YV(new Zt(o),u,d)}class im extends rm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}function QV(t,e,n){return new am({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zv extends rm{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=QV(this,e,!0),r=this.vc.map(i=>il(i,n)),a=new Mo(r);return new B5(e.path,a)}isEqual(e){return e instanceof Zv&&Zr(this.vc,e.vc)}}function XV(t,e,n,r){const a=t.Cc(1,e,n);e_("Data must be an object, but it was:",a,r);const i=[],s=Zt.empty();mi(r,(u,d)=>{const h=t_(e,u,n);d=We(d);const f=a.yc(h);if(d instanceof im)i.push(h);else{const p=il(d,f);p!=null&&(i.push(h),s.set(h,p))}});const o=new mn(i);return new DC(s,o,a.fieldTransforms)}function JV(t,e,n,r,a,i){const s=t.Cc(1,e,n),o=[Vy(e,r,n)],u=[a];if(i.length%2!=0)throw new K(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(Vy(e,i[p])),u.push(i[p+1]);const d=[],h=Zt.empty();for(let p=o.length-1;p>=0;--p)if(!kC(d,o[p])){const y=o[p];let w=u[p];w=We(w);const N=s.yc(y);if(w instanceof im)d.push(y);else{const A=il(w,N);A!=null&&(d.push(y),h.set(y,A))}}const f=new mn(d);return new DC(h,f,s.fieldTransforms)}function ZV(t,e,n,r=!1){return il(n,t.Cc(r?4:3,e))}function il(t,e){if(jC(t=We(t)))return e_("Unsupported field value:",e,t),OC(t,e);if(t instanceof rm)return function(r,a){if(!IC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,a){const i=[];let s=0;for(const o of r){let u=il(o,a.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,a){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=de.fromDate(r);return{timestampValue:zh(a.serializer,i)}}if(r instanceof de){const i=new de(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(a.serializer,i)}}if(r instanceof pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:eC(a.serializer,r._byteString)};if(r instanceof nt){const i=a.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof gr)return function(s,o){return{mapValue:{fields:{[RA]:{stringValue:DA},[Lh]:{arrayValue:{values:s.toArray().map(d=>{if(typeof d!="number")throw o.Sc("VectorValues must only contain numeric values.");return Dv(o.serializer,d)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${zf(r)}`)}(t,e)}function OC(t,e){const n={};return EA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,a)=>{const i=il(a,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function jC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof de||t instanceof pr||t instanceof On||t instanceof nt||t instanceof rm||t instanceof gr)}function e_(t,e,n){if(!jC(n)||!xA(n)){const r=zf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Vy(t,e,n){if((e=We(e))instanceof nm)return e._internalPath;if(typeof e=="string")return t_(t,e);throw Gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const e9=new RegExp("[~\\*/\\[\\]]");function t_(t,e,n){if(e.search(e9)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nm(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gh(t,e,n,r,a){const i=r&&!r.isEmpty(),s=a!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(i||s)&&(u+=" (found",i&&(u+=` in field ${r}`),s&&(u+=` in document ${a}`),u+=")"),new K(B.INVALID_ARGUMENT,o+t+u)}function kC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e,n,r,a,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(sm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t9 extends MC{data(){return super.data()}}function sm(t,e){return typeof e=="string"?t_(t,e):e instanceof nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n_{}class LC extends n_{}function r_(t,e,...n){let r=[];e instanceof n_&&r.push(e),r=r.concat(n),function(i){const s=i.filter(u=>u instanceof a_).length,o=i.filter(u=>u instanceof om).length;if(s>1||s>0&&o>0)throw new K(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class om extends LC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new om(e,n,r)}_apply(e){const n=this._parse(e);return UC(e._query,n),new gi(e.firestore,e.converter,Ay(e._query,n))}_parse(e){const n=Jv(e.firestore);return function(i,s,o,u,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Ww(f,h);const w=[];for(const N of f)w.push(Yw(u,i,N));p={arrayValue:{values:w}}}else p=Yw(u,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Ww(f,h),p=ZV(o,s,f,h==="in"||h==="not-in");return ct.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function VC(t,e,n){const r=e,a=sm("where",t);return om._create(a,r,n)}class a_ extends n_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new a_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const u of o)UC(s,u),s=Ay(s,u)}(e._query,n),new gi(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i_ extends LC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i_(e,n)}_apply(e){const n=function(a,i,s){if(a.startAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qc(i,s)}(e._query,this._field,this._direction);return new gi(e.firestore,e.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new rl(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function n9(t,e="asc"){const n=e,r=sm("orderBy",t);return i_._create(r,n)}function Yw(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VA(e)&&n.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!Z.isDocumentKey(r))throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cw(t,new Z(r))}if(n instanceof nt)return cw(t,n._key);throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zf(n)}.`)}function Ww(t,e){if(!Array.isArray(t)||t.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function UC(t,e){const n=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r9{convertValue(e,n="none"){switch(ii(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ai(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return mi(e,(a,i)=>{r[a]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,a,i;const n=(i=(a=(r=e.fields)==null?void 0:r[Lh].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>et(s.doubleValue));return new gr(n)}convertGeoPoint(e){return new pr(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=ri(e);return new de(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ee(sC(r),9688,{name:e});const a=new Wc(r.get(1),r.get(3)),i=new Z(r.popFirst(5));return a.isEqual(n)||ta(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gi extends MC{constructor(e,n,r,a,i,s){super(e,n,r,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(sm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:dt("string",Gi._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class Qd extends Gi{data(e={}){return super.data(e)}}class Yi{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new sc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qd(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Qd(a._firestore,a._userDataWriter,o.doc.key,o.doc,new sc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new Qd(a._firestore,a._userDataWriter,o.doc.key,o.doc,new sc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,h=-1;return o.type!==0&&(d=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:i9(o.type),doc:u,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t){t=Pn(t,nt);const e=Pn(t.firestore,li);return zV(tm(e),t._key).then(n=>$C(e,t,n))}Yi._jsonSchemaVersion="firestore/querySnapshot/1.0",Yi._jsonSchema={type:dt("string",Yi._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};class s_ extends r9{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function zC(t){t=Pn(t,gi);const e=Pn(t.firestore,li),n=tm(e),r=new s_(e);return PC(t._query),FV(n,t._query).then(a=>new Yi(e,r,t,a))}function lm(t,e,n,...r){t=Pn(t,nt);const a=Pn(t.firestore,li),i=Jv(a);let s;return s=typeof(e=We(e))=="string"||e instanceof nm?JV(i,"updateDoc",t._key,e,n,r):XV(i,"updateDoc",t._key,e),l_(a,[s.toMutation(t._key,Wn.exists(!0))])}function o_(t){return l_(Pn(t.firestore,li),[new Iv(t._key,Wn.none())])}function cm(t,e){const n=Pn(t.firestore,li),r=br(t),a=a9(t.converter,e);return l_(n,[KV(Jv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function FC(t,...e){var u,d,h;t=We(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Gw(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Gw(e[r])){const f=e[r];e[r]=(u=f.next)==null?void 0:u.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,s,o;if(t instanceof nt)s=Pn(t.firestore,li),o=Hf(t._key.path),i={next:f=>{e[r]&&e[r]($C(s,t,f))},error:e[r+1],complete:e[r+2]};else{const f=Pn(t,gi);s=Pn(f.firestore,li),o=f._query;const p=new s_(s);i={next:y=>{e[r]&&e[r](new Yi(s,p,f,y))},error:e[r+1],complete:e[r+2]},PC(t._query)}return function(p,y,w,N){const A=new Xv(N),_=new Wv(y,A,w);return p.asyncQueue.enqueueAndForget(async()=>Hv(await Hh(p),_)),()=>{A.Nu(),p.asyncQueue.enqueueAndForget(async()=>Gv(await Hh(p),_))}}(tm(s),o,a,i)}function l_(t,e){return function(r,a){const i=new Hr;return r.asyncQueue.enqueueAndForget(async()=>RV(await BV(r),a,i)),i.promise}(tm(t),e)}function $C(t,e,n){const r=n.docs.get(e._key),a=new s_(t);return new Gi(t,a,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}function s9(...t){return new Zv("arrayUnion",t)}(function(e,n=!0){(function(a){el=a})(ys),Kn(new Un("firestore",(r,{instanceIdentifier:a,options:i})=>{const s=r.getProvider("app").getImmediate(),o=new li(new K6(r.getProvider("auth-internal")),new J6(s,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(d.options.projectId,h)}(s,a),s);return i={useFetchStreams:n,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),tn(Qx,Xx,e),tn(Qx,Xx,"esm2020")})();var o9="firebase",l9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(o9,l9,"app");function qC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c9=qC,HC=new gs("auth","Firebase",qC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new Uf("@firebase/auth");function u9(t,...e){Yh.logLevel<=me.WARN&&Yh.warn(`Auth (${ys}): ${t}`,...e)}function Xd(t,...e){Yh.logLevel<=me.ERROR&&Yh.error(`Auth (${ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw c_(t,...e)}function yr(t,...e){return c_(t,...e)}function GC(t,e,n){const r={...c9(),[e]:n};return new gs("auth","Firebase",r).create(e,{appName:t.name})}function Qa(t){return GC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function c_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HC.create(t,...e)}function ee(t,e,...n){if(!t)throw c_(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xd(e),new Error(e)}function ra(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function d9(){return Kw()==="http:"||Kw()==="https:"}function Kw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d9()||rA()||"connection"in navigator)?navigator.onLine:!0}function f9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ra(n>e,"Short delay should be less than long delay!"),this.isMobile=w3()||S3()}get(){return h9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_(t,e){ra(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g9=new Su(3e4,6e4);function bs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function vi(t,e,n,r,a={}){return WC(t,a,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const o=_u({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:u,...i};return T3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ps(t.emulatorConfig.host)&&(d.credentials="include"),YC.fetch()(await KC(t,t.config.apiHost,n,o),d)})}async function WC(t,e,n){t._canInitEmulator=!1;const r={...m9,...e};try{const a=new v9(t),i=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw bd(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[u,d]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw bd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw bd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw bd(t,"user-disabled",s);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw GC(t,h,d);Xn(t,h)}}catch(a){if(a instanceof Bn)throw a;Xn(t,"network-request-failed",{message:String(a)})}}async function um(t,e,n,r,a={}){const i=await vi(t,e,n,r,a);return"mfaPendingCredential"in i&&Xn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function KC(t,e,n,r){const a=`${e}${n}?${r}`,i=t,s=i.config.emulator?u_(t.config,a):`${t.config.apiScheme}://${a}`;return p9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function y9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),g9.get())})}}function bd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=yr(t,e,r);return a.customData._tokenResponse=n,a}function Qw(t){return t!==void 0&&t.enterprise!==void 0}class _9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function b9(t,e){return vi(t,"GET","/v2/recaptchaConfig",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x9(t,e){return vi(t,"POST","/v1/accounts:delete",e)}async function Wh(t,e){return vi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w9(t,e=!1){const n=We(t),r=await n.getIdToken(e),a=d_(r);ee(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:Ac($p(a.auth_time)),issuedAtTime:Ac($p(a.iat)),expirationTime:Ac($p(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function $p(t){return Number(t)*1e3}function d_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xd("JWT malformed, contained fewer than 3 sections"),null;try{const a=XN(n);return a?JSON.parse(a):(Xd("Failed to decode base64 JWT payload"),null)}catch(a){return Xd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Xw(t){const e=d_(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&E9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Jc(t,Wh(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const i=(f=a.providerUserInfo)!=null&&f.length?QC(a.providerUserInfo):[],s=N9(t.providerData,i),o=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),d=o?u:!1,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new By(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function S9(t){const e=We(t);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N9(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function QC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A9(t,e){const n=await WC(t,{},async()=>{const r=_u({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=await KC(t,a,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return t.emulatorConfig&&ps(t.emulatorConfig.host)&&(u.credentials="include"),YC.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function C9(t,e){return vi(t,"POST","/v2/accounts:revokeToken",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=Xw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:i}=await A9(e,n);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:i}=n,s=new po;return r&&(ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),a&&(ee(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(ee(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new T9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new By(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Jc(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w9(this,e)}reload(){return S9(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Jc(this,x9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,i=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:y,providerData:w,stsTokenManager:N}=n;ee(f&&N,e,"internal-error");const A=po.fromJSON(this.name,N);ee(typeof f=="string",e,"internal-error"),va(r,e.name),va(a,e.name),ee(typeof p=="boolean",e,"internal-error"),ee(typeof y=="boolean",e,"internal-error"),va(i,e.name),va(s,e.name),va(o,e.name),va(u,e.name),va(d,e.name),va(h,e.name);const _=new Hn({uid:f,auth:e,email:a,emailVerified:p,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:A,createdAt:d,lastLoginAt:h});return w&&Array.isArray(w)&&(_.providerData=w.map(x=>({...x}))),u&&(_._redirectEventId=u),_}static async _fromIdTokenResponse(e,n,r=!1){const a=new po;a.updateFromServerResponse(n);const i=new Hn({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Kh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];ee(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?QC(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new po;o.updateFromIdToken(r);const u=new Hn({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new By(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Map;function Br(t){ra(t instanceof Function,"Expected a class definition");let e=Jw.get(t);return e?(ra(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}XC.type="NONE";const Zw=XC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t,e,n){return`firebase:${t}:${e}:${n}`}class go{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=Jd(this.userKey,a.apiKey,i),this.fullPersistenceKey=Jd("persistence",a.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wh(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new go(Br(Zw),e,r);const a=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=a[0]||Br(Zw);const s=Jd(r,e.config.apiKey,e.name);let o=null;for(const d of n)try{const h=await d._get(s);if(h){let f;if(typeof h=="string"){const p=await Wh(e,{idToken:h}).catch(()=>{});if(!p)break;f=await Hn._fromGetAccountInfoResponse(e,p,h)}else f=Hn._fromJSON(e,h);d!==i&&(o=f),i=d;break}}catch{}const u=a.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new go(i,e,r):(i=u[0],o&&await i._set(s,o.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(s)}catch{}})),new go(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rR(e))return"Blackberry";if(aR(e))return"Webos";if(ZC(e))return"Safari";if((e.includes("chrome/")||eR(e))&&!e.includes("edge/"))return"Chrome";if(nR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JC(t=Bt()){return/firefox\//i.test(t)}function ZC(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eR(t=Bt()){return/crios\//i.test(t)}function tR(t=Bt()){return/iemobile/i.test(t)}function nR(t=Bt()){return/android/i.test(t)}function rR(t=Bt()){return/blackberry/i.test(t)}function aR(t=Bt()){return/webos/i.test(t)}function h_(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R9(t=Bt()){var e;return h_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function D9(){return N3()&&document.documentMode===10}function iR(t=Bt()){return h_(t)||nR(t)||aR(t)||rR(t)||/windows phone/i.test(t)||tR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e=[]){let n;switch(t){case"Browser":n=eE(Bt());break;case"Worker":n=`${eE(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ys}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,o)=>{try{const u=e(i);s(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O9(t,e={}){return vi(t,"GET","/v2/passwordPolicy",bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=6;class k9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??j9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new I9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,a,i;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wh(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(In(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&(u!=null&&u.user)&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=f9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Qa(this));const n=e?We(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O9(this),n=new k9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await C9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,a);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&u9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sl(t){return We(t)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=j3(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P9(t){dm=t}function oR(t){return dm.loadJS(t)}function L9(){return dm.recaptchaEnterpriseScript}function V9(){return dm.gapiScript}function U9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class B9{constructor(){this.enterprise=new z9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class z9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const F9="recaptcha-enterprise",lR="NO_RECAPTCHA";class $9{constructor(e){this.type=F9,this.auth=sl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{b9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const d=new _9(u);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,s(d.siteKey)}}).catch(u=>{o(u)})})}function a(i,s,o){const u=window.grecaptcha;Qw(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(d=>{s(d)}).catch(()=>{s(lR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new B9().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{r(this.auth).then(o=>{if(!n&&Qw(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=L9();u.length!==0&&(u+=o),oR(u).then(()=>{a(o,i,s)}).catch(d=>{s(d)})}}).catch(o=>{s(o)})})}}async function nE(t,e,n,r=!1,a=!1){const i=new $9(t);let s;if(a)s=lR;else try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,d=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rE(t,e,n,r,a){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await nE(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await nE(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t,e){const n=fi(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),i=n.getOptions();if(Zr(i,e??{}))return a;Xn(a,"already-initialized")}return n.initialize({options:e})}function H9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function G9(t,e,n){const r=sl(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=cR(e),{host:s,port:o}=Y9(e),u=o===null?"":`:${o}`,d={url:`${i}//${s}${u}/`},h=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Zr(d,r.config.emulator)&&Zr(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ps(s)?(bv(`${i}//${s}${u}`),xv("Auth",!0)):W9()}function cR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y9(t){const e=cR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:aE(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:aE(s)}}}function aE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function K9(t,e){return vi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e){return um(t,"POST","/v1/accounts:signInWithPassword",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t,e){return um(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}async function J9(t,e){return um(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends f_{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,n,"signInWithPassword",Q9);case"emailLink":return X9(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,r,"signUpPassword",K9);case"emailLink":return J9(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yo(t,e){return um(t,"POST","/v1/accounts:signInWithIdp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9="http://localhost";class ns extends f_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...i}=n;if(!r||!a)return null;const s=new ns(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return yo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yo(e,n)}buildRequest(){const e={requestUri:Z9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_u(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tU(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class m_{constructor(e){const n=tc(nc(e)),r=n.apiKey??null,a=n.oobCode??null,i=eU(n.mode??null);ee(r&&a&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tU(e);try{return new m_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.providerId=ol.PROVIDER_ID}static credential(e,n){return Zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=m_.parseLink(n);return ee(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}ol.PROVIDER_ID="password";ol.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ol.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends uR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Nu{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ns._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Aa.credential(n,r)}catch{return null}}}Aa.GOOGLE_SIGN_IN_METHOD="google.com";Aa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Nu{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Nu{constructor(){super("twitter.com")}static credential(e,n){return ns._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ra.credentialFromTaggedObject(e)}static credentialFromError(e){return Ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ra.credential(n,r)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const i=await Hn._fromIdTokenResponse(e,r,a),s=iE(r);return new Vo({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=iE(r);return new Vo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function iE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends Bn{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Qh(e,n,r,a)}}function dR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Qh._fromErrorAndOperation(t,i,e,r):i})}async function nU(t,e,n=!1){const r=await Jc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rU(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(Qa(r));const a="reauthenticate";try{const i=await Jc(t,dR(r,a,e,t),n);ee(i.idToken,r,"internal-error");const s=d_(i.idToken);ee(s,r,"internal-error");const{sub:o}=s;return ee(t.uid===o,r,"user-mismatch"),Vo._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e,n=!1){if(In(t.app))return Promise.reject(Qa(t));const r="signIn",a=await dR(t,r,e),i=await Vo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(i.user),i}async function aU(t,e){return hR(sl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t){const e=sl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function sU(t,e,n){return In(t.app)?Promise.reject(Qa(t)):aU(We(t),ol.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iU(t),r})}function oU(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function lU(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function cU(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function uU(t){return We(t).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dU=1e3,hU=10;class mR extends fR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);D9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,hU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mR.type="LOCAL";const fU=mR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR extends fR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}pR.type="SESSION";const gR=pR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:i}=n.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const o=Array.from(s).map(async d=>d(n.origin,i)),u=await mU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,u)=>{const d=p_("",20);a.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function gU(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function yU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function _U(){return yR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebaseLocalStorageDb",bU=1,Jh="firebaseLocalStorage",_R="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function fm(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function xU(){const t=indexedDB.deleteDatabase(vR);return new Au(t).toPromise()}function zy(){const t=indexedDB.open(vR,bU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jh,{keyPath:_R})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),await xU(),e(await zy()))})})}async function sE(t,e,n){const r=fm(t,!0).put({[_R]:e,value:n});return new Au(r).toPromise()}async function wU(t,e){const n=fm(t,!1).get(e),r=await new Au(n).toPromise();return r===void 0?null:r.value}function oE(t,e){const n=fm(t,!0).delete(e);return new Au(n).toPromise()}const EU=800,TU=3;class bR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>TU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hm._getInstance(_U()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await yU(),!this.activeServiceWorker)return;this.sender=new pU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await zy();return await sE(e,Xh,"1"),await oE(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>sE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=fm(a,!1).getAll();return new Au(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bR.type="LOCAL";const SU=bR;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t,e){return e?Br(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends f_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AU(t){return hR(t.auth,new g_(t),t.bypassAuthState)}function CU(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),rU(n,new g_(t),t.bypassAuthState)}async function RU(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),nU(n,new g_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AU;case"linkViaPopup":case"linkViaRedirect":return RU;case"reauthViaPopup":case"reauthViaRedirect":return CU;default:Xn(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=new Su(2e3,1e4);class ao extends xR{constructor(e,n,r,a,i){super(e,n,a,i),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const e=p_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DU.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU="pendingRedirect",Zd=new Map;class OU extends xR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zd.get(this.auth._key());if(!e){try{const r=await jU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zd.set(this.auth._key(),e)}return this.bypassAuthState||Zd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jU(t,e){const n=PU(e),r=MU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function kU(t,e){Zd.set(t._key(),e)}function MU(t){return Br(t._redirectPersistence)}function PU(t){return Jd(IU,t.config.apiKey,t.name)}async function LU(t,e,n=!1){if(In(t.app))return Promise.reject(Qa(t));const r=sl(t),a=NU(r,e),s=await new OU(r,a,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=10*60*1e3;class UU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wR(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VU&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(e))}saveEventToCache(e){this.cachedEventUids.add(lE(e)),this.lastProcessedEventTime=Date.now()}}function lE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e={}){return vi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$U=/^https?/;async function qU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zU(t);for(const n of e)try{if(HU(n))return}catch{}Xn(t,"unauthorized-domain")}function HU(t){const e=Uy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$U.test(n))return!1;if(FU.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GU=new Su(3e4,6e4);function cE(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YU(t){return new Promise((e,n)=>{var a,i,s;function r(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(yr(t,"network-request-failed"))},timeout:GU.get()})}if((i=(a=vr().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((s=vr().gapi)!=null&&s.load)r();else{const o=U9("iframefcb");return vr()[o]=()=>{gapi.load?r():n(yr(t,"network-request-failed"))},oR(`${V9()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw eh=null,e})}let eh=null;function WU(t){return eh=eh||YU(t),eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=new Su(5e3,15e3),QU="__/auth/iframe",XU="emulator/auth/iframe",JU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e7(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?u_(e,XU):`https://${t.config.authDomain}/${QU}`,r={apiKey:e.apiKey,appName:t.name,v:ys},a=ZU.get(t.config.apiHost);a&&(r.eid=a);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${_u(r).slice(1)}`}async function t7(t){const e=await WU(t),n=vr().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:e7(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JU,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const s=yr(t,"network-request-failed"),o=vr().setTimeout(()=>{i(s)},KU.get());function u(){vr().clearTimeout(o),a(r)}r.ping(u).then(u,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r7=500,a7=600,i7="_blank",s7="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function o7(t,e,n,r=r7,a=a7){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...n7,width:r.toString(),height:a.toString(),top:i,left:s},d=Bt().toLowerCase();n&&(o=eR(d)?i7:n),JC(d)&&(e=e||s7,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(R9(d)&&o!=="_self")return l7(e||"",o),new uE(null);const f=window.open(e||"",o,h);ee(f,t,"popup-blocked");try{f.focus()}catch{}return new uE(f)}function l7(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7="__/auth/handler",u7="emulator/auth/handler",d7=encodeURIComponent("fac");async function dE(t,e,n,r,a,i){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ys,eventId:a};if(e instanceof uR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",O3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))s[h]=f}if(e instanceof Nu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const u=await t._getAppCheckToken(),d=u?`#${d7}=${encodeURIComponent(u)}`:"";return`${h7(t)}?${_u(o).slice(1)}${d}`}function h7({config:t}){return t.emulator?u_(t,u7):`https://${t.authDomain}/${c7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="webStorageSupport";class f7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gR,this._completeRedirectFn=LU,this._overrideRedirectResult=kU}async _openPopup(e,n,r,a){var s;ra((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await dE(e,n,r,Uy(),a);return o7(e,i,p_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const i=await dE(e,n,r,Uy(),a);return gU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:i}=this.eventManagers[n];return a?Promise.resolve(a):(ra(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t7(e),r=new UU(e);return n.register("authEvent",a=>(ee(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qp,{type:qp},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[qp];i!==void 0&&n(!!i),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iR()||ZC()||h_()}}const m7=f7;var hE="@firebase/auth",fE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y7(t){Kn(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sR(t)},d=new M9(r,a,i,u);return H9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Un("auth-internal",e=>{const n=sl(e.getProvider("auth").getImmediate());return(r=>new p7(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(hE,fE,g7(t)),tn(hE,fE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=5*60,_7=tA("authIdTokenMaxAge")||v7;let mE=null;const b7=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_7)return;const a=n==null?void 0:n.token;mE!==a&&(mE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function x7(t=Bf()){const e=fi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=q9(t,{popupRedirectResolver:m7,persistence:[SU,fU,gR]}),r=tA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=b7(i.toString());lU(n,s,()=>s(n.currentUser)),oU(n,o=>s(o))}}const a=JN("auth");return a&&G9(n,`http://${a}`),n}function w7(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}P9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const i=yr("internal-error");i.customData=a,n(i)},r.type="text/javascript",r.charset="UTF-8",w7().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y7("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebasestorage.googleapis.com",E7="storageBucket",T7=2*60*1e3,S7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Bn{constructor(e,n,r=0){super(Hp(e),`Firebase Storage: ${n} (${Hp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xr||(xr={}));function Hp(t){return"storage/"+t}function N7(){const t="An unknown error occurred, please check the error payload for server response.";return new Tr(xr.UNKNOWN,t)}function A7(){return new Tr(xr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function C7(){return new Tr(xr.CANCELED,"User canceled the upload/download.")}function R7(t){return new Tr(xr.INVALID_URL,"Invalid URL '"+t+"'.")}function D7(t){return new Tr(xr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function pE(t){return new Tr(xr.INVALID_ARGUMENT,t)}function TR(){return new Tr(xr.APP_DELETED,"The Firebase app was deleted.")}function I7(t){return new Tr(xr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw D7(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),u={bucket:1,path:3};function d(I){I.path_=decodeURIComponent(I.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${a}/o${p}`,"i"),w={bucket:1,path:3},N=n===ER?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",_=new RegExp(`^https?://${N}/${a}/${A}`,"i"),E=[{regex:o,indices:u,postModify:i},{regex:y,indices:w,postModify:d},{regex:_,indices:{bucket:1,path:2},postModify:d}];for(let I=0;I<E.length;I++){const V=E[I],$=V.regex.exec(e);if($){const S=$[V.indices.bucket];let v=$[V.indices.path];v||(v=""),r=new Gn(S,v),V.postModify(r);break}}if(r==null)throw R7(e);return r}}class O7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t,e,n){let r=1,a=null,i=null,s=!1,o=0;function u(){return o===2}let d=!1;function h(...A){d||(d=!0,e.apply(null,A))}function f(A){a=setTimeout(()=>{a=null,t(y,u())},A)}function p(){i&&clearTimeout(i)}function y(A,..._){if(d){p();return}if(A){p(),h.call(null,A,..._);return}if(u()||s){p(),h.call(null,A,..._);return}r<64&&(r*=2);let E;o===1?(o=2,E=0):E=(r+Math.random())*1e3,f(E)}let w=!1;function N(A){w||(w=!0,p(),!d&&(a!==null?(A||(o=2),clearTimeout(a),f(0)):A||(o=1)))}return f(0),i=setTimeout(()=>{s=!0,N(!0)},n),N}function k7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){return t!==void 0}function gE(t,e,n,r){if(r<e)throw pE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw pE(`Invalid value for '${t}'. Expected ${n} or less.`)}function P7(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Zh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zh||(Zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L7(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V7{constructor(e,n,r,a,i,s,o,u,d,h,f,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,N)=>{this.resolve_=w,this.reject_=N,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new xd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const u=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===Zh.NO_ERROR,u=i.getStatus();if(!o||L7(u,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Zh.ABORT;r(!1,new xd(!1,null,h));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new xd(d,i))})},n=(r,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(o,o.getResponse());M7(u)?i(u):i()}catch(u){s(u)}else if(o!==null){const u=N7();u.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,u)):s(u)}else if(a.canceled){const u=this.appDelete_?TR():C7();s(u)}else{const u=A7();s(u)}};this.canceled_?n(!1,new xd(!1,null,!0)):this.backoffId_=j7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&k7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function U7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function B7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function z7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function F7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $7(t,e,n,r,a,i,s=!0,o=!1){const u=P7(t.urlParams),d=t.url+u,h=Object.assign({},t.headers);return z7(h,e),U7(h,n),B7(h,i),F7(h,r),new V7(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function H7(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ef(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return H7(this._location.path)}get storage(){return this._service}get parent(){const e=q7(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new ef(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw I7(e)}}function yE(t,e){const n=e==null?void 0:e[E7];return n==null?null:Gn.makeFromBucketSpec(n,t)}function G7(t,e,n,r={}){t.host=`${e}:${n}`;const a=ps(e);a&&(bv(`https://${t.host}/b`),xv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:nA(i,t.app.options.projectId))}class Y7{constructor(e,n,r,a,i,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=ER,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=T7,this._maxUploadRetryTime=S7,this._requests=new Set,a!=null?this._bucket=Gn.makeFromBucketSpec(a,this._host):this._bucket=yE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=yE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ef(this,e)}_makeRequest(e,n,r,a,i=!0){if(this._deleted)return new O7(TR());{const s=$7(e,this._appId,r,a,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const vE="@firebase/storage",_E="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="storage";function W7(t=Bf(),e){t=We(t);const r=fi(t,SR).getImmediate({identifier:e}),a=ZN("storage");return a&&K7(r,...a),r}function K7(t,e,n,r={}){G7(t,e,n,r)}function Q7(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Y7(n,r,a,e,ys)}function X7(){Kn(new Un(SR,Q7,"PUBLIC").setMultipleInstances(!0)),tn(vE,_E,""),tn(vE,_E,"esm2020")}X7();const NR="@firebase/installations",y_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=1e4,CR=`w:${y_}`,RR="FIS_v2",J7="https://firebaseinstallations.googleapis.com/v1",Z7=60*60*1e3,e8="installations",t8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rs=new gs(e8,t8,n8);function DR(t){return t instanceof Bn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR({projectId:t}){return`${J7}/projects/${t}/installations`}function OR(t){return{token:t.token,requestStatus:2,expiresIn:a8(t.expiresIn),creationTime:Date.now()}}async function jR(t,e){const r=(await e.json()).error;return rs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function kR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function r8(t,{refreshToken:e}){const n=kR(t);return n.append("Authorization",i8(e)),n}async function MR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function a8(t){return Number(t.replace("s","000"))}function i8(t){return`${RR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IR(t),a=kR(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const s={fid:n,authVersion:RR,appId:t.appId,sdkVersion:CR},o={method:"POST",headers:a,body:JSON.stringify(s)},u=await MR(()=>fetch(r,o));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:OR(d.authToken)}}else throw await jR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=/^[cdef][\w-]{21}$/,Fy="";function c8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=u8(t);return l8.test(n)?n:Fy}catch{return Fy}}function u8(t){return o8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Map;function VR(t,e){const n=mm(t);UR(n,e),d8(n,e)}function UR(t,e){const n=LR.get(t);if(n)for(const r of n)r(e)}function d8(t,e){const n=h8();n&&n.postMessage({key:t,fid:e}),f8()}let Ui=null;function h8(){return!Ui&&"BroadcastChannel"in self&&(Ui=new BroadcastChannel("[Firebase] FID Change"),Ui.onmessage=t=>{UR(t.data.key,t.data.fid)}),Ui}function f8(){LR.size===0&&Ui&&(Ui.close(),Ui=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8="firebase-installations-database",p8=1,as="firebase-installations-store";let Gp=null;function v_(){return Gp||(Gp=lA(m8,p8,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(as)}}})),Gp}async function tf(t,e){const n=mm(t),a=(await v_()).transaction(as,"readwrite"),i=a.objectStore(as),s=await i.get(n);return await i.put(e,n),await a.done,(!s||s.fid!==e.fid)&&VR(t,e.fid),e}async function BR(t){const e=mm(t),r=(await v_()).transaction(as,"readwrite");await r.objectStore(as).delete(e),await r.done}async function pm(t,e){const n=mm(t),a=(await v_()).transaction(as,"readwrite"),i=a.objectStore(as),s=await i.get(n),o=e(s);return o===void 0?await i.delete(n):await i.put(o,n),await a.done,o&&(!s||s.fid!==o.fid)&&VR(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __(t){let e;const n=await pm(t.appConfig,r=>{const a=g8(r),i=y8(t,a);return e=i.registrationPromise,i.installationEntry});return n.fid===Fy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function g8(t){const e=t||{fid:c8(),registrationStatus:0};return zR(e)}function y8(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(rs.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=v8(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:_8(t)}:{installationEntry:e}}async function v8(t,e){try{const n=await s8(t,e);return tf(t.appConfig,n)}catch(n){throw DR(n)&&n.customData.serverCode===409?await BR(t.appConfig):await tf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function _8(t){let e=await bE(t.appConfig);for(;e.registrationStatus===1;)await PR(100),e=await bE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await __(t);return r||n}return e}function bE(t){return pm(t,e=>{if(!e)throw rs.create("installation-not-found");return zR(e)})}function zR(t){return b8(t)?{fid:t.fid,registrationStatus:0}:t}function b8(t){return t.registrationStatus===1&&t.registrationTime+AR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x8({appConfig:t,heartbeatServiceProvider:e},n){const r=w8(t,n),a=r8(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&a.append("x-firebase-client",d)}const s={installation:{sdkVersion:CR,appId:t.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},u=await MR(()=>fetch(r,o));if(u.ok){const d=await u.json();return OR(d)}else throw await jR("Generate Auth Token",u)}function w8(t,{fid:e}){return`${IR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(t,e=!1){let n;const r=await pm(t.appConfig,i=>{if(!FR(i))throw rs.create("not-registered");const s=i.authToken;if(!e&&S8(s))return i;if(s.requestStatus===1)return n=E8(t,e),i;{if(!navigator.onLine)throw rs.create("app-offline");const o=A8(i);return n=T8(t,o),o}});return n?await n:r.authToken}async function E8(t,e){let n=await xE(t.appConfig);for(;n.authToken.requestStatus===1;)await PR(100),n=await xE(t.appConfig);const r=n.authToken;return r.requestStatus===0?b_(t,e):r}function xE(t){return pm(t,e=>{if(!FR(e))throw rs.create("not-registered");const n=e.authToken;return C8(n)?{...e,authToken:{requestStatus:0}}:e})}async function T8(t,e){try{const n=await x8(t,e),r={...e,authToken:n};return await tf(t.appConfig,r),n}catch(n){if(DR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await BR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await tf(t.appConfig,r)}throw n}}function FR(t){return t!==void 0&&t.registrationStatus===2}function S8(t){return t.requestStatus===2&&!N8(t)}function N8(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Z7}function A8(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function C8(t){return t.requestStatus===1&&t.requestTime+AR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R8(t){const e=t,{installationEntry:n,registrationPromise:r}=await __(e);return r?r.catch(console.error):b_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(t,e=!1){const n=t;return await I8(n),(await b_(n,e)).token}async function I8(t){const{registrationPromise:e}=await __(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O8(t){if(!t||!t.options)throw Yp("App Configuration");if(!t.name)throw Yp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yp(t){return rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="installations",j8="installations-internal",k8=t=>{const e=t.getProvider("app").getImmediate(),n=O8(e),r=fi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},M8=t=>{const e=t.getProvider("app").getImmediate(),n=fi(e,$R).getImmediate();return{getId:()=>R8(n),getToken:a=>D8(n,a)}};function P8(){Kn(new Un($R,k8,"PUBLIC")),Kn(new Un(j8,M8,"PRIVATE"))}P8();tn(NR,y_);tn(NR,y_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="analytics",L8="firebase_id",V8="origin",U8=60*1e3,B8="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",x_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt=new Uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new gs("analytics","Analytics",z8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F8(t){if(!t.startsWith(x_)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return qt.warn(e.message),""}return t}function qR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function $8(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function q8(t,e){const n=$8("firebase-js-sdk-policy",{createScriptURL:F8}),r=document.createElement("script"),a=`${x_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function H8(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function G8(t,e,n,r,a,i){const s=r[a];try{if(s)await e[s];else{const u=(await qR(n)).find(d=>d.measurementId===a);u&&await e[u.appId]}}catch(o){qt.error(o)}t("config",a,i)}async function Y8(t,e,n,r,a){try{let i=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const o=await qR(n);for(const u of s){const d=o.find(f=>f.measurementId===u),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,a||{})}catch(i){qt.error(i)}}function W8(t,e,n,r){async function a(i,...s){try{if(i==="event"){const[o,u]=s;await Y8(t,e,n,o,u)}else if(i==="config"){const[o,u]=s;await G8(t,e,n,r,o,u)}else if(i==="consent"){const[o,u]=s;t("consent",o,u)}else if(i==="get"){const[o,u,d]=s;t("get",o,u,d)}else if(i==="set"){const[o]=s;t("set",o)}else t(i,...s)}catch(o){qt.error(o)}}return a}function K8(t,e,n,r,a){let i=function(...s){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=W8(i,t,e,n),{gtagCore:i,wrappedGtag:window[a]}}function Q8(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(x_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=30,J8=1e3;class Z8{constructor(e={},n=J8){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const HR=new Z8;function eB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function tB(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:eB(n)},a=B8.replace("{app-id}",e),i=await fetch(a,r);if(i.status!==200&&i.status!==304){let o="";try{const u=await i.json();(s=u.error)!=null&&s.message&&(o=u.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function nB(t,e=HR,n){const{appId:r,apiKey:a,measurementId:i}=t.options;if(!r)throw _n.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:r};throw _n.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new iB;return setTimeout(async()=>{o.abort()},U8),GR({appId:r,apiKey:a,measurementId:i},s,o,e)}async function GR(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=HR){var o;const{appId:i,measurementId:s}=t;try{await rB(r,e)}catch(u){if(s)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:s};throw u}try{const u=await tB(t);return a.deleteThrottleMetadata(i),u}catch(u){const d=u;if(!aB(d)){if(a.deleteThrottleMetadata(i),s)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:s};throw u}const h=Number((o=d==null?void 0:d.customData)==null?void 0:o.httpStatus)===503?Bx(n,a.intervalMillis,X8):Bx(n,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return a.setThrottleMetadata(i,f),qt.debug(`Calling attemptFetch again in ${h} millis`),GR(t,f,r,a)}}function rB(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),i=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(i),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aB(t){if(!(t instanceof Bn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class iB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function sB(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const i=await e,s={...r,send_to:i};t("event",n,s)}}async function oB(t,e,n,r){if(r&&r.global){const a={};for(const i of Object.keys(n))a[`user_properties.${i}`]=n[i];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lB(){if(aA())try{await iA()}catch(t){return qt.warn(_n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qt.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cB(t,e,n,r,a,i,s){const o=nB(t);o.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>qt.error(p)),e.push(o);const u=lB().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([o,u]);Q8(i)||q8(i,d.measurementId),a("js",new Date);const f=(s==null?void 0:s.config)??{};return f[V8]="firebase",f.update=!0,h!=null&&(f[L8]=h),a("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(e){this.app=e}_delete(){return delete vo[this.app.options.appId],Promise.resolve()}}let vo={},wE=[];const EE={};let Wp="dataLayer",dB="gtag",TE,w_,SE=!1;function hB(){const t=[];if(rA()&&t.push("This is a browser extension environment."),C3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});qt.warn(n.message)}}function fB(t,e,n){hB();const r=t.options.appId;if(!r)throw _n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(vo[r]!=null)throw _n.create("already-exists",{id:r});if(!SE){H8(Wp);const{wrappedGtag:i,gtagCore:s}=K8(vo,wE,EE,Wp,dB);w_=i,TE=s,SE=!0}return vo[r]=cB(t,wE,EE,e,TE,Wp,n),new uB(t)}function mB(t=Bf()){t=We(t);const e=fi(t,nf);return e.isInitialized()?e.getImmediate():pB(t)}function pB(t,e={}){const n=fi(t,nf);if(n.isInitialized()){const a=n.getImmediate();if(Zr(e,n.getOptions()))return a;throw _n.create("already-initialized")}return n.initialize({options:e})}function gB(t,e,n){t=We(t),oB(w_,vo[t.app.options.appId],e,n).catch(r=>qt.error(r))}function yB(t,e,n,r){t=We(t),sB(w_,vo[t.app.options.appId],e,n,r).catch(a=>qt.error(a))}const NE="@firebase/analytics",AE="0.10.19";function vB(){Kn(new Un(nf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return fB(r,a,n)},"PUBLIC")),Kn(new Un("analytics-internal",t,"PRIVATE")),tn(NE,AE),tn(NE,AE,"esm2020");function t(e){try{const n=e.getProvider(nf).getImmediate();return{logEvent:(r,a,i)=>yB(n,r,a,i),setUserProperties:(r,a)=>gB(n,r,a)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}vB();const _B={apiKey:"AIzaSyAriwME6CybqyDw1e3yNTwF6sHk4NUn7oY",authDomain:"planyourtrip-ed010.firebaseapp.com",databaseURL:"https://planyourtrip-ed010-default-rtdb.firebaseio.com",projectId:"planyourtrip-ed010",storageBucket:"planyourtrip-ed010.firebasestorage.app",messagingSenderId:"889865160214",appId:"1:889865160214:web:3cbe594765950e07609737",measurementId:"G-1TY4MKM2D9"},gm=cA(_B),kt=qV(gm),E_=x7(gm);W7(gm);mB(gm);const bB=async t=>{try{return(await cm(yi(kt,"trips"),{...t,createdAt:de.now()})).id}catch(e){throw console.error("Error creating trip:",e),e}},YR=async t=>{try{const e=br(kt,"trips",t),n=await BC(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting trip:",e),e}},xB=async()=>{try{return(await zC(yi(kt,"trips"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting all trips:",t),t}},wB=async(t,e)=>{try{const n=br(kt,"trips",t);await lm(n,e)}catch(n){throw console.error("Error updating trip:",n),n}},EB=async t=>{try{await o_(br(kt,"trips",t))}catch(e){throw console.error("Error deleting trip:",e),e}},WR=async t=>{try{return(await cm(yi(kt,"registrations"),{...t,timestamp:de.now()})).id}catch(e){throw console.error("Error creating registration:",e),e}},TB=async t=>{try{const e=r_(yi(kt,"registrations"),VC("tripId","==",t));return(await zC(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting registrations:",e),e}},rf=async(t,e)=>{try{const n=br(kt,"registrations",t);await lm(n,e)}catch(n){throw console.error("Error updating registration:",n),n}},KR=async t=>{try{await o_(br(kt,"registrations",t))}catch(e){throw console.error("Error deleting registration:",e),e}},SB=({selectedDate:t,onClose:e,onCreate:n})=>{const[r,a]=R.useState({title:"",vehicleLayout:"sprinter_15",driverName:"",whatsappGroupLink:"",status:"planned",date:t,endDate:t,customSeats:[]}),[i,s]=R.useState(!1),[o,u]=R.useState(!1),d=Array.from({length:50},(E,I)=>I+1),h=async E=>{E.preventDefault(),s(!0);try{const I={...r,date:de.fromDate(r.date),endDate:de.fromDate(r.endDate)};r.vehicleLayout==="custom"&&r.customSeats.length>0&&(I.vehicleLayout=`custom_${r.customSeats.length}`,I.customSeats=r.customSeats),await n(I)}catch(I){console.error("Error creating trip:",I)}finally{s(!1)}},f=E=>{const I=new Date(E.target.value),V=I>r.endDate?I:r.endDate;a({...r,date:I,endDate:V})},p=E=>{const I=new Date(E.target.value);a({...r,endDate:I})},y=()=>{const E=new Date(r.date),I=new Date(r.endDate);E.setHours(0,0,0,0),I.setHours(0,0,0,0);const V=Math.abs(I-E);return Math.ceil(V/(1e3*60*60*24))+1},w=E=>{const I=E.getFullYear(),V=String(E.getMonth()+1).padStart(2,"0"),$=String(E.getDate()).padStart(2,"0");return`${I}-${V}-${$}`},N=E=>{const I=E.target.value;a({...r,vehicleLayout:I}),u(I==="custom")},A=E=>{const I=[...r.customSeats],V=I.indexOf(E);V>-1?I.splice(V,1):(I.push(E),I.sort(($,S)=>$-S)),a({...r,customSeats:I})},_=()=>{a({...r,customSeats:[...d]})},x=()=>{a({...r,customSeats:[]})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full border-4 border-teal-400 max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),style:{borderColor:P.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Create New Trip"}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(hs,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:h,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),l.jsx("input",{type:"text",value:r.title,onChange:E=>a({...r,title:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),l.jsx("input",{type:"date",value:w(r.date),onChange:f,className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent hover:border-[#00BCD4] transition-colors cursor-pointer",style:{borderColor:P.primary.teal},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),l.jsx("input",{type:"date",value:w(r.endDate),onChange:p,min:w(r.date),className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent hover:border-[#00BCD4] transition-colors cursor-pointer",style:{borderColor:P.primary.teal},required:!0})]})]}),l.jsx("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"font-semibold",style:{color:P.primary.teal},children:"Trip Duration:"})," ",l.jsxs("span",{className:"font-medium",children:[y()," ",y()===1?"day":"days"]}),y()===1&&l.jsx("span",{className:"text-xs text-gray-600 ml-2",children:"(Single-day trip)"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{type:"text",value:r.driverName,onChange:E=>a({...r,driverName:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),l.jsxs("select",{value:r.vehicleLayout,onChange:N,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),l.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),l.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"}),l.jsx("option",{value:"custom",children:"Custom Seat Selection"})]})]}),o&&l.jsxs("div",{className:"border-2 rounded-lg p-4",style:{borderColor:P.primary.teal},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Select Seats (",r.customSeats.length," selected)"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:_,className:"text-xs px-3 py-1 rounded-lg text-white hover:opacity-90 transition-opacity",style:{backgroundColor:P.primary.teal},children:"Select All"}),l.jsx("button",{type:"button",onClick:x,className:"text-xs px-3 py-1 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:"Clear All"})]})]}),l.jsx("div",{className:"grid grid-cols-10 gap-2 max-h-64 overflow-y-auto p-2 bg-gray-50 rounded",children:d.map(E=>{const I=r.customSeats.includes(E);return l.jsxs("button",{type:"button",onClick:()=>A(E),className:`relative h-10 rounded-lg text-sm font-medium transition-all ${I?"text-white shadow-md":"bg-white border-2 border-gray-300 text-gray-700 hover:border-teal-300"}`,style:I?{backgroundColor:P.primary.teal}:{},children:[E,I&&l.jsx(Cf,{className:"w-3 h-3 absolute top-0.5 right-0.5"})]},E)})}),r.customSeats.length===0&&l.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please select at least one seat"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),l.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:E=>a({...r,whatsappGroupLink:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),l.jsxs("select",{value:r.status,onChange:E=>a({...r,status:E.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"planned",children:"Planned (Yellow)"}),l.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),l.jsx("option",{value:"done",children:"Done (Green)"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i||o&&r.customSeats.length===0,style:{backgroundColor:P.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Trip"})]})]})]})})},NB=({trip:t,onClose:e,onUpdate:n})=>{const r=()=>{var f;return(f=t.date)!=null&&f.toDate?t.date.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0]},a=()=>{var f;return(f=t.endDate)!=null&&f.toDate?t.endDate.toDate().toISOString().split("T")[0]:r()},[i,s]=R.useState({title:t.title||"",date:r(),endDate:a(),vehicleLayout:t.vehicleLayout||"sprinter_15",driverName:t.driverName||"",whatsappGroupLink:t.whatsappGroupLink||"",status:t.status||"planned"}),[o,u]=R.useState(!1),d=async f=>{f.preventDefault(),u(!0);try{const p={...i,date:de.fromDate(new Date(i.date)),endDate:de.fromDate(new Date(i.endDate))};await n(t.id,p)}catch(p){console.error("Error updating trip:",p)}finally{u(!1)}},h=()=>{const f=new Date(i.date),p=new Date(i.endDate);f.setHours(0,0,0,0),p.setHours(0,0,0,0);const y=Math.abs(p-f);return Math.ceil(y/(1e3*60*60*24))+1};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:f=>f.stopPropagation(),style:{borderColor:P.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Edit Trip"}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(hs,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),l.jsx("input",{type:"text",value:i.title,onChange:f=>s({...i,title:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),l.jsx("input",{type:"date",value:i.date,onChange:f=>{const p=f.target.value,y=new Date(p)>new Date(i.endDate)?p:i.endDate;s({...i,date:p,endDate:y})},className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent hover:border-[#00BCD4] transition-colors",style:{borderColor:P.primary.teal},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),l.jsx("input",{type:"date",value:i.endDate,onChange:f=>s({...i,endDate:f.target.value}),min:i.date,className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent hover:border-[#00BCD4] transition-colors",style:{borderColor:P.primary.teal},required:!0})]})]}),l.jsx("div",{className:"bg-teal-50 border-2 border-teal-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("span",{className:"font-semibold",style:{color:P.primary.teal},children:"Trip Duration:"})," ",l.jsxs("span",{className:"font-medium",children:[h()," ",h()===1?"day":"days"]}),h()===1&&l.jsx("span",{className:"text-xs text-gray-600 ml-2",children:"(Single-day trip)"})]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{type:"text",value:i.driverName,onChange:f=>s({...i,driverName:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),l.jsxs("select",{value:i.vehicleLayout,onChange:f=>s({...i,vehicleLayout:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),l.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),l.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),l.jsx("input",{type:"url",value:i.whatsappGroupLink,onChange:f=>s({...i,whatsappGroupLink:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),l.jsxs("select",{value:i.status,onChange:f=>s({...i,status:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"planned",children:"Planned (Yellow)"}),l.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),l.jsx("option",{value:"done",children:"Done (Green)"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:o,style:{backgroundColor:P.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Updating...":"Update Trip"})]})]})]})})},CE={sprinter_15:{name:"Mercedes Sprinter Black (13 Seats)",totalSeats:14,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:60,y:320},{id:9,row:4,position:"center",x:165,y:320},{id:10,row:4,position:"right",x:270,y:320},{id:11,row:5,position:"left",x:40,y:410},{id:12,row:5,position:"center-left",x:130,y:410},{id:13,row:5,position:"center-right",x:220,y:410},{id:14,row:5,position:"right",x:310,y:410}]},bus_30:{name:"Mercedes Sprinter White (10 Seats)",totalSeats:11,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:40,y:320},{id:9,row:4,position:"center-left",x:130,y:320},{id:10,row:4,position:"center-right",x:220,y:320},{id:11,row:4,position:"right",x:310,y:320}]},highlander_7:{name:"Toyota Highlander (7 Seats)",totalSeats:7,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:180},{id:3,row:2,position:"center",x:165,y:180},{id:4,row:2,position:"right",x:270,y:180},{id:5,row:3,position:"left",x:60,y:310},{id:6,row:3,position:"center",x:165,y:310},{id:7,row:3,position:"right",x:270,y:310}]}},QR=t=>CE[t]||CE.sprinter_15,XR=({vehicleType:t,registrations:e,onSeatClick:n,selectedSeat:r,driverName:a,reservedSeats:i=[]})=>{const s=QR(t),o=d=>e==null?void 0:e.find(h=>h.seatNumber===d),u=d=>o(d)||i.includes(d)?P.seat.occupied:r===d?P.seat.selected:P.seat.vacant;return l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:P.primary.teal},children:s.name}),a&&l.jsxs("div",{className:"text-center mb-4 pb-4 border-b",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Driver: "}),l.jsx("span",{className:"font-semibold",style:{color:P.primary.teal},children:a})]}),l.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full max-w-md mx-auto border-2 rounded-lg",style:{borderColor:P.primary.teal},children:[l.jsx("rect",{x:"10",y:"10",width:"380",height:"480",rx:"20",fill:"none",stroke:P.primary.black,strokeWidth:"3"}),l.jsx("line",{x1:"10",y1:"100",x2:"390",y2:"100",stroke:P.primary.black,strokeWidth:"2",strokeDasharray:"5,5"}),l.jsxs("g",{children:[l.jsx("rect",{x:"30",y:"40",width:"50",height:"50",rx:"5",fill:P.primary.black,stroke:P.primary.teal,strokeWidth:"2"}),l.jsx("text",{x:"55",y:"70",textAnchor:"middle",fontSize:"14",fill:"white",fontWeight:"bold",children:"D"}),a&&l.jsx("text",{x:"55",y:"115",textAnchor:"middle",fontSize:"10",fill:P.primary.teal,fontWeight:"600",children:a.split(" ")[0]})]}),s.seats.map(d=>{const h=o(d.id),f=n;return l.jsxs("g",{onClick:()=>f&&n(d.id,h),className:f?"cursor-pointer hover:opacity-80":"",children:[l.jsx("rect",{x:d.x-25,y:d.y-15,width:"50",height:"35",rx:"5",fill:u(d.id),stroke:"#4b5563",strokeWidth:"2"}),l.jsx("text",{x:d.x,y:d.y+5,textAnchor:"middle",fontSize:"14",fill:h||r===d.id?"white":"#1f2937",fontWeight:"bold",children:d.id})]},d.id)})]}),l.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:P.seat.vacant,border:`2px solid ${P.primary.black}`}}),l.jsx("span",{children:"Vacant"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:P.seat.occupied,border:`2px solid ${P.primary.black}`}}),l.jsx("span",{children:"Occupied"})]}),n&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:P.seat.selected,border:`2px solid ${P.primary.black}`}}),l.jsx("span",{children:"Selected"})]})]})]})},AB=({trip:t,registrations:e,preselectedSeat:n=null,onClose:r,onSuccess:a})=>{const[i,s]=R.useState({firstName:"",lastName:"",email:"",phone:"",seatNumber:n,seatCount:1,paymentMethod:"on-trip",paid:!1}),[o,u]=R.useState(!1),[d,h]=R.useState(""),f=QR(t.vehicleLayout),p=e.map(N=>N.seatNumber),y=Array.from({length:f.totalSeats},(N,A)=>A+1).filter(N=>!p.includes(N)),w=async N=>{if(N.preventDefault(),h(""),!i.seatNumber){h("Please select a seat");return}if(i.seatCount>1){const A=i.seatNumber,_=[];for(let E=0;E<i.seatCount;E++)_.push(A+E);if(_.filter(E=>p.includes(E)||E>f.totalSeats).length>0){h(`Not enough consecutive seats available starting from seat ${A}. Please select a different seat.`);return}}u(!0);try{const A=i.seatNumber,_=[];for(let x=0;x<i.seatCount;x++){const E=A+x;_.push(WR({tripId:t.id,firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,seatNumber:E,paymentMethod:i.paymentMethod,paid:i.paid,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,addedByAdmin:!0,isMultiSeat:i.seatCount>1,seatCount:i.seatCount}))}await Promise.all(_),a(),r()}catch(A){console.error("Error adding participant:",A),h("Failed to add participant. Please try again.")}finally{u(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:r,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4 border-teal-400",onClick:N=>N.stopPropagation(),style:{borderColor:P.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wN,{className:"w-6 h-6"}),l.jsx("h2",{className:"text-xl font-bold",children:"Add Participant"})]}),l.jsx("button",{onClick:r,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(hs,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:i.firstName,onChange:N=>s({...i,firstName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{focusRing:P.primary.teal},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:i.lastName,onChange:N=>s({...i,lastName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:i.email,onChange:N=>s({...i,email:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",value:i.phone,onChange:N=>s({...i,phone:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Seats *"}),l.jsx("select",{value:i.seatCount,onChange:N=>s({...i,seatCount:parseInt(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[1,2,3,4,5,6,7,8,9,10].map(N=>l.jsxs("option",{value:N,children:[N," ",N===1?"Seat":"Seats"]},N))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select how many seats this person needs (consecutive seats starting from the selected seat)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starting Seat Number *"}),l.jsxs("select",{value:i.seatNumber||"",onChange:N=>s({...i,seatNumber:parseInt(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Select starting seat"}),y.map(N=>l.jsxs("option",{value:N,children:["Seat ",N]},N))]}),y.length===0&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available seats"}),i.seatNumber&&i.seatCount>1&&l.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Will book seats ",i.seatNumber," - ",i.seatNumber+i.seatCount-1]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="card"?P.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"card",checked:i.paymentMethod==="card",onChange:N=>s({...i,paymentMethod:N.target.value}),className:"mr-3",style:{accentColor:P.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="on-trip"?P.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"on-trip",checked:i.paymentMethod==="on-trip",onChange:N=>s({...i,paymentMethod:N.target.value}),className:"mr-3",style:{accentColor:P.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:i.paid?P.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"checkbox",checked:i.paid,onChange:N=>s({...i,paid:N.target.checked}),className:"w-5 h-5 rounded border-gray-300",style:{accentColor:P.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Mark as Paid"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Check if participant has already paid"})]})]})}),d&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:d}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:o||y.length===0,style:{backgroundColor:P.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Adding...":"Add Participant"})]})]})]})})},ll={en:{dashboard:"Trip Management Dashboard",dashboardShort:"Dashboard",IVRITours:"IVRI Tours",tripManagement:"Trip Management System",adminPortal:"Admin Portal",logout:"Logout",backToDashboard:"Back to dashboard",tripsFor:"Trips for",allTrips:"All Trips",all:"All",currentTrips:"Current Trips",current:"Current",oldTrips:"Old Trips",old:"Old",createTrip:"Create Trip",loadingTrips:"Loading trips...",noUpcomingTrips:"No upcoming trips scheduled.",noPastTrips:"No past trips found.",noTripsForDate:"No trips scheduled for this date.",createFirstTrip:"Create your first trip",whatsapp:"WhatsApp",share:"Share",copied:"Copied!",view:"View",edit:"Edit",delete:"Delete",deleting:"Deleting...",joinWhatsappGroup:"Join WhatsApp Group",linkCopied:"Link copied!",shareTripLink:"Share trip link",viewTripDetails:"View trip details",editTrip:"Edit trip",deleteTrip:"Delete trip",createNewTrip:"Create new trip",showAllTrips:"Show all trips",showCurrentTrips:"Show current trips",showOldTrips:"Show old trips",mercedesSprinterBlack:"Mercedes Sprinter Black (14 Seats)",mercedesSprinterWhite:"Mercedes Sprinter White (11 Seats)",toyotaHighlander:"Toyota Highlander (7 Seats)",driver:"Driver",calendar:"Calendar",createNewTripTitle:"Create New Trip",editTripTitle:"Edit Trip",addParticipant:"Add Participant",participantDetails:"Participant Details",tripTitle:"Trip Title",date:"Date",driverName:"Driver Name",vehicleType:"Vehicle Type",whatsappGroupLink:"WhatsApp Group Link (Optional)",whatsappGroupLinkHelp:"Add a WhatsApp group link for trip participants to join",firstName:"First Name",lastName:"Last Name",email:"Email",phoneNumber:"Phone Number",seatNumber:"Seat Number",selectSeat:"Select a seat",paymentMethod:"Payment Method",payWithCard:"Pay with Card",payWithCardDesc:"Pay now using credit/debit card",payOnTrip:"Pay on Trip",payOnTripDesc:"Pay cash/card on the day of the trip",markAsPaid:"Mark as Paid",markAsPaidDesc:"Check if participant has already paid",cancel:"Cancel",close:"Close",updateTrip:"Update Trip",updating:"Updating...",creating:"Creating...",addParticipantBtn:"Add Participant",adding:"Adding...",completeRegistration:"Complete Registration",submitting:"Submitting...",clearSignature:"Clear Signature",participants:"Participants",add:"Add",noRegistrations:"No registrations yet",name:"Name",phone:"Phone",seat:"Seat Number",paymentStatus:"Payment Status",paid:"Paid",notPaid:"Not Paid",registrationStatus:"Registration Status",complete:"Complete",registered:"Registered",signedAgreements:"Signed Agreements",cancellationPolicy:"Cancellation Policy",liabilityWaiver:"Liability Waiver",markAsNotPaid:"Mark as Not Paid",markAsPaidBtn:"Mark as Paid",selectYourSeat:"Select Your Seat",selectedSeat:"Selected Seat",vacant:"Vacant",occupied:"Occupied",selected:"Selected",noAvailableSeats:"No available seats",personalInformation:"Personal Information",digitalSignature:"Digital Signature",registrationSuccessful:"Registration Successful!",thankYouMessage:"Thank you for registering for",confirmationEmailMessage:"You will receive a confirmation email shortly with your signed waiver.",yourSeat:"Your Seat",loadingTripInfo:"Loading trip information...",tripNotFound:"Trip Not Found",tripNotFoundMessage:"This trip link may be invalid or expired.",tripId:"Trip ID",contactOrganizer:"If you believe this is an error, please contact the trip organizer.",cancellationPolicyTitle:"Cancellation Policy",waiverTitle:"Waiver of Liability",agreeToCancellationPolicy:"I have read and agree to the cancellation policy",agreeToWaiver:"I have read, understand, and agree to the waiver of liability",deleteConfirm:"Are you sure you want to delete this trip? This action cannot be undone.",failedToDelete:"Failed to delete trip. Please try again.",failedToUpdate:"Failed to update trip. Please try again.",failedToAdd:"Failed to add participant. Please try again.",failedToUpdatePayment:"Failed to update payment status",failedToSubmit:"Failed to submit registration. Please try again.",pleasSelectSeat:"Please select a seat",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",phoneRequired:"Phone number is required",seatRequired:"Please select a seat",cancellationPolicyRequired:"You must agree to the cancellation policy",waiverRequired:"You must sign the waiver",signatureRequired:"Signature is required",tripTitlePlaceholder:"e.g., Beach Trip, Museum Visit",driverNamePlaceholder:"e.g., John Smith",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"Copy for WhatsApp",sendToGroup:"Send to Group",copyAllParticipantDetails:"Copy all participant details for WhatsApp",sendToWhatsAppGroup:"Send to WhatsApp group",viewWeather:"View Weather",weather:"Weather",loadingWeather:"Loading weather...",tryAgain:"Try again",popularLocations:"Popular locations:",enterCityName:"Enter city name...",goButton:"Go",wind:"Wind",humidity:"Humidity",forecastDays:"5-Day Forecast",changeLocation:"Change location",loadingTrip:"Loading trip...",tripNotFoundTitle:"Trip not found",returnToDashboard:"Return to Dashboard",noRegistrationsYet:"No registrations yet",participantDetailsTitle:"Participant Details",cardPayment:"Card Payment",payOnTripMethod:"Pay on Trip",paymentMethodLabel:"Payment Method",seatNumberLabel:"Seat Number",status:"Status",planned:"Planned",scheduled:"Scheduled",done:"Done",giftCards:"Gift Cards",giftCardsDesc:"Create and manage gift cards for your trips",createGiftCard:"Create Gift Card",loadingGiftCards:"Loading gift cards...",noGiftCardsYet:"No gift cards created yet",noFilteredGiftCards:"gift cards found",createFirstGiftCard:"Create your first gift card",filterAll:"All",filterActive:"Active",filterViewed:"Viewed",filterUsed:"Used",filterRedeemed:"Redeemed",filterExpired:"Expired",statusFullyUsed:"Fully Used",statusPartiallyUsed:"Partially Used",statusExpired:"Expired",statusViewed:"Viewed",statusActive:"Active",expires:"Expires",from:"From",value:"value",remaining:"remaining",fullyUsedOn:"Fully used",usedTimes:"Used",time:"time",times:"times",viewedOn:"Viewed on",use:"Use",share:"Share",viewCard:"View",deleteGiftCard:"Delete",deleteConfirmGiftCard:"Are you sure you want to delete this gift card? This action cannot be undone.",failedToDeleteGiftCard:"Failed to delete gift card. Please try again.",on:"on"},ru:{dashboard:"  ",dashboardShort:"",IVRITours:"IVRI Tours",tripManagement:"  ",adminPortal:" ",logout:"",backToDashboard:"  ",tripsFor:" ",allTrips:" ",all:"",currentTrips:" ",current:"",oldTrips:" ",old:"",createTrip:" ",loadingTrips:" ...",noUpcomingTrips:"  .",noPastTrips:"   .",noTripsForDate:"    .",createFirstTrip:"   ",whatsapp:"WhatsApp",share:"",copied:"!",view:"",edit:"",delete:"",deleting:"...",joinWhatsappGroup:"   WhatsApp",linkCopied:" !",shareTripLink:"   ",viewTripDetails:"  ",editTrip:" ",deleteTrip:" ",createNewTrip:"  ",showAllTrips:"  ",showCurrentTrips:"  ",showOldTrips:"  ",mercedesSprinterBlack:"Mercedes Sprinter  (14 )",mercedesSprinterWhite:"Mercedes Sprinter  (11 )",toyotaHighlander:"Toyota Highlander (7 )",driver:"",calendar:"",createNewTripTitle:"  ",editTripTitle:" ",addParticipant:" ",participantDetails:" ",tripTitle:" ",date:"",driverName:" ",vehicleType:" ",whatsappGroupLink:"   WhatsApp ()",whatsappGroupLinkHelp:"    WhatsApp   ",firstName:"",lastName:"",email:" ",phoneNumber:" ",seatNumber:" ",selectSeat:" ",paymentMethod:" ",payWithCard:" ",payWithCardDesc:"  / ",payOnTrip:"  ",payOnTripDesc:" /   ",markAsPaid:"  ",markAsPaidDesc:",    ",cancel:"",close:"",updateTrip:" ",updating:"...",creating:"...",addParticipantBtn:" ",adding:"...",completeRegistration:" ",submitting:"...",clearSignature:" ",participants:"",add:"",noRegistrations:"  ",name:"",phone:"",seat:" ",paymentStatus:" ",paid:"",notPaid:" ",registrationStatus:" ",complete:"",registered:"",signedAgreements:" ",cancellationPolicy:" ",liabilityWaiver:"  ",markAsNotPaid:"   ",markAsPaidBtn:"  ",selectYourSeat:"  ",selectedSeat:" ",vacant:"",occupied:"",selected:"",noAvailableSeats:"  ",personalInformation:" ",digitalSignature:" ",registrationSuccessful:" !",thankYouMessage:"   ",confirmationEmailMessage:"         .",yourSeat:" ",loadingTripInfo:"   ...",tripNotFound:"  ",tripNotFoundMessage:"        .",tripId:"ID ",contactOrganizer:"  ,   , ,    .",cancellationPolicyTitle:" ",waiverTitle:"  ",agreeToCancellationPolicy:" ()  ()   ",agreeToWaiver:" (),   ()    ",deleteConfirm:" ,     ?    .",failedToDelete:"   . ,  .",failedToUpdate:"   . ,  .",failedToAdd:"   . ,  .",failedToUpdatePayment:"    ",failedToSubmit:"   . ,  .",pleasSelectSeat:",  ",firstNameRequired:" ",lastNameRequired:" ",emailRequired:"  ",emailInvalid:"   ",phoneRequired:"  ",seatRequired:",  ",cancellationPolicyRequired:"     ",waiverRequired:"     ",signatureRequired:" ",tripTitlePlaceholder:",   ,  ",driverNamePlaceholder:",  ",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"  WhatsApp",sendToGroup:"  ",copyAllParticipantDetails:"     WhatsApp",sendToWhatsAppGroup:"   WhatsApp",viewWeather:" ",weather:"",loadingWeather:" ...",tryAgain:" ",popularLocations:" :",enterCityName:"  ...",goButton:"",wind:"",humidity:"",forecastDays:"5- ",changeLocation:" ",loadingTrip:" ...",tripNotFoundTitle:"  ",returnToDashboard:"  ",noRegistrationsYet:"  ",participantDetailsTitle:" ",cardPayment:" ",payOnTripMethod:"  ",paymentMethodLabel:" ",seatNumberLabel:" ",status:"",planned:"",scheduled:"",done:"",giftCards:" ",giftCardsDesc:"       ",createGiftCard:" ",loadingGiftCards:"  ...",noGiftCardsYet:"   ",noFilteredGiftCards:"   ",createFirstGiftCard:"    ",filterAll:"",filterActive:"",filterViewed:"",filterUsed:"",filterRedeemed:" ",filterExpired:"",statusFullyUsed:" ",statusPartiallyUsed:" ",statusExpired:"",statusViewed:"",statusActive:"",expires:"",from:"",value:"",remaining:"",fullyUsedOn:" ",usedTimes:"",time:"",times:"",viewedOn:"",use:"",share:"",viewCard:"",deleteGiftCard:"",deleteConfirmGiftCard:" ,      ?    .",failedToDeleteGiftCard:"    . ,  .",on:""}},CB=({participant:t,onClose:e,onUpdate:n})=>{const{language:r}=sa(),a=ll[r],[i,s]=R.useState(!1),[o,u]=R.useState({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone}),[d,h]=R.useState(!1),[f,p]=R.useState(!1),y=async()=>{h(!0);try{await rf(t.id,o),s(!1),n()}catch(A){console.error("Error updating participant:",A),alert("Failed to update participant. Please try again.")}finally{h(!1)}},w=async()=>{h(!0);try{await rf(t.id,{paid:!t.paid}),n()}catch(A){console.error("Error updating payment status:",A),alert(a.failedToUpdatePayment)}finally{h(!1)}},N=async()=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){p(!0);try{await KR(t.id),e(),n()}catch(A){console.error("Error deleting participant:",A),alert("Failed to delete participant. Please try again.")}finally{p(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4",onClick:A=>A.stopPropagation(),style:{borderColor:P.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Participant Details"}),l.jsxs("p",{className:"text-sm text-teal-100",children:["Seat ",t.seatNumber]})]}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(hs,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 space-y-4",children:i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),l.jsx("input",{type:"text",value:o.firstName,onChange:A=>u({...o,firstName:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),l.jsx("input",{type:"text",value:o.lastName,onChange:A=>u({...o,lastName:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:o.email,onChange:A=>u({...o,email:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{type:"tel",value:o.phone,onChange:A=>u({...o,phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:y,disabled:d,style:{backgroundColor:P.success},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:d?"Saving...":"Save"}),l.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[t.firstName," ",t.lastName]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-900",children:t.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.phone}),l.jsx("p",{className:"text-sm text-gray-900",children:t.phone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Seat Number"}),l.jsxs("p",{className:"text-sm text-gray-900",children:["Seat ",t.seatNumber]})]}),t.isMultiSeat&&t.seatCount&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Multi-Seat Booking:"})," This person has booked ",t.seatCount," seats"]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.paymentMethod}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.paymentMethod==="card"?l.jsxs(l.Fragment,{children:[l.jsx(Rf,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:a.payWithCard})]}):l.jsxs(l.Fragment,{children:[l.jsx(gN,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:a.payOnTrip})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.paymentStatus}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.paid?l.jsxs(l.Fragment,{children:[l.jsx(Vr,{className:"w-5 h-5 text-green-500"}),l.jsx("span",{className:"text-sm font-semibold text-green-700",children:a.paid})]}):l.jsxs(l.Fragment,{children:[l.jsx(ey,{className:"w-5 h-5 text-red-500"}),l.jsx("span",{className:"text-sm font-semibold text-red-700",children:a.notPaid})]})})]}),t.registrationDate&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.registered}),l.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.registrationDate).toLocaleDateString()})]}),(t.agreedToCancellationPolicy||t.agreedToWaiver)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.signedAgreements}),l.jsxs("div",{className:"space-y-1 mt-1",children:[t.agreedToCancellationPolicy&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:a.cancellationPolicy})]}),t.agreedToWaiver&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:a.liabilityWaiver})]})]})]}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx("button",{onClick:w,disabled:d,style:{backgroundColor:t.paid?P.button.danger:P.success},className:"w-full px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:d?"Updating...":t.paid?a.markAsNotPaid:a.markAsPaidBtn}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>s(!0),style:{backgroundColor:P.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:[l.jsx(bN,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:N,disabled:f,style:{backgroundColor:P.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:[l.jsx(Df,{className:"w-4 h-4"}),l.jsx("span",{children:f?"Deleting...":"Delete"})]})]})]})]})})]})})},RB=({tripId:t,onClose:e})=>{var be;const{language:n}=sa(),r=ll[n],[a,i]=R.useState(null),[s,o]=R.useState([]),[u,d]=R.useState(!0),[h,f]=R.useState(!1),[p,y]=R.useState(null),[w,N]=R.useState(null),[A,_]=R.useState(null),[x,E]=R.useState({}),[I,V]=R.useState(null),[$,S]=R.useState(!1),[v,b]=R.useState(null);R.useEffect(()=>{C();const H=O();return()=>H&&H()},[t]);const C=async()=>{try{const H=await YR(t);i(H)}catch(H){console.error("Error loading trip:",H)}finally{d(!1)}},O=()=>{const H=r_(yi(kt,"registrations"),VC("tripId","==",t));return FC(H,Ae=>{const Te=Ae.docs.map(zt=>({id:zt.id,...zt.data()}));o(Te)})},j=()=>{var Ae;if(!a||s.length===0)return"";let H=` *${a.title}*
`;return H+=` Date: ${(Ae=a.date)==null?void 0:Ae.toDate().toLocaleDateString()}
`,a.driverName&&(H+=` Driver: ${a.driverName}
`),H+=`
 *Participants (${s.length})*
`,H+=`${"=".repeat(40)}

`,[...s].sort((Te,zt)=>Te.seatNumber-zt.seatNumber).forEach((Te,zt)=>{H+=`${zt+1}. *${Te.firstName} ${Te.lastName}*
`,H+=`    Seat: ${Te.seatNumber}
`,H+=`    ${Te.email}
`,H+=`    ${Te.phone}
`,H+=`    ${Te.paid?" Paid":" Not Paid"}
`,H+=`
`}),H+=`${"=".repeat(40)}
`,H+=` Total Participants: ${s.length}
`,H+=` Paid: ${s.filter(Te=>Te.paid).length}
`,H+=` Pending: ${s.filter(Te=>!Te.paid).length}
`,H},D=()=>{const H=j();H&&navigator.clipboard.writeText(H).then(()=>{S(!0),setTimeout(()=>S(!1),2e3)}).catch(re=>{console.error("Failed to copy:",re),alert("Failed to copy to clipboard")})},G=()=>{const H=j();if(H)if(a.whatsappGroupLink){const re=encodeURIComponent(H);window.open(`${a.whatsappGroupLink}?text=${re}`,"_blank")}else{const re=encodeURIComponent(H);window.open(`https://wa.me/?text=${re}`,"_blank")}},J=async(H,re)=>{try{await rf(H,{paid:!re})}catch(Ae){console.error("Error updating payment status:",Ae),alert(r.failedToUpdatePayment)}},k=async H=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){V(H);try{await KR(H),N(null)}catch(re){console.error("Error deleting participant:",re),alert("Failed to delete participant. Please try again.")}finally{V(null)}}},U=H=>{_(H.id),E({firstName:H.firstName,lastName:H.lastName,email:H.email,phone:H.phone})},q=async H=>{try{await rf(H,x),_(null),E({})}catch(re){console.error("Error updating participant:",re),alert("Failed to update participant. Please try again.")}},Y=()=>{_(null),E({})};if(u)return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsx("div",{className:"bg-white rounded-lg p-8",children:l.jsx("div",{className:"text-lg",children:r.loadingTripInfo})})});if(!a)return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.tripNotFound}),l.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:r.close})]})});const X=[...s].sort((H,re)=>H.seatNumber-re.seatNumber);return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",onClick:e,children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden border-4 border-teal-400",onClick:H=>H.stopPropagation(),style:{borderColor:P.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 sm:px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold truncate",children:a.title}),l.jsx("p",{className:"text-sm text-teal-100",children:(be=a.date)==null?void 0:be.toDate().toLocaleDateString()})]}),l.jsx("button",{onClick:e,className:"flex-shrink-0 ml-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:r.close,children:l.jsx(hs,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)] p-4 sm:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(XR,{vehicleType:a.vehicleLayout,registrations:s,driverName:a.driverName,onSeatClick:(H,re)=>{re?b(re):(y(H),f(!0))}})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-lg p-4 sm:p-6 border-2 border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(lv,{className:"w-5 h-5",style:{color:P.primary.teal}}),l.jsxs("h3",{className:"text-lg sm:text-xl font-bold",style:{color:P.primary.black},children:[r.participants," (",s.length,")"]})]}),l.jsxs("button",{onClick:()=>f(!0),style:{backgroundColor:P.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:r.addParticipant,children:[l.jsx(wN,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.add})]})]}),s.length>0&&l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("button",{onClick:D,style:{backgroundColor:$?P.success:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.copyAllParticipantDetails,children:$?l.jsxs(l.Fragment,{children:[l.jsx(Cf,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.copied})]}):l.jsxs(l.Fragment,{children:[l.jsx(sv,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.copyForWhatsApp})]})}),l.jsxs("button",{onClick:G,style:{backgroundColor:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.sendToWhatsAppGroup,children:[l.jsx(ov,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.sendToGroup})]})]}),s.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:r.noRegistrations}):l.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:X.map(H=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsxs("div",{onClick:()=>N(w===H.id?null:H.id),className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 text-white rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:P.seat.occupied},children:H.seatNumber}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-semibold text-gray-900 truncate",children:[H.firstName," ",H.lastName]}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:H.email})]}),l.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[H.paid?l.jsx(Vr,{className:"w-5 h-5 text-green-500",title:r.paid}):l.jsx(ey,{className:"w-5 h-5 text-red-500",title:r.notPaid}),w===H.id?l.jsx(V4,{className:"w-5 h-5 text-gray-400"}):l.jsx(P4,{className:"w-5 h-5 text-gray-400"})]})]}),w===H.id&&l.jsx("div",{className:"px-3 pb-3 border-t border-gray-200",children:A===H.id?l.jsxs("div",{className:"space-y-3 pt-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"First Name"}),l.jsx("input",{type:"text",value:x.firstName,onChange:re=>E({...x,firstName:re.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Last Name"}),l.jsx("input",{type:"text",value:x.lastName,onChange:re=>E({...x,lastName:re.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Email"}),l.jsx("input",{type:"email",value:x.email,onChange:re=>E({...x,email:re.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),l.jsx("input",{type:"tel",value:x.phone,onChange:re=>E({...x,phone:re.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:()=>q(H.id),style:{backgroundColor:P.success},className:"flex-1 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Save"}),l.jsx("button",{onClick:Y,className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):l.jsxs("div",{className:"space-y-3 pt-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.phone}),l.jsx("p",{className:"text-sm text-gray-900",children:H.phone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentMethod}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:H.paymentMethod==="card"?l.jsxs(l.Fragment,{children:[l.jsx(Rf,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:r.payWithCard})]}):l.jsxs(l.Fragment,{children:[l.jsx(gN,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:r.payOnTrip})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentStatus}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[H.paid?l.jsx(Vr,{className:"w-4 h-4 text-green-500"}):l.jsx(ey,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:H.paid?r.paid:r.notPaid})]})]}),H.registrationDate&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.registered}),l.jsx("p",{className:"text-sm text-gray-900",children:new Date(H.registrationDate).toLocaleDateString()})]}),(H.agreedToCancellationPolicy||H.agreedToWaiver)&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.signedAgreements}),l.jsxs("div",{className:"space-y-1 mt-1",children:[H.agreedToCancellationPolicy&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:r.cancellationPolicy})]}),H.agreedToWaiver&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Vr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:r.liabilityWaiver})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:re=>{re.stopPropagation(),J(H.id,H.paid)},style:{backgroundColor:H.paid?P.button.danger:P.success},className:"w-full px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:H.paid?r.markAsNotPaid:r.markAsPaidBtn}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:re=>{re.stopPropagation(),U(H)},style:{backgroundColor:P.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:[l.jsx(bN,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:re=>{re.stopPropagation(),k(H.id)},disabled:I===H.id,style:{backgroundColor:P.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Df,{className:"w-4 h-4"}),l.jsx("span",{children:I===H.id?"Deleting...":"Delete"})]})]})]})]})})]},H.id))})]})})]})})]}),h&&l.jsx(AB,{trip:a,registrations:s,preselectedSeat:p,onClose:()=>{f(!1),y(null)},onSuccess:()=>{f(!1),y(null)}}),v&&l.jsx(CB,{participant:v,onClose:()=>b(null),onUpdate:()=>{b(null)}})]})},RE=({className:t="",size:e="md"})=>{const n={xs:{width:"50px",fontSize:"10px",subSize:"7px"},sm:{width:"80px",fontSize:"14px",subSize:"10px"},md:{width:"120px",fontSize:"20px",subSize:"12px"},lg:{width:"160px",fontSize:"28px",subSize:"16px"}},r=n[e]||n.md;return l.jsx("div",{className:`flex items-center gap-3 ${t}`,children:l.jsx("div",{style:{backgroundColor:P.primary.teal,width:r.width,aspectRatio:"1",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 188, 212, 0.3)"},children:l.jsxs("div",{style:{textAlign:"center",color:P.primary.white},children:[l.jsx("div",{style:{fontSize:r.fontSize,fontWeight:"bold",letterSpacing:"2px",lineHeight:"1"},children:"IVRI"}),l.jsx("div",{style:{fontSize:r.subSize,letterSpacing:"1px",marginTop:"4px",opacity:.9},children:"TOURS"})]})})})},DB=()=>{const{language:t,setLanguage:e}=sa(),n=[{code:"en",flag:"",name:"English (CA)"},{code:"ru",flag:"",name:""}];return l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"sm:hidden px-2 py-1.5 border border-gray-300 rounded-lg text-lg focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:P.primary.teal},children:n.map(r=>l.jsx("option",{value:r.code,children:r.flag},r.code))}),l.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"hidden sm:block px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:P.primary.teal},children:n.map(r=>l.jsxs("option",{value:r.code,children:[r.flag," ",r.name]},r.code))})]})})},IB=({compact:t=!1})=>{const{language:e}=sa(),n=ll[e],[r,a]=R.useState("New York"),[i,s]=R.useState(""),[o,u]=R.useState(null),[d,h]=R.useState([]),[f,p]=R.useState(!1),[y,w]=R.useState(null),[N,A]=R.useState(!1),[_,x]=R.useState(!1),E=["Toronto","Ottawa","Barrie","Montreal","mont-tremblant","Chicago","New York","Miami","Boston"];R.useEffect(()=>{I(r)},[r]);const I=async b=>{p(!0),w(null);try{const O=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(b)}&count=1&language=en&format=json`)).json();if(!O.results||O.results.length===0){w("Location not found"),p(!1);return}const{latitude:j,longitude:D,name:G,country:J}=O.results[0],U=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${j}&longitude=${D}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&temperature_unit=celsius&wind_speed_unit=mph&timezone=auto&forecast_days=5`)).json();u({city:G,country:J,temperature:Math.round(U.current.temperature_2m),humidity:U.current.relative_humidity_2m,windSpeed:Math.round(U.current.wind_speed_10m),weatherCode:U.current.weather_code});const q=U.daily.time.map((Y,X)=>({date:new Date(Y).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),maxTemp:Math.round(U.daily.temperature_2m_max[X]),minTemp:Math.round(U.daily.temperature_2m_min[X]),weatherCode:U.daily.weather_code[X]}));h(q)}catch(C){console.error("Error fetching weather:",C),w("Failed to load weather data")}finally{p(!1)}},V=b=>{a(b),A(!1),s("")},$=b=>{b.preventDefault(),i.trim()&&V(i.trim())},S=b=>b===0||b===1?l.jsx(TM,{className:"w-8 h-8",style:{color:"#FCD34D"}}):b===2||b===3?l.jsx(Hl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}):b>=51&&b<=67?l.jsx(dd,{className:"w-8 h-8",style:{color:"#60A5FA"}}):b>=71&&b<=77?l.jsx(G4,{className:"w-8 h-8",style:{color:"#93C5FD"}}):b>=80?l.jsx(dd,{className:"w-8 h-8",style:{color:"#3B82F6"}}):l.jsx(Hl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}),v=b=>b===0?"Clear sky":b===1?"Mainly clear":b===2?"Partly cloudy":b===3?"Overcast":b>=51&&b<=67?"Rainy":b>=71&&b<=77?"Snowy":b>=80?"Rain showers":"Cloudy";return t?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(!0),className:"bg-white rounded-full shadow-lg p-3 hover:shadow-xl transition-all",title:n.viewWeather,children:o&&!f&&!y?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:S(o.weatherCode)}),l.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[o.temperature,"C"]})]}):l.jsx(Hl,{className:"w-6 h-6",style:{color:P.primary.teal}})}),_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-end p-4 animate-fadeIn",onClick:()=>x(!1),children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm mt-16 mr-0 animate-slideInRight",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Hl,{className:"w-5 h-5",style:{color:P.primary.teal}}),n.weather]}),l.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx("span",{className:"text-2xl text-gray-600",children:""})})]}),l.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[f&&l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"text-gray-500 text-sm",children:n.loadingWeather})}),y&&!f&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-500 text-sm",children:y}),l.jsx("button",{onClick:()=>I(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:n.tryAgain})]}),o&&!f&&!y&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ty,{className:"w-4 h-4",style:{color:P.primary.teal}}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[o.city,", ",o.country]})]}),l.jsx("button",{onClick:()=>A(!N),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:l.jsx(bx,{className:"w-4 h-4 text-gray-600"})})]}),N&&l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("form",{onSubmit:$,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),l.jsx("button",{type:"submit",style:{backgroundColor:P.primary.teal},className:"px-4 py-2 text-white rounded-lg text-sm",children:"Go"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(b=>l.jsx("button",{onClick:()=>V(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700",children:b},b))})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4 mb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:v(o.weatherCode)})]}),l.jsx("div",{children:S(o.weatherCode)})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wx,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dd,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),l.jsx("div",{className:"space-y-2",children:d.map((b,C)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:S(b.weatherCode)}),l.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},C))})]})]})]})]})}),l.jsx("style",{jsx:!0,children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.2s ease-out;
          }
          .animate-slideInRight {
            animation: slideInRight 0.3s ease-out;
          }
        `})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Hl,{className:"w-5 h-5",style:{color:P.primary.teal}}),"Weather"]}),l.jsx("button",{onClick:()=>A(!N),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:l.jsx(bx,{className:"w-5 h-5 text-gray-600"})})]}),N&&l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("form",{onSubmit:$,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),l.jsx("button",{type:"submit",style:{backgroundColor:P.primary.teal},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:"Search"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(b=>l.jsx("button",{onClick:()=>V(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700 transition-colors",children:b},b))})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(ty,{className:"w-4 h-4",style:{color:P.primary.teal}}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:o?`${o.city}, ${o.country}`:r})]}),f&&l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"text-gray-500 text-sm",children:"Loading weather..."})}),y&&!f&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-500 text-sm",children:y}),l.jsx("button",{onClick:()=>I(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Try again"})]}),o&&!f&&!y&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:v(o.weatherCode)})]}),l.jsx("div",{children:S(o.weatherCode)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(wx,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(dd,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),l.jsx("div",{className:"space-y-2",children:d.map((b,C)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:S(b.weatherCode)}),l.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},C))})]})]})]})},ym=({showBackButton:t=!1,title:e="",subtitle:n="",showLogout:r=!0})=>{const a=ds(),i=ia(),{language:s}=sa(),o=ll[s],u=async()=>{try{await uU(E_),a("/login")}catch(y){console.error("Error logging out:",y)}},d=()=>{a("/admin")},h=i.pathname==="/admin",f=i.pathname==="/gift-cards",p=i.pathname.includes("/register/");return l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t&&l.jsx("button",{onClick:d,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:o.backToDashboard,children:l.jsx(vx,{className:"w-6 h-6"})}),l.jsx("button",{onClick:()=>a("/admin"),className:"hidden sm:block hover:opacity-80 transition-opacity",title:"Go to Admin Dashboard",children:l.jsx(RE,{size:"md"})}),l.jsx("button",{onClick:()=>a("/admin"),className:"sm:hidden hover:opacity-80 transition-opacity",title:"Go to Admin Dashboard",children:l.jsx(RE,{size:"xs"})}),l.jsx("div",{className:"min-w-0 flex-1",children:h?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(IB,{compact:!0}),l.jsx("a",{href:"https://wa.me/14155238886",target:"_blank",rel:"noopener noreferrer",className:"bg-white rounded-full shadow-lg p-2 hover:shadow-xl transition-all hover:scale-105 ml-2",title:"WhatsApp Assistant - Get trip info, check participants, and more!",style:{backgroundColor:"#25D366"},children:l.jsx(ov,{className:"w-5 h-5 text-white"})}),l.jsx("p",{className:"hidden sm:block text-sm text-gray-500",children:o.IVRITours})]})}):e?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:e}),n&&l.jsx("p",{className:"hidden sm:block text-sm text-gray-600",children:n})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:o.IVRITours}),l.jsx("p",{className:"hidden sm:block text-sm text-gray-500 mt-1",children:o.tripManagement})]})})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx(DB,{}),!p&&l.jsxs(l.Fragment,{children:[h&&l.jsxs("button",{onClick:()=>a("/gift-cards"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:P.primary.teal},title:"Gift Cards",children:[l.jsx(Yn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Gift Cards"})]}),f&&l.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:P.primary.teal},title:"Dashboard",children:[l.jsx(vx,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]}),r&&!p&&l.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:o.logout,children:[l.jsx(uM,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:o.logout})]})]})]})})})},OB=()=>{const{language:t}=sa(),e=ll[t],[n,r]=R.useState(new Date),[a,i]=R.useState([]),[s,o]=R.useState(!1),[u,d]=R.useState(null),[h,f]=R.useState(!1),[p,y]=R.useState("upcoming"),[w,N]=R.useState("all"),[A,_]=R.useState(null),[x,E]=R.useState(null),[I,V]=R.useState(null);R.useEffect(()=>{$()},[n,p]);const $=async()=>{f(!0);try{const G=await xB();i(G)}catch(G){console.error("Error loading trips:",G)}finally{f(!1)}},S=async G=>{try{await bB(G),o(!1),$()}catch(J){console.error("Error creating trip:",J)}},v=G=>{const J=`${window.location.origin}/PlanYourTripNow/register/${G}`;navigator.clipboard.writeText(J),d(G),setTimeout(()=>d(null),2e3)},b=async G=>{if(confirm(e.deleteConfirm)){_(G);try{await EB(G),$()}catch(J){console.error("Error deleting trip:",J),alert(e.failedToDelete)}finally{_(null)}}},C=async(G,J)=>{try{await wB(G,J),E(null),$()}catch(k){console.error("Error updating trip:",k),alert(e.failedToUpdate)}},j=(()=>{const G=new Date;G.setHours(0,0,0,0);let J=a;return p==="date"?J=a.filter(k=>{var Y,X;const U=((X=(Y=k.date)==null?void 0:Y.toDate)==null?void 0:X.call(Y))||new Date(k.date);U.setHours(0,0,0,0);const q=new Date(n);return q.setHours(0,0,0,0),U.getTime()===q.getTime()}):p==="upcoming"?J=a.filter(k=>{var q,Y;const U=((Y=(q=k.date)==null?void 0:q.toDate)==null?void 0:Y.call(q))||new Date(k.date);return U.setHours(0,0,0,0),U>=G}):p==="past"&&(J=a.filter(k=>{var q,Y;const U=((Y=(q=k.date)==null?void 0:q.toDate)==null?void 0:Y.call(q))||new Date(k.date);return U.setHours(0,0,0,0),U<G})),w!=="all"&&(J=J.filter(k=>(k.status||"planned")===w)),J})(),D=G=>{switch(G||"planned"){case"planned":return{bg:"#FEF3C7",text:"#92400E",label:"Planned"};case"scheduled":return{bg:"#E9D5FF",text:"#6B21A8",label:"Scheduled"};case"done":return{bg:"#D1FAE5",text:"#065F46",label:"Done"};default:return{bg:"#FEF3C7",text:"#92400E",label:"Planned"}}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(ym,{}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==="date"?`${e.tripsOn||"Trips on"} ${n.toLocaleDateString()}`:p==="all"?e.allTrips:p==="upcoming"?e.currentTrips:e.oldTrips})]}),l.jsxs("button",{onClick:()=>o(!0),style:{backgroundColor:P.primary.teal},className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm sm:text-base whitespace-nowrap",title:e.createNewTrip,children:[l.jsx(xN,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{className:"hidden sm:inline",children:e.createTrip}),l.jsx("span",{className:"sm:hidden",children:"New"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[l.jsxs("button",{onClick:()=>y("all"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="all"?{backgroundColor:P.primary.teal}:{},title:e.showAllTrips,children:[l.jsx(Ma,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.allTrips}),l.jsx("span",{className:"sm:hidden",children:"All"})]}),l.jsxs("button",{onClick:()=>y("upcoming"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="upcoming"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="upcoming"?{backgroundColor:P.primary.teal}:{},title:e.showCurrentTrips,children:[l.jsx(Ma,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.currentTrips}),l.jsx("span",{className:"sm:hidden",children:"Upcoming"})]}),l.jsxs("button",{onClick:()=>y("past"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="past"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="past"?{backgroundColor:P.primary.teal}:{},title:e.showOldTrips,children:[l.jsx(D4,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.oldTrips}),l.jsx("span",{className:"sm:hidden",children:"Past"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[l.jsxs("button",{onClick:()=>N("all"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${w==="all"?"text-white":"text-gray-700 hover:opacity-100"}`,style:w==="all"?{backgroundColor:P.primary.teal}:{backgroundColor:P.primary.teal,opacity:.3},title:"Show all statuses",children:[l.jsx(Ma,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"A"}),l.jsx("span",{className:"hidden sm:inline",children:"All Status"})]}),l.jsxs("button",{onClick:()=>N("planned"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${w==="planned"?"text-white":"text-gray-700 hover:opacity-100"}`,style:w==="planned"?{backgroundColor:"#92400E"}:{backgroundColor:"#FEF3C7",color:"#92400E"},title:"Show planned trips",children:[l.jsx(yN,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"P"}),l.jsx("span",{className:"hidden sm:inline",children:"Planned"})]}),l.jsxs("button",{onClick:()=>N("scheduled"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${w==="scheduled"?"text-white":"text-gray-700 hover:opacity-100"}`,style:w==="scheduled"?{backgroundColor:"#6B21A8"}:{backgroundColor:"#E9D5FF",color:"#6B21A8"},title:"Show scheduled trips",children:[l.jsx(Ma,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"S"}),l.jsx("span",{className:"hidden sm:inline",children:"Scheduled"})]}),l.jsxs("button",{onClick:()=>N("done"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${w==="done"?"text-white":"text-gray-700 hover:opacity-100"}`,style:w==="done"?{backgroundColor:"#065F46"}:{backgroundColor:"#D1FAE5",color:"#065F46"},title:"Show completed trips",children:[l.jsx(Vr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"D"}),l.jsx("span",{className:"hidden sm:inline",children:"Done"})]})]})]})}),h?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:e.loadingTrips})}):j.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[l.jsxs("p",{className:"text-gray-500",children:[p==="upcoming"&&e.noUpcomingTrips,p==="past"&&e.noPastTrips,p==="all"&&"No trips found"]}),l.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstTrip})]}):l.jsx("div",{className:"space-y-3",children:j.map(G=>{var J,k;return l.jsx("div",{onClick:()=>V(G.id),className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:G.title}),l.jsx("span",{className:"px-2 py-1 rounded-full text-[10px] sm:text-xs font-semibold",style:{backgroundColor:D(G.status).bg,color:D(G.status).text},children:D(G.status).label})]}),l.jsxs("p",{className:"text-[10px] sm:text-sm text-gray-600 mt-1",children:[((k=(J=G.date)==null?void 0:J.toDate)==null?void 0:k.call(J).toLocaleDateString())||new Date(G.date).toLocaleDateString()," - ",G.vehicleLayout==="sprinter_15"?e.mercedesSprinterBlack:G.vehicleLayout==="bus_30"?e.mercedesSprinterWhite:G.vehicleLayout==="highlander_7"?e.toyotaHighlander:G.vehicleLayout]}),G.driverName&&l.jsxs("p",{className:"text-[10px] sm:text-sm mt-1",style:{color:"#00BCD4"},children:[e.driver,": ",G.driverName]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",onClick:U=>U.stopPropagation(),children:[G.whatsappGroupLink&&l.jsxs("a",{href:G.whatsappGroupLink,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#25D366"},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.joinWhatsappGroup,children:[l.jsx(ov,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.whatsapp})]}),l.jsx("button",{onClick:()=>v(G.id),className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:u===G.id?P.success:P.primary.teal},title:u===G.id?e.linkCopied:e.shareTripLink,children:u===G.id?l.jsxs(l.Fragment,{children:[l.jsx(Cf,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.copied})]}):l.jsxs(l.Fragment,{children:[l.jsx(sv,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.share})]})}),l.jsxs("button",{onClick:()=>E(G),style:{backgroundColor:P.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.editTrip,children:[l.jsx(wM,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.edit})]}),l.jsxs("button",{onClick:()=>b(G.id),disabled:A===G.id,style:{backgroundColor:P.button.danger},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteTrip,children:[l.jsx(Df,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:A===G.id?e.deleting:e.delete})]})]})]})},G.id)})})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"space-y-4 sticky top-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.calendar}),l.jsx(u3,{onChange:G=>{r(G),y("date")},value:n,className:"border-0 w-full",tileClassName:({date:G,view:J})=>{if(J==="month"){const k=a.filter(U=>{var Y,X;const q=((X=(Y=U.date)==null?void 0:Y.toDate)==null?void 0:X.call(Y))||new Date(U.date);return q.getFullYear()===G.getFullYear()&&q.getMonth()===G.getMonth()&&q.getDate()===G.getDate()});if(k.length>0)return k.length===1?"has-one-trip":k.length===2?"has-two-trips":"has-many-trips"}return null}}),l.jsx("style",{children:`
                  .has-one-trip {
                    background-color: #b2ebf2 !important;
                    color: #006064 !important;
                    font-weight: 600;
                  }
                  .has-one-trip:hover {
                    background-color: #80deea !important;
                  }
                  .has-two-trips {
                    background-color: #4dd0e1 !important;
                    color: #004d56 !important;
                    font-weight: 700;
                  }
                  .has-two-trips:hover {
                    background-color: #26c6da !important;
                  }
                  .has-many-trips {
                    background-color: #00bcd4 !important;
                    color: white !important;
                    font-weight: 800;
                  }
                  .has-many-trips:hover {
                    background-color: #00acc1 !important;
                  }
                `})]})})})]})}),s&&l.jsx(SB,{selectedDate:n,onClose:()=>o(!1),onCreate:S}),x&&l.jsx(NB,{trip:x,onClose:()=>E(null),onUpdate:C}),I&&l.jsx(RB,{tripId:I,onClose:()=>V(null)})]})};function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$y.apply(null,arguments)}function jB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function kB(t,e){if(t==null)return{};var n,r,a=jB(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function MB(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function PB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hy(t,e){return Hy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hy(t,e)}function LB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hy(t,e)}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},af(t)}function JR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JR=function(){return!!t})()}function VB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UB(t,e){if(e&&(qy(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VB(t)}function BB(t){var e=JR();return function(){var n,r=af(t);if(e){var a=af(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return UB(this,n)}}var ZR={exports:{}},zB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FB=zB,$B=FB;function eD(){}function tD(){}tD.resetWarningCache=eD;var qB=function(){function t(r,a,i,s,o,u){if(u!==$B){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tD,resetWarningCache:eD};return n.PropTypes=n,n};ZR.exports=qB();var nD=ZR.exports;const on=sf(nD);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function is(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}is.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};is.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};is.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function T_(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}T_.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,a=0;a<=t;a+=1){var i=a/t,s=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var u=s-n,d=o-r;e+=Math.sqrt(u*u+d*d)}n=s,r=o}return e};T_.prototype._point=function(t,e,n,r,a){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+a*t*t*t};function HB(t,e,n){var r,a,i,s=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,a),s||(r=a=null)};return function(){var d=Date.now();!o&&n.leading===!1&&(o=d);var h=e-(d-o);return r=this,a=arguments,h<=0||h>e?(s&&(clearTimeout(s),s=null),o=d,i=t.apply(r,a),s||(r=a=null)):!s&&n.trailing!==!1&&(s=setTimeout(u,h)),i}}function Oe(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=HB(Oe.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Oe.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(a){a.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(a))},this._handleMouseMove=function(a){n._mouseButtonDown&&n._strokeMoveUpdate(a)},this._handleMouseUp=function(a){a.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(a))},this._handleTouchStart=function(a){if(a.targetTouches.length===1){var i=a.changedTouches[0];n._strokeBegin(i)}},this._handleTouchMove=function(a){a.preventDefault();var i=a.targetTouches[0];n._strokeMoveUpdate(i)},this._handleTouchEnd=function(a){var i=a.target===n._canvas;i&&(a.preventDefault(),n._strokeEnd(a))},this.on()}Oe.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};Oe.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,a=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/a,s=n.height||this._canvas.height/a;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,i,s)},this._isEmpty=!1};Oe.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};Oe.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Oe.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Oe.prototype.isEmpty=function(){return this._isEmpty};Oe.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};Oe.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),a=this._data[this._data.length-1],i=a&&a[a.length-1],s=i&&r.distanceTo(i)<this.minDistance;if(!(i&&s)){var o=this._addPoint(r),u=o.curve,d=o.widths;u&&d&&this._drawCurve(u,d.start,d.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};Oe.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],a=r[r.length-1];n.equals(a)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};Oe.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Oe.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Oe.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Oe.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new is(t-r.left,e-r.top,n||new Date().getTime())};Oe.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var a=n.c1,i=new T_(e[1],r,a,e[2]),s=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:s}}return{}};Oe.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,a=t.y-e.y,i=e.x-n.x,s=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},d=Math.sqrt(r*r+a*a),h=Math.sqrt(i*i+s*s),f=o.x-u.x,p=o.y-u.y,y=h/(d+h),w={x:u.x+f*y,y:u.y+p*y},N=e.x-w.x,A=e.y-w.y;return{c1:new is(o.x+N,o.y+A),c2:new is(u.x+N,u.y+A)}};Oe.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},a=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a);return r.start=this._lastWidth,r.end=i,this._lastVelocity=a,this._lastWidth=i,r};Oe.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};Oe.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};Oe.prototype._drawCurve=function(t,e,n){var r=this._ctx,a=n-e,i=Math.floor(t.length());r.beginPath();for(var s=0;s<i;s+=1){var o=s/i,u=o*o,d=u*o,h=1-o,f=h*h,p=f*h,y=p*t.startPoint.x;y+=3*f*o*t.control1.x,y+=3*h*u*t.control2.x,y+=d*t.endPoint.x;var w=p*t.startPoint.y;w+=3*f*o*t.control1.y,w+=3*h*u*t.control2.y,w+=d*t.endPoint.y;var N=e+d*a;this._drawPoint(y,w,N)}r.closePath(),r.fill()};Oe.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};Oe.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var a=t[r];if(a.length>1)for(var i=0;i<a.length;i+=1){var s=a[i],o=new is(s.x,s.y,s.time),u=s.color;if(i===0)this.penColor=u,this._reset(),this._addPoint(o);else if(i!==a.length-1){var d=this._addPoint(o),h=d.curve,f=d.widths;h&&f&&e(h,f,u)}}else{this._reset();var p=a[0];n(p)}}};Oe.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),a=0,i=0,s=n.width/r,o=n.height/r,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(e,function(_,x,E){var I=document.createElement("path");if(!isNaN(_.control1.x)&&!isNaN(_.control1.y)&&!isNaN(_.control2.x)&&!isNaN(_.control2.y)){var V="M "+_.startPoint.x.toFixed(3)+","+_.startPoint.y.toFixed(3)+" "+("C "+_.control1.x.toFixed(3)+","+_.control1.y.toFixed(3)+" ")+(_.control2.x.toFixed(3)+","+_.control2.y.toFixed(3)+" ")+(_.endPoint.x.toFixed(3)+","+_.endPoint.y.toFixed(3));I.setAttribute("d",V),I.setAttribute("stroke-width",(x.end*2.25).toFixed(3)),I.setAttribute("stroke",E),I.setAttribute("fill","none"),I.setAttribute("stroke-linecap","round"),u.appendChild(I)}},function(_){var x=document.createElement("circle"),E=typeof t.dotSize=="function"?t.dotSize():t.dotSize;x.setAttribute("r",E),x.setAttribute("cx",_.x),x.setAttribute("cy",_.y),x.setAttribute("fill",_.color),u.appendChild(x)});var d="data:image/svg+xml;base64,",h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+a+" "+i+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",f=u.innerHTML;if(f===void 0){var p=document.createElement("dummy"),y=u.childNodes;p.innerHTML="";for(var w=0;w<y.length;w+=1)p.appendChild(y[w].cloneNode(!0));f=p.innerHTML}var N="</svg>",A=h+f+N;return d+btoa(A)};Oe.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};Oe.prototype.toData=function(){return this._data};var rD={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(YD,function(){return function(n){function r(i){if(a[i])return a[i].exports;var s=a[i]={exports:{},id:i,loaded:!1};return n[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var a={};return r.m=n,r.c=a,r.p="",r(0)}([function(n,r){function a(d){var h=d.getContext("2d"),f=d.width,p=d.height,y=h.getImageData(0,0,f,p).data,w=o(!0,f,p,y),N=o(!1,f,p,y),A=u(!0,f,p,y),_=u(!1,f,p,y),x=_-A+1,E=N-w+1,I=h.getImageData(A,w,x,E);return d.width=x,d.height=E,h.clearRect(0,0,x,E),h.putImageData(I,0,0),d}function i(d,h,f,p){return{red:p[4*(f*h+d)],green:p[4*(f*h+d)+1],blue:p[4*(f*h+d)+2],alpha:p[4*(f*h+d)+3]}}function s(d,h,f,p){return i(d,h,f,p).alpha}function o(d,h,f,p){for(var y=d?1:-1,w=d?0:f-1,N=w;d?N<f:N>-1;N+=y)for(var A=0;A<h;A++)if(s(A,N,h,p))return N;return null}function u(d,h,f,p){for(var y=d?1:-1,w=d?0:h-1,N=w;d?N<h:N>-1;N+=y)for(var A=0;A<f;A++)if(s(N,A,h,p))return N;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=a}])})})(rD);var GB=rD.exports;const YB=sf(GB);var WB=["canvasProps","clearOnResize"],vm=function(t){LB(n,t);var e=BB(n);function n(){var r;PB(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var u=kB(o,WB);return u},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new Oe(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),u=document.createElement("canvas");return u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),YB(u)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,u,d=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},h=d.width,f=d.height;if(!(typeof h<"u"&&typeof f<"u")){var p=r.getCanvas(),y=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof h>"u"&&(p.width=p.offsetWidth*y),typeof f>"u"&&(p.height=p.offsetHeight*y),p.getContext("2d").scale(y,y),r.clear()}},r.render=function(){var o=r.props.canvasProps;return hI.createElement("canvas",$y({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,u){return r.getSignaturePad().fromDataURL(o,u)},r.toDataURL=function(o,u){return r.getSignaturePad().toDataURL(o,u)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return MB(n)}(R.Component);vm.propTypes={velocityFilterWeight:on.number,minWidth:on.number,maxWidth:on.number,minDistance:on.number,dotSize:on.oneOfType([on.number,on.func]),penColor:on.string,throttle:on.number,onEnd:on.func,onBegin:on.func,canvasProps:on.object,clearOnResize:on.bool};vm.defaultProps={clearOnResize:!0};vm.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const KB=`CANCELLATION POLICY

1. Cancellations made 30 days or more before the trip date will receive a full refund.
2. Cancellations made 15-29 days before the trip date will receive a 50% refund.
3. Cancellations made less than 15 days before the trip date are non-refundable.
4. No-shows on the trip date are non-refundable.
5. Trip organizers reserve the right to cancel trips due to weather, safety concerns, or insufficient participation, in which case full refunds will be provided.`,QB=`WAIVER OF LIABILITY AND ASSUMPTION OF RISK

I, the undersigned, hereby acknowledge that I am voluntarily participating in this trip and related activities. I understand that such participation involves inherent risks, including but not limited to personal injury, property damage, or death.

In consideration of being permitted to participate in this trip, I hereby:

1. WAIVE, RELEASE, AND DISCHARGE the trip organizers, their officers, employees, and agents from any and all liability for any loss, damage, injury, or death that may occur during my participation.

2. ASSUME ALL RISKS associated with participation in this trip, whether known or unknown.

3. AGREE TO INDEMNIFY AND HOLD HARMLESS the trip organizers from any claims, actions, or losses arising from my participation.

4. CONSENT to receive emergency medical treatment if necessary.

I have read this waiver, fully understand its terms, and sign it freely and voluntarily.`,XB=()=>{var G,J;const{tripId:t}=iN();ds();const e=R.useRef(null),{language:n}=sa(),[r,a]=R.useState(null),[i,s]=R.useState([]),[o,u]=R.useState(!0),[d,h]=R.useState(!1),[f,p]=R.useState(!1),[y,w]=R.useState(1),[N,A]=R.useState([]),[_,x]=R.useState([{firstName:"",lastName:"",email:"",phone:"",seatNumber:null}]),[E,I]=R.useState("on-trip"),[V,$]=R.useState(!1),[S,v]=R.useState({cancellationPolicy:!1,waiver:!1}),[b,C]=R.useState({});R.useEffect(()=>{O()},[t]),R.useEffect(()=>{const k=Array.from({length:y},(U,q)=>_[q]||{firstName:"",lastName:"",email:"",phone:"",seatNumber:null});x(k),A(k.map(U=>U.seatNumber).filter(Boolean))},[y]);const O=async()=>{try{console.log("Loading trip with ID:",t);const[k,U]=await Promise.all([YR(t),TB(t)]);console.log("Trip data loaded:",k),console.log("Registrations loaded:",U),a(k),s(U)}catch(k){console.error("Error loading trip data:",k),alert("Error loading trip: "+k.message)}finally{u(!1)}},j=()=>{var U;const k={};return _.forEach((q,Y)=>{q.firstName.trim()||(k[`passenger${Y}FirstName`]="First name is required"),q.lastName.trim()||(k[`passenger${Y}LastName`]="Last name is required"),q.email.trim()?/\S+@\S+\.\S+/.test(q.email)||(k[`passenger${Y}Email`]="Email is invalid"):k[`passenger${Y}Email`]="Email is required",q.phone.trim()||(k[`passenger${Y}Phone`]="Phone number is required"),q.seatNumber||(k[`passenger${Y}Seat`]="Please select a seat")}),S.cancellationPolicy||(k.cancellationPolicy="You must agree to the cancellation policy"),S.waiver||(k.waiver="You must sign the waiver"),(U=e.current)!=null&&U.isEmpty()&&(k.signature="Signature is required"),C(k),Object.keys(k).length===0},D=async k=>{if(k.preventDefault(),!!j()){h(!0);try{const U=e.current.toDataURL();for(const q of _)await WR({tripId:t,firstName:q.firstName,lastName:q.lastName,email:q.email,phone:q.phone,seatNumber:q.seatNumber,paymentMethod:E,paid:!1,signatureData:U,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,adminEmail:"barpupco@gmail.com",registrationDate:new Date().toISOString()});p(!0)}catch(U){console.error("Error submitting registration:",U),C({submit:"Failed to submit registration. Please try again."})}finally{h(!1)}}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"text-lg",children:"Loading trip information..."})}):r?f?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[l.jsx(Vr,{className:"w-16 h-16 mx-auto mb-4",style:{color:P.success}}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Thank you for registering for ",l.jsx("span",{className:"font-semibold",children:r.title}),"."]}),l.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Confirmation Email Sent!"}),l.jsx("p",{className:"text-xs text-blue-700",children:"A confirmation email with your trip details and signed waiver has been sent to:"}),l.jsx("p",{className:"text-sm font-semibold text-blue-900 mt-1",children:_[0].email}),_.length>1&&l.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Each passenger will receive their own confirmation email."})]})]})}),l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E0F7FA"},children:[l.jsx("p",{className:"font-semibold mb-2",style:{color:P.primary.teal},children:_.length===1?"Your Seat:":"Your Seats:"}),l.jsx("p",{className:"text-lg font-bold",children:_.map(k=>`#${k.seatNumber}`).join(", ")})]}),l.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[l.jsx("p",{children:"Please check your email inbox and spam folder."}),l.jsx("p",{className:"mt-2",children:"If you don't receive the email within 10 minutes, please contact support."})]})]})}):l.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:[l.jsx(ym,{showLogout:!1,title:r.title,subtitle:(G=r.date)==null?void 0:G.toDate().toLocaleDateString(n==="ru"?"ru-RU":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:l.jsxs("form",{onSubmit:D,className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Number of Seats"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many seats do you need? *"}),l.jsx("select",{value:y,onChange:k=>w(parseInt(k.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(k=>l.jsxs("option",{value:k,children:[k," ",k===1?"seat":"seats"]},k))})]})]}),_.map((k,U)=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Passenger ",U+1," Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:k.firstName,onChange:q=>{const Y=[..._];Y[U].firstName=q.target.value,x(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}FirstName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}FirstName`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}FirstName`]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:k.lastName,onChange:q=>{const Y=[..._];Y[U].lastName=q.target.value,x(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}LastName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}LastName`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}LastName`]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:U===0||!V?k.email:_[0].email,onChange:q=>{const Y=[..._];Y[U].email=q.target.value,x(Y),U===0&&V&&(Y.forEach((X,be)=>{be>0&&(X.email=q.target.value)}),x(Y))},disabled:U>0&&V,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Email`]?"border-red-500":"border-gray-300"} ${U>0&&V?"bg-gray-100":""}`}),b[`passenger${U}Email`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Email`]}),U===0&&y>1&&l.jsxs("label",{className:"flex items-center mt-2 text-sm text-gray-600",children:[l.jsx("input",{type:"checkbox",checked:V,onChange:q=>{if($(q.target.checked),q.target.checked){const Y=[..._],X=_[0].email;Y.forEach((be,H)=>{H>0&&(be.email=X)}),x(Y)}},className:"mr-2",style:{accentColor:P.primary.teal}}),"Use this email for all passengers"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",value:k.phone,onChange:q=>{const Y=[..._];Y[U].phone=q.target.value,x(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Phone`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}Phone`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Phone`]})]})]})]},U)),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Method"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:E==="card"?P.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"card",checked:E==="card",onChange:k=>I(k.target.value),className:"mr-3",style:{accentColor:P.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:E==="on-trip"?P.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"on-trip",checked:E==="on-trip",onChange:k=>I(k.target.value),className:"mr-3",style:{accentColor:P.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Seats to Passengers *"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a seat for each passenger from the dropdown below."}),_.map((k,U)=>{const q=r.vehicleLayout,Y=q==="sprinter_15"?14:q==="bus_30"?11:7;return l.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Seat for Passenger ",U+1,": ",k.firstName||"(Not entered)"," ",k.lastName||""," *"]}),l.jsxs("select",{value:k.seatNumber||"",onChange:X=>{const be=[..._];be[U].seatNumber=X.target.value?parseInt(X.target.value):null,x(be)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Seat`]?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a seat"}),Array.from({length:Y},(X,be)=>be+1).map(X=>{const be=i.some(Ae=>Ae.seatNumber===X),H=_.some((Ae,Te)=>Te!==U&&Ae.seatNumber===X),re=be||H;return l.jsxs("option",{value:X,disabled:re,children:["Seat #",X," ",be?"(Occupied)":H?"(Selected for another passenger)":""]},X)})]}),b[`passenger${U}Seat`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Seat`]})]},U)}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seating Map - Click to Select Seats"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tap on available (gray) seats to assign them to your passengers"}),_.some(k=>!k.seatNumber)&&l.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:l.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: Select seat for Passenger ",_.findIndex(k=>!k.seatNumber)+1,((J=_[_.findIndex(k=>!k.seatNumber)])==null?void 0:J.firstName)&&` (${_[_.findIndex(k=>!k.seatNumber)].firstName})`]})}),l.jsx(XR,{vehicleType:r.vehicleLayout,registrations:i,driverName:r.driverName,selectedSeat:null,onSeatClick:k=>{const U=_.findIndex(q=>!q.seatNumber);if(U!==-1){const q=[..._];q[U].seatNumber=k,x(q)}},reservedSeats:_.map(k=>k.seatNumber).filter(Boolean)}),_.some(k=>k.seatNumber)&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Seats:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:_.map((k,U)=>k.seatNumber&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded-full text-sm",children:[l.jsxs("span",{className:"font-semibold",children:["#",k.seatNumber]}),l.jsx("span",{className:"text-gray-600",children:k.firstName||`Passenger ${U+1}`}),l.jsx("button",{type:"button",onClick:()=>{const q=[..._];q[U].seatNumber=null,x(q)},className:"text-red-500 hover:text-red-700",children:""})]},U))})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation Policy"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto mb-4",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:KB})}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.cancellationPolicy,onChange:k=>v({...S,cancellationPolicy:k.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the cancellation policy *"})]}),b.cancellationPolicy&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.cancellationPolicy})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Waiver of Liability"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto mb-4",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:QB})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digital Signature *"}),l.jsx("div",{className:`border-2 rounded-lg ${b.signature?"border-red-500":"border-gray-300"}`,children:l.jsx(vm,{ref:e,canvasProps:{className:"w-full h-40 bg-white rounded-lg"}})}),l.jsx("button",{type:"button",onClick:()=>{var k;return(k=e.current)==null?void 0:k.clear()},className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Clear Signature"}),b.signature&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.signature})]}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.waiver,onChange:k=>v({...S,waiver:k.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"I have read, understand, and agree to the waiver of liability *"})]}),b.waiver&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.waiver})]}),b.submit&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:b.submit}),l.jsx("button",{type:"submit",disabled:d,style:{backgroundColor:P.primary.teal},className:"w-full text-white py-4 rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Submitting...":"Complete Registration"})]})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx(B4,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"This trip link may be invalid or expired."}),l.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("strong",{children:"Trip ID:"})," ",t]}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If you believe this is an error, please contact the trip organizer."})]})]})})},JB=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[a,i]=R.useState(""),[s,o]=R.useState(!1),u=ds(),d=async h=>{h.preventDefault(),i(""),o(!0);try{await sU(E_,t,n),u("/admin")}catch(f){i("Invalid email or password"),console.error(f)}finally{o(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:P.gradient.primary},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(lM,{className:"w-12 h-12",style:{color:P.primary.teal}})}),l.jsx("h1",{className:"text-3xl font-bold text-center mb-8",style:{color:P.primary.black},children:"Admin Login"}),l.jsxs("form",{onSubmit:d,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),a&&l.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:a}),l.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:P.primary.teal},className:"w-full text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]})]})})};var S_={},_m={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});function ZB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ez=function t(e,n){ZB(this,t),this.data=e,this.text=n.text||e,this.options=n};Gt.default=ez;Object.defineProperty(_m,"__esModule",{value:!0});_m.CODE39=void 0;var tz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nz=Gt,rz=az(nz);function az(t){return t&&t.__esModule?t:{default:t}}function iz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lz=function(t){oz(e,t);function e(n,r){return iz(this,e),n=n.toUpperCase(),r.mod43&&(n+=dz(hz(n))),sz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return tz(e,[{key:"encode",value:function(){for(var r=Kp("*"),a=0;a<this.data.length;a++)r+=Kp(this.data[a])+"0";return r+=Kp("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(rz.default),aD=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],cz=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Kp(t){return uz(iD(t))}function uz(t){return cz[t].toString(2)}function dz(t){return aD[t]}function iD(t){return aD.indexOf(t)}function hz(t){for(var e=0,n=0;n<t.length;n++)e+=iD(t[n]);return e=e%43,e}_m.CODE39=lz;var dr={},N_={},cl={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});var Gl;function Qp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var sD=ze.SET_A=0,oD=ze.SET_B=1,lD=ze.SET_C=2;ze.SHIFT=98;var fz=ze.START_A=103,mz=ze.START_B=104,pz=ze.START_C=105;ze.MODULO=103;ze.STOP=106;ze.FNC1=207;ze.SET_BY_CODE=(Gl={},Qp(Gl,fz,sD),Qp(Gl,mz,oD),Qp(Gl,pz,lD),Gl);ze.SWAP={101:sD,100:oD,99:lD};ze.A_START_CHAR="";ze.B_START_CHAR="";ze.C_START_CHAR="";ze.A_CHARS="[\0-_-]";ze.B_CHARS="[ --]";ze.C_CHARS="(*[0-9]{2}*)";ze.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(cl,"__esModule",{value:!0});var gz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),yz=Gt,vz=_z(yz),ln=ze;function _z(t){return t&&t.__esModule?t:{default:t}}function bz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ez=function(t){wz(e,t);function e(n,r){bz(this,e);var a=xz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return a.bytes=n.split("").map(function(i){return i.charCodeAt(0)}),a}return gz(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,a=r.shift()-105,i=ln.SET_BY_CODE[a];if(i===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(ln.FNC1);var s=e.next(r,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(a)+s.result+e.getBar((s.checksum+a)%ln.MODULO)+e.getBar(ln.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return ln.BARS[r]?ln.BARS[r].toString():""}},{key:"correctIndex",value:function(r,a){if(a===ln.SET_A){var i=r.shift();return i<32?i+64:i-32}else return a===ln.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,a,i){if(!r.length)return{result:"",checksum:0};var s=void 0,o=void 0;if(r[0]>=200){o=r.shift()-105;var u=ln.SWAP[o];u!==void 0?s=e.next(r,a+1,u):((i===ln.SET_A||i===ln.SET_B)&&o===ln.SHIFT&&(r[0]=i===ln.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,a+1,i))}else o=e.correctIndex(r,i),s=e.next(r,a+1,i);var d=e.getBar(o),h=o*a;return{result:d+s.result,checksum:h+s.checksum}}}]),e}(vz.default);cl.default=Ez;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});var Xa=ze,cD=function(e){return e.match(new RegExp("^"+Xa.A_CHARS+"*"))[0].length},uD=function(e){return e.match(new RegExp("^"+Xa.B_CHARS+"*"))[0].length},dD=function(e){return e.match(new RegExp("^"+Xa.C_CHARS+"*"))[0]};function C_(t,e){var n=e?Xa.A_CHARS:Xa.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+hD(t.substring(r[1].length));var a=t.match(new RegExp("^"+n+"+"))[0];return a.length===t.length?t:a+String.fromCharCode(e?205:206)+C_(t.substring(a.length),!e)}function hD(t){var e=dD(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=cD(t)>=uD(t);return e+String.fromCharCode(r?206:205)+C_(t,r)}A_.default=function(t){var e=void 0,n=dD(t).length;if(n>=2)e=Xa.C_START_CHAR+hD(t);else{var r=cD(t)>uD(t);e=(r?Xa.A_START_CHAR:Xa.B_START_CHAR)+C_(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,i){return""+i})};Object.defineProperty(N_,"__esModule",{value:!0});var Tz=cl,Sz=fD(Tz),Nz=A_,Az=fD(Nz);function fD(t){return t&&t.__esModule?t:{default:t}}function Cz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Rz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dz=function(t){Rz(e,t);function e(n,r){if(Cz(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=Xp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Az.default)(n),r));else var a=Xp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Xp(a)}return e}(Sz.default);N_.default=Dz;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});var Iz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Oz=cl,jz=kz(Oz),DE=ze;function kz(t){return t&&t.__esModule?t:{default:t}}function Mz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Lz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vz=function(t){Lz(e,t);function e(n,r){return Mz(this,e),Pz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,DE.A_START_CHAR+n,r))}return Iz(e,[{key:"valid",value:function(){return new RegExp("^"+DE.A_CHARS+"+$").test(this.data)}}]),e}(jz.default);R_.default=Vz;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});var Uz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Bz=cl,zz=Fz(Bz),IE=ze;function Fz(t){return t&&t.__esModule?t:{default:t}}function $z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Hz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Gz=function(t){Hz(e,t);function e(n,r){return $z(this,e),qz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,IE.B_START_CHAR+n,r))}return Uz(e,[{key:"valid",value:function(){return new RegExp("^"+IE.B_CHARS+"+$").test(this.data)}}]),e}(zz.default);D_.default=Gz;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});var Yz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Wz=cl,Kz=Qz(Wz),OE=ze;function Qz(t){return t&&t.__esModule?t:{default:t}}function Xz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eF=function(t){Zz(e,t);function e(n,r){return Xz(this,e),Jz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,OE.C_START_CHAR+n,r))}return Yz(e,[{key:"valid",value:function(){return new RegExp("^"+OE.C_CHARS+"+$").test(this.data)}}]),e}(Kz.default);I_.default=eF;Object.defineProperty(dr,"__esModule",{value:!0});dr.CODE128C=dr.CODE128B=dr.CODE128A=dr.CODE128=void 0;var tF=N_,nF=bm(tF),rF=R_,aF=bm(rF),iF=D_,sF=bm(iF),oF=I_,lF=bm(oF);function bm(t){return t&&t.__esModule?t:{default:t}}dr.CODE128=nF.default;dr.CODE128A=aF.default;dr.CODE128B=sF.default;dr.CODE128C=lF.default;var Jt={},O_={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.SIDE_BIN="101";zn.MIDDLE_BIN="01010";zn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};zn.EAN2_STRUCTURE=["LL","LG","GL","GG"];zn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];zn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var xm={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});var cF=zn,uF=function(e,n,r){var a=e.split("").map(function(s,o){return cF.BINARIES[n[o]]}).map(function(s,o){return s?s[e[o]]:""});if(r){var i=e.length-1;a=a.map(function(s,o){return o<i?s+r:s})}return a.join("")};xs.default=uF;Object.defineProperty(xm,"__esModule",{value:!0});var dF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),js=zn,hF=xs,jE=mD(hF),fF=Gt,mF=mD(fF);function mD(t){return t&&t.__esModule?t:{default:t}}function pF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vF=function(t){yF(e,t);function e(n,r){pF(this,e);var a=gF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return dF(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,a){return this.text.substr(r,a)}},{key:"leftEncode",value:function(r,a){return(0,jE.default)(r,a)}},{key:"rightText",value:function(r,a){return this.text.substr(r,a)}},{key:"rightEncode",value:function(r,a){return(0,jE.default)(r,a)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:js.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:r},{data:js.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:r},{data:js.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var r=[js.SIDE_BIN,this.leftEncode(),js.MIDDLE_BIN,this.rightEncode(),js.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(mF.default);xm.default=vF;Object.defineProperty(O_,"__esModule",{value:!0});var _F=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Yl=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},bF=zn,xF=xm,wF=EF(xF);function EF(t){return t&&t.__esModule?t:{default:t}}function TF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function NF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kE=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*3:r+a},0);return(10-n%10)%10},AF=function(t){NF(e,t);function e(n,r){TF(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=kE(n));var a=SF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.lastChar=r.lastChar,a}return _F(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===kE(this.data)}},{key:"leftText",value:function(){return Yl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),a=bF.EAN13_STRUCTURE[this.data[0]];return Yl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,a)}},{key:"rightText",value:function(){return Yl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Yl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Yl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(wF.default);O_.default=AF;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});var CF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wd=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},RF=xm,DF=IF(RF);function IF(t){return t&&t.__esModule?t:{default:t}}function OF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ME=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a:r+a*3},0);return(10-n%10)%10},MF=function(t){kF(e,t);function e(n,r){return OF(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=ME(n)),jF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return CF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===ME(this.data)}},{key:"leftText",value:function(){return wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return wd(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(DF.default);j_.default=MF;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});var PF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),LF=zn,VF=xs,UF=pD(VF),BF=Gt,zF=pD(BF);function pD(t){return t&&t.__esModule?t:{default:t}}function FF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var HF=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*9:r+a*3},0);return n%10},GF=function(t){qF(e,t);function e(n,r){return FF(this,e),$F(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return PF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=LF.EAN5_STRUCTURE[HF(this.data)];return{data:"1011"+(0,UF.default)(this.data,r,"01"),text:this.text}}}]),e}(zF.default);k_.default=GF;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});var YF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),WF=zn,KF=xs,QF=gD(KF),XF=Gt,JF=gD(XF);function gD(t){return t&&t.__esModule?t:{default:t}}function ZF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function t$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n$=function(t){t$(e,t);function e(n,r){return ZF(this,e),e$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return YF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=WF.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,QF.default)(this.data,r,"01"),text:this.text}}}]),e}(JF.default);M_.default=n$;var Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});var r$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Cu.checksum=Gy;var a$=xs,ks=yD(a$),i$=Gt,s$=yD(i$);function yD(t){return t&&t.__esModule?t:{default:t}}function o$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function c$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u$=function(t){c$(e,t);function e(n,r){o$(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Gy(n));var a=l$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return r$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Gy(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,ks.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,ks.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,ks.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,ks.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,ks.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,ks.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(s$.default);function Gy(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}Cu.default=u$;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});var d$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h$=xs,f$=vD(h$),m$=Gt,p$=vD(m$),g$=Cu;function vD(t){return t&&t.__esModule?t:{default:t}}function y$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function v$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _$=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],b$=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],x$=function(t){v$(e,t);function e(n,r){y$(this,e);var a=Jp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(a.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)a.middleDigits=n,a.upcA=PE(n,"0"),a.text=r.text||""+a.upcA[0]+n+a.upcA[a.upcA.length-1],a.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=n.substring(1,n.length-1),a.upcA=PE(a.middleDigits,n[0]),a.upcA[a.upcA.length-1]===n[n.length-1])a.isValid=!0;else return Jp(a);else return Jp(a);return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return d$(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],a=this.upcA[this.upcA.length-1],i=b$[parseInt(a)][parseInt(r)];return(0,f$.default)(this.middleDigits,i)}}]),e}(p$.default);function PE(t,e){for(var n=parseInt(t[t.length-1]),r=_$[n],a="",i=0,s=0;s<r.length;s++){var o=r[s];o==="X"?a+=t[i++]:a+=o}return a=""+e+a,""+a+(0,g$.checksum)(a)}P_.default=x$;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.UPCE=Jt.UPC=Jt.EAN2=Jt.EAN5=Jt.EAN8=Jt.EAN13=void 0;var w$=O_,E$=ul(w$),T$=j_,S$=ul(T$),N$=k_,A$=ul(N$),C$=M_,R$=ul(C$),D$=Cu,I$=ul(D$),O$=P_,j$=ul(O$);function ul(t){return t&&t.__esModule?t:{default:t}}Jt.EAN13=E$.default;Jt.EAN8=S$.default;Jt.EAN5=A$.default;Jt.EAN2=R$.default;Jt.UPC=I$.default;Jt.UPCE=j$.default;var Uo={},wm={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.START_BIN="1010";Ru.END_BIN="11101";Ru.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(wm,"__esModule",{value:!0});var k$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ed=Ru,M$=Gt,P$=L$(M$);function L$(t){return t&&t.__esModule?t:{default:t}}function V$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function B$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var z$=function(t){B$(e,t);function e(){return V$(this,e),U$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return k$(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,a=this.data.match(/.{2}/g).map(function(i){return r.encodePair(i)}).join("");return{data:Ed.START_BIN+a+Ed.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var a=Ed.BINARIES[r[1]];return Ed.BINARIES[r[0]].split("").map(function(i,s){return(i==="1"?"111":"1")+(a[s]==="1"?"000":"0")}).join("")}}]),e}(P$.default);wm.default=z$;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});var F$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$$=wm,q$=H$($$);function H$(t){return t&&t.__esModule?t:{default:t}}function G$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function W$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LE=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,a,i){return r+a*(3-i%2*2)},0);return Math.ceil(n/10)*10-n},K$=function(t){W$(e,t);function e(n,r){return G$(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=LE(n)),Y$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return F$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===LE(this.data)}}]),e}(q$.default);L_.default=K$;Object.defineProperty(Uo,"__esModule",{value:!0});Uo.ITF14=Uo.ITF=void 0;var Q$=wm,X$=_D(Q$),J$=L_,Z$=_D(J$);function _D(t){return t&&t.__esModule?t:{default:t}}Uo.ITF=X$.default;Uo.ITF14=Z$.default;var jn={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});var eq=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tq=Gt,nq=rq(tq);function rq(t){return t&&t.__esModule?t:{default:t}}function aq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var oq=function(t){sq(e,t);function e(n,r){return aq(this,e),iq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return eq(e,[{key:"encode",value:function(){for(var r="110",a=0;a<this.data.length;a++){var i=parseInt(this.data[a]),s=i.toString(2);s=lq(s,4-s.length);for(var o=0;o<s.length;o++)r+=s[o]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(nq.default);function lq(t,e){for(var n=0;n<e;n++)t="0"+t;return t}ws.default=oq;var V_={},Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.mod10=cq;Es.mod11=uq;function cq(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function uq(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var a=parseInt(t[t.length-1-r]);e+=n[r%n.length]*a}return(11-e%11)%11}Object.defineProperty(V_,"__esModule",{value:!0});var dq=ws,hq=mq(dq),fq=Es;function mq(t){return t&&t.__esModule?t:{default:t}}function pq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vq=function(t){yq(e,t);function e(n,r){return pq(this,e),gq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,fq.mod10)(n),r))}return e}(hq.default);V_.default=vq;var U_={};Object.defineProperty(U_,"__esModule",{value:!0});var _q=ws,bq=wq(_q),xq=Es;function wq(t){return t&&t.__esModule?t:{default:t}}function Eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nq=function(t){Sq(e,t);function e(n,r){return Eq(this,e),Tq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,xq.mod11)(n),r))}return e}(bq.default);U_.default=Nq;var B_={};Object.defineProperty(B_,"__esModule",{value:!0});var Aq=ws,Cq=Rq(Aq),VE=Es;function Rq(t){return t&&t.__esModule?t:{default:t}}function Dq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Oq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var jq=function(t){Oq(e,t);function e(n,r){return Dq(this,e),n+=(0,VE.mod10)(n),n+=(0,VE.mod10)(n),Iq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Cq.default);B_.default=jq;var z_={};Object.defineProperty(z_,"__esModule",{value:!0});var kq=ws,Mq=Pq(kq),UE=Es;function Pq(t){return t&&t.__esModule?t:{default:t}}function Lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Uq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Bq=function(t){Uq(e,t);function e(n,r){return Lq(this,e),n+=(0,UE.mod11)(n),n+=(0,UE.mod10)(n),Vq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Mq.default);z_.default=Bq;Object.defineProperty(jn,"__esModule",{value:!0});jn.MSI1110=jn.MSI1010=jn.MSI11=jn.MSI10=jn.MSI=void 0;var zq=ws,Fq=Du(zq),$q=V_,qq=Du($q),Hq=U_,Gq=Du(Hq),Yq=B_,Wq=Du(Yq),Kq=z_,Qq=Du(Kq);function Du(t){return t&&t.__esModule?t:{default:t}}jn.MSI=Fq.default;jn.MSI10=qq.default;jn.MSI11=Gq.default;jn.MSI1010=Wq.default;jn.MSI1110=Qq.default;var Em={};Object.defineProperty(Em,"__esModule",{value:!0});Em.pharmacode=void 0;var Xq=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Jq=Gt,Zq=eH(Jq);function eH(t){return t&&t.__esModule?t:{default:t}}function tH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aH=function(t){rH(e,t);function e(n,r){tH(this,e);var a=nH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.number=parseInt(n,10),a}return Xq(e,[{key:"encode",value:function(){for(var r=this.number,a="";!isNaN(r)&&r!=0;)r%2===0?(a="11100"+a,r=(r-2)/2):(a="100"+a,r=(r-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(Zq.default);Em.pharmacode=aH;var Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});Tm.codabar=void 0;var iH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),sH=Gt,oH=lH(sH);function lH(t){return t&&t.__esModule?t:{default:t}}function cH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hH=function(t){dH(e,t);function e(n,r){cH(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var a=uH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return iH(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],a=this.getEncodings(),i=0;i<this.data.length;i++)r.push(a[this.data.charAt(i)]),i!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(oH.default);Tm.codabar=hH;var Bo={},Sm={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Iu.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Iu.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(Sm,"__esModule",{value:!0});var fH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Td=Iu,mH=Gt,pH=gH(mH);function gH(t){return t&&t.__esModule?t:{default:t}}function yH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bH=function(t){_H(e,t);function e(n,r){return yH(this,e),vH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return fH(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(o){return Td.MULTI_SYMBOLS[o]||o}),a=r.map(function(o){return e.getEncoding(o)}).join(""),i=e.checksum(r,20),s=e.checksum(r.concat(i),15);return{text:this.text,data:e.getEncoding("")+a+e.getEncoding(i)+e.getEncoding(s)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return Td.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return Td.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return Td.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,a){var i=r.slice().reverse().reduce(function(s,o,u){var d=u%a+1;return s+e.symbolValue(o)*d},0);return e.getSymbol(i%47)}}]),e}(pH.default);Sm.default=bH;var F_={};Object.defineProperty(F_,"__esModule",{value:!0});var xH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wH=Sm,EH=TH(wH);function TH(t){return t&&t.__esModule?t:{default:t}}function SH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CH=function(t){AH(e,t);function e(n,r){return SH(this,e),NH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return xH(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(EH.default);F_.default=CH;Object.defineProperty(Bo,"__esModule",{value:!0});Bo.CODE93FullASCII=Bo.CODE93=void 0;var RH=Sm,DH=bD(RH),IH=F_,OH=bD(IH);function bD(t){return t&&t.__esModule?t:{default:t}}Bo.CODE93=DH.default;Bo.CODE93FullASCII=OH.default;var Nm={};Object.defineProperty(Nm,"__esModule",{value:!0});Nm.GenericBarcode=void 0;var jH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),kH=Gt,MH=PH(kH);function PH(t){return t&&t.__esModule?t:{default:t}}function LH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function UH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var BH=function(t){UH(e,t);function e(n,r){return LH(this,e),VH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return jH(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(MH.default);Nm.GenericBarcode=BH;Object.defineProperty(S_,"__esModule",{value:!0});var zH=_m,Sd=dr,Ms=Jt,BE=Uo,Wl=jn,FH=Em,$H=Tm,zE=Bo,qH=Nm;S_.default={CODE39:zH.CODE39,CODE128:Sd.CODE128,CODE128A:Sd.CODE128A,CODE128B:Sd.CODE128B,CODE128C:Sd.CODE128C,EAN13:Ms.EAN13,EAN8:Ms.EAN8,EAN5:Ms.EAN5,EAN2:Ms.EAN2,UPC:Ms.UPC,UPCE:Ms.UPCE,ITF14:BE.ITF14,ITF:BE.ITF,MSI:Wl.MSI,MSI10:Wl.MSI10,MSI11:Wl.MSI11,MSI1010:Wl.MSI1010,MSI1110:Wl.MSI1110,pharmacode:FH.pharmacode,codabar:$H.codabar,CODE93:zE.CODE93,CODE93FullASCII:zE.CODE93FullASCII,GenericBarcode:qH.GenericBarcode};var dl={};Object.defineProperty(dl,"__esModule",{value:!0});var HH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};dl.default=function(t,e){return HH({},t,e)};var $_={};Object.defineProperty($_,"__esModule",{value:!0});$_.default=GH;function GH(t){var e=[];function n(r){if(Array.isArray(r))for(var a=0;a<r.length;a++)n(r[a]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var q_={};Object.defineProperty(q_,"__esModule",{value:!0});q_.default=YH;function YH(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var H_={},G_={},Am={};Object.defineProperty(Am,"__esModule",{value:!0});Am.default=WH;function WH(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var Cm={};Object.defineProperty(Cm,"__esModule",{value:!0});var KH={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Cm.default=KH;Object.defineProperty(G_,"__esModule",{value:!0});var QH=Am,XH=xD(QH),JH=Cm,FE=xD(JH);function xD(t){return t&&t.__esModule?t:{default:t}}function ZH(t){var e={};for(var n in FE.default)FE.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,XH.default)(e),e}G_.default=ZH;var Y_={},W_={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.getTotalWidthOfEncodings=hn.calculateEncodingAttributes=hn.getBarcodePadding=hn.getEncodingHeight=hn.getMaximumHeightOfEncodings=void 0;var eG=dl,tG=nG(eG);function nG(t){return t&&t.__esModule?t:{default:t}}function wD(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function ED(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function rG(t,e,n){for(var r=0;r<t.length;r++){var a=t[r],i=(0,tG.default)(e,a.options),s;i.displayValue?s=sG(a.text,i,n):s=0;var o=a.data.length*i.width;a.width=Math.ceil(Math.max(s,o)),a.height=wD(a,i),a.barcodePadding=ED(s,o,i)}}function aG(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function iG(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function sG(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var a=r.measureText(t);if(!a)return 0;var i=a.width;return i}hn.getMaximumHeightOfEncodings=iG;hn.getEncodingHeight=wD;hn.getBarcodePadding=ED;hn.calculateEncodingAttributes=rG;hn.getTotalWidthOfEncodings=aG;Object.defineProperty(W_,"__esModule",{value:!0});var oG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),lG=dl,cG=uG(lG),Zp=hn;function uG(t){return t&&t.__esModule?t:{default:t}}function dG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var hG=function(){function t(e,n,r){dG(this,t),this.canvas=e,this.encodings=n,this.options=r}return oG(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,cG.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Zp.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Zp.getTotalWidthOfEncodings)(this.encodings),a=(0,Zp.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var a=this.canvas.getContext("2d"),i=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,a.fillStyle=n.lineColor;for(var o=0;o<i.length;o++){var u=o*n.width+r.barcodePadding;i[o]==="1"?a.fillRect(u,s,n.width,n.height):i[o]&&a.fillRect(u,s,n.width,n.height*i[o])}}},{key:"drawCanvasText",value:function(n,r){var a=this.canvas.getContext("2d"),i=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,o;n.textPosition=="top"?o=n.marginTop+n.fontSize-n.textMargin:o=n.height+n.textMargin+n.marginTop+n.fontSize,a.font=i,n.textAlign=="left"||r.barcodePadding>0?(s=0,a.textAlign="left"):n.textAlign=="right"?(s=r.width-1,a.textAlign="right"):(s=r.width/2,a.textAlign="center"),a.fillText(r.text,s,o)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();W_.default=hG;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});var fG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),mG=dl,pG=gG(mG),eg=hn;function gG(t){return t&&t.__esModule?t:{default:t}}function yG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Nd="http://www.w3.org/2000/svg",vG=function(){function t(e,n,r){yG(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return fG(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var a=this.encodings[r],i=(0,pG.default)(this.options,a.options),s=this.createGroup(n,i.marginTop,this.svg);this.setGroupOptions(s,i),this.drawSvgBarcode(s,i,a),this.drawSVGText(s,i,a),n+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,eg.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,eg.getTotalWidthOfEncodings)(this.encodings),r=(0,eg.getMaximumHeightOfEncodings)(this.encodings),a=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,r),this.options.background&&this.drawRect(0,0,a,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,a){var i=a.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var o=0,u=0,d=0;d<i.length;d++)u=d*r.width+a.barcodePadding,i[d]==="1"?o++:o>0&&(this.drawRect(u-r.width*o,s,r.width*o,r.height,n),o=0);o>0&&this.drawRect(u-r.width*(o-1),s,r.width*o,r.height,n)}},{key:"drawSVGText",value:function(n,r,a){var i=this.document.createElementNS(Nd,"text");if(r.displayValue){var s,o;i.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?o=r.fontSize-r.textMargin:o=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||a.barcodePadding>0?(s=0,i.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=a.width-1,i.setAttribute("text-anchor","end")):(s=a.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",s),i.setAttribute("y",o),i.appendChild(this.document.createTextNode(a.text)),n.appendChild(i)}}},{key:"setSvgAttributes",value:function(n,r){var a=this.svg;a.setAttribute("width",n+"px"),a.setAttribute("height",r+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+n+" "+r),a.setAttribute("xmlns",Nd),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,a){var i=this.document.createElementNS(Nd,"g");return i.setAttribute("transform","translate("+n+", "+r+")"),a.appendChild(i),i}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,a,i,s){var o=this.document.createElementNS(Nd,"rect");return o.setAttribute("x",n),o.setAttribute("y",r),o.setAttribute("width",a),o.setAttribute("height",i),s.appendChild(o),o}}]),t}();K_.default=vG;var Q_={};Object.defineProperty(Q_,"__esModule",{value:!0});var _G=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function bG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var xG=function(){function t(e,n,r){bG(this,t),this.object=e,this.encodings=n,this.options=r}return _G(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Q_.default=xG;Object.defineProperty(Y_,"__esModule",{value:!0});var wG=W_,EG=X_(wG),TG=K_,SG=X_(TG),NG=Q_,AG=X_(NG);function X_(t){return t&&t.__esModule?t:{default:t}}Y_.default={CanvasRenderer:EG.default,SVGRenderer:SG.default,ObjectRenderer:AG.default};var hl={};Object.defineProperty(hl,"__esModule",{value:!0});function J_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function e1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var CG=function(t){e1(e,t);function e(n,r){J_(this,e);var a=Z_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.name="InvalidInputException",a.symbology=n,a.input=r,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return e}(Error),RG=function(t){e1(e,t);function e(){J_(this,e);var n=Z_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),DG=function(t){e1(e,t);function e(){J_(this,e);var n=Z_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);hl.InvalidInputException=CG;hl.InvalidElementException=RG;hl.NoElementException=DG;Object.defineProperty(H_,"__esModule",{value:!0});var IG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OG=G_,Yy=TD(OG),jG=Y_,oc=TD(jG),kG=hl;function TD(t){return t&&t.__esModule?t:{default:t}}function t1(t){if(typeof t=="string")return MG(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(t1(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return PG(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Yy.default)(t),renderer:oc.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Yy.default)(t),renderer:oc.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:oc.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":IG(t))==="object"&&!t.nodeName)return{element:t,renderer:oc.default.ObjectRenderer};throw new kG.InvalidElementException}}function MG(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(t1(e[r]));return n}}function PG(t){var e=document.createElement("canvas");return{element:e,options:(0,Yy.default)(t),renderer:oc.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}H_.default=t1;var n1={};Object.defineProperty(n1,"__esModule",{value:!0});var LG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function VG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var UG=function(){function t(e){VG(this,t),this.api=e}return LG(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(a){return this.handleCatch(a),this.api}}}]),t}();n1.default=UG;var BG=S_,Wi=_i(BG),zG=dl,Ou=_i(zG),FG=$_,SD=_i(FG),$G=q_,$E=_i($G),qG=H_,HG=_i(qG),GG=Am,YG=_i(GG),WG=n1,KG=_i(WG),ND=hl,QG=Cm,AD=_i(QG);function _i(t){return t&&t.__esModule?t:{default:t}}var Gr=function(){},Rm=function(e,n,r){var a=new Gr;if(typeof e>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,HG.default)(e),a._encodings=[],a._options=AD.default,a._errorHandler=new KG.default(a),typeof n<"u"&&(r=r||{},r.format||(r.format=RD()),a.options(r)[r.format](n,r).render()),a};Rm.getModule=function(t){return Wi.default[t]};for(var qE in Wi.default)Wi.default.hasOwnProperty(qE)&&XG(Wi.default,qE);function XG(t,e){Gr.prototype[e]=Gr.prototype[e.toUpperCase()]=Gr.prototype[e.toLowerCase()]=function(n,r){var a=this;return a._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var i=(0,Ou.default)(a._options,r);i=(0,YG.default)(i);var s=t[e],o=CD(n,s,i);return a._encodings.push(o),a})}}function CD(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new ND.InvalidInputException(r.constructor.name,t);var a=r.encode();a=(0,SD.default)(a);for(var i=0;i<a.length;i++)a[i].options=(0,Ou.default)(n,a[i].options);return a}function RD(){return Wi.default.CODE128?"CODE128":Object.keys(Wi.default)[0]}Gr.prototype.options=function(t){return this._options=(0,Ou.default)(this._options,t),this};Gr.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Gr.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Ou.default)(this._options,t.options);n.format=="auto"&&(n.format=RD()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,a=Wi.default[n.format.toUpperCase()],i=CD(r,a,n);Wy(t,i,n)})}}};Gr.prototype.render=function(){if(!this._renderProperties)throw new ND.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Wy(this._renderProperties[t],this._encodings,this._options);else Wy(this._renderProperties,this._encodings,this._options);return this};Gr.prototype._defaults=AD.default;function Wy(t,e,n){e=(0,SD.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Ou.default)(n,e[r].options),(0,$E.default)(e[r].options);(0,$E.default)(n);var a=t.renderer,i=new a(t.element,e,n);i.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Rm);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),Rm(n,t,e)});var JG=Rm;function th(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?th=function(n){return typeof n}:th=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},th(t)}var $s=r1(R),ZG=r1(JG),Ye=r1(nD);function r1(t){return t&&t.__esModule?t:{default:t}}function eY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nY(t,e,n){return e&&tY(t.prototype,e),t}function rY(t,e){return e&&(th(e)==="object"||typeof e=="function")?e:DD(t)}function Ky(t){return Ky=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Ky(t)}function DD(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Qy(t,e)}function Qy(t,e){return Qy=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Qy(t,e)}var Xy,tg=$s.default.version.split(/[.-]/);tg[0]==="0"&&(tg[1]==="13"||tg[1]==="12")?Xy=function(e){return e.getDOMNode()}:Xy=function(e){return e};var a1=function(t){aY(e,t);function e(n){var r;return eY(this,e),r=rY(this,Ky(e).call(this,n)),r.renderElementRef=$s.default.createRef(),r.update=r.update.bind(DD(r)),r}return nY(e,[{key:"shouldComponentUpdate",value:function(r){var a=this;return Object.keys(e.propTypes).some(function(i){return a.props[i]!==r[i]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=Xy(this.renderElementRef.current);try{new ZG.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(a){window.console.error(a)}}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.className;if(this.props.renderer==="svg")return $s.default.createElement("svg",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="canvas")return $s.default.createElement("canvas",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="img")return $s.default.createElement("img",{ref:this.renderElementRef,id:a,className:i})}}]),e}($s.default.Component);a1.propTypes={value:Ye.default.string.isRequired,text:Ye.default.string,renderer:Ye.default.string,format:Ye.default.string,width:Ye.default.number,height:Ye.default.number,displayValue:Ye.default.bool,fontOptions:Ye.default.string,font:Ye.default.string,textAlign:Ye.default.string,textPosition:Ye.default.string,textMargin:Ye.default.number,fontSize:Ye.default.number,background:Ye.default.string,lineColor:Ye.default.string,margin:Ye.default.number,marginTop:Ye.default.number,marginBottom:Ye.default.number,marginLeft:Ye.default.number,marginRight:Ye.default.number,id:Ye.default.string,className:Ye.default.string,ean128:Ye.default.bool};a1.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var iY=a1;const sY=sf(iY),oY=({onClose:t})=>{const[e,n]=R.useState({recipientName:"",senderName:"",amount:"",message:"",expiryDate:""}),[r,a]=R.useState(!1),[i,s]=R.useState(!1),[o,u]=R.useState(""),d=(p,y)=>{n(w=>({...w,[p]:y}))},h=()=>{const p="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let y="GC";for(let w=0;w<10;w++)y+=p.charAt(Math.floor(Math.random()*p.length));return y},f=async p=>{if(p.preventDefault(),!e.recipientName||!e.senderName||!e.amount||!e.expiryDate){alert("Please fill in all required fields");return}a(!0);try{const y=h(),w={recipientName:e.recipientName,senderName:e.senderName,amount:parseFloat(e.amount),message:e.message||"Wishing you wonderful adventures!",expiryDate:de.fromDate(new Date(e.expiryDate)),createdAt:de.now(),redeemed:!1,barcodeId:y};await cm(yi(kt,"giftCards"),w),u(y),s(!0),setTimeout(()=>{t()},3e3)}catch(y){console.error("Error creating gift card:",y),alert("Failed to create gift card. Please try again."),a(!1)}};return i?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Yn,{className:"w-8 h-8 text-green-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gift Card Created!"}),l.jsx("p",{className:"text-gray-600",children:"Your gift card has been generated successfully"})]}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-4",children:l.jsx(sY,{value:o,width:2,height:80,fontSize:14,background:"#F9FAFB"})}),l.jsx("p",{className:"text-sm text-gray-500",children:"Closing in a moment..."})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Yn,{className:"w-6 h-6",style:{color:P.primary.teal}}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Gift Card"})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(hs,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:f,className:"p-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Do,{className:"w-4 h-4"}),"Recipient Name *"]}),l.jsx("input",{type:"text",value:e.recipientName,onChange:p=>d("recipientName",p.target.value),placeholder:"Who is this gift card for?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Do,{className:"w-4 h-4"}),"Your Name (Sender) *"]}),l.jsx("input",{type:"text",value:e.senderName,onChange:p=>d("senderName",p.target.value),placeholder:"Your name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(mu,{className:"w-4 h-4"}),"Gift Card Amount *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{type:"number",min:"1",step:"0.01",value:e.amount,onChange:p=>d("amount",p.target.value),placeholder:"100.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(_N,{className:"w-4 h-4"}),"Personal Message (Optional)"]}),l.jsx("textarea",{value:e.message,onChange:p=>d("message",p.target.value),placeholder:"Write a personalized message for the recipient...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Ma,{className:"w-4 h-4"}),"Expiry Date *"]}),l.jsx("input",{type:"date",value:e.expiryDate,onChange:p=>d("expiryDate",p.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," A unique barcode will be generated for this gift card. The recipient will receive a shareable link with a beautiful reveal animation."]})})]}),l.jsxs("div",{className:"flex gap-3 mt-8",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,style:{backgroundColor:P.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:r?l.jsxs(l.Fragment,{children:[l.jsx(sM,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Creating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Yn,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Gift Card"})]})})]})]})]})})},lY=({giftCard:t,onClose:e,onUpdate:n})=>{const[r,a]=R.useState(!1),[i,s]=R.useState({amountToUse:"",tripName:"",tripDate:new Date().toISOString().split("T")[0],numberOfPeople:"1",notes:""}),o=t.remainingBalance!==void 0?t.remainingBalance:t.amount,u=async d=>{d.preventDefault(),a(!0);try{const h=parseFloat(i.amountToUse);if(h<=0||h>o){alert(`Invalid amount. Must be between $1 and $${o}`),a(!1);return}const f=o-h,p=f===0,y={date:de.fromDate(new Date(i.tripDate)),tripName:i.tripName,numberOfPeople:parseInt(i.numberOfPeople),amountUsed:h,remainingAfter:f,notes:i.notes,usedAt:de.now()},w=br(kt,"giftCards",t.id);await lm(w,{remainingBalance:f,redeemed:p,redeemedAt:p?de.now():t.redeemedAt,usageHistory:s9(y)}),n&&n(),e(),alert(`Gift card updated successfully! Remaining balance: $${f.toFixed(2)}`)}catch(h){console.error("Error updating gift card:",h),alert("Failed to update gift card. Please try again.")}finally{a(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 text-white relative",style:{backgroundColor:P.primary.teal},children:[l.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",children:l.jsx(hs,{className:"w-5 h-5"})}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Use Gift Card"}),l.jsx("p",{className:"opacity-90",children:t.recipientName})]}),l.jsx("div",{className:"p-6 bg-gray-50 border-b",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Original Amount"}),l.jsxs("p",{className:"text-2xl font-bold",style:{color:P.primary.teal},children:["$",t.amount]})]}),l.jsxs("div",{className:"text-center p-4 bg-white rounded-lg shadow",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Current Balance"}),l.jsxs("p",{className:"text-2xl font-bold",style:{color:P.primary.teal},children:["$",o.toFixed(2)]})]})]})}),l.jsxs("form",{onSubmit:u,className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount to Use *"}),l.jsxs("div",{className:"relative",children:[l.jsx(mu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"number",value:i.amountToUse,onChange:d=>s({...i,amountToUse:d.target.value}),min:"0.01",max:o,step:"0.01",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"Enter amount...",required:!0})]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Maximum: $",o.toFixed(2)]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Name *"}),l.jsxs("div",{className:"relative",children:[l.jsx(ty,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:i.tripName,onChange:d=>s({...i,tripName:d.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., Niagara Falls Tour",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Date *"}),l.jsxs("div",{className:"relative",children:[l.jsx(Ma,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"date",value:i.tripDate,onChange:d=>s({...i,tripDate:d.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of People *"}),l.jsxs("div",{className:"relative",children:[l.jsx(lv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"number",value:i.numberOfPeople,onChange:d=>s({...i,numberOfPeople:d.target.value}),min:"1",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),l.jsx("textarea",{value:i.notes,onChange:d=>s({...i,notes:d.target.value}),rows:"3",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent resize-vertical",placeholder:"Any additional notes..."})]}),i.amountToUse&&!isNaN(parseFloat(i.amountToUse))&&l.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-blue-900",children:"After this transaction:"}),l.jsxs("p",{className:"text-lg font-bold text-blue-700",children:["Remaining Balance: $",(o-parseFloat(i.amountToUse)).toFixed(2)]}),o-parseFloat(i.amountToUse)===0&&l.jsx("p",{className:"text-sm text-blue-600 mt-2",children:"This will fully redeem the gift card."})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,className:"flex-1 px-6 py-3 text-white rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:P.primary.teal},children:r?"Processing...":"Use Gift Card"})]})]}),t.usageHistory&&t.usageHistory.length>0&&l.jsxs("div",{className:"p-6 border-t bg-gray-50",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Usage History"}),l.jsx("div",{className:"space-y-3",children:t.usageHistory.map((d,h)=>{var f,p;return l.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-gray-900",children:d.tripName}),l.jsxs("p",{className:"text-sm text-gray-600",children:[((p=(f=d.date)==null?void 0:f.toDate)==null?void 0:p.call(f).toLocaleDateString())||new Date(d.date).toLocaleDateString(),"  ",d.numberOfPeople," ",d.numberOfPeople===1?"person":"people"]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-red-600",children:["-$",d.amountUsed.toFixed(2)]}),l.jsxs("p",{className:"text-xs text-gray-500",children:["Balance: $",d.remainingAfter.toFixed(2)]})]})]}),d.notes&&l.jsx("p",{className:"text-sm text-gray-600 mt-2 italic",children:d.notes})]},h)})})]})]})})},cY=()=>{const{language:t}=sa(),e=ll[t],[n,r]=R.useState([]),[a,i]=R.useState(!1),[s,o]=R.useState(!1),[u,d]=R.useState(null),[h,f]=R.useState(!0),[p,y]=R.useState(null),[w,N]=R.useState(null),[A,_]=R.useState("all");R.useEffect(()=>{const v=r_(yi(kt,"giftCards"),n9("createdAt","desc")),b=FC(v,C=>{const O=C.docs.map(j=>({id:j.id,...j.data()}));r(O),f(!1)});return()=>b()},[]);const x=v=>{const b=`${window.location.origin}/PlanYourTripNow/gift/${v}`;navigator.clipboard.writeText(b),y(v),setTimeout(()=>y(null),2e3)},E=async v=>{if(confirm(e.deleteConfirmGiftCard)){N(v);try{await o_(br(kt,"giftCards",v))}catch(b){console.error("Error deleting gift card:",b),alert(e.failedToDeleteGiftCard)}finally{N(null)}}},V=(()=>{const v=new Date;return A==="all"?n:n.filter(b=>{var J,k;const C=((k=(J=b.expiryDate)==null?void 0:J.toDate)==null?void 0:k.call(J))||new Date(b.expiryDate),j=(b.remainingBalance!==void 0?b.remainingBalance:b.amount)===0,D=b.usageHistory&&b.usageHistory.length>0,G=C<v;return A==="redeemed"?j:A==="used"?D&&!j:A==="expired"?!j&&G:A==="active"?!j&&!G&&!D:A==="viewed"?b.viewed&&!D&&!j:!0})})(),$=v=>{var J,k;const C=(v.remainingBalance!==void 0?v.remainingBalance:v.amount)===0,O=v.usageHistory&&v.usageHistory.length>0,G=(((k=(J=v.expiryDate)==null?void 0:J.toDate)==null?void 0:k.call(J))||new Date(v.expiryDate))<new Date;return C?{bg:"#D1FAE5",text:"#065F46",label:e.statusFullyUsed}:O?{bg:"#FEF3C7",text:"#92400E",label:e.statusPartiallyUsed}:G?{bg:"#FEE2E2",text:"#991B1B",label:e.statusExpired}:v.viewed?{bg:"#E0E7FF",text:"#4338CA",label:e.statusViewed}:{bg:"#DBEAFE",text:"#1E40AF",label:e.statusActive}},S=v=>{d(v),o(!0)};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(ym,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[l.jsx(Yn,{className:"w-8 h-8",style:{color:P.primary.teal}}),e.giftCards]}),l.jsx("p",{className:"text-gray-600 mt-1",children:e.giftCardsDesc})]}),l.jsxs("button",{onClick:()=>i(!0),style:{backgroundColor:P.primary.teal},className:"flex items-center gap-1.5 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity shadow-lg",children:[l.jsx(xN,{className:"w-4 h-4"}),l.jsx("span",{children:e.createGiftCard})]})]}),l.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","active","viewed","used","expired"].map(v=>{const b=`filter${v.charAt(0).toUpperCase()+v.slice(1)}`;return l.jsx("button",{onClick:()=>_(v),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-colors ${A===v?"text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,style:A===v?{backgroundColor:P.primary.teal}:{},children:e[b]},v)})}),h?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:e.loadingGiftCards})}):V.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[l.jsx(Yn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:A==="all"?e.noGiftCardsYet:`${e[`filter${A.charAt(0).toUpperCase()+A.slice(1)}`]} ${e.noFilteredGiftCards}`}),l.jsx("button",{onClick:()=>i(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstGiftCard})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(v=>{var C,O,j,D,G,J;const b=$(v);return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-2",style:{borderColor:P.primary.teal},children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-1",children:v.recipientName}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:b.bg,color:b.text},children:b.label})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:v.message}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(mu,{className:"w-4 h-4 text-gray-400"}),l.jsx("span",{className:"text-gray-700",children:v.remainingBalance!==void 0&&v.remainingBalance!==v.amount?l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"font-semibold",style:{color:P.primary.teal},children:["$",v.remainingBalance.toFixed(2)]}),l.jsxs("span",{className:"text-gray-500",children:[" / $",v.amount]}),l.jsxs("span",{className:"text-xs ml-1",children:["(",e.remaining,")"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("span",{className:"font-semibold",children:["$",v.amount]})," ",e.value]})})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Ma,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:[e.expires,": ",((O=(C=v.expiryDate)==null?void 0:C.toDate)==null?void 0:O.call(C).toLocaleDateString())||new Date(v.expiryDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Do,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:[e.from,": ",v.senderName]})]})]}),v.remainingBalance===0&&l.jsx("div",{className:"mb-4 p-2 bg-green-50 rounded-lg",children:l.jsxs("p",{className:"text-xs text-green-700",children:[e.fullyUsedOn," ",v.usageHistory&&v.usageHistory.length>0&&v.usageHistory[v.usageHistory.length-1].usedAt?`${e.on} ${((D=(j=v.usageHistory[v.usageHistory.length-1].usedAt).toDate)==null?void 0:D.call(j).toLocaleDateString())||new Date(v.usageHistory[v.usageHistory.length-1].usedAt).toLocaleDateString()}`.trim():""]})}),v.usageHistory&&v.usageHistory.length>0&&v.remainingBalance!==0&&l.jsx("div",{className:"mb-4 p-2 bg-yellow-50 rounded-lg",children:l.jsxs("p",{className:"text-xs text-yellow-800 font-medium",children:[e.usedTimes," ",v.usageHistory.length," ",v.usageHistory.length>1?e.times:e.time]})}),v.viewed&&(!v.usageHistory||v.usageHistory.length===0)&&v.remainingBalance!==0&&l.jsx("div",{className:"mb-4 p-2 bg-indigo-50 rounded-lg",children:l.jsxs("p",{className:"text-xs text-indigo-700",children:[e.viewedOn," ",((J=(G=v.viewedAt)==null?void 0:G.toDate)==null?void 0:J.call(G).toLocaleDateString())||new Date(v.viewedAt).toLocaleDateString()]})}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[(v.remainingBalance===void 0||v.remainingBalance>0)&&l.jsxs("button",{onClick:()=>S(v),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:P.primary.teal},children:[l.jsx(Rf,{className:"w-4 h-4"}),l.jsx("span",{children:e.use})]}),l.jsx("button",{onClick:()=>x(v.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:p===v.id?P.success:P.primary.teal},children:p===v.id?l.jsxs(l.Fragment,{children:[l.jsx(Cf,{className:"w-4 h-4"}),l.jsx("span",{children:e.copied})]}):l.jsxs(l.Fragment,{children:[l.jsx(sv,{className:"w-4 h-4"}),l.jsx("span",{children:e.share})]})}),l.jsxs("a",{href:`/PlanYourTripNow/gift/${v.id}`,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:P.primary.black},className:"flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:[l.jsx(J4,{className:"w-4 h-4"}),l.jsx("span",{children:e.viewCard})]}),l.jsx("button",{onClick:()=>E(v.id),disabled:w===v.id,style:{backgroundColor:P.button.danger},className:"flex items-center justify-center px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteGiftCard,children:l.jsx(Df,{className:"w-4 h-4"})})]})]},v.id)})})]}),a&&l.jsx(oY,{onClose:()=>i(!1)}),s&&u&&l.jsx(lY,{giftCard:u,onClose:()=>{o(!1),d(null)},onUpdate:()=>{}})]})},uY="/PlanYourTripNow/assets/giftcardimage-D1Kx7eDk.png",dY=()=>{var x,E;const{giftCardId:t}=iN(),[e,n]=R.useState(null),[r,a]=R.useState(!0),[i,s]=R.useState(null),[o,u]=R.useState(!1),[d,h]=R.useState(!1),[f,p]=R.useState("en"),w={en:{loadingGift:"Loading your gift...",oops:"Oops!",youGotGift:"You've Got a Gift!",clickToReveal:"Click the gift box to reveal your surprise",congratulations:"Congratulations!",receivedGiftCard:"You've received a gift card",dear:"Dear",from:"From",expires:"Expires",giftCardCode:"Gift Card Code",presentCode:"Present this code when booking your trip",expired:"This gift card has expired",revealed:"Gift card revealed! Contact us to redeem.",readyToUse:"Ready to use! Contact us to book your amazing trip.",contactInfo:"Contact: 647-302-6849 or visit www.ivritours.com"},ru:{loadingGift:"  ...",oops:"!",youGotGift:"   !",clickToReveal:"   ,   ",congratulations:"!",receivedGiftCard:"   ",dear:"",from:"",expires:" ",giftCardCode:"  ",presentCode:"      ",expired:"     ",revealed:"  !   ,  .",readyToUse:"  !   ,     .",contactInfo:": 647-302-6849   www.ivritours.com"}}[f];R.useEffect(()=>{(async()=>{try{const V=br(kt,"giftCards",t),$=await BC(V);$.exists()?n({id:$.id,...$.data()}):s("Gift card not found")}catch(V){console.error("Error fetching gift card:",V),s("Failed to load gift card")}finally{a(!1)}})()},[t]);const N=async()=>{if(u(!0),h(!0),e&&!e.viewed)try{const I=br(kt,"giftCards",t);await lm(I,{viewed:!0,viewedAt:de.now()}),n(V=>({...V,viewed:!0,viewedAt:new Date}))}catch(I){console.error("Error marking gift card as viewed:",I)}setTimeout(()=>h(!1),5e3)};if(r)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Yn,{className:"w-16 h-16 mx-auto mb-4 text-purple-600 animate-pulse"}),l.jsx("p",{className:"text-xl text-gray-700",children:w.loadingGift})]})});if(i)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Yn,{className:"w-10 h-10 text-red-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:w.oops}),l.jsx("p",{className:"text-gray-600",children:i})]})});const A=((E=(x=e.expiryDate)==null?void 0:x.toDate)==null?void 0:E.call(x))||new Date(e.expiryDate),_=A<new Date;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-4 right-4 z-50",children:l.jsxs("button",{onClick:()=>p(f==="en"?"ru":"en"),className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-lg hover:shadow-xl transition-all",style:{color:P.primary.teal},children:[l.jsx(vN,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:f==="en"?"RU":"EN"})]})}),d&&l.jsx("div",{className:"confetti-container",children:[...Array(50)].map((I,V)=>l.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*5)]}},V))}),o?l.jsx("div",{className:"gift-card-reveal max-w-2xl w-full",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-8 text-white text-center relative overflow-hidden",style:{backgroundColor:P.primary.teal},children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsx(gM,{className:"w-16 h-16 mx-auto mb-4"}),l.jsx("h1",{className:"text-4xl font-bold mb-2",children:w.congratulations}),l.jsx("p",{className:"text-xl opacity-90",children:w.receivedGiftCard})]})]}),l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("p",{className:"text-gray-600 mb-2",children:w.dear}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:e.recipientName}),l.jsxs("div",{className:"inline-block px-8 py-4 rounded-2xl text-white mb-6",style:{backgroundColor:P.primary.teal},children:[l.jsx(mu,{className:"w-8 h-8 inline-block mb-1"}),l.jsx("span",{className:"text-5xl font-bold",children:e.amount})]})]}),e.message&&l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-8",children:[l.jsxs("p",{className:"text-gray-700 text-lg italic text-center leading-relaxed",children:['"',e.message,'"']}),l.jsxs("p",{className:"text-gray-600 text-right mt-4",children:["- ",e.senderName]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[l.jsx(Do,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:w.from}),l.jsx("p",{className:"font-semibold text-gray-900",children:e.senderName})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[l.jsx(Ma,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:w.expires}),l.jsx("p",{className:"font-semibold text-gray-900",children:A.toLocaleDateString()})]})]})]}),l.jsx("div",{className:"bg-white border-4 rounded-2xl p-4 mb-6",style:{borderColor:P.primary.teal},children:l.jsx("img",{src:uY,alt:"IVRI Tours - Best Tours in Canada",className:"w-full rounded-lg shadow-lg"})}),l.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 border-2 rounded-2xl p-6 text-center",style:{borderColor:P.primary.teal},children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:w.giftCardCode}),l.jsx("p",{className:"text-3xl font-bold tracking-wider mb-3",style:{color:P.primary.teal},children:e.barcodeId}),l.jsx("p",{className:"text-xs text-gray-600",children:w.presentCode})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-sm font-medium text-gray-700",children:w.contactInfo})}),_&&l.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-red-700 font-medium",children:w.expired})}),e.redeemed&&!_&&l.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-green-700 font-medium",children:w.revealed})}),!_&&!e.redeemed&&l.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-blue-700 font-medium",children:w.readyToUse})})]})]})}):l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"gift-box-container mb-8",onClick:N,children:l.jsxs("div",{className:"gift-box",children:[l.jsx("div",{className:"gift-box-lid",children:l.jsx("div",{className:"gift-ribbon-horizontal"})}),l.jsx("div",{className:"gift-box-body",children:l.jsx("div",{className:"gift-ribbon-vertical"})})]})}),l.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[l.jsx(xx,{className:"w-8 h-8 text-yellow-500"}),w.youGotGift,l.jsx(xx,{className:"w-8 h-8 text-yellow-500"})]}),l.jsx("p",{className:"text-xl text-gray-700 mb-8",children:w.clickToReveal}),l.jsx("div",{className:"animate-bounce",children:l.jsx(Yn,{className:"w-12 h-12 mx-auto text-purple-600"})})]})]})},hY=()=>{const t=ds(),[e,n]=R.useState("en"),[r,a]=R.useState(1),[i,s]=R.useState(!1),[o,u]=R.useState({amount:"100",recipientName:"",recipientEmail:"",senderName:"",senderEmail:"",message:"",paymentMethod:"credit-card"}),h={en:{title:"Purchase Gift Card",subtitle:"Give the gift of amazing travel experiences",step1:"Gift Details",step2:"Payment",amount:"Gift Card Amount",recipientName:"Recipient's Name",recipientEmail:"Recipient's Email",senderName:"Your Name",senderEmail:"Your Email",message:"Personal Message (Optional)",messagePlaceholder:"Write a personal message for the recipient...",paymentMethod:"Payment Method",creditCard:"Credit / Debit Card",paypal:"PayPal",back:"Back",continue:"Continue",purchaseNow:"Purchase Gift Card",processing:"Processing...",customAmount:"Custom Amount",presetAmounts:"Preset Amounts",cardDetails:"Card Details",cardNumber:"Card Number",expiryDate:"Expiry Date",cvv:"CVV",billingAddress:"Billing Address",fullName:"Full Name on Card",country:"Country",zipCode:"ZIP / Postal Code",paypalInfo:"You will be redirected to PayPal to complete your purchase",securePayment:"Secure Payment Processing",terms:"By purchasing, you agree to our terms and conditions"},ru:{title:"  ",subtitle:"  ",step1:" ",step2:"",amount:"  ",recipientName:" ",recipientEmail:"Email ",senderName:" ",senderEmail:" Email",message:"  ()",messagePlaceholder:"    ...",paymentMethod:" ",creditCard:" /  ",paypal:"PayPal",back:"",continue:"",purchaseNow:"  ",processing:"...",customAmount:" ",presetAmounts:" ",cardDetails:" ",cardNumber:" ",expiryDate:" ",cvv:"CVV",billingAddress:" ",fullName:"   ",country:"",zipCode:" ",paypalInfo:"    PayPal   ",securePayment:"  ",terms:" ,     "}}[e],f=[50,100,150,200,300,500],p=w=>{w.preventDefault(),a(2)},y=async w=>{w.preventDefault(),s(!0);try{const N=`IVRI${Date.now()}${Math.random().toString(36).substr(2,9).toUpperCase()}`,A=new Date;A.setFullYear(A.getFullYear()+1);const _={amount:parseFloat(o.amount),recipientName:o.recipientName,recipientEmail:o.recipientEmail,senderName:o.senderName,senderEmail:o.senderEmail,message:o.message,barcodeId:N,expiryDate:de.fromDate(A),redeemed:!1,createdAt:de.now(),paymentMethod:o.paymentMethod},x=await cm(yi(kt,"giftCards"),_);alert(`Gift card created! Link: ${window.location.origin}/PlanYourTripNow/gift/${x.id}

In production, this would be emailed to the recipient.`),t(`/gift/${x.id}`)}catch(N){console.error("Error creating gift card:",N),alert("Failed to create gift card. Please try again.")}finally{s(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100",children:[l.jsx(ym,{showBackButton:!1,showLogout:!1}),l.jsx("div",{className:"absolute top-4 right-4 z-50",children:l.jsxs("button",{onClick:()=>n(e==="en"?"ru":"en"),className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-lg hover:shadow-xl transition-all",style:{color:P.primary.teal},children:[l.jsx(vN,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:e==="en"?"RU":"EN"})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"inline-block p-4 bg-white rounded-full shadow-lg mb-4",children:l.jsx(Yn,{className:"w-16 h-16",style:{color:P.primary.teal}})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:h.title}),l.jsx("p",{className:"text-xl text-gray-600",children:h.subtitle})]}),l.jsx("div",{className:"flex items-center justify-center mb-12",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:`flex items-center gap-2 px-6 py-3 rounded-lg ${r===1?"text-white":"bg-white text-gray-600"}`,style:r===1?{backgroundColor:P.primary.teal}:{},children:[l.jsx("span",{className:"font-bold",children:"1"}),l.jsx("span",{children:h.step1})]}),l.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded"}),l.jsxs("div",{className:`flex items-center gap-2 px-6 py-3 rounded-lg ${r===2?"text-white":"bg-white text-gray-600"}`,style:r===2?{backgroundColor:P.primary.teal}:{},children:[l.jsx("span",{className:"font-bold",children:"2"}),l.jsx("span",{children:h.step2})]})]})}),l.jsx("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:r===1?l.jsxs("form",{onSubmit:p,className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:P.primary.teal},children:h.step1}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:h.amount}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:h.presetAmounts}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3 mb-4",children:f.map(w=>l.jsxs("button",{type:"button",onClick:()=>u({...o,amount:w.toString()}),className:`py-3 px-4 rounded-lg font-semibold transition-all ${o.amount===w.toString()?"text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:o.amount===w.toString()?{backgroundColor:P.primary.teal}:{},children:["$",w]},w))}),l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.customAmount}),l.jsxs("div",{className:"relative",children:[l.jsx(mu,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"number",value:o.amount,onChange:w=>u({...o,amount:w.target.value}),min:"10",step:"1",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent text-lg font-semibold",placeholder:"Enter amount...",required:!0})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recipient Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.recipientName}),l.jsxs("div",{className:"relative",children:[l.jsx(Do,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:o.recipientName,onChange:w=>u({...o,recipientName:w.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.recipientEmail}),l.jsxs("div",{className:"relative",children:[l.jsx(_x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"email",value:o.recipientEmail,onChange:w=>u({...o,recipientEmail:w.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.senderName}),l.jsxs("div",{className:"relative",children:[l.jsx(Do,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:o.senderName,onChange:w=>u({...o,senderName:w.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.senderEmail}),l.jsxs("div",{className:"relative",children:[l.jsx(_x,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"email",value:o.senderEmail,onChange:w=>u({...o,senderEmail:w.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.message}),l.jsxs("div",{className:"relative",children:[l.jsx(_N,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("textarea",{value:o.message,onChange:w=>u({...o,message:w.target.value}),rows:4,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent resize-none",placeholder:h.messagePlaceholder})]})]}),l.jsx("button",{type:"submit",className:"w-full py-4 text-white rounded-lg font-semibold text-lg hover:opacity-90 transition-opacity",style:{backgroundColor:P.primary.teal},children:h.continue})]}):l.jsxs("form",{onSubmit:y,className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:P.primary.teal},children:h.step2}),l.jsxs("div",{className:"mb-8",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:h.paymentMethod}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("button",{type:"button",onClick:()=>u({...o,paymentMethod:"credit-card"}),className:`p-6 rounded-xl border-2 transition-all ${o.paymentMethod==="credit-card"?"border-teal-500 bg-teal-50":"border-gray-300 bg-white hover:border-gray-400"}`,children:[l.jsx(Rf,{className:"w-8 h-8 mx-auto mb-3",style:{color:P.primary.teal}}),l.jsx("p",{className:"font-semibold text-gray-900",children:h.creditCard})]}),l.jsxs("button",{type:"button",onClick:()=>u({...o,paymentMethod:"paypal"}),className:`p-6 rounded-xl border-2 transition-all ${o.paymentMethod==="paypal"?"border-teal-500 bg-teal-50":"border-gray-300 bg-white hover:border-gray-400"}`,children:[l.jsx("svg",{className:"w-8 h-8 mx-auto mb-3",viewBox:"0 0 24 24",fill:"#00457C",children:l.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944 3.24a.77.77 0 0 1 .758-.64h8.433c2.767 0 4.608.617 5.473 1.833.838 1.182.896 2.844.175 5.083-.841 2.622-2.354 4.327-4.502 5.073-1.015.352-2.27.545-3.735.575l-.813.01c-.672 0-.988.275-1.069.861l-.022.104-.675 4.28-.031.163a.37.37 0 0 1-.363.306zm7.723-10.07c.112-.726.184-1.204.216-1.434.165-1.194-.003-1.988-.495-2.361-.563-.426-1.549-.639-2.931-.639H8.858c-.341 0-.635.24-.692.565l-1.445 9.157h2.079c.672 0 .988-.275 1.069-.861l.022-.104.675-4.28.031-.163a.77.77 0 0 1 .758-.64h.477c1.971 0 3.444-.798 4.417-2.391.445-.728.729-1.545.85-2.449z"})}),l.jsx("p",{className:"font-semibold text-gray-900",children:h.paypal})]})]})]}),o.paymentMethod==="credit-card"?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," This is a demo interface. In production, you would integrate with Stripe, Square, or another payment processor for secure credit card processing."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.cardNumber}),l.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.expiryDate}),l.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.cvv}),l.jsx("input",{type:"text",placeholder:"123",maxLength:"4",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.fullName}),l.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.country}),l.jsxs("select",{className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[l.jsx("option",{value:"CA",children:"Canada"}),l.jsx("option",{value:"US",children:"United States"}),l.jsx("option",{value:"RU",children:"Russia"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:h.zipCode}),l.jsx("input",{type:"text",placeholder:"M5V 3A8",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]})]}):l.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-xl p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",viewBox:"0 0 24 24",fill:"#00457C",children:l.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944 3.24a.77.77 0 0 1 .758-.64h8.433c2.767 0 4.608.617 5.473 1.833.838 1.182.896 2.844.175 5.083-.841 2.622-2.354 4.327-4.502 5.073-1.015.352-2.27.545-3.735.575l-.813.01c-.672 0-.988.275-1.069.861l-.022.104-.675 4.28-.031.163a.37.37 0 0 1-.363.306zm7.723-10.07c.112-.726.184-1.204.216-1.434.165-1.194-.003-1.988-.495-2.361-.563-.426-1.549-.639-2.931-.639H8.858c-.341 0-.635.24-.692.565l-1.445 9.157h2.079c.672 0 .988-.275 1.069-.861l.022-.104.675-4.28.031-.163a.77.77 0 0 1 .758-.64h.477c1.971 0 3.444-.798 4.417-2.391.445-.728.729-1.545.85-2.449z"})}),l.jsx("p",{className:"text-lg text-gray-700",children:h.paypalInfo}),l.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:[l.jsx("strong",{children:"Note:"})," In production, this would integrate with PayPal's API"]})]}),l.jsxs("div",{className:"mt-8 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl p-6 border-2",style:{borderColor:P.primary.teal},children:[l.jsx("h3",{className:"font-bold text-lg mb-4",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"Gift Card Amount:"}),l.jsxs("span",{className:"font-semibold",children:["$",o.amount]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"To:"}),l.jsx("span",{className:"font-semibold",children:o.recipientName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"From:"}),l.jsx("span",{className:"font-semibold",children:o.senderName})]})]}),l.jsx("div",{className:"border-t-2 border-teal-200 pt-4 mt-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xl font-bold",children:"Total:"}),l.jsxs("span",{className:"text-3xl font-bold",style:{color:P.primary.teal},children:["$",o.amount]})]})})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{type:"button",onClick:()=>a(1),className:"flex-1 py-4 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-lg hover:bg-gray-50 transition-colors",children:h.back}),l.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-4 text-white rounded-lg font-semibold text-lg hover:opacity-90 transition-opacity disabled:opacity-50",style:{backgroundColor:P.primary.teal},children:i?h.processing:h.purchaseNow})]}),l.jsxs("p",{className:"text-xs text-gray-500 text-center mt-6",children:[h.securePayment,"  ",h.terms]})]})})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function fY(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(h){try{d(r.next(h))}catch(f){s(f)}}function u(h){try{d(r.throw(h))}catch(f){s(f)}}function d(h){h.done?i(h.value):a(h.value).then(o,u)}d((r=r.apply(t,[])).next())})}function mY(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=d[0]&2?a.return:d[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,d[1])).done)return i;switch(a=0,i&&(d=[d[0]&2,i.value]),d[0]){case 0:case 1:i=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,a=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){n.label=d[1];break}if(d[0]===6&&n.label<i[1]){n.label=i[1],i=d;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(d);break}i[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],a=0}finally{r=i=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var io=function(){return io=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},io.apply(this,arguments)},ID=function(t){return{loading:t==null,value:t}},pY=function(){return function(t,e){switch(e.type){case"error":return io(io({},t),{error:e.error,loading:!1,value:void 0});case"reset":return ID(e.defaultValue);case"value":return io(io({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},gY=function(t){var e=t?t():void 0,n=R.useReducer(pY(),ID(e)),r=n[0],a=n[1],i=R.useCallback(function(){var u=t?t():void 0;a({type:"reset",defaultValue:u})},[t]),s=R.useCallback(function(u){a({type:"error",error:u})},[]),o=R.useCallback(function(u){a({type:"value",value:u})},[]);return R.useMemo(function(){return{error:r.error,loading:r.loading,reset:i,setError:s,setValue:o,value:r.value}},[r.error,r.loading,i,s,o,r.value])},yY=function(t,e){var n=gY(function(){return t.currentUser}),r=n.error,a=n.loading,i=n.setError,s=n.setValue,o=n.value;return R.useEffect(function(){var u=cU(t,function(d){return fY(void 0,void 0,void 0,function(){var h;return mY(this,function(f){switch(f.label){case 0:return[3,4];case 1:return f.trys.push([1,3,,4]),[4,e.onUserChanged(d)];case 2:return f.sent(),[3,4];case 3:return h=f.sent(),i(h),[3,4];case 4:return s(d),[2]}})})},i);return function(){u()}},[t]),[o,a,r]};const HE=({children:t})=>{const[e,n]=yY(E_);return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:l.jsx(zk,{to:"/login"})};function vY(){return l.jsx(E4,{children:l.jsx(f4,{basename:"/PlanYourTripNow",children:l.jsxs($k,{children:[l.jsx(_a,{path:"/",element:l.jsx(IM,{})}),l.jsx(_a,{path:"/admin",element:l.jsx(HE,{children:l.jsx(OB,{})})}),l.jsx(_a,{path:"/login",element:l.jsx(JB,{})}),l.jsx(_a,{path:"/register/:tripId",element:l.jsx(XB,{})}),l.jsx(_a,{path:"/gift/:giftCardId",element:l.jsx(dY,{})}),l.jsx(_a,{path:"/gift-card-purchase",element:l.jsx(hY,{})}),l.jsx(_a,{path:"/gift-cards",element:l.jsx(HE,{children:l.jsx(cY,{})})})]})})})}Hj.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(vY,{})}));
