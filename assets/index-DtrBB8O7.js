(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var qI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BE={exports:{}},sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI=Symbol.for("react.transitional.element"),GI=Symbol.for("react.fragment");function FE(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:HI,type:t,key:r,ref:e!==void 0?e:null,props:n}}sf.Fragment=GI;sf.jsx=FE;sf.jsxs=FE;BE.exports=sf;var l=BE.exports,$E={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy=Symbol.for("react.transitional.element"),YI=Symbol.for("react.portal"),WI=Symbol.for("react.fragment"),KI=Symbol.for("react.strict_mode"),QI=Symbol.for("react.profiler"),XI=Symbol.for("react.consumer"),JI=Symbol.for("react.context"),ZI=Symbol.for("react.forward_ref"),eD=Symbol.for("react.suspense"),tD=Symbol.for("react.memo"),qE=Symbol.for("react.lazy"),nD=Symbol.for("react.activity"),O1=Symbol.iterator;function rD(t){return t===null||typeof t!="object"?null:(t=O1&&t[O1]||t["@@iterator"],typeof t=="function"?t:null)}var HE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GE=Object.assign,YE={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||HE}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WE(){}WE.prototype=Lo.prototype;function Hy(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||HE}var Gy=Hy.prototype=new WE;Gy.constructor=Hy;GE(Gy,Lo.prototype);Gy.isPureReactComponent=!0;var k1=Array.isArray;function Kp(){}var Ue={H:null,A:null,T:null,S:null},KE=Object.prototype.hasOwnProperty;function Yy(t,e,n){var r=n.ref;return{$$typeof:qy,type:t,key:e,ref:r!==void 0?r:null,props:n}}function aD(t,e){return Yy(t.type,e,t.props)}function Wy(t){return typeof t=="object"&&t!==null&&t.$$typeof===qy}function iD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var j1=/\/+/g;function Mm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iD(""+t.key):e.toString(36)}function sD(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Kp,Kp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function js(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case qy:case YI:s=!0;break;case qE:return s=t._init,js(s(t._payload),e,n,r,a)}}if(s)return a=a(t),s=r===""?"."+Mm(t,0):r,k1(a)?(n="",s!=null&&(n=s.replace(j1,"$&/")+"/"),js(a,e,n,"",function(h){return h})):a!=null&&(Wy(a)&&(a=aD(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(j1,"$&/")+"/")+s)),e.push(a)),1;s=0;var o=r===""?".":r+":";if(k1(t))for(var u=0;u<t.length;u++)r=t[u],i=o+Mm(r,u),s+=js(r,e,n,i,a);else if(u=rD(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,i=o+Mm(r,u++),s+=js(r,e,n,i,a);else if(i==="object"){if(typeof t.then=="function")return js(sD(t),e,n,r,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Gu(t,e,n){if(t==null)return t;var r=[],a=0;return js(t,r,"","",function(i){return e.call(n,i,a++)}),r}function oD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var M1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},lD={map:Gu,forEach:function(t,e,n){Gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gu(t,function(){e++}),e},toArray:function(t){return Gu(t,function(e){return e})||[]},only:function(t){if(!Wy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Activity=nD;se.Children=lD;se.Component=Lo;se.Fragment=WI;se.Profiler=QI;se.PureComponent=Hy;se.StrictMode=KI;se.Suspense=eD;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;se.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ue.H.useMemoCache(t)}};se.cache=function(t){return function(){return t.apply(null,arguments)}};se.cacheSignal=function(){return null};se.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=GE({},t.props),a=t.key;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)!KE.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(r[i]=e[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return Yy(t.type,a,r)};se.createContext=function(t){return t={$$typeof:JI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:XI,_context:t},t};se.createElement=function(t,e,n){var r,a={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)KE.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=e[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return Yy(t,i,a)};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:ZI,render:t}};se.isValidElement=Wy;se.lazy=function(t){return{$$typeof:qE,_payload:{_status:-1,_result:t},_init:oD}};se.memo=function(t,e){return{$$typeof:tD,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Ue.T,n={};Ue.T=n;try{var r=t(),a=Ue.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Kp,M1)}catch(i){M1(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ue.T=e}};se.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};se.use=function(t){return Ue.H.use(t)};se.useActionState=function(t,e,n){return Ue.H.useActionState(t,e,n)};se.useCallback=function(t,e){return Ue.H.useCallback(t,e)};se.useContext=function(t){return Ue.H.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t,e){return Ue.H.useDeferredValue(t,e)};se.useEffect=function(t,e){return Ue.H.useEffect(t,e)};se.useEffectEvent=function(t){return Ue.H.useEffectEvent(t)};se.useId=function(){return Ue.H.useId()};se.useImperativeHandle=function(t,e,n){return Ue.H.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ue.H.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ue.H.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ue.H.useMemo(t,e)};se.useOptimistic=function(t,e){return Ue.H.useOptimistic(t,e)};se.useReducer=function(t,e,n){return Ue.H.useReducer(t,e,n)};se.useRef=function(t){return Ue.H.useRef(t)};se.useState=function(t){return Ue.H.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ue.H.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ue.H.useTransition()};se.version="19.2.3";$E.exports=se;var R=$E.exports;const cD=af(R);var QE={exports:{}},of={},XE={exports:{}},JE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var $=j.length;j.push(U);e:for(;0<$;){var Y=$-1>>>1,X=j[Y];if(0<a(X,U))j[Y]=U,j[$]=X,$=Y;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],$=j.pop();if($!==U){j[0]=$;e:for(var Y=0,X=j.length,be=X>>>1;Y<be;){var q=2*(Y+1)-1,ne=j[q],Ne=q+1,Te=j[Ne];if(0>a(ne,$))Ne<X&&0>a(Te,ne)?(j[Y]=Te,j[Ne]=$,Y=Ne):(j[Y]=ne,j[q]=$,Y=q);else if(Ne<X&&0>a(Te,$))j[Y]=Te,j[Ne]=$,Y=Ne;else break e}}return U}function a(j,U){var $=j.sortIndex-U.sortIndex;return $!==0?$:j.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],h=[],d=1,m=null,p=3,v=!1,S=!1,A=!1,N=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function D(j){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=j)r(h),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(h)}}function L(j){if(A=!1,D(j),!S)if(n(u)!==null)S=!0,H||(H=!0,k());else{var U=n(h);U!==null&&re(L,U.startTime-j)}}var H=!1,T=-1,E=5,b=-1;function C(){return N?!0:!(t.unstable_now()-b<E)}function O(){if(N=!1,H){var j=t.unstable_now();b=j;var U=!0;try{e:{S=!1,A&&(A=!1,_(T),T=-1),v=!0;var $=p;try{t:{for(D(j),m=n(u);m!==null&&!(m.expirationTime>j&&C());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,p=m.priorityLevel;var X=Y(m.expirationTime<=j);if(j=t.unstable_now(),typeof X=="function"){m.callback=X,D(j),U=!0;break t}m===n(u)&&r(u),D(j)}else r(u);m=n(u)}if(m!==null)U=!0;else{var be=n(h);be!==null&&re(L,be.startTime-j),U=!1}}break e}finally{m=null,p=$,v=!1}U=void 0}}finally{U?k():H=!1}}}var k;if(typeof x=="function")k=function(){x(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=O,k=function(){G.postMessage(null)}}else k=function(){y(O,0)};function re(j,U){T=y(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var $=p;p=U;try{return j()}finally{p=$}},t.unstable_requestPaint=function(){N=!0},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=p;p=j;try{return U()}finally{p=$}},t.unstable_scheduleCallback=function(j,U,$){var Y=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,j={id:d++,callback:U,priorityLevel:j,startTime:$,expirationTime:X,sortIndex:-1},$>Y?(j.sortIndex=$,e(h,j),n(u)===null&&j===n(h)&&(A?(_(T),T=-1):A=!0,re(L,$-Y))):(j.sortIndex=X,e(u,j),S||v||(S=!0,H||(H=!0,k()))),j},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(j){var U=p;return function(){var $=p;p=U;try{return j.apply(this,arguments)}finally{p=$}}}})(JE);XE.exports=JE;var uD=XE.exports,ZE={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD=R;function eT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pa(){}var Ft={d:{f:pa,r:function(){throw Error(eT(522))},D:pa,C:pa,L:pa,m:pa,X:pa,S:pa,M:pa},p:0,findDOMNode:null},dD=Symbol.for("react.portal");function fD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dD,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var ac=hD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function lf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ft;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(eT(299));return fD(t,e,null,n)};Ht.flushSync=function(t){var e=ac.T,n=Ft.p;try{if(ac.T=null,Ft.p=2,t)return t()}finally{ac.T=e,Ft.p=n,Ft.d.f()}};Ht.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Ft.d.C(t,e))};Ht.prefetchDNS=function(t){typeof t=="string"&&Ft.d.D(t)};Ht.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=lf(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Ft.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&Ft.d.X(t,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ht.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=lf(e.as,e.crossOrigin);Ft.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Ft.d.M(t)};Ht.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=lf(n,e.crossOrigin);Ft.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ht.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=lf(e.as,e.crossOrigin);Ft.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Ft.d.m(t)};Ht.requestFormReset=function(t){Ft.d.r(t)};Ht.unstable_batchedUpdates=function(t,e){return t(e)};Ht.useFormState=function(t,e,n){return ac.H.useFormState(t,e,n)};Ht.useFormStatus=function(){return ac.H.useHostTransitionStatus()};Ht.version="19.2.3";function tT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tT)}catch(t){console.error(t)}}tT(),ZE.exports=Ht;var mD=ZE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=uD,nT=R,pD=mD;function B(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function P1(t){if(Xc(t)!==t)throw Error(B(188))}function gD(t){var e=t.alternate;if(!e){if(e=Xc(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return P1(a),t;if(i===r)return P1(a),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function sT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=sT(t),e!==null)return e;t=t.sibling}return null}var ze=Object.assign,yD=Symbol.for("react.element"),Yu=Symbol.for("react.transitional.element"),Hl=Symbol.for("react.portal"),Fs=Symbol.for("react.fragment"),oT=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),lT=Symbol.for("react.consumer"),kr=Symbol.for("react.context"),Ky=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),Qy=Symbol.for("react.memo"),ya=Symbol.for("react.lazy"),Zp=Symbol.for("react.activity"),vD=Symbol.for("react.memo_cache_sentinel"),L1=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var _D=Symbol.for("react.client.reference");function eg(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fs:return"Fragment";case Qp:return"Profiler";case oT:return"StrictMode";case Xp:return"Suspense";case Jp:return"SuspenseList";case Zp:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Hl:return"Portal";case kr:return t.displayName||"Context";case lT:return(t._context.displayName||"Context")+".Consumer";case Ky:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qy:return e=t.displayName||null,e!==null?e:eg(t.type)||"Memo";case ya:e=t._payload,t=t._init;try{return eg(t(e))}catch{}}return null}var Gl=Array.isArray,te=nT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=pD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ui={pending:!1,data:null,method:null,action:null},tg=[],$s=-1;function br(t){return{current:t}}function wt(t){0>$s||(t.current=tg[$s],tg[$s]=null,$s--)}function je(t,e){$s++,tg[$s]=t.current,t.current=e}var hr=br(null),Tc=br(null),ka=br(null),ed=br(null);function td(t,e){switch(je(ka,e),je(Tc,t),je(hr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?$b(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=$b(e),t=CA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}wt(hr),je(hr,t)}function yo(){wt(hr),wt(Tc),wt(ka)}function ng(t){t.memoizedState!==null&&je(ed,t);var e=hr.current,n=CA(e,t.type);e!==n&&(je(Tc,t),je(hr,n))}function nd(t){Tc.current===t&&(wt(hr),wt(Tc)),ed.current===t&&(wt(ed),Mc._currentValue=Ui)}var Pm,V1;function Ii(t){if(Pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pm=e&&e[1]||"",V1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pm+t+V1}var Lm=!1;function Vm(t,e){if(!t||Lm)return"";Lm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(v){var p=v}Reflect.construct(t,[],m)}else{try{m.call()}catch(v){p=v}t.call(m.prototype)}}else{try{throw Error()}catch(v){p=v}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(v){if(v&&p&&typeof v.stack=="string")return[v.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var u=s.split(`
`),h=o.split(`
`);for(a=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(r===u.length||a===h.length)for(r=u.length-1,a=h.length-1;1<=r&&0<=a&&u[r]!==h[a];)a--;for(;1<=r&&0<=a;r--,a--)if(u[r]!==h[a]){if(r!==1||a!==1)do if(r--,a--,0>a||u[r]!==h[a]){var d=`
`+u[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=a);break}}}finally{Lm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ii(n):""}function bD(t,e){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return t.child!==e&&e!==null?Ii("Suspense Fallback"):Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return Vm(t.type,!1);case 11:return Vm(t.type.render,!1);case 1:return Vm(t.type,!0);case 31:return Ii("Activity");default:return""}}function U1(t){try{var e="",n=null;do e+=bD(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var rg=Object.prototype.hasOwnProperty,Xy=gt.unstable_scheduleCallback,Um=gt.unstable_cancelCallback,xD=gt.unstable_shouldYield,wD=gt.unstable_requestPaint,pn=gt.unstable_now,ED=gt.unstable_getCurrentPriorityLevel,cT=gt.unstable_ImmediatePriority,uT=gt.unstable_UserBlockingPriority,rd=gt.unstable_NormalPriority,TD=gt.unstable_LowPriority,hT=gt.unstable_IdlePriority,SD=gt.log,AD=gt.unstable_setDisableYieldValue,Jc=null,gn=null;function Na(t){if(typeof SD=="function"&&AD(t),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(Jc,t)}catch{}}var yn=Math.clz32?Math.clz32:RD,ND=Math.log,CD=Math.LN2;function RD(t){return t>>>=0,t===0?32:31-(ND(t)/CD|0)|0}var Wu=256,Ku=262144,Qu=4194304;function Di(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cf(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~i,r!==0?a=Di(r):(s&=o,s!==0?a=Di(s):n||(n=o&~t,n!==0&&(a=Di(n))))):(o=r&~i,o!==0?a=Di(o):s!==0?a=Di(s):n||(n=r&~t,n!==0&&(a=Di(n)))),a===0?0:e!==0&&e!==a&&!(e&i)&&(i=a&-a,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:a}function Zc(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function ID(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dT(){var t=Qu;return Qu<<=1,!(Qu&62914560)&&(Qu=4194304),t}function zm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function DD(t,e,n,r,a,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-yn(n),m=1<<d;o[d]=0,u[d]=-1;var p=h[d];if(p!==null)for(h[d]=null,d=0;d<p.length;d++){var v=p[d];v!==null&&(v.lane&=-536870913)}n&=~m}r!==0&&fT(t,r,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function fT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-yn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function mT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}function pT(t,e){var n=e&-e;return n=n&42?1:Jy(n),n&(t.suspendedLanes|e)?0:n}function Jy(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Zy(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function gT(){var t=we.p;return t!==0?t:(t=window.event,t===void 0?32:UA(t.type))}function z1(t,e){var n=we.p;try{return we.p=t,e()}finally{we.p=n}}var si=Math.random().toString(36).slice(2),Nt="__reactFiber$"+si,nn="__reactProps$"+si,Vo="__reactContainer$"+si,ag="__reactEvents$"+si,OD="__reactListeners$"+si,kD="__reactHandles$"+si,B1="__reactResources$"+si,tu="__reactMarker$"+si;function e0(t){delete t[Nt],delete t[nn],delete t[ag],delete t[OD],delete t[kD]}function qs(t){var e=t[Nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vo]||n[Nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wb(t);t!==null;){if(n=t[Nt])return n;t=Wb(t)}return e}t=n,n=t.parentNode}return null}function Uo(t){if(t=t[Nt]||t[Vo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Yl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(B(33))}function ao(t){var e=t[B1];return e||(e=t[B1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xt(t){t[tu]=!0}var yT=new Set,vT={};function is(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(vT[t]=e,t=0;t<e.length;t++)yT.add(e[t])}var jD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),F1={},$1={};function MD(t){return rg.call($1,t)?!0:rg.call(F1,t)?!1:jD.test(t)?$1[t]=!0:(F1[t]=!0,!1)}function Sh(t,e,n){if(MD(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Xu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ar(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _T(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PD(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ig(t){if(!t._valueTracker){var e=_T(t)?"checked":"value";t._valueTracker=PD(t,e,""+t[e])}}function bT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_T(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var LD=/[\n"\\]/g;function Cn(t){return t.replace(LD,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function sg(t,e,n,r,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Sn(e)):t.value!==""+Sn(e)&&(t.value=""+Sn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?og(t,s,Sn(e)):n!=null?og(t,s,Sn(n)):r!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Sn(o):t.removeAttribute("name")}function xT(t,e,n,r,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){ig(t);return}n=n!=null?""+Sn(n):"",e=e!=null?""+Sn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),ig(t)}function og(t,e,n){e==="number"&&ad(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function io(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function wT(t,e,n){if(e!=null&&(e=""+Sn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Sn(n):""}function ET(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(B(92));if(Gl(r)){if(1<r.length)throw Error(B(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Sn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),ig(t)}function _o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var VD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function q1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||VD.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function TT(t,e,n){if(e!=null&&typeof e!="object")throw Error(B(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var a in e)r=e[a],e.hasOwnProperty(a)&&n[a]!==r&&q1(t,a,r)}else for(var i in e)e.hasOwnProperty(i)&&q1(t,i,e[i])}function t0(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ah(t){return zD.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function jr(){}var lg=null;function n0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hs=null,so=null;function H1(t){var e=Uo(t);if(e&&(t=e.stateNode)){var n=t[nn]||null;e:switch(t=e.stateNode,e.type){case"input":if(sg(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=r[nn]||null;if(!a)throw Error(B(90));sg(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&bT(r)}break e;case"textarea":wT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}}}var Bm=!1;function ST(t,e,n){if(Bm)return t(e,n);Bm=!0;try{var r=t(e);return r}finally{if(Bm=!1,(Hs!==null||so!==null)&&(xf(),Hs&&(e=Hs,t=so,so=Hs=null,H1(e),t)))for(e=0;e<t.length;e++)H1(t[e])}}function Sc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[nn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cg=!1;if(Gr)try{var jl={};Object.defineProperty(jl,"passive",{get:function(){cg=!0}}),window.addEventListener("test",jl,jl),window.removeEventListener("test",jl,jl)}catch{cg=!1}var Ca=null,r0=null,Nh=null;function AT(){if(Nh)return Nh;var t,e=r0,n=e.length,r,a="value"in Ca?Ca.value:Ca.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return Nh=a.slice(t,1<r?1-r:void 0)}function Ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ju(){return!0}function G1(){return!1}function rn(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ju:G1,this.isPropagationStopped=G1,this}return ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ju)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ju)},persist:function(){},isPersistent:Ju}),e}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=rn(ss),nu=ze({},ss,{view:0,detail:0}),BD=rn(nu),Fm,$m,Ml,hf=ze({},nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ml&&(Ml&&t.type==="mousemove"?(Fm=t.screenX-Ml.screenX,$m=t.screenY-Ml.screenY):$m=Fm=0,Ml=t),Fm)},movementY:function(t){return"movementY"in t?t.movementY:$m}}),Y1=rn(hf),FD=ze({},hf,{dataTransfer:0}),$D=rn(FD),qD=ze({},nu,{relatedTarget:0}),qm=rn(qD),HD=ze({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),GD=rn(HD),YD=ze({},ss,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),WD=rn(YD),KD=ze({},ss,{data:0}),W1=rn(KD),QD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JD[t])?!!e[t]:!1}function a0(){return ZD}var eO=ze({},nu,{key:function(t){if(t.key){var e=QD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(t){return t.type==="keypress"?Ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tO=rn(eO),nO=ze({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),K1=rn(nO),rO=ze({},nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),aO=rn(rO),iO=ze({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),sO=rn(iO),oO=ze({},hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lO=rn(oO),cO=ze({},ss,{newState:0,oldState:0}),uO=rn(cO),hO=[9,13,27,32],i0=Gr&&"CompositionEvent"in window,ic=null;Gr&&"documentMode"in document&&(ic=document.documentMode);var dO=Gr&&"TextEvent"in window&&!ic,NT=Gr&&(!i0||ic&&8<ic&&11>=ic),Q1=" ",X1=!1;function CT(t,e){switch(t){case"keyup":return hO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gs=!1;function fO(t,e){switch(t){case"compositionend":return RT(e);case"keypress":return e.which!==32?null:(X1=!0,Q1);case"textInput":return t=e.data,t===Q1&&X1?null:t;default:return null}}function mO(t,e){if(Gs)return t==="compositionend"||!i0&&CT(t,e)?(t=AT(),Nh=r0=Ca=null,Gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NT&&e.locale!=="ko"?null:e.data;default:return null}}var pO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pO[t.type]:e==="textarea"}function IT(t,e,n,r){Hs?so?so.push(r):so=[r]:Hs=r,e=wd(e,"onChange"),0<e.length&&(n=new uf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var sc=null,Ac=null;function gO(t){SA(t,0)}function df(t){var e=Yl(t);if(bT(e))return t}function Z1(t,e){if(t==="change")return e}var DT=!1;if(Gr){var Hm;if(Gr){var Gm="oninput"in document;if(!Gm){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),Gm=typeof eb.oninput=="function"}Hm=Gm}else Hm=!1;DT=Hm&&(!document.documentMode||9<document.documentMode)}function tb(){sc&&(sc.detachEvent("onpropertychange",OT),Ac=sc=null)}function OT(t){if(t.propertyName==="value"&&df(Ac)){var e=[];IT(e,Ac,t,n0(t)),ST(gO,e)}}function yO(t,e,n){t==="focusin"?(tb(),sc=e,Ac=n,sc.attachEvent("onpropertychange",OT)):t==="focusout"&&tb()}function vO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return df(Ac)}function _O(t,e){if(t==="click")return df(e)}function bO(t,e){if(t==="input"||t==="change")return df(e)}function xO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:xO;function Nc(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!rg.call(e,a)||!bn(t[a],e[a]))return!1}return!0}function nb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rb(t,e){var n=nb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nb(n)}}function kT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=ad(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ad(t.document)}return e}function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var wO=Gr&&"documentMode"in document&&11>=document.documentMode,Ys=null,ug=null,oc=null,hg=!1;function ab(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hg||Ys==null||Ys!==ad(r)||(r=Ys,"selectionStart"in r&&s0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oc&&Nc(oc,r)||(oc=r,r=wd(ug,"onSelect"),0<r.length&&(e=new uf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function Ri(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ws={animationend:Ri("Animation","AnimationEnd"),animationiteration:Ri("Animation","AnimationIteration"),animationstart:Ri("Animation","AnimationStart"),transitionrun:Ri("Transition","TransitionRun"),transitionstart:Ri("Transition","TransitionStart"),transitioncancel:Ri("Transition","TransitionCancel"),transitionend:Ri("Transition","TransitionEnd")},Ym={},MT={};Gr&&(MT=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function os(t){if(Ym[t])return Ym[t];if(!Ws[t])return t;var e=Ws[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MT)return Ym[t]=e[n];return t}var PT=os("animationend"),LT=os("animationiteration"),VT=os("animationstart"),EO=os("transitionrun"),TO=os("transitionstart"),SO=os("transitioncancel"),UT=os("transitionend"),zT=new Map,dg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dg.push("scrollEnd");function Xn(t,e){zT.set(t,e),is(e,[t])}var id=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Tn=[],Ks=0,o0=0;function ff(){for(var t=Ks,e=o0=Ks=0;e<t;){var n=Tn[e];Tn[e++]=null;var r=Tn[e];Tn[e++]=null;var a=Tn[e];Tn[e++]=null;var i=Tn[e];if(Tn[e++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}i!==0&&BT(n,a,i)}}function mf(t,e,n,r){Tn[Ks++]=t,Tn[Ks++]=e,Tn[Ks++]=n,Tn[Ks++]=r,o0|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function l0(t,e,n,r){return mf(t,e,n,r),sd(t)}function ls(t,e){return mf(t,null,null,e),sd(t)}function BT(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-yn(n),t=i.hiddenUpdates,r=t[a],r===null?t[a]=[e]:r.push(e),e.lane=n|536870912),i):null}function sd(t){if(50<gc)throw gc=0,kg=null,Error(B(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Qs={};function AO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new AO(t,e,n,r)}function c0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function FT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Rh(t,e,n,r,a,i){var s=0;if(r=t,typeof t=="function")c0(t)&&(s=1);else if(typeof t=="string")s=Dk(t,n,hr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Zp:return t=hn(31,n,e,a),t.elementType=Zp,t.lanes=i,t;case Fs:return zi(n.children,a,i,e);case oT:s=8,a|=24;break;case Qp:return t=hn(12,n,e,a|2),t.elementType=Qp,t.lanes=i,t;case Xp:return t=hn(13,n,e,a),t.elementType=Xp,t.lanes=i,t;case Jp:return t=hn(19,n,e,a),t.elementType=Jp,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kr:s=10;break e;case lT:s=9;break e;case Ky:s=11;break e;case Qy:s=14;break e;case ya:s=16,r=null;break e}s=29,n=Error(B(130,t===null?"null":typeof t,"")),r=null}return e=hn(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function zi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Wm(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function $T(t){var e=hn(18,null,null,0);return e.stateNode=t,e}function Km(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ib=new WeakMap;function Rn(t,e){if(typeof t=="object"&&t!==null){var n=ib.get(t);return n!==void 0?n:(e={value:t,source:e,stack:U1(e)},ib.set(t,e),e)}return{value:t,source:e,stack:U1(e)}}var Xs=[],Js=0,od=null,Cc=0,An=[],Nn=0,Wa=null,or=1,lr="";function Dr(t,e){Xs[Js++]=Cc,Xs[Js++]=od,od=t,Cc=e}function qT(t,e,n){An[Nn++]=or,An[Nn++]=lr,An[Nn++]=Wa,Wa=t;var r=or;t=lr;var a=32-yn(r)-1;r&=~(1<<a),n+=1;var i=32-yn(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,or=1<<32-yn(e)+a|n<<a|r,lr=i+t}else or=1<<i|n<<a|r,lr=t}function u0(t){t.return!==null&&(Dr(t,1),qT(t,1,0))}function h0(t){for(;t===od;)od=Xs[--Js],Xs[Js]=null,Cc=Xs[--Js],Xs[Js]=null;for(;t===Wa;)Wa=An[--Nn],An[Nn]=null,lr=An[--Nn],An[Nn]=null,or=An[--Nn],An[Nn]=null}function HT(t,e){An[Nn++]=or,An[Nn++]=lr,An[Nn++]=Wa,or=e.id,lr=e.overflow,Wa=t}var Ct=null,Ve=null,ye=!1,ja=null,In=!1,fg=Error(B(519));function Ka(t){var e=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Rc(Rn(e,t)),fg}function sb(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Nt]=t,e[nn]=r,n){case"dialog":he("cancel",e),he("close",e);break;case"iframe":case"object":case"embed":he("load",e);break;case"video":case"audio":for(n=0;n<kc.length;n++)he(kc[n],e);break;case"source":he("error",e);break;case"img":case"image":case"link":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"input":he("invalid",e),xT(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",e);break;case"textarea":he("invalid",e),ET(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||NA(e.textContent,n)?(r.popover!=null&&(he("beforetoggle",e),he("toggle",e)),r.onScroll!=null&&he("scroll",e),r.onScrollEnd!=null&&he("scrollend",e),r.onClick!=null&&(e.onclick=jr),e=!0):e=!1,e||Ka(t,!0)}function ob(t){for(Ct=t.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Ct=Ct.return}}function Rs(t){if(t!==Ct)return!1;if(!ye)return ob(t),ye=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Vg(t.type,t.memoizedProps)),n=!n),n&&Ve&&Ka(t),ob(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));Ve=Yb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));Ve=Yb(t)}else e===27?(e=Ve,oi(t.type)?(t=Fg,Fg=null,Ve=t):Ve=e):Ve=Ct?Mn(t.stateNode.nextSibling):null;return!0}function Wi(){Ve=Ct=null,ye=!1}function Qm(){var t=ja;return t!==null&&(Qt===null?Qt=t:Qt.push.apply(Qt,t),ja=null),t}function Rc(t){ja===null?ja=[t]:ja.push(t)}var mg=br(null),cs=null,Mr=null;function _a(t,e,n){je(mg,e._currentValue),e._currentValue=n}function zr(t){t._currentValue=mg.current,wt(mg)}function pg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gg(t,e,n,r){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=a;for(var u=0;u<e.length;u++)if(o.context===e[u]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),pg(i.return,n,t),r||(s=null);break e}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(B(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),pg(s,n,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function zo(t,e,n,r){t=null;for(var a=e,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(B(387));if(s=s.memoizedProps,s!==null){var o=a.type;bn(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===ed.current){if(s=a.alternate,s===null)throw Error(B(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Mc):t=[Mc])}a=a.return}t!==null&&gg(e,t,n,r),e.flags|=262144}function ld(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ki(t){cs=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dt(t){return GT(cs,t)}function Zu(t,e){return cs===null&&Ki(t),GT(t,e)}function GT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Mr===null){if(t===null)throw Error(B(308));Mr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Mr=Mr.next=e;return n}var NO=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},CO=gt.unstable_scheduleCallback,RO=gt.unstable_NormalPriority,lt={$$typeof:kr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function d0(){return{controller:new NO,data:new Map,refCount:0}}function ru(t){t.refCount--,t.refCount===0&&CO(RO,function(){t.controller.abort()})}var lc=null,yg=0,bo=0,oo=null;function IO(t,e){if(lc===null){var n=lc=[];yg=0,bo=L0(),oo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return yg++,e.then(lb,lb),e}function lb(){if(--yg===0&&lc!==null){oo!==null&&(oo.status="fulfilled");var t=lc;lc=null,bo=0,oo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function DO(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var cb=te.S;te.S=function(t,e){sA=pn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&IO(t,e),cb!==null&&cb(t,e)};var Bi=br(null);function f0(){var t=Bi.current;return t!==null?t:De.pooledCache}function Ih(t,e){e===null?je(Bi,Bi.current):je(Bi,e.pool)}function YT(){var t=f0();return t===null?null:{parent:lt._currentValue,pool:t}}var Bo=Error(B(460)),m0=Error(B(474)),pf=Error(B(542)),cd={then:function(){}};function ub(t){return t=t.status,t==="fulfilled"||t==="rejected"}function WT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(jr,jr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,db(t),t;default:if(typeof e.status=="string")e.then(jr,jr);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(B(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=r}},function(r){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,db(t),t}throw Fi=e,Bo}}function Oi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Fi=n,Bo):n}}var Fi=null;function hb(){if(Fi===null)throw Error(B(459));var t=Fi;return Fi=null,t}function db(t){if(t===Bo||t===pf)throw Error(B(483))}var lo=null,Ic=0;function eh(t){var e=Ic;return Ic+=1,lo===null&&(lo=[]),WT(lo,t,e)}function Pl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function th(t,e){throw e.$$typeof===yD?Error(B(525)):(t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function KT(t){function e(y,_){if(t){var x=y.deletions;x===null?(y.deletions=[_],y.flags|=16):x.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y){for(var _=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function a(y,_){return y=Ur(y,_),y.index=0,y.sibling=null,y}function i(y,_,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<_?(y.flags|=67108866,_):x):(y.flags|=67108866,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,_,x,D){return _===null||_.tag!==6?(_=Wm(x,y.mode,D),_.return=y,_):(_=a(_,x),_.return=y,_)}function u(y,_,x,D){var L=x.type;return L===Fs?d(y,_,x.props.children,D,x.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ya&&Oi(L)===_.type)?(_=a(_,x.props),Pl(_,x),_.return=y,_):(_=Rh(x.type,x.key,x.props,null,y.mode,D),Pl(_,x),_.return=y,_)}function h(y,_,x,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Km(x,y.mode,D),_.return=y,_):(_=a(_,x.children||[]),_.return=y,_)}function d(y,_,x,D,L){return _===null||_.tag!==7?(_=zi(x,y.mode,D,L),_.return=y,_):(_=a(_,x),_.return=y,_)}function m(y,_,x){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Wm(""+_,y.mode,x),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yu:return x=Rh(_.type,_.key,_.props,null,y.mode,x),Pl(x,_),x.return=y,x;case Hl:return _=Km(_,y.mode,x),_.return=y,_;case ya:return _=Oi(_),m(y,_,x)}if(Gl(_)||kl(_))return _=zi(_,y.mode,x,null),_.return=y,_;if(typeof _.then=="function")return m(y,eh(_),x);if(_.$$typeof===kr)return m(y,Zu(y,_),x);th(y,_)}return null}function p(y,_,x,D){var L=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return L!==null?null:o(y,_,""+x,D);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yu:return x.key===L?u(y,_,x,D):null;case Hl:return x.key===L?h(y,_,x,D):null;case ya:return x=Oi(x),p(y,_,x,D)}if(Gl(x)||kl(x))return L!==null?null:d(y,_,x,D,null);if(typeof x.then=="function")return p(y,_,eh(x),D);if(x.$$typeof===kr)return p(y,_,Zu(y,x),D);th(y,x)}return null}function v(y,_,x,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return y=y.get(x)||null,o(_,y,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Yu:return y=y.get(D.key===null?x:D.key)||null,u(_,y,D,L);case Hl:return y=y.get(D.key===null?x:D.key)||null,h(_,y,D,L);case ya:return D=Oi(D),v(y,_,x,D,L)}if(Gl(D)||kl(D))return y=y.get(x)||null,d(_,y,D,L,null);if(typeof D.then=="function")return v(y,_,x,eh(D),L);if(D.$$typeof===kr)return v(y,_,x,Zu(_,D),L);th(_,D)}return null}function S(y,_,x,D){for(var L=null,H=null,T=_,E=_=0,b=null;T!==null&&E<x.length;E++){T.index>E?(b=T,T=null):b=T.sibling;var C=p(y,T,x[E],D);if(C===null){T===null&&(T=b);break}t&&T&&C.alternate===null&&e(y,T),_=i(C,_,E),H===null?L=C:H.sibling=C,H=C,T=b}if(E===x.length)return n(y,T),ye&&Dr(y,E),L;if(T===null){for(;E<x.length;E++)T=m(y,x[E],D),T!==null&&(_=i(T,_,E),H===null?L=T:H.sibling=T,H=T);return ye&&Dr(y,E),L}for(T=r(T);E<x.length;E++)b=v(T,y,E,x[E],D),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?E:b.key),_=i(b,_,E),H===null?L=b:H.sibling=b,H=b);return t&&T.forEach(function(O){return e(y,O)}),ye&&Dr(y,E),L}function A(y,_,x,D){if(x==null)throw Error(B(151));for(var L=null,H=null,T=_,E=_=0,b=null,C=x.next();T!==null&&!C.done;E++,C=x.next()){T.index>E?(b=T,T=null):b=T.sibling;var O=p(y,T,C.value,D);if(O===null){T===null&&(T=b);break}t&&T&&O.alternate===null&&e(y,T),_=i(O,_,E),H===null?L=O:H.sibling=O,H=O,T=b}if(C.done)return n(y,T),ye&&Dr(y,E),L;if(T===null){for(;!C.done;E++,C=x.next())C=m(y,C.value,D),C!==null&&(_=i(C,_,E),H===null?L=C:H.sibling=C,H=C);return ye&&Dr(y,E),L}for(T=r(T);!C.done;E++,C=x.next())C=v(T,y,E,C.value,D),C!==null&&(t&&C.alternate!==null&&T.delete(C.key===null?E:C.key),_=i(C,_,E),H===null?L=C:H.sibling=C,H=C);return t&&T.forEach(function(k){return e(y,k)}),ye&&Dr(y,E),L}function N(y,_,x,D){if(typeof x=="object"&&x!==null&&x.type===Fs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yu:e:{for(var L=x.key;_!==null;){if(_.key===L){if(L=x.type,L===Fs){if(_.tag===7){n(y,_.sibling),D=a(_,x.props.children),D.return=y,y=D;break e}}else if(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ya&&Oi(L)===_.type){n(y,_.sibling),D=a(_,x.props),Pl(D,x),D.return=y,y=D;break e}n(y,_);break}else e(y,_);_=_.sibling}x.type===Fs?(D=zi(x.props.children,y.mode,D,x.key),D.return=y,y=D):(D=Rh(x.type,x.key,x.props,null,y.mode,D),Pl(D,x),D.return=y,y=D)}return s(y);case Hl:e:{for(L=x.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(y,_.sibling),D=a(_,x.children||[]),D.return=y,y=D;break e}else{n(y,_);break}else e(y,_);_=_.sibling}D=Km(x,y.mode,D),D.return=y,y=D}return s(y);case ya:return x=Oi(x),N(y,_,x,D)}if(Gl(x))return S(y,_,x,D);if(kl(x)){if(L=kl(x),typeof L!="function")throw Error(B(150));return x=L.call(x),A(y,_,x,D)}if(typeof x.then=="function")return N(y,_,eh(x),D);if(x.$$typeof===kr)return N(y,_,Zu(y,x),D);th(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,_!==null&&_.tag===6?(n(y,_.sibling),D=a(_,x),D.return=y,y=D):(n(y,_),D=Wm(x,y.mode,D),D.return=y,y=D),s(y)):n(y,_)}return function(y,_,x,D){try{Ic=0;var L=N(y,_,x,D);return lo=null,L}catch(T){if(T===Bo||T===pf)throw T;var H=hn(29,T,null,y.mode);return H.lanes=D,H.return=y,H}finally{}}}var Qi=KT(!0),QT=KT(!1),va=!1;function p0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ma(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,e=sd(t),BT(t,null,n),e}return mf(t,r,e,n),sd(t)}function cc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mT(t,n)}}function Xm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var _g=!1;function uc(){if(_g){var t=oo;if(t!==null)throw t}}function hc(t,e,n,r){_g=!1;var a=t.updateQueue;va=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,s===null?i=h:s.next=h,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=u))}if(i!==null){var m=a.baseState;s=0,d=h=u=null,o=i;do{var p=o.lane&-536870913,v=p!==o.lane;if(v?(ge&p)===p:(r&p)===p){p!==0&&p===bo&&(_g=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,A=o;p=e;var N=n;switch(A.tag){case 1:if(S=A.payload,typeof S=="function"){m=S.call(N,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,p=typeof S=="function"?S.call(N,m,p):S,p==null)break e;m=ze({},m,p);break e;case 2:va=!0}}p=o.callback,p!==null&&(t.flags|=64,v&&(t.flags|=8192),v=a.callbacks,v===null?a.callbacks=[p]:v.push(p))}else v={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=v,u=m):d=d.next=v,s|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;v=o,o=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);d===null&&(u=m),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Xa|=s,t.lanes=s,t.memoizedState=m}}function XT(t,e){if(typeof t!="function")throw Error(B(191,t));t.call(e)}function JT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)XT(n[t],e)}var xo=br(null),ud=br(0);function fb(t,e){t=Qr,je(ud,t),je(xo,e),Qr=t|e.baseLanes}function bg(){je(ud,Qr),je(xo,xo.current)}function g0(){Qr=ud.current,wt(xo),wt(ud)}var xn=br(null),jn=null;function ba(t){var e=t.alternate;je(tt,tt.current&1),je(xn,t),jn===null&&(e===null||xo.current!==null||e.memoizedState!==null)&&(jn=t)}function xg(t){je(tt,tt.current),je(xn,t),jn===null&&(jn=t)}function ZT(t){t.tag===22?(je(tt,tt.current),je(xn,t),jn===null&&(jn=t)):xa()}function xa(){je(tt,tt.current),je(xn,xn.current)}function un(t){wt(xn),jn===t&&(jn=null),wt(tt)}var tt=br(0);function hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||zg(n)||Bg(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yr=0,oe=null,Re=null,st=null,dd=!1,co=!1,Xi=!1,fd=0,Dc=0,uo=null,OO=0;function Je(){throw Error(B(321))}function y0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function v0(t,e,n,r,a,i){return Yr=i,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,te.H=t===null||t.memoizedState===null?IS:R0,Xi=!1,i=n(r,a),Xi=!1,co&&(i=tS(e,n,r,a)),eS(t),i}function eS(t){te.H=Oc;var e=Re!==null&&Re.next!==null;if(Yr=0,st=Re=oe=null,dd=!1,Dc=0,uo=null,e)throw Error(B(300));t===null||ut||(t=t.dependencies,t!==null&&ld(t)&&(ut=!0))}function tS(t,e,n,r){oe=t;var a=0;do{if(co&&(uo=null),Dc=0,co=!1,25<=a)throw Error(B(301));if(a+=1,st=Re=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}te.H=DS,i=e(n,r)}while(co);return i}function kO(){var t=te.H,e=t.useState()[0];return e=typeof e.then=="function"?au(e):e,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(oe.flags|=1024),e}function _0(){var t=fd!==0;return fd=0,t}function b0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function x0(t){if(dd){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}dd=!1}Yr=0,st=Re=oe=null,co=!1,Dc=fd=0,uo=null}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?oe.memoizedState=st=t:st=st.next=t,st}function rt(){if(Re===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=st===null?oe.memoizedState:st.next;if(e!==null)st=e,Re=t;else{if(t===null)throw oe.alternate===null?Error(B(467)):Error(B(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},st===null?oe.memoizedState=st=t:st=st.next=t}return st}function gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function au(t){var e=Dc;return Dc+=1,uo===null&&(uo=[]),t=WT(uo,t,e),e=oe,(st===null?e.memoizedState:st.next)===null&&(e=e.alternate,te.H=e===null||e.memoizedState===null?IS:R0),t}function yf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return au(t);if(t.$$typeof===kr)return Dt(t)}throw Error(B(438,String(t)))}function w0(t){var e=null,n=oe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=oe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=gf(),oe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=vD;return e.index++,n}function Wr(t,e){return typeof e=="function"?e(t):e}function Dh(t){var e=rt();return E0(e,Re,t)}function E0(t,e,n){var r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=n;var a=t.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,r.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,u=null,h=e,d=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(ge&m)===m:(Yr&m)===m){var p=h.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===bo&&(d=!0);else if((Yr&p)===p){h=h.next,p===bo&&(d=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=m,s=i):u=u.next=m,oe.lanes|=p,Xa|=p;m=h.action,Xi&&n(i,m),i=h.hasEagerState?h.eagerState:n(i,m)}else p={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,s=i):u=u.next=p,oe.lanes|=m,Xa|=m;h=h.next}while(h!==null&&h!==e);if(u===null?s=i:u.next=o,!bn(i,t.memoizedState)&&(ut=!0,d&&(n=oo,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=u,r.lastRenderedState=i}return a===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Jm(t){var e=rt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);bn(i,e.memoizedState)||(ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nS(t,e,n){var r=oe,a=rt(),i=ye;if(i){if(n===void 0)throw Error(B(407));n=n()}else n=e();var s=!bn((Re||a).memoizedState,n);if(s&&(a.memoizedState=n,ut=!0),a=a.queue,T0(iS.bind(null,r,a,t),[t]),a.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,wo(9,{destroy:void 0},aS.bind(null,r,a,n,e),null),De===null)throw Error(B(349));i||Yr&127||rS(r,e,n)}return n}function rS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=oe.updateQueue,e===null?(e=gf(),oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aS(t,e,n,r){e.value=n,e.getSnapshot=r,sS(e)&&oS(t)}function iS(t,e,n){return n(function(){sS(e)&&oS(t)})}function sS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function oS(t){var e=ls(t,2);e!==null&&en(e,t,2)}function wg(t){var e=Bt();if(typeof t=="function"){var n=t;if(t=n(),Xi){Na(!0);try{n()}finally{Na(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},e}function lS(t,e,n,r){return t.baseState=n,E0(t,Re,typeof r=="function"?r:Wr)}function jO(t,e,n,r,a){if(_f(t))throw Error(B(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};te.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,cS(e,i)):(i.next=n.next,e.pending=n.next=i)}}function cS(t,e){var n=e.action,r=e.payload,a=t.state;if(e.isTransition){var i=te.T,s={};te.T=s;try{var o=n(a,r),u=te.S;u!==null&&u(s,o),mb(t,e,o)}catch(h){Eg(t,e,h)}finally{i!==null&&s.types!==null&&(i.types=s.types),te.T=i}}else try{i=n(a,r),mb(t,e,i)}catch(h){Eg(t,e,h)}}function mb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){pb(t,e,r)},function(r){return Eg(t,e,r)}):pb(t,e,n)}function pb(t,e,n){e.status="fulfilled",e.value=n,uS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cS(t,n)))}function Eg(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,uS(e),e=e.next;while(e!==r)}t.action=null}function uS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function hS(t,e){return e}function gb(t,e){if(ye){var n=De.formState;if(n!==null){e:{var r=oe;if(ye){if(Ve){t:{for(var a=Ve,i=In;a.nodeType!==8;){if(!i){a=null;break t}if(a=Mn(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ve=Mn(a.nextSibling),r=a.data==="F!";break e}}Ka(r)}r=!1}r&&(e=n[0])}}return n=Bt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hS,lastRenderedState:e},n.queue=r,n=NS.bind(null,oe,r),r.dispatch=n,r=wg(!1),i=C0.bind(null,oe,!1,r.queue),r=Bt(),a={state:e,dispatch:null,action:t,pending:null},r.queue=a,n=jO.bind(null,oe,a,i,n),a.dispatch=n,r.memoizedState=t,[e,n,!1]}function yb(t){var e=rt();return dS(e,Re,t)}function dS(t,e,n){if(e=E0(t,e,hS)[0],t=Dh(Wr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=au(e)}catch(s){throw s===Bo?pf:s}else r=e;e=rt();var a=e.queue,i=a.dispatch;return n!==e.memoizedState&&(oe.flags|=2048,wo(9,{destroy:void 0},MO.bind(null,a,n),null)),[r,i,t]}function MO(t,e){t.action=e}function vb(t){var e=rt(),n=Re;if(n!==null)return dS(e,n,t);rt(),e=e.memoizedState,n=rt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function wo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=oe.updateQueue,e===null&&(e=gf(),oe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function fS(){return rt().memoizedState}function Oh(t,e,n,r){var a=Bt();oe.flags|=t,a.memoizedState=wo(1|e,{destroy:void 0},n,r===void 0?null:r)}function vf(t,e,n,r){var a=rt();r=r===void 0?null:r;var i=a.memoizedState.inst;Re!==null&&r!==null&&y0(r,Re.memoizedState.deps)?a.memoizedState=wo(e,i,n,r):(oe.flags|=t,a.memoizedState=wo(1|e,i,n,r))}function _b(t,e){Oh(8390656,8,t,e)}function T0(t,e){vf(2048,8,t,e)}function PO(t){oe.flags|=4;var e=oe.updateQueue;if(e===null)e=gf(),oe.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function mS(t){var e=rt().memoizedState;return PO({ref:e,nextImpl:t}),function(){if(xe&2)throw Error(B(440));return e.impl.apply(void 0,arguments)}}function pS(t,e){return vf(4,2,t,e)}function gS(t,e){return vf(4,4,t,e)}function yS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vS(t,e,n){n=n!=null?n.concat([t]):null,vf(4,4,yS.bind(null,e,t),n)}function S0(){}function _S(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&y0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bS(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&y0(e,r[1]))return r[0];if(r=t(),Xi){Na(!0);try{t()}finally{Na(!1)}}return n.memoizedState=[r,e],r}function A0(t,e,n){return n===void 0||Yr&1073741824&&!(ge&261930)?t.memoizedState=e:(t.memoizedState=n,t=lA(),oe.lanes|=t,Xa|=t,n)}function xS(t,e,n,r){return bn(n,e)?n:xo.current!==null?(t=A0(t,n,r),bn(t,e)||(ut=!0),t):!(Yr&42)||Yr&1073741824&&!(ge&261930)?(ut=!0,t.memoizedState=n):(t=lA(),oe.lanes|=t,Xa|=t,e)}function wS(t,e,n,r,a){var i=we.p;we.p=i!==0&&8>i?i:8;var s=te.T,o={};te.T=o,C0(t,!1,e,n);try{var u=a(),h=te.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=DO(u,r);dc(t,e,d,vn(t))}else dc(t,e,r,vn(t))}catch(m){dc(t,e,{then:function(){},status:"rejected",reason:m},vn())}finally{we.p=i,s!==null&&o.types!==null&&(s.types=o.types),te.T=s}}function LO(){}function Tg(t,e,n,r){if(t.tag!==5)throw Error(B(476));var a=ES(t).queue;wS(t,a,e,Ui,n===null?LO:function(){return TS(t),n(r)})}function ES(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ui,baseState:Ui,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:Ui},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function TS(t){var e=ES(t);e.next===null&&(e=t.alternate.memoizedState),dc(t,e.next.queue,{},vn())}function N0(){return Dt(Mc)}function SS(){return rt().memoizedState}function AS(){return rt().memoizedState}function VO(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=vn();t=Ma(n);var r=Pa(e,t,n);r!==null&&(en(r,e,n),cc(r,e,n)),e={cache:d0()},t.payload=e;return}e=e.return}}function UO(t,e,n){var r=vn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_f(t)?CS(e,n):(n=l0(t,e,n,r),n!==null&&(en(n,t,r),RS(n,e,r)))}function NS(t,e,n){var r=vn();dc(t,e,n,r)}function dc(t,e,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_f(t))CS(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,bn(o,s))return mf(t,e,a,0),De===null&&ff(),!1}catch{}finally{}if(n=l0(t,e,a,r),n!==null)return en(n,t,r),RS(n,e,r),!0}return!1}function C0(t,e,n,r){if(r={lane:2,revertLane:L0(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_f(t)){if(e)throw Error(B(479))}else e=l0(t,n,r,2),e!==null&&en(e,t,2)}function _f(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function CS(t,e){co=dd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RS(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mT(t,n)}}var Oc={readContext:Dt,use:yf,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};Oc.useEffectEvent=Je;var IS={readContext:Dt,use:yf,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:_b,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Oh(4194308,4,yS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oh(4194308,4,t,e)},useInsertionEffect:function(t,e){Oh(4,2,t,e)},useMemo:function(t,e){var n=Bt();e=e===void 0?null:e;var r=t();if(Xi){Na(!0);try{t()}finally{Na(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Bt();if(n!==void 0){var a=n(e);if(Xi){Na(!0);try{n(e)}finally{Na(!1)}}}else a=e;return r.memoizedState=r.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},r.queue=t,t=t.dispatch=UO.bind(null,oe,t),[r.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:function(t){t=wg(t);var e=t.queue,n=NS.bind(null,oe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:S0,useDeferredValue:function(t,e){var n=Bt();return A0(n,t,e)},useTransition:function(){var t=wg(!1);return t=wS.bind(null,oe,t.queue,!0,!1),Bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=oe,a=Bt();if(ye){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),De===null)throw Error(B(349));ge&127||rS(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,_b(iS.bind(null,r,i,t),[t]),r.flags|=2048,wo(9,{destroy:void 0},aS.bind(null,r,i,n,e),null),n},useId:function(){var t=Bt(),e=De.identifierPrefix;if(ye){var n=lr,r=or;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=fd++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=OO++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:N0,useFormState:gb,useActionState:gb,useOptimistic:function(t){var e=Bt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=C0.bind(null,oe,!0,n),n.dispatch=e,[t,e]},useMemoCache:w0,useCacheRefresh:function(){return Bt().memoizedState=VO.bind(null,oe)},useEffectEvent:function(t){var e=Bt(),n={impl:t};return e.memoizedState=n,function(){if(xe&2)throw Error(B(440));return n.impl.apply(void 0,arguments)}}},R0={readContext:Dt,use:yf,useCallback:_S,useContext:Dt,useEffect:T0,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:Dh,useRef:fS,useState:function(){return Dh(Wr)},useDebugValue:S0,useDeferredValue:function(t,e){var n=rt();return xS(n,Re.memoizedState,t,e)},useTransition:function(){var t=Dh(Wr)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:au(t),e]},useSyncExternalStore:nS,useId:SS,useHostTransitionStatus:N0,useFormState:yb,useActionState:yb,useOptimistic:function(t,e){var n=rt();return lS(n,Re,t,e)},useMemoCache:w0,useCacheRefresh:AS};R0.useEffectEvent=mS;var DS={readContext:Dt,use:yf,useCallback:_S,useContext:Dt,useEffect:T0,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:Jm,useRef:fS,useState:function(){return Jm(Wr)},useDebugValue:S0,useDeferredValue:function(t,e){var n=rt();return Re===null?A0(n,t,e):xS(n,Re.memoizedState,t,e)},useTransition:function(){var t=Jm(Wr)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:au(t),e]},useSyncExternalStore:nS,useId:SS,useHostTransitionStatus:N0,useFormState:vb,useActionState:vb,useOptimistic:function(t,e){var n=rt();return Re!==null?lS(n,Re,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:w0,useCacheRefresh:AS};DS.useEffectEvent=mS;function Zm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sg={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),a=Ma(r);a.payload=e,n!=null&&(a.callback=n),e=Pa(t,a,r),e!==null&&(en(e,t,r),cc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),a=Ma(r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Pa(t,a,r),e!==null&&(en(e,t,r),cc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=Ma(n);r.tag=2,e!=null&&(r.callback=e),e=Pa(t,r,n),e!==null&&(en(e,t,n),cc(e,t,n))}};function bb(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Nc(n,r)||!Nc(a,i):!0}function xb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sg.enqueueReplaceState(e,e.state,null)}function Ji(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=ze({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function OS(t){id(t)}function kS(t){console.error(t)}function jS(t){id(t)}function md(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function wb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Ag(t,e,n){return n=Ma(n),n.tag=3,n.payload={element:null},n.callback=function(){md(t,e)},n}function MS(t){return t=Ma(t),t.tag=3,t}function PS(t,e,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;t.payload=function(){return a(i)},t.callback=function(){wb(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){wb(e,n,r),typeof a!="function"&&(La===null?La=new Set([this]):La.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function zO(t,e,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&zo(e,n,a,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return jn===null?_d():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===cd?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),up(t,r,a)),!1;case 22:return n.flags|=65536,r===cd?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),up(t,r,a)),!1}throw Error(B(435,n.tag))}return up(t,r,a),_d(),!1}if(ye)return e=xn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,r!==fg&&(t=Error(B(422),{cause:r}),Rc(Rn(t,n)))):(r!==fg&&(e=Error(B(423),{cause:r}),Rc(Rn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,r=Rn(r,n),a=Ag(t.stateNode,r,a),Xm(t,a),Ze!==4&&(Ze=2)),!1;var i=Error(B(520),{cause:r});if(i=Rn(i,n),pc===null?pc=[i]:pc.push(i),Ze!==4&&(Ze=2),e===null)return!0;r=Rn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=Ag(n.stateNode,r,t),Xm(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(La===null||!La.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=MS(a),PS(a,t,n,r),Xm(n,a),!1}n=n.return}while(n!==null);return!1}var I0=Error(B(461)),ut=!1;function St(t,e,n,r){e.child=t===null?QT(e,null,n,r):Qi(e,t.child,n,r)}function Eb(t,e,n,r,a){n=n.render;var i=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Ki(e),r=v0(t,e,n,s,i,a),o=_0(),t!==null&&!ut?(b0(t,e,a),Kr(t,e,a)):(ye&&o&&u0(e),e.flags|=1,St(t,e,r,a),e.child)}function Tb(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!c0(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,LS(t,e,i,r,a)):(t=Rh(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!D0(t,a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nc,n(s,r)&&t.ref===e.ref)return Kr(t,e,a)}return e.flags|=1,t=Ur(i,r),t.ref=e.ref,t.return=e,e.child=t}function LS(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(Nc(i,r)&&t.ref===e.ref)if(ut=!1,e.pendingProps=r=i,D0(t,a))t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,Kr(t,e,a)}return Ng(t,e,n,r,a)}function VS(t,e,n,r){var a=r.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,e.child=null;return Sb(t,e,i,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ih(e,i!==null?i.cachePool:null),i!==null?fb(e,i):bg(),ZT(e);else return r=e.lanes=536870912,Sb(t,e,i!==null?i.baseLanes|n:n,n,r)}else i!==null?(Ih(e,i.cachePool),fb(e,i),xa(),e.memoizedState=null):(t!==null&&Ih(e,null),bg(),xa());return St(t,e,a,n),e.child}function Wl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Sb(t,e,n,r,a){var i=f0();return i=i===null?null:{parent:lt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Ih(e,null),bg(),ZT(e),t!==null&&zo(t,e,r,!0),e.childLanes=a,null}function kh(t,e){return e=pd({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ab(t,e,n){return Qi(e,t.child,null,n),t=kh(e,e.pendingProps),t.flags|=2,un(e),e.memoizedState=null,t}function BO(t,e,n){var r=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ye){if(r.mode==="hidden")return t=kh(e,r),e.lanes=536870912,Wl(null,t);if(xg(e),(t=Ve)?(t=IA(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wa!==null?{id:or,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},n=$T(t),n.return=e,e.child=n,Ct=e,Ve=null)):t=null,t===null)throw Ka(e);return e.lanes=536870912,null}return kh(e,r)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(xg(e),a)if(e.flags&256)e.flags&=-257,e=Ab(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(B(558));else if(ut||zo(t,e,n,!1),a=(n&t.childLanes)!==0,ut||a){if(r=De,r!==null&&(s=pT(r,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,ls(t,s),en(r,t,s),I0;_d(),e=Ab(t,e,n)}else t=i.treeContext,Ve=Mn(s.nextSibling),Ct=e,ye=!0,ja=null,In=!1,t!==null&&HT(e,t),e=kh(e,r),e.flags|=4096;return e}return t=Ur(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function jh(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(B(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ng(t,e,n,r,a){return Ki(e),n=v0(t,e,n,r,void 0,a),r=_0(),t!==null&&!ut?(b0(t,e,a),Kr(t,e,a)):(ye&&r&&u0(e),e.flags|=1,St(t,e,n,a),e.child)}function Nb(t,e,n,r,a,i){return Ki(e),e.updateQueue=null,n=tS(e,r,n,a),eS(t),r=_0(),t!==null&&!ut?(b0(t,e,i),Kr(t,e,i)):(ye&&r&&u0(e),e.flags|=1,St(t,e,n,i),e.child)}function Cb(t,e,n,r,a){if(Ki(e),e.stateNode===null){var i=Qs,s=n.contextType;typeof s=="object"&&s!==null&&(i=Dt(s)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sg,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},p0(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?Dt(s):Qs,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Zm(e,n,s,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Sg.enqueueReplaceState(i,i.state,null),hc(e,r,i,a),uc(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,u=Ji(n,o);i.props=u;var h=i.context,d=n.contextType;s=Qs,typeof d=="object"&&d!==null&&(s=Dt(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||h!==s)&&xb(e,i,r,s),va=!1;var p=e.memoizedState;i.state=p,hc(e,r,i,a),uc(),h=e.memoizedState,o||p!==h||va?(typeof m=="function"&&(Zm(e,n,m,r),h=e.memoizedState),(u=va||bb(e,n,u,r,p,h,s))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),i.props=r,i.state=h,i.context=s,r=u):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,vg(t,e),s=e.memoizedProps,d=Ji(n,s),i.props=d,m=e.pendingProps,p=i.context,h=n.contextType,u=Qs,typeof h=="object"&&h!==null&&(u=Dt(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==m||p!==u)&&xb(e,i,r,u),va=!1,p=e.memoizedState,i.state=p,hc(e,r,i,a),uc();var v=e.memoizedState;s!==m||p!==v||va||t!==null&&t.dependencies!==null&&ld(t.dependencies)?(typeof o=="function"&&(Zm(e,n,o,r),v=e.memoizedState),(d=va||bb(e,n,d,r,p,v,u)||t!==null&&t.dependencies!==null&&ld(t.dependencies))?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),i.props=r,i.state=v,i.context=u,r=d):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,jh(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=Qi(e,t.child,null,a),e.child=Qi(e,null,n,a)):St(t,e,n,a),e.memoizedState=i.state,t=e.child):t=Kr(t,e,a),t}function Rb(t,e,n,r){return Wi(),e.flags|=256,St(t,e,n,r),e.child}var ep={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tp(t){return{baseLanes:t,cachePool:YT()}}function np(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=fn),t}function US(t,e,n){var r=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(tt.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ye){if(a?ba(e):xa(),(t=Ve)?(t=IA(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wa!==null?{id:or,overflow:lr}:null,retryLane:536870912,hydrationErrors:null},n=$T(t),n.return=e,e.child=n,Ct=e,Ve=null)):t=null,t===null)throw Ka(e);return Bg(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,a?(xa(),a=e.mode,o=pd({mode:"hidden",children:o},a),r=zi(r,a,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=tp(n),r.childLanes=np(t,s,n),e.memoizedState=ep,Wl(null,r)):(ba(e),Cg(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(i)e.flags&256?(ba(e),e.flags&=-257,e=rp(t,e,n)):e.memoizedState!==null?(xa(),e.child=t.child,e.flags|=128,e=null):(xa(),o=r.fallback,a=e.mode,r=pd({mode:"visible",children:r.children},a),o=zi(o,a,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Qi(e,t.child,null,n),r=e.child,r.memoizedState=tp(n),r.childLanes=np(t,s,n),e.memoizedState=ep,e=Wl(null,r));else if(ba(e),Bg(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,r=Error(B(419)),r.stack="",r.digest=s,Rc({value:r,source:null,stack:null}),e=rp(t,e,n)}else if(ut||zo(t,e,n,!1),s=(n&t.childLanes)!==0,ut||s){if(s=De,s!==null&&(r=pT(s,n),r!==0&&r!==u.retryLane))throw u.retryLane=r,ls(t,r),en(s,t,r),I0;zg(o)||_d(),e=rp(t,e,n)}else zg(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Ve=Mn(o.nextSibling),Ct=e,ye=!0,ja=null,In=!1,t!==null&&HT(e,t),e=Cg(e,r.children),e.flags|=4096);return e}return a?(xa(),o=r.fallback,a=e.mode,u=t.child,h=u.sibling,r=Ur(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Ur(h,o):(o=zi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,Wl(null,r),r=e.child,o=t.child.memoizedState,o===null?o=tp(n):(a=o.cachePool,a!==null?(u=lt._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=YT(),o={baseLanes:o.baseLanes|n,cachePool:a}),r.memoizedState=o,r.childLanes=np(t,s,n),e.memoizedState=ep,Wl(t.child,r)):(ba(e),n=t.child,t=n.sibling,n=Ur(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Cg(t,e){return e=pd({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function pd(t,e){return t=hn(22,t,null,e),t.lanes=0,t}function rp(t,e,n){return Qi(e,t.child,null,n),t=Cg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ib(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),pg(t.return,e,n)}function ap(t,e,n,r,a,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a,s.treeForkCount=i)}function zS(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var s=tt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,je(tt,s),St(t,e,r,n),r=ye?Cc:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ib(t,n,e);else if(t.tag===19)Ib(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&hd(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),ap(e,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&hd(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}ap(e,!0,n,null,i,r);break;case"together":ap(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(n&e.childLanes))if(t!==null){if(zo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function D0(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ld(t)))}function FO(t,e,n){switch(e.tag){case 3:td(e,e.stateNode.containerInfo),_a(e,lt,t.memoizedState.cache),Wi();break;case 27:case 5:ng(e);break;case 4:td(e,e.stateNode.containerInfo);break;case 10:_a(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,xg(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(ba(e),e.flags|=128,null):n&e.child.childLanes?US(t,e,n):(ba(e),t=Kr(t,e,n),t!==null?t.sibling:null);ba(e);break;case 19:var a=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(zo(t,e,n,!1),r=(n&e.childLanes)!==0),a){if(r)return zS(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),je(tt,tt.current),r)break;return null;case 22:return e.lanes=0,VS(t,e,n,e.pendingProps);case 24:_a(e,lt,t.memoizedState.cache)}return Kr(t,e,n)}function BS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ut=!0;else{if(!D0(t,n)&&!(e.flags&128))return ut=!1,FO(t,e,n);ut=!!(t.flags&131072)}else ut=!1,ye&&e.flags&1048576&&qT(e,Cc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Oi(e.elementType),e.type=t,typeof t=="function")c0(t)?(r=Ji(t,r),e.tag=1,e=Cb(null,e,t,r,n)):(e.tag=0,e=Ng(null,e,t,r,n));else{if(t!=null){var a=t.$$typeof;if(a===Ky){e.tag=11,e=Eb(null,e,t,r,n);break e}else if(a===Qy){e.tag=14,e=Tb(null,e,t,r,n);break e}}throw e=eg(t)||t,Error(B(306,e,""))}}return e;case 0:return Ng(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,a=Ji(r,e.pendingProps),Cb(t,e,r,a,n);case 3:e:{if(td(e,e.stateNode.containerInfo),t===null)throw Error(B(387));r=e.pendingProps;var i=e.memoizedState;a=i.element,vg(t,e),hc(e,r,null,n);var s=e.memoizedState;if(r=s.cache,_a(e,lt,r),r!==i.cache&&gg(e,[lt],n,!0),uc(),r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Rb(t,e,r,n);break e}else if(r!==a){a=Rn(Error(B(424)),e),Rc(a),e=Rb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Mn(t.firstChild),Ct=e,ye=!0,ja=null,In=!0,n=QT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Wi(),r===a){e=Kr(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 26:return jh(t,e),t===null?(n=Qb(e.type,null,e.pendingProps,null))?e.memoizedState=n:ye||(n=e.type,t=e.pendingProps,r=Ed(ka.current).createElement(n),r[Nt]=e,r[nn]=t,Ot(r,n,t),xt(r),e.stateNode=r):e.memoizedState=Qb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ng(e),t===null&&ye&&(r=e.stateNode=DA(e.type,e.pendingProps,ka.current),Ct=e,In=!0,a=Ve,oi(e.type)?(Fg=a,Ve=Mn(r.firstChild)):Ve=a),St(t,e,e.pendingProps.children,n),jh(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ye&&((a=r=Ve)&&(r=vk(r,e.type,e.pendingProps,In),r!==null?(e.stateNode=r,Ct=e,Ve=Mn(r.firstChild),In=!1,a=!0):a=!1),a||Ka(e)),ng(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,r=i.children,Vg(a,i)?r=null:s!==null&&Vg(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=v0(t,e,kO,null,null,n),Mc._currentValue=a),jh(t,e),St(t,e,r,n),e.child;case 6:return t===null&&ye&&((t=n=Ve)&&(n=_k(n,e.pendingProps,In),n!==null?(e.stateNode=n,Ct=e,Ve=null,t=!0):t=!1),t||Ka(e)),null;case 13:return US(t,e,n);case 4:return td(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qi(e,null,r,n):St(t,e,r,n),e.child;case 11:return Eb(t,e,e.type,e.pendingProps,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,_a(e,e.type,r.value),St(t,e,r.children,n),e.child;case 9:return a=e.type._context,r=e.pendingProps.children,Ki(e),a=Dt(a),r=r(a),e.flags|=1,St(t,e,r,n),e.child;case 14:return Tb(t,e,e.type,e.pendingProps,n);case 15:return LS(t,e,e.type,e.pendingProps,n);case 19:return zS(t,e,n);case 31:return BO(t,e,n);case 22:return VS(t,e,n,e.pendingProps);case 24:return Ki(e),r=Dt(lt),t===null?(a=f0(),a===null&&(a=De,i=d0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),e.memoizedState={parent:r,cache:a},p0(e),_a(e,lt,a)):(t.lanes&n&&(vg(t,e),hc(e,null,null,n),uc()),a=t.memoizedState,i=e.memoizedState,a.parent!==r?(a={parent:r,cache:r},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),_a(e,lt,r)):(r=i.cache,_a(e,lt,r),r!==a.cache&&gg(e,[lt],n,!0))),St(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(B(156,e.tag))}function Nr(t){t.flags|=4}function ip(t,e,n,r,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(hA())t.flags|=8192;else throw Fi=cd,m0}else t.flags&=-16777217}function Db(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!jA(e))if(hA())t.flags|=8192;else throw Fi=cd,m0}function nh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?dT():536870912,t.lanes|=e,Eo|=e)}function Ll(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $O(t,e,n){var r=e.pendingProps;switch(h0(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return Le(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),zr(lt),yo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Rs(e)?Nr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qm())),Le(e),null;case 26:var a=e.type,i=e.memoizedState;return t===null?(Nr(e),i!==null?(Le(e),Db(e,i)):(Le(e),ip(e,a,null,r,n))):i?i!==t.memoizedState?(Nr(e),Le(e),Db(e,i)):(Le(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Nr(e),Le(e),ip(e,a,t,r,n)),null;case 27:if(nd(e),n=ka.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Nr(e);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Le(e),null}t=hr.current,Rs(e)?sb(e):(t=DA(a,r,n),e.stateNode=t,Nr(e))}return Le(e),null;case 5:if(nd(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Nr(e);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Le(e),null}if(i=hr.current,Rs(e))sb(e);else{var s=Ed(ka.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i=typeof r.is=="string"?s.createElement(a,{is:r.is}):s.createElement(a)}}i[Nt]=e,i[nn]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;e:switch(Ot(i,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Nr(e)}}return Le(e),ip(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Nr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(t=ka.current,Rs(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,a=Ct,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}t[Nt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||NA(t.nodeValue,n)),t||Ka(e,!0)}else t=Ed(t).createTextNode(r),t[Nt]=e,e.stateNode=t}return Le(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Rs(e),n!==null){if(t===null){if(!r)throw Error(B(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(557));t[Nt]=e}else Wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),t=!1}else n=Qm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(un(e),e):(un(e),null);if(e.flags&128)throw Error(B(558))}return Le(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Rs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(B(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[Nt]=e}else Wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),a=!1}else a=Qm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(un(e),e):(un(e),null)}return un(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),nh(e,e.updateQueue),Le(e),null);case 4:return yo(),t===null&&V0(e.stateNode.containerInfo),Le(e),null;case 10:return zr(e.type),Le(e),null;case 19:if(wt(tt),r=e.memoizedState,r===null)return Le(e),null;if(a=(e.flags&128)!==0,i=r.rendering,i===null)if(a)Ll(r,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=hd(t),i!==null){for(e.flags|=128,Ll(r,!1),t=i.updateQueue,e.updateQueue=t,nh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)FT(n,t),n=n.sibling;return je(tt,tt.current&1|2),ye&&Dr(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&pn()>yd&&(e.flags|=128,a=!0,Ll(r,!1),e.lanes=4194304)}else{if(!a)if(t=hd(i),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,nh(e,t),Ll(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!ye)return Le(e),null}else 2*pn()-r.renderingStartTime>yd&&n!==536870912&&(e.flags|=128,a=!0,Ll(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=pn(),t.sibling=null,n=tt.current,je(tt,a?n&1|2:n&1),ye&&Dr(e,r.treeForkCount),t):(Le(e),null);case 22:case 23:return un(e),g0(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),n=e.updateQueue,n!==null&&nh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&wt(Bi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),zr(lt),Le(e),null;case 25:return null;case 30:return null}throw Error(B(156,e.tag))}function qO(t,e){switch(h0(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zr(lt),yo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return nd(e),null;case 31:if(e.memoizedState!==null){if(un(e),e.alternate===null)throw Error(B(340));Wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(tt),null;case 4:return yo(),null;case 10:return zr(e.type),null;case 22:case 23:return un(e),g0(),t!==null&&wt(Bi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return zr(lt),null;case 25:return null;default:return null}}function FS(t,e){switch(h0(e),e.tag){case 3:zr(lt),yo();break;case 26:case 27:case 5:nd(e);break;case 4:yo();break;case 31:e.memoizedState!==null&&un(e);break;case 13:un(e);break;case 19:wt(tt);break;case 10:zr(e.type);break;case 22:case 23:un(e),g0(),t!==null&&wt(Bi);break;case 24:zr(lt)}}function iu(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&t)===t){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){Ae(e,e.return,o)}}function Qa(t,e,n){try{var r=e.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var u=n,h=o;try{h()}catch(d){Ae(a,u,d)}}}r=r.next}while(r!==i)}}catch(d){Ae(e,e.return,d)}}function $S(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{JT(e,n)}catch(r){Ae(t,t.return,r)}}}function qS(t,e,n){n.props=Ji(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ae(t,e,r)}}function fc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(a){Ae(t,e,a)}}function cr(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Ae(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Ae(t,e,a)}else n.current=null}function HS(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Ae(t,t.return,a)}}function sp(t,e,n){try{var r=t.stateNode;dk(r,t.type,n,e),r[nn]=e}catch(a){Ae(t,t.return,a)}}function GS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oi(t.type)||t.tag===4}function op(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jr));else if(r!==4&&(r===27&&oi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Rg(t,e,n),t=t.sibling;t!==null;)Rg(t,e,n),t=t.sibling}function gd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&oi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(gd(t,e,n),t=t.sibling;t!==null;)gd(t,e,n),t=t.sibling}function YS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ot(e,r,n),e[Nt]=t,e[nn]=n}catch(i){Ae(t,t.return,i)}}var Or=!1,ot=!1,lp=!1,Ob=typeof WeakSet=="function"?WeakSet:Set,bt=null;function HO(t,e){if(t=t.containerInfo,Pg=Nd,t=jT(t),s0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,h=0,d=0,m=t,p=null;t:for(;;){for(var v;m!==n||a!==0&&m.nodeType!==3||(o=s+a),m!==i||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===n&&++h===a&&(o=s),p===i&&++d===r&&(u=s),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lg={focusedElem:t,selectionRange:n},Nd=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){switch(e=bt,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var S=Ji(n.type,a);t=r.getSnapshotBeforeUpdate(S,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(A){Ae(n,n.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ug(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ug(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(B(163))}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}}function WS(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Rr(t,n),r&4&&iu(5,n);break;case 1:if(Rr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ae(n,n.return,s)}else{var a=Ji(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ae(n,n.return,s)}}r&64&&$S(n),r&512&&fc(n,n.return);break;case 3:if(Rr(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{JT(t,e)}catch(s){Ae(n,n.return,s)}}break;case 27:e===null&&r&4&&YS(n);case 26:case 5:Rr(t,n),e===null&&r&4&&HS(n),r&512&&fc(n,n.return);break;case 12:Rr(t,n);break;case 31:Rr(t,n),r&4&&XS(t,n);break;case 13:Rr(t,n),r&4&&JS(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=ek.bind(null,n),bk(t,n))));break;case 22:if(r=n.memoizedState!==null||Or,!r){e=e!==null&&e.memoizedState!==null||ot,a=Or;var i=ot;Or=r,(ot=e)&&!i?Ir(t,n,(n.subtreeFlags&8772)!==0):Rr(t,n),Or=a,ot=i}break;case 30:break;default:Rr(t,n)}}function KS(t){var e=t.alternate;e!==null&&(t.alternate=null,KS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&e0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $e=null,Kt=!1;function Cr(t,e,n){for(n=n.child;n!==null;)QS(t,e,n),n=n.sibling}function QS(t,e,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Jc,n)}catch{}switch(n.tag){case 26:ot||cr(n,e),Cr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||cr(n,e);var r=$e,a=Kt;oi(n.type)&&($e=n.stateNode,Kt=!1),Cr(t,e,n),yc(n.stateNode),$e=r,Kt=a;break;case 5:ot||cr(n,e);case 6:if(r=$e,a=Kt,$e=null,Cr(t,e,n),$e=r,Kt=a,$e!==null)if(Kt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(n.stateNode)}catch(i){Ae(n,e,i)}else try{$e.removeChild(n.stateNode)}catch(i){Ae(n,e,i)}break;case 18:$e!==null&&(Kt?(t=$e,Hb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),No(t)):Hb($e,n.stateNode));break;case 4:r=$e,a=Kt,$e=n.stateNode.containerInfo,Kt=!0,Cr(t,e,n),$e=r,Kt=a;break;case 0:case 11:case 14:case 15:Qa(2,n,e),ot||Qa(4,n,e),Cr(t,e,n);break;case 1:ot||(cr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&qS(n,e,r)),Cr(t,e,n);break;case 21:Cr(t,e,n);break;case 22:ot=(r=ot)||n.memoizedState!==null,Cr(t,e,n),ot=r;break;default:Cr(t,e,n)}}function XS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{No(t)}catch(n){Ae(e,e.return,n)}}}function JS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{No(t)}catch(n){Ae(e,e.return,n)}}function GO(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ob),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ob),e;default:throw Error(B(435,t.tag))}}function rh(t,e){var n=GO(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var a=tk.bind(null,t,r);r.then(a,a)}})}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(oi(o.type)){$e=o.stateNode,Kt=!1;break e}break;case 5:$e=o.stateNode,Kt=!1;break e;case 3:case 4:$e=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if($e===null)throw Error(B(160));QS(i,s,a),$e=null,Kt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ZS(e,t),e=e.sibling}var qn=null;function ZS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yt(e,t),Wt(t),r&4&&(Qa(3,t,t.return),iu(3,t),Qa(5,t,t.return));break;case 1:Yt(e,t),Wt(t),r&512&&(ot||n===null||cr(n,n.return)),r&64&&Or&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=qn;if(Yt(e,t),Wt(t),r&512&&(ot||n===null||cr(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[tu]||i[Nt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),Ot(i,r,n),i[Nt]=t,xt(i),r=i;break e;case"link":var s=Jb("link","href",a).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;case"meta":if(s=Jb("meta","content",a).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;default:throw Error(B(468,r))}i[Nt]=t,xt(i),r=i}t.stateNode=r}else Zb(a,t.type,t.stateNode);else t.stateNode=Xb(a,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?Zb(a,t.type,t.stateNode):Xb(a,r,t.memoizedProps)):r===null&&t.stateNode!==null&&sp(t,t.memoizedProps,n.memoizedProps)}break;case 27:Yt(e,t),Wt(t),r&512&&(ot||n===null||cr(n,n.return)),n!==null&&r&4&&sp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Yt(e,t),Wt(t),r&512&&(ot||n===null||cr(n,n.return)),t.flags&32){a=t.stateNode;try{_o(a,"")}catch(S){Ae(t,t.return,S)}}r&4&&t.stateNode!=null&&(a=t.memoizedProps,sp(t,a,n!==null?n.memoizedProps:a)),r&1024&&(lp=!0);break;case 6:if(Yt(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(B(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(S){Ae(t,t.return,S)}}break;case 3:if(Lh=null,a=qn,qn=Td(e.containerInfo),Yt(e,t),qn=a,Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{No(e.containerInfo)}catch(S){Ae(t,t.return,S)}lp&&(lp=!1,eA(t));break;case 4:r=qn,qn=Td(t.stateNode.containerInfo),Yt(e,t),Wt(t),qn=r;break;case 12:Yt(e,t),Wt(t);break;case 31:Yt(e,t),Wt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,rh(t,r)));break;case 13:Yt(e,t),Wt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bf=pn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,rh(t,r)));break;case 22:a=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=Or,d=ot;if(Or=h||a,ot=d||u,Yt(e,t),ot=d,Or=h,Wt(t),r&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||u||Or||ot||ki(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(i=u.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(S){Ae(u,u.return,S)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(S){Ae(u,u.return,S)}}}else if(e.tag===18){if(n===null){u=e;try{var v=u.stateNode;a?Gb(v,!0):Gb(u.stateNode,!1)}catch(S){Ae(u,u.return,S)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,rh(t,n))));break;case 19:Yt(e,t),Wt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,rh(t,r)));break;case 30:break;case 21:break;default:Yt(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(GS(r)){n=r;break}r=r.return}if(n==null)throw Error(B(160));switch(n.tag){case 27:var a=n.stateNode,i=op(t);gd(t,i,a);break;case 5:var s=n.stateNode;n.flags&32&&(_o(s,""),n.flags&=-33);var o=op(t);gd(t,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,h=op(t);Rg(t,h,u);break;default:throw Error(B(161))}}catch(d){Ae(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;eA(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Rr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)WS(t,e.alternate,e),e=e.sibling}function ki(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Qa(4,e,e.return),ki(e);break;case 1:cr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&qS(e,e.return,n),ki(e);break;case 27:yc(e.stateNode);case 26:case 5:cr(e,e.return),ki(e);break;case 22:e.memoizedState===null&&ki(e);break;case 30:ki(e);break;default:ki(e)}t=t.sibling}}function Ir(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Ir(a,i,n),iu(4,i);break;case 1:if(Ir(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){Ae(r,r.return,h)}if(r=i,a=r.updateQueue,a!==null){var o=r.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)XT(u[a],o)}catch(h){Ae(r,r.return,h)}}n&&s&64&&$S(i),fc(i,i.return);break;case 27:YS(i);case 26:case 5:Ir(a,i,n),n&&r===null&&s&4&&HS(i),fc(i,i.return);break;case 12:Ir(a,i,n);break;case 31:Ir(a,i,n),n&&s&4&&XS(a,i);break;case 13:Ir(a,i,n),n&&s&4&&JS(a,i);break;case 22:i.memoizedState===null&&Ir(a,i,n),fc(i,i.return);break;case 30:break;default:Ir(a,i,n)}e=e.sibling}}function O0(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&ru(n))}function k0(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ru(t))}function $n(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tA(t,e,n,r),e=e.sibling}function tA(t,e,n,r){var a=e.flags;switch(e.tag){case 0:case 11:case 15:$n(t,e,n,r),a&2048&&iu(9,e);break;case 1:$n(t,e,n,r);break;case 3:$n(t,e,n,r),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&ru(t)));break;case 12:if(a&2048){$n(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ae(e,e.return,u)}}else $n(t,e,n,r);break;case 31:$n(t,e,n,r);break;case 13:$n(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?$n(t,e,n,r):mc(t,e):i._visibility&2?$n(t,e,n,r):(i._visibility|=2,Ms(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),a&2048&&O0(s,e);break;case 24:$n(t,e,n,r),a&2048&&k0(e.alternate,e);break;default:$n(t,e,n,r)}}function Ms(t,e,n,r,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,o=n,u=r,h=s.flags;switch(s.tag){case 0:case 11:case 15:Ms(i,s,o,u,a),iu(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Ms(i,s,o,u,a):mc(i,s):(d._visibility|=2,Ms(i,s,o,u,a)),a&&h&2048&&O0(s.alternate,s);break;case 24:Ms(i,s,o,u,a),a&&h&2048&&k0(s.alternate,s);break;default:Ms(i,s,o,u,a)}e=e.sibling}}function mc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,a=r.flags;switch(r.tag){case 22:mc(n,r),a&2048&&O0(r.alternate,r);break;case 24:mc(n,r),a&2048&&k0(r.alternate,r);break;default:mc(n,r)}e=e.sibling}}var Kl=8192;function Is(t,e,n){if(t.subtreeFlags&Kl)for(t=t.child;t!==null;)nA(t,e,n),t=t.sibling}function nA(t,e,n){switch(t.tag){case 26:Is(t,e,n),t.flags&Kl&&t.memoizedState!==null&&Ok(n,qn,t.memoizedState,t.memoizedProps);break;case 5:Is(t,e,n);break;case 3:case 4:var r=qn;qn=Td(t.stateNode.containerInfo),Is(t,e,n),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Kl,Kl=16777216,Is(t,e,n),Kl=r):Is(t,e,n));break;default:Is(t,e,n)}}function rA(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Vl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,iA(r,t)}rA(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)aA(t),t=t.sibling}function aA(t){switch(t.tag){case 0:case 11:case 15:Vl(t),t.flags&2048&&Qa(9,t,t.return);break;case 3:Vl(t);break;case 12:Vl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Mh(t)):Vl(t);break;default:Vl(t)}}function Mh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,iA(r,t)}rA(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Qa(8,e,e.return),Mh(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Mh(e));break;default:Mh(e)}t=t.sibling}}function iA(t,e){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:Qa(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ru(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bt=r;else e:for(n=t;bt!==null;){r=bt;var a=r.sibling,i=r.return;if(KS(r),r===n){bt=null;break e}if(a!==null){a.return=i,bt=a;break e}bt=i}}}var YO={getCacheForType:function(t){var e=Dt(lt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Dt(lt).controller.signal}},WO=typeof WeakMap=="function"?WeakMap:Map,xe=0,De=null,de=null,ge=0,Se=0,cn=null,Ra=!1,Fo=!1,j0=!1,Qr=0,Ze=0,Xa=0,$i=0,M0=0,fn=0,Eo=0,pc=null,Qt=null,Ig=!1,bf=0,sA=0,yd=1/0,vd=null,La=null,mt=0,Va=null,To=null,Br=0,Dg=0,Og=null,oA=null,gc=0,kg=null;function vn(){return xe&2&&ge!==0?ge&-ge:te.T!==null?L0():gT()}function lA(){if(fn===0)if(!(ge&536870912)||ye){var t=Ku;Ku<<=1,!(Ku&3932160)&&(Ku=262144),fn=t}else fn=536870912;return t=xn.current,t!==null&&(t.flags|=32),fn}function en(t,e,n){(t===De&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(So(t,0),Ia(t,ge,fn,!1)),eu(t,n),(!(xe&2)||t!==De)&&(t===De&&(!(xe&2)&&($i|=n),Ze===4&&Ia(t,ge,fn,!1)),xr(t))}function cA(t,e,n){if(xe&6)throw Error(B(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Zc(t,e),a=r?XO(t,e):cp(t,e,!0),i=r;do{if(a===0){Fo&&!r&&Ia(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!KO(n)){a=cp(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;a=pc;var u=o.current.memoizedState.isDehydrated;if(u&&(So(o,s).flags|=256),s=cp(o,s,!1),s!==2){if(j0&&!u){o.errorRecoveryDisabledLanes|=i,$i|=i,a=4;break e}i=Qt,Qt=a,i!==null&&(Qt===null?Qt=i:Qt.push.apply(Qt,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){So(t,0),Ia(t,e,0,!0);break}e:{switch(r=t,i=a,i){case 0:case 1:throw Error(B(345));case 4:if((e&4194048)!==e)break;case 6:Ia(r,e,fn,!Ra);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(B(329))}if((e&62914560)===e&&(a=bf+300-pn(),10<a)){if(Ia(r,e,fn,!Ra),cf(r,0,!0)!==0)break e;Br=e,r.timeoutHandle=RA(kb.bind(null,r,n,Qt,vd,Ig,e,fn,$i,Eo,Ra,i,"Throttled",-0,0),a);break e}kb(r,n,Qt,vd,Ig,e,fn,$i,Eo,Ra,i,null,-0,0)}}break}while(!0);xr(t)}function kb(t,e,n,r,a,i,s,o,u,h,d,m,p,v){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jr},nA(e,i,m);var S=(i&62914560)===i?bf-pn():(i&4194048)===i?sA-pn():0;if(S=kk(m,S),S!==null){Br=i,t.cancelPendingCommit=S(Mb.bind(null,t,e,i,n,r,a,s,o,u,d,m,null,p,v)),Ia(t,i,s,!h);return}}Mb(t,e,i,n,r,a,s,o,u)}function KO(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!bn(i(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ia(t,e,n,r){e&=~M0,e&=~$i,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var a=e;0<a;){var i=31-yn(a),s=1<<i;r[i]=-1,a&=~s}n!==0&&fT(t,n,e)}function xf(){return xe&6?!0:(su(0),!1)}function P0(){if(de!==null){if(Se===0)var t=de.return;else t=de,Mr=cs=null,x0(t),lo=null,Ic=0,t=de;for(;t!==null;)FS(t.alternate,t),t=t.return;de=null}}function So(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,pk(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Br=0,P0(),De=t,de=n=Ur(t.current,null),ge=e,Se=0,cn=null,Ra=!1,Fo=Zc(t,e),j0=!1,Eo=fn=M0=$i=Xa=Ze=0,Qt=pc=null,Ig=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var a=31-yn(r),i=1<<a;e|=t[a],r&=~i}return Qr=e,ff(),n}function uA(t,e){oe=null,te.H=Oc,e===Bo||e===pf?(e=hb(),Se=3):e===m0?(e=hb(),Se=4):Se=e===I0?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,cn=e,de===null&&(Ze=1,md(t,Rn(e,t.current)))}function hA(){var t=xn.current;return t===null?!0:(ge&4194048)===ge?jn===null:(ge&62914560)===ge||ge&536870912?t===jn:!1}function dA(){var t=te.H;return te.H=Oc,t===null?Oc:t}function fA(){var t=te.A;return te.A=YO,t}function _d(){Ze=4,Ra||(ge&4194048)!==ge&&xn.current!==null||(Fo=!0),!(Xa&134217727)&&!($i&134217727)||De===null||Ia(De,ge,fn,!1)}function cp(t,e,n){var r=xe;xe|=2;var a=dA(),i=fA();(De!==t||ge!==e)&&(vd=null,So(t,e)),e=!1;var s=Ze;e:do try{if(Se!==0&&de!==null){var o=de,u=cn;switch(Se){case 8:P0(),s=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(e=!0);var h=Se;if(Se=0,cn=null,Zs(t,o,u,h),n&&Fo){s=0;break e}break;default:h=Se,Se=0,cn=null,Zs(t,o,u,h)}}QO(),s=Ze;break}catch(d){uA(t,d)}while(!0);return e&&t.shellSuspendCounter++,Mr=cs=null,xe=r,te.H=a,te.A=i,de===null&&(De=null,ge=0,ff()),s}function QO(){for(;de!==null;)mA(de)}function XO(t,e){var n=xe;xe|=2;var r=dA(),a=fA();De!==t||ge!==e?(vd=null,yd=pn()+500,So(t,e)):Fo=Zc(t,e);e:do try{if(Se!==0&&de!==null){e=de;var i=cn;t:switch(Se){case 1:Se=0,cn=null,Zs(t,e,i,1);break;case 2:case 9:if(ub(i)){Se=0,cn=null,jb(e);break}e=function(){Se!==2&&Se!==9||De!==t||(Se=7),xr(t)},i.then(e,e);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:ub(i)?(Se=0,cn=null,jb(e)):(Se=0,cn=null,Zs(t,e,i,7));break;case 5:var s=null;switch(de.tag){case 26:s=de.memoizedState;case 5:case 27:var o=de;if(s?jA(s):o.stateNode.complete){Se=0,cn=null;var u=o.sibling;if(u!==null)de=u;else{var h=o.return;h!==null?(de=h,wf(h)):de=null}break t}}Se=0,cn=null,Zs(t,e,i,5);break;case 6:Se=0,cn=null,Zs(t,e,i,6);break;case 8:P0(),Ze=6;break e;default:throw Error(B(462))}}JO();break}catch(d){uA(t,d)}while(!0);return Mr=cs=null,te.H=r,te.A=a,xe=n,de!==null?0:(De=null,ge=0,ff(),Ze)}function JO(){for(;de!==null&&!xD();)mA(de)}function mA(t){var e=BS(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,e===null?wf(t):de=e}function jb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Nb(n,e,e.pendingProps,e.type,void 0,ge);break;case 11:e=Nb(n,e,e.pendingProps,e.type.render,e.ref,ge);break;case 5:x0(e);default:FS(n,e),e=de=FT(e,Qr),e=BS(n,e,Qr)}t.memoizedProps=t.pendingProps,e===null?wf(t):de=e}function Zs(t,e,n,r){Mr=cs=null,x0(e),lo=null,Ic=0;var a=e.return;try{if(zO(t,a,e,n,ge)){Ze=1,md(t,Rn(n,t.current)),de=null;return}}catch(i){if(a!==null)throw de=a,i;Ze=1,md(t,Rn(n,t.current)),de=null;return}e.flags&32768?(ye||r===1?t=!0:Fo||ge&536870912?t=!1:(Ra=t=!0,(r===2||r===9||r===3||r===6)&&(r=xn.current,r!==null&&r.tag===13&&(r.flags|=16384))),pA(e,t)):wf(e)}function wf(t){var e=t;do{if(e.flags&32768){pA(e,Ra);return}t=e.return;var n=$O(e.alternate,e,Qr);if(n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);Ze===0&&(Ze=5)}function pA(t,e){do{var n=qO(t.alternate,t);if(n!==null){n.flags&=32767,de=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){de=t;return}de=t=n}while(t!==null);Ze=6,de=null}function Mb(t,e,n,r,a,i,s,o,u){t.cancelPendingCommit=null;do Ef();while(mt!==0);if(xe&6)throw Error(B(327));if(e!==null){if(e===t.current)throw Error(B(177));if(i=e.lanes|e.childLanes,i|=o0,DD(t,n,i,s,o,u),t===De&&(de=De=null,ge=0),To=e,Va=t,Br=n,Dg=i,Og=a,oA=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,nk(rd,function(){return bA(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=te.T,te.T=null,a=we.p,we.p=2,s=xe,xe|=4;try{HO(t,e,n)}finally{xe=s,we.p=a,te.T=r}}mt=1,gA(),yA(),vA()}}function gA(){if(mt===1){mt=0;var t=Va,e=To,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=te.T,te.T=null;var r=we.p;we.p=2;var a=xe;xe|=4;try{ZS(e,t);var i=Lg,s=jT(t.containerInfo),o=i.focusedElem,u=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&kT(o.ownerDocument.documentElement,o)){if(u!==null&&s0(o)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var v=p.getSelection(),S=o.textContent.length,A=Math.min(u.start,S),N=u.end===void 0?A:Math.min(u.end,S);!v.extend&&A>N&&(s=N,N=A,A=s);var y=rb(o,A),_=rb(o,N);if(y&&_&&(v.rangeCount!==1||v.anchorNode!==y.node||v.anchorOffset!==y.offset||v.focusNode!==_.node||v.focusOffset!==_.offset)){var x=m.createRange();x.setStart(y.node,y.offset),v.removeAllRanges(),A>N?(v.addRange(x),v.extend(_.node,_.offset)):(x.setEnd(_.node,_.offset),v.addRange(x))}}}}for(m=[],v=o;v=v.parentNode;)v.nodeType===1&&m.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var D=m[o];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Nd=!!Pg,Lg=Pg=null}finally{xe=a,we.p=r,te.T=n}}t.current=e,mt=2}}function yA(){if(mt===2){mt=0;var t=Va,e=To,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=te.T,te.T=null;var r=we.p;we.p=2;var a=xe;xe|=4;try{WS(t,e.alternate,e)}finally{xe=a,we.p=r,te.T=n}}mt=3}}function vA(){if(mt===4||mt===3){mt=0,wD();var t=Va,e=To,n=Br,r=oA;e.subtreeFlags&10256||e.flags&10256?mt=5:(mt=0,To=Va=null,_A(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(La=null),Zy(n),e=e.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Jc,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=te.T,a=we.p,we.p=2,te.T=null;try{for(var i=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{te.T=e,we.p=a}}Br&3&&Ef(),xr(t),a=t.pendingLanes,n&261930&&a&42?t===kg?gc++:(gc=0,kg=t):gc=0,su(0)}}function _A(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,ru(e)))}function Ef(){return gA(),yA(),vA(),bA()}function bA(){if(mt!==5)return!1;var t=Va,e=Dg;Dg=0;var n=Zy(Br),r=te.T,a=we.p;try{we.p=32>n?32:n,te.T=null,n=Og,Og=null;var i=Va,s=Br;if(mt=0,To=Va=null,Br=0,xe&6)throw Error(B(331));var o=xe;if(xe|=4,aA(i.current),tA(i,i.current,s,n),xe=o,su(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Jc,i)}catch{}return!0}finally{we.p=a,te.T=r,_A(t,e)}}function Pb(t,e,n){e=Rn(n,e),e=Ag(t.stateNode,e,2),t=Pa(t,e,2),t!==null&&(eu(t,2),xr(t))}function Ae(t,e,n){if(t.tag===3)Pb(t,t,n);else for(;e!==null;){if(e.tag===3){Pb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(La===null||!La.has(r))){t=Rn(n,t),n=MS(2),r=Pa(e,n,2),r!==null&&(PS(n,r,e,t),eu(r,2),xr(r));break}}e=e.return}}function up(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WO;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(j0=!0,a.add(n),t=ZO.bind(null,t,e,n),e.then(t,t))}function ZO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,De===t&&(ge&n)===n&&(Ze===4||Ze===3&&(ge&62914560)===ge&&300>pn()-bf?!(xe&2)&&So(t,0):M0|=n,Eo===ge&&(Eo=0)),xr(t)}function xA(t,e){e===0&&(e=dT()),t=ls(t,e),t!==null&&(eu(t,e),xr(t))}function ek(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xA(t,n)}function tk(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(B(314))}r!==null&&r.delete(e),xA(t,n)}function nk(t,e){return Xy(t,e)}var bd=null,Ps=null,jg=!1,xd=!1,hp=!1,Da=0;function xr(t){t!==Ps&&t.next===null&&(Ps===null?bd=Ps=t:Ps=Ps.next=t),xd=!0,jg||(jg=!0,ak())}function su(t,e){if(!hp&&xd){hp=!0;do for(var n=!1,r=bd;r!==null;){if(t!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-yn(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Lb(r,i))}else i=ge,i=cf(r,r===De?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||Zc(r,i)||(n=!0,Lb(r,i));r=r.next}while(n);hp=!1}}function rk(){wA()}function wA(){xd=jg=!1;var t=0;Da!==0&&mk()&&(t=Da);for(var e=pn(),n=null,r=bd;r!==null;){var a=r.next,i=EA(r,e);i===0?(r.next=null,n===null?bd=a:n.next=a,a===null&&(Ps=n)):(n=r,(t!==0||i&3)&&(xd=!0)),r=a}mt!==0&&mt!==5||su(t),Da!==0&&(Da=0)}function EA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-yn(i),o=1<<s,u=a[s];u===-1?(!(o&n)||o&r)&&(a[s]=ID(o,e)):u<=e&&(t.expiredLanes|=o),i&=~o}if(e=De,n=ge,n=cf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Um(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Zc(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Um(r),Zy(n)){case 2:case 8:n=uT;break;case 32:n=rd;break;case 268435456:n=hT;break;default:n=rd}return r=TA.bind(null,t),n=Xy(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Um(r),t.callbackPriority=2,t.callbackNode=null,2}function TA(t,e){if(mt!==0&&mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ef()&&t.callbackNode!==n)return null;var r=ge;return r=cf(t,t===De?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(cA(t,r,e),EA(t,pn()),t.callbackNode!=null&&t.callbackNode===n?TA.bind(null,t):null)}function Lb(t,e){if(Ef())return null;cA(t,e,!0)}function ak(){gk(function(){xe&6?Xy(cT,rk):wA()})}function L0(){if(Da===0){var t=bo;t===0&&(t=Wu,Wu<<=1,!(Wu&261888)&&(Wu=256)),Da=t}return Da}function Vb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ah(""+t)}function Ub(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function ik(t,e,n,r,a){if(e==="submit"&&n&&n.stateNode===a){var i=Vb((a[nn]||null).action),s=r.submitter;s&&(e=(e=s[nn]||null)?Vb(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new uf("action","action",null,r,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Da!==0){var u=s?Ub(a,s):new FormData(a);Tg(n,{pending:!0,data:u,method:a.method,action:i},null,u)}}else typeof i=="function"&&(o.preventDefault(),u=s?Ub(a,s):new FormData(a),Tg(n,{pending:!0,data:u,method:a.method,action:i},i,u))},currentTarget:a}]})}}for(var dp=0;dp<dg.length;dp++){var fp=dg[dp],sk=fp.toLowerCase(),ok=fp[0].toUpperCase()+fp.slice(1);Xn(sk,"on"+ok)}Xn(PT,"onAnimationEnd");Xn(LT,"onAnimationIteration");Xn(VT,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(EO,"onTransitionRun");Xn(TO,"onTransitionStart");Xn(SO,"onTransitionCancel");Xn(UT,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));is("onBeforeInput",["compositionend","keypress","textInput","paste"]);is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function SA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=h;try{i(a)}catch(d){id(d)}a.currentTarget=null,i=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,h=o.currentTarget,o=o.listener,u!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=h;try{i(a)}catch(d){id(d)}a.currentTarget=null,i=u}}}}function he(t,e){var n=e[ag];n===void 0&&(n=e[ag]=new Set);var r=t+"__bubble";n.has(r)||(AA(e,t,2,!1),n.add(r))}function mp(t,e,n){var r=0;e&&(r|=4),AA(n,t,r,e)}var ah="_reactListening"+Math.random().toString(36).slice(2);function V0(t){if(!t[ah]){t[ah]=!0,yT.forEach(function(n){n!=="selectionchange"&&(lk.has(n)||mp(n,!1,t),mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ah]||(e[ah]=!0,mp("selectionchange",!1,e))}}function AA(t,e,n,r){switch(UA(e)){case 2:var a=Pk;break;case 8:a=Lk;break;default:a=F0}n=a.bind(null,e,n,t),a=void 0,!cg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function pp(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=qs(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=i=s;continue e}o=o.parentNode}}r=r.return}ST(function(){var h=i,d=n0(n),m=[];e:{var p=zT.get(t);if(p!==void 0){var v=uf,S=t;switch(t){case"keypress":if(Ch(n)===0)break e;case"keydown":case"keyup":v=tO;break;case"focusin":S="focus",v=qm;break;case"focusout":S="blur",v=qm;break;case"beforeblur":case"afterblur":v=qm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Y1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=aO;break;case PT:case LT:case VT:v=GD;break;case UT:v=sO;break;case"scroll":case"scrollend":v=BD;break;case"wheel":v=lO;break;case"copy":case"cut":case"paste":v=WD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=K1;break;case"toggle":case"beforetoggle":v=uO}var A=(e&4)!==0,N=!A&&(t==="scroll"||t==="scrollend"),y=A?p!==null?p+"Capture":null:p;A=[];for(var _=h,x;_!==null;){var D=_;if(x=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||x===null||y===null||(D=Sc(_,y),D!=null&&A.push(jc(_,D,x))),N)break;_=_.return}0<A.length&&(p=new v(p,S,null,n,d),m.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==lg&&(S=n.relatedTarget||n.fromElement)&&(qs(S)||S[Vo]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=h,S=S?qs(S):null,S!==null&&(N=Xc(S),A=S.tag,S!==N||A!==5&&A!==27&&A!==6)&&(S=null)):(v=null,S=h),v!==S)){if(A=Y1,D="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(A=K1,D="onPointerLeave",y="onPointerEnter",_="pointer"),N=v==null?p:Yl(v),x=S==null?p:Yl(S),p=new A(D,_+"leave",v,n,d),p.target=N,p.relatedTarget=x,D=null,qs(d)===h&&(A=new A(y,_+"enter",S,n,d),A.target=x,A.relatedTarget=N,D=A),N=D,v&&S)t:{for(A=ck,y=v,_=S,x=0,D=y;D;D=A(D))x++;D=0;for(var L=_;L;L=A(L))D++;for(;0<x-D;)y=A(y),x--;for(;0<D-x;)_=A(_),D--;for(;x--;){if(y===_||_!==null&&y===_.alternate){A=y;break t}y=A(y),_=A(_)}A=null}else A=null;v!==null&&zb(m,p,v,A,!1),S!==null&&N!==null&&zb(m,N,S,A,!0)}}e:{if(p=h?Yl(h):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var H=Z1;else if(J1(p))if(DT)H=bO;else{H=vO;var T=yO}else v=p.nodeName,!v||v.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&t0(h.elementType)&&(H=Z1):H=_O;if(H&&(H=H(t,h))){IT(m,H,n,d);break e}T&&T(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&og(p,"number",p.value)}switch(T=h?Yl(h):window,t){case"focusin":(J1(T)||T.contentEditable==="true")&&(Ys=T,ug=h,oc=null);break;case"focusout":oc=ug=Ys=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,ab(m,n,d);break;case"selectionchange":if(wO)break;case"keydown":case"keyup":ab(m,n,d)}var E;if(i0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gs?CT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(NT&&n.locale!=="ko"&&(Gs||b!=="onCompositionStart"?b==="onCompositionEnd"&&Gs&&(E=AT()):(Ca=d,r0="value"in Ca?Ca.value:Ca.textContent,Gs=!0)),T=wd(h,b),0<T.length&&(b=new W1(b,t,null,n,d),m.push({event:b,listeners:T}),E?b.data=E:(E=RT(n),E!==null&&(b.data=E)))),(E=dO?fO(t,n):mO(t,n))&&(b=wd(h,"onBeforeInput"),0<b.length&&(T=new W1("onBeforeInput","beforeinput",null,n,d),m.push({event:T,listeners:b}),T.data=E)),ik(m,t,h,n,d)}SA(m,e)})}function jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wd(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=Sc(t,n),a!=null&&r.unshift(jc(t,a,i)),a=Sc(t,e),a!=null&&r.push(jc(t,a,i))),t.tag===3)return r;t=t.return}return[]}function ck(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zb(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=Sc(n,i),h!=null&&s.unshift(jc(n,h,u))):a||(h=Sc(n,i),h!=null&&s.push(jc(n,h,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uk=/\r\n?/g,hk=/\u0000|\uFFFD/g;function Bb(t){return(typeof t=="string"?t:""+t).replace(uk,`
`).replace(hk,"")}function NA(t,e){return e=Bb(e),Bb(t)===e}function Ce(t,e,n,r,a,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||_o(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&_o(t,""+r);break;case"className":Xu(t,"class",r);break;case"tabIndex":Xu(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xu(t,n,r);break;case"style":TT(t,r,i);break;case"data":if(e!=="object"){Xu(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Ah(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Ce(t,e,"name",a.name,a,null),Ce(t,e,"formEncType",a.formEncType,a,null),Ce(t,e,"formMethod",a.formMethod,a,null),Ce(t,e,"formTarget",a.formTarget,a,null)):(Ce(t,e,"encType",a.encType,a,null),Ce(t,e,"method",a.method,a,null),Ce(t,e,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Ah(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=jr);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Ah(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":he("beforetoggle",t),he("toggle",t),Sh(t,"popover",r);break;case"xlinkActuate":Ar(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ar(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ar(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ar(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ar(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ar(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ar(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ar(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ar(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Sh(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=UD.get(n)||n,Sh(t,n,r))}}function Mg(t,e,n,r,a,i){switch(n){case"style":TT(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"children":typeof r=="string"?_o(t,r):(typeof r=="number"||typeof r=="bigint")&&_o(t,""+r);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"onClick":r!=null&&(t.onclick=jr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),i=t[nn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,a);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Sh(t,n,r)}}}function Ot(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Ce(t,e,i,s,n,null)}}a&&Ce(t,e,"srcSet",n.srcSet,n,null),r&&Ce(t,e,"src",n.src,n,null);return;case"input":he("invalid",t);var o=i=s=a=null,u=null,h=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,e));break;default:Ce(t,e,r,d,n,null)}}xT(t,i,o,u,h,s,a,!1);return;case"select":he("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ce(t,e,a,o,n,null)}e=i,n=s,t.multiple=!!r,e!=null?io(t,!!r,e,!1):n!=null&&io(t,!!r,n,!0);return;case"textarea":he("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(B(91));break;default:Ce(t,e,s,o,n,null)}ET(t,r,a,i);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ce(t,e,u,r,n,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(r=0;r<kc.length;r++)he(kc[r],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(r=n[h],r!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Ce(t,e,h,r,n,null)}return;default:if(t0(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Mg(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ce(t,e,o,r,n,null))}function dk(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,u=null,h=null,d=null;for(v in n){var m=n[v];if(n.hasOwnProperty(v)&&m!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(v)||Ce(t,e,v,null,r,m)}}for(var p in r){var v=r[p];if(m=n[p],r.hasOwnProperty(p)&&(v!=null||m!=null))switch(p){case"type":i=v;break;case"name":a=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":s=v;break;case"defaultValue":o=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(B(137,e));break;default:v!==m&&Ce(t,e,p,v,r,m)}}sg(t,s,o,u,h,d,i,a);return;case"select":v=s=o=p=null;for(i in n)if(u=n[i],n.hasOwnProperty(i)&&u!=null)switch(i){case"value":break;case"multiple":v=u;default:r.hasOwnProperty(i)||Ce(t,e,i,null,r,u)}for(a in r)if(i=r[a],u=n[a],r.hasOwnProperty(a)&&(i!=null||u!=null))switch(a){case"value":p=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==u&&Ce(t,e,a,i,r,u)}e=o,n=s,r=v,p!=null?io(t,!!n,p,!1):!!r!=!!n&&(e!=null?io(t,!!n,e,!0):io(t,!!n,n?[]:"",!1));return;case"textarea":v=p=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ce(t,e,o,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":p=a;break;case"defaultValue":v=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(B(91));break;default:a!==i&&Ce(t,e,s,a,r,i)}wT(t,p,v);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!r.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:Ce(t,e,S,null,r,p)}for(u in r)if(p=r[u],v=n[u],r.hasOwnProperty(u)&&p!==v&&(p!=null||v!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ce(t,e,u,p,r,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!=null&&!r.hasOwnProperty(A)&&Ce(t,e,A,null,r,p);for(h in r)if(p=r[h],v=n[h],r.hasOwnProperty(h)&&p!==v&&(p!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(B(137,e));break;default:Ce(t,e,h,p,r,v)}return;default:if(t0(e)){for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!==void 0&&!r.hasOwnProperty(N)&&Mg(t,e,N,void 0,r,p);for(d in r)p=r[d],v=n[d],!r.hasOwnProperty(d)||p===v||p===void 0&&v===void 0||Mg(t,e,d,p,r,v);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y)&&Ce(t,e,y,null,r,p);for(m in r)p=r[m],v=n[m],!r.hasOwnProperty(m)||p===v||p==null&&v==null||Ce(t,e,m,p,r,v)}function Fb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fk(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&Fb(s)){for(s=0,o=a.responseEnd,r+=1;r<n.length;r++){var u=n[r],h=u.startTime;if(h>o)break;var d=u.transferSize,m=u.initiatorType;d&&Fb(m)&&(u=u.responseEnd,s+=d*(u<o?1:(o-h)/(u-h)))}if(--r,e+=8*(i+s)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Pg=null,Lg=null;function Ed(t){return t.nodeType===9?t:t.ownerDocument}function $b(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CA(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Vg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=null;function mk(){var t=window.event;return t&&t.type==="popstate"?t===gp?!1:(gp=t,!0):(gp=null,!1)}var RA=typeof setTimeout=="function"?setTimeout:void 0,pk=typeof clearTimeout=="function"?clearTimeout:void 0,qb=typeof Promise=="function"?Promise:void 0,gk=typeof queueMicrotask=="function"?queueMicrotask:typeof qb<"u"?function(t){return qb.resolve(null).then(t).catch(yk)}:RA;function yk(t){setTimeout(function(){throw t})}function oi(t){return t==="head"}function Hb(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(a),No(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")yc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,yc(n);for(var i=n.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[tu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=s}}else n==="body"&&yc(t.ownerDocument.body);n=a}while(n);No(e)}function Gb(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Ug(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ug(n),e0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function vk(t,e,n,r){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[tu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function _k(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function IA(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Mn(t.nextSibling),t===null))return null;return t}function zg(t){return t.data==="$?"||t.data==="$~"}function Bg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function bk(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Fg=null;function Yb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Mn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Wb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function DA(t,e,n){switch(e=Ed(n),t){case"html":if(t=e.documentElement,!t)throw Error(B(452));return t;case"head":if(t=e.head,!t)throw Error(B(453));return t;case"body":if(t=e.body,!t)throw Error(B(454));return t;default:throw Error(B(451))}}function yc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);e0(t)}var Ln=new Map,Kb=new Set;function Td(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ra=we.d;we.d={f:xk,r:wk,D:Ek,C:Tk,L:Sk,m:Ak,X:Ck,S:Nk,M:Rk};function xk(){var t=ra.f(),e=xf();return t||e}function wk(t){var e=Uo(t);e!==null&&e.tag===5&&e.type==="form"?TS(e):ra.r(t)}var $o=typeof document>"u"?null:document;function OA(t,e,n){var r=$o;if(r&&typeof e=="string"&&e){var a=Cn(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Kb.has(a)||(Kb.add(a),t={rel:t,crossOrigin:n,href:e},r.querySelector(a)===null&&(e=r.createElement("link"),Ot(e,"link",t),xt(e),r.head.appendChild(e)))}}function Ek(t){ra.D(t),OA("dns-prefetch",t,null)}function Tk(t,e){ra.C(t,e),OA("preconnect",t,e)}function Sk(t,e,n){ra.L(t,e,n);var r=$o;if(r&&t&&e){var a='link[rel="preload"][as="'+Cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Cn(n.imageSizes)+'"]')):a+='[href="'+Cn(t)+'"]';var i=a;switch(e){case"style":i=Ao(t);break;case"script":i=qo(t)}Ln.has(i)||(t=ze({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ln.set(i,t),r.querySelector(a)!==null||e==="style"&&r.querySelector(ou(i))||e==="script"&&r.querySelector(lu(i))||(e=r.createElement("link"),Ot(e,"link",t),xt(e),r.head.appendChild(e)))}}function Ak(t,e){ra.m(t,e);var n=$o;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+Cn(r)+'"][href="'+Cn(t)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=qo(t)}if(!Ln.has(i)&&(t=ze({rel:"modulepreload",href:t},e),Ln.set(i,t),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(lu(i)))return}r=n.createElement("link"),Ot(r,"link",t),xt(r),n.head.appendChild(r)}}}function Nk(t,e,n){ra.S(t,e,n);var r=$o;if(r&&t){var a=ao(r).hoistableStyles,i=Ao(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(ou(i)))o.loading=5;else{t=ze({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ln.get(i))&&U0(t,n);var u=s=r.createElement("link");xt(u),Ot(u,"link",t),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ph(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function Ck(t,e){ra.X(t,e);var n=$o;if(n&&t){var r=ao(n).hoistableScripts,a=qo(t),i=r.get(a);i||(i=n.querySelector(lu(a)),i||(t=ze({src:t,async:!0},e),(e=Ln.get(a))&&z0(t,e),i=n.createElement("script"),xt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function Rk(t,e){ra.M(t,e);var n=$o;if(n&&t){var r=ao(n).hoistableScripts,a=qo(t),i=r.get(a);i||(i=n.querySelector(lu(a)),i||(t=ze({src:t,async:!0,type:"module"},e),(e=Ln.get(a))&&z0(t,e),i=n.createElement("script"),xt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function Qb(t,e,n,r){var a=(a=ka.current)?Td(a):null;if(!a)throw Error(B(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ao(n.href),n=ao(a).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ao(n.href);var i=ao(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(ou(t)))&&!i._p&&(s.instance=i,s.state.loading=5),Ln.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(t,n),i||Ik(a,t,n,s.state))),e&&r===null)throw Error(B(528,""));return s}if(e&&r!==null)throw Error(B(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=qo(n),n=ao(a).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,t))}}function Ao(t){return'href="'+Cn(t)+'"'}function ou(t){return'link[rel="stylesheet"]['+t+"]"}function kA(t){return ze({},t,{"data-precedence":t.precedence,precedence:null})}function Ik(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ot(e,"link",n),xt(e),t.head.appendChild(e))}function qo(t){return'[src="'+Cn(t)+'"]'}function lu(t){return"script[async]"+t}function Xb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(r)return e.instance=r,xt(r),r;var a=ze({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),xt(r),Ot(r,"style",a),Ph(r,n.precedence,t),e.instance=r;case"stylesheet":a=Ao(n.href);var i=t.querySelector(ou(a));if(i)return e.state.loading|=4,e.instance=i,xt(i),i;r=kA(n),(a=Ln.get(a))&&U0(r,a),i=(t.ownerDocument||t).createElement("link"),xt(i);var s=i;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ot(i,"link",r),e.state.loading|=4,Ph(i,n.precedence,t),e.instance=i;case"script":return i=qo(n.src),(a=t.querySelector(lu(i)))?(e.instance=a,xt(a),a):(r=n,(a=Ln.get(i))&&(r=ze({},n),z0(r,a)),t=t.ownerDocument||t,a=t.createElement("script"),xt(a),Ot(a,"link",r),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(B(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Ph(r,n.precedence,t));return e.instance}function Ph(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function U0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function z0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Lh=null;function Jb(t,e,n){if(Lh===null){var r=new Map,a=Lh=new Map;a.set(n,r)}else a=Lh,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var i=n[a];if(!(i[tu]||i[Nt]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function Zb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Dk(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function jA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Ok(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=Ao(r.href),i=e.querySelector(ou(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Sd.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,xt(i);return}i=e.ownerDocument||e,r=kA(r),(a=Ln.get(a))&&U0(r,a),i=i.createElement("link"),xt(i);var s=i;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ot(i,"link",r),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Sd.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var yp=0;function kk(t,e){return t.stylesheets&&t.count===0&&Vh(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Vh(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&yp===0&&(yp=62500*fk());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Vh(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>yp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}function Sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ad=null;function Vh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ad=new Map,e.forEach(jk,t),Ad=null,Sd.call(t))}function jk(t,e){if(!(e.state.loading&4)){var n=Ad.get(t);if(n)var r=n.get(null);else{n=new Map,Ad.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=e.instance,s=a.getAttribute("data-precedence"),i=n.get(s)||r,i===r&&n.set(null,a),n.set(s,a),this.count++,r=Sd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Mc={$$typeof:kr,Provider:null,Consumer:null,_currentValue:Ui,_currentValue2:Ui,_threadCount:0};function Mk(t,e,n,r,a,i,s,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zm(0),this.hiddenUpdates=zm(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function MA(t,e,n,r,a,i,s,o,u,h,d,m){return t=new Mk(t,e,n,s,u,h,d,m,o),e=1,i===!0&&(e|=24),i=hn(3,null,null,e),t.current=i,i.stateNode=t,e=d0(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},p0(i),t}function PA(t){return t?(t=Qs,t):Qs}function LA(t,e,n,r,a,i){a=PA(a),r.context===null?r.context=a:r.pendingContext=a,r=Ma(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=Pa(t,r,e),n!==null&&(en(n,t,e),cc(n,t,e))}function ex(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function B0(t,e){ex(t,e),(t=t.alternate)&&ex(t,e)}function VA(t){if(t.tag===13||t.tag===31){var e=ls(t,67108864);e!==null&&en(e,t,67108864),B0(t,67108864)}}function tx(t){if(t.tag===13||t.tag===31){var e=vn();e=Jy(e);var n=ls(t,e);n!==null&&en(n,t,e),B0(t,e)}}var Nd=!0;function Pk(t,e,n,r){var a=te.T;te.T=null;var i=we.p;try{we.p=2,F0(t,e,n,r)}finally{we.p=i,te.T=a}}function Lk(t,e,n,r){var a=te.T;te.T=null;var i=we.p;try{we.p=8,F0(t,e,n,r)}finally{we.p=i,te.T=a}}function F0(t,e,n,r){if(Nd){var a=$g(r);if(a===null)pp(t,e,r,Cd,n),nx(t,r);else if(Uk(a,t,e,n,r))r.stopPropagation();else if(nx(t,r),e&4&&-1<Vk.indexOf(t)){for(;a!==null;){var i=Uo(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Di(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-yn(s);o.entanglements[1]|=u,s&=~u}xr(i),!(xe&6)&&(yd=pn()+500,su(0))}}break;case 31:case 13:o=ls(i,2),o!==null&&en(o,i,2),xf(),B0(i,2)}if(i=$g(r),i===null&&pp(t,e,r,Cd,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else pp(t,e,r,null,n)}}function $g(t){return t=n0(t),$0(t)}var Cd=null;function $0(t){if(Cd=null,t=qs(t),t!==null){var e=Xc(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=aT(e),t!==null)return t;t=null}else if(n===31){if(t=iT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Cd=t,null}function UA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ED()){case cT:return 2;case uT:return 8;case rd:case TD:return 32;case hT:return 268435456;default:return 32}default:return 32}}var qg=!1,Ua=null,za=null,Ba=null,Pc=new Map,Lc=new Map,wa=[],Vk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nx(t,e){switch(t){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":Pc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lc.delete(e.pointerId)}}function Ul(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Uo(e),e!==null&&VA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Uk(t,e,n,r,a){switch(e){case"focusin":return Ua=Ul(Ua,t,e,n,r,a),!0;case"dragenter":return za=Ul(za,t,e,n,r,a),!0;case"mouseover":return Ba=Ul(Ba,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Pc.set(i,Ul(Pc.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Lc.set(i,Ul(Lc.get(i)||null,t,e,n,r,a)),!0}return!1}function zA(t){var e=qs(t.target);if(e!==null){var n=Xc(e);if(n!==null){if(e=n.tag,e===13){if(e=aT(n),e!==null){t.blockedOn=e,z1(t.priority,function(){tx(n)});return}}else if(e===31){if(e=iT(n),e!==null){t.blockedOn=e,z1(t.priority,function(){tx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$g(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);lg=r,n.target.dispatchEvent(r),lg=null}else return e=Uo(n),e!==null&&VA(e),t.blockedOn=n,!1;e.shift()}return!0}function rx(t,e,n){Uh(t)&&n.delete(e)}function zk(){qg=!1,Ua!==null&&Uh(Ua)&&(Ua=null),za!==null&&Uh(za)&&(za=null),Ba!==null&&Uh(Ba)&&(Ba=null),Pc.forEach(rx),Lc.forEach(rx)}function ih(t,e){t.blockedOn===e&&(t.blockedOn=null,qg||(qg=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,zk)))}var sh=null;function ax(t){sh!==t&&(sh=t,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,function(){sh===t&&(sh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if(typeof r!="function"){if($0(r||n)===null)continue;break}var i=Uo(n);i!==null&&(t.splice(e,3),e-=3,Tg(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function No(t){function e(u){return ih(u,t)}Ua!==null&&ih(Ua,t),za!==null&&ih(za,t),Ba!==null&&ih(Ba,t),Pc.forEach(e),Lc.forEach(e);for(var n=0;n<wa.length;n++){var r=wa[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<wa.length&&(n=wa[0],n.blockedOn===null);)zA(n),n.blockedOn===null&&wa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[nn]||null;if(typeof i=="function")s||ax(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[nn]||null)o=s.formAction;else if($0(a)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),ax(n)}}}function BA(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function q0(t){this._internalRoot=t}Tf.prototype.render=q0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));var n=e.current,r=vn();LA(n,r,t,e,null,null)};Tf.prototype.unmount=q0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;LA(t.current,2,null,t,null,null),xf(),e[Vo]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=gT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<wa.length&&e!==0&&e<wa[n].priority;n++);wa.splice(n,0,t),n===0&&zA(t)}};var ix=nT.version;if(ix!=="19.2.3")throw Error(B(527,ix,"19.2.3"));we.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=gD(e),t=t!==null?sT(t):null,t=t===null?null:t.stateNode,t};var Bk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Jc=oh.inject(Bk),gn=oh}catch{}}of.createRoot=function(t,e){if(!rT(t))throw Error(B(299));var n=!1,r="",a=OS,i=kS,s=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=MA(t,1,!1,null,null,n,r,null,a,i,s,BA),t[Vo]=e.current,V0(t),new q0(e)};of.hydrateRoot=function(t,e,n){if(!rT(t))throw Error(B(299));var r=!1,a="",i=OS,s=kS,o=jS,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=MA(t,1,!0,e,n??null,r,a,u,i,s,o,BA),e.context=PA(null),n=e.current,r=vn(),r=Jy(r),a=Ma(r),a.callback=null,Pa(n,a,r),n=r,e.current.lanes=n,eu(e,n),xr(e),t[Vo]=e.current,V0(t),new Tf(e)};of.version="19.2.3";function FA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FA)}catch(t){console.error(t)}}FA(),QE.exports=of;var Fk=QE.exports;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var sx="popstate";function $k(t={}){function e(r,a){let{pathname:i,search:s,hash:o}=r.location;return Hg("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Vc(a)}return Hk(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qk(){return Math.random().toString(36).substring(2,10)}function ox(t,e){return{usr:t.state,key:t.key,idx:e}}function Hg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||r||qk()}}function Vc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Hk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",u=null,h=d();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function d(){return(s.state||{idx:null}).idx}function m(){o="POP";let N=d(),y=N==null?null:N-h;h=N,u&&u({action:o,location:A.location,delta:y})}function p(N,y){o="PUSH";let _=Hg(A.location,N,y);h=d()+1;let x=ox(_,h),D=A.createHref(_);try{s.pushState(x,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(D)}i&&u&&u({action:o,location:A.location,delta:1})}function v(N,y){o="REPLACE";let _=Hg(A.location,N,y);h=d();let x=ox(_,h),D=A.createHref(_);s.replaceState(x,"",D),i&&u&&u({action:o,location:A.location,delta:0})}function S(N){return Gk(N)}let A={get action(){return o},get location(){return t(a,s)},listen(N){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(sx,m),u=N,()=>{a.removeEventListener(sx,m),u=null}},createHref(N){return e(a,N)},createURL:S,encodeLocation(N){let y=S(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:v,go(N){return s.go(N)}};return A}function Gk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Vc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $A(t,e,n="/"){return Yk(t,e,n,!1)}function Yk(t,e,n,r){let a=typeof e=="string"?Ho(e):e,i=Xr(a.pathname||"/",n);if(i==null)return null;let s=qA(t);Wk(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let h=ij(i);o=rj(s[u],h,r)}return o}function qA(t,e=[],n=[],r="",a=!1){let i=(s,o,u=a,h)=>{let d={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;qe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let m=Fr([r,d.relativePath]),p=n.concat(d);s.children&&s.children.length>0&&(qe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),qA(s.children,e,p,m,u)),!(s.path==null&&!s.index)&&e.push({path:m,score:tj(m,s.index),routesMeta:p})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let h of HA(s.path))i(s,o,!0,h)}),e}function HA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=HA(r.join("/")),o=[];return o.push(...s.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function Wk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Kk=/^:[\w-]+$/,Qk=3,Xk=2,Jk=1,Zk=10,ej=-2,lx=t=>t==="*";function tj(t,e){let n=t.split("/"),r=n.length;return n.some(lx)&&(r+=ej),e&&(r+=Xk),n.filter(a=>!lx(a)).reduce((a,i)=>a+(Kk.test(i)?Qk:i===""?Jk:Zk),r)}function nj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function rj(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],h=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=Rd({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),p=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Rd({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:Fr([i,m.pathname]),pathnameBase:cj(Fr([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=Fr([i,m.pathnameBase]))}return s}function Rd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aj(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:m},p)=>{if(d==="*"){let S=o[p]||"";s=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=o[p];return m&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:s,pattern:t}}function aj(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function ij(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var GA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sj=t=>GA.test(t);function oj(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ho(t):t,i;if(n)if(sj(n))i=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?i=cx(n.substring(1),"/"):i=cx(n,e)}else i=e;return{pathname:i,search:uj(r),hash:hj(a)}}function cx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function vp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H0(t){let e=lj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function G0(t,e,n,r=!1){let a;typeof t=="string"?a=Ho(t):(a={...t},qe(!a.pathname||!a.pathname.includes("?"),vp("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),vp("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),vp("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}o=m>=0?e[m]:"/"}let u=oj(a,o),h=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}var Fr=t=>t.join("/").replace(/\/\/+/g,"/"),cj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,dj=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function fj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function mj(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WA(t,e){let n=t;if(typeof n!="string"||!GA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(YA)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),o=Xr(s.pathname,e);s.origin===i.origin&&o!=null?n=o+s.search+s.hash:a=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KA=["POST","PUT","PATCH","DELETE"];new Set(KA);var pj=["GET",...KA];new Set(pj);var Go=R.createContext(null);Go.displayName="DataRouter";var Sf=R.createContext(null);Sf.displayName="DataRouterState";var gj=R.createContext(!1),QA=R.createContext({isTransitioning:!1});QA.displayName="ViewTransition";var yj=R.createContext(new Map);yj.displayName="Fetchers";var vj=R.createContext(null);vj.displayName="Await";var wn=R.createContext(null);wn.displayName="Navigation";var cu=R.createContext(null);cu.displayName="Location";var Jn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Y0=R.createContext(null);Y0.displayName="RouteError";var XA="REACT_ROUTER_ERROR",_j="REDIRECT",bj="ROUTE_ERROR_RESPONSE";function xj(t){if(t.startsWith(`${XA}:${_j}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function wj(t){if(t.startsWith(`${XA}:${bj}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new dj(e.status,e.statusText,e.data)}catch{}}function Ej(t,{relative:e}={}){qe(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(wn),{hash:a,pathname:i,search:s}=uu(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:Fr([n,i])),r.createHref({pathname:o,search:s,hash:a})}function Yo(){return R.useContext(cu)!=null}function aa(){return qe(Yo(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(cu).location}var JA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZA(t){R.useContext(wn).static||R.useLayoutEffect(t)}function Wo(){let{isDataRoute:t}=R.useContext(Jn);return t?Pj():Tj()}function Tj(){qe(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Go),{basename:e,navigator:n}=R.useContext(wn),{matches:r}=R.useContext(Jn),{pathname:a}=aa(),i=JSON.stringify(H0(r)),s=R.useRef(!1);return ZA(()=>{s.current=!0}),R.useCallback((u,h={})=>{if(Vn(s.current,JA),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=G0(u,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fr([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,a,t])}R.createContext(null);function e2(){let{matches:t}=R.useContext(Jn),e=t[t.length-1];return e?e.params:{}}function uu(t,{relative:e}={}){let{matches:n}=R.useContext(Jn),{pathname:r}=aa(),a=JSON.stringify(H0(n));return R.useMemo(()=>G0(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Sj(t,e){return t2(t,e)}function t2(t,e,n,r,a){var _;qe(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(wn),{matches:s}=R.useContext(Jn),o=s[s.length-1],u=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let x=m&&m.path||"";r2(h,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=aa(),v;if(e){let x=typeof e=="string"?Ho(e):e;qe(d==="/"||((_=x.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${x.pathname}" was given in the \`location\` prop.`),v=x}else v=p;let S=v.pathname||"/",A=S;if(d!=="/"){let x=d.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let N=$A(t,{pathname:A});Vn(m||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Ij(N&&N.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:Fr([d,i.encodeLocation?i.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?d:Fr([d,i.encodeLocation?i.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),s,n,r,a);return e&&y?R.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},y):y}function Aj(){let t=Mj(),e=fj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,s)}var Nj=R.createElement(Aj,null),n2=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=wj(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(Jn.Provider,{value:this.props.routeContext},R.createElement(Y0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(Cj,{error:t},e):e}};n2.contextType=gj;var _p=new WeakMap;function Cj({children:t,error:e}){let{basename:n}=R.useContext(wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=xj(e.digest);if(r){let a=_p.get(e);if(a)throw a;let i=WA(r.location,n);if(YA&&!_p.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw _p.set(e,s),s}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Rj({routeContext:t,match:e,children:n}){let r=R.useContext(Go);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Jn.Provider,{value:t},n)}function Ij(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let d=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);qe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:p,errors:v}=n,S=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let h=n&&r?(d,m)=>{var p,v;r(d,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},unstable_pattern:mj(n.matches),errorInfo:m})}:void 0;return i.reduceRight((d,m,p)=>{let v,S=!1,A=null,N=null;n&&(v=s&&m.route.id?s[m.route.id]:void 0,A=m.route.errorElement||Nj,o&&(u<0&&p===0?(r2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):u===p&&(S=!0,N=m.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,p+1)),_=()=>{let x;return v?x=A:S?x=N:m.route.Component?x=R.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=d,R.createElement(Rj,{match:m,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?R.createElement(n2,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:h}):_()},null)}function W0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dj(t){let e=R.useContext(Go);return qe(e,W0(t)),e}function Oj(t){let e=R.useContext(Sf);return qe(e,W0(t)),e}function kj(t){let e=R.useContext(Jn);return qe(e,W0(t)),e}function K0(t){let e=kj(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jj(){return K0("useRouteId")}function Mj(){var r;let t=R.useContext(Y0),e=Oj("useRouteError"),n=K0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Pj(){let{router:t}=Dj("useNavigate"),e=K0("useNavigate"),n=R.useRef(!1);return ZA(()=>{n.current=!0}),R.useCallback(async(a,i={})=>{Vn(n.current,JA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var ux={};function r2(t,e,n){!e&&!ux[t]&&(ux[t]=!0,Vn(!1,n))}R.memo(Lj);function Lj({routes:t,future:e,state:n,onError:r}){return t2(t,void 0,n,r,e)}function Vj({to:t,replace:e,state:n,relative:r}){qe(Yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(wn);Vn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=R.useContext(Jn),{pathname:s}=aa(),o=Wo(),u=G0(t,H0(i),s,r==="path"),h=JSON.stringify(u);return R.useEffect(()=>{o(JSON.parse(h),{replace:e,state:n,relative:r})},[o,h,r,e,n]),null}function ji(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Uj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){qe(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof n=="string"&&(n=Ho(n));let{pathname:h="/",search:d="",hash:m="",state:p=null,key:v="default"}=n,S=R.useMemo(()=>{let A=Xr(h,o);return A==null?null:{location:{pathname:A,search:d,hash:m,state:p,key:v},navigationType:r}},[o,h,d,m,p,v,r]);return Vn(S!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:R.createElement(wn.Provider,{value:u},R.createElement(cu.Provider,{children:e,value:S}))}function zj({children:t,location:e}){return Sj(Gg(t),e)}function Gg(t,e=[]){let n=[];return R.Children.forEach(t,(r,a)=>{if(!R.isValidElement(r))return;let i=[...e,a];if(r.type===R.Fragment){n.push.apply(n,Gg(r.props.children,i));return}qe(r.type===ji,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Gg(r.props.children,i)),n.push(s)}),n}var zh="get",Bh="application/x-www-form-urlencoded";function Af(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Bj(t){return Af(t)&&t.tagName.toLowerCase()==="button"}function Fj(t){return Af(t)&&t.tagName.toLowerCase()==="form"}function $j(t){return Af(t)&&t.tagName.toLowerCase()==="input"}function qj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Hj(t,e){return t.button===0&&(!e||e==="_self")&&!qj(t)}var lh=null;function Gj(){if(lh===null)try{new FormData(document.createElement("form"),0),lh=!1}catch{lh=!0}return lh}var Yj=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(t){return t!=null&&!Yj.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bh}"`),null):t}function Wj(t,e){let n,r,a,i,s;if(Fj(t)){let o=t.getAttribute("action");r=o?Xr(o,e):null,n=t.getAttribute("method")||zh,a=bp(t.getAttribute("enctype"))||Bh,i=new FormData(t)}else if(Bj(t)||$j(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?Xr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||zh,a=bp(t.getAttribute("formenctype"))||bp(o.getAttribute("enctype"))||Bh,i=new FormData(o,t),!Gj()){let{name:h,type:d,value:m}=t;if(d==="image"){let p=h?`${h}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else h&&i.append(h,m)}}else{if(Af(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,r=null,a=Bh,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Q0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Kj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Qj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Xj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Jj(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await Qj(i,n);return s.links?s.links():[]}return[]}));return n4(r.flat(1).filter(Xj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function hx(t,e,n,r,a,i){let s=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,o=(u,h)=>{var d;return n[h].pathname!==u.pathname||((d=n[h].route.path)==null?void 0:d.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>s(u,h)||o(u,h)):i==="data"?e.filter((u,h)=>{var m;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,h)||o(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Zj(t,e,{includeHydrateFallback:n}={}){return e4(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function e4(t){return[...new Set(t)]}function t4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function n4(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(t4(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function a2(){let t=R.useContext(Go);return Q0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function r4(){let t=R.useContext(Sf);return Q0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var X0=R.createContext(void 0);X0.displayName="FrameworkContext";function i2(){let t=R.useContext(X0);return Q0(t,"You must render this element inside a <HydratedRouter> element"),t}function a4(t,e){let n=R.useContext(X0),[r,a]=R.useState(!1),[i,s]=R.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:h,onMouseLeave:d,onTouchStart:m}=e,p=R.useRef(null);R.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let A=y=>{y.forEach(_=>{s(_.isIntersecting)})},N=new IntersectionObserver(A,{threshold:.5});return p.current&&N.observe(p.current),()=>{N.disconnect()}}},[t]),R.useEffect(()=>{if(r){let A=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(A)}}},[r]);let v=()=>{a(!0)},S=()=>{a(!1),s(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:zl(o,v),onBlur:zl(u,S),onMouseEnter:zl(h,v),onMouseLeave:zl(d,S),onTouchStart:zl(m,v)}]:[!1,p,{}]}function zl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function i4({page:t,...e}){let{router:n}=a2(),r=R.useMemo(()=>$A(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(o4,{page:t,matches:r,...e}):null}function s4(t){let{manifest:e,routeModules:n}=i2(),[r,a]=R.useState([]);return R.useEffect(()=>{let i=!1;return Jj(t,e,n).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,n]),r}function o4({page:t,matches:e,...n}){let r=aa(),{manifest:a,routeModules:i}=i2(),{basename:s}=a2(),{loaderData:o,matches:u}=r4(),h=R.useMemo(()=>hx(t,e,u,a,r,"data"),[t,e,u,a,r]),d=R.useMemo(()=>hx(t,e,u,a,r,"assets"),[t,e,u,a,r]),m=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(y=>{var x;let _=a.routes[y.route.id];!_||!_.hasLoader||(!h.some(D=>D.route.id===y.route.id)&&y.route.id in o&&((x=i[y.route.id])!=null&&x.shouldRevalidate)||_.hasClientLoader?A=!0:S.add(y.route.id))}),S.size===0)return[];let N=Kj(t,s,"data");return A&&S.size>0&&N.searchParams.set("_routes",e.filter(y=>S.has(y.route.id)).map(y=>y.route.id).join(",")),[N.pathname+N.search]},[s,o,r,a,h,e,t,i]),p=R.useMemo(()=>Zj(d,a),[d,a]),v=s4(d);return R.createElement(R.Fragment,null,m.map(S=>R.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),p.map(S=>R.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:A})=>R.createElement("link",{key:S,nonce:n.nonce,...A})))}function l4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var c4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c4&&(window.__reactRouterVersion="7.11.0")}catch{}function u4({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=R.useRef();a.current==null&&(a.current=$k({window:r,v5Compat:!0}));let i=a.current,[s,o]=R.useState({action:i.action,location:i.location}),u=R.useCallback(h=>{n===!1?o(h):R.startTransition(()=>o(h))},[n]);return R.useLayoutEffect(()=>i.listen(u),[i,u]),R.createElement(Uj,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var s2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o2=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:s,state:o,target:u,to:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},S){let{basename:A,unstable_useTransitions:N}=R.useContext(wn),y=typeof h=="string"&&s2.test(h),_=WA(h,A);h=_.to;let x=Ej(h,{relative:a}),[D,L,H]=a4(r,v),T=m4(h,{replace:s,state:o,target:u,preventScrollReset:d,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:N});function E(C){e&&e(C),C.defaultPrevented||T(C)}let b=R.createElement("a",{...v,...H,href:_.absoluteURL||x,onClick:_.isExternal||i?e:E,ref:l4(S,L),target:u,"data-discover":!y&&n==="render"?"true":void 0});return D&&!y?R.createElement(R.Fragment,null,b,R.createElement(i4,{page:x})):b});o2.displayName="Link";var h4=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:s,viewTransition:o,children:u,...h},d){let m=uu(s,{relative:h.relative}),p=aa(),v=R.useContext(Sf),{navigator:S,basename:A}=R.useContext(wn),N=v!=null&&_4(m)&&o===!0,y=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,_=p.pathname,x=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,y=y.toLowerCase()),x&&A&&(x=Xr(x,A)||x);const D=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let L=_===y||!a&&_.startsWith(y)&&_.charAt(D)==="/",H=x!=null&&(x===y||!a&&x.startsWith(y)&&x.charAt(y.length)==="/"),T={isActive:L,isPending:H,isTransitioning:N},E=L?e:void 0,b;typeof r=="function"?b=r(T):b=[r,L?"active":null,H?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(T):i;return R.createElement(o2,{...h,"aria-current":E,className:b,ref:d,style:C,to:s,viewTransition:o},typeof u=="function"?u(T):u)});h4.displayName="NavLink";var d4=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:s=zh,action:o,onSubmit:u,relative:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},S)=>{let{unstable_useTransitions:A}=R.useContext(wn),N=y4(),y=v4(o,{relative:h}),_=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&s2.test(o),D=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let H=L.nativeEvent.submitter,T=(H==null?void 0:H.getAttribute("formmethod"))||s,E=()=>N(H||L.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:a,state:i,relative:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p});A&&n!==!1?R.startTransition(()=>E()):E()};return R.createElement("form",{ref:S,method:_,action:y,onSubmit:r?u:D,...v,"data-discover":!x&&t==="render"?"true":void 0})});d4.displayName="Form";function f4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(t){let e=R.useContext(Go);return qe(e,f4(t)),e}function m4(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let h=Wo(),d=aa(),m=uu(t,{relative:i});return R.useCallback(p=>{if(Hj(p,e)){p.preventDefault();let v=n!==void 0?n:Vc(d)===Vc(m),S=()=>h(t,{replace:v,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});u?R.startTransition(()=>S()):S()}},[d,h,m,n,r,e,t,a,i,s,o,u])}var p4=0,g4=()=>`__${String(++p4)}__`;function y4(){let{router:t}=l2("useSubmit"),{basename:e}=R.useContext(wn),n=jj(),r=t.fetch,a=t.navigate;return R.useCallback(async(i,s={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=Wj(i,e);if(s.navigate===!1){let p=s.fetcherKey||g4();await r(p,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,a,e,n])}function v4(t,{relative:e}={}){let{basename:n}=R.useContext(wn),r=R.useContext(Jn);qe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...uu(t||".",{relative:e})},s=aa();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(d=>d==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:Fr([n,i.pathname])),Vc(i)}function _4(t,{relative:e}={}){let n=R.useContext(QA);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l2("useViewTransitionState"),a=uu(t,{relative:e});if(!n.isTransitioning)return!1;let i=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rd(a.pathname,s)!=null||Rd(a.pathname,i)!=null}const c2=R.createContext(),li=()=>{const t=R.useContext(c2);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},b4=({children:t})=>{const[e,n]=R.useState("en"),a={language:e,setLanguage:n,changeLanguage:i=>{n(i)}};return l.jsx(c2.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dx=t=>{const e=w4(t);return e.charAt(0).toUpperCase()+e.slice(1)},u2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),E4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...o},u)=>R.createElement("svg",{ref:u,...T4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:u2("lucide",a),...!i&&!E4(o)&&{"aria-hidden":"true"},...o},[...s.map(([h,d])=>R.createElement(h,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const n=R.forwardRef(({className:r,...a},i)=>R.createElement(S4,{ref:i,iconNode:e,className:u2(`lucide-${x4(dx(t))}`,`lucide-${t}`,r),...a}));return n.displayName=dx(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],N4=ce("archive",A4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],fx=ce("arrow-left",C4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],h2=ce("banknote",R4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Pi=ce("calendar",I4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nf=ce("check",D4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],k4=ce("chevron-down",O4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],M4=ce("chevron-up",j4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L4=ce("circle-alert",P4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pr=ce("circle-check",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Yg=ce("circle-x",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],d2=ce("clock",z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],ch=ce("cloud-rain",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],$4=ce("cloud-snow",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Bl=ce("cloud",q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],J0=ce("copy",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],f2=ce("credit-card",G4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Z0=ce("dollar-sign",Y4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],K4=ce("external-link",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],X4=ce("facebook",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],$r=ce("gift",J4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],eM=ce("instagram",Z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],nM=ce("loader",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],aM=ce("log-in",rM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],sM=ce("log-out",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mx=ce("map-pin",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],m2=ce("message-circle",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uM=ce("message-square",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],dM=ce("party-popper",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],p2=ce("pen",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g2=ce("plus",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],px=ce("search",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gx=ce("sparkles",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vM=ce("square-pen",yM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],bM=ce("sun",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Cf=ce("trash-2",xM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],y2=ce("user-plus",wM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Id=ce("user",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v2=ce("users",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],yx=ce("wind",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ko=ce("x",AM),V={primary:{teal:"#00BCD4",black:"#2B2B2B",white:"#FFFFFF"},success:"#10b981",seat:{vacant:"#E5E7EB",occupied:"#10b981",selected:"#00BCD4"},button:{danger:"#ef4444"},gradient:{primary:"linear-gradient(135deg, #00BCD4 0%, #26C6DA 100%)"}},NM=()=>{const t=Wo(),{language:e,changeLanguage:n}=li(),[r,a]=R.useState(!1),[i,s]=R.useState({name:"",email:"",phone:"",destination:"",message:""});R.useEffect(()=>{sessionStorage.getItem("hasVisitedLanding")||(a(!0),sessionStorage.setItem("hasVisitedLanding","true"))},[]);const u={en:{welcome:"Welcome to IVRI Tours!",welcomeMsg:"Discover breathtaking destinations with expert tour guides in multiple languages. Your adventure begins here!",getStarted:"Get Started",heroTitle:"Explore North America with IVRI Tours",heroSubtitle:"Professional guided tours in English, Hebrew, and Russian",destinationsTitle:"Our Amazing Destinations",multiLang:"Multi-language Tours",duration:"Duration",groupSize:"Group Size",highlights:"Highlights",testimonialsTitle:"What People Say About Us",socialTitle:"Follow Our Adventures",socialDesc:"Stay connected with our latest tours, photos, and travel tips on social media!",visitFacebook:"Visit Facebook",visitInstagram:"Visit Instagram",contactTitle:"Contact Us",nameLabel:"Name",emailLabel:"Email",phoneLabel:"Phone",destinationLabel:"Preferred Destination",messageLabel:"Message",submitBtn:"Send Message",footerText:"All rights reserved. Explore the world with us!",adminLogin:"Admin Login",destinations:{toronto:{title:"Toronto Downtown",desc:"Explore Canada's largest and most diverse city! Experience the iconic CN Tower with breathtaking 360 views, stroll along the beautiful harbourfront, discover the historic Distillery District, visit the Royal Ontario Museum, and immerse yourself in vibrant multicultural neighborhoods like Kensington Market and Chinatown.",duration:"8-10 hours",groupSize:"12-20 people",highlights:["CN Tower & Views","Harbourfront Walk","Distillery District","ROM Museum","Kensington Market"]},niagara:{title:"Niagara Falls",desc:"Witness the raw power and beauty of one of the world's most spectacular natural wonders! Get up close with the Hornblower boat tour, walk behind the falls at Journey Behind the Falls, enjoy panoramic views from Skylon Tower, explore the charming town of Niagara-on-the-Lake, and taste world-class wines at local vineyards.",duration:"Full Day (10-12 hours)",groupSize:"15-25 people",highlights:["Hornblower Boat Tour","Journey Behind Falls","Skylon Tower","Niagara-on-the-Lake","Wine Tasting"]},tremblant:{title:"mont-tremblant",desc:"Discover Quebec's premier four-season resort destination! Experience world-class skiing and snowboarding in winter, enjoy scenic gondola rides with stunning Laurentian views, explore the charming European-style pedestrian village, try exciting outdoor activities like hiking and zip-lining, and relax in the beautiful natural surroundings.",duration:"2-3 Days",groupSize:"10-18 people",highlights:["Skiing & Snowboarding","Scenic Gondola","Village Pedestrian","Outdoor Activities","Spa & Relaxation"]},quebec:{title:"Quebec City",desc:"Step into Europe without leaving North America! Wander through the UNESCO World Heritage Old Quebec with its cobblestone streets, visit the majestic Chteau Frontenac, explore the historic Citadelle fortification, discover the charming Quartier Petit Champlain, and savor authentic French-Canadian cuisine and culture.",duration:"2-3 Days",groupSize:"12-20 people",highlights:["Old Quebec UNESCO Site","Chteau Frontenac","Citadelle Tour","Petit Champlain","French Cuisine"]},barrie:{title:"Barrie & Lake Simcoe",desc:"Experience Ontario's beautiful lakeside gem! Enjoy stunning waterfront parks and beaches along Lake Simcoe, explore the historic downtown with unique shops and restaurants, visit Spirit Catcher sculpture and Centennial Park, experience seasonal activities like swimming in summer or ice fishing in winter.",duration:"6-8 hours",groupSize:"10-15 people",highlights:["Lake Simcoe Beach","Waterfront Parks","Downtown Shopping","Spirit Catcher","Seasonal Activities"]},detroit:{title:"Detroit",desc:"Discover the Motor City's incredible transformation! Visit the Henry Ford Museum and Greenfield Village, explore the stunning Detroit Institute of Arts, walk along the beautiful RiverWalk, tour the historic Fox Theatre, experience the vibrant Eastern Market, and learn about Motown's musical legacy.",duration:"Full Day (10-12 hours)",groupSize:"15-20 people",highlights:["Henry Ford Museum","DIA Art Museum","Detroit RiverWalk","Motown Museum","Eastern Market"]},chicago:{title:"Chicago",desc:"Experience the magnificent Windy City! Marvel at world-famous architecture on a river cruise, visit Millennium Park and the iconic Cloud Gate (Bean), explore Navy Pier and Lake Michigan shoreline, enjoy deep-dish pizza, discover Art Institute treasures, and take in breathtaking views from Willis Tower Skydeck.",duration:"2-3 Days",groupSize:"15-25 people",highlights:["Architecture River Cruise","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck","Deep-Dish Pizza"]}},testimonials:[{text:"Amazing experience! The tour guide was knowledgeable and friendly. Seeing Niagara Falls was a dream come true!",author:"Sarah M."},{text:"The multi-language support made everything so comfortable for our family. Highly recommend IVRI Tours!",author:"David L."},{text:"Quebec City tour was magical! Our guide shared fascinating stories and insider tips. Best vacation ever!",author:"Rachel K."},{text:"Professional, organized, and fun! The Chicago architecture tour exceeded all expectations. Thank you IVRI Tours!",author:"Michael R."}]},he:{welcome:"  -IVRI Tours!",welcomeMsg:"         .    !",getStarted:" ",heroTitle:"     IVRI Tours",heroSubtitle:"   ,  ",destinationsTitle:"  ",multiLang:"  ",duration:"",groupSize:" ",highlights:"",testimonialsTitle:"  ",socialTitle:"   ",socialDesc:"    ,    !",visitFacebook:" ",visitInstagram:" ",contactTitle:" ",nameLabel:"",emailLabel:"",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .    !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN    360  ,    ,     ,        - .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN "," "," "," ROM"," "]},niagara:{title:" ",desc:"         !     Hornblower,   ,     Skylon,     Niagara-on-the-Lake    .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower","  "," Skylon","Niagara-on-the-Lake"," "]},tremblant:{title:" ",desc:"        !      ,        ,           .",duration:"2-3 ",groupSize:"10-18 ",highlights:[" "," ","  "," "," "]},quebec:{title:" ",desc:'      !         "   ,    ,       - .',duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," "," "," "," "]},barrie:{title:"  ",desc:"     !        ,         ,   Spirit Catcher  Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," "," ","Spirit Catcher"," "]},detroit:{title:"",desc:"      !    ,       ,   -RiverWalk ,   Fox      .",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  "," DIA","Detroit RiverWalk"," ","Eastern Market"]},chicago:{title:"",desc:"    !     ,    -Cloud Gate ,   Navy Pier   ,         Willis.",duration:"2-3 ",groupSize:"15-25 ",highlights:["  ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .       !",author:" ."},{text:" -        .    IVRI Tours!",author:" ."},{text:"    !       .     !",author:" ."},{text:",  !       .  IVRI Tours!",author:" ."}]},ru:{welcome:"   IVRI Tours!",welcomeMsg:"           .    !",getStarted:"",heroTitle:"    IVRI Tours",heroSubtitle:"   ,    ",destinationsTitle:"  ",multiLang:" ",duration:"",groupSize:" ",highlights:" ",testimonialsTitle:"   ",socialTitle:"   ",socialDesc:"     ,      !",visitFacebook:" Facebook",visitInstagram:" Instagram",contactTitle:"  ",nameLabel:"",emailLabel:" ",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .     !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN     360,    ,      Distillery,          .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN  ","  "," Distillery"," ROM"," "]},niagara:{title:" ",desc:"          !     Hornblower,     Journey Behind the Falls,      Skylon,    ---     .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower"," "," Skylon","---"," "]},tremblant:{title:"-",desc:"      !       ,          ,              .",duration:"2-3 ",groupSize:"10-18 ",highlights:["  "," "," "," ","  "]},quebec:{title:"-",desc:"  ,    !    ,    ,    ,    ,   ,      -    - .",duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," ","  ","-"," "]},barrie:{title:"   ",desc:"      !         ,         ,   Spirit Catcher   Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," ","  ","Spirit Catcher"," "]},detroit:{title:"",desc:"     -!      -,     ,     RiverWalk,      Fox      Motown.",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  ","  DIA","Detroit RiverWalk"," Motown","Eastern Market"]},chicago:{title:"",desc:"   !        ,  -   Cloud Gate (Bean),  Navy Pier     ,         Willis Tower Skydeck.",duration:"2-3 ",groupSize:"15-25 ",highlights:[" ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .      !",author:" ."},{text:"        .   IVRI Tours!",author:" ."},{text:"    !        .    !",author:" ."},{text:",   !       .  IVRI Tours!",author:" ."}]}}[e],h=[{key:"toronto",image:"https://images.unsplash.com/photo-1517935706615-2717063c2225?w=800&q=80"},{key:"niagara",image:"https://images.unsplash.com/photo-1489447068241-b3490214e879?w=800&q=80"},{key:"mont-tremblant",image:"https://images.unsplash.com/photo-1729477458908-0a59d8026ed8?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{key:"quebec",image:"https://images.unsplash.com/photo-1519451241324-20b4ea2c4220?w=800&q=80"},{key:"barrie",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80"},{key:"detroit",image:"https://images.unsplash.com/photo-1590859808308-3d2d9c515b1a?w=800&q=80"},{key:"chicago",image:"https://images.unsplash.com/photo-1494522358652-f30e61a60313?w=800&q=80"}],d=["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&q=80","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&q=80","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&q=80","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200&q=80"],m=p=>{p.preventDefault(),alert({en:"Thank you for your message! We will contact you soon.",he:"  !    .",ru:"   !     ."}[e]),s({name:"",email:"",phone:"",destination:"",message:""})};return l.jsxs("div",{className:"min-h-screen bg-white",dir:e==="he"?"rtl":"ltr",children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 px-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-lg w-full text-center shadow-2xl animate-slideDown",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:V.primary.teal},children:u.welcome}),l.jsx("p",{className:"text-lg text-gray-600 mb-6",children:u.welcomeMsg}),l.jsx("button",{onClick:()=>a(!1),className:"px-8 py-3 text-white rounded-lg text-lg font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:V.primary.teal},children:u.getStarted})]})}),l.jsx("nav",{className:"bg-white shadow-md sticky top-0 z-40",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:V.primary.teal},children:"IVRI Tours"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>n("en"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="en"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="en"?{backgroundColor:V.primary.teal}:{},children:"English"}),l.jsx("button",{onClick:()=>n("he"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="he"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="he"?{backgroundColor:V.primary.teal}:{},children:""}),l.jsx("button",{onClick:()=>n("ru"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="ru"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="ru"?{backgroundColor:V.primary.teal}:{},children:""})]})]})})}),l.jsx("section",{className:"py-20 px-4 text-center text-white",style:{background:`linear-gradient(135deg, ${V.primary.teal} 0%, #0097A7 100%)`},children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",children:u.heroTitle}),l.jsx("p",{className:"text-xl sm:text-2xl opacity-95",children:u.heroSubtitle})]})}),l.jsxs("section",{className:"py-16 px-4 max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:V.primary.teal},children:u.destinationsTitle}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(p=>l.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2",children:[l.jsx("div",{className:"h-64 bg-cover bg-center",style:{backgroundImage:`url(${p.image})`}}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:V.primary.teal},children:u.destinations[p.key].title}),l.jsx("p",{className:"text-gray-600 leading-relaxed mb-4 text-sm",children:u.destinations[p.key].desc}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(d2,{className:"w-4 h-4",style:{color:V.primary.teal}}),l.jsxs("span",{className:"font-semibold",children:[u.duration,":"]})," ",u.destinations[p.key].duration]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(v2,{className:"w-4 h-4",style:{color:V.primary.teal}}),l.jsxs("span",{className:"font-semibold",children:[u.groupSize,":"]})," ",u.destinations[p.key].groupSize]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:[u.highlights,":"]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:u.destinations[p.key].highlights.map((v,S)=>l.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-white text-xs",style:{backgroundColor:V.primary.teal},children:v},S))})]}),l.jsxs("span",{className:"inline-block px-4 py-2 rounded-full text-white text-sm font-medium mt-2",style:{backgroundColor:V.primary.teal},children:[" ",u.multiLang]})]})]},p.key))})]}),l.jsx("section",{className:"py-16 px-4 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:V.primary.teal},children:u.testimonialsTitle}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.testimonials.map((p,v)=>l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 bg-cover bg-center",style:{backgroundImage:`url(${d[v]})`,border:`3px solid ${V.primary.teal}`}}),l.jsxs("p",{className:"text-gray-600 italic mb-4 leading-relaxed",children:['"',p.text,'"']}),l.jsx("h4",{className:"font-bold",style:{color:V.primary.teal},children:p.author})]},v))})]})}),l.jsx("section",{className:"py-16 px-4 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",style:{color:V.primary.teal},children:u.socialTitle}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:u.socialDesc}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[l.jsxs("a",{href:"https://www.facebook.com/Ivritours/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{backgroundColor:"#1877F2"},children:[l.jsx(X4,{className:"w-6 h-6"}),u.visitFacebook]}),l.jsxs("a",{href:"https://www.instagram.com/ivritours_ca/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{background:"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)"},children:[l.jsx(eM,{className:"w-6 h-6"}),u.visitInstagram]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 shadow-inner",children:[l.jsxs("div",{className:"text-gray-500 mb-6",children:[l.jsx("p",{className:"text-lg font-semibold mb-2",children:"Connect with us:"}),l.jsx("p",{className:"mb-1",children:"Facebook: @Ivritours"}),l.jsx("p",{children:"Instagram: @ivritours_ca"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:V.primary.teal},children:"1000+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Happy Travelers"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:V.primary.teal},children:"100+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Tours Completed"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:V.primary.teal},children:"7"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Destinations"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:V.primary.teal},children:"3"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Languages"})]})]})]})]})}),l.jsxs("section",{className:"py-16 px-4 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:V.primary.teal},children:u.contactTitle}),l.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.nameLabel," *"]}),l.jsx("input",{type:"text",value:i.name,onChange:p=>s({...i,name:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.emailLabel," *"]}),l.jsx("input",{type:"email",value:i.email,onChange:p=>s({...i,email:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:u.phoneLabel}),l.jsx("input",{type:"tel",value:i.phone,onChange:p=>s({...i,phone:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:u.destinationLabel}),l.jsx("input",{type:"text",value:i.destination,onChange:p=>s({...i,destination:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.messageLabel," *"]}),l.jsx("textarea",{value:i.message,onChange:p=>s({...i,message:p.target.value}),rows:"6",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors resize-vertical",required:!0})]}),l.jsx("button",{type:"submit",className:"w-full py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:V.primary.teal},children:u.submitBtn})]})]}),l.jsx("footer",{className:"bg-gray-900 text-white py-8 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-4",style:{color:V.primary.teal},children:"IVRI Tours"}),l.jsxs("p",{className:"text-gray-400 mb-4",children:[" 2025 IVRI Tours. ",u.footerText]}),l.jsx("button",{onClick:()=>t("/login"),className:"text-sm hover:underline",style:{color:V.primary.teal},children:u.adminLogin})]})}),l.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideDown { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
        .animate-slideDown { animation: slideDown 0.5s ease-out; }
      `})]})};function _2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=_2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Rf(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=_2(t))&&(r&&(r+=" "),r+=e);return r}const CM=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const a=Object.getOwnPropertyDescriptor(t,n),i=Object.getOwnPropertyDescriptor(e,n);!RM(a,i)&&r||Object.defineProperty(t,n,i)},RM=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},IM=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},DM=(t,e)=>`/* Wrapped ${t}*/
${e}`,OM=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),kM=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),jM=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,a=DM.bind(null,r,e.toString());Object.defineProperty(a,"name",kM);const{writable:i,enumerable:s,configurable:o}=OM;Object.defineProperty(t,"toString",{value:a,writable:i,enumerable:s,configurable:o})};function MM(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const a of Reflect.ownKeys(e))CM(t,e,a,n);return IM(t,e),jM(t,e,r),t}const uh=2147483647,PM=new WeakMap,xp=new WeakMap,LM=new WeakMap;function VM(t,e){const n=t.get(e);if(n){if(n.maxAge<=Date.now()){t.delete(e);return}return n}}function b2(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"&&Number.isFinite(r)){if(r>uh)throw new TypeError(`The \`maxAge\` option cannot exceed ${uh}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(...i){var d;const s=e?e(i):i[0],o=VM(n,s);if(o)return o.data;const u=t.apply(this,i),h=typeof r=="function"?r(...i):r;if(h!==void 0&&h!==Number.POSITIVE_INFINITY){if(!Number.isFinite(h))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(h<=0)return u;if(h>uh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${uh}.`)}if(n.set(s,{data:u,maxAge:h===void 0||h===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+h}),h!==void 0&&h!==Number.POSITIVE_INFINITY){const m=setTimeout(()=>{var v;n.delete(s),(v=xp.get(a))==null||v.delete(m)},h);(d=m.unref)==null||d.call(m);const p=xp.get(a)??new Set;p.add(m),xp.set(a,p)}return u};return MM(a,t,{ignoreNonConfigurable:!0}),PM.set(a,n),LM.set(a,e??(i=>i[0])),a}function UM(t){return typeof t=="string"}function zM(t,e,n){return n.indexOf(t)===e}function BM(t){return t.toLowerCase()===t}function vx(t){return t.indexOf(",")===-1?t:t.split(",")}function Wg(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Wg(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return Wg(n)}if(t.indexOf("-")===-1||!BM(t))return t;var a=t.split("-"),i=a[0],s=a[1],o=s===void 0?"":s;return"".concat(i,"-").concat(o.toUpperCase())}function FM(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,a=e.fallbackLocale,i=a===void 0?"en-US":a,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],u=[],h=0,d=o;h<d.length;h++){var m=d[h];u=u.concat(vx(m))}var p=navigator.language,v=p&&vx(p);s=s.concat(u,v)}return r&&s.push(i),s.filter(UM).map(Wg).filter(zM)}var $M=b2(FM,{cacheKey:JSON.stringify});function qM(t){return $M(t)[0]||null}var x2=b2(qM,{cacheKey:JSON.stringify});function ia(t,e,n){return function(a,i=n){const s=t(a)+i;return e(s)}}function hu(t){return function(n){return new Date(t(n).getTime()-1)}}function du(t,e){return function(r){return[t(r),e(r)]}}function He(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function ci(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function If(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Qo(t){const e=He(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const HM=ia(He,Qo,-100),w2=ia(He,Qo,100),ev=hu(w2),GM=ia(He,ev,-100),E2=du(Qo,ev);function ui(t){const e=He(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const T2=ia(He,ui,-10),tv=ia(He,ui,10),Df=hu(tv),S2=ia(He,Df,-10),A2=du(ui,Df);function Xo(t){const e=He(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const N2=ia(He,Xo,-1),nv=ia(He,Xo,1),Of=hu(nv),C2=ia(He,Of,-1),YM=du(Xo,Of);function rv(t,e){return function(r,a=e){const i=He(r),s=ci(r)+a,o=new Date;return o.setFullYear(i,s,1),o.setHours(0,0,0,0),t(o)}}function us(t){const e=He(t),n=ci(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const R2=rv(us,-1),av=rv(us,1),fu=hu(av),I2=rv(fu,-1),WM=du(us,fu);function KM(t,e){return function(r,a=e){const i=He(r),s=ci(r),o=If(r)+a,u=new Date;return u.setFullYear(i,s,o),u.setHours(0,0,0,0),t(u)}}function mu(t){const e=He(t),n=ci(t),r=If(t),a=new Date;return a.setFullYear(e,n,r),a.setHours(0,0,0,0),a}const QM=KM(mu,1),iv=hu(QM),XM=du(mu,iv);function D2(t){return If(fu(t))}var Rt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},JM={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},sv=[0,1,2,3,4,5,6],wp=new Map;function ZM(t){return function(n,r){var a=n||x2();wp.has(a)||wp.set(a,new Map);var i=wp.get(a);return i.has(t)||i.set(t,new Intl.DateTimeFormat(a||void 0,t).format),i.get(t)(r)}}function eP(t){var e=new Date(t);return new Date(e.setHours(12))}function hs(t){return function(e,n){return ZM(t)(e,eP(n))}}var tP={day:"numeric"},nP={day:"numeric",month:"long",year:"numeric"},rP={month:"long"},aP={month:"long",year:"numeric"},iP={weekday:"short"},sP={weekday:"long"},oP={year:"numeric"},lP=hs(tP),cP=hs(nP),uP=hs(rP),O2=hs(aP),hP=hs(iP),dP=hs(sP),kf=hs(oP),fP=sv[0],mP=sv[5],_x=sv[6];function Uc(t,e){e===void 0&&(e=Rt.ISO_8601);var n=t.getDay();switch(e){case Rt.ISO_8601:return(n+6)%7;case Rt.ISLAMIC:return(n+1)%7;case Rt.HEBREW:case Rt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function pP(t){var e=Qo(t);return He(e)}function gP(t){var e=ui(t);return He(e)}function Kg(t,e){e===void 0&&(e=Rt.ISO_8601);var n=He(t),r=ci(t),a=t.getDate()-Uc(t,e);return new Date(n,r,a)}function yP(t,e){e===void 0&&(e=Rt.ISO_8601);var n=e===Rt.GREGORY?Rt.GREGORY:Rt.ISO_8601,r=Kg(t,e),a=He(t)+1,i,s;do i=new Date(a,0,n===Rt.ISO_8601?4:1),s=Kg(i,e),a-=1;while(t<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function qi(t,e){switch(t){case"century":return Qo(e);case"decade":return ui(e);case"year":return Xo(e);case"month":return us(e);case"day":return mu(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function vP(t,e){switch(t){case"century":return HM(e);case"decade":return T2(e);case"year":return N2(e);case"month":return R2(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function k2(t,e){switch(t){case"century":return w2(e);case"decade":return tv(e);case"year":return nv(e);case"month":return av(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function _P(t,e){switch(t){case"decade":return T2(e,-100);case"year":return N2(e,-10);case"month":return R2(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function bP(t,e){switch(t){case"decade":return tv(e,100);case"year":return nv(e,10);case"month":return av(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function j2(t,e){switch(t){case"century":return ev(e);case"decade":return Df(e);case"year":return Of(e);case"month":return fu(e);case"day":return iv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function xP(t,e){switch(t){case"century":return GM(e);case"decade":return S2(e);case"year":return C2(e);case"month":return I2(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wP(t,e){switch(t){case"decade":return S2(e,-100);case"year":return C2(e,-10);case"month":return I2(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function bx(t,e){switch(t){case"century":return E2(e);case"decade":return A2(e);case"year":return YM(e);case"month":return WM(e);case"day":return XM(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function EP(t,e,n){var r=[e,n].sort(function(a,i){return a.getTime()-i.getTime()});return[qi(t,r[0]),j2(t,r[1])]}function M2(t,e,n){return n.map(function(r){return(e||kf)(t,r)}).join("  ")}function TP(t,e,n){return M2(t,e,E2(n))}function P2(t,e,n){return M2(t,e,A2(n))}function SP(t){return t.getDay()===new Date().getDay()}function L2(t,e){e===void 0&&(e=Rt.ISO_8601);var n=t.getDay();switch(e){case Rt.ISLAMIC:case Rt.HEBREW:return n===mP||n===_x;case Rt.ISO_8601:case Rt.GREGORY:return n===_x||n===fP;default:throw new Error("Unsupported calendar type.")}}var ir="react-calendar__navigation";function AP(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,a=r===void 0?O2:r,i=t.formatYear,s=i===void 0?kf:i,o=t.locale,u=t.maxDate,h=t.minDate,d=t.navigationAriaLabel,m=d===void 0?"":d,p=t.navigationAriaLive,v=t.navigationLabel,S=t.next2AriaLabel,A=S===void 0?"":S,N=t.next2Label,y=N===void 0?"":N,_=t.nextAriaLabel,x=_===void 0?"":_,D=t.nextLabel,L=D===void 0?"":D,H=t.prev2AriaLabel,T=H===void 0?"":H,E=t.prev2Label,b=E===void 0?"":E,C=t.prevAriaLabel,O=C===void 0?"":C,k=t.prevLabel,I=k===void 0?"":k,G=t.setActiveStartDate,re=t.showDoubleView,j=t.view,U=t.views,$=U.indexOf(j)>0,Y=j!=="century",X=vP(j,e),be=Y?_P(j,e):void 0,q=k2(j,e),ne=Y?bP(j,e):void 0,Ne=function(){if(X.getFullYear()<0)return!0;var Qe=xP(j,e);return h&&h>=Qe}(),Te=Y&&function(){if(be.getFullYear()<0)return!0;var Qe=wP(j,e);return h&&h>=Qe}(),zt=u&&u<q,Er=Y&&u&&u<ne;function Tr(){G(X,"prev")}function Fn(){G(be,"prev2")}function cl(){G(q,"next")}function ul(){G(ne,"next2")}function yi(Qe){var _i=function(){switch(j){case"century":return TP(o,s,Qe);case"decade":return P2(o,s,Qe);case"year":return s(o,Qe);case"month":return a(o,Qe);default:throw new Error("Invalid view: ".concat(j,"."))}}();return v?v({date:Qe,label:_i,locale:o||x2()||void 0,view:j}):_i}function vi(){var Qe="".concat(ir,"__label");return l.jsxs("button",{"aria-label":m,"aria-live":p,className:Qe,disabled:!$,onClick:n,style:{flexGrow:1},type:"button",children:[l.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--from"),children:yi(e)}),re?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"".concat(Qe,"__divider"),children:"  "}),l.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--to"),children:yi(q)})]}):null]})}return l.jsxs("div",{className:ir,children:[b!==null&&Y?l.jsx("button",{"aria-label":T,className:"".concat(ir,"__arrow ").concat(ir,"__prev2-button"),disabled:Te,onClick:Fn,type:"button",children:b}):null,I!==null&&l.jsx("button",{"aria-label":O,className:"".concat(ir,"__arrow ").concat(ir,"__prev-button"),disabled:Ne,onClick:Tr,type:"button",children:I}),vi(),L!==null&&l.jsx("button",{"aria-label":x,className:"".concat(ir,"__arrow ").concat(ir,"__next-button"),disabled:zt,onClick:cl,type:"button",children:L}),y!==null&&Y?l.jsx("button",{"aria-label":A,className:"".concat(ir,"__arrow ").concat(ir,"__next2-button"),disabled:Er,onClick:ul,type:"button",children:y}):null]})}var eo=function(){return eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},eo.apply(this,arguments)},NP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function xx(t){return"".concat(t,"%")}function ov(t){var e=t.children,n=t.className,r=t.count,a=t.direction,i=t.offset,s=t.style,o=t.wrap,u=NP(t,["children","className","count","direction","offset","style","wrap"]);return l.jsx("div",eo({className:n,style:eo({display:"flex",flexDirection:a,flexWrap:o?"wrap":"nowrap"},s)},u,{children:R.Children.map(e,function(h,d){var m=i&&d===0?xx(100*i/r):null;return R.cloneElement(h,eo(eo({},h.props),{style:{flexBasis:xx(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))})}))}function CP(t,e,n){return e&&e>t?e:n&&n<t?n:t}function zc(t,e){return e[0]<=t&&e[1]>=t}function RP(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function V2(t,e){return zc(t[0],e)||zc(t[1],e)}function wx(t,e,n){var r=V2(e,t),a=[];if(r){a.push(n);var i=zc(t[0],e),s=zc(t[1],e);i&&a.push("".concat(n,"Start")),s&&a.push("".concat(n,"End")),i&&s&&a.push("".concat(n,"BothEnds"))}return a}function IP(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function DP(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,a="react-calendar__tile",i=[a];if(!n)return i;var s=new Date,o=function(){if(Array.isArray(n))return n;var v=t.dateType;if(!v)throw new Error("dateType is required when date is not an array of two dates");return bx(v,n)}();if(zc(s,o)&&i.push("".concat(a,"--now")),!e||!IP(e))return i;var u=function(){if(Array.isArray(e))return e;var v=t.valueType;if(!v)throw new Error("valueType is required when value is not an array of two dates");return bx(v,e)}();RP(u,o)?i.push("".concat(a,"--active")):V2(u,o)&&i.push("".concat(a,"--hasActive"));var h=wx(u,o,"".concat(a,"--range"));i.push.apply(i,h);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var m=r>u[0]?[u[0],r]:[r,u[0]],p=wx(m,o,"".concat(a,"--hover"));i.push.apply(i,p)}return i}function jf(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,a=t.dateTransform,i=t.dateType,s=t.end,o=t.hover,u=t.offset,h=t.renderTile,d=t.start,m=t.step,p=m===void 0?1:m,v=t.value,S=t.valueType,A=[],N=d;N<=s;N+=p){var y=a(N);A.push(h({classes:DP({date:y,dateType:i,hover:o,value:v,valueType:S}),date:y}))}return l.jsx(ov,{className:e,count:r,offset:u,wrap:!0,children:A})}function Mf(t){var e=t.activeStartDate,n=t.children,r=t.classes,a=t.date,i=t.formatAbbr,s=t.locale,o=t.maxDate,u=t.maxDateTransform,h=t.minDate,d=t.minDateTransform,m=t.onClick,p=t.onMouseOver,v=t.style,S=t.tileClassName,A=t.tileContent,N=t.tileDisabled,y=t.view,_=R.useMemo(function(){var D={activeStartDate:e,date:a,view:y};return typeof S=="function"?S(D):S},[e,a,S,y]),x=R.useMemo(function(){var D={activeStartDate:e,date:a,view:y};return typeof A=="function"?A(D):A},[e,a,A,y]);return l.jsxs("button",{className:Rf(r,_),disabled:h&&d(h)>a||o&&u(o)<a||(N==null?void 0:N({activeStartDate:e,date:a,view:y})),onClick:m?function(D){return m(a,D)}:void 0,onFocus:p?function(){return p(a)}:void 0,onMouseOver:p?function(){return p(a)}:void 0,style:v,type:"button",children:[i?l.jsx("abbr",{"aria-label":i(s,a),children:n}):n,x]})}var Qg=function(){return Qg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Qg.apply(this,arguments)},OP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Ex="react-calendar__century-view__decades__decade";function kP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,a=t.formatYear,i=a===void 0?kf:a,s=OP(t,["classes","currentCentury","formatYear"]),o=s.date,u=s.locale,h=[];return n&&h.push.apply(h,n),h.push(Ex),Qo(o).getFullYear()!==r&&h.push("".concat(Ex,"--neighboringCentury")),l.jsx(Mf,Qg({},s,{classes:h,maxDateTransform:Df,minDateTransform:ui,view:"century",children:P2(u,i,o)}))}var Xg=function(){return Xg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Xg.apply(this,arguments)},Tx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function jP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,a=t.value,i=t.valueType,s=Tx(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=pP(e),u=o+(r?119:99);return l.jsx(jf,{className:"react-calendar__century-view__decades",dateTransform:ui,dateType:"decade",end:u,hover:n,renderTile:function(h){var d=h.date,m=Tx(h,["date"]);return l.jsx(kP,Xg({},s,m,{activeStartDate:e,currentCentury:o,date:d}),d.getTime())},start:o,step:10,value:a,valueType:i})}var Jg=function(){return Jg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Jg.apply(this,arguments)};function MP(t){function e(){return l.jsx(jP,Jg({},t))}return l.jsx("div",{className:"react-calendar__century-view",children:e()})}var Zg=function(){return Zg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Zg.apply(this,arguments)},PP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Sx="react-calendar__decade-view__years__year";function LP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,a=t.formatYear,i=a===void 0?kf:a,s=PP(t,["classes","currentDecade","formatYear"]),o=s.date,u=s.locale,h=[];return n&&h.push.apply(h,n),h.push(Sx),ui(o).getFullYear()!==r&&h.push("".concat(Sx,"--neighboringDecade")),l.jsx(Mf,Zg({},s,{classes:h,maxDateTransform:Of,minDateTransform:Xo,view:"decade",children:i(u,o)}))}var ey=function(){return ey=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ey.apply(this,arguments)},Ax=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function VP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,a=t.value,i=t.valueType,s=Ax(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=gP(e),u=o+(r?11:9);return l.jsx(jf,{className:"react-calendar__decade-view__years",dateTransform:Xo,dateType:"year",end:u,hover:n,renderTile:function(h){var d=h.date,m=Ax(h,["date"]);return l.jsx(LP,ey({},s,m,{activeStartDate:e,currentDecade:o,date:d}),d.getTime())},start:o,value:a,valueType:i})}var ty=function(){return ty=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ty.apply(this,arguments)};function UP(t){function e(){return l.jsx(VP,ty({},t))}return l.jsx("div",{className:"react-calendar__decade-view",children:e()})}var ny=function(){return ny=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ny.apply(this,arguments)},zP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Nx=function(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},BP="react-calendar__year-view__months__month";function FP(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,a=r===void 0?uP:r,i=t.formatMonthYear,s=i===void 0?O2:i,o=zP(t,["classes","formatMonth","formatMonthYear"]),u=o.date,h=o.locale;return l.jsx(Mf,ny({},o,{classes:Nx(Nx([],n,!0),[BP],!1),formatAbbr:s,maxDateTransform:fu,minDateTransform:us,view:"year",children:a(h,u)}))}var ry=function(){return ry=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ry.apply(this,arguments)},Cx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function $P(t){var e=t.activeStartDate,n=t.hover,r=t.value,a=t.valueType,i=Cx(t,["activeStartDate","hover","value","valueType"]),s=0,o=11,u=He(e);return l.jsx(jf,{className:"react-calendar__year-view__months",dateTransform:function(h){var d=new Date;return d.setFullYear(u,h,1),us(d)},dateType:"month",end:o,hover:n,renderTile:function(h){var d=h.date,m=Cx(h,["date"]);return l.jsx(FP,ry({},i,m,{activeStartDate:e,date:d}),d.getTime())},start:s,value:r,valueType:a})}var ay=function(){return ay=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ay.apply(this,arguments)};function qP(t){function e(){return l.jsx($P,ay({},t))}return l.jsx("div",{className:"react-calendar__year-view",children:e()})}var iy=function(){return iy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},iy.apply(this,arguments)},HP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Ep="react-calendar__month-view__days__day";function GP(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,a=t.currentMonthIndex,i=t.formatDay,s=i===void 0?lP:i,o=t.formatLongDate,u=o===void 0?cP:o,h=HP(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=h.date,m=h.locale,p=[];return r&&p.push.apply(p,r),p.push(Ep),L2(d,e)&&p.push("".concat(Ep,"--weekend")),d.getMonth()!==a&&p.push("".concat(Ep,"--neighboringMonth")),l.jsx(Mf,iy({},h,{classes:p,formatAbbr:u,maxDateTransform:iv,minDateTransform:mu,view:"month",children:s(m,d)}))}var sy=function(){return sy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},sy.apply(this,arguments)},Rx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function YP(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,a=t.showFixedNumberOfWeeks,i=t.showNeighboringMonth,s=t.value,o=t.valueType,u=Rx(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),h=He(e),d=ci(e),m=a||i,p=Uc(e,n),v=m?0:p,S=(m?-p:0)+1,A=function(){if(a)return S+6*7-1;var N=D2(e);if(i){var y=new Date;y.setFullYear(h,d,N),y.setHours(0,0,0,0);var _=7-Uc(y,n)-1;return N+_}return N}();return l.jsx(jf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(N){var y=new Date;return y.setFullYear(h,d,N),mu(y)},dateType:"day",hover:r,end:A,renderTile:function(N){var y=N.date,_=Rx(N,["date"]);return l.jsx(GP,sy({},u,_,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:y}),y.getTime())},offset:v,start:S,value:s,valueType:o})}var U2="react-calendar__month-view__weekdays",Tp="".concat(U2,"__weekday");function WP(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?hP:n,a=t.formatWeekday,i=a===void 0?dP:a,s=t.locale,o=t.onMouseLeave,u=new Date,h=us(u),d=He(h),m=ci(h),p=[],v=1;v<=7;v+=1){var S=new Date(d,m,v-Uc(h,e)),A=i(s,S);p.push(l.jsx("div",{className:Rf(Tp,SP(S)&&"".concat(Tp,"--current"),L2(S,e)&&"".concat(Tp,"--weekend")),children:l.jsx("abbr",{"aria-label":A,title:A,children:r(s,S).replace(".","")})},v))}return l.jsx(ov,{className:U2,count:7,onFocus:o,onMouseOver:o,children:p})}var Dd=function(){return Dd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Dd.apply(this,arguments)},Ix=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Dx="react-calendar__tile";function KP(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=l.jsx("span",{children:n});if(e){var a=t.date,i=t.onClickWeekNumber,s=t.weekNumber,o=Ix(t,["date","onClickWeekNumber","weekNumber"]);return l.jsx("button",Dd({},o,{className:Dx,onClick:function(u){return i(s,a,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=Ix(t,["date","onClickWeekNumber","weekNumber"]);return l.jsx("div",Dd({},o,{className:Dx,children:r}))}}function QP(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,a=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=function(){if(i)return 6;var h=D2(e),d=Uc(e,n),m=h-(7-d);return 1+Math.ceil(m/7)}(),o=function(){for(var h=He(e),d=ci(e),m=If(e),p=[],v=0;v<s;v+=1)p.push(Kg(new Date(h,d,m+v*7),n));return p}(),u=o.map(function(h){return yP(h,n)});return l.jsx(ov,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(h,d){var m=o[d];if(!m)throw new Error("date is not defined");return l.jsx(KP,{date:m,onClickWeekNumber:r,weekNumber:h},h)})})}var oy=function(){return oy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},oy.apply(this,arguments)},XP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function JP(t){if(t)for(var e=0,n=Object.entries(JM);e<n.length;e++){var r=n[e],a=r[0],i=r[1];if(i.includes(t))return a}return Rt.ISO_8601}function ZP(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,a=t.showFixedNumberOfWeeks,i=t.calendarType,s=i===void 0?JP(n):i,o=t.formatShortWeekday,u=t.formatWeekday,h=t.onClickWeekNumber,d=t.showWeekNumbers,m=XP(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return l.jsx(WP,{calendarType:s,formatShortWeekday:o,formatWeekday:u,locale:n,onMouseLeave:r})}function v(){return d?l.jsx(QP,{activeStartDate:e,calendarType:s,onClickWeekNumber:h,onMouseLeave:r,showFixedNumberOfWeeks:a}):null}function S(){return l.jsx(YP,oy({calendarType:s},m))}var A="react-calendar__month-view";return l.jsx("div",{className:Rf(A,d?"".concat(A,"--weekNumbers"):""),children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[v(),l.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),S()]})]})})}var to=function(){return to=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},to.apply(this,arguments)},hh="react-calendar",Fh=["century","decade","year","month"],e3=["decade","year","month","day"],lv=new Date;lv.setFullYear(1,0,1);lv.setHours(0,0,0,0);var t3=new Date(864e13);function Ql(t){return t instanceof Date?t:new Date(t)}function z2(t,e){return Fh.slice(Fh.indexOf(t),Fh.indexOf(e)+1)}function n3(t,e,n){var r=z2(e,n);return r.indexOf(t)!==-1}function cv(t,e,n){return t&&n3(t,e,n)?t:n}function B2(t){var e=Fh.indexOf(t);return e3[e]}function r3(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Ql(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function F2(t,e){var n=t.value,r=t.minDate,a=t.maxDate,i=t.maxDetail,s=r3(n,e);if(!s)return null;var o=B2(i),u=function(){switch(e){case 0:return qi(o,s);case 1:return j2(o,s);default:throw new Error("Invalid index value: ".concat(e))}}();return CP(u,r,a)}var uv=function(t){return F2(t,0)},$2=function(t){return F2(t,1)},a3=function(t){return[uv,$2].map(function(e){return e(t)})};function q2(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,a=t.minDetail,i=t.value,s=t.view,o=cv(s,a,n),u=uv({value:i,minDate:r,maxDate:e,maxDetail:n})||new Date;return qi(o,u)}function i3(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,a=t.defaultView,i=t.maxDate,s=t.maxDetail,o=t.minDate,u=t.minDetail,h=t.value,d=t.view,m=cv(d,u,s),p=e||n;return p?qi(m,p):q2({maxDate:i,maxDetail:s,minDate:o,minDetail:u,value:h||r,view:d||a})}function Sp(t){return t&&(!Array.isArray(t)||t.length===1)}function dh(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var s3=R.forwardRef(function(e,n){var r=e.activeStartDate,a=e.allowPartialRange,i=e.calendarType,s=e.className,o=e.defaultActiveStartDate,u=e.defaultValue,h=e.defaultView,d=e.formatDay,m=e.formatLongDate,p=e.formatMonth,v=e.formatMonthYear,S=e.formatShortWeekday,A=e.formatWeekday,N=e.formatYear,y=e.goToRangeStartOnSelect,_=y===void 0?!0:y,x=e.inputRef,D=e.locale,L=e.maxDate,H=L===void 0?t3:L,T=e.maxDetail,E=T===void 0?"month":T,b=e.minDate,C=b===void 0?lv:b,O=e.minDetail,k=O===void 0?"century":O,I=e.navigationAriaLabel,G=e.navigationAriaLive,re=e.navigationLabel,j=e.next2AriaLabel,U=e.next2Label,$=e.nextAriaLabel,Y=e.nextLabel,X=e.onActiveStartDateChange,be=e.onChange,q=e.onClickDay,ne=e.onClickDecade,Ne=e.onClickMonth,Te=e.onClickWeekNumber,zt=e.onClickYear,Er=e.onDrillDown,Tr=e.onDrillUp,Fn=e.onViewChange,cl=e.prev2AriaLabel,ul=e.prev2Label,yi=e.prevAriaLabel,vi=e.prevLabel,Qe=e.returnValue,_i=Qe===void 0?"start":Qe,jt=e.selectRange,sa=e.showDoubleView,hl=e.showFixedNumberOfWeeks,dt=e.showNavigation,Et=dt===void 0?!0:dt,ws=e.showNeighboringCentury,Em=e.showNeighboringDecade,dl=e.showNeighboringMonth,Tm=dl===void 0?!0:dl,bi=e.showWeekNumbers,Du=e.tileClassName,Ou=e.tileContent,fl=e.tileDisabled,ml=e.value,ku=e.view,pl=R.useState(o),ju=pl[0],Zn=pl[1],Es=R.useState(null),gl=Es[0],er=Es[1],yl=R.useState(Array.isArray(u)?u.map(function(ue){return ue!==null?Ql(ue):null}):u!=null?Ql(u):null),oa=yl[0],Mu=yl[1],la=R.useState(h),Pu=la[0],yt=la[1],Tt=r||ju||i3({activeStartDate:r,defaultActiveStartDate:o,defaultValue:u,defaultView:h,maxDate:H,maxDetail:E,minDate:C,minDetail:k,value:ml,view:ku}),at=function(){var ue=function(){return jt&&Sp(oa)?oa:ml!==void 0?ml:oa}();return ue?Array.isArray(ue)?ue.map(function(Fe){return Fe!==null?Ql(Fe):null}):ue!==null?Ql(ue):null:null}(),tr=B2(E),Me=cv(ku||Pu,k,E),En=z2(k,E),ca=jt?gl:null,vl=En.indexOf(Me)<En.length-1,Lu=En.indexOf(Me)>0,xi=R.useCallback(function(ue){var Fe=function(){switch(_i){case"start":return uv;case"end":return $2;case"range":return a3;default:throw new Error("Invalid returnValue.")}}();return Fe({maxDate:H,maxDetail:E,minDate:C,value:ue})},[H,E,C,_i]),Ts=R.useCallback(function(ue,Fe){Zn(ue);var Ge={action:Fe,activeStartDate:ue,value:at,view:Me};X&&!dh(Tt,ue)&&X(Ge)},[Tt,X,at,Me]),wi=R.useCallback(function(ue,Fe){var Ge=function(){switch(Me){case"century":return ne;case"decade":return zt;case"year":return Ne;case"month":return q;default:throw new Error("Invalid view: ".concat(Me,"."))}}();Ge&&Ge(ue,Fe)},[q,ne,Ne,zt,Me]),Ei=R.useCallback(function(ue,Fe){if(vl){wi(ue,Fe);var Ge=En[En.indexOf(Me)+1];if(!Ge)throw new Error("Attempted to drill down from the lowest view.");Zn(ue),yt(Ge);var an={action:"drillDown",activeStartDate:ue,value:at,view:Ge};X&&!dh(Tt,ue)&&X(an),Fn&&Me!==Ge&&Fn(an),Er&&Er(an)}},[Tt,vl,X,wi,Er,Fn,at,Me,En]),Sr=R.useCallback(function(){if(Lu){var ue=En[En.indexOf(Me)-1];if(!ue)throw new Error("Attempted to drill up from the highest view.");var Fe=qi(ue,Tt);Zn(Fe),yt(ue);var Ge={action:"drillUp",activeStartDate:Fe,value:at,view:ue};X&&!dh(Tt,Fe)&&X(Ge),Fn&&Me!==ue&&Fn(Ge),Tr&&Tr(Ge)}},[Tt,Lu,X,Tr,Fn,at,Me,En]),_l=R.useCallback(function(ue,Fe){var Ge=at;wi(ue,Fe);var an=jt&&!Sp(Ge),Mt;if(jt)if(an)Mt=qi(tr,ue);else{if(!Ge)throw new Error("previousValue is required");if(Array.isArray(Ge))throw new Error("previousValue must not be an array");Mt=EP(tr,Ge,ue)}else Mt=xi(ue);var As=!jt||an||_?q2({maxDate:H,maxDetail:E,minDate:C,minDetail:k,value:Mt,view:Me}):null;Fe.persist(),Zn(As),Mu(Mt);var El={action:"onChange",activeStartDate:As,value:Mt,view:Me};if(X&&!dh(Tt,As)&&X(El),be)if(jt){var Ti=Sp(Mt);if(!Ti)be(Mt||null,Fe);else if(a){if(Array.isArray(Mt))throw new Error("value must not be an array");be([Mt||null,null],Fe)}}else be(Mt||null,Fe)},[Tt,a,xi,_,H,E,C,k,X,be,wi,jt,at,tr,Me]);function nr(ue){er(ue)}function Ss(){er(null)}R.useImperativeHandle(n,function(){return{activeStartDate:Tt,drillDown:Ei,drillUp:Sr,onChange:_l,setActiveStartDate:Ts,value:at,view:Me}},[Tt,Ei,Sr,_l,Ts,at,Me]);function bl(ue){var Fe=ue?k2(Me,Tt):qi(Me,Tt),Ge=vl?Ei:_l,an={activeStartDate:Fe,hover:ca,locale:D,maxDate:H,minDate:C,onClick:Ge,onMouseOver:jt?nr:void 0,tileClassName:Du,tileContent:Ou,tileDisabled:fl,value:at,valueType:tr};switch(Me){case"century":return l.jsx(MP,to({formatYear:N,showNeighboringCentury:ws},an));case"decade":return l.jsx(UP,to({formatYear:N,showNeighboringDecade:Em},an));case"year":return l.jsx(qP,to({formatMonth:p,formatMonthYear:v},an));case"month":return l.jsx(ZP,to({calendarType:i,formatDay:d,formatLongDate:m,formatShortWeekday:S,formatWeekday:A,onClickWeekNumber:Te,onMouseLeave:jt?Ss:void 0,showFixedNumberOfWeeks:typeof hl<"u"?hl:sa,showNeighboringMonth:Tm,showWeekNumbers:bi},an));default:throw new Error("Invalid view: ".concat(Me,"."))}}function xl(){return Et?l.jsx(AP,{activeStartDate:Tt,drillUp:Sr,formatMonthYear:v,formatYear:N,locale:D,maxDate:H,minDate:C,navigationAriaLabel:I,navigationAriaLive:G,navigationLabel:re,next2AriaLabel:j,next2Label:U,nextAriaLabel:$,nextLabel:Y,prev2AriaLabel:cl,prev2Label:ul,prevAriaLabel:yi,prevLabel:vi,setActiveStartDate:Ts,showDoubleView:sa,view:Me,views:En}):null}var wl=Array.isArray(at)?at:[at];return l.jsxs("div",{className:Rf(hh,jt&&wl.length===1&&"".concat(hh,"--selectRange"),sa&&"".concat(hh,"--doubleView"),s),ref:x,children:[xl(),l.jsxs("div",{className:"".concat(hh,"__viewContainer"),onBlur:jt?Ss:void 0,onMouseLeave:jt?Ss:void 0,children:[bl(),sa?bl(!0):null]})]})});const o3=()=>{};var Ox={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},l3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],s=t[n++],o=t[n++],u=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},G2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,o=s?t[a+1]:0,u=a+2<t.length,h=u?t[a+2]:0,d=i>>2,m=(i&3)<<4|o>>4;let p=(o&15)<<2|h>>6,v=h&63;u||(v=64,s||(p=64)),r.push(n[d],n[m],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(H2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):l3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],o=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const m=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||o==null||h==null||m==null)throw new c3;const p=i<<2|o>>4;if(r.push(p),h!==64){const v=o<<4&240|h>>2;if(r.push(v),m!==64){const S=h<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class c3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u3=function(t){const e=H2(t);return G2.encodeByteArray(e,!0)},Od=function(t){return u3(t).replace(/\./g,"")},Y2=function(t){try{return G2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=()=>h3().__FIREBASE_DEFAULTS__,f3=()=>{if(typeof process>"u"||typeof Ox>"u")return;const t=Ox.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},m3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y2(t[1]);return e&&JSON.parse(e)},Pf=()=>{try{return o3()||d3()||f3()||m3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W2=t=>{var e,n;return(n=(e=Pf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},K2=t=>{const e=W2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q2=()=>{var t;return(t=Pf())==null?void 0:t.config},X2=t=>{var e;return(e=Pf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Od(JSON.stringify(n)),Od(JSON.stringify(s)),""].join(".")}const vc={};function g3(){const t={prod:[],emulator:[]};for(const e of Object.keys(vc))vc[e]?t.emulator.push(e):t.prod.push(e);return t}function y3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kx=!1;function dv(t,e){if(typeof window>"u"||typeof document>"u"||!ds(window.location.host)||vc[t]===e||vc[t]||kx)return;vc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=g3().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function h(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{kx=!0,s()},p}function d(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=y3(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),A=n("learnmore"),N=document.getElementById(A)||document.createElement("a"),y=n("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;o(x),d(N,A);const D=h();u(_,y),x.append(_,S,N,D),document.body.appendChild(x)}i?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function _3(){var e;const t=(e=Pf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function x3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w3(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E3(){return!_3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eN(){try{return typeof indexedDB=="object"}catch{return!1}}function tN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function T3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3="FirebaseError";class zn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=S3,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fs.prototype.create)}}class fs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?A3(i,r):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new zn(a,o,r)}}function A3(t,e){return t.replace(N3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const N3=/\{\$([^}]+)}/g;function C3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],s=e[a];if(jx(i)&&jx(s)){if(!Ja(i,s))return!1}else if(i!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function jx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,i]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function Jl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function R3(t,e){const n=new I3(t,e);return n.subscribe.bind(n)}class I3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");D3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ap),a.error===void 0&&(a.error=Ap),a.complete===void 0&&(a.complete=Ap);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ap(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1e3,k3=2,j3=4*60*60*1e3,M3=.5;function Mx(t,e=O3,n=k3){const r=e*Math.pow(n,t),a=Math.round(M3*r*(Math.random()-.5)*2);return Math.min(j3,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new p3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V3(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&s.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:L3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function L3(t){return t===Mi?void 0:t}function V3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new P3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const z3={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},B3=fe.INFO,F3={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},$3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=F3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lf{constructor(e){this.name=e,this._logLevel=B3,this._logHandler=$3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?z3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const q3=(t,e)=>e.some(n=>t instanceof n);let Px,Lx;function H3(){return Px||(Px=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function G3(){return Lx||(Lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nN=new WeakMap,ly=new WeakMap,rN=new WeakMap,Np=new WeakMap,fv=new WeakMap;function Y3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Fa(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nN.set(n,t)}).catch(()=>{}),fv.set(e,t),e}function W3(t){if(ly.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});ly.set(t,e)}let cy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ly.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function K3(t){cy=t(cy)}function Q3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cp(this),e,...n);return rN.set(r,e.sort?e.sort():[e]),Fa(r)}:G3().includes(t)?function(...e){return t.apply(Cp(this),e),Fa(nN.get(this))}:function(...e){return Fa(t.apply(Cp(this),e))}}function X3(t){return typeof t=="function"?Q3(t):(t instanceof IDBTransaction&&W3(t),q3(t,H3())?new Proxy(t,cy):t)}function Fa(t){if(t instanceof IDBRequest)return Y3(t);if(Np.has(t))return Np.get(t);const e=X3(t);return e!==t&&(Np.set(t,e),fv.set(e,t)),e}const Cp=t=>fv.get(t);function aN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=Fa(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Fa(s.result),u.oldVersion,u.newVersion,Fa(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const J3=["get","getKey","getAll","getAllKeys","count"],Z3=["put","add","delete","clear"],Rp=new Map;function Vx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rp.get(e))return Rp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=Z3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||J3.includes(n)))return;const i=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return Rp.set(e,i),i}K3(t=>({...t,get:(e,n,r)=>Vx(e,n)||t.get(e,n,r),has:(e,n)=>!!Vx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const uy="@firebase/app",Ux="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Lf("@firebase/app"),nL="@firebase/app-compat",rL="@firebase/analytics-compat",aL="@firebase/analytics",iL="@firebase/app-check-compat",sL="@firebase/app-check",oL="@firebase/auth",lL="@firebase/auth-compat",cL="@firebase/database",uL="@firebase/data-connect",hL="@firebase/database-compat",dL="@firebase/functions",fL="@firebase/functions-compat",mL="@firebase/installations",pL="@firebase/installations-compat",gL="@firebase/messaging",yL="@firebase/messaging-compat",vL="@firebase/performance",_L="@firebase/performance-compat",bL="@firebase/remote-config",xL="@firebase/remote-config-compat",wL="@firebase/storage",EL="@firebase/storage-compat",TL="@firebase/firestore",SL="@firebase/ai",AL="@firebase/firestore-compat",NL="firebase",CL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="[DEFAULT]",RL={[uy]:"fire-core",[nL]:"fire-core-compat",[aL]:"fire-analytics",[rL]:"fire-analytics-compat",[sL]:"fire-app-check",[iL]:"fire-app-check-compat",[oL]:"fire-auth",[lL]:"fire-auth-compat",[cL]:"fire-rtdb",[uL]:"fire-data-connect",[hL]:"fire-rtdb-compat",[dL]:"fire-fn",[fL]:"fire-fn-compat",[mL]:"fire-iid",[pL]:"fire-iid-compat",[gL]:"fire-fcm",[yL]:"fire-fcm-compat",[vL]:"fire-perf",[_L]:"fire-perf-compat",[bL]:"fire-rc",[xL]:"fire-rc-compat",[wL]:"fire-gcs",[EL]:"fire-gcs-compat",[TL]:"fire-fst",[AL]:"fire-fst-compat",[SL]:"fire-vertex","fire-js":"fire-js",[NL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,IL=new Map,dy=new Map;function zx(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wn(t){const e=t.name;if(dy.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(const n of kd.values())zx(n,t);for(const n of IL.values())zx(n,t);return!0}function hi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new fs("app","Firebase",DL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=CL;function iN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hy,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw $a.create("bad-app-name",{appName:String(a)});if(n||(n=Q2()),!n)throw $a.create("no-options");const i=kd.get(a);if(i){if(Ja(n,i.options)&&Ja(r,i.config))return i;throw $a.create("duplicate-app",{appName:a})}const s=new U3(a);for(const u of dy.values())s.addComponent(u);const o=new OL(n,r,s);return kd.set(a,o),o}function Vf(t=hy){const e=kd.get(t);if(!e&&t===hy&&Q2())return iN();if(!e)throw $a.create("no-app",{appName:t});return e}function tn(t,e,n){let r=RL[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const s=[`Unable to register library "${r}" with version "${e}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(s.join(" "));return}Wn(new Un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebase-heartbeat-database",jL=1,Bc="firebase-heartbeat-store";let Ip=null;function sN(){return Ip||(Ip=aN(kL,jL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bc)}catch(n){console.warn(n)}}}}).catch(t=>{throw $a.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function ML(t){try{const n=(await sN()).transaction(Bc),r=await n.objectStore(Bc).get(oN(t));return await n.done,r}catch(e){if(e instanceof zn)Jr.warn(e.message);else{const n=$a.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function Bx(t,e){try{const r=(await sN()).transaction(Bc,"readwrite");await r.objectStore(Bc).put(e,oN(t)),await r.done}catch(n){if(n instanceof zn)Jr.warn(n.message);else{const r=$a.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(r.message)}}}function oN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=1024,LL=30;class VL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new zL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>LL){const s=BL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fx(),{heartbeatsToSend:r,unsentEntries:a}=UL(this._heartbeatsCache.heartbeats),i=Od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Jr.warn(n),""}}}function Fx(){return new Date().toISOString().substring(0,10)}function UL(t,e=PL){const n=[];let r=t.slice();for(const a of t){const i=n.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),$x(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),$x(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class zL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eN()?tN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ML(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $x(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function BL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){Wn(new Un("platform-logger",e=>new eL(e),"PRIVATE")),Wn(new Un("heartbeat",e=>new VL(e),"PRIVATE")),tn(uy,Ux,t),tn(uy,Ux,"esm2020"),tn("fire-js","")}FL("");var qx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,lN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,E){function b(){}b.prototype=E.prototype,T.F=E.prototype,T.prototype=new b,T.prototype.constructor=T,T.D=function(C,O,k){for(var I=Array(arguments.length-2),G=2;G<arguments.length;G++)I[G-2]=arguments[G];return E.prototype[O].apply(C,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,E,b){b||(b=0);const C=Array(16);if(typeof E=="string")for(var O=0;O<16;++O)C[O]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(O=0;O<16;++O)C[O]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=T.g[0],b=T.g[1],O=T.g[2];let k=T.g[3],I;I=E+(k^b&(O^k))+C[0]+3614090360&4294967295,E=b+(I<<7&4294967295|I>>>25),I=k+(O^E&(b^O))+C[1]+3905402710&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(b^k&(E^b))+C[2]+606105819&4294967295,O=k+(I<<17&4294967295|I>>>15),I=b+(E^O&(k^E))+C[3]+3250441966&4294967295,b=O+(I<<22&4294967295|I>>>10),I=E+(k^b&(O^k))+C[4]+4118548399&4294967295,E=b+(I<<7&4294967295|I>>>25),I=k+(O^E&(b^O))+C[5]+1200080426&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(b^k&(E^b))+C[6]+2821735955&4294967295,O=k+(I<<17&4294967295|I>>>15),I=b+(E^O&(k^E))+C[7]+4249261313&4294967295,b=O+(I<<22&4294967295|I>>>10),I=E+(k^b&(O^k))+C[8]+1770035416&4294967295,E=b+(I<<7&4294967295|I>>>25),I=k+(O^E&(b^O))+C[9]+2336552879&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(b^k&(E^b))+C[10]+4294925233&4294967295,O=k+(I<<17&4294967295|I>>>15),I=b+(E^O&(k^E))+C[11]+2304563134&4294967295,b=O+(I<<22&4294967295|I>>>10),I=E+(k^b&(O^k))+C[12]+1804603682&4294967295,E=b+(I<<7&4294967295|I>>>25),I=k+(O^E&(b^O))+C[13]+4254626195&4294967295,k=E+(I<<12&4294967295|I>>>20),I=O+(b^k&(E^b))+C[14]+2792965006&4294967295,O=k+(I<<17&4294967295|I>>>15),I=b+(E^O&(k^E))+C[15]+1236535329&4294967295,b=O+(I<<22&4294967295|I>>>10),I=E+(O^k&(b^O))+C[1]+4129170786&4294967295,E=b+(I<<5&4294967295|I>>>27),I=k+(b^O&(E^b))+C[6]+3225465664&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^b&(k^E))+C[11]+643717713&4294967295,O=k+(I<<14&4294967295|I>>>18),I=b+(k^E&(O^k))+C[0]+3921069994&4294967295,b=O+(I<<20&4294967295|I>>>12),I=E+(O^k&(b^O))+C[5]+3593408605&4294967295,E=b+(I<<5&4294967295|I>>>27),I=k+(b^O&(E^b))+C[10]+38016083&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^b&(k^E))+C[15]+3634488961&4294967295,O=k+(I<<14&4294967295|I>>>18),I=b+(k^E&(O^k))+C[4]+3889429448&4294967295,b=O+(I<<20&4294967295|I>>>12),I=E+(O^k&(b^O))+C[9]+568446438&4294967295,E=b+(I<<5&4294967295|I>>>27),I=k+(b^O&(E^b))+C[14]+3275163606&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^b&(k^E))+C[3]+4107603335&4294967295,O=k+(I<<14&4294967295|I>>>18),I=b+(k^E&(O^k))+C[8]+1163531501&4294967295,b=O+(I<<20&4294967295|I>>>12),I=E+(O^k&(b^O))+C[13]+2850285829&4294967295,E=b+(I<<5&4294967295|I>>>27),I=k+(b^O&(E^b))+C[2]+4243563512&4294967295,k=E+(I<<9&4294967295|I>>>23),I=O+(E^b&(k^E))+C[7]+1735328473&4294967295,O=k+(I<<14&4294967295|I>>>18),I=b+(k^E&(O^k))+C[12]+2368359562&4294967295,b=O+(I<<20&4294967295|I>>>12),I=E+(b^O^k)+C[5]+4294588738&4294967295,E=b+(I<<4&4294967295|I>>>28),I=k+(E^b^O)+C[8]+2272392833&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^b)+C[11]+1839030562&4294967295,O=k+(I<<16&4294967295|I>>>16),I=b+(O^k^E)+C[14]+4259657740&4294967295,b=O+(I<<23&4294967295|I>>>9),I=E+(b^O^k)+C[1]+2763975236&4294967295,E=b+(I<<4&4294967295|I>>>28),I=k+(E^b^O)+C[4]+1272893353&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^b)+C[7]+4139469664&4294967295,O=k+(I<<16&4294967295|I>>>16),I=b+(O^k^E)+C[10]+3200236656&4294967295,b=O+(I<<23&4294967295|I>>>9),I=E+(b^O^k)+C[13]+681279174&4294967295,E=b+(I<<4&4294967295|I>>>28),I=k+(E^b^O)+C[0]+3936430074&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^b)+C[3]+3572445317&4294967295,O=k+(I<<16&4294967295|I>>>16),I=b+(O^k^E)+C[6]+76029189&4294967295,b=O+(I<<23&4294967295|I>>>9),I=E+(b^O^k)+C[9]+3654602809&4294967295,E=b+(I<<4&4294967295|I>>>28),I=k+(E^b^O)+C[12]+3873151461&4294967295,k=E+(I<<11&4294967295|I>>>21),I=O+(k^E^b)+C[15]+530742520&4294967295,O=k+(I<<16&4294967295|I>>>16),I=b+(O^k^E)+C[2]+3299628645&4294967295,b=O+(I<<23&4294967295|I>>>9),I=E+(O^(b|~k))+C[0]+4096336452&4294967295,E=b+(I<<6&4294967295|I>>>26),I=k+(b^(E|~O))+C[7]+1126891415&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~b))+C[14]+2878612391&4294967295,O=k+(I<<15&4294967295|I>>>17),I=b+(k^(O|~E))+C[5]+4237533241&4294967295,b=O+(I<<21&4294967295|I>>>11),I=E+(O^(b|~k))+C[12]+1700485571&4294967295,E=b+(I<<6&4294967295|I>>>26),I=k+(b^(E|~O))+C[3]+2399980690&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~b))+C[10]+4293915773&4294967295,O=k+(I<<15&4294967295|I>>>17),I=b+(k^(O|~E))+C[1]+2240044497&4294967295,b=O+(I<<21&4294967295|I>>>11),I=E+(O^(b|~k))+C[8]+1873313359&4294967295,E=b+(I<<6&4294967295|I>>>26),I=k+(b^(E|~O))+C[15]+4264355552&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~b))+C[6]+2734768916&4294967295,O=k+(I<<15&4294967295|I>>>17),I=b+(k^(O|~E))+C[13]+1309151649&4294967295,b=O+(I<<21&4294967295|I>>>11),I=E+(O^(b|~k))+C[4]+4149444226&4294967295,E=b+(I<<6&4294967295|I>>>26),I=k+(b^(E|~O))+C[11]+3174756917&4294967295,k=E+(I<<10&4294967295|I>>>22),I=O+(E^(k|~b))+C[2]+718787259&4294967295,O=k+(I<<15&4294967295|I>>>17),I=b+(k^(O|~E))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+E&4294967295,T.g[1]=T.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+O&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.v=function(T,E){E===void 0&&(E=T.length);const b=E-this.blockSize,C=this.C;let O=this.h,k=0;for(;k<E;){if(O==0)for(;k<=b;)a(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<E;)if(C[O++]=T.charCodeAt(k++),O==this.blockSize){a(this,C),O=0;break}}else for(;k<E;)if(C[O++]=T[k++],O==this.blockSize){a(this,C),O=0;break}}this.h=O,this.o+=E},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var E=1;E<T.length-8;++E)T[E]=0;E=this.o*8;for(var b=T.length-8;b<T.length;++b)T[b]=E&255,E/=256;for(this.v(T),T=Array(16),E=0,b=0;b<4;++b)for(let C=0;C<32;C+=8)T[E++]=this.g[b]>>>C&255;return T};function i(T,E){var b=o;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=E(T)}function s(T,E){this.h=E;const b=[];let C=!0;for(let O=T.length-1;O>=0;O--){const k=T[O]|0;C&&k==E||(b[O]=k,C=!1)}this.g=b}var o={};function u(T){return-128<=T&&T<128?i(T,function(E){return new s([E|0],E<0?-1:0)}):new s([T|0],T<0?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return N(h(-T));const E=[];let b=1;for(let C=0;T>=b;C++)E[C]=T/b|0,b*=4294967296;return new s(E,0)}function d(T,E){if(T.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(T.charAt(0)=="-")return N(d(T.substring(1),E));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=h(Math.pow(E,8));let C=m;for(let k=0;k<T.length;k+=8){var O=Math.min(8,T.length-k);const I=parseInt(T.substring(k,k+O),E);O<8?(O=h(Math.pow(E,O)),C=C.j(O).add(h(I))):(C=C.j(b),C=C.add(h(I)))}return C}var m=u(0),p=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(A(this))return-N(this).m();let T=0,E=1;for(let b=0;b<this.g.length;b++){const C=this.i(b);T+=(C>=0?C:4294967296+C)*E,E*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(A(this))return"-"+N(this).toString(T);const E=h(Math.pow(T,6));var b=this;let C="";for(;;){const O=D(b,E).g;b=y(b,O.j(E));let k=((b.g.length>0?b.g[0]:b.h)>>>0).toString(T);if(b=O,S(b))return k+C;for(;k.length<6;)k="0"+k;C=k+C}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let E=0;E<T.g.length;E++)if(T.g[E]!=0)return!1;return!0}function A(T){return T.h==-1}t.l=function(T){return T=y(this,T),A(T)?-1:S(T)?0:1};function N(T){const E=T.g.length,b=[];for(let C=0;C<E;C++)b[C]=~T.g[C];return new s(b,~T.h).add(p)}t.abs=function(){return A(this)?N(this):this},t.add=function(T){const E=Math.max(this.g.length,T.g.length),b=[];let C=0;for(let O=0;O<=E;O++){let k=C+(this.i(O)&65535)+(T.i(O)&65535),I=(k>>>16)+(this.i(O)>>>16)+(T.i(O)>>>16);C=I>>>16,k&=65535,I&=65535,b[O]=I<<16|k}return new s(b,b[b.length-1]&-2147483648?-1:0)};function y(T,E){return T.add(N(E))}t.j=function(T){if(S(this)||S(T))return m;if(A(this))return A(T)?N(this).j(N(T)):N(N(this).j(T));if(A(T))return N(this.j(N(T)));if(this.l(v)<0&&T.l(v)<0)return h(this.m()*T.m());const E=this.g.length+T.g.length,b=[];for(var C=0;C<2*E;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(let O=0;O<T.g.length;O++){const k=this.i(C)>>>16,I=this.i(C)&65535,G=T.i(O)>>>16,re=T.i(O)&65535;b[2*C+2*O]+=I*re,_(b,2*C+2*O),b[2*C+2*O+1]+=k*re,_(b,2*C+2*O+1),b[2*C+2*O+1]+=I*G,_(b,2*C+2*O+1),b[2*C+2*O+2]+=k*G,_(b,2*C+2*O+2)}for(T=0;T<E;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=E;T<2*E;T++)b[T]=0;return new s(b,0)};function _(T,E){for(;(T[E]&65535)!=T[E];)T[E+1]+=T[E]>>>16,T[E]&=65535,E++}function x(T,E){this.g=T,this.h=E}function D(T,E){if(S(E))throw Error("division by zero");if(S(T))return new x(m,m);if(A(T))return E=D(N(T),E),new x(N(E.g),N(E.h));if(A(E))return E=D(T,N(E)),new x(N(E.g),E.h);if(T.g.length>30){if(A(T)||A(E))throw Error("slowDivide_ only works with positive integers.");for(var b=p,C=E;C.l(T)<=0;)b=L(b),C=L(C);var O=H(b,1),k=H(C,1);for(C=H(C,2),b=H(b,2);!S(C);){var I=k.add(C);I.l(T)<=0&&(O=O.add(b),k=I),C=H(C,1),b=H(b,1)}return E=y(T,O.j(E)),new x(O,E)}for(O=m;T.l(E)>=0;){for(b=Math.max(1,Math.floor(T.m()/E.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),k=h(b),I=k.j(E);A(I)||I.l(T)>0;)b-=C,k=h(b),I=k.j(E);S(k)&&(k=p),O=O.add(k),T=y(T,I)}return new x(O,T)}t.B=function(T){return D(this,T).h},t.and=function(T){const E=Math.max(this.g.length,T.g.length),b=[];for(let C=0;C<E;C++)b[C]=this.i(C)&T.i(C);return new s(b,this.h&T.h)},t.or=function(T){const E=Math.max(this.g.length,T.g.length),b=[];for(let C=0;C<E;C++)b[C]=this.i(C)|T.i(C);return new s(b,this.h|T.h)},t.xor=function(T){const E=Math.max(this.g.length,T.g.length),b=[];for(let C=0;C<E;C++)b[C]=this.i(C)^T.i(C);return new s(b,this.h^T.h)};function L(T){const E=T.g.length+1,b=[];for(let C=0;C<E;C++)b[C]=T.i(C)<<1|T.i(C-1)>>>31;return new s(b,T.h)}function H(T,E){const b=E>>5;E%=32;const C=T.g.length-b,O=[];for(let k=0;k<C;k++)O[k]=E>0?T.i(k+b)>>>E|T.i(k+b+1)<<32-E:T.i(k+b);return new s(O,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lN=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,qa=s}).apply(typeof qx<"u"?qx:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cN,Zl,uN,$h,fy,hN,dN,fN;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function a(c,f){if(f)e:{var g=r;c=c.split(".");for(var w=0;w<c.length-1;w++){var M=c[w];if(!(M in g))break e;g=g[M]}c=c[c.length-1],w=g[c],f=f(w),f!=w&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}a("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(c){return c||function(f){var g=[],w;for(w in f)Object.prototype.hasOwnProperty.call(f,w)&&g.push([w,f[w]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},s=this||self;function o(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function u(c,f,g){return c.call.apply(c.bind,arguments)}function h(c,f,g){return h=u,h.apply(null,arguments)}function d(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function m(c,f){function g(){}g.prototype=f.prototype,c.Z=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(w,M,P){for(var W=Array(arguments.length-2),le=2;le<arguments.length;le++)W[le-2]=arguments[le];return f.prototype[M].apply(w,W)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const f=c.length;if(f>0){const g=Array(f);for(let w=0;w<f;w++)g[w]=c[w];return g}return[]}function S(c,f){for(let w=1;w<arguments.length;w++){const M=arguments[w];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=c.length||0;const P=M.length||0;c.length=g+P;for(let W=0;W<P;W++)c[g+W]=M[W]}else c.push(M)}}class A{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function N(c){s.setTimeout(()=>{throw c},0)}function y(){var c=T;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class _{constructor(){this.h=this.g=null}add(f,g){const w=x.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var x=new A(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let L,H=!1,T=new _,E=()=>{const c=Promise.resolve(void 0);L=()=>{c.then(b)}};function b(){for(var c;c=y();){try{c.h.call(c.g)}catch(g){N(g)}var f=x;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}H=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};s.addEventListener("test",g,f),s.removeEventListener("test",g,f)}catch{}return c}();function I(c){return/^[\s\xa0]*$/.test(c)}function G(c,f){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}m(G,O),G.prototype.init=function(c,f){const g=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),j=0;function U(c,f,g,w,M){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=M,this.key=++j,this.da=this.fa=!1}function $(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Y(c,f,g){for(const w in c)f.call(g,c[w],w,c)}function X(c,f){for(const g in c)f.call(void 0,c[g],g,c)}function be(c){const f={};for(const g in c)f[g]=c[g];return f}const q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,f){let g,w;for(let M=1;M<arguments.length;M++){w=arguments[M];for(g in w)c[g]=w[g];for(let P=0;P<q.length;P++)g=q[P],Object.prototype.hasOwnProperty.call(w,g)&&(c[g]=w[g])}}function Ne(c){this.src=c,this.g={},this.h=0}Ne.prototype.add=function(c,f,g,w,M){const P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);const W=zt(c,f,w,M);return W>-1?(f=c[W],g||(f.fa=!1)):(f=new U(f,this.src,P,!!w,M),f.fa=g,c.push(f)),f};function Te(c,f){const g=f.type;if(g in c.g){var w=c.g[g],M=Array.prototype.indexOf.call(w,f,void 0),P;(P=M>=0)&&Array.prototype.splice.call(w,M,1),P&&($(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function zt(c,f,g,w){for(let M=0;M<c.length;++M){const P=c[M];if(!P.da&&P.listener==f&&P.capture==!!g&&P.ha==w)return M}return-1}var Er="closure_lm_"+(Math.random()*1e6|0),Tr={};function Fn(c,f,g,w,M){if(Array.isArray(f)){for(let P=0;P<f.length;P++)Fn(c,f[P],g,w,M);return null}return g=hl(g),c&&c[re]?c.J(f,g,o(w)?!!w.capture:!1,M):cl(c,f,g,!1,w,M)}function cl(c,f,g,w,M,P){if(!f)throw Error("Invalid event type");const W=o(M)?!!M.capture:!!M;let le=jt(c);if(le||(c[Er]=le=new Ne(c)),g=le.add(f,g,w,W,P),g.proxy)return g;if(w=ul(),g.proxy=w,w.src=c,w.listener=g,c.addEventListener)k||(M=W),M===void 0&&(M=!1),c.addEventListener(f.toString(),w,M);else if(c.attachEvent)c.attachEvent(Qe(f.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ul(){function c(g){return f.call(c.src,c.listener,g)}const f=_i;return c}function yi(c,f,g,w,M){if(Array.isArray(f))for(var P=0;P<f.length;P++)yi(c,f[P],g,w,M);else w=o(w)?!!w.capture:!!w,g=hl(g),c&&c[re]?(c=c.i,P=String(f).toString(),P in c.g&&(f=c.g[P],g=zt(f,g,w,M),g>-1&&($(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete c.g[P],c.h--)))):c&&(c=jt(c))&&(f=c.g[f.toString()],c=-1,f&&(c=zt(f,g,w,M)),(g=c>-1?f[c]:null)&&vi(g))}function vi(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[re])Te(f.i,c);else{var g=c.type,w=c.proxy;f.removeEventListener?f.removeEventListener(g,w,c.capture):f.detachEvent?f.detachEvent(Qe(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=jt(f))?(Te(g,c),g.h==0&&(g.src=null,f[Er]=null)):$(c)}}}function Qe(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function _i(c,f){if(c.da)c=!0;else{f=new G(f,this);const g=c.listener,w=c.ha||c.src;c.fa&&vi(c),c=g.call(w,f)}return c}function jt(c){return c=c[Er],c instanceof Ne?c:null}var sa="__closure_events_fn_"+(Math.random()*1e9>>>0);function hl(c){return typeof c=="function"?c:(c[sa]||(c[sa]=function(f){return c.handleEvent(f)}),c[sa])}function dt(){C.call(this),this.i=new Ne(this),this.M=this,this.G=null}m(dt,C),dt.prototype[re]=!0,dt.prototype.removeEventListener=function(c,f,g,w){yi(this,c,f,g,w)};function Et(c,f){var g,w=c.G;if(w)for(g=[];w;w=w.G)g.push(w);if(c=c.M,w=f.type||f,typeof f=="string")f=new O(f,c);else if(f instanceof O)f.target=f.target||c;else{var M=f;f=new O(w,c),ne(f,M)}M=!0;let P,W;if(g)for(W=g.length-1;W>=0;W--)P=f.g=g[W],M=ws(P,w,!0,f)&&M;if(P=f.g=c,M=ws(P,w,!0,f)&&M,M=ws(P,w,!1,f)&&M,g)for(W=0;W<g.length;W++)P=f.g=g[W],M=ws(P,w,!1,f)&&M}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const g=c.g[f];for(let w=0;w<g.length;w++)$(g[w]);delete c.g[f],c.h--}}this.G=null},dt.prototype.J=function(c,f,g,w){return this.i.add(String(c),f,!1,g,w)},dt.prototype.K=function(c,f,g,w){return this.i.add(String(c),f,!0,g,w)};function ws(c,f,g,w){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let P=0;P<f.length;++P){const W=f[P];if(W&&!W.da&&W.capture==g){const le=W.listener,ft=W.ha||W.src;W.fa&&Te(c.i,W),M=le.call(ft,w)!==!1&&M}}return M&&!w.defaultPrevented}function Em(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:s.setTimeout(c,f||0)}function dl(c){c.g=Em(()=>{c.g=null,c.i&&(c.i=!1,dl(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class Tm extends C{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:dl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bi(c){C.call(this),this.h=c,this.g={}}m(bi,C);var Du=[];function Ou(c){Y(c.g,function(f,g){this.g.hasOwnProperty(g)&&vi(f)},c),c.g={}}bi.prototype.N=function(){bi.Z.N.call(this),Ou(this)},bi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fl=s.JSON.stringify,ml=s.JSON.parse,ku=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function pl(){}function ju(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Es(){O.call(this,"d")}m(Es,O);function gl(){O.call(this,"c")}m(gl,O);var er={},yl=null;function oa(){return yl=yl||new dt}er.Ia="serverreachability";function Mu(c){O.call(this,er.Ia,c)}m(Mu,O);function la(c){const f=oa();Et(f,new Mu(f))}er.STAT_EVENT="statevent";function Pu(c,f){O.call(this,er.STAT_EVENT,c),this.stat=f}m(Pu,O);function yt(c){const f=oa();Et(f,new Pu(f,c))}er.Ja="timingevent";function Tt(c,f){O.call(this,er.Ja,c),this.size=f}m(Tt,O);function at(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},f)}function tr(){this.g=!0}tr.prototype.ua=function(){this.g=!1};function Me(c,f,g,w,M,P){c.info(function(){if(c.g)if(P){var W="",le=P.split("&");for(let Ie=0;Ie<le.length;Ie++){var ft=le[Ie].split("=");if(ft.length>1){const vt=ft[0];ft=ft[1];const ar=vt.split("_");W=ar.length>=2&&ar[1]=="type"?W+(vt+"="+ft+"&"):W+(vt+"=redacted&")}}}else W=null;else W=P;return"XMLHTTP REQ ("+w+") [attempt "+M+"]: "+f+`
`+g+`
`+W})}function En(c,f,g,w,M,P,W){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+M+"]: "+f+`
`+g+`
`+P+" "+W})}function ca(c,f,g,w){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Lu(c,g)+(w?" "+w:"")})}function vl(c,f){c.info(function(){return"TIMEOUT: "+f})}tr.prototype.info=function(){};function Lu(c,f){if(!c.g)return f;if(!f)return null;try{const P=JSON.parse(f);if(P){for(c=0;c<P.length;c++)if(Array.isArray(P[c])){var g=P[c];if(!(g.length<2)){var w=g[1];if(Array.isArray(w)&&!(w.length<1)){var M=w[0];if(M!="noop"&&M!="stop"&&M!="close")for(let W=1;W<w.length;W++)w[W]=""}}}}return fl(P)}catch{return f}}var xi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ts={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wi;function Ei(){}m(Ei,pl),Ei.prototype.g=function(){return new XMLHttpRequest},wi=new Ei;function Sr(c){return encodeURIComponent(String(c))}function _l(c){var f=1;c=c.split(":");const g=[];for(;f>0&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function nr(c,f,g,w){this.j=c,this.i=f,this.l=g,this.S=w||1,this.V=new bi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ss}function Ss(){this.i=null,this.g="",this.h=!1}var bl={},xl={};function wl(c,f,g){c.M=1,c.A=Vu(rr(f)),c.u=g,c.R=!0,ue(c,null)}function ue(c,f){c.F=Date.now(),Mt(c),c.B=rr(c.A);var g=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),u1(g.i,"t",w),c.C=0,g=c.j.L,c.h=new Ss,c.g=C1(c.j,g?f:null,!c.u),c.P>0&&(c.O=new Tm(h(c.Y,c,c.g),c.P)),f=c.V,g=c.g,w=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(Du[0]=M.toString()),M=Du);for(let P=0;P<M.length;P++){const W=Fn(g,M[P],w||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=c.J?be(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),la(),Me(c.i,c.v,c.B,c.l,c.S,c.u)}nr.prototype.ba=function(c){c=c.target;const f=this.O;f&&da(c)==3?f.j():this.Y(c)},nr.prototype.Y=function(c){try{if(c==this.g)e:{const le=da(this.g),ft=this.g.ya(),Ie=this.g.ca();if(!(le<3)&&(le!=3||this.g&&(this.h.h||this.g.la()||y1(this.g)))){this.K||le!=4||ft==7||(ft==8||Ie<=0?la(3):la(2)),El(this);var f=this.g.ca();this.X=f;var g=Fe(this);if(this.o=f==200,En(this.i,this.v,this.B,this.l,this.S,le,f),this.o){if(this.U&&!this.L){t:{if(this.g){var w,M=this.g;if((w=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var P=w;break t}}P=null}if(c=P)ca(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Sm(this,c);else{this.o=!1,this.m=3,yt(12),Si(this),Ti(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<g.length;)if(vt=an(this,g),vt==xl){le==4&&(this.m=4,yt(14),c=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==bl){this.m=4,yt(15),ca(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else ca(this.i,this.l,vt,null),Sm(this,vt);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),le!=4||g.length!=0||this.h.h||(this.m=1,yt(16),c=!1),this.o=this.o&&c,!c)ca(this.i,this.l,g,"[Invalid Chunked Response]"),Si(this),Ti(this);else if(g.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),km(W),W.P=!0,yt(11))}}else ca(this.i,this.l,g,null),Sm(this,g);le==4&&Si(this),this.o&&!this.K&&(le==4?T1(this.j,this):(this.o=!1,Mt(this)))}else FI(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),Si(this),Ti(this)}}}catch{}finally{}};function Fe(c){if(!Ge(c))return c.g.la();const f=y1(c.g);if(f==="")return"";let g="";const w=f.length,M=da(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Si(c),Ti(c),"";c.h.i=new s.TextDecoder}for(let P=0;P<w;P++)c.h.h=!0,g+=c.h.i.decode(f[P],{stream:!(M&&P==w-1)});return f.length=0,c.h.g+=g,c.C=0,c.h.g}function Ge(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function an(c,f){var g=c.C,w=f.indexOf(`
`,g);return w==-1?xl:(g=Number(f.substring(g,w)),isNaN(g)?bl:(w+=1,w+g>f.length?xl:(f=f.slice(w,w+g),c.C=w+g,f)))}nr.prototype.cancel=function(){this.K=!0,Si(this)};function Mt(c){c.T=Date.now()+c.H,As(c,c.H)}function As(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=at(h(c.aa,c),f)}function El(c){c.D&&(s.clearTimeout(c.D),c.D=null)}nr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(vl(this.i,this.B),this.M!=2&&(la(),yt(17)),Si(this),this.m=2,Ti(this)):As(this,this.T-c)};function Ti(c){c.j.I==0||c.K||T1(c.j,c)}function Si(c){El(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,Ou(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function Sm(c,f){try{var g=c.j;if(g.I!=0&&(g.g==c||Am(g.h,c))){if(!c.L&&Am(g.h,c)&&g.I==3){try{var w=g.Ba.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var M=w;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)$u(g),Bu(g);else break e;Om(g),yt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=at(h(g.Va,g),6e3));n1(g.h)<=1&&g.ta&&(g.ta=void 0)}else Ni(g,11)}else if((c.L||g.g==c)&&$u(g),!I(f))for(M=g.Ba.g.parse(f),f=0;f<M.length;f++){let Ie=M[f];const vt=Ie[0];if(!(vt<=g.K))if(g.K=vt,Ie=Ie[1],g.I==2)if(Ie[0]=="c"){g.M=Ie[1],g.ba=Ie[2];const ar=Ie[3];ar!=null&&(g.ka=ar,g.j.info("VER="+g.ka));const Ci=Ie[4];Ci!=null&&(g.za=Ci,g.j.info("SVER="+g.za));const fa=Ie[5];fa!=null&&typeof fa=="number"&&fa>0&&(w=1.5*fa,g.O=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const ma=c.g;if(ma){const Hu=ma.g?ma.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hu){var P=w.h;P.g||Hu.indexOf("spdy")==-1&&Hu.indexOf("quic")==-1&&Hu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Nm(P,P.h),P.h=null))}if(w.G){const jm=ma.g?ma.g.getResponseHeader("X-HTTP-Session-Id"):null;jm&&(w.wa=jm,Pe(w.J,w.G,jm))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),w=g;var W=c;if(w.na=N1(w,w.L?w.ba:null,w.W),W.L){r1(w.h,W);var le=W,ft=w.O;ft&&(le.H=ft),le.D&&(El(le),Mt(le)),w.g=W}else w1(w);g.i.length>0&&Fu(g)}else Ie[0]!="stop"&&Ie[0]!="close"||Ni(g,7);else g.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Ni(g,7):Dm(g):Ie[0]!="noop"&&g.l&&g.l.qa(Ie),g.A=0)}}la(4)}catch{}}var RI=class{constructor(c,f){this.g=c,this.map=f}};function e1(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function t1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function n1(c){return c.h?1:c.g?c.g.size:0}function Am(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Nm(c,f){c.g?c.g.add(f):c.h=f}function r1(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}e1.prototype.cancel=function(){if(this.i=a1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function a1(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const g of c.g.values())f=f.concat(g.G);return f}return v(c.i)}var i1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function II(c,f){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const w=c[g].indexOf("=");let M,P=null;w>=0?(M=c[g].substring(0,w),P=c[g].substring(w+1)):M=c[g],f(M,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ua(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof ua?(this.l=c.l,Tl(this,c.j),this.o=c.o,this.g=c.g,Sl(this,c.u),this.h=c.h,Cm(this,h1(c.i)),this.m=c.m):c&&(f=String(c).match(i1))?(this.l=!1,Tl(this,f[1]||"",!0),this.o=Al(f[2]||""),this.g=Al(f[3]||"",!0),Sl(this,f[4]),this.h=Al(f[5]||"",!0),Cm(this,f[6]||"",!0),this.m=Al(f[7]||"")):(this.l=!1,this.i=new Cl(null,this.l))}ua.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Nl(f,s1,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Nl(f,s1,!0),"@"),c.push(Sr(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Nl(g,g.charAt(0)=="/"?kI:OI,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Nl(g,MI)),c.join("")},ua.prototype.resolve=function(c){const f=rr(this);let g=!!c.j;g?Tl(f,c.j):g=!!c.o,g?f.o=c.o:g=!!c.g,g?f.g=c.g:g=c.u!=null;var w=c.h;if(g)Sl(f,c.u);else if(g=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var M=f.h.lastIndexOf("/");M!=-1&&(w=f.h.slice(0,M+1)+w)}if(M=w,M==".."||M==".")w="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){w=M.lastIndexOf("/",0)==0,M=M.split("/");const P=[];for(let W=0;W<M.length;){const le=M[W++];le=="."?w&&W==M.length&&P.push(""):le==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),w&&W==M.length&&P.push("")):(P.push(le),w=!0)}w=P.join("/")}else w=M}return g?f.h=w:g=c.i.toString()!=="",g?Cm(f,h1(c.i)):g=!!c.m,g&&(f.m=c.m),f};function rr(c){return new ua(c)}function Tl(c,f,g){c.j=g?Al(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Sl(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Cm(c,f,g){f instanceof Cl?(c.i=f,PI(c.i,c.l)):(g||(f=Nl(f,jI)),c.i=new Cl(f,c.l))}function Pe(c,f,g){c.i.set(f,g)}function Vu(c){return Pe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Al(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Nl(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,DI),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function DI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var s1=/[#\/\?@]/g,OI=/[#\?:]/g,kI=/[#\?]/g,jI=/[#\?@]/g,MI=/#/g;function Cl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Ai(c){c.g||(c.g=new Map,c.h=0,c.i&&II(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Cl.prototype,t.add=function(c,f){Ai(this),this.i=null,c=Ns(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function o1(c,f){Ai(c),f=Ns(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function l1(c,f){return Ai(c),f=Ns(c,f),c.g.has(f)}t.forEach=function(c,f){Ai(this),this.g.forEach(function(g,w){g.forEach(function(M){c.call(f,M,w,this)},this)},this)};function c1(c,f){Ai(c);let g=[];if(typeof f=="string")l1(c,f)&&(g=g.concat(c.g.get(Ns(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)g=g.concat(c[f]);return g}t.set=function(c,f){return Ai(this),this.i=null,c=Ns(this,c),l1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=c1(this,c),c.length>0?String(c[0]):f):f};function u1(c,f,g){o1(c,f),g.length>0&&(c.i=null,c.g.set(Ns(c,f),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let w=0;w<f.length;w++){var g=f[w];const M=Sr(g);g=c1(this,g);for(let P=0;P<g.length;P++){let W=M;g[P]!==""&&(W+="="+Sr(g[P])),c.push(W)}}return this.i=c.join("&")};function h1(c){const f=new Cl;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function Ns(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function PI(c,f){f&&!c.j&&(Ai(c),c.i=null,c.g.forEach(function(g,w){const M=w.toLowerCase();w!=M&&(o1(this,w),u1(this,M,g))},c)),c.j=f}function LI(c,f){const g=new tr;if(s.Image){const w=new Image;w.onload=d(ha,g,"TestLoadImage: loaded",!0,f,w),w.onerror=d(ha,g,"TestLoadImage: error",!1,f,w),w.onabort=d(ha,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=d(ha,g,"TestLoadImage: timeout",!1,f,w),s.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else f(!1)}function VI(c,f){const g=new tr,w=new AbortController,M=setTimeout(()=>{w.abort(),ha(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:w.signal}).then(P=>{clearTimeout(M),P.ok?ha(g,"TestPingServer: ok",!0,f):ha(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),ha(g,"TestPingServer: error",!1,f)})}function ha(c,f,g,w,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),w(g)}catch{}}function UI(){this.g=new ku}function Rm(c){this.i=c.Sb||null,this.h=c.ab||!1}m(Rm,pl),Rm.prototype.g=function(){return new Uu(this.i,this.h)};function Uu(c,f){dt.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Uu,dt),t=Uu.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,Il(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||s).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Il(this)),this.g&&(this.readyState=3,Il(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;d1(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function d1(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Rl(this):Il(this),this.readyState==3&&d1(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Rl(this))},t.Na=function(c){this.g&&(this.response=c,Rl(this))},t.ga=function(){this.g&&Rl(this)};function Rl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Il(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Il(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function f1(c){let f="";return Y(c,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function Im(c,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=f1(g),typeof c=="string"?g!=null&&Sr(g):Pe(c,f,g))}function Xe(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Xe,dt);var zI=/^https?$/i,BI=["POST","PUT"];t=Xe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wi.g(),this.g.onreadystatechange=p(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){m1(this,P);return}if(c=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var M in w)g.set(M,w[M]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const P of w.keys())g.set(P,w.get(P));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),M=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call(BI,f,void 0)>=0)||w||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,W]of g)this.g.setRequestHeader(P,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(P){m1(this,P)}};function m1(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,p1(c),zu(c)}function p1(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Et(this,"complete"),Et(this,"abort"),zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zu(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?g1(this):this.Xa())},t.Xa=function(){g1(this)};function g1(c){if(c.h&&typeof i<"u"){if(c.v&&da(c)==4)setTimeout(c.Ca.bind(c),0);else if(Et(c,"readystatechange"),da(c)==4){c.h=!1;try{const P=c.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=P===0){let W=String(c.D).match(i1)[1]||null;!W&&s.self&&s.self.location&&(W=s.self.location.protocol.slice(0,-1)),w=!zI.test(W?W.toLowerCase():"")}g=w}if(g)Et(c,"complete"),Et(c,"success");else{c.o=6;try{var M=da(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",p1(c)}}finally{zu(c)}}}}function zu(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,f||Et(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function da(c){return c.g?c.g.readyState:0}t.ca=function(){try{return da(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),ml(f)}};function y1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function FI(c){const f={};c=(c.g&&da(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var g=_l(c[w]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const P=f[M]||[];f[M]=P,P.push(g)}X(f,function(w){return w.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Dl(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function v1(c){this.za=0,this.i=[],this.j=new tr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Dl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Dl("baseRetryDelayMs",5e3,c),this.Za=Dl("retryDelaySeedMs",1e4,c),this.Ta=Dl("forwardChannelMaxRetries",2,c),this.va=Dl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new e1(c&&c.concurrentRequestLimit),this.Ba=new UI,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=v1.prototype,t.ka=8,t.I=1,t.connect=function(c,f,g,w){yt(0),this.W=c,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.J=N1(this,null,this.W),Fu(this)};function Dm(c){if(_1(c),c.I==3){var f=c.V++,g=rr(c.J);if(Pe(g,"SID",c.M),Pe(g,"RID",f),Pe(g,"TYPE","terminate"),Ol(c,g),f=new nr(c,c.j,f),f.M=2,f.A=Vu(rr(g)),g=!1,s.navigator&&s.navigator.sendBeacon)try{g=s.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&s.Image&&(new Image().src=f.A,g=!0),g||(f.g=C1(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Mt(f)}A1(c)}function Bu(c){c.g&&(km(c),c.g.cancel(),c.g=null)}function _1(c){Bu(c),c.v&&(s.clearTimeout(c.v),c.v=null),$u(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function Fu(c){if(!t1(c.h)&&!c.m){c.m=!0;var f=c.Ea;L||E(),H||(L(),H=!0),T.add(f,c),c.D=0}}function $I(c,f){return n1(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=at(h(c.Ea,c,f),S1(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new nr(this,this.j,c);let P=this.o;if(this.U&&(P?(P=be(P),ne(P,this.U)):P=this.U),this.u!==null||this.R||(M.J=P,P=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=x1(this,M,f),g=rr(this.J),Pe(g,"RID",c),Pe(g,"CVER",22),this.G&&Pe(g,"X-HTTP-Session-Id",this.G),Ol(this,g),P&&(this.R?f="headers="+Sr(f1(P))+"&"+f:this.u&&Im(g,this.u,P)),Nm(this.h,M),this.Ra&&Pe(g,"TYPE","init"),this.S?(Pe(g,"$req",f),Pe(g,"SID","null"),M.U=!0,wl(M,g,null)):wl(M,g,f),this.I=2}}else this.I==3&&(c?b1(this,c):this.i.length==0||t1(this.h)||b1(this))};function b1(c,f){var g;f?g=f.l:g=c.V++;const w=rr(c.J);Pe(w,"SID",c.M),Pe(w,"RID",g),Pe(w,"AID",c.K),Ol(c,w),c.u&&c.o&&Im(w,c.u,c.o),g=new nr(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),f&&(c.i=f.G.concat(c.i)),f=x1(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Nm(c.h,g),wl(g,w,f)}function Ol(c,f){c.H&&Y(c.H,function(g,w){Pe(f,w,g)}),c.l&&Y({},function(g,w){Pe(f,w,g)})}function x1(c,f,g){g=Math.min(c.i.length,g);const w=c.l?h(c.l.Ka,c.l,c):null;e:{var M=c.i;let le=-1;for(;;){const ft=["count="+g];le==-1?g>0?(le=M[0].g,ft.push("ofs="+le)):le=0:ft.push("ofs="+le);let Ie=!0;for(let vt=0;vt<g;vt++){var P=M[vt].g;const ar=M[vt].map;if(P-=le,P<0)le=Math.max(0,M[vt].g-100),Ie=!1;else try{P="req"+P+"_"||"";try{var W=ar instanceof Map?ar:Object.entries(ar);for(const[Ci,fa]of W){let ma=fa;o(fa)&&(ma=fl(fa)),ft.push(P+Ci+"="+encodeURIComponent(ma))}}catch(Ci){throw ft.push(P+"type="+encodeURIComponent("_badmap")),Ci}}catch{w&&w(ar)}}if(Ie){W=ft.join("&");break e}}W=void 0}return c=c.i.splice(0,g),f.G=c,W}function w1(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;L||E(),H||(L(),H=!0),T.add(f,c),c.A=0}}function Om(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=at(h(c.Da,c),S1(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,E1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=at(h(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Bu(this),E1(this))};function km(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function E1(c){c.g=new nr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=rr(c.na);Pe(f,"RID","rpc"),Pe(f,"SID",c.M),Pe(f,"AID",c.K),Pe(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&Pe(f,"TO",c.ia),Pe(f,"TYPE","xmlhttp"),Ol(c,f),c.u&&c.o&&Im(f,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=Vu(rr(f)),g.u=null,g.R=!0,ue(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Bu(this),Om(this),yt(19))};function $u(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function T1(c,f){var g=null;if(c.g==f){$u(c),km(c),c.g=null;var w=2}else if(Am(c.h,f))g=f.G,r1(c.h,f),w=1;else return;if(c.I!=0){if(f.o)if(w==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var M=c.D;w=oa(),Et(w,new Tt(w,g)),Fu(c)}else w1(c);else if(M=f.m,M==3||M==0&&f.X>0||!(w==1&&$I(c,f)||w==2&&Om(c)))switch(g&&g.length>0&&(f=c.h,f.i=f.i.concat(g)),M){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function S1(c,f){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*f}function Ni(c,f){if(c.j.info("Error code "+f),f==2){var g=h(c.bb,c),w=c.Ua;const M=!w;w=new ua(w||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Tl(w,"https"),Vu(w),M?LI(w.toString(),g):VI(w.toString(),g)}else yt(2);c.I=0,c.l&&c.l.pa(f),A1(c),_1(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function A1(c){if(c.I=0,c.ja=[],c.l){const f=a1(c.h);(f.length!=0||c.i.length!=0)&&(S(c.ja,f),S(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function N1(c,f,g){var w=g instanceof ua?rr(g):new ua(g);if(w.g!="")f&&(w.g=f+"."+w.g),Sl(w,w.u);else{var M=s.location;w=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const P=new ua(null);w&&Tl(P,w),f&&(P.g=f),M&&Sl(P,M),g&&(P.h=g),w=P}return g=c.G,f=c.wa,g&&f&&Pe(w,g,f),Pe(w,"VER",c.ka),Ol(c,w),w}function C1(c,f,g){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new Xe(new Rm({ab:g})):new Xe(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R1(){}t=R1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qu(){}qu.prototype.g=function(c,f){return new sn(c,f)};function sn(c,f){dt.call(this),this.g=new v1(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!I(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!I(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Cs(this)}m(sn,dt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Dm(this.g)},sn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=fl(c),c=g);f.i.push(new RI(f.Ya++,c)),f.I==3&&Fu(f)},sn.prototype.N=function(){this.g.l=null,delete this.j,Dm(this.g),delete this.g,sn.Z.N.call(this)};function I1(c){Es.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}m(I1,Es);function D1(){gl.call(this),this.status=1}m(D1,gl);function Cs(c){this.g=c}m(Cs,R1),Cs.prototype.ra=function(){Et(this.g,"a")},Cs.prototype.qa=function(c){Et(this.g,new I1(c))},Cs.prototype.pa=function(c){Et(this.g,new D1)},Cs.prototype.oa=function(){Et(this.g,"b")},qu.prototype.createWebChannel=qu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,fN=function(){return new qu},dN=function(){return oa()},hN=er,fy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,$h=xi,Ts.COMPLETE="complete",uN=Ts,ju.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Zl=ju,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,cN=Xe}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const Hx="@firebase/firestore",Gx="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new Lf("@firebase/firestore");function Ls(){return Zi.logLevel}function Q(t,...e){if(Zi.logLevel<=fe.DEBUG){const n=e.map(mv);Zi.debug(`Firestore (${Jo}): ${t}`,...n)}}function Zr(t,...e){if(Zi.logLevel<=fe.ERROR){const n=e.map(mv);Zi.error(`Firestore (${Jo}): ${t}`,...n)}}function Co(t,...e){if(Zi.logLevel<=fe.WARN){const n=e.map(mv);Zi.warn(`Firestore (${Jo}): ${t}`,...n)}}function mv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mN(t,r,n)}function mN(t,e,n){let r=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function Ee(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||mN(e,a,r)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends zn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $L{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class qL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HL{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const a=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new pN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Lt(e)}}class GL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new GL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Yx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const a=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Yx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Yx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=KL(40);for(let i=0;i<a.length;++i)r.length<20&&a[i]<n&&(r+=e.charAt(a[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function my(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),i=e.charAt(r);if(a!==i)return Dp(a)===Dp(i)?me(a,i):Dp(a)?1:-1}return me(t.length,e.length)}const QL=55296,XL=57343;function Dp(t){const e=t.charCodeAt(0);return e>=QL&&e<=XL}function Ro(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__name__";class sr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return sr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const i=sr.compareSegments(e.get(a),n.get(a));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=sr.isNumericId(e),a=sr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?sr.extractNumericId(e).compare(sr.extractNumericId(n)):my(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qa.fromString(e.substring(4,e.length-2))}}class ke extends sr{construct(e,n,r){return new ke(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const JL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends sr{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return JL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Wx}static keyField(){return new It([Wx])}static fromServerFormat(e){const n=[];let r="",a=0;const i=()=>{if(r.length===0)throw new K(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;a<e.length;){const o=e[a];if(o==="\\"){if(a+1===e.length)throw new K(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(r+=o,a++):(i(),a++)}if(i(),s)throw new K(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(ke.fromString(e))}static fromName(e){return new J(ke.fromString(e).popFirst(5))}static empty(){return new J(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new ke(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e,n){if(!n)throw new K(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ZL(t,e,n,r){if(e===!0&&r===!0)throw new K(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Kx(t){if(!J.isDocumentKey(t))throw new K(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Qx(t){if(J.isDocumentKey(t))throw new K(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function yN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Uf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uf(t);throw new K(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function gu(t,e){if(!yN(t))throw new K(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(a&&typeof s!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=-62135596800,Jx=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Jx);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Xx)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jx}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Xx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:ht("string",_e._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new _e(0,0))}static max(){return new ae(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=-1;function e6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ae.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new Za(a,J.empty(),e)}function t6(t){return new Za(t.readTime,t.key,Fc)}class Za{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Za(ae.min(),J.empty(),Fc)}static max(){return new Za(ae.max(),J.empty(),Fc)}}function n6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class a6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==r6)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,a)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let a=0,i=0,s=!1;e.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&n()},u=>r(u))}),s=!0,i===a&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(a=>a?F.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,i)=>{r.push(n.call(this,a,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,a)=>{const i=e.length,s=new Array(i);let o=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(d=>{s[h]=d,++o,o===i&&r(s)},d=>a(d))}})}static doWhile(e,n){return new F((r,a)=>{const i=()=>{e()===!0?n().next(()=>{i()},a):r()};i()})}}function i6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function el(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=-1;function Bf(t){return t==null}function jd(t){return t===0&&1/t==-1/0}function s6(t){return typeof t=="number"&&Number.isInteger(t)&&!jd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="";function o6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zx(e)),e=l6(t.get(n),e);return Zx(e)}function l6(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const i=t.charAt(a);switch(i){case"\0":n+="";break;case vN:n+="";break;default:n+=i}}return n}function Zx(t){return t+vN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _N(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,a,i){this.key=e,this.value=n,this.color=r??At.RED,this.left=a??At.EMPTY,this.right=i??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,i){return new At(e??this.key,n??this.value,r??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const i=r(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,n,r),null):i===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,a,i){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tw(this.data.getIterator())}getIteratorFrom(e){return new tw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class tw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new mn([])}unionWith(e){let n=new pt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new bN("Invalid base64 string: "+i):i}}(e);return new kt(n)}static fromUint8Array(e){const n=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}kt.EMPTY_BYTE_STRING=new kt("");const c6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=c6.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ti(t){return typeof t=="string"?kt.fromBase64String(t):kt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="server_timestamp",wN="__type__",EN="__previous_value__",TN="__local_write_time__";function yv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wN])==null?void 0:r.stringValue)===xN}function Ff(t){const e=t.mapValue.fields[EN];return yv(e)?Ff(e):e}function $c(t){const e=ei(t.mapValue.fields[TN].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e,n,r,a,i,s,o,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Md="(default)";class qc{constructor(e,n){this.projectId=e,this.database=n||Md}static empty(){return new qc("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="__type__",h6="__max__",ph={mapValue:{}},AN="__vector__",Pd="value";function ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yv(t)?4:f6(t)?9007199254740991:d6(t)?10:11:ee(28295,{value:t})}function vr(t,e){if(t===e)return!0;const n=ni(t);if(n!==ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $c(t).isEqual($c(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=ei(a.timestampValue),o=ei(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ti(a.bytesValue).isEqual(ti(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return et(a.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return et(a.integerValue)===et(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=et(a.doubleValue),o=et(i.doubleValue);return s===o?jd(s)===jd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(ew(s)!==ew(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!vr(s[u],o[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Hc(t,e){return(t.values||[]).find(n=>vr(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=ni(t),r=ni(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),u=et(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return nw(t.timestampValue,e.timestampValue);case 4:return nw($c(t),$c(e));case 5:return my(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ti(i),u=ti(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=me(o[h],u[h]);if(d!==0)return d}return me(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=me(et(i.latitude),et(s.latitude));return o!==0?o:me(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var p,v,S,A;const o=i.fields||{},u=s.fields||{},h=(p=o[Pd])==null?void 0:p.arrayValue,d=(v=u[Pd])==null?void 0:v.arrayValue,m=me(((S=h==null?void 0:h.values)==null?void 0:S.length)||0,((A=d==null?void 0:d.values)==null?void 0:A.length)||0);return m!==0?m:rw(h,d)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===ph.mapValue&&s===ph.mapValue)return 0;if(i===ph.mapValue)return 1;if(s===ph.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),h=s.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const p=my(u[m],d[m]);if(p!==0)return p;const v=Io(o[u[m]],h[d[m]]);if(v!==0)return v}return me(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function nw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=ei(t),r=ei(e),a=me(n.seconds,r.seconds);return a!==0?a:me(n.nanos,r.nanos)}function rw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const i=Io(n[a],r[a]);if(i)return i}return me(n.length,r.length)}function Do(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ti(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const i of n.values||[])a?a=!1:r+=",",r+=py(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",i=!0;for(const s of r)i?i=!1:a+=",",a+=`${s}:${py(n.fields[s])}`;return a+"}"}(t.mapValue):ee(61005,{value:t})}function qh(t){switch(ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ff(t);return e?16+qh(e):16;case 5:return 2*t.stringValue.length;case 6:return ti(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,i)=>a+qh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return di(r.fields,(i,s)=>{a+=i.length+qh(s)}),a}(t.mapValue);default:throw ee(13486,{value:t})}}function aw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gy(t){return!!t&&"integerValue"in t}function vv(t){return!!t&&"arrayValue"in t}function iw(t){return!!t&&"nullValue"in t}function sw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hh(t){return!!t&&"mapValue"in t}function d6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SN])==null?void 0:r.stringValue)===AN}function _c(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return{...t}}function f6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Hh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=It.emptyPath(),r={},a=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,a),r={},a=[],n=o.popLast()}s?r[o.lastSegment()]=_c(s):a.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,a)}delete(e){const n=this.field(e.popLast());Hh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Hh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){di(n,(a,i)=>e[a]=i);for(const a of r)delete e[a]}clone(){return new Zt(_c(this.value))}}function NN(t){const e=[];return di(t.fields,(n,r)=>{const a=new It([n]);if(Hh(r)){const i=NN(r.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,a,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Vt(e,0,ae.min(),ae.min(),ae.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,a){return new Vt(e,1,n,ae.min(),r,a,0)}static newNoDocument(e,n){return new Vt(e,2,n,ae.min(),ae.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,ae.min(),ae.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function ow(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=Io(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function lw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n="asc"){this.field=e,this.dir=n}}function m6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{}class ct extends CN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new g6(e,n,r):n==="array-contains"?new _6(e,r):n==="in"?new b6(e,r):n==="not-in"?new x6(e,r):n==="array-contains-any"?new w6(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y6(e,r):new v6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&ni(this.value)===ni(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends CN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return RN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function RN(t){return t.op==="and"}function IN(t){return p6(t)&&RN(t)}function p6(t){for(const e of t.filters)if(e instanceof Kn)return!1;return!0}function yy(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Do(t.value);if(IN(t))return t.filters.map(e=>yy(e)).join(",");{const e=t.filters.map(n=>yy(n)).join(",");return`${t.op}(${e})`}}function DN(t,e){return t instanceof ct?function(r,a){return a instanceof ct&&r.op===a.op&&r.field.isEqual(a.field)&&vr(r.value,a.value)}(t,e):t instanceof Kn?function(r,a){return a instanceof Kn&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((i,s,o)=>i&&DN(s,a.filters[o]),!0):!1}(t,e):void ee(19439)}function ON(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Do(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(ON).join(" ,")+"}"}(t):"Filter"}class g6 extends ct{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class y6 extends ct{constructor(e,n){super(e,"in",n),this.keys=kN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class v6 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=kN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class _6 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vv(n)&&Hc(n.arrayValue,this.value)}}class b6 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class x6 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Hc(this.value.arrayValue,n)}}class w6 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n=null,r=[],a=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function cw(t,e=null,n=[],r=[],a=null,i=null,s=null){return new E6(t,e,n,r,a,i,s)}function _v(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>yy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Bf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Do(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Do(r)).join(",")),e.Te=n}return e.Te}function bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!DN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lw(t.startAt,e.startAt)&&lw(t.endAt,e.endAt)}function vy(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n=null,r=[],a=[],i=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function T6(t,e,n,r,a,i,s,o){return new tl(t,e,n,r,a,i,s,o)}function $f(t){return new tl(t)}function uw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jN(t){return t.collectionGroup!==null}function bc(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new pt(It.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Gc(i,r))}),n.has(It.keyField().canonicalString())||e.Ie.push(new Gc(It.keyField(),r))}return e.Ie}function dr(t){const e=ie(t);return e.Ee||(e.Ee=S6(e,bc(t))),e.Ee}function S6(t,e){if(t.limitType==="F")return cw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Gc(a.field,i)});const n=t.endAt?new Ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ld(t.startAt.position,t.startAt.inclusive):null;return cw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _y(t,e){const n=t.filters.concat([e]);return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function by(t,e,n){return new tl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return bv(dr(t),dr(e))&&t.limitType===e.limitType}function MN(t){return`${_v(dr(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>ON(a)).join(", ")}]`),Bf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Do(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Do(a)).join(",")),`Target(${r})`}(dr(t))}; limitType=${t.limitType})`}function Hf(t,e){return e.isFoundDocument()&&function(r,a){const i=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,a){for(const i of bc(r))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const i of r.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(s,o,u){const h=ow(s,o,u);return s.inclusive?h<=0:h<0}(r.startAt,bc(r),a)||r.endAt&&!function(s,o,u){const h=ow(s,o,u);return s.inclusive?h>=0:h>0}(r.endAt,bc(r),a))}(t,e)}function A6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PN(t){return(e,n)=>{let r=!1;for(const a of bc(t)){const i=N6(a,e,n);if(i!==0)return i;r=r||a.field.isKeyField()}return 0}}function N6(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),h=o.data.field(i);return u!==null&&h!==null?Io(u,h):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,i]of r)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[a,i]of r)e(a,i)})}isEmpty(){return _N(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Ke(J.comparator);function ea(){return C6}const LN=new Ke(J.comparator);function ec(...t){let e=LN;for(const n of t)e=e.insert(n.key,n);return e}function VN(t){let e=LN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Li(){return xc()}function UN(){return xc()}function xc(){return new ps(t=>t.toString(),(t,e)=>t.isEqual(e))}const R6=new Ke(J.comparator),I6=new pt(J.comparator);function pe(...t){let e=I6;for(const n of t)e=e.add(n);return e}const D6=new pt(me);function O6(){return D6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jd(e)?"-0":e}}function zN(t){return{integerValue:""+t}}function k6(t,e){return s6(e)?zN(e):xv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Vd?function(a,i){const s={fields:{[wN]:{stringValue:xN},[TN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&yv(i)&&(i=Ff(i)),i&&(s.fields[EN]=i),{mapValue:s}}(n,e):t instanceof Yc?FN(t,e):t instanceof Wc?$N(t,e):function(a,i){const s=BN(a,i),o=hw(s)+hw(a.Ae);return gy(s)&&gy(a.Ae)?zN(o):xv(a.serializer,o)}(t,e)}function M6(t,e,n){return t instanceof Yc?FN(t,e):t instanceof Wc?$N(t,e):n}function BN(t,e){return t instanceof Ud?function(r){return gy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Vd extends Gf{}class Yc extends Gf{constructor(e){super(),this.elements=e}}function FN(t,e){const n=qN(e);for(const r of t.elements)n.some(a=>vr(a,r))||n.push(r);return{arrayValue:{values:n}}}class Wc extends Gf{constructor(e){super(),this.elements=e}}function $N(t,e){let n=qN(e);for(const r of t.elements)n=n.filter(a=>!vr(a,r));return{arrayValue:{values:n}}}class Ud extends Gf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function hw(t){return et(t.integerValue||t.doubleValue)}function qN(t){return vv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P6(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Yc&&a instanceof Yc||r instanceof Wc&&a instanceof Wc?Ro(r.elements,a.elements,vr):r instanceof Ud&&a instanceof Ud?vr(r.Ae,a.Ae):r instanceof Vd&&a instanceof Vd}(t.transform,e.transform)}class L6{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yf{}function HN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new wv(t.key,Yn.none()):new yu(t.key,t.data,Yn.none());{const n=t.data,r=Zt.empty();let a=new pt(It.comparator);for(let i of e.fields)if(!a.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),a=a.add(i)}return new fi(t.key,r,new mn(a.toArray()),Yn.none())}}function V6(t,e,n){t instanceof yu?function(a,i,s){const o=a.value.clone(),u=fw(a.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fi?function(a,i,s){if(!Gh(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=fw(a.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(GN(a)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function wc(t,e,n,r){return t instanceof yu?function(i,s,o,u){if(!Gh(i.precondition,s))return o;const h=i.value.clone(),d=mw(i.fieldTransforms,u,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof fi?function(i,s,o,u){if(!Gh(i.precondition,s))return o;const h=mw(i.fieldTransforms,u,s),d=s.data;return d.setAll(GN(i)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,s,o){return Gh(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function U6(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),i=BN(r.transform,a||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function dw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ro(r,a,(i,s)=>P6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends Yf{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class fi extends Yf{constructor(e,n,r,a,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function GN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fw(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const i=t[a],s=i.transform,o=e.data.field(i.field);r.set(i.field,M6(s,o,n[a]))}return r}function mw(t,e,n){const r=new Map;for(const a of t){const i=a.transform,s=n.data.field(a.field);r.set(a.field,j6(i,s,e))}return r}class wv extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z6 extends Yf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&V6(i,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UN();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=n.has(a.key)?null:o;const u=HN(s,o);u!==null&&r.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>dw(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>dw(n,r))}}class Ev{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=function(){return R6}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new Ev(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,ve;function q6(t){switch(t){case z.OK:return ee(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function YN(t){if(t===void 0)return Zr("GRPC error has no .code"),z.UNKNOWN;switch(t){case it.OK:return z.OK;case it.CANCELLED:return z.CANCELLED;case it.UNKNOWN:return z.UNKNOWN;case it.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case it.INTERNAL:return z.INTERNAL;case it.UNAVAILABLE:return z.UNAVAILABLE;case it.UNAUTHENTICATED:return z.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case it.NOT_FOUND:return z.NOT_FOUND;case it.ALREADY_EXISTS:return z.ALREADY_EXISTS;case it.PERMISSION_DENIED:return z.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case it.ABORTED:return z.ABORTED;case it.OUT_OF_RANGE:return z.OUT_OF_RANGE;case it.UNIMPLEMENTED:return z.UNIMPLEMENTED;case it.DATA_LOSS:return z.DATA_LOSS;default:return ee(39323,{code:t})}}(ve=it||(it={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=new qa([4294967295,4294967295],0);function pw(t){const e=H6().encode(t),n=new lN;return n.update(e),new Uint8Array(n.digest())}function gw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new qa([n,r],0),new qa([a,i],0)]}class Tv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new tc(`Invalid padding: ${n}`);if(r<0)throw new tc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new tc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new tc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qa.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(qa.fromNumber(r)));return a.compare(G6)===1&&(a=new qa([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pw(e),[r,a]=gw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);if(!this.we(s))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Tv(i,a,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=pw(e),[r,a]=gw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class tc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n,r,a,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wf(ae.min(),a,new Ke(me),ea(),pe())}}class vu{constructor(e,n,r,a,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class WN{constructor(e,n){this.targetId=e,this.Ce=n}}class KN{constructor(e,n,r=kt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class yw{constructor(){this.ve=0,this.Fe=vw(),this.Me=kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ee(38017,{changeType:i})}}),new vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=vw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Y6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ea(),this.Je=gh(),this.He=gh(),this.Ye=new Ke(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const i=a.target;if(vy(i))if(r===0){const s=new J(i.path);this.et(n,s,Vt.newNoDocument(s,ae.min()))}else Ee(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),u=o?this.ct(o,e,s):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let s,o;try{s=ti(r).toUint8Array()}catch(u){if(u instanceof bN)return Co("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Tv(s,a,i)}catch(u){return Co(u instanceof tc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&vy(o.target)){const u=new J(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Vt.newNoDocument(u,e))}i.Be&&(n.set(s,i.ke()),i.qe())}});let r=pe();this.He.forEach((i,s)=>{let o=!0;s.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const a=new Wf(e,n,this.Ye,this.je,r);return this.je=ea(),this.Je=gh(),this.He=gh(),this.Ye=new Ke(me),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gh(){return new Ke(J.comparator)}function vw(){return new Ke(J.comparator)}const W6={asc:"ASCENDING",desc:"DESCENDING"},K6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class X6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xy(t,e){return t.useProto3Json||Bf(e)?e:{value:e}}function zd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J6(t,e){return zd(t,e.toTimestamp())}function fr(t){return Ee(!!t,49232),ae.fromTimestamp(function(n){const r=ei(n);return new _e(r.seconds,r.nanos)}(t))}function Sv(t,e){return wy(t,e).canonicalString()}function wy(t,e){const n=function(a){return new ke(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function XN(t){const e=ke.fromString(t);return Ee(nC(e),10190,{key:e.toString()}),e}function Ey(t,e){return Sv(t.databaseId,e.path)}function Op(t,e){const n=XN(e);if(n.get(1)!==t.databaseId.projectId)throw new K(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(ZN(n))}function JN(t,e){return Sv(t.databaseId,e)}function Z6(t){const e=XN(t);return e.length===4?ke.emptyPath():ZN(e)}function Ty(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ZN(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _w(t,e,n){return{name:Ey(t,e),fields:n.value.mapValue.fields}}function e5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ee(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(Ee(d===void 0||typeof d=="string",58123),kt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),kt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(h){const d=h.code===void 0?z.UNKNOWN:YN(h.code);return new K(d,h.message||"")}(s);n=new KN(r,a,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Op(t,r.document.name),i=fr(r.document.updateTime),s=r.document.createTime?fr(r.document.createTime):ae.min(),o=new Zt({mapValue:{fields:r.document.fields}}),u=Vt.newFoundDocument(a,i,s,o),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Yh(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Op(t,r.document),i=r.readTime?fr(r.readTime):ae.min(),s=Vt.newNoDocument(a,i),o=r.removedTargetIds||[];n=new Yh([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Op(t,r.document),i=r.removedTargetIds||[];n=new Yh([],i,a,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:i}=r,s=new $6(a,i),o=r.targetId;n=new WN(o,s)}}return n}function t5(t,e){let n;if(e instanceof yu)n={update:_w(t,e.key,e.value)};else if(e instanceof wv)n={delete:Ey(t,e.key)};else if(e instanceof fi)n={update:_w(t,e.key,e.data),updateMask:u5(e.fieldMask)};else{if(!(e instanceof z6))return ee(16599,{Vt:e.type});n={verify:Ey(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Vd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Yc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Wc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ud)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ee(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:J6(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function n5(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(a,i){let s=a.updateTime?fr(a.updateTime):fr(i);return s.isEqual(ae.min())&&(s=fr(i)),new L6(s,a.transformResults||[])}(n,e))):[]}function r5(t,e){return{documents:[JN(t,e.path)]}}function a5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JN(t,a);const i=function(h){if(h.length!==0)return tC(Kn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(h){if(h.length!==0)return h.map(d=>function(p){return{field:Us(p.field),direction:o5(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=xy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:a}}function i5(t){let e=Z6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ee(r===1,65062);const d=n.from[0];d.allDescendants?a=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(m){const p=eC(m);return p instanceof Kn&&IN(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(S){return new Gc(zs(S.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,Bf(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,v=m.values||[];return new Ld(v,p)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const p=!m.before,v=m.values||[];return new Ld(v,p)}(n.endAt)),T6(e,a,s,i,o,"F",u,h)}function s5(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=zs(n.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zs(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zs(n.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(zs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>eC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function o5(t){return W6[t]}function l5(t){return K6[t]}function c5(t){return Q6[t]}function Us(t){return{fieldPath:t.canonicalString()}}function zs(t){return It.fromServerFormat(t.fieldPath)}function tC(t){return t instanceof ct?function(n){if(n.op==="=="){if(sw(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NAN"}};if(iw(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sw(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NAN"}};if(iw(n.value))return{unaryFilter:{field:Us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Us(n.field),op:l5(n.op),value:n.value}}}(t):t instanceof Kn?function(n){const r=n.getFilters().map(a=>tC(a));return r.length===1?r[0]:{compositeFilter:{op:c5(n.op),filters:r}}}(t):ee(54877,{filter:t})}function u5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r,a,i=ae.min(),s=ae.min(),o=kt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.yt=e}}function d5(t){const e=i5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?by(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.Cn=new m5}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Za.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class m5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new pt(ke.comparator),i=!a.has(r);return this.index[n]=a.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new pt(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rC=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(rC,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="LruGarbageCollector",p5=1048576;function ww([t,e],[n,r]){const a=me(t,n);return a===0?me(e,r):a}class g5{constructor(e){this.Ir=e,this.buffer=new pt(ww),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ww(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(xw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){el(n)?Q(xw,"Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Vr(3e5)})}}class v5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(zf.ce);const r=new g5(n);return this.mr.forEachTarget(e,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(bw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,i,s,o,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,s=Date.now(),this.nthSequenceNumber(e,a))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Ls()<=fe.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:m})))}}function _5(t,e){return new v5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.changes=new ps(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&wc(r.mutation,a,mn.empty(),_e.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const a=Li();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(i=>{let s=ec();return i.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Li();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const a=[];return r.forEach(i=>{n.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,a){let i=ea();const s=xc(),o=function(){return xc()}();return n.forEach((u,h)=>{const d=r.get(h.key);a.has(h.key)&&(d===void 0||d.mutation instanceof fi)?i=i.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),wc(d.mutation,h,d.mutation.getFieldMask(),_e.now())):s.set(h.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>o.set(h,new x5(d,s.get(h)??null))),o))}recalculateAndSaveOverlays(e,n){const r=xc();let a=new Ke((s,o)=>s-o),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||mn.empty();d=o.applyToLocalView(h,d),r.set(u,d);const m=(a.get(o.batchId)||pe()).add(u);a=a.insert(o.batchId,m)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,d=u.value,m=UN();d.forEach(p=>{if(!i.has(p)){const v=HN(n.get(p),r.get(p));v!==null&&m.set(p,v),i=i.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-i.size):F.resolve(Li());let o=Fc,u=i;return s.next(h=>F.forEach(h,(d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,pe())).next(d=>({batchId:o,changes:VN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let a=ec();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const i=n.collectionGroup;let s=ec();return this.indexManager.getCollectionParents(e,i).next(o=>F.forEach(o,u=>{const h=function(m,p){return new tl(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(d=>{d.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,a))).next(s=>{i.forEach((u,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,Vt.newInvalidDocument(d)))});let o=ec();return s.forEach((u,h)=>{const d=i.get(u);d!==void 0&&wc(d.mutation,h,mn.empty(),_e.now()),Hf(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:fr(a.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:d5(a.bundledQuery),readTime:fr(a.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.overlays=new Ke(J.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Li();return F.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const a=Li(),i=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&a.set(u.getKey(),u)}return F.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let i=new Ke((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Li(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=Li(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=a)););return F.resolve(o)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new F6(n,r));let i=this.qr.get(n);i===void 0&&(i=pe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(){this.sessionToken=kt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(){this.Qr=new pt(_t.$r),this.Ur=new pt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new ke([])),r=new _t(n,e),a=new _t(n,e+1),i=[];return this.Ur.forEachInRange([r,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new ke([])),r=new _t(n,e),a=new _t(n,e+1);let i=pe();return this.Ur.forEachInRange([r,a],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new _t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(_t.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new B6(i,n,r,a);this.mutationQueue.push(s);for(const o of a)this.Zr=this.Zr.add(new _t(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),i=a<0?0:a;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?gv:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,a],s=>{const o=this.Xr(s.Yr);i.push(o)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(me);return n.forEach(a=>{const i=new _t(a,0),s=new _t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],o=>{r=r.add(o.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const s=new _t(new J(i),0);let o=new pt(me);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.Yr)),!0)},s),F.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const a=this.Xr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,a=>{const i=new _t(a.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new _t(n,0),a=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.ri=e,this.docs=function(){return new Ke(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),i=a?a.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=ea();return n.forEach(a=>{const i=this.docs.get(a);r=r.insert(a,i?i.document.mutableCopy():Vt.newInvalidDocument(a))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let i=ea();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||n6(t6(d),r)<=0||(a.has(d.key)||Hf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,a){ee(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C5(this)}getSize(e){return F.resolve(this.size)}}class C5 extends b5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.persistence=e,this.si=new ps(n=>_v(n),bv),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Av,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach((r,a)=>n(a)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let a=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),a++)}),F.waitFor(i).next(()=>a)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,i=[];return a&&n.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new S5,this.referenceDelegate=e(this),this.Pi=new R5(this),this.indexManager=new f5,this.remoteDocumentCache=function(a){return new N5(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new h5(n),this.Ii=new E5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new T5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new A5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const a=new I5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class I5 extends a6{constructor(e){super(),this.currentSequenceNumber=e}}class Nv{constructor(e){this.persistence=e,this.Ri=new Av,this.Vi=null}static mi(e){return new Nv(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const a=J.fromPath(r);return this.gi(e,a).next(i=>{i||n.removeEntry(a,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bd{constructor(e,n){this.persistence=e,this.pi=new ps(r=>o6(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=_5(this,n)}static mi(e,n){return new Bd(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,a)=>this.br(e,r,a).next(i=>i?F.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,i.removeEntry(s,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qh(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return F.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=pe(),a=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Cv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return E3()?8:i6(Ut())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const i={result:null};return this.ys(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(e,n,a,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new D5;return this.Ss(e,n,s).next(o=>{if(i.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>i.result)}bs(e,n,r,a){return r.documentReadCount<this.fs?(Ls()<=fe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Ls()<=fe.DEBUG&&Q("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Ls()<=fe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(n))):F.resolve())}ys(e,n){if(uw(n))return F.resolve(null);let r=dr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=by(n,null,"F"),r=dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=pe(...i);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,o);return this.Cs(n,h,s,u.readTime)?this.ys(e,by(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,a){return uw(n)||a.isEqual(ae.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const s=this.Ds(n,i);return this.Cs(n,s,r,a)?F.resolve(null):(Ls()<=fe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vs(n)),this.vs(e,s,n,e6(a,Fc)).next(o=>o))})}Ds(e,n){let r=new pt(PN(e));return n.forEach((a,i)=>{Hf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,n,r){return Ls()<=fe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.ps.getDocumentsMatchingQuery(e,n,Za.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LocalStore",k5=3e8;class j5{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ke(me),this.xs=new ps(i=>_v(i),bv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function M5(t,e,n,r){return new j5(t,e,n,r)}async function iC(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(i=>(a=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],o=[];let u=pe();for(const h of a){s.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:s,addedBatchIds:o}))})})}function P5(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,h,d){const m=h.batch,p=m.keys();let v=F.resolve();return p.forEach(S=>{v=v.next(()=>d.getEntry(u,S)).next(A=>{const N=h.docVersions.get(S);Ee(N!==null,48541),A.version.compareTo(N)<0&&(m.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),d.addEntry(A)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=pe();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function sC(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function L5(t,e){const n=ie(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const o=[];e.targetChanges.forEach((d,m)=>{const p=a.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,m)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(kt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),a=a.insert(m,v),function(A,N,y){return A.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=k5?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,v,d)&&o.push(n.Pi.updateTargetData(i,v))});let u=ea(),h=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),o.push(V5(i,s,e.documentUpdates).next(d=>{u=d.ks,h=d.qs})),!r.isEqual(ae.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(d)}return F.waitFor(o).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ms=a,i))}function V5(t,e,n){let r=pe(),a=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=ea();return n.forEach((o,u)=>{const h=i.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):Q(Rv,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{ks:s,qs:a}})}function U5(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=gv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z5(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Pi.getTargetData(r,e).next(i=>i?(a=i,F.resolve(a)):n.Pi.allocateTargetId(r).next(s=>(a=new Oa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Sy(t,e,n){const r=ie(t),a=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!el(s))throw s;Q(Rv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Ew(t,e,n){const r=ie(t);let a=ae.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,d){const m=ie(u),p=m.xs.get(d);return p!==void 0?F.resolve(m.Ms.get(p)):m.Pi.getTargetData(h,d)}(r,s,dr(e)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?a:ae.min(),n?i:pe())).next(o=>(B5(r,A6(e),o),{documents:o,Qs:i})))}function B5(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((a,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Tw{constructor(){this.activeTargetIds=O6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F5{constructor(){this.Mo=new Tw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Tw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="ConnectivityMonitor";class Aw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(Sw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(Sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Ay(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="RestConnection",q5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class H5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Md?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,i){const s=Ay(),o=this.zo(e,n.toUriEncodedString());Q(kp,`Sending RPC '${e}' ${s}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,i);const{host:h}=new URL(o),d=ds(h);return this.Jo(e,o,u,r,d).then(m=>(Q(kp,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Co(kp,`RPC '${e}' ${s} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(e,n,r,a,i,s){return this.Go(e,n,r,a,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,i)=>e[i]=a),r&&r.headers.forEach((a,i)=>e[i]=a)}zo(e,n){const r=q5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class Y5 extends H5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,i){const s=Ay();return new Promise((o,u)=>{const h=new cN;h.setWithCredentials(!0),h.listenOnce(uN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case $h.NO_ERROR:const m=h.getResponseJson();Q(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case $h.TIMEOUT:Q(Pt,`RPC '${e}' ${s} timed out`),u(new K(z.DEADLINE_EXCEEDED,"Request time out"));break;case $h.HTTP_ERROR:const p=h.getStatus();if(Q(Pt,`RPC '${e}' ${s} failed with status:`,p,"response text:",h.getResponseText()),p>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v==null?void 0:v.error;if(S&&S.status&&S.message){const A=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(_)>=0?_:z.UNKNOWN}(S.status);u(new K(A,S.message))}else u(new K(z.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new K(z.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Q(Pt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(a);Q(Pt,`RPC '${e}' ${s} sending request:`,a),h.send(n,"POST",d,r,15)})}T_(e,n,r){const a=Ay(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fN(),o=dN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");Q(Pt,`Creating RPC '${e}' stream ${a}: ${d}`,u);const m=s.createWebChannel(d,u);this.I_(m);let p=!1,v=!1;const S=new G5({Yo:N=>{v?Q(Pt,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(p||(Q(Pt,`Opening RPC '${e}' stream ${a} transport.`),m.open(),p=!0),Q(Pt,`RPC '${e}' stream ${a} sending:`,N),m.send(N))},Zo:()=>m.close()}),A=(N,y,_)=>{N.listen(y,x=>{try{_(x)}catch(D){setTimeout(()=>{throw D},0)}})};return A(m,Zl.EventType.OPEN,()=>{v||(Q(Pt,`RPC '${e}' stream ${a} transport opened.`),S.o_())}),A(m,Zl.EventType.CLOSE,()=>{v||(v=!0,Q(Pt,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(m))}),A(m,Zl.EventType.ERROR,N=>{v||(v=!0,Co(Pt,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),S.a_(new K(z.UNAVAILABLE,"The operation could not be completed")))}),A(m,Zl.EventType.MESSAGE,N=>{var y;if(!v){const _=N.data[0];Ee(!!_,16349);const x=_,D=(x==null?void 0:x.error)||((y=x[0])==null?void 0:y.error);if(D){Q(Pt,`RPC '${e}' stream ${a} received error:`,D);const L=D.status;let H=function(b){const C=it[b];if(C!==void 0)return YN(C)}(L),T=D.message;H===void 0&&(H=z.INTERNAL,T="Unknown error status: "+L+" with message "+D.message),v=!0,S.a_(new K(H,T)),m.close()}else Q(Pt,`RPC '${e}' stream ${a} received:`,_),S.u_(_)}}),A(o,hN.STAT_EVENT,N=>{N.stat===fy.PROXY?Q(Pt,`RPC '${e}' stream ${a} detected buffering proxy`):N.stat===fy.NOPROXY&&Q(Pt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t){return new X6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n,r=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="PersistentStream";class lC{constructor(e,n,r,a,i,s,o,u){this.Mi=e,this.S_=r,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===n&&this.G_(r,a)},r=>{e(()=>{const a=new K(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(Nw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(Nw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W5 extends lC{constructor(e,n,r,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=e5(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?fr(s.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ty(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;if(o=vy(u)?{documents:r5(i,u)}:{query:a5(i,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=QN(i,s.resumeToken);const h=xy(i,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=zd(i,s.snapshotVersion.toTimestamp());const h=xy(i,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,e);const r=s5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ty(this.serializer),n.removeTarget=e,this.q_(n)}}class K5 extends lC{constructor(e,n,r,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=n5(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ty(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>t5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{}class X5 extends Q5{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,wy(n,r),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(z.UNKNOWN,i.toString())})}Ho(e,n,r,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,wy(n,r),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(z.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class J5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="RemoteStore";class Z5{constructor(e,n,r,a,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{gs(this)&&(Q(es,"Restarting streams for network reachability change."),await async function(u){const h=ie(u);h.Ea.add(4),await _u(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Qf(h)}(this))})}),this.Ra=new J5(r,a)}}async function Qf(t){if(gs(t))for(const e of t.da)await e(!0)}async function _u(t){for(const e of t.da)await e(!1)}function cC(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kv(n)?Ov(n):nl(n).O_()&&Dv(n,e))}function Iv(t,e){const n=ie(t),r=nl(n);n.Ia.delete(e),r.O_()&&uC(n,e),n.Ia.size===0&&(r.O_()?r.L_():gs(n)&&n.Ra.set("Unknown"))}function Dv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}nl(t).Y_(e)}function uC(t,e){t.Va.Ue(e),nl(t).Z_(e)}function Ov(t){t.Va=new Y6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),nl(t).start(),t.Ra.ua()}function kv(t){return gs(t)&&!nl(t).x_()&&t.Ia.size>0}function gs(t){return ie(t).Ea.size===0}function hC(t){t.Va=void 0}async function eV(t){t.Ra.set("Online")}async function tV(t){t.Ia.forEach((e,n)=>{Dv(t,e)})}async function nV(t,e){hC(t),kv(t)?(t.Ra.ha(e),Ov(t)):t.Ra.set("Unknown")}async function rV(t,e,n){if(t.Ra.set("Online"),e instanceof KN&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.Va.removeTarget(o))}(t,e)}catch(r){Q(es,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(t,r)}else if(e instanceof Yh?t.Va.Ze(e):e instanceof WN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await sC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Va.Tt(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(kt.EMPTY_BYTE_STRING,d.snapshotVersion)),uC(i,u);const m=new Oa(d.target,u,h,d.sequenceNumber);Dv(i,m)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Q(es,"Failed to raise snapshot:",r),await Fd(t,r)}}async function Fd(t,e,n){if(!el(e))throw e;t.Ea.add(1),await _u(t),t.Ra.set("Offline"),n||(n=()=>sC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(es,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Qf(t)})}function dC(t,e){return e().catch(n=>Fd(t,n,e))}async function Xf(t){const e=ie(t),n=ri(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:gv;for(;aV(e);)try{const a=await U5(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,iV(e,a)}catch(a){await Fd(e,a)}fC(e)&&mC(e)}function aV(t){return gs(t)&&t.Ta.length<10}function iV(t,e){t.Ta.push(e);const n=ri(t);n.O_()&&n.X_&&n.ea(e.mutations)}function fC(t){return gs(t)&&!ri(t).x_()&&t.Ta.length>0}function mC(t){ri(t).start()}async function sV(t){ri(t).ra()}async function oV(t){const e=ri(t);for(const n of t.Ta)e.ea(n.mutations)}async function lV(t,e,n){const r=t.Ta.shift(),a=Ev.from(r,e,n);await dC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Xf(t)}async function cV(t,e){e&&ri(t).X_&&await async function(r,a){if(function(s){return q6(s)&&s!==z.ABORTED}(a.code)){const i=r.Ta.shift();ri(r).B_(),await dC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Xf(r)}}(t,e),fC(t)&&mC(t)}async function Cw(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),Q(es,"RemoteStore received new credentials");const r=gs(n);n.Ea.add(3),await _u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Qf(n)}async function uV(t,e){const n=ie(t);e?(n.Ea.delete(2),await Qf(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function nl(t){return t.ma||(t.ma=function(n,r,a){const i=ie(n);return i.sa(),new W5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:eV.bind(null,t),t_:tV.bind(null,t),r_:nV.bind(null,t),H_:rV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),kv(t)?Ov(t):t.Ra.set("Unknown")):(await t.ma.stop(),hC(t))})),t.ma}function ri(t){return t.fa||(t.fa=function(n,r,a){const i=ie(n);return i.sa(),new K5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:sV.bind(null,t),r_:cV.bind(null,t),ta:oV.bind(null,t),na:lV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Xf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(es,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,a,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,i){const s=Date.now()+r,o=new jv(e,n,s,a,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mv(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),el(t))return new K(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=ec(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.ga=new Ke(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,a,i,s,o,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ko(e,n,ho.emptySet(n),s,r,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class dV{constructor(){this.queries=Iw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ie(n),i=a.queries;a.queries=Iw(),i.forEach((s,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new K(z.ABORTED,"Firestore shutting down"))}}function Iw(){return new ps(t=>MN(t),qf)}async function Pv(t,e){const n=ie(t);let r=3;const a=e.query;let i=n.queries.get(a);i?!i.ba()&&e.Da()&&(r=2):(i=new hV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(a,!0);break;case 1:i.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=Mv(s,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(o)}n.queries.set(a,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Vv(n)}async function Lv(t,e){const n=ie(t),r=e.query;let a=3;const i=n.queries.get(r);if(i){const s=i.Sa.indexOf(e);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fV(t,e){const n=ie(t);let r=!1;for(const a of e){const i=a.query,s=n.queries.get(i);if(s){for(const o of s.Sa)o.Fa(a)&&(r=!0);s.wa=a}}r&&Vv(n)}function mV(t,e,n){const r=ie(t),a=r.queries.get(e);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(e)}function Vv(t){t.Ca.forEach(e=>{e.next()})}var Ny,Dw;(Dw=Ny||(Ny={})).Ma="default",Dw.Cache="cache";class Uv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ny.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.key=e}}class gC{constructor(e){this.key=e}}class pV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=PN(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Rw,a=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((d,m)=>{const p=a.get(d),v=Hf(this.query,m)?m:null,S=!!p&&this.mutatedKeys.has(p.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let N=!1;p&&v?p.data.isEqual(v.data)?S!==A&&(r.track({type:3,doc:v}),N=!0):this.su(p,v)||(r.track({type:2,doc:v}),N=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(o=!0)):!p&&v?(r.track({type:0,doc:v}),N=!0):p&&!v&&(r.track({type:1,doc:p}),N=!0,(u||h)&&(o=!0)),N&&(v?(s=s.add(v),i=A?i.add(d):i.delete(d)):(s=s.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,m)=>function(v,S){const A=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:N})}};return A(v)-A(S)}(d.type,m.type)||this.eu(d.doc,m.doc)),this.ou(r),a=a??!1;const o=n&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,h=u!==this.Za;return this.Za=u,s.length!==0||h?{snapshot:new ko(this.query,e.tu,i,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Rw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new gC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new pC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const zv="SyncEngine";class gV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yV{constructor(e){this.key=e,this.hu=!1}}class vV{constructor(e,n,r,a,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ps(o=>MN(o),qf),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(J.comparator),this.Au=new Map,this.Ru=new Av,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _V(t,e,n=!0){const r=wC(t);let a;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await yC(r,e,n,!0),a}async function bV(t,e){const n=wC(t);await yC(n,e,!0,!1)}async function yC(t,e,n,r){const a=await z5(t.localStore,dr(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await xV(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&n&&cC(t.remoteStore,a),o}async function xV(t,e,n,r,a){t.pu=(m,p,v)=>async function(A,N,y,_){let x=N.view.ru(y);x.Cs&&(x=await Ew(A.localStore,N.query,!1).then(({documents:T})=>N.view.ru(T,x)));const D=_&&_.targetChanges.get(N.targetId),L=_&&_.targetMismatches.get(N.targetId)!=null,H=N.view.applyChanges(x,A.isPrimaryClient,D,L);return kw(A,N.targetId,H.au),H.snapshot}(t,m,p,v);const i=await Ew(t.localStore,e,!0),s=new pV(e,i.Qs),o=s.ru(i.documents),u=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=s.applyChanges(o,t.isPrimaryClient,u);kw(t,n,h.au);const d=new gV(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function wV(t,e,n){const r=ie(t),a=r.Tu.get(e),i=r.Iu.get(a.targetId);if(i.length>1)return r.Iu.set(a.targetId,i.filter(s=>!qf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Sy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Iv(r.remoteStore,a.targetId),Cy(r,a.targetId)}).catch(Zo)):(Cy(r,a.targetId),await Sy(r.localStore,a.targetId,!0))}async function EV(t,e){const n=ie(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Iv(n.remoteStore,r.targetId))}async function TV(t,e,n){const r=DV(t);try{const a=await function(s,o){const u=ie(s),h=_e.now(),d=o.reduce((v,S)=>v.add(S.key),pe());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=ea(),A=pe();return u.Ns.getEntries(v,d).next(N=>{S=N,S.forEach((y,_)=>{_.isValidDocument()||(A=A.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(N=>{m=N;const y=[];for(const _ of o){const x=U6(_,m.get(_.key).overlayedDocument);x!=null&&y.push(new fi(_.key,x,NN(x.value.mapValue),Yn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,y,o)}).next(N=>{p=N;const y=N.applyToLocalDocumentSet(m,A);return u.documentOverlayCache.saveOverlays(v,N.batchId,y)})}).then(()=>({batchId:p.batchId,changes:VN(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let h=s.Vu[s.currentUser.toKey()];h||(h=new Ke(me)),h=h.insert(o,u),s.Vu[s.currentUser.toKey()]=h}(r,a.batchId,n),await bu(r,a.changes),await Xf(r.remoteStore)}catch(a){const i=Mv(a,"Failed to persist write");n.reject(i)}}async function vC(t,e){const n=ie(t);try{const r=await L5(n.localStore,e);e.targetChanges.forEach((a,i)=>{const s=n.Au.get(i);s&&(Ee(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?Ee(s.hu,14607):a.removedDocuments.size>0&&(Ee(s.hu,42227),s.hu=!1))}),await bu(n,r,e)}catch(r){await Zo(r)}}function Ow(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach((i,s)=>{const o=s.view.va(e);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=ie(s);u.onlineState=o;let h=!1;u.queries.forEach((d,m)=>{for(const p of m.Sa)p.va(o)&&(h=!0)}),h&&Vv(u)}(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function SV(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),i=a&&a.key;if(i){let s=new Ke(J.comparator);s=s.insert(i,Vt.newNoDocument(i,ae.min()));const o=pe().add(i),u=new Wf(ae.min(),new Map,new Ke(me),s,o);await vC(r,u),r.du=r.du.remove(i),r.Au.delete(e),Bv(r)}else await Sy(r.localStore,e,!1).then(()=>Cy(r,e,n)).catch(Zo)}async function AV(t,e){const n=ie(t),r=e.batch.batchId;try{const a=await P5(n.localStore,e);bC(n,r,null),_C(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bu(n,a)}catch(a){await Zo(a)}}async function NV(t,e,n){const r=ie(t);try{const a=await function(s,o){const u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next(m=>(Ee(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);bC(r,e,n),_C(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bu(r,a)}catch(a){await Zo(a)}}function _C(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function bC(t,e,n){const r=ie(t);let a=r.Vu[r.currentUser.toKey()];if(a){const i=a.get(e);i&&(n?i.reject(n):i.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Cy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||xC(t,r)})}function xC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Iv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Bv(t))}function kw(t,e,n){for(const r of n)r instanceof pC?(t.Ru.addReference(r.key,e),CV(t,r)):r instanceof gC?(Q(zv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xC(t,r.key)):ee(19791,{wu:r})}function CV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q(zv,"New document in limbo: "+n),t.Eu.add(r),Bv(t))}function Bv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(ke.fromString(e)),r=t.fu.next();t.Au.set(r,new yV(n)),t.du=t.du.insert(n,r),cC(t.remoteStore,new Oa(dr($f(n.path)),r,"TargetPurposeLimboResolution",zf.ce))}}async function bu(t,e,n){const r=ie(t),a=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{s.push(r.pu(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){a.push(h);const m=Cv.As(u.targetId,h);i.push(m)}}))}),await Promise.all(s),r.Pu.H_(a),await async function(u,h){const d=ie(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(h,p=>F.forEach(p.Es,v=>d.persistence.referenceDelegate.addReference(m,p.targetId,v)).next(()=>F.forEach(p.ds,v=>d.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))}catch(m){if(!el(m))throw m;Q(Rv,"Failed to update sequence numbers: "+m)}for(const m of h){const p=m.targetId;if(!m.fromCache){const v=d.Ms.get(p),S=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(p,A)}}}(r.localStore,i))}async function RV(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){Q(zv,"User change. New user:",e.toKey());const r=await iC(n.localStore,e);n.currentUser=e,function(i,s){i.mu.forEach(o=>{o.forEach(u=>{u.reject(new K(z.CANCELLED,s))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bu(n,r.Ls)}}function IV(t,e){const n=ie(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let a=pe();const i=n.Iu.get(e);if(!i)return a;for(const s of i){const o=n.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function wC(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=vC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SV.bind(null,e),e.Pu.H_=fV.bind(null,e.eventManager),e.Pu.yu=mV.bind(null,e.eventManager),e}function DV(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NV.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return M5(this.persistence,new O5,e.initialUser,this.serializer)}Cu(e){return new aC(Nv.mi,this.serializer)}Du(e){return new F5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class OV extends $d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof Bd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new aC(r=>Bd.mi(r,n),this.serializer)}}class Ry{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RV.bind(null,this.syncEngine),await uV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dV}()}createDatastore(e){const n=Kf(e.databaseInfo.databaseId),r=function(i){return new Y5(i)}(e.databaseInfo);return function(i,s,o,u){return new X5(i,s,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,i,s,o){return new Z5(r,a,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Ow(this.syncEngine,n,0),function(){return Aw.v()?new Aw:new $5}())}createSyncEngine(e,n){return function(a,i,s,o,u,h,d){const m=new vV(a,i,s,o,u,h);return d&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const i=ie(a);Q(es,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ry.provider={build:()=>new Ry};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="FirestoreClient";class kV{constructor(e,n,r,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{Q(ai,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q(ai,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(ai,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await iC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jV(t);Q(ai,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Cw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>Cw(e.remoteStore,a)),t._onlineComponents=e}async function jV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(ai,"Using user provided OfflineComponentProvider");try{await Mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===z.FAILED_PRECONDITION||a.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await Mp(t,new $d)}}else Q(ai,"Using default OfflineComponentProvider"),await Mp(t,new OV(void 0));return t._offlineComponents}async function EC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(ai,"Using user provided OnlineComponentProvider"),await jw(t,t._uninitializedComponentsProvider._online)):(Q(ai,"Using default OnlineComponentProvider"),await jw(t,new Ry))),t._onlineComponents}function MV(t){return EC(t).then(e=>e.syncEngine)}async function qd(t){const e=await EC(t),n=e.eventManager;return n.onListen=_V.bind(null,e.syncEngine),n.onUnlisten=wV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EV.bind(null,e.syncEngine),n}function PV(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,h){const d=new Fv({next:p=>{d.Nu(),s.enqueueAndForget(()=>Lv(i,m));const v=p.docs.has(o);!v&&p.fromCache?h.reject(new K(z.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?h.reject(new K(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new Uv($f(o.path),d,{includeMetadataChanges:!0,qa:!0});return Pv(i,m)}(await qd(t),t.asyncQueue,e,n,r)),r.promise}function LV(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,h){const d=new Fv({next:p=>{d.Nu(),s.enqueueAndForget(()=>Lv(i,m)),p.fromCache&&u.source==="server"?h.reject(new K(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new Uv(o,d,{includeMetadataChanges:!0,qa:!0});return Pv(i,m)}(await qd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firestore.googleapis.com",Pw=!0;class Lw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SC,this.ssl=Pw}else this.host=e.host,this.ssl=e.ssl??Pw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<p5)throw new K(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jf{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $L;switch(r.type){case"firstParty":return new YL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Mw.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Mw.delete(n),r.terminate())}(this),Promise.resolve()}}function VV(t,e,n,r={}){var h;t=Pn(t,Jf);const a=ds(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;a&&(hv(`https://${o}`),dv("Firestore",!0)),i.host!==SC&&i.host!==o&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:o,ssl:a,emulatorOptions:r};if(!Ja(u,s)&&(t._setSettings(u),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Lt.MOCK_USER;else{d=J2(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Lt(p)}t._authCredentials=new qL(new pN(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mi(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gu(n,nt._jsonSchema))return new nt(e,r||null,new J(ke.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:ht("string",nt._jsonSchemaVersion),referencePath:ht("string")};class Ha extends mi{constructor(e,n,r){super(e,n,$f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new J(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function ys(t,e,...n){if(t=We(t),gN("collection","path",e),t instanceof Jf){const r=ke.fromString(e,...n);return Qx(r),new Ha(t,null,r)}{if(!(t instanceof nt||t instanceof Ha))throw new K(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Qx(r),new Ha(t.firestore,null,r)}}function ta(t,e,...n){if(t=We(t),arguments.length===1&&(e=pv.newId()),gN("doc","path",e),t instanceof Jf){const r=ke.fromString(e,...n);return Kx(r),new nt(t,null,new J(r))}{if(!(t instanceof nt||t instanceof Ha))throw new K(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ke.fromString(e,...n));return Kx(r),new nt(t.firestore,t instanceof Ha?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oC(this,"async_queue_retry"),this._c=()=>{const r=jp();r&&Q(Vw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!el(e))throw e;Q(Vw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",zw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=jv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&ee(47125,{Pc:zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function zw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const i of r)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ii extends Jf{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Uw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function UV(t,e){const n=typeof t=="object"?t:Vf(),r=typeof t=="string"?t:Md,a=hi(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const i=K2("firestore");i&&VV(a,...i)}return a}function Zf(t){if(t._terminated)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||zV(t),t._firestoreClient}function zV(t){var r,a,i;const e=t._freezeSettings(),n=function(o,u,h,d){return new u6(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,TC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new kV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(kt.fromBase64String(e))}catch(n){throw new K(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ht("string",On._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(e){if(gu(e,mr._jsonSchema))return new mr(e.latitude,e.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:ht("string",mr._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new pr(e.vectorValues);throw new K(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:ht("string",pr._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^__.*__$/;class FV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class AC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class qv{constructor(e,n,r,a,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new qv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NC(this.Ac)&&BV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class $V{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kf(e)}Cc(e,n,r,a=!1){return new qv({Ac:e,methodName:n,Dc:r,path:It.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hv(t){const e=t._freezeSettings(),n=Kf(t._databaseId);return new $V(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qV(t,e,n,r,a,i={}){const s=t.Cc(i.merge||i.mergeFields?2:0,e,n,a);Gv("Data must be an object, but it was:",s,r);const o=CC(r,s);let u,h;if(i.merge)u=new mn(s.fieldMask),h=s.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const p=Iy(e,m,n);if(!s.contains(p))throw new K(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);IC(d,p)||d.push(p)}u=new mn(d),h=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=s.fieldTransforms;return new FV(new Zt(o),u,h)}class tm extends $v{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function HV(t,e,n,r){const a=t.Cc(1,e,n);Gv("Data must be an object, but it was:",a,r);const i=[],s=Zt.empty();di(r,(u,h)=>{const d=Yv(e,u,n);h=We(h);const m=a.yc(d);if(h instanceof tm)i.push(d);else{const p=xu(h,m);p!=null&&(i.push(d),s.set(d,p))}});const o=new mn(i);return new AC(s,o,a.fieldTransforms)}function GV(t,e,n,r,a,i){const s=t.Cc(1,e,n),o=[Iy(e,r,n)],u=[a];if(i.length%2!=0)throw new K(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(Iy(e,i[p])),u.push(i[p+1]);const h=[],d=Zt.empty();for(let p=o.length-1;p>=0;--p)if(!IC(h,o[p])){const v=o[p];let S=u[p];S=We(S);const A=s.yc(v);if(S instanceof tm)h.push(v);else{const N=xu(S,A);N!=null&&(h.push(v),d.set(v,N))}}const m=new mn(h);return new AC(d,m,s.fieldTransforms)}function YV(t,e,n,r=!1){return xu(n,t.Cc(r?4:3,e))}function xu(t,e){if(RC(t=We(t)))return Gv("Unsupported field value:",e,t),CC(t,e);if(t instanceof $v)return function(r,a){if(!NC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,a){const i=[];let s=0;for(const o of r){let u=xu(o,a.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,a){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k6(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_e.fromDate(r);return{timestampValue:zd(a.serializer,i)}}if(r instanceof _e){const i=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zd(a.serializer,i)}}if(r instanceof mr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:QN(a.serializer,r._byteString)};if(r instanceof nt){const i=a.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Sv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof pr)return function(s,o){return{mapValue:{fields:{[SN]:{stringValue:AN},[Pd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw o.Sc("VectorValues must only contain numeric values.");return xv(o.serializer,h)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${Uf(r)}`)}(t,e)}function CC(t,e){const n={};return _N(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,a)=>{const i=xu(a,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function RC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof mr||t instanceof On||t instanceof nt||t instanceof $v||t instanceof pr)}function Gv(t,e,n){if(!RC(n)||!yN(n)){const r=Uf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Iy(t,e,n){if((e=We(e))instanceof em)return e._internalPath;if(typeof e=="string")return Yv(t,e);throw Hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const WV=new RegExp("[~\\*/\\[\\]]");function Yv(t,e,n){if(e.search(WV)>=0)throw Hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new em(...e.split("."))._internalPath}catch{throw Hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hd(t,e,n,r,a){const i=r&&!r.isEmpty(),s=a!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(i||s)&&(u+=" (found",i&&(u+=` in field ${r}`),s&&(u+=` in document ${a}`),u+=")"),new K(z.INVALID_ARGUMENT,o+t+u)}function IC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,a,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KV extends DC{data(){return super.data()}}function nm(t,e){return typeof e=="string"?Yv(t,e):e instanceof em?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wv{}class kC extends Wv{}function Kv(t,e,...n){let r=[];e instanceof Wv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(u=>u instanceof Qv).length,o=i.filter(u=>u instanceof rm).length;if(s>1||s>0&&o>0)throw new K(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class rm extends kC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new rm(e,n,r)}_apply(e){const n=this._parse(e);return MC(e._query,n),new mi(e.firestore,e.converter,_y(e._query,n))}_parse(e){const n=Hv(e.firestore);return function(i,s,o,u,h,d,m){let p;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){$w(m,d);const S=[];for(const A of m)S.push(Fw(u,i,A));p={arrayValue:{values:S}}}else p=Fw(u,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||$w(m,d),p=YV(o,s,m,d==="in"||d==="not-in");return ct.create(h,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jC(t,e,n){const r=e,a=nm("where",t);return rm._create(a,r,n)}class Qv extends Wv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const u of o)MC(s,u),s=_y(s,u)}(e._query,n),new mi(e.firestore,e.converter,_y(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xv extends kC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xv(e,n)}_apply(e){const n=function(a,i,s){if(a.startAt!==null)throw new K(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new K(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gc(i,s)}(e._query,this._field,this._direction);return new mi(e.firestore,e.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new tl(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function QV(t,e="asc"){const n=e,r=nm("orderBy",t);return Xv._create(r,n)}function Fw(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new K(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jN(e)&&n.indexOf("/")!==-1)throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ke.fromString(n));if(!J.isDocumentKey(r))throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return aw(t,new J(r))}if(n instanceof nt)return aw(t,n._key);throw new K(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uf(n)}.`)}function $w(t,e){if(!Array.isArray(t)||t.length===0)throw new K(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MC(t,e){const n=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XV{convertValue(e,n="none"){switch(ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ti(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return di(e,(a,i)=>{r[a]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,a,i;const n=(i=(a=(r=e.fields)==null?void 0:r[Pd].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>et(s.doubleValue));return new pr(n)}convertGeoPoint(e){return new mr(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ff(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($c(e));default:return null}}convertTimestamp(e){const n=ei(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ke.fromString(e);Ee(nC(r),9688,{name:e});const a=new qc(r.get(1),r.get(3)),i=new J(r.popFirst(5));return a.isEqual(n)||Zr(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class nc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hi extends DC{constructor(e,n,r,a,i,s){super(e,n,r,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Hi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hi._jsonSchema={type:ht("string",Hi._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class Wh extends Hi{data(e={}){return super.data(e)}}class Gi{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new nc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Wh(this._firestore,this._userDataWriter,r.key,r,new nc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Wh(a._firestore,a._userDataWriter,o.doc.key,o.doc,new nc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new Wh(a._firestore,a._userDataWriter,o.doc.key,o.doc,new nc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,d=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:ZV(o.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=pv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){t=Pn(t,nt);const e=Pn(t.firestore,ii);return PV(Zf(e),t._key).then(n=>UC(e,t,n))}Gi._jsonSchemaVersion="firestore/querySnapshot/1.0",Gi._jsonSchema={type:ht("string",Gi._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class Jv extends XV{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function LC(t){t=Pn(t,mi);const e=Pn(t.firestore,ii),n=Zf(e),r=new Jv(e);return OC(t._query),LV(n,t._query).then(a=>new Gi(e,r,t,a))}function Zv(t,e,n,...r){t=Pn(t,nt);const a=Pn(t.firestore,ii),i=Hv(a);let s;return s=typeof(e=We(e))=="string"||e instanceof em?GV(i,"updateDoc",t._key,e,n,r):HV(i,"updateDoc",t._key,e),n_(a,[s.toMutation(t._key,Yn.exists(!0))])}function e_(t){return n_(Pn(t.firestore,ii),[new wv(t._key,Yn.none())])}function t_(t,e){const n=Pn(t.firestore,ii),r=ta(t),a=JV(t.converter,e);return n_(n,[qV(Hv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then(()=>r)}function VC(t,...e){var u,h,d;t=We(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Bw(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Bw(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(h=m.error)==null?void 0:h.bind(m),e[r+2]=(d=m.complete)==null?void 0:d.bind(m)}let i,s,o;if(t instanceof nt)s=Pn(t.firestore,ii),o=$f(t._key.path),i={next:m=>{e[r]&&e[r](UC(s,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Pn(t,mi);s=Pn(m.firestore,ii),o=m._query;const p=new Jv(s);i={next:v=>{e[r]&&e[r](new Gi(s,p,m,v))},error:e[r+1],complete:e[r+2]},OC(t._query)}return function(p,v,S,A){const N=new Fv(A),y=new Uv(v,N,S);return p.asyncQueue.enqueueAndForget(async()=>Pv(await qd(p),y)),()=>{N.Nu(),p.asyncQueue.enqueueAndForget(async()=>Lv(await qd(p),y))}}(Zf(s),o,a,i)}function n_(t,e){return function(r,a){const i=new qr;return r.asyncQueue.enqueueAndForget(async()=>TV(await MV(r),a,i)),i.promise}(Zf(t),e)}function UC(t,e,n){const r=n.docs.get(e._key),a=new Jv(t);return new Hi(t,a,e._key,r,new nc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Jo=a})(ms),Wn(new Un("firestore",(r,{instanceIdentifier:a,options:i})=>{const s=r.getProvider("app").getImmediate(),o=new ii(new HL(r.getProvider("auth-internal")),new WL(s,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qc(h.options.projectId,d)}(s,a),s);return i={useFetchStreams:n,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),tn(Hx,Gx,e),tn(Hx,Gx,"esm2020")})();var e9="firebase",t9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(e9,t9,"app");function zC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const n9=zC,BC=new fs("auth","Firebase",zC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Lf("@firebase/auth");function r9(t,...e){Gd.logLevel<=fe.WARN&&Gd.warn(`Auth (${ms}): ${t}`,...e)}function Kh(t,...e){Gd.logLevel<=fe.ERROR&&Gd.error(`Auth (${ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw r_(t,...e)}function gr(t,...e){return r_(t,...e)}function FC(t,e,n){const r={...n9(),[e]:n};return new fs("auth","Firebase",r).create(e,{appName:t.name})}function Ga(t){return FC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function r_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BC.create(t,...e)}function Z(t,e,...n){if(!t)throw r_(e,...n)}function Lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kh(e),new Error(e)}function na(t,e){t||Lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function a9(){return qw()==="http:"||qw()==="https:"}function qw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a9()||Z2()||"connection"in navigator)?navigator.onLine:!0}function s9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,na(n>e,"Short delay should be less than long delay!"),this.isMobile=v3()||x3()}get(){return i9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e){na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],c9=new wu(3e4,6e4);function vs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pi(t,e,n,r,a={}){return qC(t,a,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const o=pu({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return b3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ds(t.emulatorConfig.host)&&(h.credentials="include"),$C.fetch()(await HC(t,t.config.apiHost,n,o),h)})}async function qC(t,e,n){t._canInitEmulator=!1;const r={...o9,...e};try{const a=new h9(t),i=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw vh(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[u,h]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw vh(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw vh(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw vh(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw FC(t,d,h);Qn(t,d)}}catch(a){if(a instanceof zn)throw a;Qn(t,"network-request-failed",{message:String(a)})}}async function am(t,e,n,r,a={}){const i=await pi(t,e,n,r,a);return"mfaPendingCredential"in i&&Qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function HC(t,e,n,r){const a=`${e}${n}?${r}`,i=t,s=i.config.emulator?a_(t.config,a):`${t.config.apiScheme}://${a}`;return l9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function u9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class h9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gr(this.auth,"network-request-failed")),c9.get())})}}function vh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=gr(t,e,r);return a.customData._tokenResponse=n,a}function Hw(t){return t!==void 0&&t.enterprise!==void 0}class d9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return u9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f9(t,e){return pi(t,"GET","/v2/recaptchaConfig",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m9(t,e){return pi(t,"POST","/v1/accounts:delete",e)}async function Yd(t,e){return pi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function p9(t,e=!1){const n=We(t),r=await n.getIdToken(e),a=i_(r);Z(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:Ec(Pp(a.auth_time)),issuedAtTime:Ec(Pp(a.iat)),expirationTime:Ec(Pp(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pp(t){return Number(t)*1e3}function i_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const a=Y2(n);return a?JSON.parse(a):(Kh("Failed to decode base64 JWT payload"),null)}catch(a){return Kh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Gw(t){const e=i_(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zn&&g9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function g9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Kc(t,Yd(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const i=(m=a.providerUserInfo)!=null&&m.length?GC(a.providerUserInfo):[],s=_9(t.providerData,i),o=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),h=o?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Oy(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function v9(t){const e=We(t);await Wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _9(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function GC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e){const n=await qC(t,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=await HC(t,a,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return t.emulatorConfig&&ds(t.emulatorConfig.host)&&(u.credentials="include"),$C.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function x9(t,e){return pi(t,"POST","/v2/accounts:revokeToken",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=Gw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:i}=await b9(e,n);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:i}=n,s=new fo;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),a&&(Z(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Z(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new y9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Oy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Kc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return p9(this,e)}reload(){return v9(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ga(this.auth));const e=await this.getIdToken();return await Kc(this,m9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,i=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:S,stsTokenManager:A}=n;Z(m&&A,e,"internal-error");const N=fo.fromJSON(this.name,A);Z(typeof m=="string",e,"internal-error"),ga(r,e.name),ga(a,e.name),Z(typeof p=="boolean",e,"internal-error"),Z(typeof v=="boolean",e,"internal-error"),ga(i,e.name),ga(s,e.name),ga(o,e.name),ga(u,e.name),ga(h,e.name),ga(d,e.name);const y=new Hn({uid:m,auth:e,email:a,emailVerified:p,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:N,createdAt:h,lastLoginAt:d});return S&&Array.isArray(S)&&(y.providerData=S.map(_=>({..._}))),u&&(y._redirectEventId=u),y}static async _fromIdTokenResponse(e,n,r=!1){const a=new fo;a.updateFromServerResponse(n);const i=new Hn({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Wd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Z(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?GC(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new fo;o.updateFromIdToken(r);const u=new Hn({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Oy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;function Vr(t){na(t instanceof Function,"Expected a class definition");let e=Yw.get(t);return e?(na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}YC.type="NONE";const Ww=YC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=Qh(this.userKey,a.apiKey,i),this.fullPersistenceKey=Qh("persistence",a.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yd(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(Vr(Ww),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=a[0]||Vr(Ww);const s=Qh(r,e.config.apiKey,e.name);let o=null;for(const h of n)try{const d=await h._get(s);if(d){let m;if(typeof d=="string"){const p=await Yd(e,{idToken:d}).catch(()=>{});if(!p)break;m=await Hn._fromGetAccountInfoResponse(e,p,d)}else m=Hn._fromJSON(e,d);h!==i&&(o=m),i=h;break}}catch{}const u=a.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new mo(i,e,r):(i=u[0],o&&await i._set(s,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(s)}catch{}})),new mo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZC(e))return"Blackberry";if(eR(e))return"Webos";if(KC(e))return"Safari";if((e.includes("chrome/")||QC(e))&&!e.includes("edge/"))return"Chrome";if(JC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function WC(t=Ut()){return/firefox\//i.test(t)}function KC(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QC(t=Ut()){return/crios\//i.test(t)}function XC(t=Ut()){return/iemobile/i.test(t)}function JC(t=Ut()){return/android/i.test(t)}function ZC(t=Ut()){return/blackberry/i.test(t)}function eR(t=Ut()){return/webos/i.test(t)}function s_(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function w9(t=Ut()){var e;return s_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function E9(){return w3()&&document.documentMode===10}function tR(t=Ut()){return s_(t)||JC(t)||eR(t)||ZC(t)||/windows phone/i.test(t)||XC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t,e=[]){let n;switch(t){case"Browser":n=Kw(Ut());break;case"Worker":n=`${Kw(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,o)=>{try{const u=e(i);s(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S9(t,e={}){return pi(t,"GET","/v2/passwordPolicy",vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=6;class N9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??A9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qw(this),this.idTokenSubscription=new Qw(this),this.beforeStateQueue=new T9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Vr(n)),this._initializationPromise=this.queue(async()=>{var r,a,i;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yd(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Dn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&(u!=null&&u.user)&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=s9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Ga(this));const n=e?We(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ga(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Ga(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await S9(this),n=new N9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await x9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Vr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Vr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,a);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&r9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function rl(t){return We(t)}class Qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=R3(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function R9(t){im=t}function rR(t){return im.loadJS(t)}function I9(){return im.recaptchaEnterpriseScript}function D9(){return im.gapiScript}function O9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class k9{constructor(){this.enterprise=new j9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class j9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const M9="recaptcha-enterprise",aR="NO_RECAPTCHA";class P9{constructor(e){this.type=M9,this.auth=rl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{f9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const h=new d9(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,s(h.siteKey)}}).catch(u=>{o(u)})})}function a(i,s,o){const u=window.grecaptcha;Hw(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{s(h)}).catch(()=>{s(aR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new k9().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{r(this.auth).then(o=>{if(!n&&Hw(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=I9();u.length!==0&&(u+=o),rR(u).then(()=>{a(o,i,s)}).catch(h=>{s(h)})}}).catch(o=>{s(o)})})}}async function Xw(t,e,n,r=!1,a=!1){const i=new P9(t);let s;if(a)s=aR;else try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,h=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Jw(t,e,n,r,a){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Xw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Xw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L9(t,e){const n=hi(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),i=n.getOptions();if(Ja(i,e??{}))return a;Qn(a,"already-initialized")}return n.initialize({options:e})}function V9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U9(t,e,n){const r=rl(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=iR(e),{host:s,port:o}=z9(e),u=o===null?"":`:${o}`,h={url:`${i}//${s}${u}/`},d=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Ja(h,r.config.emulator)&&Ja(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ds(s)?(hv(`${i}//${s}${u}`),dv("Auth",!0)):B9()}function iR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z9(t){const e=iR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:Zw(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:Zw(s)}}}function Zw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(e){return Lr("not implemented")}_linkToIdToken(e,n){return Lr("not implemented")}_getReauthenticationResolver(e){return Lr("not implemented")}}async function F9(t,e){return pi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e){return am(t,"POST","/v1/accounts:signInWithPassword",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q9(t,e){return am(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}async function H9(t,e){return am(t,"POST","/v1/accounts:signInWithEmailLink",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends o_{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jw(e,n,"signInWithPassword",$9);case"emailLink":return q9(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jw(e,r,"signUpPassword",F9);case"emailLink":return H9(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return am(t,"POST","/v1/accounts:signInWithIdp",vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9="http://localhost";class ts extends o_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...i}=n;if(!r||!a)return null;const s=new ts(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:G9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function W9(t){const e=Xl(Jl(t)).link,n=e?Xl(Jl(e)).deep_link_id:null,r=Xl(Jl(t)).deep_link_id;return(r?Xl(Jl(r)).link:null)||r||n||e||t}class l_{constructor(e){const n=Xl(Jl(e)),r=n.apiKey??null,a=n.oobCode??null,i=Y9(n.mode??null);Z(r&&a&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=W9(e);try{return new l_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=l_.parseLink(n);return Z(r,"argument-error"),Qc._fromEmailAndCode(e,r.code,r.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends sR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Eu{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ts._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ta.credential(n,r)}catch{return null}}}Ta.GOOGLE_SIGN_IN_METHOD="google.com";Ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Eu{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sa.credential(e.oauthAccessToken)}catch{return null}}}Sa.GITHUB_SIGN_IN_METHOD="github.com";Sa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Eu{constructor(){super("twitter.com")}static credential(e,n){return ts._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Aa.credential(n,r)}catch{return null}}}Aa.TWITTER_SIGN_IN_METHOD="twitter.com";Aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const i=await Hn._fromIdTokenResponse(e,r,a),s=eE(r);return new jo({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=eE(r);return new jo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function eE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends zn{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Kd(e,n,r,a)}}function oR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(t,i,e,r):i})}async function K9(t,e,n=!1){const r=await Kc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(Ga(r));const a="reauthenticate";try{const i=await Kc(t,oR(r,a,e,t),n);Z(i.idToken,r,"internal-error");const s=i_(i.idToken);Z(s,r,"internal-error");const{sub:o}=s;return Z(t.uid===o,r,"user-mismatch"),jo._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n=!1){if(Dn(t.app))return Promise.reject(Ga(t));const r="signIn",a=await oR(t,r,e),i=await jo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(i.user),i}async function X9(t,e){return lR(rl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(t){const e=rl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Z9(t,e,n){return Dn(t.app)?Promise.reject(Ga(t)):X9(We(t),al.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&J9(t),r})}function eU(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function tU(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function nU(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function rU(t){return We(t).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=1e3,iU=10;class uR extends cR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);E9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,iU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}uR.type="LOCAL";const sU=uR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends cR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hR.type="SESSION";const dR=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new sm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:i}=n.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const o=Array.from(s).map(async h=>h(n.origin,i)),u=await oU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,u)=>{const h=c_("",20);a.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage(m){const p=m;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(){return window}function cU(t){yr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(){return typeof yr().WorkerGlobalScope<"u"&&typeof yr().importScripts=="function"}async function uU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function dU(){return fR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebaseLocalStorageDb",fU=1,Xd="firebaseLocalStorage",pR="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function om(t,e){return t.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function mU(){const t=indexedDB.deleteDatabase(mR);return new Tu(t).toPromise()}function ky(){const t=indexedDB.open(mR,fU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xd,{keyPath:pR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await mU(),e(await ky()))})})}async function tE(t,e,n){const r=om(t,!0).put({[pR]:e,value:n});return new Tu(r).toPromise()}async function pU(t,e){const n=om(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function nE(t,e){const n=om(t,!0).delete(e);return new Tu(n).toPromise()}const gU=800,yU=3;class gR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sm._getInstance(dU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await uU(),!this.activeServiceWorker)return;this.sender=new lU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ky();return await tE(e,Qd,"1"),await nE(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=om(a,!1).getAll();return new Tu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gR.type="LOCAL";const vU=gR;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _U(t,e){return e?Vr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_ extends o_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bU(t){return lR(t.auth,new u_(t),t.bypassAuthState)}function xU(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),Q9(n,new u_(t),t.bypassAuthState)}async function wU(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),K9(n,new u_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bU;case"linkViaPopup":case"linkViaRedirect":return wU;case"reauthViaPopup":case"reauthViaRedirect":return xU;default:Qn(this.auth,"internal-error")}}resolve(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new wu(2e3,1e4);class no extends yR{constructor(e,n,r,a,i){super(e,n,a,i),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const e=c_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EU.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU="pendingRedirect",Xh=new Map;class SU extends yR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const r=await AU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AU(t,e){const n=RU(e),r=CU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function NU(t,e){Xh.set(t._key(),e)}function CU(t){return Vr(t._redirectPersistence)}function RU(t){return Qh(TU,t.config.apiKey,t.name)}async function IU(t,e,n=!1){if(Dn(t.app))return Promise.reject(Ga(t));const r=rl(t),a=_U(r,e),s=await new SU(r,a,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=10*60*1e3;class OU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!vR(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(gr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DU&&this.cachedEventUids.clear(),this.cachedEventUids.has(rE(e))}saveEventToCache(e){this.cachedEventUids.add(rE(e)),this.lastProcessedEventTime=Date.now()}}function rE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function vR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jU(t,e={}){return pi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PU=/^https?/;async function LU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jU(t);for(const n of e)try{if(VU(n))return}catch{}Qn(t,"unauthorized-domain")}function VU(t){const e=Dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!PU.test(n))return!1;if(MU.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UU=new wu(3e4,6e4);function aE(){const t=yr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function zU(t){return new Promise((e,n)=>{var a,i,s;function r(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(gr(t,"network-request-failed"))},timeout:UU.get()})}if((i=(a=yr().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((s=yr().gapi)!=null&&s.load)r();else{const o=O9("iframefcb");return yr()[o]=()=>{gapi.load?r():n(gr(t,"network-request-failed"))},rR(`${D9()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Jh=null,e})}let Jh=null;function BU(t){return Jh=Jh||zU(t),Jh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new wu(5e3,15e3),$U="__/auth/iframe",qU="emulator/auth/iframe",HU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YU(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?a_(e,qU):`https://${t.config.authDomain}/${$U}`,r={apiKey:e.apiKey,appName:t.name,v:ms},a=GU.get(t.config.apiHost);a&&(r.eid=a);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${pu(r).slice(1)}`}async function WU(t){const e=await BU(t),n=yr().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:YU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HU,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const s=gr(t,"network-request-failed"),o=yr().setTimeout(()=>{i(s)},FU.get());function u(){yr().clearTimeout(o),a(r)}r.ping(u).then(u,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QU=500,XU=600,JU="_blank",ZU="http://localhost";class iE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e8(t,e,n,r=QU,a=XU){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...KU,width:r.toString(),height:a.toString(),top:i,left:s},h=Ut().toLowerCase();n&&(o=QC(h)?JU:n),WC(h)&&(e=e||ZU,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[v,S])=>`${p}${v}=${S},`,"");if(w9(h)&&o!=="_self")return t8(e||"",o),new iE(null);const m=window.open(e||"",o,d);Z(m,t,"popup-blocked");try{m.focus()}catch{}return new iE(m)}function t8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8="__/auth/handler",r8="emulator/auth/handler",a8=encodeURIComponent("fac");async function sE(t,e,n,r,a,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ms,eventId:a};if(e instanceof sR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",C3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))s[d]=m}if(e instanceof Eu){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const u=await t._getAppCheckToken(),h=u?`#${a8}=${encodeURIComponent(u)}`:"";return`${i8(t)}?${pu(o).slice(1)}${h}`}function i8({config:t}){return t.emulator?a_(t,r8):`https://${t.authDomain}/${n8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="webStorageSupport";class s8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dR,this._completeRedirectFn=IU,this._overrideRedirectResult=NU}async _openPopup(e,n,r,a){var s;na((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await sE(e,n,r,Dy(),a);return e8(e,i,c_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const i=await sE(e,n,r,Dy(),a);return cU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:i}=this.eventManagers[n];return a?Promise.resolve(a):(na(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await WU(e),r=new OU(e);return n.register("authEvent",a=>(Z(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lp,{type:Lp},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[Lp];i!==void 0&&n(!!i),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tR()||KC()||s_()}}const o8=s8;var oE="@firebase/auth",lE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u8(t){Wn(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nR(t)},h=new C9(r,a,i,u);return V9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wn(new Un("auth-internal",e=>{const n=rl(e.getProvider("auth").getImmediate());return(r=>new l8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(oE,lE,c8(t)),tn(oE,lE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=5*60,d8=X2("authIdTokenMaxAge")||h8;let cE=null;const f8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d8)return;const a=n==null?void 0:n.token;cE!==a&&(cE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function m8(t=Vf()){const e=hi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=L9(t,{popupRedirectResolver:o8,persistence:[vU,sU,dR]}),r=X2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=f8(i.toString());tU(n,s,()=>s(n.currentUser)),eU(n,o=>s(o))}}const a=W2("auth");return a&&U9(n,`http://${a}`),n}function p8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}R9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const i=gr("internal-error");i.customData=a,n(i)},r.type="text/javascript",r.charset="UTF-8",p8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u8("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebasestorage.googleapis.com",g8="storageBucket",y8=2*60*1e3,v8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends zn{constructor(e,n,r=0){super(Vp(e),`Firebase Storage: ${n} (${Vp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Vp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_r||(_r={}));function Vp(t){return"storage/"+t}function _8(){const t="An unknown error occurred, please check the error payload for server response.";return new wr(_r.UNKNOWN,t)}function b8(){return new wr(_r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x8(){return new wr(_r.CANCELED,"User canceled the upload/download.")}function w8(t){return new wr(_r.INVALID_URL,"Invalid URL '"+t+"'.")}function E8(t){return new wr(_r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function uE(t){return new wr(_r.INVALID_ARGUMENT,t)}function bR(){return new wr(_r.APP_DELETED,"The Firebase app was deleted.")}function T8(t){return new wr(_r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw E8(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),u={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${d}/b/${a}/o${p}`,"i"),S={bucket:1,path:3},A=n===_R?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",y=new RegExp(`^https?://${A}/${a}/${N}`,"i"),x=[{regex:o,indices:u,postModify:i},{regex:v,indices:S,postModify:h},{regex:y,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<x.length;D++){const L=x[D],H=L.regex.exec(e);if(H){const T=H[L.indices.bucket];let E=H[L.indices.path];E||(E=""),r=new Gn(T,E),L.postModify(r);break}}if(r==null)throw w8(e);return r}}class S8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e,n){let r=1,a=null,i=null,s=!1,o=0;function u(){return o===2}let h=!1;function d(...N){h||(h=!0,e.apply(null,N))}function m(N){a=setTimeout(()=>{a=null,t(v,u())},N)}function p(){i&&clearTimeout(i)}function v(N,...y){if(h){p();return}if(N){p(),d.call(null,N,...y);return}if(u()||s){p(),d.call(null,N,...y);return}r<64&&(r*=2);let x;o===1?(o=2,x=0):x=(r+Math.random())*1e3,m(x)}let S=!1;function A(N){S||(S=!0,p(),!h&&(a!==null?(N||(o=2),clearTimeout(a),m(0)):N||(o=1)))}return m(0),i=setTimeout(()=>{s=!0,A(!0)},n),A}function N8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C8(t){return t!==void 0}function hE(t,e,n,r){if(r<e)throw uE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw uE(`Invalid value for '${t}'. Expected ${n} or less.`)}function R8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Jd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jd||(Jd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e,n,r,a,i,s,o,u,h,d,m,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new _h(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const u=o.loaded,h=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===Jd.NO_ERROR,u=i.getStatus();if(!o||I8(u,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Jd.ABORT;r(!1,new _h(!1,null,d));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new _h(h,i))})},n=(r,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(o,o.getResponse());C8(u)?i(u):i()}catch(u){s(u)}else if(o!==null){const u=_8();u.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,u)):s(u)}else if(a.canceled){const u=this.appDelete_?bR():x8();s(u)}else{const u=b8();s(u)}};this.canceled_?n(!1,new _h(!1,null,!0)):this.backoffId_=A8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&N8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _h{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function O8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function M8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function P8(t,e,n,r,a,i,s=!0,o=!1){const u=R8(t.urlParams),h=t.url+u,d=Object.assign({},t.headers);return j8(d,e),O8(d,n),k8(d,i),M8(d,r),new D8(h,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function V8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zd(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V8(this._location.path)}get storage(){return this._service}get parent(){const e=L8(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Zd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T8(e)}}function dE(t,e){const n=e==null?void 0:e[g8];return n==null?null:Gn.makeFromBucketSpec(n,t)}function U8(t,e,n,r={}){t.host=`${e}:${n}`;const a=ds(e);a&&(hv(`https://${t.host}/b`),dv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:J2(i,t.app.options.projectId))}class z8{constructor(e,n,r,a,i,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=_R,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=y8,this._maxUploadRetryTime=v8,this._requests=new Set,a!=null?this._bucket=Gn.makeFromBucketSpec(a,this._host):this._bucket=dE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=dE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zd(this,e)}_makeRequest(e,n,r,a,i=!0){if(this._deleted)return new S8(bR());{const s=P8(e,this._appId,r,a,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const fE="@firebase/storage",mE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="storage";function B8(t=Vf(),e){t=We(t);const r=hi(t,xR).getImmediate({identifier:e}),a=K2("storage");return a&&F8(r,...a),r}function F8(t,e,n,r={}){U8(t,e,n,r)}function $8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new z8(n,r,a,e,ms)}function q8(){Wn(new Un(xR,$8,"PUBLIC").setMultipleInstances(!0)),tn(fE,mE,""),tn(fE,mE,"esm2020")}q8();const wR="@firebase/installations",h_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=1e4,TR=`w:${h_}`,SR="FIS_v2",H8="https://firebaseinstallations.googleapis.com/v1",G8=60*60*1e3,Y8="installations",W8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ns=new fs(Y8,W8,K8);function AR(t){return t instanceof zn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR({projectId:t}){return`${H8}/projects/${t}/installations`}function CR(t){return{token:t.token,requestStatus:2,expiresIn:X8(t.expiresIn),creationTime:Date.now()}}async function RR(t,e){const r=(await e.json()).error;return ns.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function IR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Q8(t,{refreshToken:e}){const n=IR(t);return n.append("Authorization",J8(e)),n}async function DR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function X8(t){return Number(t.replace("s","000"))}function J8(t){return`${SR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=NR(t),a=IR(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const s={fid:n,authVersion:SR,appId:t.appId,sdkVersion:TR},o={method:"POST",headers:a,body:JSON.stringify(s)},u=await DR(()=>fetch(r,o));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:CR(h.authToken)}}else throw await RR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=/^[cdef][\w-]{21}$/,jy="";function n7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=r7(t);return t7.test(n)?n:jy}catch{return jy}}function r7(t){return e7(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Map;function jR(t,e){const n=lm(t);MR(n,e),a7(n,e)}function MR(t,e){const n=kR.get(t);if(n)for(const r of n)r(e)}function a7(t,e){const n=i7();n&&n.postMessage({key:t,fid:e}),s7()}let Vi=null;function i7(){return!Vi&&"BroadcastChannel"in self&&(Vi=new BroadcastChannel("[Firebase] FID Change"),Vi.onmessage=t=>{MR(t.data.key,t.data.fid)}),Vi}function s7(){kR.size===0&&Vi&&(Vi.close(),Vi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o7="firebase-installations-database",l7=1,rs="firebase-installations-store";let Up=null;function d_(){return Up||(Up=aN(o7,l7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(rs)}}})),Up}async function ef(t,e){const n=lm(t),a=(await d_()).transaction(rs,"readwrite"),i=a.objectStore(rs),s=await i.get(n);return await i.put(e,n),await a.done,(!s||s.fid!==e.fid)&&jR(t,e.fid),e}async function PR(t){const e=lm(t),r=(await d_()).transaction(rs,"readwrite");await r.objectStore(rs).delete(e),await r.done}async function cm(t,e){const n=lm(t),a=(await d_()).transaction(rs,"readwrite"),i=a.objectStore(rs),s=await i.get(n),o=e(s);return o===void 0?await i.delete(n):await i.put(o,n),await a.done,o&&(!s||s.fid!==o.fid)&&jR(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_(t){let e;const n=await cm(t.appConfig,r=>{const a=c7(r),i=u7(t,a);return e=i.registrationPromise,i.installationEntry});return n.fid===jy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function c7(t){const e=t||{fid:n7(),registrationStatus:0};return LR(e)}function u7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ns.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=h7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:d7(t)}:{installationEntry:e}}async function h7(t,e){try{const n=await Z8(t,e);return ef(t.appConfig,n)}catch(n){throw AR(n)&&n.customData.serverCode===409?await PR(t.appConfig):await ef(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function d7(t){let e=await pE(t.appConfig);for(;e.registrationStatus===1;)await OR(100),e=await pE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await f_(t);return r||n}return e}function pE(t){return cm(t,e=>{if(!e)throw ns.create("installation-not-found");return LR(e)})}function LR(t){return f7(t)?{fid:t.fid,registrationStatus:0}:t}function f7(t){return t.registrationStatus===1&&t.registrationTime+ER<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m7({appConfig:t,heartbeatServiceProvider:e},n){const r=p7(t,n),a=Q8(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const s={installation:{sdkVersion:TR,appId:t.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},u=await DR(()=>fetch(r,o));if(u.ok){const h=await u.json();return CR(h)}else throw await RR("Generate Auth Token",u)}function p7(t,{fid:e}){return`${NR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m_(t,e=!1){let n;const r=await cm(t.appConfig,i=>{if(!VR(i))throw ns.create("not-registered");const s=i.authToken;if(!e&&v7(s))return i;if(s.requestStatus===1)return n=g7(t,e),i;{if(!navigator.onLine)throw ns.create("app-offline");const o=b7(i);return n=y7(t,o),o}});return n?await n:r.authToken}async function g7(t,e){let n=await gE(t.appConfig);for(;n.authToken.requestStatus===1;)await OR(100),n=await gE(t.appConfig);const r=n.authToken;return r.requestStatus===0?m_(t,e):r}function gE(t){return cm(t,e=>{if(!VR(e))throw ns.create("not-registered");const n=e.authToken;return x7(n)?{...e,authToken:{requestStatus:0}}:e})}async function y7(t,e){try{const n=await m7(t,e),r={...e,authToken:n};return await ef(t.appConfig,r),n}catch(n){if(AR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await PR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ef(t.appConfig,r)}throw n}}function VR(t){return t!==void 0&&t.registrationStatus===2}function v7(t){return t.requestStatus===2&&!_7(t)}function _7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+G8}function b7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function x7(t){return t.requestStatus===1&&t.requestTime+ER<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(t){const e=t,{installationEntry:n,registrationPromise:r}=await f_(e);return r?r.catch(console.error):m_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E7(t,e=!1){const n=t;return await T7(n),(await m_(n,e)).token}async function T7(t){const{registrationPromise:e}=await f_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(t){if(!t||!t.options)throw zp("App Configuration");if(!t.name)throw zp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw zp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function zp(t){return ns.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="installations",A7="installations-internal",N7=t=>{const e=t.getProvider("app").getImmediate(),n=S7(e),r=hi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},C7=t=>{const e=t.getProvider("app").getImmediate(),n=hi(e,UR).getImmediate();return{getId:()=>w7(n),getToken:a=>E7(n,a)}};function R7(){Wn(new Un(UR,N7,"PUBLIC")),Wn(new Un(A7,C7,"PRIVATE"))}R7();tn(wR,h_);tn(wR,h_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="analytics",I7="firebase_id",D7="origin",O7=60*1e3,k7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",p_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t=new Lf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new fs("analytics","Analytics",j7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M7(t){if(!t.startsWith(p_)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return $t.warn(e.message),""}return t}function zR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function P7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function L7(t,e){const n=P7("firebase-js-sdk-policy",{createScriptURL:M7}),r=document.createElement("script"),a=`${p_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function V7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function U7(t,e,n,r,a,i){const s=r[a];try{if(s)await e[s];else{const u=(await zR(n)).find(h=>h.measurementId===a);u&&await e[u.appId]}}catch(o){$t.error(o)}t("config",a,i)}async function z7(t,e,n,r,a){try{let i=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const o=await zR(n);for(const u of s){const h=o.find(m=>m.measurementId===u),d=h&&e[h.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,a||{})}catch(i){$t.error(i)}}function B7(t,e,n,r){async function a(i,...s){try{if(i==="event"){const[o,u]=s;await z7(t,e,n,o,u)}else if(i==="config"){const[o,u]=s;await U7(t,e,n,r,o,u)}else if(i==="consent"){const[o,u]=s;t("consent",o,u)}else if(i==="get"){const[o,u,h]=s;t("get",o,u,h)}else if(i==="set"){const[o]=s;t("set",o)}else t(i,...s)}catch(o){$t.error(o)}}return a}function F7(t,e,n,r,a){let i=function(...s){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=B7(i,t,e,n),{gtagCore:i,wrappedGtag:window[a]}}function $7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(p_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=30,H7=1e3;class G7{constructor(e={},n=H7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const BR=new G7;function Y7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function W7(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Y7(n)},a=k7.replace("{app-id}",e),i=await fetch(a,r);if(i.status!==200&&i.status!==304){let o="";try{const u=await i.json();(s=u.error)!=null&&s.message&&(o=u.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function K7(t,e=BR,n){const{appId:r,apiKey:a,measurementId:i}=t.options;if(!r)throw _n.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:r};throw _n.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new J7;return setTimeout(async()=>{o.abort()},O7),FR({appId:r,apiKey:a,measurementId:i},s,o,e)}async function FR(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=BR){var o;const{appId:i,measurementId:s}=t;try{await Q7(r,e)}catch(u){if(s)return $t.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:s};throw u}try{const u=await W7(t);return a.deleteThrottleMetadata(i),u}catch(u){const h=u;if(!X7(h)){if(a.deleteThrottleMetadata(i),s)return $t.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:s};throw u}const d=Number((o=h==null?void 0:h.customData)==null?void 0:o.httpStatus)===503?Mx(n,a.intervalMillis,q7):Mx(n,a.intervalMillis),m={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return a.setThrottleMetadata(i,m),$t.debug(`Calling attemptFetch again in ${d} millis`),FR(t,m,r,a)}}function Q7(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),i=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(i),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function X7(t){if(!(t instanceof zn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class J7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Z7(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const i=await e,s={...r,send_to:i};t("event",n,s)}}async function ez(t,e,n,r){if(r&&r.global){const a={};for(const i of Object.keys(n))a[`user_properties.${i}`]=n[i];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tz(){if(eN())try{await tN()}catch(t){return $t.warn(_n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return $t.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nz(t,e,n,r,a,i,s){const o=K7(t);o.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&$t.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>$t.error(p)),e.push(o);const u=tz().then(p=>{if(p)return r.getId()}),[h,d]=await Promise.all([o,u]);$7(i)||L7(i,h.measurementId),a("js",new Date);const m=(s==null?void 0:s.config)??{};return m[D7]="firebase",m.update=!0,d!=null&&(m[I7]=d),a("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e){this.app=e}_delete(){return delete go[this.app.options.appId],Promise.resolve()}}let go={},yE=[];const vE={};let Bp="dataLayer",az="gtag",_E,g_,bE=!1;function iz(){const t=[];if(Z2()&&t.push("This is a browser extension environment."),T3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});$t.warn(n.message)}}function sz(t,e,n){iz();const r=t.options.appId;if(!r)throw _n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$t.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(go[r]!=null)throw _n.create("already-exists",{id:r});if(!bE){V7(Bp);const{wrappedGtag:i,gtagCore:s}=F7(go,yE,vE,Bp,az);g_=i,_E=s,bE=!0}return go[r]=nz(t,yE,vE,e,_E,Bp,n),new rz(t)}function oz(t=Vf()){t=We(t);const e=hi(t,tf);return e.isInitialized()?e.getImmediate():lz(t)}function lz(t,e={}){const n=hi(t,tf);if(n.isInitialized()){const a=n.getImmediate();if(Ja(e,n.getOptions()))return a;throw _n.create("already-initialized")}return n.initialize({options:e})}function cz(t,e,n){t=We(t),ez(g_,go[t.app.options.appId],e,n).catch(r=>$t.error(r))}function uz(t,e,n,r){t=We(t),Z7(g_,go[t.app.options.appId],e,n,r).catch(a=>$t.error(a))}const xE="@firebase/analytics",wE="0.10.19";function hz(){Wn(new Un(tf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return sz(r,a,n)},"PUBLIC")),Wn(new Un("analytics-internal",t,"PRIVATE")),tn(xE,wE),tn(xE,wE,"esm2020");function t(e){try{const n=e.getProvider(tf).getImmediate();return{logEvent:(r,a,i)=>uz(n,r,a,i),setUserProperties:(r,a)=>cz(n,r,a)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}hz();const dz={apiKey:"AIzaSyAriwME6CybqyDw1e3yNTwF6sHk4NUn7oY",authDomain:"planyourtrip-ed010.firebaseapp.com",databaseURL:"https://planyourtrip-ed010-default-rtdb.firebaseio.com",projectId:"planyourtrip-ed010",storageBucket:"planyourtrip-ed010.firebasestorage.app",messagingSenderId:"889865160214",appId:"1:889865160214:web:3cbe594765950e07609737",measurementId:"G-1TY4MKM2D9"},um=iN(dz),qt=UV(um),y_=m8(um);B8(um);oz(um);const fz=async t=>{try{return(await t_(ys(qt,"trips"),{...t,createdAt:_e.now()})).id}catch(e){throw console.error("Error creating trip:",e),e}},$R=async t=>{try{const e=ta(qt,"trips",t),n=await PC(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting trip:",e),e}},mz=async()=>{try{return(await LC(ys(qt,"trips"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting all trips:",t),t}},pz=async(t,e)=>{try{const n=ta(qt,"trips",t);await Zv(n,e)}catch(n){throw console.error("Error updating trip:",n),n}},gz=async t=>{try{await e_(ta(qt,"trips",t))}catch(e){throw console.error("Error deleting trip:",e),e}},qR=async t=>{try{return(await t_(ys(qt,"registrations"),{...t,timestamp:_e.now()})).id}catch(e){throw console.error("Error creating registration:",e),e}},yz=async t=>{try{const e=Kv(ys(qt,"registrations"),jC("tripId","==",t));return(await LC(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting registrations:",e),e}},nf=async(t,e)=>{try{const n=ta(qt,"registrations",t);await Zv(n,e)}catch(n){throw console.error("Error updating registration:",n),n}},HR=async t=>{try{await e_(ta(qt,"registrations",t))}catch(e){throw console.error("Error deleting registration:",e),e}},vz=({selectedDate:t,onClose:e,onCreate:n})=>{const[r,a]=R.useState({title:"",vehicleLayout:"sprinter_15",driverName:"",whatsappGroupLink:"",status:"planned",date:t,customSeats:[]}),[i,s]=R.useState(!1),[o,u]=R.useState(!1),h=Array.from({length:50},(y,_)=>_+1),d=async y=>{y.preventDefault(),s(!0);try{const _={...r,date:_e.fromDate(r.date)};r.vehicleLayout==="custom"&&r.customSeats.length>0&&(_.vehicleLayout=`custom_${r.customSeats.length}`,_.customSeats=r.customSeats),await n(_)}catch(_){console.error("Error creating trip:",_)}finally{s(!1)}},m=y=>{const _=new Date(y.target.value);a({...r,date:_})},p=y=>{const _=y.getFullYear(),x=String(y.getMonth()+1).padStart(2,"0"),D=String(y.getDate()).padStart(2,"0");return`${_}-${x}-${D}`},v=y=>{const _=y.target.value;a({...r,vehicleLayout:_}),u(_==="custom")},S=y=>{const _=[...r.customSeats],x=_.indexOf(y);x>-1?_.splice(x,1):(_.push(y),_.sort((D,L)=>D-L)),a({...r,customSeats:_})},A=()=>{a({...r,customSeats:[...h]})},N=()=>{a({...r,customSeats:[]})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full border-4 border-teal-400 max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),style:{borderColor:V.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Create New Trip"}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Ko,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),l.jsx("input",{type:"text",value:r.title,onChange:y=>a({...r,title:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{type:"date",value:p(r.date),onChange:m,className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent hover:border-[#00BCD4] transition-colors cursor-pointer",style:{borderColor:V.primary.teal},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{type:"text",value:r.driverName,onChange:y=>a({...r,driverName:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),l.jsxs("select",{value:r.vehicleLayout,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),l.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),l.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"}),l.jsx("option",{value:"custom",children:"Custom Seat Selection"})]})]}),o&&l.jsxs("div",{className:"border-2 rounded-lg p-4",style:{borderColor:V.primary.teal},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Select Seats (",r.customSeats.length," selected)"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:A,className:"text-xs px-3 py-1 rounded-lg text-white hover:opacity-90 transition-opacity",style:{backgroundColor:V.primary.teal},children:"Select All"}),l.jsx("button",{type:"button",onClick:N,className:"text-xs px-3 py-1 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:"Clear All"})]})]}),l.jsx("div",{className:"grid grid-cols-10 gap-2 max-h-64 overflow-y-auto p-2 bg-gray-50 rounded",children:h.map(y=>{const _=r.customSeats.includes(y);return l.jsxs("button",{type:"button",onClick:()=>S(y),className:`relative h-10 rounded-lg text-sm font-medium transition-all ${_?"text-white shadow-md":"bg-white border-2 border-gray-300 text-gray-700 hover:border-teal-300"}`,style:_?{backgroundColor:V.primary.teal}:{},children:[y,_&&l.jsx(Nf,{className:"w-3 h-3 absolute top-0.5 right-0.5"})]},y)})}),r.customSeats.length===0&&l.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please select at least one seat"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),l.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:y=>a({...r,whatsappGroupLink:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),l.jsxs("select",{value:r.status,onChange:y=>a({...r,status:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"planned",children:"Planned (Yellow)"}),l.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),l.jsx("option",{value:"done",children:"Done (Green)"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i||o&&r.customSeats.length===0,style:{backgroundColor:V.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Trip"})]})]})]})})},_z=({trip:t,onClose:e,onUpdate:n})=>{const r=()=>{var h;return(h=t.date)!=null&&h.toDate?t.date.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0]},[a,i]=R.useState({title:t.title||"",date:r(),vehicleLayout:t.vehicleLayout||"sprinter_15",driverName:t.driverName||"",whatsappGroupLink:t.whatsappGroupLink||"",status:t.status||"planned"}),[s,o]=R.useState(!1),u=async h=>{h.preventDefault(),o(!0);try{const d={...a,date:_e.fromDate(new Date(a.date))};await n(t.id,d)}catch(d){console.error("Error updating trip:",d)}finally{o(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:h=>h.stopPropagation(),style:{borderColor:V.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Edit Trip"}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Ko,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),l.jsx("input",{type:"text",value:a.title,onChange:h=>i({...a,title:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{type:"date",value:a.date,onChange:h=>i({...a,date:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{type:"text",value:a.driverName,onChange:h=>i({...a,driverName:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),l.jsxs("select",{value:a.vehicleLayout,onChange:h=>i({...a,vehicleLayout:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),l.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),l.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),l.jsx("input",{type:"url",value:a.whatsappGroupLink,onChange:h=>i({...a,whatsappGroupLink:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),l.jsxs("select",{value:a.status,onChange:h=>i({...a,status:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"planned",children:"Planned (Yellow)"}),l.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),l.jsx("option",{value:"done",children:"Done (Green)"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:V.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Updating...":"Update Trip"})]})]})]})})},EE={sprinter_15:{name:"Mercedes Sprinter Black (13 Seats)",totalSeats:14,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:60,y:320},{id:9,row:4,position:"center",x:165,y:320},{id:10,row:4,position:"right",x:270,y:320},{id:11,row:5,position:"left",x:40,y:410},{id:12,row:5,position:"center-left",x:130,y:410},{id:13,row:5,position:"center-right",x:220,y:410},{id:14,row:5,position:"right",x:310,y:410}]},bus_30:{name:"Mercedes Sprinter White (10 Seats)",totalSeats:11,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:40,y:320},{id:9,row:4,position:"center-left",x:130,y:320},{id:10,row:4,position:"center-right",x:220,y:320},{id:11,row:4,position:"right",x:310,y:320}]},highlander_7:{name:"Toyota Highlander (7 Seats)",totalSeats:7,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:180},{id:3,row:2,position:"center",x:165,y:180},{id:4,row:2,position:"right",x:270,y:180},{id:5,row:3,position:"left",x:60,y:310},{id:6,row:3,position:"center",x:165,y:310},{id:7,row:3,position:"right",x:270,y:310}]}},GR=t=>EE[t]||EE.sprinter_15,YR=({vehicleType:t,registrations:e,onSeatClick:n,selectedSeat:r,driverName:a,reservedSeats:i=[]})=>{const s=GR(t),o=h=>e==null?void 0:e.find(d=>d.seatNumber===h),u=h=>o(h)||i.includes(h)?V.seat.occupied:r===h?V.seat.selected:V.seat.vacant;return l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:V.primary.teal},children:s.name}),a&&l.jsxs("div",{className:"text-center mb-4 pb-4 border-b",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Driver: "}),l.jsx("span",{className:"font-semibold",style:{color:V.primary.teal},children:a})]}),l.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full max-w-md mx-auto border-2 rounded-lg",style:{borderColor:V.primary.teal},children:[l.jsx("rect",{x:"10",y:"10",width:"380",height:"480",rx:"20",fill:"none",stroke:V.primary.black,strokeWidth:"3"}),l.jsx("line",{x1:"10",y1:"100",x2:"390",y2:"100",stroke:V.primary.black,strokeWidth:"2",strokeDasharray:"5,5"}),l.jsxs("g",{children:[l.jsx("rect",{x:"30",y:"40",width:"50",height:"50",rx:"5",fill:V.primary.black,stroke:V.primary.teal,strokeWidth:"2"}),l.jsx("text",{x:"55",y:"70",textAnchor:"middle",fontSize:"14",fill:"white",fontWeight:"bold",children:"D"}),a&&l.jsx("text",{x:"55",y:"115",textAnchor:"middle",fontSize:"10",fill:V.primary.teal,fontWeight:"600",children:a.split(" ")[0]})]}),s.seats.map(h=>{const d=o(h.id),m=n;return l.jsxs("g",{onClick:()=>m&&n(h.id,d),className:m?"cursor-pointer hover:opacity-80":"",children:[l.jsx("rect",{x:h.x-25,y:h.y-15,width:"50",height:"35",rx:"5",fill:u(h.id),stroke:"#4b5563",strokeWidth:"2"}),l.jsx("text",{x:h.x,y:h.y+5,textAnchor:"middle",fontSize:"14",fill:d||r===h.id?"white":"#1f2937",fontWeight:"bold",children:h.id})]},h.id)})]}),l.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:V.seat.vacant,border:`2px solid ${V.primary.black}`}}),l.jsx("span",{children:"Vacant"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:V.seat.occupied,border:`2px solid ${V.primary.black}`}}),l.jsx("span",{children:"Occupied"})]}),n&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:V.seat.selected,border:`2px solid ${V.primary.black}`}}),l.jsx("span",{children:"Selected"})]})]})]})},bz=({trip:t,registrations:e,preselectedSeat:n=null,onClose:r,onSuccess:a})=>{const[i,s]=R.useState({firstName:"",lastName:"",email:"",phone:"",seatNumber:n,seatCount:1,paymentMethod:"on-trip",paid:!1}),[o,u]=R.useState(!1),[h,d]=R.useState(""),m=GR(t.vehicleLayout),p=e.map(A=>A.seatNumber),v=Array.from({length:m.totalSeats},(A,N)=>N+1).filter(A=>!p.includes(A)),S=async A=>{if(A.preventDefault(),d(""),!i.seatNumber){d("Please select a seat");return}if(i.seatCount>1){const N=i.seatNumber,y=[];for(let x=0;x<i.seatCount;x++)y.push(N+x);if(y.filter(x=>p.includes(x)||x>m.totalSeats).length>0){d(`Not enough consecutive seats available starting from seat ${N}. Please select a different seat.`);return}}u(!0);try{const N=i.seatNumber,y=[];for(let _=0;_<i.seatCount;_++){const x=N+_;y.push(qR({tripId:t.id,firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,seatNumber:x,paymentMethod:i.paymentMethod,paid:i.paid,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,addedByAdmin:!0,isMultiSeat:i.seatCount>1,seatCount:i.seatCount}))}await Promise.all(y),a(),r()}catch(N){console.error("Error adding participant:",N),d("Failed to add participant. Please try again.")}finally{u(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:r,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4 border-teal-400",onClick:A=>A.stopPropagation(),style:{borderColor:V.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(y2,{className:"w-6 h-6"}),l.jsx("h2",{className:"text-xl font-bold",children:"Add Participant"})]}),l.jsx("button",{onClick:r,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Ko,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:i.firstName,onChange:A=>s({...i,firstName:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{focusRing:V.primary.teal},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:i.lastName,onChange:A=>s({...i,lastName:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:i.email,onChange:A=>s({...i,email:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",value:i.phone,onChange:A=>s({...i,phone:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Seats *"}),l.jsx("select",{value:i.seatCount,onChange:A=>s({...i,seatCount:parseInt(A.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[1,2,3,4,5,6,7,8,9,10].map(A=>l.jsxs("option",{value:A,children:[A," ",A===1?"Seat":"Seats"]},A))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select how many seats this person needs (consecutive seats starting from the selected seat)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starting Seat Number *"}),l.jsxs("select",{value:i.seatNumber||"",onChange:A=>s({...i,seatNumber:parseInt(A.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Select starting seat"}),v.map(A=>l.jsxs("option",{value:A,children:["Seat ",A]},A))]}),v.length===0&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available seats"}),i.seatNumber&&i.seatCount>1&&l.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Will book seats ",i.seatNumber," - ",i.seatNumber+i.seatCount-1]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="card"?V.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"card",checked:i.paymentMethod==="card",onChange:A=>s({...i,paymentMethod:A.target.value}),className:"mr-3",style:{accentColor:V.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="on-trip"?V.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"on-trip",checked:i.paymentMethod==="on-trip",onChange:A=>s({...i,paymentMethod:A.target.value}),className:"mr-3",style:{accentColor:V.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:i.paid?V.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"checkbox",checked:i.paid,onChange:A=>s({...i,paid:A.target.checked}),className:"w-5 h-5 rounded border-gray-300",style:{accentColor:V.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Mark as Paid"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Check if participant has already paid"})]})]})}),h&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:h}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:o||v.length===0,style:{backgroundColor:V.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Adding...":"Add Participant"})]})]})]})})},Su={en:{dashboard:"Trip Management Dashboard",dashboardShort:"Dashboard",IVRITours:"IVRI Tours",tripManagement:"Trip Management System",adminPortal:"Admin Portal",logout:"Logout",backToDashboard:"Back to dashboard",tripsFor:"Trips for",allTrips:"All Trips",all:"All",currentTrips:"Current Trips",current:"Current",oldTrips:"Old Trips",old:"Old",createTrip:"Create Trip",loadingTrips:"Loading trips...",noUpcomingTrips:"No upcoming trips scheduled.",noPastTrips:"No past trips found.",noTripsForDate:"No trips scheduled for this date.",createFirstTrip:"Create your first trip",whatsapp:"WhatsApp",share:"Share",copied:"Copied!",view:"View",edit:"Edit",delete:"Delete",deleting:"Deleting...",joinWhatsappGroup:"Join WhatsApp Group",linkCopied:"Link copied!",shareTripLink:"Share trip link",viewTripDetails:"View trip details",editTrip:"Edit trip",deleteTrip:"Delete trip",createNewTrip:"Create new trip",showAllTrips:"Show all trips",showCurrentTrips:"Show current trips",showOldTrips:"Show old trips",mercedesSprinterBlack:"Mercedes Sprinter Black (14 Seats)",mercedesSprinterWhite:"Mercedes Sprinter White (11 Seats)",toyotaHighlander:"Toyota Highlander (7 Seats)",driver:"Driver",calendar:"Calendar",createNewTripTitle:"Create New Trip",editTripTitle:"Edit Trip",addParticipant:"Add Participant",participantDetails:"Participant Details",tripTitle:"Trip Title",date:"Date",driverName:"Driver Name",vehicleType:"Vehicle Type",whatsappGroupLink:"WhatsApp Group Link (Optional)",whatsappGroupLinkHelp:"Add a WhatsApp group link for trip participants to join",firstName:"First Name",lastName:"Last Name",email:"Email",phoneNumber:"Phone Number",seatNumber:"Seat Number",selectSeat:"Select a seat",paymentMethod:"Payment Method",payWithCard:"Pay with Card",payWithCardDesc:"Pay now using credit/debit card",payOnTrip:"Pay on Trip",payOnTripDesc:"Pay cash/card on the day of the trip",markAsPaid:"Mark as Paid",markAsPaidDesc:"Check if participant has already paid",cancel:"Cancel",close:"Close",updateTrip:"Update Trip",updating:"Updating...",creating:"Creating...",addParticipantBtn:"Add Participant",adding:"Adding...",completeRegistration:"Complete Registration",submitting:"Submitting...",clearSignature:"Clear Signature",participants:"Participants",add:"Add",noRegistrations:"No registrations yet",name:"Name",phone:"Phone",seat:"Seat Number",paymentStatus:"Payment Status",paid:"Paid",notPaid:"Not Paid",registrationStatus:"Registration Status",complete:"Complete",registered:"Registered",signedAgreements:"Signed Agreements",cancellationPolicy:"Cancellation Policy",liabilityWaiver:"Liability Waiver",markAsNotPaid:"Mark as Not Paid",markAsPaidBtn:"Mark as Paid",selectYourSeat:"Select Your Seat",selectedSeat:"Selected Seat",vacant:"Vacant",occupied:"Occupied",selected:"Selected",noAvailableSeats:"No available seats",personalInformation:"Personal Information",digitalSignature:"Digital Signature",registrationSuccessful:"Registration Successful!",thankYouMessage:"Thank you for registering for",confirmationEmailMessage:"You will receive a confirmation email shortly with your signed waiver.",yourSeat:"Your Seat",loadingTripInfo:"Loading trip information...",tripNotFound:"Trip Not Found",tripNotFoundMessage:"This trip link may be invalid or expired.",tripId:"Trip ID",contactOrganizer:"If you believe this is an error, please contact the trip organizer.",cancellationPolicyTitle:"Cancellation Policy",waiverTitle:"Waiver of Liability",agreeToCancellationPolicy:"I have read and agree to the cancellation policy",agreeToWaiver:"I have read, understand, and agree to the waiver of liability",deleteConfirm:"Are you sure you want to delete this trip? This action cannot be undone.",failedToDelete:"Failed to delete trip. Please try again.",failedToUpdate:"Failed to update trip. Please try again.",failedToAdd:"Failed to add participant. Please try again.",failedToUpdatePayment:"Failed to update payment status",failedToSubmit:"Failed to submit registration. Please try again.",pleasSelectSeat:"Please select a seat",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",phoneRequired:"Phone number is required",seatRequired:"Please select a seat",cancellationPolicyRequired:"You must agree to the cancellation policy",waiverRequired:"You must sign the waiver",signatureRequired:"Signature is required",tripTitlePlaceholder:"e.g., Beach Trip, Museum Visit",driverNamePlaceholder:"e.g., John Smith",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"Copy for WhatsApp",sendToGroup:"Send to Group",copyAllParticipantDetails:"Copy all participant details for WhatsApp",sendToWhatsAppGroup:"Send to WhatsApp group",viewWeather:"View Weather",weather:"Weather",loadingWeather:"Loading weather...",tryAgain:"Try again",popularLocations:"Popular locations:",enterCityName:"Enter city name...",goButton:"Go",wind:"Wind",humidity:"Humidity",forecastDays:"5-Day Forecast",changeLocation:"Change location",loadingTrip:"Loading trip...",tripNotFoundTitle:"Trip not found",returnToDashboard:"Return to Dashboard",noRegistrationsYet:"No registrations yet",participantDetailsTitle:"Participant Details",cardPayment:"Card Payment",payOnTripMethod:"Pay on Trip",paymentMethodLabel:"Payment Method",seatNumberLabel:"Seat Number",status:"Status",planned:"Planned",scheduled:"Scheduled",done:"Done"},ru:{dashboard:"  ",dashboardShort:"",IVRITours:"IVRI Tours",tripManagement:"  ",adminPortal:" ",logout:"",backToDashboard:"  ",tripsFor:" ",allTrips:" ",all:"",currentTrips:" ",current:"",oldTrips:" ",old:"",createTrip:" ",loadingTrips:" ...",noUpcomingTrips:"  .",noPastTrips:"   .",noTripsForDate:"    .",createFirstTrip:"   ",whatsapp:"WhatsApp",share:"",copied:"!",view:"",edit:"",delete:"",deleting:"...",joinWhatsappGroup:"   WhatsApp",linkCopied:" !",shareTripLink:"   ",viewTripDetails:"  ",editTrip:" ",deleteTrip:" ",createNewTrip:"  ",showAllTrips:"  ",showCurrentTrips:"  ",showOldTrips:"  ",mercedesSprinterBlack:"Mercedes Sprinter  (14 )",mercedesSprinterWhite:"Mercedes Sprinter  (11 )",toyotaHighlander:"Toyota Highlander (7 )",driver:"",calendar:"",createNewTripTitle:"  ",editTripTitle:" ",addParticipant:" ",participantDetails:" ",tripTitle:" ",date:"",driverName:" ",vehicleType:" ",whatsappGroupLink:"   WhatsApp ()",whatsappGroupLinkHelp:"    WhatsApp   ",firstName:"",lastName:"",email:" ",phoneNumber:" ",seatNumber:" ",selectSeat:" ",paymentMethod:" ",payWithCard:" ",payWithCardDesc:"  / ",payOnTrip:"  ",payOnTripDesc:" /   ",markAsPaid:"  ",markAsPaidDesc:",    ",cancel:"",close:"",updateTrip:" ",updating:"...",creating:"...",addParticipantBtn:" ",adding:"...",completeRegistration:" ",submitting:"...",clearSignature:" ",participants:"",add:"",noRegistrations:"  ",name:"",phone:"",seat:" ",paymentStatus:" ",paid:"",notPaid:" ",registrationStatus:" ",complete:"",registered:"",signedAgreements:" ",cancellationPolicy:" ",liabilityWaiver:"  ",markAsNotPaid:"   ",markAsPaidBtn:"  ",selectYourSeat:"  ",selectedSeat:" ",vacant:"",occupied:"",selected:"",noAvailableSeats:"  ",personalInformation:" ",digitalSignature:" ",registrationSuccessful:" !",thankYouMessage:"   ",confirmationEmailMessage:"         .",yourSeat:" ",loadingTripInfo:"   ...",tripNotFound:"  ",tripNotFoundMessage:"        .",tripId:"ID ",contactOrganizer:"  ,   , ,    .",cancellationPolicyTitle:" ",waiverTitle:"  ",agreeToCancellationPolicy:" ()  ()   ",agreeToWaiver:" (),   ()    ",deleteConfirm:" ,     ?    .",failedToDelete:"   . ,  .",failedToUpdate:"   . ,  .",failedToAdd:"   . ,  .",failedToUpdatePayment:"    ",failedToSubmit:"   . ,  .",pleasSelectSeat:",  ",firstNameRequired:" ",lastNameRequired:" ",emailRequired:"  ",emailInvalid:"   ",phoneRequired:"  ",seatRequired:",  ",cancellationPolicyRequired:"     ",waiverRequired:"     ",signatureRequired:" ",tripTitlePlaceholder:",   ,  ",driverNamePlaceholder:",  ",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"  WhatsApp",sendToGroup:"  ",copyAllParticipantDetails:"     WhatsApp",sendToWhatsAppGroup:"   WhatsApp",viewWeather:" ",weather:"",loadingWeather:" ...",tryAgain:" ",popularLocations:" :",enterCityName:"  ...",goButton:"",wind:"",humidity:"",forecastDays:"5- ",changeLocation:" ",loadingTrip:" ...",tripNotFoundTitle:"  ",returnToDashboard:"  ",noRegistrationsYet:"  ",participantDetailsTitle:" ",cardPayment:" ",payOnTripMethod:"  ",paymentMethodLabel:" ",seatNumberLabel:" ",status:"",planned:"",scheduled:"",done:""}},xz=({participant:t,onClose:e,onUpdate:n})=>{const{language:r}=li(),a=Su[r],[i,s]=R.useState(!1),[o,u]=R.useState({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone}),[h,d]=R.useState(!1),[m,p]=R.useState(!1),v=async()=>{d(!0);try{await nf(t.id,o),s(!1),n()}catch(N){console.error("Error updating participant:",N),alert("Failed to update participant. Please try again.")}finally{d(!1)}},S=async()=>{d(!0);try{await nf(t.id,{paid:!t.paid}),n()}catch(N){console.error("Error updating payment status:",N),alert(a.failedToUpdatePayment)}finally{d(!1)}},A=async()=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){p(!0);try{await HR(t.id),e(),n()}catch(N){console.error("Error deleting participant:",N),alert("Failed to delete participant. Please try again.")}finally{p(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4",onClick:N=>N.stopPropagation(),style:{borderColor:V.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Participant Details"}),l.jsxs("p",{className:"text-sm text-teal-100",children:["Seat ",t.seatNumber]})]}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Ko,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 space-y-4",children:i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),l.jsx("input",{type:"text",value:o.firstName,onChange:N=>u({...o,firstName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),l.jsx("input",{type:"text",value:o.lastName,onChange:N=>u({...o,lastName:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:o.email,onChange:N=>u({...o,email:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{type:"tel",value:o.phone,onChange:N=>u({...o,phone:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:v,disabled:h,style:{backgroundColor:V.success},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:h?"Saving...":"Save"}),l.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[t.firstName," ",t.lastName]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-900",children:t.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.phone}),l.jsx("p",{className:"text-sm text-gray-900",children:t.phone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Seat Number"}),l.jsxs("p",{className:"text-sm text-gray-900",children:["Seat ",t.seatNumber]})]}),t.isMultiSeat&&t.seatCount&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Multi-Seat Booking:"})," This person has booked ",t.seatCount," seats"]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.paymentMethod}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.paymentMethod==="card"?l.jsxs(l.Fragment,{children:[l.jsx(f2,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:a.payWithCard})]}):l.jsxs(l.Fragment,{children:[l.jsx(h2,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:a.payOnTrip})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.paymentStatus}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.paid?l.jsxs(l.Fragment,{children:[l.jsx(Pr,{className:"w-5 h-5 text-green-500"}),l.jsx("span",{className:"text-sm font-semibold text-green-700",children:a.paid})]}):l.jsxs(l.Fragment,{children:[l.jsx(Yg,{className:"w-5 h-5 text-red-500"}),l.jsx("span",{className:"text-sm font-semibold text-red-700",children:a.notPaid})]})})]}),t.registrationDate&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.registered}),l.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.registrationDate).toLocaleDateString()})]}),(t.agreedToCancellationPolicy||t.agreedToWaiver)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.signedAgreements}),l.jsxs("div",{className:"space-y-1 mt-1",children:[t.agreedToCancellationPolicy&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:a.cancellationPolicy})]}),t.agreedToWaiver&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:a.liabilityWaiver})]})]})]}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx("button",{onClick:S,disabled:h,style:{backgroundColor:t.paid?V.button.danger:V.success},className:"w-full px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:h?"Updating...":t.paid?a.markAsNotPaid:a.markAsPaidBtn}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>s(!0),style:{backgroundColor:V.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:[l.jsx(p2,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:A,disabled:m,style:{backgroundColor:V.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:[l.jsx(Cf,{className:"w-4 h-4"}),l.jsx("span",{children:m?"Deleting...":"Delete"})]})]})]})]})})]})})},wz=({tripId:t,onClose:e})=>{var be;const{language:n}=li(),r=Su[n],[a,i]=R.useState(null),[s,o]=R.useState([]),[u,h]=R.useState(!0),[d,m]=R.useState(!1),[p,v]=R.useState(null),[S,A]=R.useState(null),[N,y]=R.useState(null),[_,x]=R.useState({}),[D,L]=R.useState(null),[H,T]=R.useState(!1),[E,b]=R.useState(null);R.useEffect(()=>{C();const q=O();return()=>q&&q()},[t]);const C=async()=>{try{const q=await $R(t);i(q)}catch(q){console.error("Error loading trip:",q)}finally{h(!1)}},O=()=>{const q=Kv(ys(qt,"registrations"),jC("tripId","==",t));return VC(q,Ne=>{const Te=Ne.docs.map(zt=>({id:zt.id,...zt.data()}));o(Te)})},k=()=>{var Ne;if(!a||s.length===0)return"";let q=` *${a.title}*
`;return q+=` Date: ${(Ne=a.date)==null?void 0:Ne.toDate().toLocaleDateString()}
`,a.driverName&&(q+=` Driver: ${a.driverName}
`),q+=`
 *Participants (${s.length})*
`,q+=`${"=".repeat(40)}

`,[...s].sort((Te,zt)=>Te.seatNumber-zt.seatNumber).forEach((Te,zt)=>{q+=`${zt+1}. *${Te.firstName} ${Te.lastName}*
`,q+=`    Seat: ${Te.seatNumber}
`,q+=`    ${Te.email}
`,q+=`    ${Te.phone}
`,q+=`    ${Te.paid?" Paid":" Not Paid"}
`,q+=`
`}),q+=`${"=".repeat(40)}
`,q+=` Total Participants: ${s.length}
`,q+=` Paid: ${s.filter(Te=>Te.paid).length}
`,q+=` Pending: ${s.filter(Te=>!Te.paid).length}
`,q},I=()=>{const q=k();q&&navigator.clipboard.writeText(q).then(()=>{T(!0),setTimeout(()=>T(!1),2e3)}).catch(ne=>{console.error("Failed to copy:",ne),alert("Failed to copy to clipboard")})},G=()=>{const q=k();if(q)if(a.whatsappGroupLink){const ne=encodeURIComponent(q);window.open(`${a.whatsappGroupLink}?text=${ne}`,"_blank")}else{const ne=encodeURIComponent(q);window.open(`https://wa.me/?text=${ne}`,"_blank")}},re=async(q,ne)=>{try{await nf(q,{paid:!ne})}catch(Ne){console.error("Error updating payment status:",Ne),alert(r.failedToUpdatePayment)}},j=async q=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){L(q);try{await HR(q),A(null)}catch(ne){console.error("Error deleting participant:",ne),alert("Failed to delete participant. Please try again.")}finally{L(null)}}},U=q=>{y(q.id),x({firstName:q.firstName,lastName:q.lastName,email:q.email,phone:q.phone})},$=async q=>{try{await nf(q,_),y(null),x({})}catch(ne){console.error("Error updating participant:",ne),alert("Failed to update participant. Please try again.")}},Y=()=>{y(null),x({})};if(u)return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsx("div",{className:"bg-white rounded-lg p-8",children:l.jsx("div",{className:"text-lg",children:r.loadingTripInfo})})});if(!a)return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.tripNotFound}),l.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:r.close})]})});const X=[...s].sort((q,ne)=>q.seatNumber-ne.seatNumber);return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",onClick:e,children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden border-4 border-teal-400",onClick:q=>q.stopPropagation(),style:{borderColor:V.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 sm:px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold truncate",children:a.title}),l.jsx("p",{className:"text-sm text-teal-100",children:(be=a.date)==null?void 0:be.toDate().toLocaleDateString()})]}),l.jsx("button",{onClick:e,className:"flex-shrink-0 ml-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:r.close,children:l.jsx(Ko,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)] p-4 sm:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(YR,{vehicleType:a.vehicleLayout,registrations:s,driverName:a.driverName,onSeatClick:(q,ne)=>{ne?b(ne):(v(q),m(!0))}})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-lg p-4 sm:p-6 border-2 border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(v2,{className:"w-5 h-5",style:{color:V.primary.teal}}),l.jsxs("h3",{className:"text-lg sm:text-xl font-bold",style:{color:V.primary.black},children:[r.participants," (",s.length,")"]})]}),l.jsxs("button",{onClick:()=>m(!0),style:{backgroundColor:V.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:r.addParticipant,children:[l.jsx(y2,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.add})]})]}),s.length>0&&l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("button",{onClick:I,style:{backgroundColor:H?V.success:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.copyAllParticipantDetails,children:H?l.jsxs(l.Fragment,{children:[l.jsx(Nf,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.copied})]}):l.jsxs(l.Fragment,{children:[l.jsx(J0,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.copyForWhatsApp})]})}),l.jsxs("button",{onClick:G,style:{backgroundColor:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.sendToWhatsAppGroup,children:[l.jsx(m2,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.sendToGroup})]})]}),s.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:r.noRegistrations}):l.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:X.map(q=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsxs("div",{onClick:()=>A(S===q.id?null:q.id),className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 text-white rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:V.seat.occupied},children:q.seatNumber}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-semibold text-gray-900 truncate",children:[q.firstName," ",q.lastName]}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:q.email})]}),l.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[q.paid?l.jsx(Pr,{className:"w-5 h-5 text-green-500",title:r.paid}):l.jsx(Yg,{className:"w-5 h-5 text-red-500",title:r.notPaid}),S===q.id?l.jsx(M4,{className:"w-5 h-5 text-gray-400"}):l.jsx(k4,{className:"w-5 h-5 text-gray-400"})]})]}),S===q.id&&l.jsx("div",{className:"px-3 pb-3 border-t border-gray-200",children:N===q.id?l.jsxs("div",{className:"space-y-3 pt-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"First Name"}),l.jsx("input",{type:"text",value:_.firstName,onChange:ne=>x({..._,firstName:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Last Name"}),l.jsx("input",{type:"text",value:_.lastName,onChange:ne=>x({..._,lastName:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Email"}),l.jsx("input",{type:"email",value:_.email,onChange:ne=>x({..._,email:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),l.jsx("input",{type:"tel",value:_.phone,onChange:ne=>x({..._,phone:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:()=>$(q.id),style:{backgroundColor:V.success},className:"flex-1 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Save"}),l.jsx("button",{onClick:Y,className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):l.jsxs("div",{className:"space-y-3 pt-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.phone}),l.jsx("p",{className:"text-sm text-gray-900",children:q.phone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentMethod}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:q.paymentMethod==="card"?l.jsxs(l.Fragment,{children:[l.jsx(f2,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:r.payWithCard})]}):l.jsxs(l.Fragment,{children:[l.jsx(h2,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:r.payOnTrip})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentStatus}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[q.paid?l.jsx(Pr,{className:"w-4 h-4 text-green-500"}):l.jsx(Yg,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:q.paid?r.paid:r.notPaid})]})]}),q.registrationDate&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.registered}),l.jsx("p",{className:"text-sm text-gray-900",children:new Date(q.registrationDate).toLocaleDateString()})]}),(q.agreedToCancellationPolicy||q.agreedToWaiver)&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.signedAgreements}),l.jsxs("div",{className:"space-y-1 mt-1",children:[q.agreedToCancellationPolicy&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:r.cancellationPolicy})]}),q.agreedToWaiver&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:r.liabilityWaiver})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:ne=>{ne.stopPropagation(),re(q.id,q.paid)},style:{backgroundColor:q.paid?V.button.danger:V.success},className:"w-full px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:q.paid?r.markAsNotPaid:r.markAsPaidBtn}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:ne=>{ne.stopPropagation(),U(q)},style:{backgroundColor:V.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:[l.jsx(p2,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:ne=>{ne.stopPropagation(),j(q.id)},disabled:D===q.id,style:{backgroundColor:V.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Cf,{className:"w-4 h-4"}),l.jsx("span",{children:D===q.id?"Deleting...":"Delete"})]})]})]})]})})]},q.id))})]})})]})})]}),d&&l.jsx(bz,{trip:a,registrations:s,preselectedSeat:p,onClose:()=>{m(!1),v(null)},onSuccess:()=>{m(!1),v(null)}}),E&&l.jsx(xz,{participant:E,onClose:()=>b(null),onUpdate:()=>{b(null)}})]})},TE=({className:t="",size:e="md"})=>{const n={xs:{width:"50px",fontSize:"10px",subSize:"7px"},sm:{width:"80px",fontSize:"14px",subSize:"10px"},md:{width:"120px",fontSize:"20px",subSize:"12px"},lg:{width:"160px",fontSize:"28px",subSize:"16px"}},r=n[e]||n.md;return l.jsx("div",{className:`flex items-center gap-3 ${t}`,children:l.jsx("div",{style:{backgroundColor:V.primary.teal,width:r.width,aspectRatio:"1",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 188, 212, 0.3)"},children:l.jsxs("div",{style:{textAlign:"center",color:V.primary.white},children:[l.jsx("div",{style:{fontSize:r.fontSize,fontWeight:"bold",letterSpacing:"2px",lineHeight:"1"},children:"IVRI"}),l.jsx("div",{style:{fontSize:r.subSize,letterSpacing:"1px",marginTop:"4px",opacity:.9},children:"TOURS"})]})})})},Ez=()=>{const{language:t,setLanguage:e}=li(),n=[{code:"en",flag:"",name:"English (CA)"},{code:"ru",flag:"",name:""}];return l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"sm:hidden px-2 py-1.5 border border-gray-300 rounded-lg text-lg focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:V.primary.teal},children:n.map(r=>l.jsx("option",{value:r.code,children:r.flag},r.code))}),l.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"hidden sm:block px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:V.primary.teal},children:n.map(r=>l.jsxs("option",{value:r.code,children:[r.flag," ",r.name]},r.code))})]})})},Tz=({compact:t=!1})=>{const{language:e}=li(),n=Su[e],[r,a]=R.useState("New York"),[i,s]=R.useState(""),[o,u]=R.useState(null),[h,d]=R.useState([]),[m,p]=R.useState(!1),[v,S]=R.useState(null),[A,N]=R.useState(!1),[y,_]=R.useState(!1),x=["Toronto","Ottawa","Barrie","Montreal","mont-tremblant","Chicago","New York","Miami","Boston"];R.useEffect(()=>{D(r)},[r]);const D=async b=>{p(!0),S(null);try{const O=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(b)}&count=1&language=en&format=json`)).json();if(!O.results||O.results.length===0){S("Location not found"),p(!1);return}const{latitude:k,longitude:I,name:G,country:re}=O.results[0],U=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${k}&longitude=${I}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&temperature_unit=celsius&wind_speed_unit=mph&timezone=auto&forecast_days=5`)).json();u({city:G,country:re,temperature:Math.round(U.current.temperature_2m),humidity:U.current.relative_humidity_2m,windSpeed:Math.round(U.current.wind_speed_10m),weatherCode:U.current.weather_code});const $=U.daily.time.map((Y,X)=>({date:new Date(Y).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),maxTemp:Math.round(U.daily.temperature_2m_max[X]),minTemp:Math.round(U.daily.temperature_2m_min[X]),weatherCode:U.daily.weather_code[X]}));d($)}catch(C){console.error("Error fetching weather:",C),S("Failed to load weather data")}finally{p(!1)}},L=b=>{a(b),N(!1),s("")},H=b=>{b.preventDefault(),i.trim()&&L(i.trim())},T=b=>b===0||b===1?l.jsx(bM,{className:"w-8 h-8",style:{color:"#FCD34D"}}):b===2||b===3?l.jsx(Bl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}):b>=51&&b<=67?l.jsx(ch,{className:"w-8 h-8",style:{color:"#60A5FA"}}):b>=71&&b<=77?l.jsx($4,{className:"w-8 h-8",style:{color:"#93C5FD"}}):b>=80?l.jsx(ch,{className:"w-8 h-8",style:{color:"#3B82F6"}}):l.jsx(Bl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}),E=b=>b===0?"Clear sky":b===1?"Mainly clear":b===2?"Partly cloudy":b===3?"Overcast":b>=51&&b<=67?"Rainy":b>=71&&b<=77?"Snowy":b>=80?"Rain showers":"Cloudy";return t?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>_(!0),className:"bg-white rounded-full shadow-lg p-3 hover:shadow-xl transition-all",title:n.viewWeather,children:o&&!m&&!v?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:T(o.weatherCode)}),l.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[o.temperature,"C"]})]}):l.jsx(Bl,{className:"w-6 h-6",style:{color:V.primary.teal}})}),y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-end p-4 animate-fadeIn",onClick:()=>_(!1),children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm mt-16 mr-0 animate-slideInRight",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Bl,{className:"w-5 h-5",style:{color:V.primary.teal}}),n.weather]}),l.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx("span",{className:"text-2xl text-gray-600",children:""})})]}),l.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[m&&l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"text-gray-500 text-sm",children:n.loadingWeather})}),v&&!m&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-500 text-sm",children:v}),l.jsx("button",{onClick:()=>D(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:n.tryAgain})]}),o&&!m&&!v&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mx,{className:"w-4 h-4",style:{color:V.primary.teal}}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[o.city,", ",o.country]})]}),l.jsx("button",{onClick:()=>N(!A),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:l.jsx(px,{className:"w-4 h-4 text-gray-600"})})]}),A&&l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),l.jsx("button",{type:"submit",style:{backgroundColor:V.primary.teal},className:"px-4 py-2 text-white rounded-lg text-sm",children:"Go"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(b=>l.jsx("button",{onClick:()=>L(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700",children:b},b))})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4 mb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:E(o.weatherCode)})]}),l.jsx("div",{children:T(o.weatherCode)})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yx,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ch,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),l.jsx("div",{className:"space-y-2",children:h.map((b,C)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:T(b.weatherCode)}),l.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},C))})]})]})]})]})}),l.jsx("style",{jsx:!0,children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.2s ease-out;
          }
          .animate-slideInRight {
            animation: slideInRight 0.3s ease-out;
          }
        `})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Bl,{className:"w-5 h-5",style:{color:V.primary.teal}}),"Weather"]}),l.jsx("button",{onClick:()=>N(!A),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:l.jsx(px,{className:"w-5 h-5 text-gray-600"})})]}),A&&l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),l.jsx("button",{type:"submit",style:{backgroundColor:V.primary.teal},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:"Search"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:x.map(b=>l.jsx("button",{onClick:()=>L(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700 transition-colors",children:b},b))})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(mx,{className:"w-4 h-4",style:{color:V.primary.teal}}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:o?`${o.city}, ${o.country}`:r})]}),m&&l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"text-gray-500 text-sm",children:"Loading weather..."})}),v&&!m&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-500 text-sm",children:v}),l.jsx("button",{onClick:()=>D(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Try again"})]}),o&&!m&&!v&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:E(o.weatherCode)})]}),l.jsx("div",{children:T(o.weatherCode)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yx,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ch,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),l.jsx("div",{className:"space-y-2",children:h.map((b,C)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:T(b.weatherCode)}),l.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},C))})]})]})]})},v_=({showBackButton:t=!1,title:e="",subtitle:n="",showLogout:r=!0})=>{const a=Wo(),i=aa(),{language:s}=li(),o=Su[s],u=async()=>{try{await rU(y_),a("/login")}catch(v){console.error("Error logging out:",v)}},h=()=>{a("/admin")},d=i.pathname==="/admin",m=i.pathname==="/gift-cards",p=i.pathname.includes("/register/");return l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t&&l.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:o.backToDashboard,children:l.jsx(fx,{className:"w-6 h-6"})}),l.jsx("div",{className:"hidden sm:block",children:l.jsx(TE,{size:"md"})}),l.jsx("div",{className:"sm:hidden",children:l.jsx(TE,{size:"xs"})}),l.jsx("div",{className:"min-w-0 flex-1",children:d?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tz,{compact:!0}),l.jsx("p",{className:"hidden sm:block text-sm text-gray-500",children:o.IVRITours})]})}):e?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:e}),n&&l.jsx("p",{className:"hidden sm:block text-sm text-gray-600",children:n})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:o.IVRITours}),l.jsx("p",{className:"hidden sm:block text-sm text-gray-500 mt-1",children:o.tripManagement})]})})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx(Ez,{}),!p&&l.jsxs(l.Fragment,{children:[d&&l.jsxs("button",{onClick:()=>a("/gift-cards"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:V.primary.teal},title:"Gift Cards",children:[l.jsx($r,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Gift Cards"})]}),m&&l.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:V.primary.teal},title:"Dashboard",children:[l.jsx(fx,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]}),r&&!p&&l.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:o.logout,children:[l.jsx(sM,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:o.logout})]})]})]})})})},Sz=()=>{const{language:t}=li(),e=Su[t],[n,r]=R.useState(new Date),[a,i]=R.useState([]),[s,o]=R.useState(!1),[u,h]=R.useState(null),[d,m]=R.useState(!1),[p,v]=R.useState("upcoming"),[S,A]=R.useState("all"),[N,y]=R.useState(null),[_,x]=R.useState(null),[D,L]=R.useState(null);R.useEffect(()=>{H()},[n,p]);const H=async()=>{m(!0);try{const G=await mz();i(G)}catch(G){console.error("Error loading trips:",G)}finally{m(!1)}},T=async G=>{try{await fz(G),o(!1),H()}catch(re){console.error("Error creating trip:",re)}},E=G=>{const re=`${window.location.origin}/PlanYourTripNow/register/${G}`;navigator.clipboard.writeText(re),h(G),setTimeout(()=>h(null),2e3)},b=async G=>{if(confirm(e.deleteConfirm)){y(G);try{await gz(G),H()}catch(re){console.error("Error deleting trip:",re),alert(e.failedToDelete)}finally{y(null)}}},C=async(G,re)=>{try{await pz(G,re),x(null),H()}catch(j){console.error("Error updating trip:",j),alert(e.failedToUpdate)}},k=(()=>{const G=new Date;G.setHours(0,0,0,0);let re=a;return p==="date"?re=a.filter(j=>{var Y,X;const U=((X=(Y=j.date)==null?void 0:Y.toDate)==null?void 0:X.call(Y))||new Date(j.date);U.setHours(0,0,0,0);const $=new Date(n);return $.setHours(0,0,0,0),U.getTime()===$.getTime()}):p==="upcoming"?re=a.filter(j=>{var $,Y;const U=((Y=($=j.date)==null?void 0:$.toDate)==null?void 0:Y.call($))||new Date(j.date);return U.setHours(0,0,0,0),U>=G}):p==="past"&&(re=a.filter(j=>{var $,Y;const U=((Y=($=j.date)==null?void 0:$.toDate)==null?void 0:Y.call($))||new Date(j.date);return U.setHours(0,0,0,0),U<G})),S!=="all"&&(re=re.filter(j=>(j.status||"planned")===S)),re})(),I=G=>{switch(G||"planned"){case"planned":return{bg:"#FEF3C7",text:"#92400E",label:"Planned"};case"scheduled":return{bg:"#E9D5FF",text:"#6B21A8",label:"Scheduled"};case"done":return{bg:"#D1FAE5",text:"#065F46",label:"Done"};default:return{bg:"#FEF3C7",text:"#92400E",label:"Planned"}}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(v_,{}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==="date"?`${e.tripsOn||"Trips on"} ${n.toLocaleDateString()}`:p==="all"?e.allTrips:p==="upcoming"?e.currentTrips:e.oldTrips})]})}),l.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[l.jsxs("button",{onClick:()=>v("all"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="all"?{backgroundColor:V.primary.teal}:{},title:e.showAllTrips,children:[l.jsx(Pi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.allTrips}),l.jsx("span",{className:"sm:hidden",children:"All"})]}),l.jsxs("button",{onClick:()=>v("upcoming"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="upcoming"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="upcoming"?{backgroundColor:V.primary.teal}:{},title:e.showCurrentTrips,children:[l.jsx(Pi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.currentTrips}),l.jsx("span",{className:"sm:hidden",children:"Upcoming"})]}),l.jsxs("button",{onClick:()=>v("past"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="past"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="past"?{backgroundColor:V.primary.teal}:{},title:e.showOldTrips,children:[l.jsx(N4,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.oldTrips}),l.jsx("span",{className:"sm:hidden",children:"Past"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[l.jsxs("button",{onClick:()=>A("all"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="all"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="all"?{backgroundColor:V.primary.teal}:{backgroundColor:V.primary.teal,opacity:.3},title:"Show all statuses",children:[l.jsx(Pi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"A"}),l.jsx("span",{className:"hidden sm:inline",children:"All Status"})]}),l.jsxs("button",{onClick:()=>A("planned"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="planned"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="planned"?{backgroundColor:"#92400E"}:{backgroundColor:"#FEF3C7",color:"#92400E"},title:"Show planned trips",children:[l.jsx(d2,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"P"}),l.jsx("span",{className:"hidden sm:inline",children:"Planned"})]}),l.jsxs("button",{onClick:()=>A("scheduled"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="scheduled"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="scheduled"?{backgroundColor:"#6B21A8"}:{backgroundColor:"#E9D5FF",color:"#6B21A8"},title:"Show scheduled trips",children:[l.jsx(Pi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"S"}),l.jsx("span",{className:"hidden sm:inline",children:"Scheduled"})]}),l.jsxs("button",{onClick:()=>A("done"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="done"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="done"?{backgroundColor:"#065F46"}:{backgroundColor:"#D1FAE5",color:"#065F46"},title:"Show completed trips",children:[l.jsx(Pr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"D"}),l.jsx("span",{className:"hidden sm:inline",children:"Done"})]})]})]}),l.jsxs("button",{onClick:()=>o(!0),style:{backgroundColor:V.primary.teal},className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm sm:text-base whitespace-nowrap",title:e.createNewTrip,children:[l.jsx(g2,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{className:"hidden sm:inline",children:e.createTrip}),l.jsx("span",{className:"sm:hidden",children:"New"})]})]}),d?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:e.loadingTrips})}):k.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[l.jsxs("p",{className:"text-gray-500",children:[p==="upcoming"&&e.noUpcomingTrips,p==="past"&&e.noPastTrips,p==="all"&&"No trips found"]}),l.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstTrip})]}):l.jsx("div",{className:"space-y-3",children:k.map(G=>{var re,j;return l.jsx("div",{onClick:()=>L(G.id),className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:G.title}),l.jsx("span",{className:"px-2 py-1 rounded-full text-[10px] sm:text-xs font-semibold",style:{backgroundColor:I(G.status).bg,color:I(G.status).text},children:I(G.status).label})]}),l.jsxs("p",{className:"text-[10px] sm:text-sm text-gray-600 mt-1",children:[((j=(re=G.date)==null?void 0:re.toDate)==null?void 0:j.call(re).toLocaleDateString())||new Date(G.date).toLocaleDateString()," - ",G.vehicleLayout==="sprinter_15"?e.mercedesSprinterBlack:G.vehicleLayout==="bus_30"?e.mercedesSprinterWhite:G.vehicleLayout==="highlander_7"?e.toyotaHighlander:G.vehicleLayout]}),G.driverName&&l.jsxs("p",{className:"text-[10px] sm:text-sm mt-1",style:{color:"#00BCD4"},children:[e.driver,": ",G.driverName]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",onClick:U=>U.stopPropagation(),children:[G.whatsappGroupLink&&l.jsxs("a",{href:G.whatsappGroupLink,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#25D366"},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.joinWhatsappGroup,children:[l.jsx(m2,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.whatsapp})]}),l.jsx("button",{onClick:()=>E(G.id),className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:u===G.id?V.success:V.primary.teal},title:u===G.id?e.linkCopied:e.shareTripLink,children:u===G.id?l.jsxs(l.Fragment,{children:[l.jsx(Nf,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.copied})]}):l.jsxs(l.Fragment,{children:[l.jsx(J0,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.share})]})}),l.jsxs("button",{onClick:()=>x(G),style:{backgroundColor:V.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.editTrip,children:[l.jsx(vM,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.edit})]}),l.jsxs("button",{onClick:()=>b(G.id),disabled:N===G.id,style:{backgroundColor:V.button.danger},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteTrip,children:[l.jsx(Cf,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:N===G.id?e.deleting:e.delete})]})]})]})},G.id)})})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"space-y-4 sticky top-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.calendar}),l.jsx(s3,{onChange:G=>{r(G),v("date")},value:n,className:"border-0 w-full",tileClassName:({date:G,view:re})=>{if(re==="month"){const j=a.filter(U=>{var Y,X;const $=((X=(Y=U.date)==null?void 0:Y.toDate)==null?void 0:X.call(Y))||new Date(U.date);return $.getFullYear()===G.getFullYear()&&$.getMonth()===G.getMonth()&&$.getDate()===G.getDate()});if(j.length>0)return j.length===1?"has-one-trip":j.length===2?"has-two-trips":"has-many-trips"}return null}}),l.jsx("style",{children:`
                  .has-one-trip {
                    background-color: #b2ebf2 !important;
                    color: #006064 !important;
                    font-weight: 600;
                  }
                  .has-one-trip:hover {
                    background-color: #80deea !important;
                  }
                  .has-two-trips {
                    background-color: #4dd0e1 !important;
                    color: #004d56 !important;
                    font-weight: 700;
                  }
                  .has-two-trips:hover {
                    background-color: #26c6da !important;
                  }
                  .has-many-trips {
                    background-color: #00bcd4 !important;
                    color: white !important;
                    font-weight: 800;
                  }
                  .has-many-trips:hover {
                    background-color: #00acc1 !important;
                  }
                `})]})})})]})}),s&&l.jsx(vz,{selectedDate:n,onClose:()=>o(!1),onCreate:T}),_&&l.jsx(_z,{trip:_,onClose:()=>x(null),onUpdate:C}),D&&l.jsx(wz,{tripId:D,onClose:()=>L(null)})]})};function My(){return My=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},My.apply(null,arguments)}function Az(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nz(t,e){if(t==null)return{};var n,r,a=Az(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function Cz(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Rz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ly(t,e){return Ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ly(t,e)}function Iz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ly(t,e)}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rf(t)}function WR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WR=function(){return!!t})()}function Dz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(t,e){if(e&&(Py(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dz(t)}function kz(t){var e=WR();return function(){var n,r=rf(t);if(e){var a=rf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oz(this,n)}}var KR={exports:{}},jz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Mz=jz,Pz=Mz;function QR(){}function XR(){}XR.resetWarningCache=QR;var Lz=function(){function t(r,a,i,s,o,u){if(u!==Pz){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XR,resetWarningCache:QR};return n.PropTypes=n,n};KR.exports=Lz();var JR=KR.exports;const on=af(JR);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function as(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}as.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};as.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};as.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function __(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}__.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,a=0;a<=t;a+=1){var i=a/t,s=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var u=s-n,h=o-r;e+=Math.sqrt(u*u+h*h)}n=s,r=o}return e};__.prototype._point=function(t,e,n,r,a){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+a*t*t*t};function Vz(t,e,n){var r,a,i,s=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,a),s||(r=a=null)};return function(){var h=Date.now();!o&&n.leading===!1&&(o=h);var d=e-(h-o);return r=this,a=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),o=h,i=t.apply(r,a),s||(r=a=null)):!s&&n.trailing!==!1&&(s=setTimeout(u,d)),i}}function Oe(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=Vz(Oe.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Oe.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(a){a.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(a))},this._handleMouseMove=function(a){n._mouseButtonDown&&n._strokeMoveUpdate(a)},this._handleMouseUp=function(a){a.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(a))},this._handleTouchStart=function(a){if(a.targetTouches.length===1){var i=a.changedTouches[0];n._strokeBegin(i)}},this._handleTouchMove=function(a){a.preventDefault();var i=a.targetTouches[0];n._strokeMoveUpdate(i)},this._handleTouchEnd=function(a){var i=a.target===n._canvas;i&&(a.preventDefault(),n._strokeEnd(a))},this.on()}Oe.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};Oe.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,a=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/a,s=n.height||this._canvas.height/a;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,i,s)},this._isEmpty=!1};Oe.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};Oe.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Oe.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Oe.prototype.isEmpty=function(){return this._isEmpty};Oe.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};Oe.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),a=this._data[this._data.length-1],i=a&&a[a.length-1],s=i&&r.distanceTo(i)<this.minDistance;if(!(i&&s)){var o=this._addPoint(r),u=o.curve,h=o.widths;u&&h&&this._drawCurve(u,h.start,h.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};Oe.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],a=r[r.length-1];n.equals(a)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};Oe.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Oe.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Oe.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Oe.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new as(t-r.left,e-r.top,n||new Date().getTime())};Oe.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var a=n.c1,i=new __(e[1],r,a,e[2]),s=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:s}}return{}};Oe.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,a=t.y-e.y,i=e.x-n.x,s=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},h=Math.sqrt(r*r+a*a),d=Math.sqrt(i*i+s*s),m=o.x-u.x,p=o.y-u.y,v=d/(h+d),S={x:u.x+m*v,y:u.y+p*v},A=e.x-S.x,N=e.y-S.y;return{c1:new as(o.x+A,o.y+N),c2:new as(u.x+A,u.y+N)}};Oe.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},a=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a);return r.start=this._lastWidth,r.end=i,this._lastVelocity=a,this._lastWidth=i,r};Oe.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};Oe.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};Oe.prototype._drawCurve=function(t,e,n){var r=this._ctx,a=n-e,i=Math.floor(t.length());r.beginPath();for(var s=0;s<i;s+=1){var o=s/i,u=o*o,h=u*o,d=1-o,m=d*d,p=m*d,v=p*t.startPoint.x;v+=3*m*o*t.control1.x,v+=3*d*u*t.control2.x,v+=h*t.endPoint.x;var S=p*t.startPoint.y;S+=3*m*o*t.control1.y,S+=3*d*u*t.control2.y,S+=h*t.endPoint.y;var A=e+h*a;this._drawPoint(v,S,A)}r.closePath(),r.fill()};Oe.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};Oe.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var a=t[r];if(a.length>1)for(var i=0;i<a.length;i+=1){var s=a[i],o=new as(s.x,s.y,s.time),u=s.color;if(i===0)this.penColor=u,this._reset(),this._addPoint(o);else if(i!==a.length-1){var h=this._addPoint(o),d=h.curve,m=h.widths;d&&m&&e(d,m,u)}}else{this._reset();var p=a[0];n(p)}}};Oe.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),a=0,i=0,s=n.width/r,o=n.height/r,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(e,function(y,_,x){var D=document.createElement("path");if(!isNaN(y.control1.x)&&!isNaN(y.control1.y)&&!isNaN(y.control2.x)&&!isNaN(y.control2.y)){var L="M "+y.startPoint.x.toFixed(3)+","+y.startPoint.y.toFixed(3)+" "+("C "+y.control1.x.toFixed(3)+","+y.control1.y.toFixed(3)+" ")+(y.control2.x.toFixed(3)+","+y.control2.y.toFixed(3)+" ")+(y.endPoint.x.toFixed(3)+","+y.endPoint.y.toFixed(3));D.setAttribute("d",L),D.setAttribute("stroke-width",(_.end*2.25).toFixed(3)),D.setAttribute("stroke",x),D.setAttribute("fill","none"),D.setAttribute("stroke-linecap","round"),u.appendChild(D)}},function(y){var _=document.createElement("circle"),x=typeof t.dotSize=="function"?t.dotSize():t.dotSize;_.setAttribute("r",x),_.setAttribute("cx",y.x),_.setAttribute("cy",y.y),_.setAttribute("fill",y.color),u.appendChild(_)});var h="data:image/svg+xml;base64,",d='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+a+" "+i+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",m=u.innerHTML;if(m===void 0){var p=document.createElement("dummy"),v=u.childNodes;p.innerHTML="";for(var S=0;S<v.length;S+=1)p.appendChild(v[S].cloneNode(!0));m=p.innerHTML}var A="</svg>",N=d+m+A;return h+btoa(N)};Oe.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};Oe.prototype.toData=function(){return this._data};var ZR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(qI,function(){return function(n){function r(i){if(a[i])return a[i].exports;var s=a[i]={exports:{},id:i,loaded:!1};return n[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var a={};return r.m=n,r.c=a,r.p="",r(0)}([function(n,r){function a(h){var d=h.getContext("2d"),m=h.width,p=h.height,v=d.getImageData(0,0,m,p).data,S=o(!0,m,p,v),A=o(!1,m,p,v),N=u(!0,m,p,v),y=u(!1,m,p,v),_=y-N+1,x=A-S+1,D=d.getImageData(N,S,_,x);return h.width=_,h.height=x,d.clearRect(0,0,_,x),d.putImageData(D,0,0),h}function i(h,d,m,p){return{red:p[4*(m*d+h)],green:p[4*(m*d+h)+1],blue:p[4*(m*d+h)+2],alpha:p[4*(m*d+h)+3]}}function s(h,d,m,p){return i(h,d,m,p).alpha}function o(h,d,m,p){for(var v=h?1:-1,S=h?0:m-1,A=S;h?A<m:A>-1;A+=v)for(var N=0;N<d;N++)if(s(N,A,d,p))return A;return null}function u(h,d,m,p){for(var v=h?1:-1,S=h?0:d-1,A=S;h?A<d:A>-1;A+=v)for(var N=0;N<m;N++)if(s(A,N,d,p))return A;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=a}])})})(ZR);var Uz=ZR.exports;const zz=af(Uz);var Bz=["canvasProps","clearOnResize"],hm=function(t){Iz(n,t);var e=kz(n);function n(){var r;Rz(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var u=Nz(o,Bz);return u},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new Oe(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),u=document.createElement("canvas");return u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),zz(u)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,u,h=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},d=h.width,m=h.height;if(!(typeof d<"u"&&typeof m<"u")){var p=r.getCanvas(),v=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof d>"u"&&(p.width=p.offsetWidth*v),typeof m>"u"&&(p.height=p.offsetHeight*v),p.getContext("2d").scale(v,v),r.clear()}},r.render=function(){var o=r.props.canvasProps;return cD.createElement("canvas",My({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,u){return r.getSignaturePad().fromDataURL(o,u)},r.toDataURL=function(o,u){return r.getSignaturePad().toDataURL(o,u)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return Cz(n)}(R.Component);hm.propTypes={velocityFilterWeight:on.number,minWidth:on.number,maxWidth:on.number,minDistance:on.number,dotSize:on.oneOfType([on.number,on.func]),penColor:on.string,throttle:on.number,onEnd:on.func,onBegin:on.func,canvasProps:on.object,clearOnResize:on.bool};hm.defaultProps={clearOnResize:!0};hm.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const Fz=`CANCELLATION POLICY

1. Cancellations made 30 days or more before the trip date will receive a full refund.
2. Cancellations made 15-29 days before the trip date will receive a 50% refund.
3. Cancellations made less than 15 days before the trip date are non-refundable.
4. No-shows on the trip date are non-refundable.
5. Trip organizers reserve the right to cancel trips due to weather, safety concerns, or insufficient participation, in which case full refunds will be provided.`,$z=`WAIVER OF LIABILITY AND ASSUMPTION OF RISK

I, the undersigned, hereby acknowledge that I am voluntarily participating in this trip and related activities. I understand that such participation involves inherent risks, including but not limited to personal injury, property damage, or death.

In consideration of being permitted to participate in this trip, I hereby:

1. WAIVE, RELEASE, AND DISCHARGE the trip organizers, their officers, employees, and agents from any and all liability for any loss, damage, injury, or death that may occur during my participation.

2. ASSUME ALL RISKS associated with participation in this trip, whether known or unknown.

3. AGREE TO INDEMNIFY AND HOLD HARMLESS the trip organizers from any claims, actions, or losses arising from my participation.

4. CONSENT to receive emergency medical treatment if necessary.

I have read this waiver, fully understand its terms, and sign it freely and voluntarily.`,qz=()=>{var G,re;const{tripId:t}=e2();Wo();const e=R.useRef(null),{language:n}=li(),[r,a]=R.useState(null),[i,s]=R.useState([]),[o,u]=R.useState(!0),[h,d]=R.useState(!1),[m,p]=R.useState(!1),[v,S]=R.useState(1),[A,N]=R.useState([]),[y,_]=R.useState([{firstName:"",lastName:"",email:"",phone:"",seatNumber:null}]),[x,D]=R.useState("on-trip"),[L,H]=R.useState(!1),[T,E]=R.useState({cancellationPolicy:!1,waiver:!1}),[b,C]=R.useState({});R.useEffect(()=>{O()},[t]),R.useEffect(()=>{const j=Array.from({length:v},(U,$)=>y[$]||{firstName:"",lastName:"",email:"",phone:"",seatNumber:null});_(j),N(j.map(U=>U.seatNumber).filter(Boolean))},[v]);const O=async()=>{try{console.log("Loading trip with ID:",t);const[j,U]=await Promise.all([$R(t),yz(t)]);console.log("Trip data loaded:",j),console.log("Registrations loaded:",U),a(j),s(U)}catch(j){console.error("Error loading trip data:",j),alert("Error loading trip: "+j.message)}finally{u(!1)}},k=()=>{var U;const j={};return y.forEach(($,Y)=>{$.firstName.trim()||(j[`passenger${Y}FirstName`]="First name is required"),$.lastName.trim()||(j[`passenger${Y}LastName`]="Last name is required"),$.email.trim()?/\S+@\S+\.\S+/.test($.email)||(j[`passenger${Y}Email`]="Email is invalid"):j[`passenger${Y}Email`]="Email is required",$.phone.trim()||(j[`passenger${Y}Phone`]="Phone number is required"),$.seatNumber||(j[`passenger${Y}Seat`]="Please select a seat")}),T.cancellationPolicy||(j.cancellationPolicy="You must agree to the cancellation policy"),T.waiver||(j.waiver="You must sign the waiver"),(U=e.current)!=null&&U.isEmpty()&&(j.signature="Signature is required"),C(j),Object.keys(j).length===0},I=async j=>{if(j.preventDefault(),!!k()){d(!0);try{const U=e.current.toDataURL();for(const $ of y)await qR({tripId:t,firstName:$.firstName,lastName:$.lastName,email:$.email,phone:$.phone,seatNumber:$.seatNumber,paymentMethod:x,paid:!1,signatureData:U,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,adminEmail:"barpupco@gmail.com",registrationDate:new Date().toISOString()});p(!0)}catch(U){console.error("Error submitting registration:",U),C({submit:"Failed to submit registration. Please try again."})}finally{d(!1)}}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"text-lg",children:"Loading trip information..."})}):r?m?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[l.jsx(Pr,{className:"w-16 h-16 mx-auto mb-4",style:{color:V.success}}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Thank you for registering for ",l.jsx("span",{className:"font-semibold",children:r.title}),"."]}),l.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Confirmation Email Sent!"}),l.jsx("p",{className:"text-xs text-blue-700",children:"A confirmation email with your trip details and signed waiver has been sent to:"}),l.jsx("p",{className:"text-sm font-semibold text-blue-900 mt-1",children:y[0].email}),y.length>1&&l.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Each passenger will receive their own confirmation email."})]})]})}),l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E0F7FA"},children:[l.jsx("p",{className:"font-semibold mb-2",style:{color:V.primary.teal},children:y.length===1?"Your Seat:":"Your Seats:"}),l.jsx("p",{className:"text-lg font-bold",children:y.map(j=>`#${j.seatNumber}`).join(", ")})]}),l.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[l.jsx("p",{children:"Please check your email inbox and spam folder."}),l.jsx("p",{className:"mt-2",children:"If you don't receive the email within 10 minutes, please contact support."})]})]})}):l.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:[l.jsx(v_,{showLogout:!1,title:r.title,subtitle:(G=r.date)==null?void 0:G.toDate().toLocaleDateString(n==="ru"?"ru-RU":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:l.jsxs("form",{onSubmit:I,className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Number of Seats"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many seats do you need? *"}),l.jsx("select",{value:v,onChange:j=>S(parseInt(j.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(j=>l.jsxs("option",{value:j,children:[j," ",j===1?"seat":"seats"]},j))})]})]}),y.map((j,U)=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Passenger ",U+1," Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:j.firstName,onChange:$=>{const Y=[...y];Y[U].firstName=$.target.value,_(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}FirstName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}FirstName`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}FirstName`]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:j.lastName,onChange:$=>{const Y=[...y];Y[U].lastName=$.target.value,_(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}LastName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}LastName`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}LastName`]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:U===0||!L?j.email:y[0].email,onChange:$=>{const Y=[...y];Y[U].email=$.target.value,_(Y),U===0&&L&&(Y.forEach((X,be)=>{be>0&&(X.email=$.target.value)}),_(Y))},disabled:U>0&&L,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Email`]?"border-red-500":"border-gray-300"} ${U>0&&L?"bg-gray-100":""}`}),b[`passenger${U}Email`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Email`]}),U===0&&v>1&&l.jsxs("label",{className:"flex items-center mt-2 text-sm text-gray-600",children:[l.jsx("input",{type:"checkbox",checked:L,onChange:$=>{if(H($.target.checked),$.target.checked){const Y=[...y],X=y[0].email;Y.forEach((be,q)=>{q>0&&(be.email=X)}),_(Y)}},className:"mr-2",style:{accentColor:V.primary.teal}}),"Use this email for all passengers"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",value:j.phone,onChange:$=>{const Y=[...y];Y[U].phone=$.target.value,_(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Phone`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}Phone`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Phone`]})]})]})]},U)),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Method"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:x==="card"?V.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"card",checked:x==="card",onChange:j=>D(j.target.value),className:"mr-3",style:{accentColor:V.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:x==="on-trip"?V.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"on-trip",checked:x==="on-trip",onChange:j=>D(j.target.value),className:"mr-3",style:{accentColor:V.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Seats to Passengers *"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a seat for each passenger from the dropdown below."}),y.map((j,U)=>{const $=r.vehicleLayout,Y=$==="sprinter_15"?14:$==="bus_30"?11:7;return l.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Seat for Passenger ",U+1,": ",j.firstName||"(Not entered)"," ",j.lastName||""," *"]}),l.jsxs("select",{value:j.seatNumber||"",onChange:X=>{const be=[...y];be[U].seatNumber=X.target.value?parseInt(X.target.value):null,_(be)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Seat`]?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a seat"}),Array.from({length:Y},(X,be)=>be+1).map(X=>{const be=i.some(Ne=>Ne.seatNumber===X),q=y.some((Ne,Te)=>Te!==U&&Ne.seatNumber===X),ne=be||q;return l.jsxs("option",{value:X,disabled:ne,children:["Seat #",X," ",be?"(Occupied)":q?"(Selected for another passenger)":""]},X)})]}),b[`passenger${U}Seat`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Seat`]})]},U)}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seating Map - Click to Select Seats"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tap on available (gray) seats to assign them to your passengers"}),y.some(j=>!j.seatNumber)&&l.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:l.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: Select seat for Passenger ",y.findIndex(j=>!j.seatNumber)+1,((re=y[y.findIndex(j=>!j.seatNumber)])==null?void 0:re.firstName)&&` (${y[y.findIndex(j=>!j.seatNumber)].firstName})`]})}),l.jsx(YR,{vehicleType:r.vehicleLayout,registrations:i,driverName:r.driverName,selectedSeat:null,onSeatClick:j=>{const U=y.findIndex($=>!$.seatNumber);if(U!==-1){const $=[...y];$[U].seatNumber=j,_($)}},reservedSeats:y.map(j=>j.seatNumber).filter(Boolean)}),y.some(j=>j.seatNumber)&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Seats:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((j,U)=>j.seatNumber&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded-full text-sm",children:[l.jsxs("span",{className:"font-semibold",children:["#",j.seatNumber]}),l.jsx("span",{className:"text-gray-600",children:j.firstName||`Passenger ${U+1}`}),l.jsx("button",{type:"button",onClick:()=>{const $=[...y];$[U].seatNumber=null,_($)},className:"text-red-500 hover:text-red-700",children:""})]},U))})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation Policy"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto mb-4",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:Fz})}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:T.cancellationPolicy,onChange:j=>E({...T,cancellationPolicy:j.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the cancellation policy *"})]}),b.cancellationPolicy&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.cancellationPolicy})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Waiver of Liability"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto mb-4",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:$z})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digital Signature *"}),l.jsx("div",{className:`border-2 rounded-lg ${b.signature?"border-red-500":"border-gray-300"}`,children:l.jsx(hm,{ref:e,canvasProps:{className:"w-full h-40 bg-white rounded-lg"}})}),l.jsx("button",{type:"button",onClick:()=>{var j;return(j=e.current)==null?void 0:j.clear()},className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Clear Signature"}),b.signature&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.signature})]}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:T.waiver,onChange:j=>E({...T,waiver:j.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"I have read, understand, and agree to the waiver of liability *"})]}),b.waiver&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.waiver})]}),b.submit&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:b.submit}),l.jsx("button",{type:"submit",disabled:h,style:{backgroundColor:V.primary.teal},className:"w-full text-white py-4 rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Submitting...":"Complete Registration"})]})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx(L4,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"This trip link may be invalid or expired."}),l.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("strong",{children:"Trip ID:"})," ",t]}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If you believe this is an error, please contact the trip organizer."})]})]})})},Hz=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[a,i]=R.useState(""),[s,o]=R.useState(!1),u=Wo(),h=async d=>{d.preventDefault(),i(""),o(!0);try{await Z9(y_,t,n),u("/admin")}catch(m){i("Invalid email or password"),console.error(m)}finally{o(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:V.gradient.primary},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(aM,{className:"w-12 h-12",style:{color:V.primary.teal}})}),l.jsx("h1",{className:"text-3xl font-bold text-center mb-8",style:{color:V.primary.black},children:"Admin Login"}),l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),a&&l.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:a}),l.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:V.primary.teal},className:"w-full text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]})]})})};var b_={},dm={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});function Gz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Yz=function t(e,n){Gz(this,t),this.data=e,this.text=n.text||e,this.options=n};Gt.default=Yz;Object.defineProperty(dm,"__esModule",{value:!0});dm.CODE39=void 0;var Wz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Kz=Gt,Qz=Xz(Kz);function Xz(t){return t&&t.__esModule?t:{default:t}}function Jz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function eB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tB=function(t){eB(e,t);function e(n,r){return Jz(this,e),n=n.toUpperCase(),r.mod43&&(n+=aB(iB(n))),Zz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Wz(e,[{key:"encode",value:function(){for(var r=Fp("*"),a=0;a<this.data.length;a++)r+=Fp(this.data[a])+"0";return r+=Fp("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(Qz.default),eI=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],nB=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Fp(t){return rB(tI(t))}function rB(t){return nB[t].toString(2)}function aB(t){return eI[t]}function tI(t){return eI.indexOf(t)}function iB(t){for(var e=0,n=0;n<t.length;n++)e+=tI(t[n]);return e=e%43,e}dm.CODE39=tB;var ur={},x_={},il={},Be={};Object.defineProperty(Be,"__esModule",{value:!0});var Fl;function $p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nI=Be.SET_A=0,rI=Be.SET_B=1,aI=Be.SET_C=2;Be.SHIFT=98;var sB=Be.START_A=103,oB=Be.START_B=104,lB=Be.START_C=105;Be.MODULO=103;Be.STOP=106;Be.FNC1=207;Be.SET_BY_CODE=(Fl={},$p(Fl,sB,nI),$p(Fl,oB,rI),$p(Fl,lB,aI),Fl);Be.SWAP={101:nI,100:rI,99:aI};Be.A_START_CHAR="";Be.B_START_CHAR="";Be.C_START_CHAR="";Be.A_CHARS="[\0-_-]";Be.B_CHARS="[ --]";Be.C_CHARS="(*[0-9]{2}*)";Be.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(il,"__esModule",{value:!0});var cB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),uB=Gt,hB=dB(uB),ln=Be;function dB(t){return t&&t.__esModule?t:{default:t}}function fB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gB=function(t){pB(e,t);function e(n,r){fB(this,e);var a=mB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return a.bytes=n.split("").map(function(i){return i.charCodeAt(0)}),a}return cB(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,a=r.shift()-105,i=ln.SET_BY_CODE[a];if(i===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(ln.FNC1);var s=e.next(r,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(a)+s.result+e.getBar((s.checksum+a)%ln.MODULO)+e.getBar(ln.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return ln.BARS[r]?ln.BARS[r].toString():""}},{key:"correctIndex",value:function(r,a){if(a===ln.SET_A){var i=r.shift();return i<32?i+64:i-32}else return a===ln.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,a,i){if(!r.length)return{result:"",checksum:0};var s=void 0,o=void 0;if(r[0]>=200){o=r.shift()-105;var u=ln.SWAP[o];u!==void 0?s=e.next(r,a+1,u):((i===ln.SET_A||i===ln.SET_B)&&o===ln.SHIFT&&(r[0]=i===ln.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,a+1,i))}else o=e.correctIndex(r,i),s=e.next(r,a+1,i);var h=e.getBar(o),d=o*a;return{result:h+s.result,checksum:d+s.checksum}}}]),e}(hB.default);il.default=gB;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});var Ya=Be,iI=function(e){return e.match(new RegExp("^"+Ya.A_CHARS+"*"))[0].length},sI=function(e){return e.match(new RegExp("^"+Ya.B_CHARS+"*"))[0].length},oI=function(e){return e.match(new RegExp("^"+Ya.C_CHARS+"*"))[0]};function E_(t,e){var n=e?Ya.A_CHARS:Ya.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+lI(t.substring(r[1].length));var a=t.match(new RegExp("^"+n+"+"))[0];return a.length===t.length?t:a+String.fromCharCode(e?205:206)+E_(t.substring(a.length),!e)}function lI(t){var e=oI(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=iI(t)>=sI(t);return e+String.fromCharCode(r?206:205)+E_(t,r)}w_.default=function(t){var e=void 0,n=oI(t).length;if(n>=2)e=Ya.C_START_CHAR+lI(t);else{var r=iI(t)>sI(t);e=(r?Ya.A_START_CHAR:Ya.B_START_CHAR)+E_(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,i){return""+i})};Object.defineProperty(x_,"__esModule",{value:!0});var yB=il,vB=cI(yB),_B=w_,bB=cI(_B);function cI(t){return t&&t.__esModule?t:{default:t}}function xB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var EB=function(t){wB(e,t);function e(n,r){if(xB(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=qp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,bB.default)(n),r));else var a=qp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return qp(a)}return e}(vB.default);x_.default=EB;var T_={};Object.defineProperty(T_,"__esModule",{value:!0});var TB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),SB=il,AB=NB(SB),SE=Be;function NB(t){return t&&t.__esModule?t:{default:t}}function CB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function IB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DB=function(t){IB(e,t);function e(n,r){return CB(this,e),RB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,SE.A_START_CHAR+n,r))}return TB(e,[{key:"valid",value:function(){return new RegExp("^"+SE.A_CHARS+"+$").test(this.data)}}]),e}(AB.default);T_.default=DB;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});var OB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),kB=il,jB=MB(kB),AE=Be;function MB(t){return t&&t.__esModule?t:{default:t}}function PB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function VB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var UB=function(t){VB(e,t);function e(n,r){return PB(this,e),LB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,AE.B_START_CHAR+n,r))}return OB(e,[{key:"valid",value:function(){return new RegExp("^"+AE.B_CHARS+"+$").test(this.data)}}]),e}(jB.default);S_.default=UB;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});var zB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),BB=il,FB=$B(BB),NE=Be;function $B(t){return t&&t.__esModule?t:{default:t}}function qB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function GB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var YB=function(t){GB(e,t);function e(n,r){return qB(this,e),HB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,NE.C_START_CHAR+n,r))}return zB(e,[{key:"valid",value:function(){return new RegExp("^"+NE.C_CHARS+"+$").test(this.data)}}]),e}(FB.default);A_.default=YB;Object.defineProperty(ur,"__esModule",{value:!0});ur.CODE128C=ur.CODE128B=ur.CODE128A=ur.CODE128=void 0;var WB=x_,KB=fm(WB),QB=T_,XB=fm(QB),JB=S_,ZB=fm(JB),eF=A_,tF=fm(eF);function fm(t){return t&&t.__esModule?t:{default:t}}ur.CODE128=KB.default;ur.CODE128A=XB.default;ur.CODE128B=ZB.default;ur.CODE128C=tF.default;var Jt={},N_={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.SIDE_BIN="101";Bn.MIDDLE_BIN="01010";Bn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Bn.EAN2_STRUCTURE=["LL","LG","GL","GG"];Bn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Bn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var mm={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});var nF=Bn,rF=function(e,n,r){var a=e.split("").map(function(s,o){return nF.BINARIES[n[o]]}).map(function(s,o){return s?s[e[o]]:""});if(r){var i=e.length-1;a=a.map(function(s,o){return o<i?s+r:s})}return a.join("")};_s.default=rF;Object.defineProperty(mm,"__esModule",{value:!0});var aF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ds=Bn,iF=_s,CE=uI(iF),sF=Gt,oF=uI(sF);function uI(t){return t&&t.__esModule?t:{default:t}}function lF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hF=function(t){uF(e,t);function e(n,r){lF(this,e);var a=cF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return aF(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,a){return this.text.substr(r,a)}},{key:"leftEncode",value:function(r,a){return(0,CE.default)(r,a)}},{key:"rightText",value:function(r,a){return this.text.substr(r,a)}},{key:"rightEncode",value:function(r,a){return(0,CE.default)(r,a)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:Ds.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Ds.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Ds.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var r=[Ds.SIDE_BIN,this.leftEncode(),Ds.MIDDLE_BIN,this.rightEncode(),Ds.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(oF.default);mm.default=hF;Object.defineProperty(N_,"__esModule",{value:!0});var dF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),$l=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},fF=Bn,mF=mm,pF=gF(mF);function gF(t){return t&&t.__esModule?t:{default:t}}function yF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _F(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var RE=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*3:r+a},0);return(10-n%10)%10},bF=function(t){_F(e,t);function e(n,r){yF(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=RE(n));var a=vF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.lastChar=r.lastChar,a}return dF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===RE(this.data)}},{key:"leftText",value:function(){return $l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),a=fF.EAN13_STRUCTURE[this.data[0]];return $l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,a)}},{key:"rightText",value:function(){return $l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return $l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=$l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(pF.default);N_.default=bF;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});var xF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bh=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},wF=mm,EF=TF(wF);function TF(t){return t&&t.__esModule?t:{default:t}}function SF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function NF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IE=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a:r+a*3},0);return(10-n%10)%10},CF=function(t){NF(e,t);function e(n,r){return SF(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=IE(n)),AF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return xF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===IE(this.data)}},{key:"leftText",value:function(){return bh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return bh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return bh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return bh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(EF.default);C_.default=CF;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});var RF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),IF=Bn,DF=_s,OF=hI(DF),kF=Gt,jF=hI(kF);function hI(t){return t&&t.__esModule?t:{default:t}}function MF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function LF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var VF=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*9:r+a*3},0);return n%10},UF=function(t){LF(e,t);function e(n,r){return MF(this,e),PF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return RF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=IF.EAN5_STRUCTURE[VF(this.data)];return{data:"1011"+(0,OF.default)(this.data,r,"01"),text:this.text}}}]),e}(jF.default);R_.default=UF;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});var zF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),BF=Bn,FF=_s,$F=dI(FF),qF=Gt,HF=dI(qF);function dI(t){return t&&t.__esModule?t:{default:t}}function GF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function WF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var KF=function(t){WF(e,t);function e(n,r){return GF(this,e),YF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return zF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=BF.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,$F.default)(this.data,r,"01"),text:this.text}}}]),e}(HF.default);I_.default=KF;var Au={};Object.defineProperty(Au,"__esModule",{value:!0});var QF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Au.checksum=Vy;var XF=_s,Os=fI(XF),JF=Gt,ZF=fI(JF);function fI(t){return t&&t.__esModule?t:{default:t}}function e$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function n$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var r$=function(t){n$(e,t);function e(n,r){e$(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Vy(n));var a=t$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return QF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Vy(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Os.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Os.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Os.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Os.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Os.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Os.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(ZF.default);function Vy(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}Au.default=r$;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});var a$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i$=_s,s$=mI(i$),o$=Gt,l$=mI(o$),c$=Au;function mI(t){return t&&t.__esModule?t:{default:t}}function u$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function h$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var d$=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],f$=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],m$=function(t){h$(e,t);function e(n,r){u$(this,e);var a=Hp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(a.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)a.middleDigits=n,a.upcA=DE(n,"0"),a.text=r.text||""+a.upcA[0]+n+a.upcA[a.upcA.length-1],a.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=n.substring(1,n.length-1),a.upcA=DE(a.middleDigits,n[0]),a.upcA[a.upcA.length-1]===n[n.length-1])a.isValid=!0;else return Hp(a);else return Hp(a);return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return a$(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],a=this.upcA[this.upcA.length-1],i=f$[parseInt(a)][parseInt(r)];return(0,s$.default)(this.middleDigits,i)}}]),e}(l$.default);function DE(t,e){for(var n=parseInt(t[t.length-1]),r=d$[n],a="",i=0,s=0;s<r.length;s++){var o=r[s];o==="X"?a+=t[i++]:a+=o}return a=""+e+a,""+a+(0,c$.checksum)(a)}D_.default=m$;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.UPCE=Jt.UPC=Jt.EAN2=Jt.EAN5=Jt.EAN8=Jt.EAN13=void 0;var p$=N_,g$=sl(p$),y$=C_,v$=sl(y$),_$=R_,b$=sl(_$),x$=I_,w$=sl(x$),E$=Au,T$=sl(E$),S$=D_,A$=sl(S$);function sl(t){return t&&t.__esModule?t:{default:t}}Jt.EAN13=g$.default;Jt.EAN8=v$.default;Jt.EAN5=b$.default;Jt.EAN2=w$.default;Jt.UPC=T$.default;Jt.UPCE=A$.default;var Mo={},pm={},Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});Nu.START_BIN="1010";Nu.END_BIN="11101";Nu.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(pm,"__esModule",{value:!0});var N$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xh=Nu,C$=Gt,R$=I$(C$);function I$(t){return t&&t.__esModule?t:{default:t}}function D$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function k$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var j$=function(t){k$(e,t);function e(){return D$(this,e),O$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return N$(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,a=this.data.match(/.{2}/g).map(function(i){return r.encodePair(i)}).join("");return{data:xh.START_BIN+a+xh.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var a=xh.BINARIES[r[1]];return xh.BINARIES[r[0]].split("").map(function(i,s){return(i==="1"?"111":"1")+(a[s]==="1"?"000":"0")}).join("")}}]),e}(R$.default);pm.default=j$;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});var M$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),P$=pm,L$=V$(P$);function V$(t){return t&&t.__esModule?t:{default:t}}function U$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function B$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var OE=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,a,i){return r+a*(3-i%2*2)},0);return Math.ceil(n/10)*10-n},F$=function(t){B$(e,t);function e(n,r){return U$(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=OE(n)),z$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return M$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===OE(this.data)}}]),e}(L$.default);O_.default=F$;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ITF14=Mo.ITF=void 0;var $$=pm,q$=pI($$),H$=O_,G$=pI(H$);function pI(t){return t&&t.__esModule?t:{default:t}}Mo.ITF=q$.default;Mo.ITF14=G$.default;var kn={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});var Y$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),W$=Gt,K$=Q$(W$);function Q$(t){return t&&t.__esModule?t:{default:t}}function X$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Z$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eq=function(t){Z$(e,t);function e(n,r){return X$(this,e),J$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Y$(e,[{key:"encode",value:function(){for(var r="110",a=0;a<this.data.length;a++){var i=parseInt(this.data[a]),s=i.toString(2);s=tq(s,4-s.length);for(var o=0;o<s.length;o++)r+=s[o]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(K$.default);function tq(t,e){for(var n=0;n<e;n++)t="0"+t;return t}bs.default=eq;var k_={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});xs.mod10=nq;xs.mod11=rq;function nq(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function rq(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var a=parseInt(t[t.length-1-r]);e+=n[r%n.length]*a}return(11-e%11)%11}Object.defineProperty(k_,"__esModule",{value:!0});var aq=bs,iq=oq(aq),sq=xs;function oq(t){return t&&t.__esModule?t:{default:t}}function lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function uq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hq=function(t){uq(e,t);function e(n,r){return lq(this,e),cq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,sq.mod10)(n),r))}return e}(iq.default);k_.default=hq;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});var dq=bs,fq=pq(dq),mq=xs;function pq(t){return t&&t.__esModule?t:{default:t}}function gq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _q=function(t){vq(e,t);function e(n,r){return gq(this,e),yq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,mq.mod11)(n),r))}return e}(fq.default);j_.default=_q;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});var bq=bs,xq=wq(bq),kE=xs;function wq(t){return t&&t.__esModule?t:{default:t}}function Eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Aq=function(t){Sq(e,t);function e(n,r){return Eq(this,e),n+=(0,kE.mod10)(n),n+=(0,kE.mod10)(n),Tq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(xq.default);M_.default=Aq;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});var Nq=bs,Cq=Rq(Nq),jE=xs;function Rq(t){return t&&t.__esModule?t:{default:t}}function Iq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Oq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kq=function(t){Oq(e,t);function e(n,r){return Iq(this,e),n+=(0,jE.mod11)(n),n+=(0,jE.mod10)(n),Dq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Cq.default);P_.default=kq;Object.defineProperty(kn,"__esModule",{value:!0});kn.MSI1110=kn.MSI1010=kn.MSI11=kn.MSI10=kn.MSI=void 0;var jq=bs,Mq=Cu(jq),Pq=k_,Lq=Cu(Pq),Vq=j_,Uq=Cu(Vq),zq=M_,Bq=Cu(zq),Fq=P_,$q=Cu(Fq);function Cu(t){return t&&t.__esModule?t:{default:t}}kn.MSI=Mq.default;kn.MSI10=Lq.default;kn.MSI11=Uq.default;kn.MSI1010=Bq.default;kn.MSI1110=$q.default;var gm={};Object.defineProperty(gm,"__esModule",{value:!0});gm.pharmacode=void 0;var qq=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hq=Gt,Gq=Yq(Hq);function Yq(t){return t&&t.__esModule?t:{default:t}}function Wq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xq=function(t){Qq(e,t);function e(n,r){Wq(this,e);var a=Kq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.number=parseInt(n,10),a}return qq(e,[{key:"encode",value:function(){for(var r=this.number,a="";!isNaN(r)&&r!=0;)r%2===0?(a="11100"+a,r=(r-2)/2):(a="100"+a,r=(r-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(Gq.default);gm.pharmacode=Xq;var ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.codabar=void 0;var Jq=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zq=Gt,eH=tH(Zq);function tH(t){return t&&t.__esModule?t:{default:t}}function nH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function aH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var iH=function(t){aH(e,t);function e(n,r){nH(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var a=rH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return Jq(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],a=this.getEncodings(),i=0;i<this.data.length;i++)r.push(a[this.data.charAt(i)]),i!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(eH.default);ym.codabar=iH;var Po={},vm={},Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});Ru.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Ru.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Ru.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(vm,"__esModule",{value:!0});var sH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wh=Ru,oH=Gt,lH=cH(oH);function cH(t){return t&&t.__esModule?t:{default:t}}function uH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fH=function(t){dH(e,t);function e(n,r){return uH(this,e),hH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return sH(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(o){return wh.MULTI_SYMBOLS[o]||o}),a=r.map(function(o){return e.getEncoding(o)}).join(""),i=e.checksum(r,20),s=e.checksum(r.concat(i),15);return{text:this.text,data:e.getEncoding("")+a+e.getEncoding(i)+e.getEncoding(s)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return wh.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return wh.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return wh.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,a){var i=r.slice().reverse().reduce(function(s,o,u){var h=u%a+1;return s+e.symbolValue(o)*h},0);return e.getSymbol(i%47)}}]),e}(lH.default);vm.default=fH;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});var mH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pH=vm,gH=yH(pH);function yH(t){return t&&t.__esModule?t:{default:t}}function vH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xH=function(t){bH(e,t);function e(n,r){return vH(this,e),_H(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return mH(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(gH.default);L_.default=xH;Object.defineProperty(Po,"__esModule",{value:!0});Po.CODE93FullASCII=Po.CODE93=void 0;var wH=vm,EH=gI(wH),TH=L_,SH=gI(TH);function gI(t){return t&&t.__esModule?t:{default:t}}Po.CODE93=EH.default;Po.CODE93FullASCII=SH.default;var _m={};Object.defineProperty(_m,"__esModule",{value:!0});_m.GenericBarcode=void 0;var AH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),NH=Gt,CH=RH(NH);function RH(t){return t&&t.__esModule?t:{default:t}}function IH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function OH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kH=function(t){OH(e,t);function e(n,r){return IH(this,e),DH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return AH(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(CH.default);_m.GenericBarcode=kH;Object.defineProperty(b_,"__esModule",{value:!0});var jH=dm,Eh=ur,ks=Jt,ME=Mo,ql=kn,MH=gm,PH=ym,PE=Po,LH=_m;b_.default={CODE39:jH.CODE39,CODE128:Eh.CODE128,CODE128A:Eh.CODE128A,CODE128B:Eh.CODE128B,CODE128C:Eh.CODE128C,EAN13:ks.EAN13,EAN8:ks.EAN8,EAN5:ks.EAN5,EAN2:ks.EAN2,UPC:ks.UPC,UPCE:ks.UPCE,ITF14:ME.ITF14,ITF:ME.ITF,MSI:ql.MSI,MSI10:ql.MSI10,MSI11:ql.MSI11,MSI1010:ql.MSI1010,MSI1110:ql.MSI1110,pharmacode:MH.pharmacode,codabar:PH.codabar,CODE93:PE.CODE93,CODE93FullASCII:PE.CODE93FullASCII,GenericBarcode:LH.GenericBarcode};var ol={};Object.defineProperty(ol,"__esModule",{value:!0});var VH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};ol.default=function(t,e){return VH({},t,e)};var V_={};Object.defineProperty(V_,"__esModule",{value:!0});V_.default=UH;function UH(t){var e=[];function n(r){if(Array.isArray(r))for(var a=0;a<r.length;a++)n(r[a]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var U_={};Object.defineProperty(U_,"__esModule",{value:!0});U_.default=zH;function zH(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var z_={},B_={},bm={};Object.defineProperty(bm,"__esModule",{value:!0});bm.default=BH;function BH(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var xm={};Object.defineProperty(xm,"__esModule",{value:!0});var FH={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};xm.default=FH;Object.defineProperty(B_,"__esModule",{value:!0});var $H=bm,qH=yI($H),HH=xm,LE=yI(HH);function yI(t){return t&&t.__esModule?t:{default:t}}function GH(t){var e={};for(var n in LE.default)LE.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,qH.default)(e),e}B_.default=GH;var F_={},$_={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.getTotalWidthOfEncodings=dn.calculateEncodingAttributes=dn.getBarcodePadding=dn.getEncodingHeight=dn.getMaximumHeightOfEncodings=void 0;var YH=ol,WH=KH(YH);function KH(t){return t&&t.__esModule?t:{default:t}}function vI(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function _I(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function QH(t,e,n){for(var r=0;r<t.length;r++){var a=t[r],i=(0,WH.default)(e,a.options),s;i.displayValue?s=ZH(a.text,i,n):s=0;var o=a.data.length*i.width;a.width=Math.ceil(Math.max(s,o)),a.height=vI(a,i),a.barcodePadding=_I(s,o,i)}}function XH(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function JH(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function ZH(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var a=r.measureText(t);if(!a)return 0;var i=a.width;return i}dn.getMaximumHeightOfEncodings=JH;dn.getEncodingHeight=vI;dn.getBarcodePadding=_I;dn.calculateEncodingAttributes=QH;dn.getTotalWidthOfEncodings=XH;Object.defineProperty($_,"__esModule",{value:!0});var eG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tG=ol,nG=rG(tG),Gp=dn;function rG(t){return t&&t.__esModule?t:{default:t}}function aG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var iG=function(){function t(e,n,r){aG(this,t),this.canvas=e,this.encodings=n,this.options=r}return eG(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,nG.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Gp.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Gp.getTotalWidthOfEncodings)(this.encodings),a=(0,Gp.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var a=this.canvas.getContext("2d"),i=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,a.fillStyle=n.lineColor;for(var o=0;o<i.length;o++){var u=o*n.width+r.barcodePadding;i[o]==="1"?a.fillRect(u,s,n.width,n.height):i[o]&&a.fillRect(u,s,n.width,n.height*i[o])}}},{key:"drawCanvasText",value:function(n,r){var a=this.canvas.getContext("2d"),i=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,o;n.textPosition=="top"?o=n.marginTop+n.fontSize-n.textMargin:o=n.height+n.textMargin+n.marginTop+n.fontSize,a.font=i,n.textAlign=="left"||r.barcodePadding>0?(s=0,a.textAlign="left"):n.textAlign=="right"?(s=r.width-1,a.textAlign="right"):(s=r.width/2,a.textAlign="center"),a.fillText(r.text,s,o)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();$_.default=iG;var q_={};Object.defineProperty(q_,"__esModule",{value:!0});var sG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oG=ol,lG=cG(oG),Yp=dn;function cG(t){return t&&t.__esModule?t:{default:t}}function uG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Th="http://www.w3.org/2000/svg",hG=function(){function t(e,n,r){uG(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return sG(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var a=this.encodings[r],i=(0,lG.default)(this.options,a.options),s=this.createGroup(n,i.marginTop,this.svg);this.setGroupOptions(s,i),this.drawSvgBarcode(s,i,a),this.drawSVGText(s,i,a),n+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Yp.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Yp.getTotalWidthOfEncodings)(this.encodings),r=(0,Yp.getMaximumHeightOfEncodings)(this.encodings),a=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,r),this.options.background&&this.drawRect(0,0,a,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,a){var i=a.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var o=0,u=0,h=0;h<i.length;h++)u=h*r.width+a.barcodePadding,i[h]==="1"?o++:o>0&&(this.drawRect(u-r.width*o,s,r.width*o,r.height,n),o=0);o>0&&this.drawRect(u-r.width*(o-1),s,r.width*o,r.height,n)}},{key:"drawSVGText",value:function(n,r,a){var i=this.document.createElementNS(Th,"text");if(r.displayValue){var s,o;i.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?o=r.fontSize-r.textMargin:o=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||a.barcodePadding>0?(s=0,i.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=a.width-1,i.setAttribute("text-anchor","end")):(s=a.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",s),i.setAttribute("y",o),i.appendChild(this.document.createTextNode(a.text)),n.appendChild(i)}}},{key:"setSvgAttributes",value:function(n,r){var a=this.svg;a.setAttribute("width",n+"px"),a.setAttribute("height",r+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+n+" "+r),a.setAttribute("xmlns",Th),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,a){var i=this.document.createElementNS(Th,"g");return i.setAttribute("transform","translate("+n+", "+r+")"),a.appendChild(i),i}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,a,i,s){var o=this.document.createElementNS(Th,"rect");return o.setAttribute("x",n),o.setAttribute("y",r),o.setAttribute("width",a),o.setAttribute("height",i),s.appendChild(o),o}}]),t}();q_.default=hG;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});var dG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function fG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mG=function(){function t(e,n,r){fG(this,t),this.object=e,this.encodings=n,this.options=r}return dG(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();H_.default=mG;Object.defineProperty(F_,"__esModule",{value:!0});var pG=$_,gG=G_(pG),yG=q_,vG=G_(yG),_G=H_,bG=G_(_G);function G_(t){return t&&t.__esModule?t:{default:t}}F_.default={CanvasRenderer:gG.default,SVGRenderer:vG.default,ObjectRenderer:bG.default};var ll={};Object.defineProperty(ll,"__esModule",{value:!0});function Y_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function K_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xG=function(t){K_(e,t);function e(n,r){Y_(this,e);var a=W_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.name="InvalidInputException",a.symbology=n,a.input=r,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return e}(Error),wG=function(t){K_(e,t);function e(){Y_(this,e);var n=W_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),EG=function(t){K_(e,t);function e(){Y_(this,e);var n=W_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);ll.InvalidInputException=xG;ll.InvalidElementException=wG;ll.NoElementException=EG;Object.defineProperty(z_,"__esModule",{value:!0});var TG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SG=B_,Uy=bI(SG),AG=F_,rc=bI(AG),NG=ll;function bI(t){return t&&t.__esModule?t:{default:t}}function Q_(t){if(typeof t=="string")return CG(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(Q_(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return RG(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Uy.default)(t),renderer:rc.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Uy.default)(t),renderer:rc.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:rc.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":TG(t))==="object"&&!t.nodeName)return{element:t,renderer:rc.default.ObjectRenderer};throw new NG.InvalidElementException}}function CG(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(Q_(e[r]));return n}}function RG(t){var e=document.createElement("canvas");return{element:e,options:(0,Uy.default)(t),renderer:rc.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}z_.default=Q_;var X_={};Object.defineProperty(X_,"__esModule",{value:!0});var IG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function DG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var OG=function(){function t(e){DG(this,t),this.api=e}return IG(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(a){return this.handleCatch(a),this.api}}}]),t}();X_.default=OG;var kG=b_,Yi=gi(kG),jG=ol,Iu=gi(jG),MG=V_,xI=gi(MG),PG=U_,VE=gi(PG),LG=z_,VG=gi(LG),UG=bm,zG=gi(UG),BG=X_,FG=gi(BG),wI=ll,$G=xm,EI=gi($G);function gi(t){return t&&t.__esModule?t:{default:t}}var Hr=function(){},wm=function(e,n,r){var a=new Hr;if(typeof e>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,VG.default)(e),a._encodings=[],a._options=EI.default,a._errorHandler=new FG.default(a),typeof n<"u"&&(r=r||{},r.format||(r.format=SI()),a.options(r)[r.format](n,r).render()),a};wm.getModule=function(t){return Yi.default[t]};for(var UE in Yi.default)Yi.default.hasOwnProperty(UE)&&qG(Yi.default,UE);function qG(t,e){Hr.prototype[e]=Hr.prototype[e.toUpperCase()]=Hr.prototype[e.toLowerCase()]=function(n,r){var a=this;return a._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var i=(0,Iu.default)(a._options,r);i=(0,zG.default)(i);var s=t[e],o=TI(n,s,i);return a._encodings.push(o),a})}}function TI(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new wI.InvalidInputException(r.constructor.name,t);var a=r.encode();a=(0,xI.default)(a);for(var i=0;i<a.length;i++)a[i].options=(0,Iu.default)(n,a[i].options);return a}function SI(){return Yi.default.CODE128?"CODE128":Object.keys(Yi.default)[0]}Hr.prototype.options=function(t){return this._options=(0,Iu.default)(this._options,t),this};Hr.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Hr.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Iu.default)(this._options,t.options);n.format=="auto"&&(n.format=SI()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,a=Yi.default[n.format.toUpperCase()],i=TI(r,a,n);zy(t,i,n)})}}};Hr.prototype.render=function(){if(!this._renderProperties)throw new wI.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)zy(this._renderProperties[t],this._encodings,this._options);else zy(this._renderProperties,this._encodings,this._options);return this};Hr.prototype._defaults=EI.default;function zy(t,e,n){e=(0,xI.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Iu.default)(n,e[r].options),(0,VE.default)(e[r].options);(0,VE.default)(n);var a=t.renderer,i=new a(t.element,e,n);i.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=wm);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),wm(n,t,e)});var HG=wm;function Zh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Zh=function(n){return typeof n}:Zh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Zh(t)}var Bs=J_(R),GG=J_(HG),Ye=J_(JR);function J_(t){return t&&t.__esModule?t:{default:t}}function YG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KG(t,e,n){return e&&WG(t.prototype,e),t}function QG(t,e){return e&&(Zh(e)==="object"||typeof e=="function")?e:AI(t)}function By(t){return By=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},By(t)}function AI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Fy(t,e)}function Fy(t,e){return Fy=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Fy(t,e)}var $y,Wp=Bs.default.version.split(/[.-]/);Wp[0]==="0"&&(Wp[1]==="13"||Wp[1]==="12")?$y=function(e){return e.getDOMNode()}:$y=function(e){return e};var Z_=function(t){XG(e,t);function e(n){var r;return YG(this,e),r=QG(this,By(e).call(this,n)),r.renderElementRef=Bs.default.createRef(),r.update=r.update.bind(AI(r)),r}return KG(e,[{key:"shouldComponentUpdate",value:function(r){var a=this;return Object.keys(e.propTypes).some(function(i){return a.props[i]!==r[i]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=$y(this.renderElementRef.current);try{new GG.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(a){window.console.error(a)}}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.className;if(this.props.renderer==="svg")return Bs.default.createElement("svg",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="canvas")return Bs.default.createElement("canvas",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="img")return Bs.default.createElement("img",{ref:this.renderElementRef,id:a,className:i})}}]),e}(Bs.default.Component);Z_.propTypes={value:Ye.default.string.isRequired,text:Ye.default.string,renderer:Ye.default.string,format:Ye.default.string,width:Ye.default.number,height:Ye.default.number,displayValue:Ye.default.bool,fontOptions:Ye.default.string,font:Ye.default.string,textAlign:Ye.default.string,textPosition:Ye.default.string,textMargin:Ye.default.number,fontSize:Ye.default.number,background:Ye.default.string,lineColor:Ye.default.string,margin:Ye.default.number,marginTop:Ye.default.number,marginBottom:Ye.default.number,marginLeft:Ye.default.number,marginRight:Ye.default.number,id:Ye.default.string,className:Ye.default.string,ean128:Ye.default.bool};Z_.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var JG=Z_;const NI=af(JG),ZG=({onClose:t})=>{const[e,n]=R.useState({recipientName:"",senderName:"",amount:"",message:"",expiryDate:""}),[r,a]=R.useState(!1),[i,s]=R.useState(!1),[o,u]=R.useState(""),h=(p,v)=>{n(S=>({...S,[p]:v}))},d=()=>{const p="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let v="GC";for(let S=0;S<10;S++)v+=p.charAt(Math.floor(Math.random()*p.length));return v},m=async p=>{if(p.preventDefault(),!e.recipientName||!e.senderName||!e.amount||!e.expiryDate){alert("Please fill in all required fields");return}a(!0);try{const v=d(),S={recipientName:e.recipientName,senderName:e.senderName,amount:parseFloat(e.amount),message:e.message||"Wishing you wonderful adventures!",expiryDate:_e.fromDate(new Date(e.expiryDate)),createdAt:_e.now(),redeemed:!1,barcodeId:v};await t_(ys(qt,"giftCards"),S),u(v),s(!0),setTimeout(()=>{t()},3e3)}catch(v){console.error("Error creating gift card:",v),alert("Failed to create gift card. Please try again."),a(!1)}};return i?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx($r,{className:"w-8 h-8 text-green-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gift Card Created!"}),l.jsx("p",{className:"text-gray-600",children:"Your gift card has been generated successfully"})]}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-4",children:l.jsx(NI,{value:o,width:2,height:80,fontSize:14,background:"#F9FAFB"})}),l.jsx("p",{className:"text-sm text-gray-500",children:"Closing in a moment..."})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx($r,{className:"w-6 h-6",style:{color:V.primary.teal}}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Gift Card"})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Ko,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:m,className:"p-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Id,{className:"w-4 h-4"}),"Recipient Name *"]}),l.jsx("input",{type:"text",value:e.recipientName,onChange:p=>h("recipientName",p.target.value),placeholder:"Who is this gift card for?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Id,{className:"w-4 h-4"}),"Your Name (Sender) *"]}),l.jsx("input",{type:"text",value:e.senderName,onChange:p=>h("senderName",p.target.value),placeholder:"Your name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Z0,{className:"w-4 h-4"}),"Gift Card Amount *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{type:"number",min:"1",step:"0.01",value:e.amount,onChange:p=>h("amount",p.target.value),placeholder:"100.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(uM,{className:"w-4 h-4"}),"Personal Message (Optional)"]}),l.jsx("textarea",{value:e.message,onChange:p=>h("message",p.target.value),placeholder:"Write a personalized message for the recipient...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Pi,{className:"w-4 h-4"}),"Expiry Date *"]}),l.jsx("input",{type:"date",value:e.expiryDate,onChange:p=>h("expiryDate",p.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," A unique barcode will be generated for this gift card. The recipient will receive a shareable link with a beautiful reveal animation."]})})]}),l.jsxs("div",{className:"flex gap-3 mt-8",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,style:{backgroundColor:V.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:r?l.jsxs(l.Fragment,{children:[l.jsx(nM,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Creating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx($r,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Gift Card"})]})})]})]})]})})},eY=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!1),[a,i]=R.useState(!0),[s,o]=R.useState(null),[u,h]=R.useState(null),[d,m]=R.useState("all");R.useEffect(()=>{const y=Kv(ys(qt,"giftCards"),QV("createdAt","desc")),_=VC(y,x=>{const D=x.docs.map(L=>({id:L.id,...L.data()}));e(D),i(!1)});return()=>_()},[]);const p=y=>{const _=`${window.location.origin}/PlanYourTripNow/gift/${y}`;navigator.clipboard.writeText(_),o(y),setTimeout(()=>o(null),2e3)},v=async y=>{if(confirm("Are you sure you want to delete this gift card? This action cannot be undone.")){h(y);try{await e_(ta(qt,"giftCards",y))}catch(_){console.error("Error deleting gift card:",_),alert("Failed to delete gift card. Please try again.")}finally{h(null)}}},A=(()=>{const y=new Date;return d==="all"?t:t.filter(_=>{var D,L;const x=((L=(D=_.expiryDate)==null?void 0:D.toDate)==null?void 0:L.call(D))||new Date(_.expiryDate);return d==="redeemed"?_.redeemed:d==="expired"?!_.redeemed&&x<y:d==="active"?!_.redeemed&&x>=y:!0})})(),N=y=>{var D,L;return y.redeemed?{bg:"#D1FAE5",text:"#065F46",label:"Redeemed"}:(((L=(D=y.expiryDate)==null?void 0:D.toDate)==null?void 0:L.call(D))||new Date(y.expiryDate))<new Date?{bg:"#FEE2E2",text:"#991B1B",label:"Expired"}:{bg:"#DBEAFE",text:"#1E40AF",label:"Active"}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(v_,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[l.jsx($r,{className:"w-8 h-8",style:{color:V.primary.teal}}),"Gift Cards"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage gift cards for your trips"})]}),l.jsxs("button",{onClick:()=>r(!0),style:{backgroundColor:V.primary.teal},className:"flex items-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity shadow-lg",children:[l.jsx(g2,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Gift Card"})]})]}),l.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","active","redeemed","expired"].map(y=>l.jsx("button",{onClick:()=>m(y),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d===y?"text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,style:d===y?{backgroundColor:V.primary.teal}:{},children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),a?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:"Loading gift cards..."})}):A.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[l.jsx($r,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:d==="all"?"No gift cards created yet":`No ${d} gift cards found`}),l.jsx("button",{onClick:()=>r(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Create your first gift card"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(y=>{var x,D;const _=N(y);return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-2",style:{borderColor:V.primary.teal},children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-1",children:y.recipientName}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:_.bg,color:_.text},children:_.label})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:y.message}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Z0,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:[l.jsxs("span",{className:"font-semibold",children:["$",y.amount]})," value"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Pi,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:["Expires: ",((D=(x=y.expiryDate)==null?void 0:x.toDate)==null?void 0:D.call(x).toLocaleDateString())||new Date(y.expiryDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Id,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:["From: ",y.senderName]})]})]}),y.redeemed&&l.jsx("div",{className:"mb-4 p-2 bg-green-50 rounded-lg",children:l.jsxs("p",{className:"text-xs text-green-700",children:["Redeemed on ",new Date(y.redeemedAt).toLocaleDateString()]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(y.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:s===y.id?V.success:V.primary.teal},children:s===y.id?l.jsxs(l.Fragment,{children:[l.jsx(Nf,{className:"w-4 h-4"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(J0,{className:"w-4 h-4"}),l.jsx("span",{children:"Share"})]})}),l.jsxs("a",{href:`/PlanYourTripNow/gift/${y.id}`,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:V.primary.black},className:"flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:[l.jsx(K4,{className:"w-4 h-4"}),l.jsx("span",{children:"View"})]}),l.jsx("button",{onClick:()=>v(y.id),disabled:u===y.id,style:{backgroundColor:V.button.danger},className:"flex items-center justify-center px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Cf,{className:"w-4 h-4"})})]})]},y.id)})})]}),n&&l.jsx(ZG,{onClose:()=>r(!1)})]})},tY=()=>{var S,A;const{giftCardId:t}=e2(),[e,n]=R.useState(null),[r,a]=R.useState(!0),[i,s]=R.useState(null),[o,u]=R.useState(!1),[h,d]=R.useState(!1);R.useEffect(()=>{(async()=>{try{const y=ta(qt,"giftCards",t),_=await PC(y);_.exists()?n({id:_.id,..._.data()}):s("Gift card not found")}catch(y){console.error("Error fetching gift card:",y),s("Failed to load gift card")}finally{a(!1)}})()},[t]);const m=async()=>{if(u(!0),d(!0),e&&!e.redeemed)try{const N=ta(qt,"giftCards",t);await Zv(N,{redeemed:!0,redeemedAt:_e.now()}),n(y=>({...y,redeemed:!0,redeemedAt:new Date}))}catch(N){console.error("Error marking gift card as redeemed:",N)}setTimeout(()=>d(!1),5e3)};if(r)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx($r,{className:"w-16 h-16 mx-auto mb-4 text-purple-600 animate-pulse"}),l.jsx("p",{className:"text-xl text-gray-700",children:"Loading your gift..."})]})});if(i)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx($r,{className:"w-10 h-10 text-red-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops!"}),l.jsx("p",{className:"text-gray-600",children:i})]})});const p=((A=(S=e.expiryDate)==null?void 0:S.toDate)==null?void 0:A.call(S))||new Date(e.expiryDate),v=p<new Date;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4 relative overflow-hidden",children:[h&&l.jsx("div",{className:"confetti-container",children:[...Array(50)].map((N,y)=>l.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*5)]}},y))}),o?l.jsx("div",{className:"gift-card-reveal max-w-2xl w-full",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-8 text-white text-center relative overflow-hidden",style:{backgroundColor:V.primary.teal},children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsx(dM,{className:"w-16 h-16 mx-auto mb-4"}),l.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Congratulations!"}),l.jsx("p",{className:"text-xl opacity-90",children:"You've received a gift card"})]})]}),l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("p",{className:"text-gray-600 mb-2",children:"Dear"}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:e.recipientName}),l.jsxs("div",{className:"inline-block px-8 py-4 rounded-2xl text-white mb-6",style:{backgroundColor:V.primary.teal},children:[l.jsx(Z0,{className:"w-8 h-8 inline-block mb-1"}),l.jsx("span",{className:"text-5xl font-bold",children:e.amount})]})]}),e.message&&l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-8",children:[l.jsxs("p",{className:"text-gray-700 text-lg italic text-center leading-relaxed",children:['"',e.message,'"']}),l.jsxs("p",{className:"text-gray-600 text-right mt-4",children:["- ",e.senderName]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[l.jsx(Id,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:"From"}),l.jsx("p",{className:"font-semibold text-gray-900",children:e.senderName})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[l.jsx(Pi,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:"Expires"}),l.jsx("p",{className:"font-semibold text-gray-900",children:p.toLocaleDateString()})]})]})]}),l.jsxs("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Gift Card Code"}),l.jsx("div",{className:"flex justify-center",children:l.jsx(NI,{value:e.barcodeId,width:2,height:60,fontSize:14,background:"transparent"})}),l.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Present this code when booking your trip"})]}),v&&l.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-red-700 font-medium",children:"This gift card has expired"})}),e.redeemed&&!v&&l.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-green-700 font-medium",children:"Gift card revealed! Contact us to redeem."})}),!v&&!e.redeemed&&l.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-blue-700 font-medium",children:"Ready to use! Contact us to book your amazing trip."})})]})]})}):l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"gift-box-container mb-8",onClick:m,children:l.jsxs("div",{className:"gift-box",children:[l.jsx("div",{className:"gift-box-lid",children:l.jsx("div",{className:"gift-ribbon-horizontal"})}),l.jsx("div",{className:"gift-box-body",children:l.jsx("div",{className:"gift-ribbon-vertical"})})]})}),l.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[l.jsx(gx,{className:"w-8 h-8 text-yellow-500"}),"You've Got a Gift!",l.jsx(gx,{className:"w-8 h-8 text-yellow-500"})]}),l.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Click the gift box to reveal your surprise"}),l.jsx("div",{className:"animate-bounce",children:l.jsx($r,{className:"w-12 h-12 mx-auto text-purple-600"})})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function nY(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{h(r.next(d))}catch(m){s(m)}}function u(d){try{h(r.throw(d))}catch(m){s(m)}}function h(d){d.done?i(d.value):a(d.value).then(o,u)}h((r=r.apply(t,[])).next())})}function rY(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(h){return function(d){return u([h,d])}}function u(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(h[0]===6&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],a=0}finally{r=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ro=function(){return ro=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ro.apply(this,arguments)},CI=function(t){return{loading:t==null,value:t}},aY=function(){return function(t,e){switch(e.type){case"error":return ro(ro({},t),{error:e.error,loading:!1,value:void 0});case"reset":return CI(e.defaultValue);case"value":return ro(ro({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},iY=function(t){var e=t?t():void 0,n=R.useReducer(aY(),CI(e)),r=n[0],a=n[1],i=R.useCallback(function(){var u=t?t():void 0;a({type:"reset",defaultValue:u})},[t]),s=R.useCallback(function(u){a({type:"error",error:u})},[]),o=R.useCallback(function(u){a({type:"value",value:u})},[]);return R.useMemo(function(){return{error:r.error,loading:r.loading,reset:i,setError:s,setValue:o,value:r.value}},[r.error,r.loading,i,s,o,r.value])},sY=function(t,e){var n=iY(function(){return t.currentUser}),r=n.error,a=n.loading,i=n.setError,s=n.setValue,o=n.value;return R.useEffect(function(){var u=nU(t,function(h){return nY(void 0,void 0,void 0,function(){var d;return rY(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return m.sent(),[3,4];case 3:return d=m.sent(),i(d),[3,4];case 4:return s(h),[2]}})})},i);return function(){u()}},[t]),[o,a,r]};const zE=({children:t})=>{const[e,n]=sY(y_);return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:l.jsx(Vj,{to:"/login"})};function oY(){return l.jsx(b4,{children:l.jsx(u4,{basename:"/PlanYourTripNow",children:l.jsxs(zj,{children:[l.jsx(ji,{path:"/",element:l.jsx(NM,{})}),l.jsx(ji,{path:"/admin",element:l.jsx(zE,{children:l.jsx(Sz,{})})}),l.jsx(ji,{path:"/login",element:l.jsx(Hz,{})}),l.jsx(ji,{path:"/register/:tripId",element:l.jsx(qz,{})}),l.jsx(ji,{path:"/gift/:giftCardId",element:l.jsx(tY,{})}),l.jsx(ji,{path:"/gift-cards",element:l.jsx(zE,{children:l.jsx(eY,{})})})]})})})}Fk.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(oY,{})}));
