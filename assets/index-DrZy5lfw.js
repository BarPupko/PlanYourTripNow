(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var zI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var BE={exports:{}},rf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=Symbol.for("react.transitional.element"),FI=Symbol.for("react.fragment");function FE(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:BI,type:t,key:r,ref:e!==void 0?e:null,props:n}}rf.Fragment=FI;rf.jsx=FE;rf.jsxs=FE;BE.exports=rf;var u=BE.exports,$E={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=Symbol.for("react.transitional.element"),$I=Symbol.for("react.portal"),qI=Symbol.for("react.fragment"),HI=Symbol.for("react.strict_mode"),GI=Symbol.for("react.profiler"),YI=Symbol.for("react.consumer"),WI=Symbol.for("react.context"),KI=Symbol.for("react.forward_ref"),QI=Symbol.for("react.suspense"),XI=Symbol.for("react.memo"),qE=Symbol.for("react.lazy"),JI=Symbol.for("react.activity"),I1=Symbol.iterator;function ZI(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var HE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GE=Object.assign,YE={};function Lo(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||HE}Lo.prototype.isReactComponent={};Lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function WE(){}WE.prototype=Lo.prototype;function Fy(t,e,n){this.props=t,this.context=e,this.refs=YE,this.updater=n||HE}var $y=Fy.prototype=new WE;$y.constructor=Fy;GE($y,Lo.prototype);$y.isPureReactComponent=!0;var O1=Array.isArray;function Yp(){}var Ve={H:null,A:null,T:null,S:null},KE=Object.prototype.hasOwnProperty;function qy(t,e,n){var r=n.ref;return{$$typeof:By,type:t,key:e,ref:r!==void 0?r:null,props:n}}function eO(t,e){return qy(t.type,e,t.props)}function Hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===By}function tO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D1=/\/+/g;function km(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tO(""+t.key):e.toString(36)}function nO(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Yp,Yp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ks(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case By:case $I:s=!0;break;case qE:return s=t._init,ks(s(t._payload),e,n,r,a)}}if(s)return a=a(t),s=r===""?"."+km(t,0):r,O1(a)?(n="",s!=null&&(n=s.replace(D1,"$&/")+"/"),ks(a,e,n,"",function(h){return h})):a!=null&&(Hy(a)&&(a=eO(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(D1,"$&/")+"/")+s)),e.push(a)),1;s=0;var o=r===""?".":r+":";if(O1(t))for(var c=0;c<t.length;c++)r=t[c],i=o+km(r,c),s+=ks(r,e,n,i,a);else if(c=ZI(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,i=o+km(r,c++),s+=ks(r,e,n,i,a);else if(i==="object"){if(typeof t.then=="function")return ks(nO(t),e,n,r,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Hu(t,e,n){if(t==null)return t;var r=[],a=0;return ks(t,r,"","",function(i){return e.call(n,i,a++)}),r}function rO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var k1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},aO={map:Hu,forEach:function(t,e,n){Hu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hu(t,function(){e++}),e},toArray:function(t){return Hu(t,function(e){return e})||[]},only:function(t){if(!Hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Activity=JI;ie.Children=aO;ie.Component=Lo;ie.Fragment=qI;ie.Profiler=GI;ie.PureComponent=Fy;ie.StrictMode=HI;ie.Suspense=QI;ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ve;ie.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ve.H.useMemoCache(t)}};ie.cache=function(t){return function(){return t.apply(null,arguments)}};ie.cacheSignal=function(){return null};ie.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=GE({},t.props),a=t.key;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)!KE.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(r[i]=e[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return qy(t.type,a,r)};ie.createContext=function(t){return t={$$typeof:WI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:YI,_context:t},t};ie.createElement=function(t,e,n){var r,a={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)KE.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=e[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),c=0;c<s;c++)o[c]=arguments[c+2];a.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return qy(t,i,a)};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:KI,render:t}};ie.isValidElement=Hy;ie.lazy=function(t){return{$$typeof:qE,_payload:{_status:-1,_result:t},_init:rO}};ie.memo=function(t,e){return{$$typeof:XI,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Ve.T,n={};Ve.T=n;try{var r=t(),a=Ve.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Yp,k1)}catch(i){k1(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ve.T=e}};ie.unstable_useCacheRefresh=function(){return Ve.H.useCacheRefresh()};ie.use=function(t){return Ve.H.use(t)};ie.useActionState=function(t,e,n){return Ve.H.useActionState(t,e,n)};ie.useCallback=function(t,e){return Ve.H.useCallback(t,e)};ie.useContext=function(t){return Ve.H.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t,e){return Ve.H.useDeferredValue(t,e)};ie.useEffect=function(t,e){return Ve.H.useEffect(t,e)};ie.useEffectEvent=function(t){return Ve.H.useEffectEvent(t)};ie.useId=function(){return Ve.H.useId()};ie.useImperativeHandle=function(t,e,n){return Ve.H.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Ve.H.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Ve.H.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Ve.H.useMemo(t,e)};ie.useOptimistic=function(t,e){return Ve.H.useOptimistic(t,e)};ie.useReducer=function(t,e,n){return Ve.H.useReducer(t,e,n)};ie.useRef=function(t){return Ve.H.useRef(t)};ie.useState=function(t){return Ve.H.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Ve.H.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Ve.H.useTransition()};ie.version="19.2.3";$E.exports=ie;var I=$E.exports;const iO=nf(I);var QE={exports:{}},af={},XE={exports:{}},JE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var q=j.length;j.push(U);e:for(;0<q;){var W=q-1>>>1,L=j[W];if(0<a(L,U))j[W]=U,j[q]=L,q=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],q=j.pop();if(q!==U){j[0]=q;e:for(var W=0,L=j.length,X=L>>>1;W<X;){var Oe=2*(W+1)-1,we=j[Oe],Se=Oe+1,Ht=j[Se];if(0>a(we,q))Se<L&&0>a(Ht,we)?(j[W]=Ht,j[Se]=q,W=Se):(j[W]=we,j[Oe]=q,W=Oe);else if(Se<L&&0>a(Ht,q))j[W]=Ht,j[Se]=q,W=Se;else break e}}return U}function a(j,U){var q=j.sortIndex-U.sortIndex;return q!==0?q:j.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],h=[],d=1,m=null,p=3,v=!1,S=!1,A=!1,R=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function O(j){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=j)r(h),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(h)}}function V(j){if(A=!1,O(j),!S)if(n(c)!==null)S=!0,H||(H=!0,k());else{var U=n(h);U!==null&&re(V,U.startTime-j)}}var H=!1,T=-1,w=5,b=-1;function N(){return R?!0:!(t.unstable_now()-b<w)}function D(){if(R=!1,H){var j=t.unstable_now();b=j;var U=!0;try{e:{S=!1,A&&(A=!1,_(T),T=-1),v=!0;var q=p;try{t:{for(O(j),m=n(c);m!==null&&!(m.expirationTime>j&&N());){var W=m.callback;if(typeof W=="function"){m.callback=null,p=m.priorityLevel;var L=W(m.expirationTime<=j);if(j=t.unstable_now(),typeof L=="function"){m.callback=L,O(j),U=!0;break t}m===n(c)&&r(c),O(j)}else r(c);m=n(c)}if(m!==null)U=!0;else{var X=n(h);X!==null&&re(V,X.startTime-j),U=!1}}break e}finally{m=null,p=q,v=!1}U=void 0}}finally{U?k():H=!1}}}var k;if(typeof E=="function")k=function(){E(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,G=C.port2;C.port1.onmessage=D,k=function(){G.postMessage(null)}}else k=function(){y(D,0)};function re(j,U){T=y(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var q=p;p=U;try{return j()}finally{p=q}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return U()}finally{p=q}},t.unstable_scheduleCallback=function(j,U,q){var W=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?W+q:W):q=W,j){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=q+L,j={id:d++,callback:U,priorityLevel:j,startTime:q,expirationTime:L,sortIndex:-1},q>W?(j.sortIndex=q,e(h,j),n(c)===null&&j===n(h)&&(A?(_(T),T=-1):A=!0,re(V,q-W))):(j.sortIndex=L,e(c,j),S||v||(S=!0,H||(H=!0,k()))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var U=p;return function(){var q=p;p=U;try{return j.apply(this,arguments)}finally{p=q}}}})(JE);XE.exports=JE;var sO=XE.exports,ZE={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO=I;function eT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ma(){}var zt={d:{f:ma,r:function(){throw Error(eT(522))},D:ma,C:ma,L:ma,m:ma,X:ma,S:ma,M:ma},p:0,findDOMNode:null},lO=Symbol.for("react.portal");function cO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lO,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var rc=oO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function sf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=zt;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(eT(299));return cO(t,e,null,n)};$t.flushSync=function(t){var e=rc.T,n=zt.p;try{if(rc.T=null,zt.p=2,t)return t()}finally{rc.T=e,zt.p=n,zt.d.f()}};$t.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,zt.d.C(t,e))};$t.prefetchDNS=function(t){typeof t=="string"&&zt.d.D(t)};$t.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=sf(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?zt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&zt.d.X(t,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};$t.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=sf(e.as,e.crossOrigin);zt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&zt.d.M(t)};$t.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=sf(n,e.crossOrigin);zt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};$t.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=sf(e.as,e.crossOrigin);zt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else zt.d.m(t)};$t.requestFormReset=function(t){zt.d.r(t)};$t.unstable_batchedUpdates=function(t,e){return t(e)};$t.useFormState=function(t,e,n){return rc.H.useFormState(t,e,n)};$t.useFormStatus=function(){return rc.H.useHostTransitionStatus()};$t.version="19.2.3";function tT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tT)}catch(t){console.error(t)}}tT(),ZE.exports=$t;var uO=ZE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pt=sO,nT=I,hO=uO;function F(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function rT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function aT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function iT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j1(t){if(Qc(t)!==t)throw Error(F(188))}function dO(t){var e=t.alternate;if(!e){if(e=Qc(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return j1(a),t;if(i===r)return j1(a),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function sT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=sT(t),e!==null)return e;t=t.sibling}return null}var Ue=Object.assign,fO=Symbol.for("react.element"),Gu=Symbol.for("react.transitional.element"),ql=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),oT=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),lT=Symbol.for("react.consumer"),Dr=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),Yy=Symbol.for("react.memo"),ga=Symbol.for("react.lazy"),Xp=Symbol.for("react.activity"),mO=Symbol.for("react.memo_cache_sentinel"),M1=Symbol.iterator;function Dl(t){return t===null||typeof t!="object"?null:(t=M1&&t[M1]||t["@@iterator"],typeof t=="function"?t:null)}var pO=Symbol.for("react.client.reference");function Jp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pO?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Wp:return"Profiler";case oT:return"StrictMode";case Kp:return"Suspense";case Qp:return"SuspenseList";case Xp:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ql:return"Portal";case Dr:return t.displayName||"Context";case lT:return(t._context.displayName||"Context")+".Consumer";case Gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yy:return e=t.displayName||null,e!==null?e:Jp(t.type)||"Memo";case ga:e=t._payload,t=t._init;try{return Jp(t(e))}catch{}}return null}var Hl=Array.isArray,te=nT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=hO.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Li={pending:!1,data:null,method:null,action:null},Zp=[],Fs=-1;function _r(t){return{current:t}}function xt(t){0>Fs||(t.current=Zp[Fs],Zp[Fs]=null,Fs--)}function ke(t,e){Fs++,Zp[Fs]=t.current,t.current=e}var ur=_r(null),Ec=_r(null),Da=_r(null),Zh=_r(null);function ed(t,e){switch(ke(Da,e),ke(Ec,t),ke(ur,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Bb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Bb(e),t=CA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}xt(ur),ke(ur,t)}function yo(){xt(ur),xt(Ec),xt(Da)}function eg(t){t.memoizedState!==null&&ke(Zh,t);var e=ur.current,n=CA(e,t.type);e!==n&&(ke(Ec,t),ke(ur,n))}function td(t){Ec.current===t&&(xt(ur),xt(Ec)),Zh.current===t&&(xt(Zh),jc._currentValue=Li)}var jm,P1;function Ci(t){if(jm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jm=e&&e[1]||"",P1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jm+t+P1}var Mm=!1;function Pm(t,e){if(!t||Mm)return"";Mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(v){var p=v}Reflect.construct(t,[],m)}else{try{m.call()}catch(v){p=v}t.call(m.prototype)}}else{try{throw Error()}catch(v){p=v}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(v){if(v&&p&&typeof v.stack=="string")return[v.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var c=s.split(`
`),h=o.split(`
`);for(a=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(r===c.length||a===h.length)for(r=c.length-1,a=h.length-1;1<=r&&0<=a&&c[r]!==h[a];)a--;for(;1<=r&&0<=a;r--,a--)if(c[r]!==h[a]){if(r!==1||a!==1)do if(r--,a--,0>a||c[r]!==h[a]){var d=`
`+c[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=a);break}}}finally{Mm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ci(n):""}function gO(t,e){switch(t.tag){case 26:case 27:case 5:return Ci(t.type);case 16:return Ci("Lazy");case 13:return t.child!==e&&e!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Pm(t.type,!1);case 11:return Pm(t.type.render,!1);case 1:return Pm(t.type,!0);case 31:return Ci("Activity");default:return""}}function L1(t){try{var e="",n=null;do e+=gO(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var tg=Object.prototype.hasOwnProperty,Wy=pt.unstable_scheduleCallback,Lm=pt.unstable_cancelCallback,yO=pt.unstable_shouldYield,vO=pt.unstable_requestPaint,mn=pt.unstable_now,_O=pt.unstable_getCurrentPriorityLevel,cT=pt.unstable_ImmediatePriority,uT=pt.unstable_UserBlockingPriority,nd=pt.unstable_NormalPriority,bO=pt.unstable_LowPriority,hT=pt.unstable_IdlePriority,xO=pt.log,wO=pt.unstable_setDisableYieldValue,Xc=null,pn=null;function Aa(t){if(typeof xO=="function"&&wO(t),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Xc,t)}catch{}}var gn=Math.clz32?Math.clz32:SO,EO=Math.log,TO=Math.LN2;function SO(t){return t>>>=0,t===0?32:31-(EO(t)/TO|0)|0}var Yu=256,Wu=262144,Ku=4194304;function Ri(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function of(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~i,r!==0?a=Ri(r):(s&=o,s!==0?a=Ri(s):n||(n=o&~t,n!==0&&(a=Ri(n))))):(o=r&~i,o!==0?a=Ri(o):s!==0?a=Ri(s):n||(n=r&~t,n!==0&&(a=Ri(n)))),a===0?0:e!==0&&e!==a&&!(e&i)&&(i=a&-a,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:a}function Jc(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function AO(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dT(){var t=Ku;return Ku<<=1,!(Ku&62914560)&&(Ku=4194304),t}function Vm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zc(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function NO(t,e,n,r,a,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,h=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-gn(n),m=1<<d;o[d]=0,c[d]=-1;var p=h[d];if(p!==null)for(h[d]=null,d=0;d<p.length;d++){var v=p[d];v!==null&&(v.lane&=-536870913)}n&=~m}r!==0&&fT(t,r,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function fT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-gn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function mT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gn(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}function pT(t,e){var n=e&-e;return n=n&42?1:Ky(n),n&(t.suspendedLanes|e)?0:n}function Ky(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qy(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function gT(){var t=be.p;return t!==0?t:(t=window.event,t===void 0?32:UA(t.type))}function V1(t,e){var n=be.p;try{return be.p=t,e()}finally{be.p=n}}var ii=Math.random().toString(36).slice(2),At="__reactFiber$"+ii,tn="__reactProps$"+ii,Vo="__reactContainer$"+ii,ng="__reactEvents$"+ii,CO="__reactListeners$"+ii,RO="__reactHandles$"+ii,U1="__reactResources$"+ii,eu="__reactMarker$"+ii;function Xy(t){delete t[At],delete t[tn],delete t[ng],delete t[CO],delete t[RO]}function $s(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Vo]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gb(t);t!==null;){if(n=t[At])return n;t=Gb(t)}return e}t=n,n=t.parentNode}return null}function Uo(t){if(t=t[At]||t[Vo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Gl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(F(33))}function ao(t){var e=t[U1];return e||(e=t[U1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function bt(t){t[eu]=!0}var yT=new Set,vT={};function rs(t,e){vo(t,e),vo(t+"Capture",e)}function vo(t,e){for(vT[t]=e,t=0;t<e.length;t++)yT.add(e[t])}var IO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),z1={},B1={};function OO(t){return tg.call(B1,t)?!0:tg.call(z1,t)?!1:IO.test(t)?B1[t]=!0:(z1[t]=!0,!1)}function Th(t,e,n){if(OO(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Qu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Sr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _T(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DO(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rg(t){if(!t._valueTracker){var e=_T(t)?"checked":"value";t._valueTracker=DO(t,e,""+t[e])}}function bT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_T(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function rd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var kO=/[\n"\\]/g;function Nn(t){return t.replace(kO,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ag(t,e,n,r,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Tn(e)):t.value!==""+Tn(e)&&(t.value=""+Tn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?ig(t,s,Tn(e)):n!=null?ig(t,s,Tn(n)):r!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Tn(o):t.removeAttribute("name")}function xT(t,e,n,r,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){rg(t);return}n=n!=null?""+Tn(n):"",e=e!=null?""+Tn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),rg(t)}function ig(t,e,n){e==="number"&&rd(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function io(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function wT(t,e,n){if(e!=null&&(e=""+Tn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Tn(n):""}function ET(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(F(92));if(Hl(r)){if(1<r.length)throw Error(F(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Tn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),rg(t)}function _o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function F1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||jO.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function TT(t,e,n){if(e!=null&&typeof e!="object")throw Error(F(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var a in e)r=e[a],e.hasOwnProperty(a)&&n[a]!==r&&F1(t,a,r)}else for(var i in e)e.hasOwnProperty(i)&&F1(t,i,e[i])}function Jy(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sh(t){return PO.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kr(){}var sg=null;function Zy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qs=null,so=null;function $1(t){var e=Uo(t);if(e&&(t=e.stateNode)){var n=t[tn]||null;e:switch(t=e.stateNode,e.type){case"input":if(ag(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=r[tn]||null;if(!a)throw Error(F(90));ag(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&bT(r)}break e;case"textarea":wT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}}}var Um=!1;function ST(t,e,n){if(Um)return t(e,n);Um=!0;try{var r=t(e);return r}finally{if(Um=!1,(qs!==null||so!==null)&&(_f(),qs&&(e=qs,t=so,so=qs=null,$1(e),t)))for(e=0;e<t.length;e++)$1(t[e])}}function Tc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[tn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),og=!1;if(qr)try{var kl={};Object.defineProperty(kl,"passive",{get:function(){og=!0}}),window.addEventListener("test",kl,kl),window.removeEventListener("test",kl,kl)}catch{og=!1}var Na=null,e0=null,Ah=null;function AT(){if(Ah)return Ah;var t,e=e0,n=e.length,r,a="value"in Na?Na.value:Na.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return Ah=a.slice(t,1<r?1-r:void 0)}function Nh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xu(){return!0}function q1(){return!1}function nn(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xu:q1,this.isPropagationStopped=q1,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xu)},persist:function(){},isPersistent:Xu}),e}var as={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=nn(as),tu=Ue({},as,{view:0,detail:0}),LO=nn(tu),zm,Bm,jl,cf=Ue({},tu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jl&&(jl&&t.type==="mousemove"?(zm=t.screenX-jl.screenX,Bm=t.screenY-jl.screenY):Bm=zm=0,jl=t),zm)},movementY:function(t){return"movementY"in t?t.movementY:Bm}}),H1=nn(cf),VO=Ue({},cf,{dataTransfer:0}),UO=nn(VO),zO=Ue({},tu,{relatedTarget:0}),Fm=nn(zO),BO=Ue({},as,{animationName:0,elapsedTime:0,pseudoElement:0}),FO=nn(BO),$O=Ue({},as,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qO=nn($O),HO=Ue({},as,{data:0}),G1=nn(HO),GO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WO[t])?!!e[t]:!1}function t0(){return KO}var QO=Ue({},tu,{key:function(t){if(t.key){var e=GO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?YO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(t){return t.type==="keypress"?Nh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XO=nn(QO),JO=Ue({},cf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=nn(JO),ZO=Ue({},tu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),eD=nn(ZO),tD=Ue({},as,{propertyName:0,elapsedTime:0,pseudoElement:0}),nD=nn(tD),rD=Ue({},cf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aD=nn(rD),iD=Ue({},as,{newState:0,oldState:0}),sD=nn(iD),oD=[9,13,27,32],n0=qr&&"CompositionEvent"in window,ac=null;qr&&"documentMode"in document&&(ac=document.documentMode);var lD=qr&&"TextEvent"in window&&!ac,NT=qr&&(!n0||ac&&8<ac&&11>=ac),W1=" ",K1=!1;function CT(t,e){switch(t){case"keyup":return oD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function cD(t,e){switch(t){case"compositionend":return RT(e);case"keypress":return e.which!==32?null:(K1=!0,W1);case"textInput":return t=e.data,t===W1&&K1?null:t;default:return null}}function uD(t,e){if(Hs)return t==="compositionend"||!n0&&CT(t,e)?(t=AT(),Ah=e0=Na=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NT&&e.locale!=="ko"?null:e.data;default:return null}}var hD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hD[t.type]:e==="textarea"}function IT(t,e,n,r){qs?so?so.push(r):so=[r]:qs=r,e=xd(e,"onChange"),0<e.length&&(n=new lf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ic=null,Sc=null;function dD(t){SA(t,0)}function uf(t){var e=Gl(t);if(bT(e))return t}function X1(t,e){if(t==="change")return e}var OT=!1;if(qr){var $m;if(qr){var qm="oninput"in document;if(!qm){var J1=document.createElement("div");J1.setAttribute("oninput","return;"),qm=typeof J1.oninput=="function"}$m=qm}else $m=!1;OT=$m&&(!document.documentMode||9<document.documentMode)}function Z1(){ic&&(ic.detachEvent("onpropertychange",DT),Sc=ic=null)}function DT(t){if(t.propertyName==="value"&&uf(Sc)){var e=[];IT(e,Sc,t,Zy(t)),ST(dD,e)}}function fD(t,e,n){t==="focusin"?(Z1(),ic=e,Sc=n,ic.attachEvent("onpropertychange",DT)):t==="focusout"&&Z1()}function mD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uf(Sc)}function pD(t,e){if(t==="click")return uf(e)}function gD(t,e){if(t==="input"||t==="change")return uf(e)}function yD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:yD;function Ac(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!tg.call(e,a)||!_n(t[a],e[a]))return!1}return!0}function eb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tb(t,e){var n=eb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eb(n)}}function kT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=rd(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=rd(t.document)}return e}function r0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var vD=qr&&"documentMode"in document&&11>=document.documentMode,Gs=null,lg=null,sc=null,cg=!1;function nb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cg||Gs==null||Gs!==rd(r)||(r=Gs,"selectionStart"in r&&r0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sc&&Ac(sc,r)||(sc=r,r=xd(lg,"onSelect"),0<r.length&&(e=new lf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Gs)))}function Ni(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ys={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},Hm={},MT={};qr&&(MT=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function is(t){if(Hm[t])return Hm[t];if(!Ys[t])return t;var e=Ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in MT)return Hm[t]=e[n];return t}var PT=is("animationend"),LT=is("animationiteration"),VT=is("animationstart"),_D=is("transitionrun"),bD=is("transitionstart"),xD=is("transitioncancel"),UT=is("transitionend"),zT=new Map,ug="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ug.push("scrollEnd");function Qn(t,e){zT.set(t,e),rs(e,[t])}var ad=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},En=[],Ws=0,a0=0;function hf(){for(var t=Ws,e=a0=Ws=0;e<t;){var n=En[e];En[e++]=null;var r=En[e];En[e++]=null;var a=En[e];En[e++]=null;var i=En[e];if(En[e++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}i!==0&&BT(n,a,i)}}function df(t,e,n,r){En[Ws++]=t,En[Ws++]=e,En[Ws++]=n,En[Ws++]=r,a0|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function i0(t,e,n,r){return df(t,e,n,r),id(t)}function ss(t,e){return df(t,null,null,e),id(t)}function BT(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-gn(n),t=i.hiddenUpdates,r=t[a],r===null?t[a]=[e]:r.push(e),e.lane=n|536870912),i):null}function id(t){if(50<pc)throw pc=0,Og=null,Error(F(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ks={};function wD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,e,n,r){return new wD(t,e,n,r)}function s0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lr(t,e){var n=t.alternate;return n===null?(n=un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function FT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ch(t,e,n,r,a,i){var s=0;if(r=t,typeof t=="function")s0(t)&&(s=1);else if(typeof t=="string")s=Nk(t,n,ur.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Xp:return t=un(31,n,e,a),t.elementType=Xp,t.lanes=i,t;case Bs:return Vi(n.children,a,i,e);case oT:s=8,a|=24;break;case Wp:return t=un(12,n,e,a|2),t.elementType=Wp,t.lanes=i,t;case Kp:return t=un(13,n,e,a),t.elementType=Kp,t.lanes=i,t;case Qp:return t=un(19,n,e,a),t.elementType=Qp,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dr:s=10;break e;case lT:s=9;break e;case Gy:s=11;break e;case Yy:s=14;break e;case ga:s=16,r=null;break e}s=29,n=Error(F(130,t===null?"null":typeof t,"")),r=null}return e=un(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function Vi(t,e,n,r){return t=un(7,t,r,e),t.lanes=n,t}function Gm(t,e,n){return t=un(6,t,null,e),t.lanes=n,t}function $T(t){var e=un(18,null,null,0);return e.stateNode=t,e}function Ym(t,e,n){return e=un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var rb=new WeakMap;function Cn(t,e){if(typeof t=="object"&&t!==null){var n=rb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:L1(e)},rb.set(t,e),e)}return{value:t,source:e,stack:L1(e)}}var Qs=[],Xs=0,sd=null,Nc=0,Sn=[],An=0,Ya=null,sr=1,or="";function Ir(t,e){Qs[Xs++]=Nc,Qs[Xs++]=sd,sd=t,Nc=e}function qT(t,e,n){Sn[An++]=sr,Sn[An++]=or,Sn[An++]=Ya,Ya=t;var r=sr;t=or;var a=32-gn(r)-1;r&=~(1<<a),n+=1;var i=32-gn(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,sr=1<<32-gn(e)+a|n<<a|r,or=i+t}else sr=1<<i|n<<a|r,or=t}function o0(t){t.return!==null&&(Ir(t,1),qT(t,1,0))}function l0(t){for(;t===sd;)sd=Qs[--Xs],Qs[Xs]=null,Nc=Qs[--Xs],Qs[Xs]=null;for(;t===Ya;)Ya=Sn[--An],Sn[An]=null,or=Sn[--An],Sn[An]=null,sr=Sn[--An],Sn[An]=null}function HT(t,e){Sn[An++]=sr,Sn[An++]=or,Sn[An++]=Ya,sr=e.id,or=e.overflow,Ya=t}var Nt=null,Le=null,ge=!1,ka=null,Rn=!1,hg=Error(F(519));function Wa(t){var e=Error(F(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cc(Cn(e,t)),hg}function ab(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[At]=t,e[tn]=r,n){case"dialog":ue("cancel",e),ue("close",e);break;case"iframe":case"object":case"embed":ue("load",e);break;case"video":case"audio":for(n=0;n<Dc.length;n++)ue(Dc[n],e);break;case"source":ue("error",e);break;case"img":case"image":case"link":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"input":ue("invalid",e),xT(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ue("invalid",e);break;case"textarea":ue("invalid",e),ET(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||NA(e.textContent,n)?(r.popover!=null&&(ue("beforetoggle",e),ue("toggle",e)),r.onScroll!=null&&ue("scroll",e),r.onScrollEnd!=null&&ue("scrollend",e),r.onClick!=null&&(e.onclick=kr),e=!0):e=!1,e||Wa(t,!0)}function ib(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:Nt=Nt.return}}function Cs(t){if(t!==Nt)return!1;if(!ge)return ib(t),ge=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Pg(t.type,t.memoizedProps)),n=!n),n&&Le&&Wa(t),ib(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));Le=Hb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));Le=Hb(t)}else e===27?(e=Le,si(t.type)?(t=zg,zg=null,Le=t):Le=e):Le=Nt?jn(t.stateNode.nextSibling):null;return!0}function Gi(){Le=Nt=null,ge=!1}function Wm(){var t=ka;return t!==null&&(Kt===null?Kt=t:Kt.push.apply(Kt,t),ka=null),t}function Cc(t){ka===null?ka=[t]:ka.push(t)}var dg=_r(null),os=null,jr=null;function va(t,e,n){ke(dg,e._currentValue),e._currentValue=n}function Vr(t){t._currentValue=dg.current,xt(dg)}function fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mg(t,e,n,r){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=a;for(var c=0;c<e.length;c++)if(o.context===e[c]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),fg(i.return,n,t),r||(s=null);break e}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(F(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),fg(s,n,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function zo(t,e,n,r){t=null;for(var a=e,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(F(387));if(s=s.memoizedProps,s!==null){var o=a.type;_n(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===Zh.current){if(s=a.alternate,s===null)throw Error(F(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(jc):t=[jc])}a=a.return}t!==null&&mg(e,t,n,r),e.flags|=262144}function od(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yi(t){os=t,jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function It(t){return GT(os,t)}function Ju(t,e){return os===null&&Yi(t),GT(t,e)}function GT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},jr===null){if(t===null)throw Error(F(308));jr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else jr=jr.next=e;return n}var ED=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},TD=pt.unstable_scheduleCallback,SD=pt.unstable_NormalPriority,ot={$$typeof:Dr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function c0(){return{controller:new ED,data:new Map,refCount:0}}function nu(t){t.refCount--,t.refCount===0&&TD(SD,function(){t.controller.abort()})}var oc=null,pg=0,bo=0,oo=null;function AD(t,e){if(oc===null){var n=oc=[];pg=0,bo=j0(),oo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return pg++,e.then(sb,sb),e}function sb(){if(--pg===0&&oc!==null){oo!==null&&(oo.status="fulfilled");var t=oc;oc=null,bo=0,oo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function ND(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var ob=te.S;te.S=function(t,e){sA=mn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&AD(t,e),ob!==null&&ob(t,e)};var Ui=_r(null);function u0(){var t=Ui.current;return t!==null?t:Re.pooledCache}function Rh(t,e){e===null?ke(Ui,Ui.current):ke(Ui,e.pool)}function YT(){var t=u0();return t===null?null:{parent:ot._currentValue,pool:t}}var Bo=Error(F(460)),h0=Error(F(474)),ff=Error(F(542)),ld={then:function(){}};function lb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function WT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(kr,kr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ub(t),t;default:if(typeof e.status=="string")e.then(kr,kr);else{if(t=Re,t!==null&&100<t.shellSuspendCounter)throw Error(F(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=r}},function(r){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ub(t),t}throw zi=e,Bo}}function Ii(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(zi=n,Bo):n}}var zi=null;function cb(){if(zi===null)throw Error(F(459));var t=zi;return zi=null,t}function ub(t){if(t===Bo||t===ff)throw Error(F(483))}var lo=null,Rc=0;function Zu(t){var e=Rc;return Rc+=1,lo===null&&(lo=[]),WT(lo,t,e)}function Ml(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function eh(t,e){throw e.$$typeof===fO?Error(F(525)):(t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function KT(t){function e(y,_){if(t){var E=y.deletions;E===null?(y.deletions=[_],y.flags|=16):E.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y){for(var _=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function a(y,_){return y=Lr(y,_),y.index=0,y.sibling=null,y}function i(y,_,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<_?(y.flags|=67108866,_):E):(y.flags|=67108866,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,_,E,O){return _===null||_.tag!==6?(_=Gm(E,y.mode,O),_.return=y,_):(_=a(_,E),_.return=y,_)}function c(y,_,E,O){var V=E.type;return V===Bs?d(y,_,E.props.children,O,E.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ga&&Ii(V)===_.type)?(_=a(_,E.props),Ml(_,E),_.return=y,_):(_=Ch(E.type,E.key,E.props,null,y.mode,O),Ml(_,E),_.return=y,_)}function h(y,_,E,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Ym(E,y.mode,O),_.return=y,_):(_=a(_,E.children||[]),_.return=y,_)}function d(y,_,E,O,V){return _===null||_.tag!==7?(_=Vi(E,y.mode,O,V),_.return=y,_):(_=a(_,E),_.return=y,_)}function m(y,_,E){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Gm(""+_,y.mode,E),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gu:return E=Ch(_.type,_.key,_.props,null,y.mode,E),Ml(E,_),E.return=y,E;case ql:return _=Ym(_,y.mode,E),_.return=y,_;case ga:return _=Ii(_),m(y,_,E)}if(Hl(_)||Dl(_))return _=Vi(_,y.mode,E,null),_.return=y,_;if(typeof _.then=="function")return m(y,Zu(_),E);if(_.$$typeof===Dr)return m(y,Ju(y,_),E);eh(y,_)}return null}function p(y,_,E,O){var V=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return V!==null?null:o(y,_,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gu:return E.key===V?c(y,_,E,O):null;case ql:return E.key===V?h(y,_,E,O):null;case ga:return E=Ii(E),p(y,_,E,O)}if(Hl(E)||Dl(E))return V!==null?null:d(y,_,E,O,null);if(typeof E.then=="function")return p(y,_,Zu(E),O);if(E.$$typeof===Dr)return p(y,_,Ju(y,E),O);eh(y,E)}return null}function v(y,_,E,O,V){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return y=y.get(E)||null,o(_,y,""+O,V);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Gu:return y=y.get(O.key===null?E:O.key)||null,c(_,y,O,V);case ql:return y=y.get(O.key===null?E:O.key)||null,h(_,y,O,V);case ga:return O=Ii(O),v(y,_,E,O,V)}if(Hl(O)||Dl(O))return y=y.get(E)||null,d(_,y,O,V,null);if(typeof O.then=="function")return v(y,_,E,Zu(O),V);if(O.$$typeof===Dr)return v(y,_,E,Ju(_,O),V);eh(_,O)}return null}function S(y,_,E,O){for(var V=null,H=null,T=_,w=_=0,b=null;T!==null&&w<E.length;w++){T.index>w?(b=T,T=null):b=T.sibling;var N=p(y,T,E[w],O);if(N===null){T===null&&(T=b);break}t&&T&&N.alternate===null&&e(y,T),_=i(N,_,w),H===null?V=N:H.sibling=N,H=N,T=b}if(w===E.length)return n(y,T),ge&&Ir(y,w),V;if(T===null){for(;w<E.length;w++)T=m(y,E[w],O),T!==null&&(_=i(T,_,w),H===null?V=T:H.sibling=T,H=T);return ge&&Ir(y,w),V}for(T=r(T);w<E.length;w++)b=v(T,y,w,E[w],O),b!==null&&(t&&b.alternate!==null&&T.delete(b.key===null?w:b.key),_=i(b,_,w),H===null?V=b:H.sibling=b,H=b);return t&&T.forEach(function(D){return e(y,D)}),ge&&Ir(y,w),V}function A(y,_,E,O){if(E==null)throw Error(F(151));for(var V=null,H=null,T=_,w=_=0,b=null,N=E.next();T!==null&&!N.done;w++,N=E.next()){T.index>w?(b=T,T=null):b=T.sibling;var D=p(y,T,N.value,O);if(D===null){T===null&&(T=b);break}t&&T&&D.alternate===null&&e(y,T),_=i(D,_,w),H===null?V=D:H.sibling=D,H=D,T=b}if(N.done)return n(y,T),ge&&Ir(y,w),V;if(T===null){for(;!N.done;w++,N=E.next())N=m(y,N.value,O),N!==null&&(_=i(N,_,w),H===null?V=N:H.sibling=N,H=N);return ge&&Ir(y,w),V}for(T=r(T);!N.done;w++,N=E.next())N=v(T,y,w,N.value,O),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?w:N.key),_=i(N,_,w),H===null?V=N:H.sibling=N,H=N);return t&&T.forEach(function(k){return e(y,k)}),ge&&Ir(y,w),V}function R(y,_,E,O){if(typeof E=="object"&&E!==null&&E.type===Bs&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Gu:e:{for(var V=E.key;_!==null;){if(_.key===V){if(V=E.type,V===Bs){if(_.tag===7){n(y,_.sibling),O=a(_,E.props.children),O.return=y,y=O;break e}}else if(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ga&&Ii(V)===_.type){n(y,_.sibling),O=a(_,E.props),Ml(O,E),O.return=y,y=O;break e}n(y,_);break}else e(y,_);_=_.sibling}E.type===Bs?(O=Vi(E.props.children,y.mode,O,E.key),O.return=y,y=O):(O=Ch(E.type,E.key,E.props,null,y.mode,O),Ml(O,E),O.return=y,y=O)}return s(y);case ql:e:{for(V=E.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(y,_.sibling),O=a(_,E.children||[]),O.return=y,y=O;break e}else{n(y,_);break}else e(y,_);_=_.sibling}O=Ym(E,y.mode,O),O.return=y,y=O}return s(y);case ga:return E=Ii(E),R(y,_,E,O)}if(Hl(E))return S(y,_,E,O);if(Dl(E)){if(V=Dl(E),typeof V!="function")throw Error(F(150));return E=V.call(E),A(y,_,E,O)}if(typeof E.then=="function")return R(y,_,Zu(E),O);if(E.$$typeof===Dr)return R(y,_,Ju(y,E),O);eh(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,_!==null&&_.tag===6?(n(y,_.sibling),O=a(_,E),O.return=y,y=O):(n(y,_),O=Gm(E,y.mode,O),O.return=y,y=O),s(y)):n(y,_)}return function(y,_,E,O){try{Rc=0;var V=R(y,_,E,O);return lo=null,V}catch(T){if(T===Bo||T===ff)throw T;var H=un(29,T,null,y.mode);return H.lanes=O,H.return=y,H}finally{}}}var Wi=KT(!0),QT=KT(!1),ya=!1;function d0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ja(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_e&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,e=id(t),BT(t,null,n),e}return df(t,r,e,n),id(t)}function lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mT(t,n)}}function Km(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var yg=!1;function cc(){if(yg){var t=oo;if(t!==null)throw t}}function uc(t,e,n,r){yg=!1;var a=t.updateQueue;ya=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,h=c.next;c.next=null,s===null?i=h:s.next=h,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;s=0,d=h=c=null,o=i;do{var p=o.lane&-536870913,v=p!==o.lane;if(v?(pe&p)===p:(r&p)===p){p!==0&&p===bo&&(yg=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,A=o;p=e;var R=n;switch(A.tag){case 1:if(S=A.payload,typeof S=="function"){m=S.call(R,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=A.payload,p=typeof S=="function"?S.call(R,m,p):S,p==null)break e;m=Ue({},m,p);break e;case 2:ya=!0}}p=o.callback,p!==null&&(t.flags|=64,v&&(t.flags|=8192),v=a.callbacks,v===null?a.callbacks=[p]:v.push(p))}else v={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=v,c=m):d=d.next=v,s|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;v=o,o=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);d===null&&(c=m),a.baseState=c,a.firstBaseUpdate=h,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Qa|=s,t.lanes=s,t.memoizedState=m}}function XT(t,e){if(typeof t!="function")throw Error(F(191,t));t.call(e)}function JT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)XT(n[t],e)}var xo=_r(null),cd=_r(0);function hb(t,e){t=Wr,ke(cd,t),ke(xo,e),Wr=t|e.baseLanes}function vg(){ke(cd,Wr),ke(xo,xo.current)}function f0(){Wr=cd.current,xt(xo),xt(cd)}var bn=_r(null),kn=null;function _a(t){var e=t.alternate;ke(et,et.current&1),ke(bn,t),kn===null&&(e===null||xo.current!==null||e.memoizedState!==null)&&(kn=t)}function _g(t){ke(et,et.current),ke(bn,t),kn===null&&(kn=t)}function ZT(t){t.tag===22?(ke(et,et.current),ke(bn,t),kn===null&&(kn=t)):ba()}function ba(){ke(et,et.current),ke(bn,bn.current)}function cn(t){xt(bn),kn===t&&(kn=null),xt(et)}var et=_r(0);function ud(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vg(n)||Ug(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hr=0,se=null,Ne=null,it=null,hd=!1,co=!1,Ki=!1,dd=0,Ic=0,uo=null,CD=0;function Xe(){throw Error(F(321))}function m0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function p0(t,e,n,r,a,i){return Hr=i,se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,te.H=t===null||t.memoizedState===null?IS:A0,Ki=!1,i=n(r,a),Ki=!1,co&&(i=tS(e,n,r,a)),eS(t),i}function eS(t){te.H=Oc;var e=Ne!==null&&Ne.next!==null;if(Hr=0,it=Ne=se=null,hd=!1,Ic=0,uo=null,e)throw Error(F(300));t===null||ct||(t=t.dependencies,t!==null&&od(t)&&(ct=!0))}function tS(t,e,n,r){se=t;var a=0;do{if(co&&(uo=null),Ic=0,co=!1,25<=a)throw Error(F(301));if(a+=1,it=Ne=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}te.H=OS,i=e(n,r)}while(co);return i}function RD(){var t=te.H,e=t.useState()[0];return e=typeof e.then=="function"?ru(e):e,t=t.useState()[0],(Ne!==null?Ne.memoizedState:null)!==t&&(se.flags|=1024),e}function g0(){var t=dd!==0;return dd=0,t}function y0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function v0(t){if(hd){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}hd=!1}Hr=0,it=Ne=se=null,co=!1,Ic=dd=0,uo=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?se.memoizedState=it=t:it=it.next=t,it}function nt(){if(Ne===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=it===null?se.memoizedState:it.next;if(e!==null)it=e,Ne=t;else{if(t===null)throw se.alternate===null?Error(F(467)):Error(F(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},it===null?se.memoizedState=it=t:it=it.next=t}return it}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ru(t){var e=Ic;return Ic+=1,uo===null&&(uo=[]),t=WT(uo,t,e),e=se,(it===null?e.memoizedState:it.next)===null&&(e=e.alternate,te.H=e===null||e.memoizedState===null?IS:A0),t}function pf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ru(t);if(t.$$typeof===Dr)return It(t)}throw Error(F(438,String(t)))}function _0(t){var e=null,n=se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=mf(),se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=mO;return e.index++,n}function Gr(t,e){return typeof e=="function"?e(t):e}function Ih(t){var e=nt();return b0(e,Ne,t)}function b0(t,e,n){var r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=n;var a=t.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,r.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,c=null,h=e,d=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(pe&m)===m:(Hr&m)===m){var p=h.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===bo&&(d=!0);else if((Hr&p)===p){h=h.next,p===bo&&(d=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=m,s=i):c=c.next=m,se.lanes|=p,Qa|=p;m=h.action,Ki&&n(i,m),i=h.hasEagerState?h.eagerState:n(i,m)}else p={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=p,s=i):c=c.next=p,se.lanes|=m,Qa|=m;h=h.next}while(h!==null&&h!==e);if(c===null?s=i:c.next=o,!_n(i,t.memoizedState)&&(ct=!0,d&&(n=oo,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=c,r.lastRenderedState=i}return a===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Qm(t){var e=nt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);_n(i,e.memoizedState)||(ct=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function nS(t,e,n){var r=se,a=nt(),i=ge;if(i){if(n===void 0)throw Error(F(407));n=n()}else n=e();var s=!_n((Ne||a).memoizedState,n);if(s&&(a.memoizedState=n,ct=!0),a=a.queue,x0(iS.bind(null,r,a,t),[t]),a.getSnapshot!==e||s||it!==null&&it.memoizedState.tag&1){if(r.flags|=2048,wo(9,{destroy:void 0},aS.bind(null,r,a,n,e),null),Re===null)throw Error(F(349));i||Hr&127||rS(r,e,n)}return n}function rS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=se.updateQueue,e===null?(e=mf(),se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aS(t,e,n,r){e.value=n,e.getSnapshot=r,sS(e)&&oS(t)}function iS(t,e,n){return n(function(){sS(e)&&oS(t)})}function sS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function oS(t){var e=ss(t,2);e!==null&&Zt(e,t,2)}function bg(t){var e=Ut();if(typeof t=="function"){var n=t;if(t=n(),Ki){Aa(!0);try{n()}finally{Aa(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},e}function lS(t,e,n,r){return t.baseState=n,b0(t,Ne,typeof r=="function"?r:Gr)}function ID(t,e,n,r,a){if(yf(t))throw Error(F(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};te.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,cS(e,i)):(i.next=n.next,e.pending=n.next=i)}}function cS(t,e){var n=e.action,r=e.payload,a=t.state;if(e.isTransition){var i=te.T,s={};te.T=s;try{var o=n(a,r),c=te.S;c!==null&&c(s,o),db(t,e,o)}catch(h){xg(t,e,h)}finally{i!==null&&s.types!==null&&(i.types=s.types),te.T=i}}else try{i=n(a,r),db(t,e,i)}catch(h){xg(t,e,h)}}function db(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){fb(t,e,r)},function(r){return xg(t,e,r)}):fb(t,e,n)}function fb(t,e,n){e.status="fulfilled",e.value=n,uS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cS(t,n)))}function xg(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,uS(e),e=e.next;while(e!==r)}t.action=null}function uS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function hS(t,e){return e}function mb(t,e){if(ge){var n=Re.formState;if(n!==null){e:{var r=se;if(ge){if(Le){t:{for(var a=Le,i=Rn;a.nodeType!==8;){if(!i){a=null;break t}if(a=jn(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Le=jn(a.nextSibling),r=a.data==="F!";break e}}Wa(r)}r=!1}r&&(e=n[0])}}return n=Ut(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hS,lastRenderedState:e},n.queue=r,n=NS.bind(null,se,r),r.dispatch=n,r=bg(!1),i=S0.bind(null,se,!1,r.queue),r=Ut(),a={state:e,dispatch:null,action:t,pending:null},r.queue=a,n=ID.bind(null,se,a,i,n),a.dispatch=n,r.memoizedState=t,[e,n,!1]}function pb(t){var e=nt();return dS(e,Ne,t)}function dS(t,e,n){if(e=b0(t,e,hS)[0],t=Ih(Gr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ru(e)}catch(s){throw s===Bo?ff:s}else r=e;e=nt();var a=e.queue,i=a.dispatch;return n!==e.memoizedState&&(se.flags|=2048,wo(9,{destroy:void 0},OD.bind(null,a,n),null)),[r,i,t]}function OD(t,e){t.action=e}function gb(t){var e=nt(),n=Ne;if(n!==null)return dS(e,n,t);nt(),e=e.memoizedState,n=nt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function wo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=se.updateQueue,e===null&&(e=mf(),se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function fS(){return nt().memoizedState}function Oh(t,e,n,r){var a=Ut();se.flags|=t,a.memoizedState=wo(1|e,{destroy:void 0},n,r===void 0?null:r)}function gf(t,e,n,r){var a=nt();r=r===void 0?null:r;var i=a.memoizedState.inst;Ne!==null&&r!==null&&m0(r,Ne.memoizedState.deps)?a.memoizedState=wo(e,i,n,r):(se.flags|=t,a.memoizedState=wo(1|e,i,n,r))}function yb(t,e){Oh(8390656,8,t,e)}function x0(t,e){gf(2048,8,t,e)}function DD(t){se.flags|=4;var e=se.updateQueue;if(e===null)e=mf(),se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function mS(t){var e=nt().memoizedState;return DD({ref:e,nextImpl:t}),function(){if(_e&2)throw Error(F(440));return e.impl.apply(void 0,arguments)}}function pS(t,e){return gf(4,2,t,e)}function gS(t,e){return gf(4,4,t,e)}function yS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vS(t,e,n){n=n!=null?n.concat([t]):null,gf(4,4,yS.bind(null,e,t),n)}function w0(){}function _S(t,e){var n=nt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&m0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function bS(t,e){var n=nt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&m0(e,r[1]))return r[0];if(r=t(),Ki){Aa(!0);try{t()}finally{Aa(!1)}}return n.memoizedState=[r,e],r}function E0(t,e,n){return n===void 0||Hr&1073741824&&!(pe&261930)?t.memoizedState=e:(t.memoizedState=n,t=lA(),se.lanes|=t,Qa|=t,n)}function xS(t,e,n,r){return _n(n,e)?n:xo.current!==null?(t=E0(t,n,r),_n(t,e)||(ct=!0),t):!(Hr&42)||Hr&1073741824&&!(pe&261930)?(ct=!0,t.memoizedState=n):(t=lA(),se.lanes|=t,Qa|=t,e)}function wS(t,e,n,r,a){var i=be.p;be.p=i!==0&&8>i?i:8;var s=te.T,o={};te.T=o,S0(t,!1,e,n);try{var c=a(),h=te.S;if(h!==null&&h(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=ND(c,r);hc(t,e,d,yn(t))}else hc(t,e,r,yn(t))}catch(m){hc(t,e,{then:function(){},status:"rejected",reason:m},yn())}finally{be.p=i,s!==null&&o.types!==null&&(s.types=o.types),te.T=s}}function kD(){}function wg(t,e,n,r){if(t.tag!==5)throw Error(F(476));var a=ES(t).queue;wS(t,a,e,Li,n===null?kD:function(){return TS(t),n(r)})}function ES(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Li,baseState:Li,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:Li},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function TS(t){var e=ES(t);e.next===null&&(e=t.alternate.memoizedState),hc(t,e.next.queue,{},yn())}function T0(){return It(jc)}function SS(){return nt().memoizedState}function AS(){return nt().memoizedState}function jD(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=yn();t=ja(n);var r=Ma(e,t,n);r!==null&&(Zt(r,e,n),lc(r,e,n)),e={cache:c0()},t.payload=e;return}e=e.return}}function MD(t,e,n){var r=yn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yf(t)?CS(e,n):(n=i0(t,e,n,r),n!==null&&(Zt(n,t,r),RS(n,e,r)))}function NS(t,e,n){var r=yn();hc(t,e,n,r)}function hc(t,e,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(yf(t))CS(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,_n(o,s))return df(t,e,a,0),Re===null&&hf(),!1}catch{}finally{}if(n=i0(t,e,a,r),n!==null)return Zt(n,t,r),RS(n,e,r),!0}return!1}function S0(t,e,n,r){if(r={lane:2,revertLane:j0(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},yf(t)){if(e)throw Error(F(479))}else e=i0(t,n,r,2),e!==null&&Zt(e,t,2)}function yf(t){var e=t.alternate;return t===se||e!==null&&e===se}function CS(t,e){co=hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function RS(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mT(t,n)}}var Oc={readContext:It,use:pf,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Oc.useEffectEvent=Xe;var IS={readContext:It,use:pf,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:It,useEffect:yb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Oh(4194308,4,yS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Oh(4194308,4,t,e)},useInsertionEffect:function(t,e){Oh(4,2,t,e)},useMemo:function(t,e){var n=Ut();e=e===void 0?null:e;var r=t();if(Ki){Aa(!0);try{t()}finally{Aa(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ut();if(n!==void 0){var a=n(e);if(Ki){Aa(!0);try{n(e)}finally{Aa(!1)}}}else a=e;return r.memoizedState=r.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},r.queue=t,t=t.dispatch=MD.bind(null,se,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:function(t){t=bg(t);var e=t.queue,n=NS.bind(null,se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:w0,useDeferredValue:function(t,e){var n=Ut();return E0(n,t,e)},useTransition:function(){var t=bg(!1);return t=wS.bind(null,se,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=se,a=Ut();if(ge){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Re===null)throw Error(F(349));pe&127||rS(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,yb(iS.bind(null,r,i,t),[t]),r.flags|=2048,wo(9,{destroy:void 0},aS.bind(null,r,i,n,e),null),n},useId:function(){var t=Ut(),e=Re.identifierPrefix;if(ge){var n=or,r=sr;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=dd++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=CD++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:T0,useFormState:mb,useActionState:mb,useOptimistic:function(t){var e=Ut();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=S0.bind(null,se,!0,n),n.dispatch=e,[t,e]},useMemoCache:_0,useCacheRefresh:function(){return Ut().memoizedState=jD.bind(null,se)},useEffectEvent:function(t){var e=Ut(),n={impl:t};return e.memoizedState=n,function(){if(_e&2)throw Error(F(440));return n.impl.apply(void 0,arguments)}}},A0={readContext:It,use:pf,useCallback:_S,useContext:It,useEffect:x0,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:Ih,useRef:fS,useState:function(){return Ih(Gr)},useDebugValue:w0,useDeferredValue:function(t,e){var n=nt();return xS(n,Ne.memoizedState,t,e)},useTransition:function(){var t=Ih(Gr)[0],e=nt().memoizedState;return[typeof t=="boolean"?t:ru(t),e]},useSyncExternalStore:nS,useId:SS,useHostTransitionStatus:T0,useFormState:pb,useActionState:pb,useOptimistic:function(t,e){var n=nt();return lS(n,Ne,t,e)},useMemoCache:_0,useCacheRefresh:AS};A0.useEffectEvent=mS;var OS={readContext:It,use:pf,useCallback:_S,useContext:It,useEffect:x0,useImperativeHandle:vS,useInsertionEffect:pS,useLayoutEffect:gS,useMemo:bS,useReducer:Qm,useRef:fS,useState:function(){return Qm(Gr)},useDebugValue:w0,useDeferredValue:function(t,e){var n=nt();return Ne===null?E0(n,t,e):xS(n,Ne.memoizedState,t,e)},useTransition:function(){var t=Qm(Gr)[0],e=nt().memoizedState;return[typeof t=="boolean"?t:ru(t),e]},useSyncExternalStore:nS,useId:SS,useHostTransitionStatus:T0,useFormState:gb,useActionState:gb,useOptimistic:function(t,e){var n=nt();return Ne!==null?lS(n,Ne,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:_0,useCacheRefresh:AS};OS.useEffectEvent=mS;function Xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eg={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),a=ja(r);a.payload=e,n!=null&&(a.callback=n),e=Ma(t,a,r),e!==null&&(Zt(e,t,r),lc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),a=ja(r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ma(t,a,r),e!==null&&(Zt(e,t,r),lc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=ja(n);r.tag=2,e!=null&&(r.callback=e),e=Ma(t,r,n),e!==null&&(Zt(e,t,n),lc(e,t,n))}};function vb(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ac(n,r)||!Ac(a,i):!0}function _b(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eg.enqueueReplaceState(e,e.state,null)}function Qi(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ue({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function DS(t){ad(t)}function kS(t){console.error(t)}function jS(t){ad(t)}function fd(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function bb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Tg(t,e,n){return n=ja(n),n.tag=3,n.payload={element:null},n.callback=function(){fd(t,e)},n}function MS(t){return t=ja(t),t.tag=3,t}function PS(t,e,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;t.payload=function(){return a(i)},t.callback=function(){bb(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){bb(e,n,r),typeof a!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function PD(t,e,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&zo(e,n,a,!0),n=bn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?vd():n.alternate===null&&Je===0&&(Je=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ld?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),lp(t,r,a)),!1;case 22:return n.flags|=65536,r===ld?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),lp(t,r,a)),!1}throw Error(F(435,n.tag))}return lp(t,r,a),vd(),!1}if(ge)return e=bn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,r!==hg&&(t=Error(F(422),{cause:r}),Cc(Cn(t,n)))):(r!==hg&&(e=Error(F(423),{cause:r}),Cc(Cn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,r=Cn(r,n),a=Tg(t.stateNode,r,a),Km(t,a),Je!==4&&(Je=2)),!1;var i=Error(F(520),{cause:r});if(i=Cn(i,n),mc===null?mc=[i]:mc.push(i),Je!==4&&(Je=2),e===null)return!0;r=Cn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=Tg(n.stateNode,r,t),Km(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Pa===null||!Pa.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=MS(a),PS(a,t,n,r),Km(n,a),!1}n=n.return}while(n!==null);return!1}var N0=Error(F(461)),ct=!1;function Tt(t,e,n,r){e.child=t===null?QT(e,null,n,r):Wi(e,t.child,n,r)}function xb(t,e,n,r,a){n=n.render;var i=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Yi(e),r=p0(t,e,n,s,i,a),o=g0(),t!==null&&!ct?(y0(t,e,a),Yr(t,e,a)):(ge&&o&&o0(e),e.flags|=1,Tt(t,e,r,a),e.child)}function wb(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!s0(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,LS(t,e,i,r,a)):(t=Ch(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!C0(t,a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ac,n(s,r)&&t.ref===e.ref)return Yr(t,e,a)}return e.flags|=1,t=Lr(i,r),t.ref=e.ref,t.return=e,e.child=t}function LS(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(Ac(i,r)&&t.ref===e.ref)if(ct=!1,e.pendingProps=r=i,C0(t,a))t.flags&131072&&(ct=!0);else return e.lanes=t.lanes,Yr(t,e,a)}return Sg(t,e,n,r,a)}function VS(t,e,n,r){var a=r.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,e.child=null;return Eb(t,e,i,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Rh(e,i!==null?i.cachePool:null),i!==null?hb(e,i):vg(),ZT(e);else return r=e.lanes=536870912,Eb(t,e,i!==null?i.baseLanes|n:n,n,r)}else i!==null?(Rh(e,i.cachePool),hb(e,i),ba(),e.memoizedState=null):(t!==null&&Rh(e,null),vg(),ba());return Tt(t,e,a,n),e.child}function Yl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Eb(t,e,n,r,a){var i=u0();return i=i===null?null:{parent:ot._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Rh(e,null),vg(),ZT(e),t!==null&&zo(t,e,r,!0),e.childLanes=a,null}function Dh(t,e){return e=md({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Tb(t,e,n){return Wi(e,t.child,null,n),t=Dh(e,e.pendingProps),t.flags|=2,cn(e),e.memoizedState=null,t}function LD(t,e,n){var r=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ge){if(r.mode==="hidden")return t=Dh(e,r),e.lanes=536870912,Yl(null,t);if(_g(e),(t=Le)?(t=IA(t,Rn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ya!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},n=$T(t),n.return=e,e.child=n,Nt=e,Le=null)):t=null,t===null)throw Wa(e);return e.lanes=536870912,null}return Dh(e,r)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(_g(e),a)if(e.flags&256)e.flags&=-257,e=Tb(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(F(558));else if(ct||zo(t,e,n,!1),a=(n&t.childLanes)!==0,ct||a){if(r=Re,r!==null&&(s=pT(r,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,ss(t,s),Zt(r,t,s),N0;vd(),e=Tb(t,e,n)}else t=i.treeContext,Le=jn(s.nextSibling),Nt=e,ge=!0,ka=null,Rn=!1,t!==null&&HT(e,t),e=Dh(e,r),e.flags|=4096;return e}return t=Lr(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function kh(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(F(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Sg(t,e,n,r,a){return Yi(e),n=p0(t,e,n,r,void 0,a),r=g0(),t!==null&&!ct?(y0(t,e,a),Yr(t,e,a)):(ge&&r&&o0(e),e.flags|=1,Tt(t,e,n,a),e.child)}function Sb(t,e,n,r,a,i){return Yi(e),e.updateQueue=null,n=tS(e,r,n,a),eS(t),r=g0(),t!==null&&!ct?(y0(t,e,i),Yr(t,e,i)):(ge&&r&&o0(e),e.flags|=1,Tt(t,e,n,i),e.child)}function Ab(t,e,n,r,a){if(Yi(e),e.stateNode===null){var i=Ks,s=n.contextType;typeof s=="object"&&s!==null&&(i=It(s)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Eg,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},d0(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?It(s):Ks,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Xm(e,n,s,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Eg.enqueueReplaceState(i,i.state,null),uc(e,r,i,a),cc(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,c=Qi(n,o);i.props=c;var h=i.context,d=n.contextType;s=Ks,typeof d=="object"&&d!==null&&(s=It(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||h!==s)&&_b(e,i,r,s),ya=!1;var p=e.memoizedState;i.state=p,uc(e,r,i,a),cc(),h=e.memoizedState,o||p!==h||ya?(typeof m=="function"&&(Xm(e,n,m,r),h=e.memoizedState),(c=ya||vb(e,n,c,r,p,h,s))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),i.props=r,i.state=h,i.context=s,r=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,gg(t,e),s=e.memoizedProps,d=Qi(n,s),i.props=d,m=e.pendingProps,p=i.context,h=n.contextType,c=Ks,typeof h=="object"&&h!==null&&(c=It(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==m||p!==c)&&_b(e,i,r,c),ya=!1,p=e.memoizedState,i.state=p,uc(e,r,i,a),cc();var v=e.memoizedState;s!==m||p!==v||ya||t!==null&&t.dependencies!==null&&od(t.dependencies)?(typeof o=="function"&&(Xm(e,n,o,r),v=e.memoizedState),(d=ya||vb(e,n,d,r,p,v,c)||t!==null&&t.dependencies!==null&&od(t.dependencies))?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),i.props=r,i.state=v,i.context=c,r=d):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,kh(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=Wi(e,t.child,null,a),e.child=Wi(e,null,n,a)):Tt(t,e,n,a),e.memoizedState=i.state,t=e.child):t=Yr(t,e,a),t}function Nb(t,e,n,r){return Gi(),e.flags|=256,Tt(t,e,n,r),e.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(t){return{baseLanes:t,cachePool:YT()}}function ep(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=dn),t}function US(t,e,n){var r=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(et.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ge){if(a?_a(e):ba(),(t=Le)?(t=IA(t,Rn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ya!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},n=$T(t),n.return=e,e.child=n,Nt=e,Le=null)):t=null,t===null)throw Wa(e);return Ug(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,a?(ba(),a=e.mode,o=md({mode:"hidden",children:o},a),r=Vi(r,a,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Zm(n),r.childLanes=ep(t,s,n),e.memoizedState=Jm,Yl(null,r)):(_a(e),Ag(e,o))}var c=t.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(i)e.flags&256?(_a(e),e.flags&=-257,e=tp(t,e,n)):e.memoizedState!==null?(ba(),e.child=t.child,e.flags|=128,e=null):(ba(),o=r.fallback,a=e.mode,r=md({mode:"visible",children:r.children},a),o=Vi(o,a,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Wi(e,t.child,null,n),r=e.child,r.memoizedState=Zm(n),r.childLanes=ep(t,s,n),e.memoizedState=Jm,e=Yl(null,r));else if(_a(e),Ug(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,r=Error(F(419)),r.stack="",r.digest=s,Cc({value:r,source:null,stack:null}),e=tp(t,e,n)}else if(ct||zo(t,e,n,!1),s=(n&t.childLanes)!==0,ct||s){if(s=Re,s!==null&&(r=pT(s,n),r!==0&&r!==c.retryLane))throw c.retryLane=r,ss(t,r),Zt(s,t,r),N0;Vg(o)||vd(),e=tp(t,e,n)}else Vg(o)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Le=jn(o.nextSibling),Nt=e,ge=!0,ka=null,Rn=!1,t!==null&&HT(e,t),e=Ag(e,r.children),e.flags|=4096);return e}return a?(ba(),o=r.fallback,a=e.mode,c=t.child,h=c.sibling,r=Lr(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,h!==null?o=Lr(h,o):(o=Vi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,Yl(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Zm(n):(a=o.cachePool,a!==null?(c=ot._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=YT(),o={baseLanes:o.baseLanes|n,cachePool:a}),r.memoizedState=o,r.childLanes=ep(t,s,n),e.memoizedState=Jm,Yl(t.child,r)):(_a(e),n=t.child,t=n.sibling,n=Lr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Ag(t,e){return e=md({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function md(t,e){return t=un(22,t,null,e),t.lanes=0,t}function tp(t,e,n){return Wi(e,t.child,null,n),t=Ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fg(t.return,e,n)}function np(t,e,n,r,a,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a,s.treeForkCount=i)}function zS(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var s=et.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,ke(et,s),Tt(t,e,r,n),r=ge?Nc:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Cb(t,n,e);else if(t.tag===19)Cb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&ud(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),np(e,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&ud(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}np(e,!0,n,null,i,r);break;case"together":np(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qa|=e.lanes,!(n&e.childLanes))if(t!==null){if(zo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=Lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C0(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&od(t)))}function VD(t,e,n){switch(e.tag){case 3:ed(e,e.stateNode.containerInfo),va(e,ot,t.memoizedState.cache),Gi();break;case 27:case 5:eg(e);break;case 4:ed(e,e.stateNode.containerInfo);break;case 10:va(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,_g(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(_a(e),e.flags|=128,null):n&e.child.childLanes?US(t,e,n):(_a(e),t=Yr(t,e,n),t!==null?t.sibling:null);_a(e);break;case 19:var a=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(zo(t,e,n,!1),r=(n&e.childLanes)!==0),a){if(r)return zS(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(et,et.current),r)break;return null;case 22:return e.lanes=0,VS(t,e,n,e.pendingProps);case 24:va(e,ot,t.memoizedState.cache)}return Yr(t,e,n)}function BS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ct=!0;else{if(!C0(t,n)&&!(e.flags&128))return ct=!1,VD(t,e,n);ct=!!(t.flags&131072)}else ct=!1,ge&&e.flags&1048576&&qT(e,Nc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Ii(e.elementType),e.type=t,typeof t=="function")s0(t)?(r=Qi(t,r),e.tag=1,e=Ab(null,e,t,r,n)):(e.tag=0,e=Sg(null,e,t,r,n));else{if(t!=null){var a=t.$$typeof;if(a===Gy){e.tag=11,e=xb(null,e,t,r,n);break e}else if(a===Yy){e.tag=14,e=wb(null,e,t,r,n);break e}}throw e=Jp(t)||t,Error(F(306,e,""))}}return e;case 0:return Sg(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,a=Qi(r,e.pendingProps),Ab(t,e,r,a,n);case 3:e:{if(ed(e,e.stateNode.containerInfo),t===null)throw Error(F(387));r=e.pendingProps;var i=e.memoizedState;a=i.element,gg(t,e),uc(e,r,null,n);var s=e.memoizedState;if(r=s.cache,va(e,ot,r),r!==i.cache&&mg(e,[ot],n,!0),cc(),r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Nb(t,e,r,n);break e}else if(r!==a){a=Cn(Error(F(424)),e),Cc(a),e=Nb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Le=jn(t.firstChild),Nt=e,ge=!0,ka=null,Rn=!0,n=QT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Gi(),r===a){e=Yr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 26:return kh(t,e),t===null?(n=Wb(e.type,null,e.pendingProps,null))?e.memoizedState=n:ge||(n=e.type,t=e.pendingProps,r=wd(Da.current).createElement(n),r[At]=e,r[tn]=t,Ot(r,n,t),bt(r),e.stateNode=r):e.memoizedState=Wb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return eg(e),t===null&&ge&&(r=e.stateNode=OA(e.type,e.pendingProps,Da.current),Nt=e,Rn=!0,a=Le,si(e.type)?(zg=a,Le=jn(r.firstChild)):Le=a),Tt(t,e,e.pendingProps.children,n),kh(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ge&&((a=r=Le)&&(r=mk(r,e.type,e.pendingProps,Rn),r!==null?(e.stateNode=r,Nt=e,Le=jn(r.firstChild),Rn=!1,a=!0):a=!1),a||Wa(e)),eg(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,r=i.children,Pg(a,i)?r=null:s!==null&&Pg(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=p0(t,e,RD,null,null,n),jc._currentValue=a),kh(t,e),Tt(t,e,r,n),e.child;case 6:return t===null&&ge&&((t=n=Le)&&(n=pk(n,e.pendingProps,Rn),n!==null?(e.stateNode=n,Nt=e,Le=null,t=!0):t=!1),t||Wa(e)),null;case 13:return US(t,e,n);case 4:return ed(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wi(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return xb(t,e,e.type,e.pendingProps,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,va(e,e.type,r.value),Tt(t,e,r.children,n),e.child;case 9:return a=e.type._context,r=e.pendingProps.children,Yi(e),a=It(a),r=r(a),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return wb(t,e,e.type,e.pendingProps,n);case 15:return LS(t,e,e.type,e.pendingProps,n);case 19:return zS(t,e,n);case 31:return LD(t,e,n);case 22:return VS(t,e,n,e.pendingProps);case 24:return Yi(e),r=It(ot),t===null?(a=u0(),a===null&&(a=Re,i=c0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),e.memoizedState={parent:r,cache:a},d0(e),va(e,ot,a)):(t.lanes&n&&(gg(t,e),uc(e,null,null,n),cc()),a=t.memoizedState,i=e.memoizedState,a.parent!==r?(a={parent:r,cache:r},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),va(e,ot,r)):(r=i.cache,va(e,ot,r),r!==a.cache&&mg(e,[ot],n,!0))),Tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(F(156,e.tag))}function Ar(t){t.flags|=4}function rp(t,e,n,r,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(hA())t.flags|=8192;else throw zi=ld,h0}else t.flags&=-16777217}function Rb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!jA(e))if(hA())t.flags|=8192;else throw zi=ld,h0}function th(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?dT():536870912,t.lanes|=e,Eo|=e)}function Pl(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function UD(t,e,n){var r=e.pendingProps;switch(l0(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Pe(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Vr(ot),yo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Cs(e)?Ar(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wm())),Pe(e),null;case 26:var a=e.type,i=e.memoizedState;return t===null?(Ar(e),i!==null?(Pe(e),Rb(e,i)):(Pe(e),rp(e,a,null,r,n))):i?i!==t.memoizedState?(Ar(e),Pe(e),Rb(e,i)):(Pe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ar(e),Pe(e),rp(e,a,t,r,n)),null;case 27:if(td(e),n=Da.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ar(e);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Pe(e),null}t=ur.current,Cs(e)?ab(e):(t=OA(a,r,n),e.stateNode=t,Ar(e))}return Pe(e),null;case 5:if(td(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ar(e);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Pe(e),null}if(i=ur.current,Cs(e))ab(e);else{var s=wd(Da.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i=typeof r.is=="string"?s.createElement(a,{is:r.is}):s.createElement(a)}}i[At]=e,i[tn]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;e:switch(Ot(i,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ar(e)}}return Pe(e),rp(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ar(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(t=Da.current,Cs(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,a=Nt,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}t[At]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||NA(t.nodeValue,n)),t||Wa(e,!0)}else t=wd(t).createTextNode(r),t[At]=e,e.stateNode=t}return Pe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Cs(e),n!==null){if(t===null){if(!r)throw Error(F(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(557));t[At]=e}else Gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),t=!1}else n=Wm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(cn(e),e):(cn(e),null);if(e.flags&128)throw Error(F(558))}return Pe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Cs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(F(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(F(317));a[At]=e}else Gi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),a=!1}else a=Wm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(cn(e),e):(cn(e),null)}return cn(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),th(e,e.updateQueue),Pe(e),null);case 4:return yo(),t===null&&M0(e.stateNode.containerInfo),Pe(e),null;case 10:return Vr(e.type),Pe(e),null;case 19:if(xt(et),r=e.memoizedState,r===null)return Pe(e),null;if(a=(e.flags&128)!==0,i=r.rendering,i===null)if(a)Pl(r,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ud(t),i!==null){for(e.flags|=128,Pl(r,!1),t=i.updateQueue,e.updateQueue=t,th(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)FT(n,t),n=n.sibling;return ke(et,et.current&1|2),ge&&Ir(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&mn()>gd&&(e.flags|=128,a=!0,Pl(r,!1),e.lanes=4194304)}else{if(!a)if(t=ud(i),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,th(e,t),Pl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!ge)return Pe(e),null}else 2*mn()-r.renderingStartTime>gd&&n!==536870912&&(e.flags|=128,a=!0,Pl(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=mn(),t.sibling=null,n=et.current,ke(et,a?n&1|2:n&1),ge&&Ir(e,r.treeForkCount),t):(Pe(e),null);case 22:case 23:return cn(e),f0(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),n=e.updateQueue,n!==null&&th(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&xt(Ui),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Vr(ot),Pe(e),null;case 25:return null;case 30:return null}throw Error(F(156,e.tag))}function zD(t,e){switch(l0(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vr(ot),yo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return td(e),null;case 31:if(e.memoizedState!==null){if(cn(e),e.alternate===null)throw Error(F(340));Gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(cn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));Gi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xt(et),null;case 4:return yo(),null;case 10:return Vr(e.type),null;case 22:case 23:return cn(e),f0(),t!==null&&xt(Ui),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Vr(ot),null;case 25:return null;default:return null}}function FS(t,e){switch(l0(e),e.tag){case 3:Vr(ot),yo();break;case 26:case 27:case 5:td(e);break;case 4:yo();break;case 31:e.memoizedState!==null&&cn(e);break;case 13:cn(e);break;case 19:xt(et);break;case 10:Vr(e.type);break;case 22:case 23:cn(e),f0(),t!==null&&xt(Ui);break;case 24:Vr(ot)}}function au(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&t)===t){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){Te(e,e.return,o)}}function Ka(t,e,n){try{var r=e.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var c=n,h=o;try{h()}catch(d){Te(a,c,d)}}}r=r.next}while(r!==i)}}catch(d){Te(e,e.return,d)}}function $S(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{JT(e,n)}catch(r){Te(t,t.return,r)}}}function qS(t,e,n){n.props=Qi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Te(t,e,r)}}function dc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(a){Te(t,e,a)}}function lr(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Te(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Te(t,e,a)}else n.current=null}function HS(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Te(t,t.return,a)}}function ap(t,e,n){try{var r=t.stateNode;lk(r,t.type,n,e),r[tn]=e}catch(a){Te(t,t.return,a)}}function GS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&si(t.type)||t.tag===4}function ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||GS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&si(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kr));else if(r!==4&&(r===27&&si(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ng(t,e,n),t=t.sibling;t!==null;)Ng(t,e,n),t=t.sibling}function pd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&si(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(pd(t,e,n),t=t.sibling;t!==null;)pd(t,e,n),t=t.sibling}function YS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ot(e,r,n),e[At]=t,e[tn]=n}catch(i){Te(t,t.return,i)}}var Or=!1,st=!1,sp=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,_t=null;function BD(t,e){if(t=t.containerInfo,jg=Ad,t=jT(t),r0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,c=-1,h=0,d=0,m=t,p=null;t:for(;;){for(var v;m!==n||a!==0&&m.nodeType!==3||(o=s+a),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===n&&++h===a&&(o=s),p===i&&++d===r&&(c=s),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Mg={focusedElem:t,selectionRange:n},Ad=!1,_t=e;_t!==null;)if(e=_t,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_t=t;else for(;_t!==null;){switch(e=_t,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var S=Qi(n.type,a);t=r.getSnapshotBeforeUpdate(S,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(A){Te(n,n.return,A)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Lg(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(F(163))}if(t=e.sibling,t!==null){t.return=e.return,_t=t;break}_t=e.return}}function WS(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Cr(t,n),r&4&&au(5,n);break;case 1:if(Cr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Te(n,n.return,s)}else{var a=Qi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Te(n,n.return,s)}}r&64&&$S(n),r&512&&dc(n,n.return);break;case 3:if(Cr(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{JT(t,e)}catch(s){Te(n,n.return,s)}}break;case 27:e===null&&r&4&&YS(n);case 26:case 5:Cr(t,n),e===null&&r&4&&HS(n),r&512&&dc(n,n.return);break;case 12:Cr(t,n);break;case 31:Cr(t,n),r&4&&XS(t,n);break;case 13:Cr(t,n),r&4&&JS(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=QD.bind(null,n),gk(t,n))));break;case 22:if(r=n.memoizedState!==null||Or,!r){e=e!==null&&e.memoizedState!==null||st,a=Or;var i=st;Or=r,(st=e)&&!i?Rr(t,n,(n.subtreeFlags&8772)!==0):Cr(t,n),Or=a,st=i}break;case 30:break;default:Cr(t,n)}}function KS(t){var e=t.alternate;e!==null&&(t.alternate=null,KS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Xy(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Fe=null,Wt=!1;function Nr(t,e,n){for(n=n.child;n!==null;)QS(t,e,n),n=n.sibling}function QS(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Xc,n)}catch{}switch(n.tag){case 26:st||lr(n,e),Nr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:st||lr(n,e);var r=Fe,a=Wt;si(n.type)&&(Fe=n.stateNode,Wt=!1),Nr(t,e,n),gc(n.stateNode),Fe=r,Wt=a;break;case 5:st||lr(n,e);case 6:if(r=Fe,a=Wt,Fe=null,Nr(t,e,n),Fe=r,Wt=a,Fe!==null)if(Wt)try{(Fe.nodeType===9?Fe.body:Fe.nodeName==="HTML"?Fe.ownerDocument.body:Fe).removeChild(n.stateNode)}catch(i){Te(n,e,i)}else try{Fe.removeChild(n.stateNode)}catch(i){Te(n,e,i)}break;case 18:Fe!==null&&(Wt?(t=Fe,$b(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),No(t)):$b(Fe,n.stateNode));break;case 4:r=Fe,a=Wt,Fe=n.stateNode.containerInfo,Wt=!0,Nr(t,e,n),Fe=r,Wt=a;break;case 0:case 11:case 14:case 15:Ka(2,n,e),st||Ka(4,n,e),Nr(t,e,n);break;case 1:st||(lr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&qS(n,e,r)),Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:st=(r=st)||n.memoizedState!==null,Nr(t,e,n),st=r;break;default:Nr(t,e,n)}}function XS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{No(t)}catch(n){Te(e,e.return,n)}}}function JS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{No(t)}catch(n){Te(e,e.return,n)}}function FD(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ib),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ib),e;default:throw Error(F(435,t.tag))}}function nh(t,e){var n=FD(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var a=XD.bind(null,t,r);r.then(a,a)}})}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(si(o.type)){Fe=o.stateNode,Wt=!1;break e}break;case 5:Fe=o.stateNode,Wt=!1;break e;case 3:case 4:Fe=o.stateNode.containerInfo,Wt=!0;break e}o=o.return}if(Fe===null)throw Error(F(160));QS(i,s,a),Fe=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ZS(e,t),e=e.sibling}var $n=null;function ZS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(e,t),Yt(t),r&4&&(Ka(3,t,t.return),au(3,t),Ka(5,t,t.return));break;case 1:Gt(e,t),Yt(t),r&512&&(st||n===null||lr(n,n.return)),r&64&&Or&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=$n;if(Gt(e,t),Yt(t),r&512&&(st||n===null||lr(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[eu]||i[At]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),Ot(i,r,n),i[At]=t,bt(i),r=i;break e;case"link":var s=Qb("link","href",a).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;case"meta":if(s=Qb("meta","content",a).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;default:throw Error(F(468,r))}i[At]=t,bt(i),r=i}t.stateNode=r}else Xb(a,t.type,t.stateNode);else t.stateNode=Kb(a,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?Xb(a,t.type,t.stateNode):Kb(a,r,t.memoizedProps)):r===null&&t.stateNode!==null&&ap(t,t.memoizedProps,n.memoizedProps)}break;case 27:Gt(e,t),Yt(t),r&512&&(st||n===null||lr(n,n.return)),n!==null&&r&4&&ap(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Gt(e,t),Yt(t),r&512&&(st||n===null||lr(n,n.return)),t.flags&32){a=t.stateNode;try{_o(a,"")}catch(S){Te(t,t.return,S)}}r&4&&t.stateNode!=null&&(a=t.memoizedProps,ap(t,a,n!==null?n.memoizedProps:a)),r&1024&&(sp=!0);break;case 6:if(Gt(e,t),Yt(t),r&4){if(t.stateNode===null)throw Error(F(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(S){Te(t,t.return,S)}}break;case 3:if(Ph=null,a=$n,$n=Ed(e.containerInfo),Gt(e,t),$n=a,Yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{No(e.containerInfo)}catch(S){Te(t,t.return,S)}sp&&(sp=!1,eA(t));break;case 4:r=$n,$n=Ed(t.stateNode.containerInfo),Gt(e,t),Yt(t),$n=r;break;case 12:Gt(e,t),Yt(t);break;case 31:Gt(e,t),Yt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nh(t,r)));break;case 13:Gt(e,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(vf=mn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nh(t,r)));break;case 22:a=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=Or,d=st;if(Or=h||a,st=d||c,Gt(e,t),st=d,Or=h,Yt(t),r&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||c||Or||st||Oi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(S){Te(c,c.return,S)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(S){Te(c,c.return,S)}}}else if(e.tag===18){if(n===null){c=e;try{var v=c.stateNode;a?qb(v,!0):qb(c.stateNode,!1)}catch(S){Te(c,c.return,S)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,nh(t,n))));break;case 19:Gt(e,t),Yt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,nh(t,r)));break;case 30:break;case 21:break;default:Gt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(GS(r)){n=r;break}r=r.return}if(n==null)throw Error(F(160));switch(n.tag){case 27:var a=n.stateNode,i=ip(t);pd(t,i,a);break;case 5:var s=n.stateNode;n.flags&32&&(_o(s,""),n.flags&=-33);var o=ip(t);pd(t,o,s);break;case 3:case 4:var c=n.stateNode.containerInfo,h=ip(t);Ng(t,h,c);break;default:throw Error(F(161))}}catch(d){Te(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;eA(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Cr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)WS(t,e.alternate,e),e=e.sibling}function Oi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ka(4,e,e.return),Oi(e);break;case 1:lr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&qS(e,e.return,n),Oi(e);break;case 27:gc(e.stateNode);case 26:case 5:lr(e,e.return),Oi(e);break;case 22:e.memoizedState===null&&Oi(e);break;case 30:Oi(e);break;default:Oi(e)}t=t.sibling}}function Rr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Rr(a,i,n),au(4,i);break;case 1:if(Rr(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){Te(r,r.return,h)}if(r=i,a=r.updateQueue,a!==null){var o=r.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)XT(c[a],o)}catch(h){Te(r,r.return,h)}}n&&s&64&&$S(i),dc(i,i.return);break;case 27:YS(i);case 26:case 5:Rr(a,i,n),n&&r===null&&s&4&&HS(i),dc(i,i.return);break;case 12:Rr(a,i,n);break;case 31:Rr(a,i,n),n&&s&4&&XS(a,i);break;case 13:Rr(a,i,n),n&&s&4&&JS(a,i);break;case 22:i.memoizedState===null&&Rr(a,i,n),dc(i,i.return);break;case 30:break;default:Rr(a,i,n)}e=e.sibling}}function R0(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&nu(n))}function I0(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nu(t))}function Fn(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)tA(t,e,n,r),e=e.sibling}function tA(t,e,n,r){var a=e.flags;switch(e.tag){case 0:case 11:case 15:Fn(t,e,n,r),a&2048&&au(9,e);break;case 1:Fn(t,e,n,r);break;case 3:Fn(t,e,n,r),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nu(t)));break;case 12:if(a&2048){Fn(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Te(e,e.return,c)}}else Fn(t,e,n,r);break;case 31:Fn(t,e,n,r);break;case 13:Fn(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?Fn(t,e,n,r):fc(t,e):i._visibility&2?Fn(t,e,n,r):(i._visibility|=2,js(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),a&2048&&R0(s,e);break;case 24:Fn(t,e,n,r),a&2048&&I0(e.alternate,e);break;default:Fn(t,e,n,r)}}function js(t,e,n,r,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,o=n,c=r,h=s.flags;switch(s.tag){case 0:case 11:case 15:js(i,s,o,c,a),au(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?js(i,s,o,c,a):fc(i,s):(d._visibility|=2,js(i,s,o,c,a)),a&&h&2048&&R0(s.alternate,s);break;case 24:js(i,s,o,c,a),a&&h&2048&&I0(s.alternate,s);break;default:js(i,s,o,c,a)}e=e.sibling}}function fc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,a=r.flags;switch(r.tag){case 22:fc(n,r),a&2048&&R0(r.alternate,r);break;case 24:fc(n,r),a&2048&&I0(r.alternate,r);break;default:fc(n,r)}e=e.sibling}}var Wl=8192;function Rs(t,e,n){if(t.subtreeFlags&Wl)for(t=t.child;t!==null;)nA(t,e,n),t=t.sibling}function nA(t,e,n){switch(t.tag){case 26:Rs(t,e,n),t.flags&Wl&&t.memoizedState!==null&&Ck(n,$n,t.memoizedState,t.memoizedProps);break;case 5:Rs(t,e,n);break;case 3:case 4:var r=$n;$n=Ed(t.stateNode.containerInfo),Rs(t,e,n),$n=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Wl,Wl=16777216,Rs(t,e,n),Wl=r):Rs(t,e,n));break;default:Rs(t,e,n)}}function rA(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ll(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_t=r,iA(r,t)}rA(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)aA(t),t=t.sibling}function aA(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Ka(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,jh(t)):Ll(t);break;default:Ll(t)}}function jh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];_t=r,iA(r,t)}rA(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ka(8,e,e.return),jh(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,jh(e));break;default:jh(e)}t=t.sibling}}function iA(t,e){for(;_t!==null;){var n=_t;switch(n.tag){case 0:case 11:case 15:Ka(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:nu(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,_t=r;else e:for(n=t;_t!==null;){r=_t;var a=r.sibling,i=r.return;if(KS(r),r===n){_t=null;break e}if(a!==null){a.return=i,_t=a;break e}_t=i}}}var $D={getCacheForType:function(t){var e=It(ot),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return It(ot).controller.signal}},qD=typeof WeakMap=="function"?WeakMap:Map,_e=0,Re=null,he=null,pe=0,Ee=0,ln=null,Ca=!1,Fo=!1,O0=!1,Wr=0,Je=0,Qa=0,Bi=0,D0=0,dn=0,Eo=0,mc=null,Kt=null,Cg=!1,vf=0,sA=0,gd=1/0,yd=null,Pa=null,ft=0,La=null,To=null,Ur=0,Rg=0,Ig=null,oA=null,pc=0,Og=null;function yn(){return _e&2&&pe!==0?pe&-pe:te.T!==null?j0():gT()}function lA(){if(dn===0)if(!(pe&536870912)||ge){var t=Wu;Wu<<=1,!(Wu&3932160)&&(Wu=262144),dn=t}else dn=536870912;return t=bn.current,t!==null&&(t.flags|=32),dn}function Zt(t,e,n){(t===Re&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)&&(So(t,0),Ra(t,pe,dn,!1)),Zc(t,n),(!(_e&2)||t!==Re)&&(t===Re&&(!(_e&2)&&(Bi|=n),Je===4&&Ra(t,pe,dn,!1)),br(t))}function cA(t,e,n){if(_e&6)throw Error(F(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Jc(t,e),a=r?YD(t,e):op(t,e,!0),i=r;do{if(a===0){Fo&&!r&&Ra(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!HD(n)){a=op(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;a=mc;var c=o.current.memoizedState.isDehydrated;if(c&&(So(o,s).flags|=256),s=op(o,s,!1),s!==2){if(O0&&!c){o.errorRecoveryDisabledLanes|=i,Bi|=i,a=4;break e}i=Kt,Kt=a,i!==null&&(Kt===null?Kt=i:Kt.push.apply(Kt,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){So(t,0),Ra(t,e,0,!0);break}e:{switch(r=t,i=a,i){case 0:case 1:throw Error(F(345));case 4:if((e&4194048)!==e)break;case 6:Ra(r,e,dn,!Ca);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(F(329))}if((e&62914560)===e&&(a=vf+300-mn(),10<a)){if(Ra(r,e,dn,!Ca),of(r,0,!0)!==0)break e;Ur=e,r.timeoutHandle=RA(Ob.bind(null,r,n,Kt,yd,Cg,e,dn,Bi,Eo,Ca,i,"Throttled",-0,0),a);break e}Ob(r,n,Kt,yd,Cg,e,dn,Bi,Eo,Ca,i,null,-0,0)}}break}while(!0);br(t)}function Ob(t,e,n,r,a,i,s,o,c,h,d,m,p,v){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kr},nA(e,i,m);var S=(i&62914560)===i?vf-mn():(i&4194048)===i?sA-mn():0;if(S=Rk(m,S),S!==null){Ur=i,t.cancelPendingCommit=S(kb.bind(null,t,e,i,n,r,a,s,o,c,d,m,null,p,v)),Ra(t,i,s,!h);return}}kb(t,e,i,n,r,a,s,o,c)}function HD(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!_n(i(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ra(t,e,n,r){e&=~D0,e&=~Bi,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var a=e;0<a;){var i=31-gn(a),s=1<<i;r[i]=-1,a&=~s}n!==0&&fT(t,n,e)}function _f(){return _e&6?!0:(iu(0),!1)}function k0(){if(he!==null){if(Ee===0)var t=he.return;else t=he,jr=os=null,v0(t),lo=null,Rc=0,t=he;for(;t!==null;)FS(t.alternate,t),t=t.return;he=null}}function So(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,hk(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ur=0,k0(),Re=t,he=n=Lr(t.current,null),pe=e,Ee=0,ln=null,Ca=!1,Fo=Jc(t,e),O0=!1,Eo=dn=D0=Bi=Qa=Je=0,Kt=mc=null,Cg=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var a=31-gn(r),i=1<<a;e|=t[a],r&=~i}return Wr=e,hf(),n}function uA(t,e){se=null,te.H=Oc,e===Bo||e===ff?(e=cb(),Ee=3):e===h0?(e=cb(),Ee=4):Ee=e===N0?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ln=e,he===null&&(Je=1,fd(t,Cn(e,t.current)))}function hA(){var t=bn.current;return t===null?!0:(pe&4194048)===pe?kn===null:(pe&62914560)===pe||pe&536870912?t===kn:!1}function dA(){var t=te.H;return te.H=Oc,t===null?Oc:t}function fA(){var t=te.A;return te.A=$D,t}function vd(){Je=4,Ca||(pe&4194048)!==pe&&bn.current!==null||(Fo=!0),!(Qa&134217727)&&!(Bi&134217727)||Re===null||Ra(Re,pe,dn,!1)}function op(t,e,n){var r=_e;_e|=2;var a=dA(),i=fA();(Re!==t||pe!==e)&&(yd=null,So(t,e)),e=!1;var s=Je;e:do try{if(Ee!==0&&he!==null){var o=he,c=ln;switch(Ee){case 8:k0(),s=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(e=!0);var h=Ee;if(Ee=0,ln=null,Js(t,o,c,h),n&&Fo){s=0;break e}break;default:h=Ee,Ee=0,ln=null,Js(t,o,c,h)}}GD(),s=Je;break}catch(d){uA(t,d)}while(!0);return e&&t.shellSuspendCounter++,jr=os=null,_e=r,te.H=a,te.A=i,he===null&&(Re=null,pe=0,hf()),s}function GD(){for(;he!==null;)mA(he)}function YD(t,e){var n=_e;_e|=2;var r=dA(),a=fA();Re!==t||pe!==e?(yd=null,gd=mn()+500,So(t,e)):Fo=Jc(t,e);e:do try{if(Ee!==0&&he!==null){e=he;var i=ln;t:switch(Ee){case 1:Ee=0,ln=null,Js(t,e,i,1);break;case 2:case 9:if(lb(i)){Ee=0,ln=null,Db(e);break}e=function(){Ee!==2&&Ee!==9||Re!==t||(Ee=7),br(t)},i.then(e,e);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:lb(i)?(Ee=0,ln=null,Db(e)):(Ee=0,ln=null,Js(t,e,i,7));break;case 5:var s=null;switch(he.tag){case 26:s=he.memoizedState;case 5:case 27:var o=he;if(s?jA(s):o.stateNode.complete){Ee=0,ln=null;var c=o.sibling;if(c!==null)he=c;else{var h=o.return;h!==null?(he=h,bf(h)):he=null}break t}}Ee=0,ln=null,Js(t,e,i,5);break;case 6:Ee=0,ln=null,Js(t,e,i,6);break;case 8:k0(),Je=6;break e;default:throw Error(F(462))}}WD();break}catch(d){uA(t,d)}while(!0);return jr=os=null,te.H=r,te.A=a,_e=n,he!==null?0:(Re=null,pe=0,hf(),Je)}function WD(){for(;he!==null&&!yO();)mA(he)}function mA(t){var e=BS(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,e===null?bf(t):he=e}function Db(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Sb(n,e,e.pendingProps,e.type,void 0,pe);break;case 11:e=Sb(n,e,e.pendingProps,e.type.render,e.ref,pe);break;case 5:v0(e);default:FS(n,e),e=he=FT(e,Wr),e=BS(n,e,Wr)}t.memoizedProps=t.pendingProps,e===null?bf(t):he=e}function Js(t,e,n,r){jr=os=null,v0(e),lo=null,Rc=0;var a=e.return;try{if(PD(t,a,e,n,pe)){Je=1,fd(t,Cn(n,t.current)),he=null;return}}catch(i){if(a!==null)throw he=a,i;Je=1,fd(t,Cn(n,t.current)),he=null;return}e.flags&32768?(ge||r===1?t=!0:Fo||pe&536870912?t=!1:(Ca=t=!0,(r===2||r===9||r===3||r===6)&&(r=bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),pA(e,t)):bf(e)}function bf(t){var e=t;do{if(e.flags&32768){pA(e,Ca);return}t=e.return;var n=UD(e.alternate,e,Wr);if(n!==null){he=n;return}if(e=e.sibling,e!==null){he=e;return}he=e=t}while(e!==null);Je===0&&(Je=5)}function pA(t,e){do{var n=zD(t.alternate,t);if(n!==null){n.flags&=32767,he=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){he=t;return}he=t=n}while(t!==null);Je=6,he=null}function kb(t,e,n,r,a,i,s,o,c){t.cancelPendingCommit=null;do xf();while(ft!==0);if(_e&6)throw Error(F(327));if(e!==null){if(e===t.current)throw Error(F(177));if(i=e.lanes|e.childLanes,i|=a0,NO(t,n,i,s,o,c),t===Re&&(he=Re=null,pe=0),To=e,La=t,Ur=n,Rg=i,Ig=a,oA=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,JD(nd,function(){return bA(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=te.T,te.T=null,a=be.p,be.p=2,s=_e,_e|=4;try{BD(t,e,n)}finally{_e=s,be.p=a,te.T=r}}ft=1,gA(),yA(),vA()}}function gA(){if(ft===1){ft=0;var t=La,e=To,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=te.T,te.T=null;var r=be.p;be.p=2;var a=_e;_e|=4;try{ZS(e,t);var i=Mg,s=jT(t.containerInfo),o=i.focusedElem,c=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&kT(o.ownerDocument.documentElement,o)){if(c!==null&&r0(o)){var h=c.start,d=c.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var v=p.getSelection(),S=o.textContent.length,A=Math.min(c.start,S),R=c.end===void 0?A:Math.min(c.end,S);!v.extend&&A>R&&(s=R,R=A,A=s);var y=tb(o,A),_=tb(o,R);if(y&&_&&(v.rangeCount!==1||v.anchorNode!==y.node||v.anchorOffset!==y.offset||v.focusNode!==_.node||v.focusOffset!==_.offset)){var E=m.createRange();E.setStart(y.node,y.offset),v.removeAllRanges(),A>R?(v.addRange(E),v.extend(_.node,_.offset)):(E.setEnd(_.node,_.offset),v.addRange(E))}}}}for(m=[],v=o;v=v.parentNode;)v.nodeType===1&&m.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var O=m[o];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Ad=!!jg,Mg=jg=null}finally{_e=a,be.p=r,te.T=n}}t.current=e,ft=2}}function yA(){if(ft===2){ft=0;var t=La,e=To,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=te.T,te.T=null;var r=be.p;be.p=2;var a=_e;_e|=4;try{WS(t,e.alternate,e)}finally{_e=a,be.p=r,te.T=n}}ft=3}}function vA(){if(ft===4||ft===3){ft=0,vO();var t=La,e=To,n=Ur,r=oA;e.subtreeFlags&10256||e.flags&10256?ft=5:(ft=0,To=La=null,_A(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(Pa=null),Qy(n),e=e.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Xc,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=te.T,a=be.p,be.p=2,te.T=null;try{for(var i=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{te.T=e,be.p=a}}Ur&3&&xf(),br(t),a=t.pendingLanes,n&261930&&a&42?t===Og?pc++:(pc=0,Og=t):pc=0,iu(0)}}function _A(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,nu(e)))}function xf(){return gA(),yA(),vA(),bA()}function bA(){if(ft!==5)return!1;var t=La,e=Rg;Rg=0;var n=Qy(Ur),r=te.T,a=be.p;try{be.p=32>n?32:n,te.T=null,n=Ig,Ig=null;var i=La,s=Ur;if(ft=0,To=La=null,Ur=0,_e&6)throw Error(F(331));var o=_e;if(_e|=4,aA(i.current),tA(i,i.current,s,n),_e=o,iu(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Xc,i)}catch{}return!0}finally{be.p=a,te.T=r,_A(t,e)}}function jb(t,e,n){e=Cn(n,e),e=Tg(t.stateNode,e,2),t=Ma(t,e,2),t!==null&&(Zc(t,2),br(t))}function Te(t,e,n){if(t.tag===3)jb(t,t,n);else for(;e!==null;){if(e.tag===3){jb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pa===null||!Pa.has(r))){t=Cn(n,t),n=MS(2),r=Ma(e,n,2),r!==null&&(PS(n,r,e,t),Zc(r,2),br(r));break}}e=e.return}}function lp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qD;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(O0=!0,a.add(n),t=KD.bind(null,t,e,n),e.then(t,t))}function KD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Re===t&&(pe&n)===n&&(Je===4||Je===3&&(pe&62914560)===pe&&300>mn()-vf?!(_e&2)&&So(t,0):D0|=n,Eo===pe&&(Eo=0)),br(t)}function xA(t,e){e===0&&(e=dT()),t=ss(t,e),t!==null&&(Zc(t,e),br(t))}function QD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xA(t,n)}function XD(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(F(314))}r!==null&&r.delete(e),xA(t,n)}function JD(t,e){return Wy(t,e)}var _d=null,Ms=null,Dg=!1,bd=!1,cp=!1,Ia=0;function br(t){t!==Ms&&t.next===null&&(Ms===null?_d=Ms=t:Ms=Ms.next=t),bd=!0,Dg||(Dg=!0,ek())}function iu(t,e){if(!cp&&bd){cp=!0;do for(var n=!1,r=_d;r!==null;){if(t!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-gn(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Mb(r,i))}else i=pe,i=of(r,r===Re?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||Jc(r,i)||(n=!0,Mb(r,i));r=r.next}while(n);cp=!1}}function ZD(){wA()}function wA(){bd=Dg=!1;var t=0;Ia!==0&&uk()&&(t=Ia);for(var e=mn(),n=null,r=_d;r!==null;){var a=r.next,i=EA(r,e);i===0?(r.next=null,n===null?_d=a:n.next=a,a===null&&(Ms=n)):(n=r,(t!==0||i&3)&&(bd=!0)),r=a}ft!==0&&ft!==5||iu(t),Ia!==0&&(Ia=0)}function EA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-gn(i),o=1<<s,c=a[s];c===-1?(!(o&n)||o&r)&&(a[s]=AO(o,e)):c<=e&&(t.expiredLanes|=o),i&=~o}if(e=Re,n=pe,n=of(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Lm(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Jc(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Lm(r),Qy(n)){case 2:case 8:n=uT;break;case 32:n=nd;break;case 268435456:n=hT;break;default:n=nd}return r=TA.bind(null,t),n=Wy(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Lm(r),t.callbackPriority=2,t.callbackNode=null,2}function TA(t,e){if(ft!==0&&ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(xf()&&t.callbackNode!==n)return null;var r=pe;return r=of(t,t===Re?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(cA(t,r,e),EA(t,mn()),t.callbackNode!=null&&t.callbackNode===n?TA.bind(null,t):null)}function Mb(t,e){if(xf())return null;cA(t,e,!0)}function ek(){dk(function(){_e&6?Wy(cT,ZD):wA()})}function j0(){if(Ia===0){var t=bo;t===0&&(t=Yu,Yu<<=1,!(Yu&261888)&&(Yu=256)),Ia=t}return Ia}function Pb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sh(""+t)}function Lb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function tk(t,e,n,r,a){if(e==="submit"&&n&&n.stateNode===a){var i=Pb((a[tn]||null).action),s=r.submitter;s&&(e=(e=s[tn]||null)?Pb(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new lf("action","action",null,r,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ia!==0){var c=s?Lb(a,s):new FormData(a);wg(n,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(o.preventDefault(),c=s?Lb(a,s):new FormData(a),wg(n,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var up=0;up<ug.length;up++){var hp=ug[up],nk=hp.toLowerCase(),rk=hp[0].toUpperCase()+hp.slice(1);Qn(nk,"on"+rk)}Qn(PT,"onAnimationEnd");Qn(LT,"onAnimationIteration");Qn(VT,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(_D,"onTransitionRun");Qn(bD,"onTransitionStart");Qn(xD,"onTransitionCancel");Qn(UT,"onTransitionEnd");vo("onMouseEnter",["mouseout","mouseover"]);vo("onMouseLeave",["mouseout","mouseover"]);vo("onPointerEnter",["pointerout","pointerover"]);vo("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ak=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dc));function SA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=h;try{i(a)}catch(d){ad(d)}a.currentTarget=null,i=c}else for(s=0;s<r.length;s++){if(o=r[s],c=o.instance,h=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=h;try{i(a)}catch(d){ad(d)}a.currentTarget=null,i=c}}}}function ue(t,e){var n=e[ng];n===void 0&&(n=e[ng]=new Set);var r=t+"__bubble";n.has(r)||(AA(e,t,2,!1),n.add(r))}function dp(t,e,n){var r=0;e&&(r|=4),AA(n,t,r,e)}var rh="_reactListening"+Math.random().toString(36).slice(2);function M0(t){if(!t[rh]){t[rh]=!0,yT.forEach(function(n){n!=="selectionchange"&&(ak.has(n)||dp(n,!1,t),dp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rh]||(e[rh]=!0,dp("selectionchange",!1,e))}}function AA(t,e,n,r){switch(UA(e)){case 2:var a=Dk;break;case 8:a=kk;break;default:a=U0}n=a.bind(null,e,n,t),a=void 0,!og||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function fp(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=$s(o),s===null)return;if(c=s.tag,c===5||c===6||c===26||c===27){r=i=s;continue e}o=o.parentNode}}r=r.return}ST(function(){var h=i,d=Zy(n),m=[];e:{var p=zT.get(t);if(p!==void 0){var v=lf,S=t;switch(t){case"keypress":if(Nh(n)===0)break e;case"keydown":case"keyup":v=XO;break;case"focusin":S="focus",v=Fm;break;case"focusout":S="blur",v=Fm;break;case"beforeblur":case"afterblur":v=Fm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=UO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=eD;break;case PT:case LT:case VT:v=FO;break;case UT:v=nD;break;case"scroll":case"scrollend":v=LO;break;case"wheel":v=aD;break;case"copy":case"cut":case"paste":v=qO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Y1;break;case"toggle":case"beforetoggle":v=sD}var A=(e&4)!==0,R=!A&&(t==="scroll"||t==="scrollend"),y=A?p!==null?p+"Capture":null:p;A=[];for(var _=h,E;_!==null;){var O=_;if(E=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||E===null||y===null||(O=Tc(_,y),O!=null&&A.push(kc(_,O,E))),R)break;_=_.return}0<A.length&&(p=new v(p,S,null,n,d),m.push({event:p,listeners:A}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==sg&&(S=n.relatedTarget||n.fromElement)&&($s(S)||S[Vo]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(S=n.relatedTarget||n.toElement,v=h,S=S?$s(S):null,S!==null&&(R=Qc(S),A=S.tag,S!==R||A!==5&&A!==27&&A!==6)&&(S=null)):(v=null,S=h),v!==S)){if(A=H1,O="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(A=Y1,O="onPointerLeave",y="onPointerEnter",_="pointer"),R=v==null?p:Gl(v),E=S==null?p:Gl(S),p=new A(O,_+"leave",v,n,d),p.target=R,p.relatedTarget=E,O=null,$s(d)===h&&(A=new A(y,_+"enter",S,n,d),A.target=E,A.relatedTarget=R,O=A),R=O,v&&S)t:{for(A=ik,y=v,_=S,E=0,O=y;O;O=A(O))E++;O=0;for(var V=_;V;V=A(V))O++;for(;0<E-O;)y=A(y),E--;for(;0<O-E;)_=A(_),O--;for(;E--;){if(y===_||_!==null&&y===_.alternate){A=y;break t}y=A(y),_=A(_)}A=null}else A=null;v!==null&&Vb(m,p,v,A,!1),S!==null&&R!==null&&Vb(m,R,S,A,!0)}}e:{if(p=h?Gl(h):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var H=X1;else if(Q1(p))if(OT)H=gD;else{H=mD;var T=fD}else v=p.nodeName,!v||v.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&Jy(h.elementType)&&(H=X1):H=pD;if(H&&(H=H(t,h))){IT(m,H,n,d);break e}T&&T(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&ig(p,"number",p.value)}switch(T=h?Gl(h):window,t){case"focusin":(Q1(T)||T.contentEditable==="true")&&(Gs=T,lg=h,sc=null);break;case"focusout":sc=lg=Gs=null;break;case"mousedown":cg=!0;break;case"contextmenu":case"mouseup":case"dragend":cg=!1,nb(m,n,d);break;case"selectionchange":if(vD)break;case"keydown":case"keyup":nb(m,n,d)}var w;if(n0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hs?CT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(NT&&n.locale!=="ko"&&(Hs||b!=="onCompositionStart"?b==="onCompositionEnd"&&Hs&&(w=AT()):(Na=d,e0="value"in Na?Na.value:Na.textContent,Hs=!0)),T=xd(h,b),0<T.length&&(b=new G1(b,t,null,n,d),m.push({event:b,listeners:T}),w?b.data=w:(w=RT(n),w!==null&&(b.data=w)))),(w=lD?cD(t,n):uD(t,n))&&(b=xd(h,"onBeforeInput"),0<b.length&&(T=new G1("onBeforeInput","beforeinput",null,n,d),m.push({event:T,listeners:b}),T.data=w)),tk(m,t,h,n,d)}SA(m,e)})}function kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xd(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=Tc(t,n),a!=null&&r.unshift(kc(t,a,i)),a=Tc(t,e),a!=null&&r.push(kc(t,a,i))),t.tag===3)return r;t=t.return}return[]}function ik(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vb(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var o=n,c=o.alternate,h=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||h===null||(c=h,a?(h=Tc(n,i),h!=null&&s.unshift(kc(n,h,c))):a||(h=Tc(n,i),h!=null&&s.push(kc(n,h,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var sk=/\r\n?/g,ok=/\u0000|\uFFFD/g;function Ub(t){return(typeof t=="string"?t:""+t).replace(sk,`
`).replace(ok,"")}function NA(t,e){return e=Ub(e),Ub(t)===e}function Ae(t,e,n,r,a,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||_o(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&_o(t,""+r);break;case"className":Qu(t,"class",r);break;case"tabIndex":Qu(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Qu(t,n,r);break;case"style":TT(t,r,i);break;case"data":if(e!=="object"){Qu(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Sh(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Ae(t,e,"name",a.name,a,null),Ae(t,e,"formEncType",a.formEncType,a,null),Ae(t,e,"formMethod",a.formMethod,a,null),Ae(t,e,"formTarget",a.formTarget,a,null)):(Ae(t,e,"encType",a.encType,a,null),Ae(t,e,"method",a.method,a,null),Ae(t,e,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Sh(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=kr);break;case"onScroll":r!=null&&ue("scroll",t);break;case"onScrollEnd":r!=null&&ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(F(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Sh(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":ue("beforetoggle",t),ue("toggle",t),Th(t,"popover",r);break;case"xlinkActuate":Sr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Sr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Sr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Sr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Sr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Sr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Th(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=MO.get(n)||n,Th(t,n,r))}}function kg(t,e,n,r,a,i){switch(n){case"style":TT(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(F(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"children":typeof r=="string"?_o(t,r):(typeof r=="number"||typeof r=="bigint")&&_o(t,""+r);break;case"onScroll":r!=null&&ue("scroll",t);break;case"onScrollEnd":r!=null&&ue("scrollend",t);break;case"onClick":r!=null&&(t.onclick=kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),i=t[tn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,a);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Th(t,n,r)}}}function Ot(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",t),ue("load",t);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Ae(t,e,i,s,n,null)}}a&&Ae(t,e,"srcSet",n.srcSet,n,null),r&&Ae(t,e,"src",n.src,n,null);return;case"input":ue("invalid",t);var o=i=s=a=null,c=null,h=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(F(137,e));break;default:Ae(t,e,r,d,n,null)}}xT(t,i,o,c,h,s,a,!1);return;case"select":ue("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ae(t,e,a,o,n,null)}e=i,n=s,t.multiple=!!r,e!=null?io(t,!!r,e,!1):n!=null&&io(t,!!r,n,!0);return;case"textarea":ue("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(F(91));break;default:Ae(t,e,s,o,n,null)}ET(t,r,a,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ae(t,e,c,r,n,null)}return;case"dialog":ue("beforetoggle",t),ue("toggle",t),ue("cancel",t),ue("close",t);break;case"iframe":case"object":ue("load",t);break;case"video":case"audio":for(r=0;r<Dc.length;r++)ue(Dc[r],t);break;case"image":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"embed":case"source":case"link":ue("error",t),ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(r=n[h],r!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Ae(t,e,h,r,n,null)}return;default:if(Jy(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&kg(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ae(t,e,o,r,n,null))}function lk(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,c=null,h=null,d=null;for(v in n){var m=n[v];if(n.hasOwnProperty(v)&&m!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":c=m;default:r.hasOwnProperty(v)||Ae(t,e,v,null,r,m)}}for(var p in r){var v=r[p];if(m=n[p],r.hasOwnProperty(p)&&(v!=null||m!=null))switch(p){case"type":i=v;break;case"name":a=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":s=v;break;case"defaultValue":o=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(F(137,e));break;default:v!==m&&Ae(t,e,p,v,r,m)}}ag(t,s,o,c,h,d,i,a);return;case"select":v=s=o=p=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":v=c;default:r.hasOwnProperty(i)||Ae(t,e,i,null,r,c)}for(a in r)if(i=r[a],c=n[a],r.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":p=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==c&&Ae(t,e,a,i,r,c)}e=o,n=s,r=v,p!=null?io(t,!!n,p,!1):!!r!=!!n&&(e!=null?io(t,!!n,e,!0):io(t,!!n,n?[]:"",!1));return;case"textarea":v=p=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ae(t,e,o,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":p=a;break;case"defaultValue":v=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(F(91));break;default:a!==i&&Ae(t,e,s,a,r,i)}wT(t,p,v);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!r.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:Ae(t,e,S,null,r,p)}for(c in r)if(p=r[c],v=n[c],r.hasOwnProperty(c)&&p!==v&&(p!=null||v!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ae(t,e,c,p,r,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!=null&&!r.hasOwnProperty(A)&&Ae(t,e,A,null,r,p);for(h in r)if(p=r[h],v=n[h],r.hasOwnProperty(h)&&p!==v&&(p!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(F(137,e));break;default:Ae(t,e,h,p,r,v)}return;default:if(Jy(e)){for(var R in n)p=n[R],n.hasOwnProperty(R)&&p!==void 0&&!r.hasOwnProperty(R)&&kg(t,e,R,void 0,r,p);for(d in r)p=r[d],v=n[d],!r.hasOwnProperty(d)||p===v||p===void 0&&v===void 0||kg(t,e,d,p,r,v);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y)&&Ae(t,e,y,null,r,p);for(m in r)p=r[m],v=n[m],!r.hasOwnProperty(m)||p===v||p==null&&v==null||Ae(t,e,m,p,r,v)}function zb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ck(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&zb(s)){for(s=0,o=a.responseEnd,r+=1;r<n.length;r++){var c=n[r],h=c.startTime;if(h>o)break;var d=c.transferSize,m=c.initiatorType;d&&zb(m)&&(c=c.responseEnd,s+=d*(c<o?1:(o-h)/(c-h)))}if(--r,e+=8*(i+s)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jg=null,Mg=null;function wd(t){return t.nodeType===9?t:t.ownerDocument}function Bb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function CA(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Pg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mp=null;function uk(){var t=window.event;return t&&t.type==="popstate"?t===mp?!1:(mp=t,!0):(mp=null,!1)}var RA=typeof setTimeout=="function"?setTimeout:void 0,hk=typeof clearTimeout=="function"?clearTimeout:void 0,Fb=typeof Promise=="function"?Promise:void 0,dk=typeof queueMicrotask=="function"?queueMicrotask:typeof Fb<"u"?function(t){return Fb.resolve(null).then(t).catch(fk)}:RA;function fk(t){setTimeout(function(){throw t})}function si(t){return t==="head"}function $b(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(a),No(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")gc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,gc(n);for(var i=n.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[eu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=s}}else n==="body"&&gc(t.ownerDocument.body);n=a}while(n);No(e)}function qb(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Lg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lg(n),Xy(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function mk(t,e,n,r){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[eu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function pk(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function IA(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=jn(t.nextSibling),t===null))return null;return t}function Vg(t){return t.data==="$?"||t.data==="$~"}function Ug(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gk(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var zg=null;function Hb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return jn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Gb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function OA(t,e,n){switch(e=wd(n),t){case"html":if(t=e.documentElement,!t)throw Error(F(452));return t;case"head":if(t=e.head,!t)throw Error(F(453));return t;case"body":if(t=e.body,!t)throw Error(F(454));return t;default:throw Error(F(451))}}function gc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Xy(t)}var Pn=new Map,Yb=new Set;function Ed(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ta=be.d;be.d={f:yk,r:vk,D:_k,C:bk,L:xk,m:wk,X:Tk,S:Ek,M:Sk};function yk(){var t=ta.f(),e=_f();return t||e}function vk(t){var e=Uo(t);e!==null&&e.tag===5&&e.type==="form"?TS(e):ta.r(t)}var $o=typeof document>"u"?null:document;function DA(t,e,n){var r=$o;if(r&&typeof e=="string"&&e){var a=Nn(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Yb.has(a)||(Yb.add(a),t={rel:t,crossOrigin:n,href:e},r.querySelector(a)===null&&(e=r.createElement("link"),Ot(e,"link",t),bt(e),r.head.appendChild(e)))}}function _k(t){ta.D(t),DA("dns-prefetch",t,null)}function bk(t,e){ta.C(t,e),DA("preconnect",t,e)}function xk(t,e,n){ta.L(t,e,n);var r=$o;if(r&&t&&e){var a='link[rel="preload"][as="'+Nn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Nn(n.imageSizes)+'"]')):a+='[href="'+Nn(t)+'"]';var i=a;switch(e){case"style":i=Ao(t);break;case"script":i=qo(t)}Pn.has(i)||(t=Ue({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Pn.set(i,t),r.querySelector(a)!==null||e==="style"&&r.querySelector(su(i))||e==="script"&&r.querySelector(ou(i))||(e=r.createElement("link"),Ot(e,"link",t),bt(e),r.head.appendChild(e)))}}function wk(t,e){ta.m(t,e);var n=$o;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+Nn(r)+'"][href="'+Nn(t)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=qo(t)}if(!Pn.has(i)&&(t=Ue({rel:"modulepreload",href:t},e),Pn.set(i,t),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ou(i)))return}r=n.createElement("link"),Ot(r,"link",t),bt(r),n.head.appendChild(r)}}}function Ek(t,e,n){ta.S(t,e,n);var r=$o;if(r&&t){var a=ao(r).hoistableStyles,i=Ao(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(su(i)))o.loading=5;else{t=Ue({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Pn.get(i))&&P0(t,n);var c=s=r.createElement("link");bt(c),Ot(c,"link",t),c._p=new Promise(function(h,d){c.onload=h,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Mh(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function Tk(t,e){ta.X(t,e);var n=$o;if(n&&t){var r=ao(n).hoistableScripts,a=qo(t),i=r.get(a);i||(i=n.querySelector(ou(a)),i||(t=Ue({src:t,async:!0},e),(e=Pn.get(a))&&L0(t,e),i=n.createElement("script"),bt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function Sk(t,e){ta.M(t,e);var n=$o;if(n&&t){var r=ao(n).hoistableScripts,a=qo(t),i=r.get(a);i||(i=n.querySelector(ou(a)),i||(t=Ue({src:t,async:!0,type:"module"},e),(e=Pn.get(a))&&L0(t,e),i=n.createElement("script"),bt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function Wb(t,e,n,r){var a=(a=Da.current)?Ed(a):null;if(!a)throw Error(F(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ao(n.href),n=ao(a).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ao(n.href);var i=ao(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(su(t)))&&!i._p&&(s.instance=i,s.state.loading=5),Pn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pn.set(t,n),i||Ak(a,t,n,s.state))),e&&r===null)throw Error(F(528,""));return s}if(e&&r!==null)throw Error(F(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=qo(n),n=ao(a).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,t))}}function Ao(t){return'href="'+Nn(t)+'"'}function su(t){return'link[rel="stylesheet"]['+t+"]"}function kA(t){return Ue({},t,{"data-precedence":t.precedence,precedence:null})}function Ak(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ot(e,"link",n),bt(e),t.head.appendChild(e))}function qo(t){return'[src="'+Nn(t)+'"]'}function ou(t){return"script[async]"+t}function Kb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(r)return e.instance=r,bt(r),r;var a=Ue({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),bt(r),Ot(r,"style",a),Mh(r,n.precedence,t),e.instance=r;case"stylesheet":a=Ao(n.href);var i=t.querySelector(su(a));if(i)return e.state.loading|=4,e.instance=i,bt(i),i;r=kA(n),(a=Pn.get(a))&&P0(r,a),i=(t.ownerDocument||t).createElement("link"),bt(i);var s=i;return s._p=new Promise(function(o,c){s.onload=o,s.onerror=c}),Ot(i,"link",r),e.state.loading|=4,Mh(i,n.precedence,t),e.instance=i;case"script":return i=qo(n.src),(a=t.querySelector(ou(i)))?(e.instance=a,bt(a),a):(r=n,(a=Pn.get(i))&&(r=Ue({},n),L0(r,a)),t=t.ownerDocument||t,a=t.createElement("script"),bt(a),Ot(a,"link",r),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(F(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Mh(r,n.precedence,t));return e.instance}function Mh(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function P0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function L0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Ph=null;function Qb(t,e,n){if(Ph===null){var r=new Map,a=Ph=new Map;a.set(n,r)}else a=Ph,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var i=n[a];if(!(i[eu]||i[At]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function Xb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function Nk(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function jA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function Ck(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=Ao(r.href),i=e.querySelector(su(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Td.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,bt(i);return}i=e.ownerDocument||e,r=kA(r),(a=Pn.get(a))&&P0(r,a),i=i.createElement("link"),bt(i);var s=i;s._p=new Promise(function(o,c){s.onload=o,s.onerror=c}),Ot(i,"link",r),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Td.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var pp=0;function Rk(t,e){return t.stylesheets&&t.count===0&&Lh(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Lh(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&pp===0&&(pp=62500*ck());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Lh(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>pp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}function Td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sd=null;function Lh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sd=new Map,e.forEach(Ik,t),Sd=null,Td.call(t))}function Ik(t,e){if(!(e.state.loading&4)){var n=Sd.get(t);if(n)var r=n.get(null);else{n=new Map,Sd.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=e.instance,s=a.getAttribute("data-precedence"),i=n.get(s)||r,i===r&&n.set(null,a),n.set(s,a),this.count++,r=Td.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var jc={$$typeof:Dr,Provider:null,Consumer:null,_currentValue:Li,_currentValue2:Li,_threadCount:0};function Ok(t,e,n,r,a,i,s,o,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vm(0),this.hiddenUpdates=Vm(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function MA(t,e,n,r,a,i,s,o,c,h,d,m){return t=new Ok(t,e,n,s,c,h,d,m,o),e=1,i===!0&&(e|=24),i=un(3,null,null,e),t.current=i,i.stateNode=t,e=c0(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},d0(i),t}function PA(t){return t?(t=Ks,t):Ks}function LA(t,e,n,r,a,i){a=PA(a),r.context===null?r.context=a:r.pendingContext=a,r=ja(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=Ma(t,r,e),n!==null&&(Zt(n,t,e),lc(n,t,e))}function Jb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V0(t,e){Jb(t,e),(t=t.alternate)&&Jb(t,e)}function VA(t){if(t.tag===13||t.tag===31){var e=ss(t,67108864);e!==null&&Zt(e,t,67108864),V0(t,67108864)}}function Zb(t){if(t.tag===13||t.tag===31){var e=yn();e=Ky(e);var n=ss(t,e);n!==null&&Zt(n,t,e),V0(t,e)}}var Ad=!0;function Dk(t,e,n,r){var a=te.T;te.T=null;var i=be.p;try{be.p=2,U0(t,e,n,r)}finally{be.p=i,te.T=a}}function kk(t,e,n,r){var a=te.T;te.T=null;var i=be.p;try{be.p=8,U0(t,e,n,r)}finally{be.p=i,te.T=a}}function U0(t,e,n,r){if(Ad){var a=Bg(r);if(a===null)fp(t,e,r,Nd,n),ex(t,r);else if(Mk(a,t,e,n,r))r.stopPropagation();else if(ex(t,r),e&4&&-1<jk.indexOf(t)){for(;a!==null;){var i=Uo(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=Ri(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var c=1<<31-gn(s);o.entanglements[1]|=c,s&=~c}br(i),!(_e&6)&&(gd=mn()+500,iu(0))}}break;case 31:case 13:o=ss(i,2),o!==null&&Zt(o,i,2),_f(),V0(i,2)}if(i=Bg(r),i===null&&fp(t,e,r,Nd,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else fp(t,e,r,null,n)}}function Bg(t){return t=Zy(t),z0(t)}var Nd=null;function z0(t){if(Nd=null,t=$s(t),t!==null){var e=Qc(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=aT(e),t!==null)return t;t=null}else if(n===31){if(t=iT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Nd=t,null}function UA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_O()){case cT:return 2;case uT:return 8;case nd:case bO:return 32;case hT:return 268435456;default:return 32}default:return 32}}var Fg=!1,Va=null,Ua=null,za=null,Mc=new Map,Pc=new Map,xa=[],jk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ex(t,e){switch(t){case"focusin":case"focusout":Va=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":Mc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(e.pointerId)}}function Vl(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=Uo(e),e!==null&&VA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function Mk(t,e,n,r,a){switch(e){case"focusin":return Va=Vl(Va,t,e,n,r,a),!0;case"dragenter":return Ua=Vl(Ua,t,e,n,r,a),!0;case"mouseover":return za=Vl(za,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Mc.set(i,Vl(Mc.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Pc.set(i,Vl(Pc.get(i)||null,t,e,n,r,a)),!0}return!1}function zA(t){var e=$s(t.target);if(e!==null){var n=Qc(e);if(n!==null){if(e=n.tag,e===13){if(e=aT(n),e!==null){t.blockedOn=e,V1(t.priority,function(){Zb(n)});return}}else if(e===31){if(e=iT(n),e!==null){t.blockedOn=e,V1(t.priority,function(){Zb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bg(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sg=r,n.target.dispatchEvent(r),sg=null}else return e=Uo(n),e!==null&&VA(e),t.blockedOn=n,!1;e.shift()}return!0}function tx(t,e,n){Vh(t)&&n.delete(e)}function Pk(){Fg=!1,Va!==null&&Vh(Va)&&(Va=null),Ua!==null&&Vh(Ua)&&(Ua=null),za!==null&&Vh(za)&&(za=null),Mc.forEach(tx),Pc.forEach(tx)}function ah(t,e){t.blockedOn===e&&(t.blockedOn=null,Fg||(Fg=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,Pk)))}var ih=null;function nx(t){ih!==t&&(ih=t,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if(typeof r!="function"){if(z0(r||n)===null)continue;break}var i=Uo(n);i!==null&&(t.splice(e,3),e-=3,wg(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function No(t){function e(c){return ah(c,t)}Va!==null&&ah(Va,t),Ua!==null&&ah(Ua,t),za!==null&&ah(za,t),Mc.forEach(e),Pc.forEach(e);for(var n=0;n<xa.length;n++){var r=xa[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<xa.length&&(n=xa[0],n.blockedOn===null);)zA(n),n.blockedOn===null&&xa.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[tn]||null;if(typeof i=="function")s||nx(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[tn]||null)o=s.formAction;else if(z0(a)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),nx(n)}}}function BA(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function B0(t){this._internalRoot=t}wf.prototype.render=B0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));var n=e.current,r=yn();LA(n,r,t,e,null,null)};wf.prototype.unmount=B0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;LA(t.current,2,null,t,null,null),_f(),e[Vo]=null}};function wf(t){this._internalRoot=t}wf.prototype.unstable_scheduleHydration=function(t){if(t){var e=gT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xa.length&&e!==0&&e<xa[n].priority;n++);xa.splice(n,0,t),n===0&&zA(t)}};var rx=nT.version;if(rx!=="19.2.3")throw Error(F(527,rx,"19.2.3"));be.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=dO(e),t=t!==null?sT(t):null,t=t===null?null:t.stateNode,t};var Lk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Xc=sh.inject(Lk),pn=sh}catch{}}af.createRoot=function(t,e){if(!rT(t))throw Error(F(299));var n=!1,r="",a=DS,i=kS,s=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=MA(t,1,!1,null,null,n,r,null,a,i,s,BA),t[Vo]=e.current,M0(t),new B0(e)};af.hydrateRoot=function(t,e,n){if(!rT(t))throw Error(F(299));var r=!1,a="",i=DS,s=kS,o=jS,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=MA(t,1,!0,e,n??null,r,a,c,i,s,o,BA),e.context=PA(null),n=e.current,r=yn(),r=Ky(r),a=ja(r),a.callback=null,Ma(n,a,r),n=r,e.current.lanes=n,Zc(e,n),br(e),t[Vo]=e.current,M0(t),new wf(e)};af.version="19.2.3";function FA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FA)}catch(t){console.error(t)}}FA(),QE.exports=af;var Vk=QE.exports;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ax="popstate";function Uk(t={}){function e(r,a){let{pathname:i,search:s,hash:o}=r.location;return $g("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Lc(a)}return Bk(e,n,null,t)}function $e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ln(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zk(){return Math.random().toString(36).substring(2,10)}function ix(t,e){return{usr:t.state,key:t.key,idx:e}}function $g(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ho(e):e,state:n,key:e&&e.key||r||zk()}}function Lc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ho(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Bk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",c=null,h=d();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function d(){return(s.state||{idx:null}).idx}function m(){o="POP";let R=d(),y=R==null?null:R-h;h=R,c&&c({action:o,location:A.location,delta:y})}function p(R,y){o="PUSH";let _=$g(A.location,R,y);h=d()+1;let E=ix(_,h),O=A.createHref(_);try{s.pushState(E,"",O)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(O)}i&&c&&c({action:o,location:A.location,delta:1})}function v(R,y){o="REPLACE";let _=$g(A.location,R,y);h=d();let E=ix(_,h),O=A.createHref(_);s.replaceState(E,"",O),i&&c&&c({action:o,location:A.location,delta:0})}function S(R){return Fk(R)}let A={get action(){return o},get location(){return t(a,s)},listen(R){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(ax,m),c=R,()=>{a.removeEventListener(ax,m),c=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let y=S(R);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:v,go(R){return s.go(R)}};return A}function Fk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$e(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Lc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function $A(t,e,n="/"){return $k(t,e,n,!1)}function $k(t,e,n,r){let a=typeof e=="string"?Ho(e):e,i=Kr(a.pathname||"/",n);if(i==null)return null;let s=qA(t);qk(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let h=tj(i);o=Zk(s[c],h,r)}return o}function qA(t,e=[],n=[],r="",a=!1){let i=(s,o,c=a,h)=>{let d={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&c)return;$e(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let m=zr([r,d.relativePath]),p=n.concat(d);s.children&&s.children.length>0&&($e(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),qA(s.children,e,p,m,c)),!(s.path==null&&!s.index)&&e.push({path:m,score:Xk(m,s.index),routesMeta:p})};return t.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,o);else for(let h of HA(s.path))i(s,o,!0,h)}),e}function HA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=HA(r.join("/")),o=[];return o.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function qk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Jk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Hk=/^:[\w-]+$/,Gk=3,Yk=2,Wk=1,Kk=10,Qk=-2,sx=t=>t==="*";function Xk(t,e){let n=t.split("/"),r=n.length;return n.some(sx)&&(r+=Qk),e&&(r+=Yk),n.filter(a=>!sx(a)).reduce((a,i)=>a+(Hk.test(i)?Gk:i===""?Wk:Kk),r)}function Jk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function Zk(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",s=[];for(let o=0;o<r.length;++o){let c=r[o],h=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=Cd({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},d),p=c.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Cd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:zr([i,m.pathname]),pathnameBase:ij(zr([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=zr([i,m.pathnameBase]))}return s}function Cd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ej(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:m},p)=>{if(d==="*"){let S=o[p]||"";s=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const v=o[p];return m&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:s,pattern:t}}function ej(t,e=!1,n=!0){Ln(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function tj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var GA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nj=t=>GA.test(t);function rj(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ho(t):t,i;if(n)if(nj(n))i=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?i=ox(n.substring(1),"/"):i=ox(n,e)}else i=e;return{pathname:i,search:sj(r),hash:oj(a)}}function ox(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function gp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F0(t){let e=aj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function $0(t,e,n,r=!1){let a;typeof t=="string"?a=Ho(t):(a={...t},$e(!a.pathname||!a.pathname.includes("?"),gp("?","pathname","search",a)),$e(!a.pathname||!a.pathname.includes("#"),gp("#","pathname","hash",a)),$e(!a.search||!a.search.includes("#"),gp("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}o=m>=0?e[m]:"/"}let c=rj(a,o),h=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||d)&&(c.pathname+="/"),c}var zr=t=>t.join("/").replace(/\/\/+/g,"/"),ij=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sj=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oj=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,lj=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function uj(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function WA(t,e){let n=t;if(typeof n!="string"||!GA.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(YA)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),o=Kr(s.pathname,e);s.origin===i.origin&&o!=null?n=o+s.search+s.hash:a=!0}catch{Ln(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KA=["POST","PUT","PATCH","DELETE"];new Set(KA);var hj=["GET",...KA];new Set(hj);var Go=I.createContext(null);Go.displayName="DataRouter";var Ef=I.createContext(null);Ef.displayName="DataRouterState";var dj=I.createContext(!1),QA=I.createContext({isTransitioning:!1});QA.displayName="ViewTransition";var fj=I.createContext(new Map);fj.displayName="Fetchers";var mj=I.createContext(null);mj.displayName="Await";var xn=I.createContext(null);xn.displayName="Navigation";var lu=I.createContext(null);lu.displayName="Location";var Xn=I.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var q0=I.createContext(null);q0.displayName="RouteError";var XA="REACT_ROUTER_ERROR",pj="REDIRECT",gj="ROUTE_ERROR_RESPONSE";function yj(t){if(t.startsWith(`${XA}:${pj}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function vj(t){if(t.startsWith(`${XA}:${gj}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new lj(e.status,e.statusText,e.data)}catch{}}function _j(t,{relative:e}={}){$e(Yo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(xn),{hash:a,pathname:i,search:s}=cu(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:zr([n,i])),r.createHref({pathname:o,search:s,hash:a})}function Yo(){return I.useContext(lu)!=null}function na(){return $e(Yo(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(lu).location}var JA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZA(t){I.useContext(xn).static||I.useLayoutEffect(t)}function Wo(){let{isDataRoute:t}=I.useContext(Xn);return t?Dj():bj()}function bj(){$e(Yo(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(Go),{basename:e,navigator:n}=I.useContext(xn),{matches:r}=I.useContext(Xn),{pathname:a}=na(),i=JSON.stringify(F0(r)),s=I.useRef(!1);return ZA(()=>{s.current=!0}),I.useCallback((c,h={})=>{if(Ln(s.current,JA),!s.current)return;if(typeof c=="number"){n.go(c);return}let d=$0(c,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:zr([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,a,t])}I.createContext(null);function e2(){let{matches:t}=I.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function cu(t,{relative:e}={}){let{matches:n}=I.useContext(Xn),{pathname:r}=na(),a=JSON.stringify(F0(n));return I.useMemo(()=>$0(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function xj(t,e){return t2(t,e)}function t2(t,e,n,r,a){var _;$e(Yo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=I.useContext(xn),{matches:s}=I.useContext(Xn),o=s[s.length-1],c=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let E=m&&m.path||"";r2(h,!m||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=na(),v;if(e){let E=typeof e=="string"?Ho(e):e;$e(d==="/"||((_=E.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),v=E}else v=p;let S=v.pathname||"/",A=S;if(d!=="/"){let E=d.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(E.length).join("/")}let R=$A(t,{pathname:A});Ln(m||R!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ln(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Aj(R&&R.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:zr([d,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:zr([d,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,n,r,a);return e&&y?I.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},y):y}function wj(){let t=Oj(),e=cj(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=I.createElement(I.Fragment,null,I.createElement("p",null," Hey developer "),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:i},"ErrorBoundary")," or"," ",I.createElement("code",{style:i},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:a},n):null,s)}var Ej=I.createElement(wj,null),n2=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=vj(t.digest);n&&(t=n)}let e=t!==void 0?I.createElement(Xn.Provider,{value:this.props.routeContext},I.createElement(q0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?I.createElement(Tj,{error:t},e):e}};n2.contextType=dj;var yp=new WeakMap;function Tj({children:t,error:e}){let{basename:n}=I.useContext(xn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=yj(e.digest);if(r){let a=yp.get(e);if(a)throw a;let i=WA(r.location,n);if(YA&&!yp.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw yp.set(e,s),s}return I.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Sj({routeContext:t,match:e,children:n}){let r=I.useContext(Go);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(Xn.Provider,{value:t},n)}function Aj(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let d=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);$e(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:p,errors:v}=n,S=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||S){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let h=n&&r?(d,m)=>{var p,v;r(d,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},unstable_pattern:uj(n.matches),errorInfo:m})}:void 0;return i.reduceRight((d,m,p)=>{let v,S=!1,A=null,R=null;n&&(v=s&&m.route.id?s[m.route.id]:void 0,A=m.route.errorElement||Ej,o&&(c<0&&p===0?(r2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):c===p&&(S=!0,R=m.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,p+1)),_=()=>{let E;return v?E=A:S?E=R:m.route.Component?E=I.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=d,I.createElement(Sj,{match:m,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:E})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?I.createElement(n2,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:h}):_()},null)}function H0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nj(t){let e=I.useContext(Go);return $e(e,H0(t)),e}function Cj(t){let e=I.useContext(Ef);return $e(e,H0(t)),e}function Rj(t){let e=I.useContext(Xn);return $e(e,H0(t)),e}function G0(t){let e=Rj(t),n=e.matches[e.matches.length-1];return $e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Ij(){return G0("useRouteId")}function Oj(){var r;let t=I.useContext(q0),e=Cj("useRouteError"),n=G0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Dj(){let{router:t}=Nj("useNavigate"),e=G0("useNavigate"),n=I.useRef(!1);return ZA(()=>{n.current=!0}),I.useCallback(async(a,i={})=>{Ln(n.current,JA),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var lx={};function r2(t,e,n){!e&&!lx[t]&&(lx[t]=!0,Ln(!1,n))}I.memo(kj);function kj({routes:t,future:e,state:n,onError:r}){return t2(t,void 0,n,r,e)}function jj({to:t,replace:e,state:n,relative:r}){$e(Yo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=I.useContext(xn);Ln(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=I.useContext(Xn),{pathname:s}=na(),o=Wo(),c=$0(t,F0(i),s,r==="path"),h=JSON.stringify(c);return I.useEffect(()=>{o(JSON.parse(h),{replace:e,state:n,relative:r})},[o,h,r,e,n]),null}function Di(t){$e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mj({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){$e(!Yo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof n=="string"&&(n=Ho(n));let{pathname:h="/",search:d="",hash:m="",state:p=null,key:v="default"}=n,S=I.useMemo(()=>{let A=Kr(h,o);return A==null?null:{location:{pathname:A,search:d,hash:m,state:p,key:v},navigationType:r}},[o,h,d,m,p,v,r]);return Ln(S!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(xn.Provider,{value:c},I.createElement(lu.Provider,{children:e,value:S}))}function Pj({children:t,location:e}){return xj(qg(t),e)}function qg(t,e=[]){let n=[];return I.Children.forEach(t,(r,a)=>{if(!I.isValidElement(r))return;let i=[...e,a];if(r.type===I.Fragment){n.push.apply(n,qg(r.props.children,i));return}$e(r.type===Di,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$e(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=qg(r.props.children,i)),n.push(s)}),n}var Uh="get",zh="application/x-www-form-urlencoded";function Tf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Lj(t){return Tf(t)&&t.tagName.toLowerCase()==="button"}function Vj(t){return Tf(t)&&t.tagName.toLowerCase()==="form"}function Uj(t){return Tf(t)&&t.tagName.toLowerCase()==="input"}function zj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Bj(t,e){return t.button===0&&(!e||e==="_self")&&!zj(t)}var oh=null;function Fj(){if(oh===null)try{new FormData(document.createElement("form"),0),oh=!1}catch{oh=!0}return oh}var $j=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vp(t){return t!=null&&!$j.has(t)?(Ln(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zh}"`),null):t}function qj(t,e){let n,r,a,i,s;if(Vj(t)){let o=t.getAttribute("action");r=o?Kr(o,e):null,n=t.getAttribute("method")||Uh,a=vp(t.getAttribute("enctype"))||zh,i=new FormData(t)}else if(Lj(t)||Uj(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(r=c?Kr(c,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Uh,a=vp(t.getAttribute("formenctype"))||vp(o.getAttribute("enctype"))||zh,i=new FormData(o,t),!Fj()){let{name:h,type:d,value:m}=t;if(d==="image"){let p=h?`${h}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else h&&i.append(h,m)}}else{if(Tf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uh,r=null,a=zh,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Y0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hj(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Kr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Gj(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Yj(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Wj(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await Gj(i,n);return s.links?s.links():[]}return[]}));return Jj(r.flat(1).filter(Yj).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function cx(t,e,n,r,a,i){let s=(c,h)=>n[h]?c.route.id!==n[h].route.id:!0,o=(c,h)=>{var d;return n[h].pathname!==c.pathname||((d=n[h].route.path)==null?void 0:d.endsWith("*"))&&n[h].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,h)=>s(c,h)||o(c,h)):i==="data"?e.filter((c,h)=>{var m;let d=r.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(s(c,h)||o(c,h))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Kj(t,e,{includeHydrateFallback:n}={}){return Qj(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function Qj(t){return[...new Set(t)]}function Xj(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Jj(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(Xj(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function a2(){let t=I.useContext(Go);return Y0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Zj(){let t=I.useContext(Ef);return Y0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var W0=I.createContext(void 0);W0.displayName="FrameworkContext";function i2(){let t=I.useContext(W0);return Y0(t,"You must render this element inside a <HydratedRouter> element"),t}function e4(t,e){let n=I.useContext(W0),[r,a]=I.useState(!1),[i,s]=I.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:h,onMouseLeave:d,onTouchStart:m}=e,p=I.useRef(null);I.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let A=y=>{y.forEach(_=>{s(_.isIntersecting)})},R=new IntersectionObserver(A,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[t]),I.useEffect(()=>{if(r){let A=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(A)}}},[r]);let v=()=>{a(!0)},S=()=>{a(!1),s(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:Ul(o,v),onBlur:Ul(c,S),onMouseEnter:Ul(h,v),onMouseLeave:Ul(d,S),onTouchStart:Ul(m,v)}]:[!1,p,{}]}function Ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function t4({page:t,...e}){let{router:n}=a2(),r=I.useMemo(()=>$A(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(r4,{page:t,matches:r,...e}):null}function n4(t){let{manifest:e,routeModules:n}=i2(),[r,a]=I.useState([]);return I.useEffect(()=>{let i=!1;return Wj(t,e,n).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,n]),r}function r4({page:t,matches:e,...n}){let r=na(),{manifest:a,routeModules:i}=i2(),{basename:s}=a2(),{loaderData:o,matches:c}=Zj(),h=I.useMemo(()=>cx(t,e,c,a,r,"data"),[t,e,c,a,r]),d=I.useMemo(()=>cx(t,e,c,a,r,"assets"),[t,e,c,a,r]),m=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,A=!1;if(e.forEach(y=>{var E;let _=a.routes[y.route.id];!_||!_.hasLoader||(!h.some(O=>O.route.id===y.route.id)&&y.route.id in o&&((E=i[y.route.id])!=null&&E.shouldRevalidate)||_.hasClientLoader?A=!0:S.add(y.route.id))}),S.size===0)return[];let R=Hj(t,s,"data");return A&&S.size>0&&R.searchParams.set("_routes",e.filter(y=>S.has(y.route.id)).map(y=>y.route.id).join(",")),[R.pathname+R.search]},[s,o,r,a,h,e,t,i]),p=I.useMemo(()=>Kj(d,a),[d,a]),v=n4(d);return I.createElement(I.Fragment,null,m.map(S=>I.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),p.map(S=>I.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),v.map(({key:S,link:A})=>I.createElement("link",{key:S,nonce:n.nonce,...A})))}function a4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i4&&(window.__reactRouterVersion="7.11.0")}catch{}function s4({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=I.useRef();a.current==null&&(a.current=Uk({window:r,v5Compat:!0}));let i=a.current,[s,o]=I.useState({action:i.action,location:i.location}),c=I.useCallback(h=>{n===!1?o(h):I.startTransition(()=>o(h))},[n]);return I.useLayoutEffect(()=>i.listen(c),[i,c]),I.createElement(Mj,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var s2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o2=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:s,state:o,target:c,to:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},S){let{basename:A,unstable_useTransitions:R}=I.useContext(xn),y=typeof h=="string"&&s2.test(h),_=WA(h,A);h=_.to;let E=_j(h,{relative:a}),[O,V,H]=e4(r,v),T=u4(h,{replace:s,state:o,target:c,preventScrollReset:d,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:R});function w(N){e&&e(N),N.defaultPrevented||T(N)}let b=I.createElement("a",{...v,...H,href:_.absoluteURL||E,onClick:_.isExternal||i?e:w,ref:a4(S,V),target:c,"data-discover":!y&&n==="render"?"true":void 0});return O&&!y?I.createElement(I.Fragment,null,b,I.createElement(t4,{page:E})):b});o2.displayName="Link";var o4=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:s,viewTransition:o,children:c,...h},d){let m=cu(s,{relative:h.relative}),p=na(),v=I.useContext(Ef),{navigator:S,basename:A}=I.useContext(xn),R=v!=null&&p4(m)&&o===!0,y=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,_=p.pathname,E=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),E=E?E.toLowerCase():null,y=y.toLowerCase()),E&&A&&(E=Kr(E,A)||E);const O=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let V=_===y||!a&&_.startsWith(y)&&_.charAt(O)==="/",H=E!=null&&(E===y||!a&&E.startsWith(y)&&E.charAt(y.length)==="/"),T={isActive:V,isPending:H,isTransitioning:R},w=V?e:void 0,b;typeof r=="function"?b=r(T):b=[r,V?"active":null,H?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let N=typeof i=="function"?i(T):i;return I.createElement(o2,{...h,"aria-current":w,className:b,ref:d,style:N,to:s,viewTransition:o},typeof c=="function"?c(T):c)});o4.displayName="NavLink";var l4=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:s=Uh,action:o,onSubmit:c,relative:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},S)=>{let{unstable_useTransitions:A}=I.useContext(xn),R=f4(),y=m4(o,{relative:h}),_=s.toLowerCase()==="get"?"get":"post",E=typeof o=="string"&&s2.test(o),O=V=>{if(c&&c(V),V.defaultPrevented)return;V.preventDefault();let H=V.nativeEvent.submitter,T=(H==null?void 0:H.getAttribute("formmethod"))||s,w=()=>R(H||V.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:a,state:i,relative:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p});A&&n!==!1?I.startTransition(()=>w()):w()};return I.createElement("form",{ref:S,method:_,action:y,onSubmit:r?c:O,...v,"data-discover":!E&&t==="render"?"true":void 0})});l4.displayName="Form";function c4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l2(t){let e=I.useContext(Go);return $e(e,c4(t)),e}function u4(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let h=Wo(),d=na(),m=cu(t,{relative:i});return I.useCallback(p=>{if(Bj(p,e)){p.preventDefault();let v=n!==void 0?n:Lc(d)===Lc(m),S=()=>h(t,{replace:v,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});c?I.startTransition(()=>S()):S()}},[d,h,m,n,r,e,t,a,i,s,o,c])}var h4=0,d4=()=>`__${String(++h4)}__`;function f4(){let{router:t}=l2("useSubmit"),{basename:e}=I.useContext(xn),n=Ij(),r=t.fetch,a=t.navigate;return I.useCallback(async(i,s={})=>{let{action:o,method:c,encType:h,formData:d,body:m}=qj(i,e);if(s.navigate===!1){let p=s.fetcherKey||d4();await r(p,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,a,e,n])}function m4(t,{relative:e}={}){let{basename:n}=I.useContext(xn),r=I.useContext(Xn);$e(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...cu(t||".",{relative:e})},s=na();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),c=o.getAll("index");if(c.some(d=>d==="")){o.delete("index"),c.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:zr([n,i.pathname])),Lc(i)}function p4(t,{relative:e}={}){let n=I.useContext(QA);$e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=l2("useViewTransitionState"),a=cu(t,{relative:e});if(!n.isTransitioning)return!1;let i=Kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Cd(a.pathname,s)!=null||Cd(a.pathname,i)!=null}const c2=I.createContext(),ls=()=>{const t=I.useContext(c2);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},g4=({children:t})=>{const[e,n]=I.useState("en"),a={language:e,setLanguage:n,changeLanguage:i=>{n(i)}};return u.jsx(c2.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),ux=t=>{const e=v4(t);return e.charAt(0).toUpperCase()+e.slice(1)},u2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),_4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...o},c)=>I.createElement("svg",{ref:c,...b4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:u2("lucide",a),...!i&&!_4(o)&&{"aria-hidden":"true"},...o},[...s.map(([h,d])=>I.createElement(h,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const n=I.forwardRef(({className:r,...a},i)=>I.createElement(x4,{ref:i,iconNode:e,className:u2(`lucide-${y4(ux(t))}`,`lucide-${t}`,r),...a}));return n.displayName=ux(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],E4=le("archive",w4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hx=le("arrow-left",T4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],A4=le("banknote",S4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ji=le("calendar",N4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sf=le("check",C4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],I4=le("chevron-down",R4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],D4=le("chevron-up",O4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],j4=le("circle-alert",k4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Zs=le("circle-check",M4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dx=le("circle-x",P4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],h2=le("clock",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],lh=le("cloud-rain",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],z4=le("cloud-snow",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],zl=le("cloud",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K0=le("copy",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],q4=le("credit-card",$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Q0=le("dollar-sign",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Y4=le("external-link",G4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],K4=le("facebook",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Br=le("gift",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],J4=le("instagram",X4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],eM=le("loader",Z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],nM=le("log-in",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aM=le("log-out",rM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],fx=le("map-pin",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],d2=le("message-circle",sM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],lM=le("message-square",oM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],uM=le("party-popper",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],dM=le("pen",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],f2=le("plus",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],mx=le("search",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],px=le("sparkles",pM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yM=le("square-pen",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_M=le("sun",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],X0=le("trash-2",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],m2=le("user-plus",xM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rd=le("user",wM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],p2=le("users",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],gx=le("wind",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uu=le("x",SM),z={primary:{teal:"#00BCD4",black:"#2B2B2B",white:"#FFFFFF"},success:"#10b981",seat:{vacant:"#E5E7EB",occupied:"#10b981",selected:"#00BCD4"},button:{danger:"#ef4444"},gradient:{primary:"linear-gradient(135deg, #00BCD4 0%, #26C6DA 100%)"}},AM=()=>{const t=Wo(),{language:e,changeLanguage:n}=ls(),[r,a]=I.useState(!1),[i,s]=I.useState({name:"",email:"",phone:"",destination:"",message:""});I.useEffect(()=>{sessionStorage.getItem("hasVisitedLanding")||(a(!0),sessionStorage.setItem("hasVisitedLanding","true"))},[]);const c={en:{welcome:"Welcome to IVRI Tours!",welcomeMsg:"Discover breathtaking destinations with expert tour guides in multiple languages. Your adventure begins here!",getStarted:"Get Started",heroTitle:"Explore North America with IVRI Tours",heroSubtitle:"Professional guided tours in English, Hebrew, and Russian",destinationsTitle:"Our Amazing Destinations",multiLang:"Multi-language Tours",duration:"Duration",groupSize:"Group Size",highlights:"Highlights",testimonialsTitle:"What People Say About Us",socialTitle:"Follow Our Adventures",socialDesc:"Stay connected with our latest tours, photos, and travel tips on social media!",visitFacebook:"Visit Facebook",visitInstagram:"Visit Instagram",contactTitle:"Contact Us",nameLabel:"Name",emailLabel:"Email",phoneLabel:"Phone",destinationLabel:"Preferred Destination",messageLabel:"Message",submitBtn:"Send Message",footerText:"All rights reserved. Explore the world with us!",adminLogin:"Admin Login",destinations:{toronto:{title:"Toronto Downtown",desc:"Explore Canada's largest and most diverse city! Experience the iconic CN Tower with breathtaking 360 views, stroll along the beautiful harbourfront, discover the historic Distillery District, visit the Royal Ontario Museum, and immerse yourself in vibrant multicultural neighborhoods like Kensington Market and Chinatown.",duration:"8-10 hours",groupSize:"12-20 people",highlights:["CN Tower & Views","Harbourfront Walk","Distillery District","ROM Museum","Kensington Market"]},niagara:{title:"Niagara Falls",desc:"Witness the raw power and beauty of one of the world's most spectacular natural wonders! Get up close with the Hornblower boat tour, walk behind the falls at Journey Behind the Falls, enjoy panoramic views from Skylon Tower, explore the charming town of Niagara-on-the-Lake, and taste world-class wines at local vineyards.",duration:"Full Day (10-12 hours)",groupSize:"15-25 people",highlights:["Hornblower Boat Tour","Journey Behind Falls","Skylon Tower","Niagara-on-the-Lake","Wine Tasting"]},tremblant:{title:"Mont Tremblant",desc:"Discover Quebec's premier four-season resort destination! Experience world-class skiing and snowboarding in winter, enjoy scenic gondola rides with stunning Laurentian views, explore the charming European-style pedestrian village, try exciting outdoor activities like hiking and zip-lining, and relax in the beautiful natural surroundings.",duration:"2-3 Days",groupSize:"10-18 people",highlights:["Skiing & Snowboarding","Scenic Gondola","Village Pedestrian","Outdoor Activities","Spa & Relaxation"]},quebec:{title:"Quebec City",desc:"Step into Europe without leaving North America! Wander through the UNESCO World Heritage Old Quebec with its cobblestone streets, visit the majestic Chteau Frontenac, explore the historic Citadelle fortification, discover the charming Quartier Petit Champlain, and savor authentic French-Canadian cuisine and culture.",duration:"2-3 Days",groupSize:"12-20 people",highlights:["Old Quebec UNESCO Site","Chteau Frontenac","Citadelle Tour","Petit Champlain","French Cuisine"]},barrie:{title:"Barrie & Lake Simcoe",desc:"Experience Ontario's beautiful lakeside gem! Enjoy stunning waterfront parks and beaches along Lake Simcoe, explore the historic downtown with unique shops and restaurants, visit Spirit Catcher sculpture and Centennial Park, experience seasonal activities like swimming in summer or ice fishing in winter.",duration:"6-8 hours",groupSize:"10-15 people",highlights:["Lake Simcoe Beach","Waterfront Parks","Downtown Shopping","Spirit Catcher","Seasonal Activities"]},detroit:{title:"Detroit",desc:"Discover the Motor City's incredible transformation! Visit the Henry Ford Museum and Greenfield Village, explore the stunning Detroit Institute of Arts, walk along the beautiful RiverWalk, tour the historic Fox Theatre, experience the vibrant Eastern Market, and learn about Motown's musical legacy.",duration:"Full Day (10-12 hours)",groupSize:"15-20 people",highlights:["Henry Ford Museum","DIA Art Museum","Detroit RiverWalk","Motown Museum","Eastern Market"]},chicago:{title:"Chicago",desc:"Experience the magnificent Windy City! Marvel at world-famous architecture on a river cruise, visit Millennium Park and the iconic Cloud Gate (Bean), explore Navy Pier and Lake Michigan shoreline, enjoy deep-dish pizza, discover Art Institute treasures, and take in breathtaking views from Willis Tower Skydeck.",duration:"2-3 Days",groupSize:"15-25 people",highlights:["Architecture River Cruise","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck","Deep-Dish Pizza"]}},testimonials:[{text:"Amazing experience! The tour guide was knowledgeable and friendly. Seeing Niagara Falls was a dream come true!",author:"Sarah M."},{text:"The multi-language support made everything so comfortable for our family. Highly recommend IVRI Tours!",author:"David L."},{text:"Quebec City tour was magical! Our guide shared fascinating stories and insider tips. Best vacation ever!",author:"Rachel K."},{text:"Professional, organized, and fun! The Chicago architecture tour exceeded all expectations. Thank you IVRI Tours!",author:"Michael R."}]},he:{welcome:"  -IVRI Tours!",welcomeMsg:"         .    !",getStarted:" ",heroTitle:"     IVRI Tours",heroSubtitle:"   ,  ",destinationsTitle:"  ",multiLang:"  ",duration:"",groupSize:" ",highlights:"",testimonialsTitle:"  ",socialTitle:"   ",socialDesc:"    ,    !",visitFacebook:" ",visitInstagram:" ",contactTitle:" ",nameLabel:"",emailLabel:"",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .    !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN    360  ,    ,     ,        - .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN "," "," "," ROM"," "]},niagara:{title:" ",desc:"         !     Hornblower,   ,     Skylon,     Niagara-on-the-Lake    .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower","  "," Skylon","Niagara-on-the-Lake"," "]},tremblant:{title:" ",desc:"        !      ,        ,           .",duration:"2-3 ",groupSize:"10-18 ",highlights:[" "," ","  "," "," "]},quebec:{title:" ",desc:'      !         "   ,    ,       - .',duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," "," "," "," "]},barrie:{title:"  ",desc:"     !        ,         ,   Spirit Catcher  Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," "," ","Spirit Catcher"," "]},detroit:{title:"",desc:"      !    ,       ,   -RiverWalk ,   Fox      .",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  "," DIA","Detroit RiverWalk"," ","Eastern Market"]},chicago:{title:"",desc:"    !     ,    -Cloud Gate ,   Navy Pier   ,         Willis.",duration:"2-3 ",groupSize:"15-25 ",highlights:["  ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .       !",author:" ."},{text:" -        .    IVRI Tours!",author:" ."},{text:"    !       .     !",author:" ."},{text:",  !       .  IVRI Tours!",author:" ."}]},ru:{welcome:"   IVRI Tours!",welcomeMsg:"           .    !",getStarted:"",heroTitle:"    IVRI Tours",heroSubtitle:"   ,    ",destinationsTitle:"  ",multiLang:" ",duration:"",groupSize:" ",highlights:" ",testimonialsTitle:"   ",socialTitle:"   ",socialDesc:"     ,      !",visitFacebook:" Facebook",visitInstagram:" Instagram",contactTitle:"  ",nameLabel:"",emailLabel:" ",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .     !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN     360,    ,      Distillery,          .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN  ","  "," Distillery"," ROM"," "]},niagara:{title:" ",desc:"          !     Hornblower,     Journey Behind the Falls,      Skylon,    ---     .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower"," "," Skylon","---"," "]},tremblant:{title:"-",desc:"      !       ,          ,              .",duration:"2-3 ",groupSize:"10-18 ",highlights:["  "," "," "," ","  "]},quebec:{title:"-",desc:"  ,    !    ,    ,    ,    ,   ,      -    - .",duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," ","  ","-"," "]},barrie:{title:"   ",desc:"      !         ,         ,   Spirit Catcher   Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," ","  ","Spirit Catcher"," "]},detroit:{title:"",desc:"     -!      -,     ,     RiverWalk,      Fox      Motown.",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  ","  DIA","Detroit RiverWalk"," Motown","Eastern Market"]},chicago:{title:"",desc:"   !        ,  -   Cloud Gate (Bean),  Navy Pier     ,         Willis Tower Skydeck.",duration:"2-3 ",groupSize:"15-25 ",highlights:[" ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .      !",author:" ."},{text:"        .   IVRI Tours!",author:" ."},{text:"    !        .    !",author:" ."},{text:",   !       .  IVRI Tours!",author:" ."}]}}[e],h=[{key:"toronto",image:"https://images.unsplash.com/photo-1517935706615-2717063c2225?w=800&q=80"},{key:"niagara",image:"https://images.unsplash.com/photo-1489447068241-b3490214e879?w=800&q=80"},{key:"tremblant",image:"https://images.unsplash.com/photo-1605296867304-46d5465a13f1?w=800&q=80"},{key:"quebec",image:"https://images.unsplash.com/photo-1519451241324-20b4ea2c4220?w=800&q=80"},{key:"barrie",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80"},{key:"detroit",image:"https://images.unsplash.com/photo-1590859808308-3d2d9c515b1a?w=800&q=80"},{key:"chicago",image:"https://images.unsplash.com/photo-1494522358652-f30e61a60313?w=800&q=80"}],d=["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&q=80","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&q=80","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&q=80","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200&q=80"],m=p=>{p.preventDefault(),alert({en:"Thank you for your message! We will contact you soon.",he:"  !    .",ru:"   !     ."}[e]),s({name:"",email:"",phone:"",destination:"",message:""})};return u.jsxs("div",{className:"min-h-screen bg-white",dir:e==="he"?"rtl":"ltr",children:[r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 px-4 animate-fadeIn",children:u.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-lg w-full text-center shadow-2xl animate-slideDown",children:[u.jsx("div",{className:"text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:z.primary.teal},children:c.welcome}),u.jsx("p",{className:"text-lg text-gray-600 mb-6",children:c.welcomeMsg}),u.jsx("button",{onClick:()=>a(!1),className:"px-8 py-3 text-white rounded-lg text-lg font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:z.primary.teal},children:c.getStarted})]})}),u.jsx("nav",{className:"bg-white shadow-md sticky top-0 z-40",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("div",{className:"text-3xl font-bold",style:{color:z.primary.teal},children:"IVRI Tours"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>n("en"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="en"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="en"?{backgroundColor:z.primary.teal}:{},children:"English"}),u.jsx("button",{onClick:()=>n("he"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="he"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="he"?{backgroundColor:z.primary.teal}:{},children:""}),u.jsx("button",{onClick:()=>n("ru"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="ru"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="ru"?{backgroundColor:z.primary.teal}:{},children:""})]})]})})}),u.jsx("section",{className:"py-20 px-4 text-center text-white",style:{background:`linear-gradient(135deg, ${z.primary.teal} 0%, #0097A7 100%)`},children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",children:c.heroTitle}),u.jsx("p",{className:"text-xl sm:text-2xl opacity-95",children:c.heroSubtitle})]})}),u.jsxs("section",{className:"py-16 px-4 max-w-7xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:z.primary.teal},children:c.destinationsTitle}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:h.map(p=>u.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2",children:[u.jsx("div",{className:"h-64 bg-cover bg-center",style:{backgroundImage:`url(${p.image})`}}),u.jsxs("div",{className:"p-6",children:[u.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:z.primary.teal},children:c.destinations[p.key].title}),u.jsx("p",{className:"text-gray-600 leading-relaxed mb-4 text-sm",children:c.destinations[p.key].desc}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx(h2,{className:"w-4 h-4",style:{color:z.primary.teal}}),u.jsxs("span",{className:"font-semibold",children:[c.duration,":"]})," ",c.destinations[p.key].duration]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[u.jsx(p2,{className:"w-4 h-4",style:{color:z.primary.teal}}),u.jsxs("span",{className:"font-semibold",children:[c.groupSize,":"]})," ",c.destinations[p.key].groupSize]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:[c.highlights,":"]}),u.jsx("div",{className:"flex flex-wrap gap-1",children:c.destinations[p.key].highlights.map((v,S)=>u.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-white text-xs",style:{backgroundColor:z.primary.teal},children:v},S))})]}),u.jsxs("span",{className:"inline-block px-4 py-2 rounded-full text-white text-sm font-medium mt-2",style:{backgroundColor:z.primary.teal},children:[" ",c.multiLang]})]})]},p.key))})]}),u.jsx("section",{className:"py-16 px-4 bg-gray-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:z.primary.teal},children:c.testimonialsTitle}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.testimonials.map((p,v)=>u.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center",children:[u.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 bg-cover bg-center",style:{backgroundImage:`url(${d[v]})`,border:`3px solid ${z.primary.teal}`}}),u.jsxs("p",{className:"text-gray-600 italic mb-4 leading-relaxed",children:['"',p.text,'"']}),u.jsx("h4",{className:"font-bold",style:{color:z.primary.teal},children:p.author})]},v))})]})}),u.jsx("section",{className:"py-16 px-4 bg-white",children:u.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[u.jsx("h2",{className:"text-4xl font-bold mb-4",style:{color:z.primary.teal},children:c.socialTitle}),u.jsx("p",{className:"text-xl text-gray-600 mb-8",children:c.socialDesc}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[u.jsxs("a",{href:"https://www.facebook.com/Ivritours/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{backgroundColor:"#1877F2"},children:[u.jsx(K4,{className:"w-6 h-6"}),c.visitFacebook]}),u.jsxs("a",{href:"https://www.instagram.com/ivritours_ca/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{background:"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)"},children:[u.jsx(J4,{className:"w-6 h-6"}),c.visitInstagram]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 shadow-inner",children:[u.jsxs("div",{className:"text-gray-500 mb-6",children:[u.jsx("p",{className:"text-lg font-semibold mb-2",children:"Connect with us:"}),u.jsx("p",{className:"mb-1",children:"Facebook: @Ivritours"}),u.jsx("p",{children:"Instagram: @ivritours_ca"})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[u.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[u.jsx("div",{className:"text-3xl font-bold",style:{color:z.primary.teal},children:"1000+"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Happy Travelers"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[u.jsx("div",{className:"text-3xl font-bold",style:{color:z.primary.teal},children:"100+"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Tours Completed"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[u.jsx("div",{className:"text-3xl font-bold",style:{color:z.primary.teal},children:"7"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Destinations"})]}),u.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[u.jsx("div",{className:"text-3xl font-bold",style:{color:z.primary.teal},children:"3"}),u.jsx("div",{className:"text-sm text-gray-600",children:"Languages"})]})]})]})]})}),u.jsxs("section",{className:"py-16 px-4 max-w-4xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:z.primary.teal},children:c.contactTitle}),u.jsxs("form",{onSubmit:m,className:"bg-white rounded-xl shadow-lg p-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[c.nameLabel," *"]}),u.jsx("input",{type:"text",value:i.name,onChange:p=>s({...i,name:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[c.emailLabel," *"]}),u.jsx("input",{type:"email",value:i.email,onChange:p=>s({...i,email:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:c.phoneLabel}),u.jsx("input",{type:"tel",value:i.phone,onChange:p=>s({...i,phone:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:c.destinationLabel}),u.jsx("input",{type:"text",value:i.destination,onChange:p=>s({...i,destination:p.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[c.messageLabel," *"]}),u.jsx("textarea",{value:i.message,onChange:p=>s({...i,message:p.target.value}),rows:"6",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors resize-vertical",required:!0})]}),u.jsx("button",{type:"submit",className:"w-full py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:z.primary.teal},children:c.submitBtn})]})]}),u.jsx("footer",{className:"bg-gray-900 text-white py-8 px-4",children:u.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[u.jsx("div",{className:"text-2xl font-bold mb-4",style:{color:z.primary.teal},children:"IVRI Tours"}),u.jsxs("p",{className:"text-gray-400 mb-4",children:[" 2025 IVRI Tours. ",c.footerText]}),u.jsx("button",{onClick:()=>t("/login"),className:"text-sm hover:underline",style:{color:z.primary.teal},children:c.adminLogin})]})}),u.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideDown { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
        .animate-slideDown { animation: slideDown 0.5s ease-out; }
      `})]})};function g2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=g2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Af(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=g2(t))&&(r&&(r+=" "),r+=e);return r}const NM=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const a=Object.getOwnPropertyDescriptor(t,n),i=Object.getOwnPropertyDescriptor(e,n);!CM(a,i)&&r||Object.defineProperty(t,n,i)},CM=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},RM=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},IM=(t,e)=>`/* Wrapped ${t}*/
${e}`,OM=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),DM=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),kM=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,a=IM.bind(null,r,e.toString());Object.defineProperty(a,"name",DM);const{writable:i,enumerable:s,configurable:o}=OM;Object.defineProperty(t,"toString",{value:a,writable:i,enumerable:s,configurable:o})};function jM(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const a of Reflect.ownKeys(e))NM(t,e,a,n);return RM(t,e),kM(t,e,r),t}const ch=2147483647,MM=new WeakMap,_p=new WeakMap,PM=new WeakMap;function LM(t,e){const n=t.get(e);if(n){if(n.maxAge<=Date.now()){t.delete(e);return}return n}}function y2(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"&&Number.isFinite(r)){if(r>ch)throw new TypeError(`The \`maxAge\` option cannot exceed ${ch}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(...i){var d;const s=e?e(i):i[0],o=LM(n,s);if(o)return o.data;const c=t.apply(this,i),h=typeof r=="function"?r(...i):r;if(h!==void 0&&h!==Number.POSITIVE_INFINITY){if(!Number.isFinite(h))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(h<=0)return c;if(h>ch)throw new TypeError(`The \`maxAge\` function result cannot exceed ${ch}.`)}if(n.set(s,{data:c,maxAge:h===void 0||h===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+h}),h!==void 0&&h!==Number.POSITIVE_INFINITY){const m=setTimeout(()=>{var v;n.delete(s),(v=_p.get(a))==null||v.delete(m)},h);(d=m.unref)==null||d.call(m);const p=_p.get(a)??new Set;p.add(m),_p.set(a,p)}return c};return jM(a,t,{ignoreNonConfigurable:!0}),MM.set(a,n),PM.set(a,e??(i=>i[0])),a}function VM(t){return typeof t=="string"}function UM(t,e,n){return n.indexOf(t)===e}function zM(t){return t.toLowerCase()===t}function yx(t){return t.indexOf(",")===-1?t:t.split(",")}function Hg(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Hg(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return Hg(n)}if(t.indexOf("-")===-1||!zM(t))return t;var a=t.split("-"),i=a[0],s=a[1],o=s===void 0?"":s;return"".concat(i,"-").concat(o.toUpperCase())}function BM(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,a=e.fallbackLocale,i=a===void 0?"en-US":a,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],c=[],h=0,d=o;h<d.length;h++){var m=d[h];c=c.concat(yx(m))}var p=navigator.language,v=p&&yx(p);s=s.concat(c,v)}return r&&s.push(i),s.filter(VM).map(Hg).filter(UM)}var FM=y2(BM,{cacheKey:JSON.stringify});function $M(t){return FM(t)[0]||null}var v2=y2($M,{cacheKey:JSON.stringify});function ra(t,e,n){return function(a,i=n){const s=t(a)+i;return e(s)}}function hu(t){return function(n){return new Date(t(n).getTime()-1)}}function du(t,e){return function(r){return[t(r),e(r)]}}function qe(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function oi(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Nf(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Ko(t){const e=qe(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const qM=ra(qe,Ko,-100),_2=ra(qe,Ko,100),J0=hu(_2),HM=ra(qe,J0,-100),b2=du(Ko,J0);function li(t){const e=qe(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const x2=ra(qe,li,-10),Z0=ra(qe,li,10),Cf=hu(Z0),w2=ra(qe,Cf,-10),E2=du(li,Cf);function Qo(t){const e=qe(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const T2=ra(qe,Qo,-1),ev=ra(qe,Qo,1),Rf=hu(ev),S2=ra(qe,Rf,-1),GM=du(Qo,Rf);function tv(t,e){return function(r,a=e){const i=qe(r),s=oi(r)+a,o=new Date;return o.setFullYear(i,s,1),o.setHours(0,0,0,0),t(o)}}function cs(t){const e=qe(t),n=oi(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const A2=tv(cs,-1),nv=tv(cs,1),fu=hu(nv),N2=tv(fu,-1),YM=du(cs,fu);function WM(t,e){return function(r,a=e){const i=qe(r),s=oi(r),o=Nf(r)+a,c=new Date;return c.setFullYear(i,s,o),c.setHours(0,0,0,0),t(c)}}function mu(t){const e=qe(t),n=oi(t),r=Nf(t),a=new Date;return a.setFullYear(e,n,r),a.setHours(0,0,0,0),a}const KM=WM(mu,1),rv=hu(KM),QM=du(mu,rv);function C2(t){return Nf(fu(t))}var Ct={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},XM={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},av=[0,1,2,3,4,5,6],bp=new Map;function JM(t){return function(n,r){var a=n||v2();bp.has(a)||bp.set(a,new Map);var i=bp.get(a);return i.has(t)||i.set(t,new Intl.DateTimeFormat(a||void 0,t).format),i.get(t)(r)}}function ZM(t){var e=new Date(t);return new Date(e.setHours(12))}function us(t){return function(e,n){return JM(t)(e,ZM(n))}}var eP={day:"numeric"},tP={day:"numeric",month:"long",year:"numeric"},nP={month:"long"},rP={month:"long",year:"numeric"},aP={weekday:"short"},iP={weekday:"long"},sP={year:"numeric"},oP=us(eP),lP=us(tP),cP=us(nP),R2=us(rP),uP=us(aP),hP=us(iP),If=us(sP),dP=av[0],fP=av[5],vx=av[6];function Vc(t,e){e===void 0&&(e=Ct.ISO_8601);var n=t.getDay();switch(e){case Ct.ISO_8601:return(n+6)%7;case Ct.ISLAMIC:return(n+1)%7;case Ct.HEBREW:case Ct.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function mP(t){var e=Ko(t);return qe(e)}function pP(t){var e=li(t);return qe(e)}function Gg(t,e){e===void 0&&(e=Ct.ISO_8601);var n=qe(t),r=oi(t),a=t.getDate()-Vc(t,e);return new Date(n,r,a)}function gP(t,e){e===void 0&&(e=Ct.ISO_8601);var n=e===Ct.GREGORY?Ct.GREGORY:Ct.ISO_8601,r=Gg(t,e),a=qe(t)+1,i,s;do i=new Date(a,0,n===Ct.ISO_8601?4:1),s=Gg(i,e),a-=1;while(t<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function Fi(t,e){switch(t){case"century":return Ko(e);case"decade":return li(e);case"year":return Qo(e);case"month":return cs(e);case"day":return mu(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function yP(t,e){switch(t){case"century":return qM(e);case"decade":return x2(e);case"year":return T2(e);case"month":return A2(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function I2(t,e){switch(t){case"century":return _2(e);case"decade":return Z0(e);case"year":return ev(e);case"month":return nv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function vP(t,e){switch(t){case"decade":return x2(e,-100);case"year":return T2(e,-10);case"month":return A2(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function _P(t,e){switch(t){case"decade":return Z0(e,100);case"year":return ev(e,10);case"month":return nv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function O2(t,e){switch(t){case"century":return J0(e);case"decade":return Cf(e);case"year":return Rf(e);case"month":return fu(e);case"day":return rv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function bP(t,e){switch(t){case"century":return HM(e);case"decade":return w2(e);case"year":return S2(e);case"month":return N2(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function xP(t,e){switch(t){case"decade":return w2(e,-100);case"year":return S2(e,-10);case"month":return N2(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function _x(t,e){switch(t){case"century":return b2(e);case"decade":return E2(e);case"year":return GM(e);case"month":return YM(e);case"day":return QM(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wP(t,e,n){var r=[e,n].sort(function(a,i){return a.getTime()-i.getTime()});return[Fi(t,r[0]),O2(t,r[1])]}function D2(t,e,n){return n.map(function(r){return(e||If)(t,r)}).join("  ")}function EP(t,e,n){return D2(t,e,b2(n))}function k2(t,e,n){return D2(t,e,E2(n))}function TP(t){return t.getDay()===new Date().getDay()}function j2(t,e){e===void 0&&(e=Ct.ISO_8601);var n=t.getDay();switch(e){case Ct.ISLAMIC:case Ct.HEBREW:return n===fP||n===vx;case Ct.ISO_8601:case Ct.GREGORY:return n===vx||n===dP;default:throw new Error("Unsupported calendar type.")}}var ar="react-calendar__navigation";function SP(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,a=r===void 0?R2:r,i=t.formatYear,s=i===void 0?If:i,o=t.locale,c=t.maxDate,h=t.minDate,d=t.navigationAriaLabel,m=d===void 0?"":d,p=t.navigationAriaLive,v=t.navigationLabel,S=t.next2AriaLabel,A=S===void 0?"":S,R=t.next2Label,y=R===void 0?"":R,_=t.nextAriaLabel,E=_===void 0?"":_,O=t.nextLabel,V=O===void 0?"":O,H=t.prev2AriaLabel,T=H===void 0?"":H,w=t.prev2Label,b=w===void 0?"":w,N=t.prevAriaLabel,D=N===void 0?"":N,k=t.prevLabel,C=k===void 0?"":k,G=t.setActiveStartDate,re=t.showDoubleView,j=t.view,U=t.views,q=U.indexOf(j)>0,W=j!=="century",L=yP(j,e),X=W?vP(j,e):void 0,Oe=I2(j,e),we=W?_P(j,e):void 0,Se=function(){if(L.getFullYear()<0)return!0;var Ke=bP(j,e);return h&&h>=Ke}(),Ht=W&&function(){if(X.getFullYear()<0)return!0;var Ke=xP(j,e);return h&&h>=Ke}(),aa=c&&c<Oe,wr=W&&c&&c<we;function Er(){G(L,"prev")}function Bn(){G(X,"prev2")}function ll(){G(Oe,"next")}function cl(){G(we,"next2")}function pi(Ke){var yi=function(){switch(j){case"century":return EP(o,s,Ke);case"decade":return k2(o,s,Ke);case"year":return s(o,Ke);case"month":return a(o,Ke);default:throw new Error("Invalid view: ".concat(j,"."))}}();return v?v({date:Ke,label:yi,locale:o||v2()||void 0,view:j}):yi}function gi(){var Ke="".concat(ar,"__label");return u.jsxs("button",{"aria-label":m,"aria-live":p,className:Ke,disabled:!q,onClick:n,style:{flexGrow:1},type:"button",children:[u.jsx("span",{className:"".concat(Ke,"__labelText ").concat(Ke,"__labelText--from"),children:pi(e)}),re?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"".concat(Ke,"__divider"),children:"  "}),u.jsx("span",{className:"".concat(Ke,"__labelText ").concat(Ke,"__labelText--to"),children:pi(Oe)})]}):null]})}return u.jsxs("div",{className:ar,children:[b!==null&&W?u.jsx("button",{"aria-label":T,className:"".concat(ar,"__arrow ").concat(ar,"__prev2-button"),disabled:Ht,onClick:Bn,type:"button",children:b}):null,C!==null&&u.jsx("button",{"aria-label":D,className:"".concat(ar,"__arrow ").concat(ar,"__prev-button"),disabled:Se,onClick:Er,type:"button",children:C}),gi(),V!==null&&u.jsx("button",{"aria-label":E,className:"".concat(ar,"__arrow ").concat(ar,"__next-button"),disabled:aa,onClick:ll,type:"button",children:V}),y!==null&&W?u.jsx("button",{"aria-label":A,className:"".concat(ar,"__arrow ").concat(ar,"__next2-button"),disabled:wr,onClick:cl,type:"button",children:y}):null]})}var eo=function(){return eo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},eo.apply(this,arguments)},AP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function bx(t){return"".concat(t,"%")}function iv(t){var e=t.children,n=t.className,r=t.count,a=t.direction,i=t.offset,s=t.style,o=t.wrap,c=AP(t,["children","className","count","direction","offset","style","wrap"]);return u.jsx("div",eo({className:n,style:eo({display:"flex",flexDirection:a,flexWrap:o?"wrap":"nowrap"},s)},c,{children:I.Children.map(e,function(h,d){var m=i&&d===0?bx(100*i/r):null;return I.cloneElement(h,eo(eo({},h.props),{style:{flexBasis:bx(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))})}))}function NP(t,e,n){return e&&e>t?e:n&&n<t?n:t}function Uc(t,e){return e[0]<=t&&e[1]>=t}function CP(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function M2(t,e){return Uc(t[0],e)||Uc(t[1],e)}function xx(t,e,n){var r=M2(e,t),a=[];if(r){a.push(n);var i=Uc(t[0],e),s=Uc(t[1],e);i&&a.push("".concat(n,"Start")),s&&a.push("".concat(n,"End")),i&&s&&a.push("".concat(n,"BothEnds"))}return a}function RP(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function IP(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,a="react-calendar__tile",i=[a];if(!n)return i;var s=new Date,o=function(){if(Array.isArray(n))return n;var v=t.dateType;if(!v)throw new Error("dateType is required when date is not an array of two dates");return _x(v,n)}();if(Uc(s,o)&&i.push("".concat(a,"--now")),!e||!RP(e))return i;var c=function(){if(Array.isArray(e))return e;var v=t.valueType;if(!v)throw new Error("valueType is required when value is not an array of two dates");return _x(v,e)}();CP(c,o)?i.push("".concat(a,"--active")):M2(c,o)&&i.push("".concat(a,"--hasActive"));var h=xx(c,o,"".concat(a,"--range"));i.push.apply(i,h);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var m=r>c[0]?[c[0],r]:[r,c[0]],p=xx(m,o,"".concat(a,"--hover"));i.push.apply(i,p)}return i}function Of(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,a=t.dateTransform,i=t.dateType,s=t.end,o=t.hover,c=t.offset,h=t.renderTile,d=t.start,m=t.step,p=m===void 0?1:m,v=t.value,S=t.valueType,A=[],R=d;R<=s;R+=p){var y=a(R);A.push(h({classes:IP({date:y,dateType:i,hover:o,value:v,valueType:S}),date:y}))}return u.jsx(iv,{className:e,count:r,offset:c,wrap:!0,children:A})}function Df(t){var e=t.activeStartDate,n=t.children,r=t.classes,a=t.date,i=t.formatAbbr,s=t.locale,o=t.maxDate,c=t.maxDateTransform,h=t.minDate,d=t.minDateTransform,m=t.onClick,p=t.onMouseOver,v=t.style,S=t.tileClassName,A=t.tileContent,R=t.tileDisabled,y=t.view,_=I.useMemo(function(){var O={activeStartDate:e,date:a,view:y};return typeof S=="function"?S(O):S},[e,a,S,y]),E=I.useMemo(function(){var O={activeStartDate:e,date:a,view:y};return typeof A=="function"?A(O):A},[e,a,A,y]);return u.jsxs("button",{className:Af(r,_),disabled:h&&d(h)>a||o&&c(o)<a||(R==null?void 0:R({activeStartDate:e,date:a,view:y})),onClick:m?function(O){return m(a,O)}:void 0,onFocus:p?function(){return p(a)}:void 0,onMouseOver:p?function(){return p(a)}:void 0,style:v,type:"button",children:[i?u.jsx("abbr",{"aria-label":i(s,a),children:n}):n,E]})}var Yg=function(){return Yg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Yg.apply(this,arguments)},OP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},wx="react-calendar__century-view__decades__decade";function DP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,a=t.formatYear,i=a===void 0?If:a,s=OP(t,["classes","currentCentury","formatYear"]),o=s.date,c=s.locale,h=[];return n&&h.push.apply(h,n),h.push(wx),Ko(o).getFullYear()!==r&&h.push("".concat(wx,"--neighboringCentury")),u.jsx(Df,Yg({},s,{classes:h,maxDateTransform:Cf,minDateTransform:li,view:"century",children:k2(c,i,o)}))}var Wg=function(){return Wg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Wg.apply(this,arguments)},Ex=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function kP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,a=t.value,i=t.valueType,s=Ex(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=mP(e),c=o+(r?119:99);return u.jsx(Of,{className:"react-calendar__century-view__decades",dateTransform:li,dateType:"decade",end:c,hover:n,renderTile:function(h){var d=h.date,m=Ex(h,["date"]);return u.jsx(DP,Wg({},s,m,{activeStartDate:e,currentCentury:o,date:d}),d.getTime())},start:o,step:10,value:a,valueType:i})}var Kg=function(){return Kg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Kg.apply(this,arguments)};function jP(t){function e(){return u.jsx(kP,Kg({},t))}return u.jsx("div",{className:"react-calendar__century-view",children:e()})}var Qg=function(){return Qg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Qg.apply(this,arguments)},MP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Tx="react-calendar__decade-view__years__year";function PP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,a=t.formatYear,i=a===void 0?If:a,s=MP(t,["classes","currentDecade","formatYear"]),o=s.date,c=s.locale,h=[];return n&&h.push.apply(h,n),h.push(Tx),li(o).getFullYear()!==r&&h.push("".concat(Tx,"--neighboringDecade")),u.jsx(Df,Qg({},s,{classes:h,maxDateTransform:Rf,minDateTransform:Qo,view:"decade",children:i(c,o)}))}var Xg=function(){return Xg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Xg.apply(this,arguments)},Sx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function LP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,a=t.value,i=t.valueType,s=Sx(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=pP(e),c=o+(r?11:9);return u.jsx(Of,{className:"react-calendar__decade-view__years",dateTransform:Qo,dateType:"year",end:c,hover:n,renderTile:function(h){var d=h.date,m=Sx(h,["date"]);return u.jsx(PP,Xg({},s,m,{activeStartDate:e,currentDecade:o,date:d}),d.getTime())},start:o,value:a,valueType:i})}var Jg=function(){return Jg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Jg.apply(this,arguments)};function VP(t){function e(){return u.jsx(LP,Jg({},t))}return u.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Zg=function(){return Zg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Zg.apply(this,arguments)},UP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Ax=function(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},zP="react-calendar__year-view__months__month";function BP(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,a=r===void 0?cP:r,i=t.formatMonthYear,s=i===void 0?R2:i,o=UP(t,["classes","formatMonth","formatMonthYear"]),c=o.date,h=o.locale;return u.jsx(Df,Zg({},o,{classes:Ax(Ax([],n,!0),[zP],!1),formatAbbr:s,maxDateTransform:fu,minDateTransform:cs,view:"year",children:a(h,c)}))}var ey=function(){return ey=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ey.apply(this,arguments)},Nx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function FP(t){var e=t.activeStartDate,n=t.hover,r=t.value,a=t.valueType,i=Nx(t,["activeStartDate","hover","value","valueType"]),s=0,o=11,c=qe(e);return u.jsx(Of,{className:"react-calendar__year-view__months",dateTransform:function(h){var d=new Date;return d.setFullYear(c,h,1),cs(d)},dateType:"month",end:o,hover:n,renderTile:function(h){var d=h.date,m=Nx(h,["date"]);return u.jsx(BP,ey({},i,m,{activeStartDate:e,date:d}),d.getTime())},start:s,value:r,valueType:a})}var ty=function(){return ty=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ty.apply(this,arguments)};function $P(t){function e(){return u.jsx(FP,ty({},t))}return u.jsx("div",{className:"react-calendar__year-view",children:e()})}var ny=function(){return ny=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ny.apply(this,arguments)},qP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},xp="react-calendar__month-view__days__day";function HP(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,a=t.currentMonthIndex,i=t.formatDay,s=i===void 0?oP:i,o=t.formatLongDate,c=o===void 0?lP:o,h=qP(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=h.date,m=h.locale,p=[];return r&&p.push.apply(p,r),p.push(xp),j2(d,e)&&p.push("".concat(xp,"--weekend")),d.getMonth()!==a&&p.push("".concat(xp,"--neighboringMonth")),u.jsx(Df,ny({},h,{classes:p,formatAbbr:c,maxDateTransform:rv,minDateTransform:mu,view:"month",children:s(m,d)}))}var ry=function(){return ry=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ry.apply(this,arguments)},Cx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function GP(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,a=t.showFixedNumberOfWeeks,i=t.showNeighboringMonth,s=t.value,o=t.valueType,c=Cx(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),h=qe(e),d=oi(e),m=a||i,p=Vc(e,n),v=m?0:p,S=(m?-p:0)+1,A=function(){if(a)return S+6*7-1;var R=C2(e);if(i){var y=new Date;y.setFullYear(h,d,R),y.setHours(0,0,0,0);var _=7-Vc(y,n)-1;return R+_}return R}();return u.jsx(Of,{className:"react-calendar__month-view__days",count:7,dateTransform:function(R){var y=new Date;return y.setFullYear(h,d,R),mu(y)},dateType:"day",hover:r,end:A,renderTile:function(R){var y=R.date,_=Cx(R,["date"]);return u.jsx(HP,ry({},c,_,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:y}),y.getTime())},offset:v,start:S,value:s,valueType:o})}var P2="react-calendar__month-view__weekdays",wp="".concat(P2,"__weekday");function YP(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?uP:n,a=t.formatWeekday,i=a===void 0?hP:a,s=t.locale,o=t.onMouseLeave,c=new Date,h=cs(c),d=qe(h),m=oi(h),p=[],v=1;v<=7;v+=1){var S=new Date(d,m,v-Vc(h,e)),A=i(s,S);p.push(u.jsx("div",{className:Af(wp,TP(S)&&"".concat(wp,"--current"),j2(S,e)&&"".concat(wp,"--weekend")),children:u.jsx("abbr",{"aria-label":A,title:A,children:r(s,S).replace(".","")})},v))}return u.jsx(iv,{className:P2,count:7,onFocus:o,onMouseOver:o,children:p})}var Id=function(){return Id=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Id.apply(this,arguments)},Rx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Ix="react-calendar__tile";function WP(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=u.jsx("span",{children:n});if(e){var a=t.date,i=t.onClickWeekNumber,s=t.weekNumber,o=Rx(t,["date","onClickWeekNumber","weekNumber"]);return u.jsx("button",Id({},o,{className:Ix,onClick:function(c){return i(s,a,c)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=Rx(t,["date","onClickWeekNumber","weekNumber"]);return u.jsx("div",Id({},o,{className:Ix,children:r}))}}function KP(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,a=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=function(){if(i)return 6;var h=C2(e),d=Vc(e,n),m=h-(7-d);return 1+Math.ceil(m/7)}(),o=function(){for(var h=qe(e),d=oi(e),m=Nf(e),p=[],v=0;v<s;v+=1)p.push(Gg(new Date(h,d,m+v*7),n));return p}(),c=o.map(function(h){return gP(h,n)});return u.jsx(iv,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:c.map(function(h,d){var m=o[d];if(!m)throw new Error("date is not defined");return u.jsx(WP,{date:m,onClickWeekNumber:r,weekNumber:h},h)})})}var ay=function(){return ay=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ay.apply(this,arguments)},QP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function XP(t){if(t)for(var e=0,n=Object.entries(XM);e<n.length;e++){var r=n[e],a=r[0],i=r[1];if(i.includes(t))return a}return Ct.ISO_8601}function JP(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,a=t.showFixedNumberOfWeeks,i=t.calendarType,s=i===void 0?XP(n):i,o=t.formatShortWeekday,c=t.formatWeekday,h=t.onClickWeekNumber,d=t.showWeekNumbers,m=QP(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return u.jsx(YP,{calendarType:s,formatShortWeekday:o,formatWeekday:c,locale:n,onMouseLeave:r})}function v(){return d?u.jsx(KP,{activeStartDate:e,calendarType:s,onClickWeekNumber:h,onMouseLeave:r,showFixedNumberOfWeeks:a}):null}function S(){return u.jsx(GP,ay({calendarType:s},m))}var A="react-calendar__month-view";return u.jsx("div",{className:Af(A,d?"".concat(A,"--weekNumbers"):""),children:u.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[v(),u.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),S()]})]})})}var to=function(){return to=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},to.apply(this,arguments)},uh="react-calendar",Bh=["century","decade","year","month"],ZP=["decade","year","month","day"],sv=new Date;sv.setFullYear(1,0,1);sv.setHours(0,0,0,0);var e3=new Date(864e13);function Kl(t){return t instanceof Date?t:new Date(t)}function L2(t,e){return Bh.slice(Bh.indexOf(t),Bh.indexOf(e)+1)}function t3(t,e,n){var r=L2(e,n);return r.indexOf(t)!==-1}function ov(t,e,n){return t&&t3(t,e,n)?t:n}function V2(t){var e=Bh.indexOf(t);return ZP[e]}function n3(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Kl(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function U2(t,e){var n=t.value,r=t.minDate,a=t.maxDate,i=t.maxDetail,s=n3(n,e);if(!s)return null;var o=V2(i),c=function(){switch(e){case 0:return Fi(o,s);case 1:return O2(o,s);default:throw new Error("Invalid index value: ".concat(e))}}();return NP(c,r,a)}var lv=function(t){return U2(t,0)},z2=function(t){return U2(t,1)},r3=function(t){return[lv,z2].map(function(e){return e(t)})};function B2(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,a=t.minDetail,i=t.value,s=t.view,o=ov(s,a,n),c=lv({value:i,minDate:r,maxDate:e,maxDetail:n})||new Date;return Fi(o,c)}function a3(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,a=t.defaultView,i=t.maxDate,s=t.maxDetail,o=t.minDate,c=t.minDetail,h=t.value,d=t.view,m=ov(d,c,s),p=e||n;return p?Fi(m,p):B2({maxDate:i,maxDetail:s,minDate:o,minDetail:c,value:h||r,view:d||a})}function Ep(t){return t&&(!Array.isArray(t)||t.length===1)}function hh(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var i3=I.forwardRef(function(e,n){var r=e.activeStartDate,a=e.allowPartialRange,i=e.calendarType,s=e.className,o=e.defaultActiveStartDate,c=e.defaultValue,h=e.defaultView,d=e.formatDay,m=e.formatLongDate,p=e.formatMonth,v=e.formatMonthYear,S=e.formatShortWeekday,A=e.formatWeekday,R=e.formatYear,y=e.goToRangeStartOnSelect,_=y===void 0?!0:y,E=e.inputRef,O=e.locale,V=e.maxDate,H=V===void 0?e3:V,T=e.maxDetail,w=T===void 0?"month":T,b=e.minDate,N=b===void 0?sv:b,D=e.minDetail,k=D===void 0?"century":D,C=e.navigationAriaLabel,G=e.navigationAriaLive,re=e.navigationLabel,j=e.next2AriaLabel,U=e.next2Label,q=e.nextAriaLabel,W=e.nextLabel,L=e.onActiveStartDateChange,X=e.onChange,Oe=e.onClickDay,we=e.onClickDecade,Se=e.onClickMonth,Ht=e.onClickWeekNumber,aa=e.onClickYear,wr=e.onDrillDown,Er=e.onDrillUp,Bn=e.onViewChange,ll=e.prev2AriaLabel,cl=e.prev2Label,pi=e.prevAriaLabel,gi=e.prevLabel,Ke=e.returnValue,yi=Ke===void 0?"start":Ke,kt=e.selectRange,ia=e.showDoubleView,ul=e.showFixedNumberOfWeeks,ht=e.showNavigation,wt=ht===void 0?!0:ht,xs=e.showNeighboringCentury,xm=e.showNeighboringDecade,hl=e.showNeighboringMonth,wm=hl===void 0?!0:hl,vi=e.showWeekNumbers,Iu=e.tileClassName,Ou=e.tileContent,dl=e.tileDisabled,fl=e.value,Du=e.view,ml=I.useState(o),ku=ml[0],Jn=ml[1],ws=I.useState(null),pl=ws[0],Zn=ws[1],gl=I.useState(Array.isArray(c)?c.map(function(ce){return ce!==null?Kl(ce):null}):c!=null?Kl(c):null),sa=gl[0],ju=gl[1],oa=I.useState(h),Mu=oa[0],gt=oa[1],Et=r||ku||a3({activeStartDate:r,defaultActiveStartDate:o,defaultValue:c,defaultView:h,maxDate:H,maxDetail:w,minDate:N,minDetail:k,value:fl,view:Du}),rt=function(){var ce=function(){return kt&&Ep(sa)?sa:fl!==void 0?fl:sa}();return ce?Array.isArray(ce)?ce.map(function(Be){return Be!==null?Kl(Be):null}):ce!==null?Kl(ce):null:null}(),er=V2(w),je=ov(Du||Mu,k,w),wn=L2(k,w),la=kt?pl:null,yl=wn.indexOf(je)<wn.length-1,Pu=wn.indexOf(je)>0,_i=I.useCallback(function(ce){var Be=function(){switch(yi){case"start":return lv;case"end":return z2;case"range":return r3;default:throw new Error("Invalid returnValue.")}}();return Be({maxDate:H,maxDetail:w,minDate:N,value:ce})},[H,w,N,yi]),Es=I.useCallback(function(ce,Be){Jn(ce);var He={action:Be,activeStartDate:ce,value:rt,view:je};L&&!hh(Et,ce)&&L(He)},[Et,L,rt,je]),bi=I.useCallback(function(ce,Be){var He=function(){switch(je){case"century":return we;case"decade":return aa;case"year":return Se;case"month":return Oe;default:throw new Error("Invalid view: ".concat(je,"."))}}();He&&He(ce,Be)},[Oe,we,Se,aa,je]),xi=I.useCallback(function(ce,Be){if(yl){bi(ce,Be);var He=wn[wn.indexOf(je)+1];if(!He)throw new Error("Attempted to drill down from the lowest view.");Jn(ce),gt(He);var rn={action:"drillDown",activeStartDate:ce,value:rt,view:He};L&&!hh(Et,ce)&&L(rn),Bn&&je!==He&&Bn(rn),wr&&wr(rn)}},[Et,yl,L,bi,wr,Bn,rt,je,wn]),Tr=I.useCallback(function(){if(Pu){var ce=wn[wn.indexOf(je)-1];if(!ce)throw new Error("Attempted to drill up from the highest view.");var Be=Fi(ce,Et);Jn(Be),gt(ce);var He={action:"drillUp",activeStartDate:Be,value:rt,view:ce};L&&!hh(Et,Be)&&L(He),Bn&&je!==ce&&Bn(He),Er&&Er(He)}},[Et,Pu,L,Er,Bn,rt,je,wn]),vl=I.useCallback(function(ce,Be){var He=rt;bi(ce,Be);var rn=kt&&!Ep(He),jt;if(kt)if(rn)jt=Fi(er,ce);else{if(!He)throw new Error("previousValue is required");if(Array.isArray(He))throw new Error("previousValue must not be an array");jt=wP(er,He,ce)}else jt=_i(ce);var Ss=!kt||rn||_?B2({maxDate:H,maxDetail:w,minDate:N,minDetail:k,value:jt,view:je}):null;Be.persist(),Jn(Ss),ju(jt);var wl={action:"onChange",activeStartDate:Ss,value:jt,view:je};if(L&&!hh(Et,Ss)&&L(wl),X)if(kt){var wi=Ep(jt);if(!wi)X(jt||null,Be);else if(a){if(Array.isArray(jt))throw new Error("value must not be an array");X([jt||null,null],Be)}}else X(jt||null,Be)},[Et,a,_i,_,H,w,N,k,L,X,bi,kt,rt,er,je]);function tr(ce){Zn(ce)}function Ts(){Zn(null)}I.useImperativeHandle(n,function(){return{activeStartDate:Et,drillDown:xi,drillUp:Tr,onChange:vl,setActiveStartDate:Es,value:rt,view:je}},[Et,xi,Tr,vl,Es,rt,je]);function _l(ce){var Be=ce?I2(je,Et):Fi(je,Et),He=yl?xi:vl,rn={activeStartDate:Be,hover:la,locale:O,maxDate:H,minDate:N,onClick:He,onMouseOver:kt?tr:void 0,tileClassName:Iu,tileContent:Ou,tileDisabled:dl,value:rt,valueType:er};switch(je){case"century":return u.jsx(jP,to({formatYear:R,showNeighboringCentury:xs},rn));case"decade":return u.jsx(VP,to({formatYear:R,showNeighboringDecade:xm},rn));case"year":return u.jsx($P,to({formatMonth:p,formatMonthYear:v},rn));case"month":return u.jsx(JP,to({calendarType:i,formatDay:d,formatLongDate:m,formatShortWeekday:S,formatWeekday:A,onClickWeekNumber:Ht,onMouseLeave:kt?Ts:void 0,showFixedNumberOfWeeks:typeof ul<"u"?ul:ia,showNeighboringMonth:wm,showWeekNumbers:vi},rn));default:throw new Error("Invalid view: ".concat(je,"."))}}function bl(){return wt?u.jsx(SP,{activeStartDate:Et,drillUp:Tr,formatMonthYear:v,formatYear:R,locale:O,maxDate:H,minDate:N,navigationAriaLabel:C,navigationAriaLive:G,navigationLabel:re,next2AriaLabel:j,next2Label:U,nextAriaLabel:q,nextLabel:W,prev2AriaLabel:ll,prev2Label:cl,prevAriaLabel:pi,prevLabel:gi,setActiveStartDate:Es,showDoubleView:ia,view:je,views:wn}):null}var xl=Array.isArray(rt)?rt:[rt];return u.jsxs("div",{className:Af(uh,kt&&xl.length===1&&"".concat(uh,"--selectRange"),ia&&"".concat(uh,"--doubleView"),s),ref:E,children:[bl(),u.jsxs("div",{className:"".concat(uh,"__viewContainer"),onBlur:kt?Ts:void 0,onMouseLeave:kt?Ts:void 0,children:[_l(),ia?_l(!0):null]})]})});const s3=()=>{};var Ox={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},o3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],s=t[n++],o=t[n++],c=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},$2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,o=s?t[a+1]:0,c=a+2<t.length,h=c?t[a+2]:0,d=i>>2,m=(i&3)<<4|o>>4;let p=(o&15)<<2|h>>6,v=h&63;c||(v=64,s||(p=64)),r.push(n[d],n[m],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(F2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],o=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const m=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||o==null||h==null||m==null)throw new l3;const p=i<<2|o>>4;if(r.push(p),h!==64){const v=o<<4&240|h>>2;if(r.push(v),m!==64){const S=h<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class l3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c3=function(t){const e=F2(t);return $2.encodeByteArray(e,!0)},Od=function(t){return c3(t).replace(/\./g,"")},q2=function(t){try{return $2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=()=>u3().__FIREBASE_DEFAULTS__,d3=()=>{if(typeof process>"u"||typeof Ox>"u")return;const t=Ox.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},f3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q2(t[1]);return e&&JSON.parse(e)},kf=()=>{try{return s3()||h3()||d3()||f3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},H2=t=>{var e,n;return(n=(e=kf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},G2=t=>{const e=H2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Y2=()=>{var t;return(t=kf())==null?void 0:t.config},W2=t=>{var e;return(e=kf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Od(JSON.stringify(n)),Od(JSON.stringify(s)),""].join(".")}const yc={};function p3(){const t={prod:[],emulator:[]};for(const e of Object.keys(yc))yc[e]?t.emulator.push(e):t.prod.push(e);return t}function g3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Dx=!1;function uv(t,e){if(typeof window>"u"||typeof document>"u"||!hs(window.location.host)||yc[t]===e||yc[t]||Dx)return;yc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=p3().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function h(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Dx=!0,s()},p}function d(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=g3(r),v=n("text"),S=document.getElementById(v)||document.createElement("span"),A=n("learnmore"),R=document.getElementById(A)||document.createElement("a"),y=n("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;o(E),d(R,A);const O=h();c(_,y),E.append(_,S,R,O),document.body.appendChild(E)}i?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vt())}function v3(){var e;const t=(e=kf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function b3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x3(){const t=Vt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w3(){return!v3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function X2(){try{return typeof indexedDB=="object"}catch{return!1}}function J2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function E3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="FirebaseError";class Un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T3,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ds.prototype.create)}}class ds{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?S3(i,r):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Un(a,o,r)}}function S3(t,e){return t.replace(A3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const A3=/\{\$([^}]+)}/g;function N3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],s=e[a];if(kx(i)&&kx(s)){if(!Xa(i,s))return!1}else if(i!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function kx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,i]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function Xl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function C3(t,e){const n=new R3(t,e);return n.subscribe.bind(n)}class R3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");I3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Tp),a.error===void 0&&(a.error=Tp),a.complete===void 0&&(a.complete=Tp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=1e3,D3=2,k3=4*60*60*1e3,j3=.5;function jx(t,e=O3,n=D3){const r=e*Math.pow(n,t),a=Math.round(j3*r*(Math.random()-.5)*2);return Math.min(k3,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t){return t&&t._delegate?t._delegate:t}class Vn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new m3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L3(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&s.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P3(t){return t===ki?void 0:t}function L3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new M3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(de||(de={}));const U3={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},z3=de.INFO,B3={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},F3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=B3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jf{constructor(e){this.name=e,this._logLevel=z3,this._logHandler=F3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}}const $3=(t,e)=>e.some(n=>t instanceof n);let Mx,Px;function q3(){return Mx||(Mx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function H3(){return Px||(Px=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z2=new WeakMap,iy=new WeakMap,eN=new WeakMap,Sp=new WeakMap,hv=new WeakMap;function G3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Ba(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Z2.set(n,t)}).catch(()=>{}),hv.set(e,t),e}function Y3(t){if(iy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});iy.set(t,e)}let sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function W3(t){sy=t(sy)}function K3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ap(this),e,...n);return eN.set(r,e.sort?e.sort():[e]),Ba(r)}:H3().includes(t)?function(...e){return t.apply(Ap(this),e),Ba(Z2.get(this))}:function(...e){return Ba(t.apply(Ap(this),e))}}function Q3(t){return typeof t=="function"?K3(t):(t instanceof IDBTransaction&&Y3(t),$3(t,q3())?new Proxy(t,sy):t)}function Ba(t){if(t instanceof IDBRequest)return G3(t);if(Sp.has(t))return Sp.get(t);const e=Q3(t);return e!==t&&(Sp.set(t,e),hv.set(e,t)),e}const Ap=t=>hv.get(t);function tN(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=Ba(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ba(s.result),c.oldVersion,c.newVersion,Ba(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{i&&c.addEventListener("close",()=>i()),a&&c.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const X3=["get","getKey","getAll","getAllKeys","count"],J3=["put","add","delete","clear"],Np=new Map;function Lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=J3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||X3.includes(n)))return;const i=async function(s,...o){const c=this.transaction(s,a?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&c.done]))[0]};return Np.set(e,i),i}W3(t=>({...t,get:(e,n,r)=>Lx(e,n)||t.get(e,n,r),has:(e,n)=>!!Lx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function eL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oy="@firebase/app",Vx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new jf("@firebase/app"),tL="@firebase/app-compat",nL="@firebase/analytics-compat",rL="@firebase/analytics",aL="@firebase/app-check-compat",iL="@firebase/app-check",sL="@firebase/auth",oL="@firebase/auth-compat",lL="@firebase/database",cL="@firebase/data-connect",uL="@firebase/database-compat",hL="@firebase/functions",dL="@firebase/functions-compat",fL="@firebase/installations",mL="@firebase/installations-compat",pL="@firebase/messaging",gL="@firebase/messaging-compat",yL="@firebase/performance",vL="@firebase/performance-compat",_L="@firebase/remote-config",bL="@firebase/remote-config-compat",xL="@firebase/storage",wL="@firebase/storage-compat",EL="@firebase/firestore",TL="@firebase/ai",SL="@firebase/firestore-compat",AL="firebase",NL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",CL={[oy]:"fire-core",[tL]:"fire-core-compat",[rL]:"fire-analytics",[nL]:"fire-analytics-compat",[iL]:"fire-app-check",[aL]:"fire-app-check-compat",[sL]:"fire-auth",[oL]:"fire-auth-compat",[lL]:"fire-rtdb",[cL]:"fire-data-connect",[uL]:"fire-rtdb-compat",[hL]:"fire-fn",[dL]:"fire-fn-compat",[fL]:"fire-iid",[mL]:"fire-iid-compat",[pL]:"fire-fcm",[gL]:"fire-fcm-compat",[yL]:"fire-perf",[vL]:"fire-perf-compat",[_L]:"fire-rc",[bL]:"fire-rc-compat",[xL]:"fire-gcs",[wL]:"fire-gcs-compat",[EL]:"fire-fst",[SL]:"fire-fst-compat",[TL]:"fire-vertex","fire-js":"fire-js",[AL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,RL=new Map,cy=new Map;function Ux(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yn(t){const e=t.name;if(cy.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;cy.set(e,t);for(const n of Dd.values())Ux(n,t);for(const n of RL.values())Ux(n,t);return!0}function ci(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fa=new ds("app","Firebase",IL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=NL;function nN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ly,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Fa.create("bad-app-name",{appName:String(a)});if(n||(n=Y2()),!n)throw Fa.create("no-options");const i=Dd.get(a);if(i){if(Xa(n,i.options)&&Xa(r,i.config))return i;throw Fa.create("duplicate-app",{appName:a})}const s=new V3(a);for(const c of cy.values())s.addComponent(c);const o=new OL(n,r,s);return Dd.set(a,o),o}function Mf(t=ly){const e=Dd.get(t);if(!e&&t===ly&&Y2())return nN();if(!e)throw Fa.create("no-app",{appName:t});return e}function en(t,e,n){let r=CL[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const s=[`Unable to register library "${r}" with version "${e}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(s.join(" "));return}Yn(new Vn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL="firebase-heartbeat-database",kL=1,zc="firebase-heartbeat-store";let Cp=null;function rN(){return Cp||(Cp=tN(DL,kL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fa.create("idb-open",{originalErrorMessage:t.message})})),Cp}async function jL(t){try{const n=(await rN()).transaction(zc),r=await n.objectStore(zc).get(aN(t));return await n.done,r}catch(e){if(e instanceof Un)Qr.warn(e.message);else{const n=Fa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function zx(t,e){try{const r=(await rN()).transaction(zc,"readwrite");await r.objectStore(zc).put(e,aN(t)),await r.done}catch(n){if(n instanceof Un)Qr.warn(n.message);else{const r=Fa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(r.message)}}}function aN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=1024,PL=30;class LL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Bx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>PL){const s=zL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bx(),{heartbeatsToSend:r,unsentEntries:a}=VL(this._heartbeatsCache.heartbeats),i=Od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Qr.warn(n),""}}}function Bx(){return new Date().toISOString().substring(0,10)}function VL(t,e=ML){const n=[];let r=t.slice();for(const a of t){const i=n.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Fx(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Fx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class UL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return X2()?J2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return zx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Fx(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function zL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){Yn(new Vn("platform-logger",e=>new Z3(e),"PRIVATE")),Yn(new Vn("heartbeat",e=>new LL(e),"PRIVATE")),en(oy,Vx,t),en(oy,Vx,"esm2020"),en("fire-js","")}BL("");var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $a,iN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function b(){}b.prototype=w.prototype,T.F=w.prototype,T.prototype=new b,T.prototype.constructor=T,T.D=function(N,D,k){for(var C=Array(arguments.length-2),G=2;G<arguments.length;G++)C[G-2]=arguments[G];return w.prototype[D].apply(N,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,w,b){b||(b=0);const N=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)N[D]=w.charCodeAt(b++)|w.charCodeAt(b++)<<8|w.charCodeAt(b++)<<16|w.charCodeAt(b++)<<24;else for(D=0;D<16;++D)N[D]=w[b++]|w[b++]<<8|w[b++]<<16|w[b++]<<24;w=T.g[0],b=T.g[1],D=T.g[2];let k=T.g[3],C;C=w+(k^b&(D^k))+N[0]+3614090360&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(D^w&(b^D))+N[1]+3905402710&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(b^k&(w^b))+N[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=b+(w^D&(k^w))+N[3]+3250441966&4294967295,b=D+(C<<22&4294967295|C>>>10),C=w+(k^b&(D^k))+N[4]+4118548399&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(D^w&(b^D))+N[5]+1200080426&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(b^k&(w^b))+N[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=b+(w^D&(k^w))+N[7]+4249261313&4294967295,b=D+(C<<22&4294967295|C>>>10),C=w+(k^b&(D^k))+N[8]+1770035416&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(D^w&(b^D))+N[9]+2336552879&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(b^k&(w^b))+N[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=b+(w^D&(k^w))+N[11]+2304563134&4294967295,b=D+(C<<22&4294967295|C>>>10),C=w+(k^b&(D^k))+N[12]+1804603682&4294967295,w=b+(C<<7&4294967295|C>>>25),C=k+(D^w&(b^D))+N[13]+4254626195&4294967295,k=w+(C<<12&4294967295|C>>>20),C=D+(b^k&(w^b))+N[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=b+(w^D&(k^w))+N[15]+1236535329&4294967295,b=D+(C<<22&4294967295|C>>>10),C=w+(D^k&(b^D))+N[1]+4129170786&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^D&(w^b))+N[6]+3225465664&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^b&(k^w))+N[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(D^k))+N[0]+3921069994&4294967295,b=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(b^D))+N[5]+3593408605&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^D&(w^b))+N[10]+38016083&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^b&(k^w))+N[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(D^k))+N[4]+3889429448&4294967295,b=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(b^D))+N[9]+568446438&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^D&(w^b))+N[14]+3275163606&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^b&(k^w))+N[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(D^k))+N[8]+1163531501&4294967295,b=D+(C<<20&4294967295|C>>>12),C=w+(D^k&(b^D))+N[13]+2850285829&4294967295,w=b+(C<<5&4294967295|C>>>27),C=k+(b^D&(w^b))+N[2]+4243563512&4294967295,k=w+(C<<9&4294967295|C>>>23),C=D+(w^b&(k^w))+N[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=b+(k^w&(D^k))+N[12]+2368359562&4294967295,b=D+(C<<20&4294967295|C>>>12),C=w+(b^D^k)+N[5]+4294588738&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^D)+N[8]+2272392833&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^b)+N[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=b+(D^k^w)+N[14]+4259657740&4294967295,b=D+(C<<23&4294967295|C>>>9),C=w+(b^D^k)+N[1]+2763975236&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^D)+N[4]+1272893353&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^b)+N[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=b+(D^k^w)+N[10]+3200236656&4294967295,b=D+(C<<23&4294967295|C>>>9),C=w+(b^D^k)+N[13]+681279174&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^D)+N[0]+3936430074&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^b)+N[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=b+(D^k^w)+N[6]+76029189&4294967295,b=D+(C<<23&4294967295|C>>>9),C=w+(b^D^k)+N[9]+3654602809&4294967295,w=b+(C<<4&4294967295|C>>>28),C=k+(w^b^D)+N[12]+3873151461&4294967295,k=w+(C<<11&4294967295|C>>>21),C=D+(k^w^b)+N[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=b+(D^k^w)+N[2]+3299628645&4294967295,b=D+(C<<23&4294967295|C>>>9),C=w+(D^(b|~k))+N[0]+4096336452&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~D))+N[7]+1126891415&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~b))+N[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=b+(k^(D|~w))+N[5]+4237533241&4294967295,b=D+(C<<21&4294967295|C>>>11),C=w+(D^(b|~k))+N[12]+1700485571&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~D))+N[3]+2399980690&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~b))+N[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=b+(k^(D|~w))+N[1]+2240044497&4294967295,b=D+(C<<21&4294967295|C>>>11),C=w+(D^(b|~k))+N[8]+1873313359&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~D))+N[15]+4264355552&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~b))+N[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=b+(k^(D|~w))+N[13]+1309151649&4294967295,b=D+(C<<21&4294967295|C>>>11),C=w+(D^(b|~k))+N[4]+4149444226&4294967295,w=b+(C<<6&4294967295|C>>>26),C=k+(b^(w|~D))+N[11]+3174756917&4294967295,k=w+(C<<10&4294967295|C>>>22),C=D+(w^(k|~b))+N[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=b+(k^(D|~w))+N[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+k&4294967295}r.prototype.v=function(T,w){w===void 0&&(w=T.length);const b=w-this.blockSize,N=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=b;)a(this,T,k),k+=this.blockSize;if(typeof T=="string"){for(;k<w;)if(N[D++]=T.charCodeAt(k++),D==this.blockSize){a(this,N),D=0;break}}else for(;k<w;)if(N[D++]=T[k++],D==this.blockSize){a(this,N),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;w=this.o*8;for(var b=T.length-8;b<T.length;++b)T[b]=w&255,w/=256;for(this.v(T),T=Array(16),w=0,b=0;b<4;++b)for(let N=0;N<32;N+=8)T[w++]=this.g[b]>>>N&255;return T};function i(T,w){var b=o;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=w(T)}function s(T,w){this.h=w;const b=[];let N=!0;for(let D=T.length-1;D>=0;D--){const k=T[D]|0;N&&k==w||(b[D]=k,N=!1)}this.g=b}var o={};function c(T){return-128<=T&&T<128?i(T,function(w){return new s([w|0],w<0?-1:0)}):new s([T|0],T<0?-1:0)}function h(T){if(isNaN(T)||!isFinite(T))return m;if(T<0)return R(h(-T));const w=[];let b=1;for(let N=0;T>=b;N++)w[N]=T/b|0,b*=4294967296;return new s(w,0)}function d(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return R(d(T.substring(1),w));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=h(Math.pow(w,8));let N=m;for(let k=0;k<T.length;k+=8){var D=Math.min(8,T.length-k);const C=parseInt(T.substring(k,k+D),w);D<8?(D=h(Math.pow(w,D)),N=N.j(D).add(h(C))):(N=N.j(b),N=N.add(h(C)))}return N}var m=c(0),p=c(1),v=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-R(this).m();let T=0,w=1;for(let b=0;b<this.g.length;b++){const N=this.i(b);T+=(N>=0?N:4294967296+N)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(A(this))return"-"+R(this).toString(T);const w=h(Math.pow(T,6));var b=this;let N="";for(;;){const D=O(b,w).g;b=y(b,D.j(w));let k=((b.g.length>0?b.g[0]:b.h)>>>0).toString(T);if(b=D,S(b))return k+N;for(;k.length<6;)k="0"+k;N=k+N}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(let w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function A(T){return T.h==-1}t.l=function(T){return T=y(this,T),A(T)?-1:S(T)?0:1};function R(T){const w=T.g.length,b=[];for(let N=0;N<w;N++)b[N]=~T.g[N];return new s(b,~T.h).add(p)}t.abs=function(){return A(this)?R(this):this},t.add=function(T){const w=Math.max(this.g.length,T.g.length),b=[];let N=0;for(let D=0;D<=w;D++){let k=N+(this.i(D)&65535)+(T.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);N=C>>>16,k&=65535,C&=65535,b[D]=C<<16|k}return new s(b,b[b.length-1]&-2147483648?-1:0)};function y(T,w){return T.add(R(w))}t.j=function(T){if(S(this)||S(T))return m;if(A(this))return A(T)?R(this).j(R(T)):R(R(this).j(T));if(A(T))return R(this.j(R(T)));if(this.l(v)<0&&T.l(v)<0)return h(this.m()*T.m());const w=this.g.length+T.g.length,b=[];for(var N=0;N<2*w;N++)b[N]=0;for(N=0;N<this.g.length;N++)for(let D=0;D<T.g.length;D++){const k=this.i(N)>>>16,C=this.i(N)&65535,G=T.i(D)>>>16,re=T.i(D)&65535;b[2*N+2*D]+=C*re,_(b,2*N+2*D),b[2*N+2*D+1]+=k*re,_(b,2*N+2*D+1),b[2*N+2*D+1]+=C*G,_(b,2*N+2*D+1),b[2*N+2*D+2]+=k*G,_(b,2*N+2*D+2)}for(T=0;T<w;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=w;T<2*w;T++)b[T]=0;return new s(b,0)};function _(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function E(T,w){this.g=T,this.h=w}function O(T,w){if(S(w))throw Error("division by zero");if(S(T))return new E(m,m);if(A(T))return w=O(R(T),w),new E(R(w.g),R(w.h));if(A(w))return w=O(T,R(w)),new E(R(w.g),w.h);if(T.g.length>30){if(A(T)||A(w))throw Error("slowDivide_ only works with positive integers.");for(var b=p,N=w;N.l(T)<=0;)b=V(b),N=V(N);var D=H(b,1),k=H(N,1);for(N=H(N,2),b=H(b,2);!S(N);){var C=k.add(N);C.l(T)<=0&&(D=D.add(b),k=C),N=H(N,1),b=H(b,1)}return w=y(T,D.j(w)),new E(D,w)}for(D=m;T.l(w)>=0;){for(b=Math.max(1,Math.floor(T.m()/w.m())),N=Math.ceil(Math.log(b)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),k=h(b),C=k.j(w);A(C)||C.l(T)>0;)b-=N,k=h(b),C=k.j(w);S(k)&&(k=p),D=D.add(k),T=y(T,C)}return new E(D,T)}t.B=function(T){return O(this,T).h},t.and=function(T){const w=Math.max(this.g.length,T.g.length),b=[];for(let N=0;N<w;N++)b[N]=this.i(N)&T.i(N);return new s(b,this.h&T.h)},t.or=function(T){const w=Math.max(this.g.length,T.g.length),b=[];for(let N=0;N<w;N++)b[N]=this.i(N)|T.i(N);return new s(b,this.h|T.h)},t.xor=function(T){const w=Math.max(this.g.length,T.g.length),b=[];for(let N=0;N<w;N++)b[N]=this.i(N)^T.i(N);return new s(b,this.h^T.h)};function V(T){const w=T.g.length+1,b=[];for(let N=0;N<w;N++)b[N]=T.i(N)<<1|T.i(N-1)>>>31;return new s(b,T.h)}function H(T,w){const b=w>>5;w%=32;const N=T.g.length-b,D=[];for(let k=0;k<N;k++)D[k]=w>0?T.i(k+b)>>>w|T.i(k+b+1)<<32-w:T.i(k+b);return new s(D,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,iN=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,$a=s}).apply(typeof $x<"u"?$x:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sN,Jl,oN,Fh,uy,lN,cN,uN;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function a(l,f){if(f)e:{var g=r;l=l.split(".");for(var x=0;x<l.length-1;x++){var M=l[x];if(!(M in g))break e;g=g[M]}l=l[l.length-1],x=g[l],f=f(x),f!=x&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}a("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(l){return l||function(f){var g=[],x;for(x in f)Object.prototype.hasOwnProperty.call(f,x)&&g.push([x,f[x]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},s=this||self;function o(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function c(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){return h=c,h.apply(null,arguments)}function d(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var x=g.slice();return x.push.apply(x,arguments),l.apply(this,x)}}function m(l,f){function g(){}g.prototype=f.prototype,l.Z=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(x,M,P){for(var Y=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)Y[oe-2]=arguments[oe];return f.prototype[M].apply(x,Y)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function v(l){const f=l.length;if(f>0){const g=Array(f);for(let x=0;x<f;x++)g[x]=l[x];return g}return[]}function S(l,f){for(let x=1;x<arguments.length;x++){const M=arguments[x];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=l.length||0;const P=M.length||0;l.length=g+P;for(let Y=0;Y<P;Y++)l[g+Y]=M[Y]}else l.push(M)}}class A{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function R(l){s.setTimeout(()=>{throw l},0)}function y(){var l=T;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class _{constructor(){this.h=this.g=null}add(f,g){const x=E.get();x.set(f,g),this.h?this.h.next=x:this.g=x,this.h=x}}var E=new A(()=>new O,l=>l.reset());class O{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,H=!1,T=new _,w=()=>{const l=Promise.resolve(void 0);V=()=>{l.then(b)}};function b(){for(var l;l=y();){try{l.h.call(l.g)}catch(g){R(g)}var f=E;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}H=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};s.addEventListener("test",g,f),s.removeEventListener("test",g,f)}catch{}return l}();function C(l){return/^[\s\xa0]*$/.test(l)}function G(l,f){D.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}m(G,D),G.prototype.init=function(l,f){const g=this.type=l.type,x=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),j=0;function U(l,f,g,x,M){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!x,this.ha=M,this.key=++j,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function W(l,f,g){for(const x in l)f.call(g,l[x],x,l)}function L(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function X(l){const f={};for(const g in l)f[g]=l[g];return f}const Oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function we(l,f){let g,x;for(let M=1;M<arguments.length;M++){x=arguments[M];for(g in x)l[g]=x[g];for(let P=0;P<Oe.length;P++)g=Oe[P],Object.prototype.hasOwnProperty.call(x,g)&&(l[g]=x[g])}}function Se(l){this.src=l,this.g={},this.h=0}Se.prototype.add=function(l,f,g,x,M){const P=l.toString();l=this.g[P],l||(l=this.g[P]=[],this.h++);const Y=aa(l,f,x,M);return Y>-1?(f=l[Y],g||(f.fa=!1)):(f=new U(f,this.src,P,!!x,M),f.fa=g,l.push(f)),f};function Ht(l,f){const g=f.type;if(g in l.g){var x=l.g[g],M=Array.prototype.indexOf.call(x,f,void 0),P;(P=M>=0)&&Array.prototype.splice.call(x,M,1),P&&(q(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function aa(l,f,g,x){for(let M=0;M<l.length;++M){const P=l[M];if(!P.da&&P.listener==f&&P.capture==!!g&&P.ha==x)return M}return-1}var wr="closure_lm_"+(Math.random()*1e6|0),Er={};function Bn(l,f,g,x,M){if(Array.isArray(f)){for(let P=0;P<f.length;P++)Bn(l,f[P],g,x,M);return null}return g=ul(g),l&&l[re]?l.J(f,g,o(x)?!!x.capture:!1,M):ll(l,f,g,!1,x,M)}function ll(l,f,g,x,M,P){if(!f)throw Error("Invalid event type");const Y=o(M)?!!M.capture:!!M;let oe=kt(l);if(oe||(l[wr]=oe=new Se(l)),g=oe.add(f,g,x,Y,P),g.proxy)return g;if(x=cl(),g.proxy=x,x.src=l,x.listener=g,l.addEventListener)k||(M=Y),M===void 0&&(M=!1),l.addEventListener(f.toString(),x,M);else if(l.attachEvent)l.attachEvent(Ke(f.toString()),x);else if(l.addListener&&l.removeListener)l.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return g}function cl(){function l(g){return f.call(l.src,l.listener,g)}const f=yi;return l}function pi(l,f,g,x,M){if(Array.isArray(f))for(var P=0;P<f.length;P++)pi(l,f[P],g,x,M);else x=o(x)?!!x.capture:!!x,g=ul(g),l&&l[re]?(l=l.i,P=String(f).toString(),P in l.g&&(f=l.g[P],g=aa(f,g,x,M),g>-1&&(q(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete l.g[P],l.h--)))):l&&(l=kt(l))&&(f=l.g[f.toString()],l=-1,f&&(l=aa(f,g,x,M)),(g=l>-1?f[l]:null)&&gi(g))}function gi(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[re])Ht(f.i,l);else{var g=l.type,x=l.proxy;f.removeEventListener?f.removeEventListener(g,x,l.capture):f.detachEvent?f.detachEvent(Ke(g),x):f.addListener&&f.removeListener&&f.removeListener(x),(g=kt(f))?(Ht(g,l),g.h==0&&(g.src=null,f[wr]=null)):q(l)}}}function Ke(l){return l in Er?Er[l]:Er[l]="on"+l}function yi(l,f){if(l.da)l=!0;else{f=new G(f,this);const g=l.listener,x=l.ha||l.src;l.fa&&gi(l),l=g.call(x,f)}return l}function kt(l){return l=l[wr],l instanceof Se?l:null}var ia="__closure_events_fn_"+(Math.random()*1e9>>>0);function ul(l){return typeof l=="function"?l:(l[ia]||(l[ia]=function(f){return l.handleEvent(f)}),l[ia])}function ht(){N.call(this),this.i=new Se(this),this.M=this,this.G=null}m(ht,N),ht.prototype[re]=!0,ht.prototype.removeEventListener=function(l,f,g,x){pi(this,l,f,g,x)};function wt(l,f){var g,x=l.G;if(x)for(g=[];x;x=x.G)g.push(x);if(l=l.M,x=f.type||f,typeof f=="string")f=new D(f,l);else if(f instanceof D)f.target=f.target||l;else{var M=f;f=new D(x,l),we(f,M)}M=!0;let P,Y;if(g)for(Y=g.length-1;Y>=0;Y--)P=f.g=g[Y],M=xs(P,x,!0,f)&&M;if(P=f.g=l,M=xs(P,x,!0,f)&&M,M=xs(P,x,!1,f)&&M,g)for(Y=0;Y<g.length;Y++)P=f.g=g[Y],M=xs(P,x,!1,f)&&M}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const g=l.g[f];for(let x=0;x<g.length;x++)q(g[x]);delete l.g[f],l.h--}}this.G=null},ht.prototype.J=function(l,f,g,x){return this.i.add(String(l),f,!1,g,x)},ht.prototype.K=function(l,f,g,x){return this.i.add(String(l),f,!0,g,x)};function xs(l,f,g,x){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let P=0;P<f.length;++P){const Y=f[P];if(Y&&!Y.da&&Y.capture==g){const oe=Y.listener,dt=Y.ha||Y.src;Y.fa&&Ht(l.i,Y),M=oe.call(dt,x)!==!1&&M}}return M&&!x.defaultPrevented}function xm(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:s.setTimeout(l,f||0)}function hl(l){l.g=xm(()=>{l.g=null,l.i&&(l.i=!1,hl(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class wm extends N{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:hl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vi(l){N.call(this),this.h=l,this.g={}}m(vi,N);var Iu=[];function Ou(l){W(l.g,function(f,g){this.g.hasOwnProperty(g)&&gi(f)},l),l.g={}}vi.prototype.N=function(){vi.Z.N.call(this),Ou(this)},vi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dl=s.JSON.stringify,fl=s.JSON.parse,Du=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function ml(){}function ku(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ws(){D.call(this,"d")}m(ws,D);function pl(){D.call(this,"c")}m(pl,D);var Zn={},gl=null;function sa(){return gl=gl||new ht}Zn.Ia="serverreachability";function ju(l){D.call(this,Zn.Ia,l)}m(ju,D);function oa(l){const f=sa();wt(f,new ju(f))}Zn.STAT_EVENT="statevent";function Mu(l,f){D.call(this,Zn.STAT_EVENT,l),this.stat=f}m(Mu,D);function gt(l){const f=sa();wt(f,new Mu(f,l))}Zn.Ja="timingevent";function Et(l,f){D.call(this,Zn.Ja,l),this.size=f}m(Et,D);function rt(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},f)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function je(l,f,g,x,M,P){l.info(function(){if(l.g)if(P){var Y="",oe=P.split("&");for(let Ce=0;Ce<oe.length;Ce++){var dt=oe[Ce].split("=");if(dt.length>1){const yt=dt[0];dt=dt[1];const rr=yt.split("_");Y=rr.length>=2&&rr[1]=="type"?Y+(yt+"="+dt+"&"):Y+(yt+"=redacted&")}}}else Y=null;else Y=P;return"XMLHTTP REQ ("+x+") [attempt "+M+"]: "+f+`
`+g+`
`+Y})}function wn(l,f,g,x,M,P,Y){l.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+M+"]: "+f+`
`+g+`
`+P+" "+Y})}function la(l,f,g,x){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Pu(l,g)+(x?" "+x:"")})}function yl(l,f){l.info(function(){return"TIMEOUT: "+f})}er.prototype.info=function(){};function Pu(l,f){if(!l.g)return f;if(!f)return null;try{const P=JSON.parse(f);if(P){for(l=0;l<P.length;l++)if(Array.isArray(P[l])){var g=P[l];if(!(g.length<2)){var x=g[1];if(Array.isArray(x)&&!(x.length<1)){var M=x[0];if(M!="noop"&&M!="stop"&&M!="close")for(let Y=1;Y<x.length;Y++)x[Y]=""}}}}return dl(P)}catch{return f}}var _i={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Es={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bi;function xi(){}m(xi,ml),xi.prototype.g=function(){return new XMLHttpRequest},bi=new xi;function Tr(l){return encodeURIComponent(String(l))}function vl(l){var f=1;l=l.split(":");const g=[];for(;f>0&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function tr(l,f,g,x){this.j=l,this.i=f,this.l=g,this.S=x||1,this.V=new vi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ts}function Ts(){this.i=null,this.g="",this.h=!1}var _l={},bl={};function xl(l,f,g){l.M=1,l.A=Lu(nr(f)),l.u=g,l.R=!0,ce(l,null)}function ce(l,f){l.F=Date.now(),jt(l),l.B=nr(l.A);var g=l.B,x=l.S;Array.isArray(x)||(x=[String(x)]),l1(g.i,"t",x),l.C=0,g=l.j.L,l.h=new Ts,l.g=A1(l.j,g?f:null,!l.u),l.P>0&&(l.O=new wm(h(l.Y,l,l.g),l.P)),f=l.V,g=l.g,x=l.ba;var M="readystatechange";Array.isArray(M)||(M&&(Iu[0]=M.toString()),M=Iu);for(let P=0;P<M.length;P++){const Y=Bn(g,M[P],x||f.handleEvent,!1,f.h||f);if(!Y)break;f.g[Y.key]=Y}f=l.J?X(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),oa(),je(l.i,l.v,l.B,l.l,l.S,l.u)}tr.prototype.ba=function(l){l=l.target;const f=this.O;f&&ha(l)==3?f.j():this.Y(l)},tr.prototype.Y=function(l){try{if(l==this.g)e:{const oe=ha(this.g),dt=this.g.ya(),Ce=this.g.ca();if(!(oe<3)&&(oe!=3||this.g&&(this.h.h||this.g.la()||p1(this.g)))){this.K||oe!=4||dt==7||(dt==8||Ce<=0?oa(3):oa(2)),wl(this);var f=this.g.ca();this.X=f;var g=Be(this);if(this.o=f==200,wn(this.i,this.v,this.B,this.l,this.S,oe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var x,M=this.g;if((x=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(x)){var P=x;break t}}P=null}if(l=P)la(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Em(this,l);else{this.o=!1,this.m=3,gt(12),Ei(this),wi(this);break e}}if(this.R){l=!0;let yt;for(;!this.K&&this.C<g.length;)if(yt=rn(this,g),yt==bl){oe==4&&(this.m=4,gt(14),l=!1),la(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==_l){this.m=4,gt(15),la(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else la(this.i,this.l,yt,null),Em(this,yt);if(He(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),oe!=4||g.length!=0||this.h.h||(this.m=1,gt(16),l=!1),this.o=this.o&&l,!l)la(this.i,this.l,g,"[Invalid Chunked Response]"),Ei(this),wi(this);else if(g.length>0&&!this.W){this.W=!0;var Y=this.j;Y.g==this&&Y.aa&&!Y.P&&(Y.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Om(Y),Y.P=!0,gt(11))}}else la(this.i,this.l,g,null),Em(this,g);oe==4&&Ei(this),this.o&&!this.K&&(oe==4?w1(this.j,this):(this.o=!1,jt(this)))}else VI(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Ei(this),wi(this)}}}catch{}finally{}};function Be(l){if(!He(l))return l.g.la();const f=p1(l.g);if(f==="")return"";let g="";const x=f.length,M=ha(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Ei(l),wi(l),"";l.h.i=new s.TextDecoder}for(let P=0;P<x;P++)l.h.h=!0,g+=l.h.i.decode(f[P],{stream:!(M&&P==x-1)});return f.length=0,l.h.g+=g,l.C=0,l.h.g}function He(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function rn(l,f){var g=l.C,x=f.indexOf(`
`,g);return x==-1?bl:(g=Number(f.substring(g,x)),isNaN(g)?_l:(x+=1,x+g>f.length?bl:(f=f.slice(x,x+g),l.C=x+g,f)))}tr.prototype.cancel=function(){this.K=!0,Ei(this)};function jt(l){l.T=Date.now()+l.H,Ss(l,l.H)}function Ss(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=rt(h(l.aa,l),f)}function wl(l){l.D&&(s.clearTimeout(l.D),l.D=null)}tr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(yl(this.i,this.B),this.M!=2&&(oa(),gt(17)),Ei(this),this.m=2,wi(this)):Ss(this,this.T-l)};function wi(l){l.j.I==0||l.K||w1(l.j,l)}function Ei(l){wl(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,Ou(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function Em(l,f){try{var g=l.j;if(g.I!=0&&(g.g==l||Tm(g.h,l))){if(!l.L&&Tm(g.h,l)&&g.I==3){try{var x=g.Ba.g.parse(f)}catch{x=null}if(Array.isArray(x)&&x.length==3){var M=x;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Fu(g),zu(g);else break e;Im(g),gt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=rt(h(g.Va,g),6e3));e1(g.h)<=1&&g.ta&&(g.ta=void 0)}else Si(g,11)}else if((l.L||g.g==l)&&Fu(g),!C(f))for(M=g.Ba.g.parse(f),f=0;f<M.length;f++){let Ce=M[f];const yt=Ce[0];if(!(yt<=g.K))if(g.K=yt,Ce=Ce[1],g.I==2)if(Ce[0]=="c"){g.M=Ce[1],g.ba=Ce[2];const rr=Ce[3];rr!=null&&(g.ka=rr,g.j.info("VER="+g.ka));const Ai=Ce[4];Ai!=null&&(g.za=Ai,g.j.info("SVER="+g.za));const da=Ce[5];da!=null&&typeof da=="number"&&da>0&&(x=1.5*da,g.O=x,g.j.info("backChannelRequestTimeoutMs_="+x)),x=g;const fa=l.g;if(fa){const qu=fa.g?fa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qu){var P=x.h;P.g||qu.indexOf("spdy")==-1&&qu.indexOf("quic")==-1&&qu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Sm(P,P.h),P.h=null))}if(x.G){const Dm=fa.g?fa.g.getResponseHeader("X-HTTP-Session-Id"):null;Dm&&(x.wa=Dm,Me(x.J,x.G,Dm))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),x=g;var Y=l;if(x.na=S1(x,x.L?x.ba:null,x.W),Y.L){t1(x.h,Y);var oe=Y,dt=x.O;dt&&(oe.H=dt),oe.D&&(wl(oe),jt(oe)),x.g=Y}else b1(x);g.i.length>0&&Bu(g)}else Ce[0]!="stop"&&Ce[0]!="close"||Si(g,7);else g.I==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?Si(g,7):Rm(g):Ce[0]!="noop"&&g.l&&g.l.qa(Ce),g.A=0)}}oa(4)}catch{}}var SI=class{constructor(l,f){this.g=l,this.map=f}};function J_(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Z_(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function e1(l){return l.h?1:l.g?l.g.size:0}function Tm(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Sm(l,f){l.g?l.g.add(f):l.h=f}function t1(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}J_.prototype.cancel=function(){if(this.i=n1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function n1(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.G);return f}return v(l.i)}var r1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AI(l,f){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const x=l[g].indexOf("=");let M,P=null;x>=0?(M=l[g].substring(0,x),P=l[g].substring(x+1)):M=l[g],f(M,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ca(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof ca?(this.l=l.l,El(this,l.j),this.o=l.o,this.g=l.g,Tl(this,l.u),this.h=l.h,Am(this,c1(l.i)),this.m=l.m):l&&(f=String(l).match(r1))?(this.l=!1,El(this,f[1]||"",!0),this.o=Sl(f[2]||""),this.g=Sl(f[3]||"",!0),Tl(this,f[4]),this.h=Sl(f[5]||"",!0),Am(this,f[6]||"",!0),this.m=Sl(f[7]||"")):(this.l=!1,this.i=new Nl(null,this.l))}ca.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(Al(f,a1,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Al(f,a1,!0),"@"),l.push(Tr(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Al(g,g.charAt(0)=="/"?RI:CI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Al(g,OI)),l.join("")},ca.prototype.resolve=function(l){const f=nr(this);let g=!!l.j;g?El(f,l.j):g=!!l.o,g?f.o=l.o:g=!!l.g,g?f.g=l.g:g=l.u!=null;var x=l.h;if(g)Tl(f,l.u);else if(g=!!l.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var M=f.h.lastIndexOf("/");M!=-1&&(x=f.h.slice(0,M+1)+x)}if(M=x,M==".."||M==".")x="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){x=M.lastIndexOf("/",0)==0,M=M.split("/");const P=[];for(let Y=0;Y<M.length;){const oe=M[Y++];oe=="."?x&&Y==M.length&&P.push(""):oe==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),x&&Y==M.length&&P.push("")):(P.push(oe),x=!0)}x=P.join("/")}else x=M}return g?f.h=x:g=l.i.toString()!=="",g?Am(f,c1(l.i)):g=!!l.m,g&&(f.m=l.m),f};function nr(l){return new ca(l)}function El(l,f,g){l.j=g?Sl(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Tl(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function Am(l,f,g){f instanceof Nl?(l.i=f,DI(l.i,l.l)):(g||(f=Al(f,II)),l.i=new Nl(f,l.l))}function Me(l,f,g){l.i.set(f,g)}function Lu(l){return Me(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Sl(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Al(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,NI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function NI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var a1=/[#\/\?@]/g,CI=/[#\?:]/g,RI=/[#\?]/g,II=/[#\?@]/g,OI=/#/g;function Nl(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Ti(l){l.g||(l.g=new Map,l.h=0,l.i&&AI(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Nl.prototype,t.add=function(l,f){Ti(this),this.i=null,l=As(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function i1(l,f){Ti(l),f=As(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function s1(l,f){return Ti(l),f=As(l,f),l.g.has(f)}t.forEach=function(l,f){Ti(this),this.g.forEach(function(g,x){g.forEach(function(M){l.call(f,M,x,this)},this)},this)};function o1(l,f){Ti(l);let g=[];if(typeof f=="string")s1(l,f)&&(g=g.concat(l.g.get(As(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)g=g.concat(l[f]);return g}t.set=function(l,f){return Ti(this),this.i=null,l=As(this,l),s1(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=o1(this,l),l.length>0?String(l[0]):f):f};function l1(l,f,g){i1(l,f),g.length>0&&(l.i=null,l.g.set(As(l,f),v(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let x=0;x<f.length;x++){var g=f[x];const M=Tr(g);g=o1(this,g);for(let P=0;P<g.length;P++){let Y=M;g[P]!==""&&(Y+="="+Tr(g[P])),l.push(Y)}}return this.i=l.join("&")};function c1(l){const f=new Nl;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function As(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function DI(l,f){f&&!l.j&&(Ti(l),l.i=null,l.g.forEach(function(g,x){const M=x.toLowerCase();x!=M&&(i1(this,x),l1(this,M,g))},l)),l.j=f}function kI(l,f){const g=new er;if(s.Image){const x=new Image;x.onload=d(ua,g,"TestLoadImage: loaded",!0,f,x),x.onerror=d(ua,g,"TestLoadImage: error",!1,f,x),x.onabort=d(ua,g,"TestLoadImage: abort",!1,f,x),x.ontimeout=d(ua,g,"TestLoadImage: timeout",!1,f,x),s.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=l}else f(!1)}function jI(l,f){const g=new er,x=new AbortController,M=setTimeout(()=>{x.abort(),ua(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:x.signal}).then(P=>{clearTimeout(M),P.ok?ua(g,"TestPingServer: ok",!0,f):ua(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),ua(g,"TestPingServer: error",!1,f)})}function ua(l,f,g,x,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),x(g)}catch{}}function MI(){this.g=new Du}function Nm(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Nm,ml),Nm.prototype.g=function(){return new Vu(this.i,this.h)};function Vu(l,f){ht.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Vu,ht),t=Vu.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,Rl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||s).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cl(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rl(this)),this.g&&(this.readyState=3,Rl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;u1(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function u1(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Cl(this):Rl(this),this.readyState==3&&u1(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Cl(this))},t.Na=function(l){this.g&&(this.response=l,Cl(this))},t.ga=function(){this.g&&Cl(this)};function Cl(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Rl(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Rl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Vu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function h1(l){let f="";return W(l,function(g,x){f+=x,f+=":",f+=g,f+=`\r
`}),f}function Cm(l,f,g){e:{for(x in g){var x=!1;break e}x=!0}x||(g=h1(g),typeof l=="string"?g!=null&&Tr(g):Me(l,f,g))}function Qe(l){ht.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Qe,ht);var PI=/^https?$/i,LI=["POST","PUT"];t=Qe.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,g,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bi.g(),this.g.onreadystatechange=p(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(P){d1(this,P);return}if(l=g||"",g=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var M in x)g.set(M,x[M]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const P of x.keys())g.set(P,x.get(P));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),M=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(LI,f,void 0)>=0)||x||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,Y]of g)this.g.setRequestHeader(P,Y);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(P){d1(this,P)}};function d1(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,f1(l),Uu(l)}function f1(l){l.A||(l.A=!0,wt(l,"complete"),wt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,wt(this,"complete"),wt(this,"abort"),Uu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Uu(this,!0)),Qe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?m1(this):this.Xa())},t.Xa=function(){m1(this)};function m1(l){if(l.h&&typeof i<"u"){if(l.v&&ha(l)==4)setTimeout(l.Ca.bind(l),0);else if(wt(l,"readystatechange"),ha(l)==4){l.h=!1;try{const P=l.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var x;if(x=P===0){let Y=String(l.D).match(r1)[1]||null;!Y&&s.self&&s.self.location&&(Y=s.self.location.protocol.slice(0,-1)),x=!PI.test(Y?Y.toLowerCase():"")}g=x}if(g)wt(l,"complete"),wt(l,"success");else{l.o=6;try{var M=ha(l)>2?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.ca()+"]",f1(l)}}finally{Uu(l)}}}}function Uu(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,f||wt(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ha(l){return l.g?l.g.readyState:0}t.ca=function(){try{return ha(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),fl(f)}};function p1(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function VI(l){const f={};l=(l.g&&ha(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<l.length;x++){if(C(l[x]))continue;var g=vl(l[x]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const P=f[M]||[];f[M]=P,P.push(g)}L(f,function(x){return x.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Il(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function g1(l){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Il("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Il("baseRetryDelayMs",5e3,l),this.Za=Il("retryDelaySeedMs",1e4,l),this.Ta=Il("forwardChannelMaxRetries",2,l),this.va=Il("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new J_(l&&l.concurrentRequestLimit),this.Ba=new MI,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=g1.prototype,t.ka=8,t.I=1,t.connect=function(l,f,g,x){gt(0),this.W=l,this.H=f||{},g&&x!==void 0&&(this.H.OSID=g,this.H.OAID=x),this.F=this.X,this.J=S1(this,null,this.W),Bu(this)};function Rm(l){if(y1(l),l.I==3){var f=l.V++,g=nr(l.J);if(Me(g,"SID",l.M),Me(g,"RID",f),Me(g,"TYPE","terminate"),Ol(l,g),f=new tr(l,l.j,f),f.M=2,f.A=Lu(nr(g)),g=!1,s.navigator&&s.navigator.sendBeacon)try{g=s.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&s.Image&&(new Image().src=f.A,g=!0),g||(f.g=A1(f.j,null),f.g.ea(f.A)),f.F=Date.now(),jt(f)}T1(l)}function zu(l){l.g&&(Om(l),l.g.cancel(),l.g=null)}function y1(l){zu(l),l.v&&(s.clearTimeout(l.v),l.v=null),Fu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function Bu(l){if(!Z_(l.h)&&!l.m){l.m=!0;var f=l.Ea;V||w(),H||(V(),H=!0),T.add(f,l),l.D=0}}function UI(l,f){return e1(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=rt(h(l.Ea,l,f),E1(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const M=new tr(this,this.j,l);let P=this.o;if(this.U&&(P?(P=X(P),we(P,this.U)):P=this.U),this.u!==null||this.R||(M.J=P,P=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var x=this.i[g];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(f+=x,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=_1(this,M,f),g=nr(this.J),Me(g,"RID",l),Me(g,"CVER",22),this.G&&Me(g,"X-HTTP-Session-Id",this.G),Ol(this,g),P&&(this.R?f="headers="+Tr(h1(P))+"&"+f:this.u&&Cm(g,this.u,P)),Sm(this.h,M),this.Ra&&Me(g,"TYPE","init"),this.S?(Me(g,"$req",f),Me(g,"SID","null"),M.U=!0,xl(M,g,null)):xl(M,g,f),this.I=2}}else this.I==3&&(l?v1(this,l):this.i.length==0||Z_(this.h)||v1(this))};function v1(l,f){var g;f?g=f.l:g=l.V++;const x=nr(l.J);Me(x,"SID",l.M),Me(x,"RID",g),Me(x,"AID",l.K),Ol(l,x),l.u&&l.o&&Cm(x,l.u,l.o),g=new tr(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),f&&(l.i=f.G.concat(l.i)),f=_1(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Sm(l.h,g),xl(g,x,f)}function Ol(l,f){l.H&&W(l.H,function(g,x){Me(f,x,g)}),l.l&&W({},function(g,x){Me(f,x,g)})}function _1(l,f,g){g=Math.min(l.i.length,g);const x=l.l?h(l.l.Ka,l.l,l):null;e:{var M=l.i;let oe=-1;for(;;){const dt=["count="+g];oe==-1?g>0?(oe=M[0].g,dt.push("ofs="+oe)):oe=0:dt.push("ofs="+oe);let Ce=!0;for(let yt=0;yt<g;yt++){var P=M[yt].g;const rr=M[yt].map;if(P-=oe,P<0)oe=Math.max(0,M[yt].g-100),Ce=!1;else try{P="req"+P+"_"||"";try{var Y=rr instanceof Map?rr:Object.entries(rr);for(const[Ai,da]of Y){let fa=da;o(da)&&(fa=dl(da)),dt.push(P+Ai+"="+encodeURIComponent(fa))}}catch(Ai){throw dt.push(P+"type="+encodeURIComponent("_badmap")),Ai}}catch{x&&x(rr)}}if(Ce){Y=dt.join("&");break e}}Y=void 0}return l=l.i.splice(0,g),f.G=l,Y}function b1(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;V||w(),H||(V(),H=!0),T.add(f,l),l.A=0}}function Im(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=rt(h(l.Da,l),E1(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,x1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=rt(h(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),zu(this),x1(this))};function Om(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function x1(l){l.g=new tr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=nr(l.na);Me(f,"RID","rpc"),Me(f,"SID",l.M),Me(f,"AID",l.K),Me(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&Me(f,"TO",l.ia),Me(f,"TYPE","xmlhttp"),Ol(l,f),l.u&&l.o&&Cm(f,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Lu(nr(f)),g.u=null,g.R=!0,ce(g,l)}t.Va=function(){this.C!=null&&(this.C=null,zu(this),Im(this),gt(19))};function Fu(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function w1(l,f){var g=null;if(l.g==f){Fu(l),Om(l),l.g=null;var x=2}else if(Tm(l.h,f))g=f.G,t1(l.h,f),x=1;else return;if(l.I!=0){if(f.o)if(x==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var M=l.D;x=sa(),wt(x,new Et(x,g)),Bu(l)}else b1(l);else if(M=f.m,M==3||M==0&&f.X>0||!(x==1&&UI(l,f)||x==2&&Im(l)))switch(g&&g.length>0&&(f=l.h,f.i=f.i.concat(g)),M){case 1:Si(l,5);break;case 4:Si(l,10);break;case 3:Si(l,6);break;default:Si(l,2)}}}function E1(l,f){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*f}function Si(l,f){if(l.j.info("Error code "+f),f==2){var g=h(l.bb,l),x=l.Ua;const M=!x;x=new ca(x||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||El(x,"https"),Lu(x),M?kI(x.toString(),g):jI(x.toString(),g)}else gt(2);l.I=0,l.l&&l.l.pa(f),T1(l),y1(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function T1(l){if(l.I=0,l.ja=[],l.l){const f=n1(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ja,f),S(l.ja,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.oa()}}function S1(l,f,g){var x=g instanceof ca?nr(g):new ca(g);if(x.g!="")f&&(x.g=f+"."+x.g),Tl(x,x.u);else{var M=s.location;x=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const P=new ca(null);x&&El(P,x),f&&(P.g=f),M&&Tl(P,M),g&&(P.h=g),x=P}return g=l.G,f=l.wa,g&&f&&Me(x,g,f),Me(x,"VER",l.ka),Ol(l,x),x}function A1(l,f,g){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new Qe(new Nm({ab:g})):new Qe(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N1(){}t=N1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $u(){}$u.prototype.g=function(l,f){return new an(l,f)};function an(l,f){ht.call(this),this.g=new g1(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!C(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!C(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Ns(this)}m(an,ht),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Rm(this.g)},an.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=dl(l),l=g);f.i.push(new SI(f.Ya++,l)),f.I==3&&Bu(f)},an.prototype.N=function(){this.g.l=null,delete this.j,Rm(this.g),delete this.g,an.Z.N.call(this)};function C1(l){ws.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}m(C1,ws);function R1(){pl.call(this),this.status=1}m(R1,pl);function Ns(l){this.g=l}m(Ns,N1),Ns.prototype.ra=function(){wt(this.g,"a")},Ns.prototype.qa=function(l){wt(this.g,new C1(l))},Ns.prototype.pa=function(l){wt(this.g,new R1)},Ns.prototype.oa=function(){wt(this.g,"b")},$u.prototype.createWebChannel=$u.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,uN=function(){return new $u},cN=function(){return sa()},lN=Zn,uy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_i.NO_ERROR=0,_i.TIMEOUT=8,_i.HTTP_ERROR=6,Fh=_i,Es.COMPLETE="complete",oN=Es,ku.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",ht.prototype.listen=ht.prototype.J,Jl=ku,Qe.prototype.listenOnce=Qe.prototype.K,Qe.prototype.getLastError=Qe.prototype.Ha,Qe.prototype.getLastErrorCode=Qe.prototype.ya,Qe.prototype.getStatus=Qe.prototype.ca,Qe.prototype.getResponseJson=Qe.prototype.La,Qe.prototype.getResponseText=Qe.prototype.la,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Fa,sN=Qe}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const qx="@firebase/firestore",Hx="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new jf("@firebase/firestore");function Ps(){return Xi.logLevel}function Q(t,...e){if(Xi.logLevel<=de.DEBUG){const n=e.map(dv);Xi.debug(`Firestore (${Xo}): ${t}`,...n)}}function Xr(t,...e){if(Xi.logLevel<=de.ERROR){const n=e.map(dv);Xi.error(`Firestore (${Xo}): ${t}`,...n)}}function Co(t,...e){if(Xi.logLevel<=de.WARN){const n=e.map(dv);Xi.warn(`Firestore (${Xo}): ${t}`,...n)}}function dv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hN(t,r,n)}function hN(t,e,n){let r=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xr(r),new Error(r)}function xe(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||hN(e,a,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class $L{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qL{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){xe(this.o===void 0,42304);let r=this.i;const a=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fr,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await a(this.currentUser)})},o=c=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(xe(typeof r.accessToken=="string",31837,{l:r}),new dN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return xe(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class HL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new HL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){xe(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const a=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Gx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Gx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=WL(40);for(let i=0;i<a.length;++i)r.length<20&&a[i]<n&&(r+=e.charAt(a[i]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function hy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),i=e.charAt(r);if(a!==i)return Rp(a)===Rp(i)?fe(a,i):Rp(a)?1:-1}return fe(t.length,e.length)}const KL=55296,QL=57343;function Rp(t){const e=t.charCodeAt(0);return e>=KL&&e<=QL}function Ro(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="__name__";class ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ir?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const i=ir.compareSegments(e.get(a),n.get(a));if(i!==0)return i}return fe(e.length,n.length)}static compareSegments(e,n){const r=ir.isNumericId(e),a=ir.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?ir.extractNumericId(e).compare(ir.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $a.fromString(e.substring(4,e.length-2))}}class De extends ir{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new De(n)}static emptyPath(){return new De([])}}const XL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends ir{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return XL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yx}static keyField(){return new Rt([Yx])}static fromServerFormat(e){const n=[];let r="",a=0;const i=()=>{if(r.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;a<e.length;){const o=e[a];if(o==="\\"){if(a+1===e.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[a+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(r+=o,a++):(i(),a++)}if(i(),s)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(De.fromString(e))}static fromName(e){return new J(De.fromString(e).popFirst(5))}static empty(){return new J(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t,e,n){if(!n)throw new K(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JL(t,e,n,r){if(e===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Wx(t){if(!J.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Kx(t){if(J.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Mn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(t);throw new K(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t,e){const n={typeString:t};return e&&(n.value=e),n}function gu(t,e){if(!mN(t))throw new K(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(a&&typeof s!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=-62135596800,Xx=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(e){return ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xx);return new ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qx)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xx}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,ve._jsonSchema))return new ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Qx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:ut("string",ve._jsonSchemaVersion),seconds:ut("number"),nanoseconds:ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new ve(0,0))}static max(){return new ne(new ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc=-1;function ZL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ne.fromTimestamp(r===1e9?new ve(n+1,0):new ve(n,r));return new Ja(a,J.empty(),e)}function e6(t){return new Ja(t.readTime,t.key,Bc)}class Ja{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ja(ne.min(),J.empty(),Bc)}static max(){return new Ja(ne.max(),J.empty(),Bc)}}function t6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==n6)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,a)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let a=0,i=0,s=!1;e.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&n()},c=>r(c))}),s=!0,i===a&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(a=>a?$.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,i)=>{r.push(n.call(this,a,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,a)=>{const i=e.length,s=new Array(i);let o=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(d=>{s[h]=d,++o,o===i&&r(s)},d=>a(d))}})}static doWhile(e,n){return new $((r,a)=>{const i=()=>{e()===!0?n().next(()=>{i()},a):r()};i()})}}function a6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Lf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=-1;function Vf(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function i6(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN="";function s6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Jx(e)),e=o6(t.get(n),e);return Jx(e)}function o6(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const i=t.charAt(a);switch(i){case"\0":n+="";break;case pN:n+="";break;default:n+=i}}return n}function Jx(t){return t+pN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ui(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,a,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=a??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,i){return new St(e??this.key,n??this.value,r??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const i=r(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,n,r),null):i===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return St.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,a,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new fn([])}unionWith(e){let n=new mt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yN("Invalid base64 string: "+i):i}}(e);return new Dt(n)}static fromUint8Array(e){const n=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new Dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const l6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(t){if(xe(!!t,39018),typeof t=="string"){let e=0;const n=l6.exec(t);if(xe(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ei(t){return typeof t=="string"?Dt.fromBase64String(t):Dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="server_timestamp",_N="__type__",bN="__previous_value__",xN="__local_write_time__";function pv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_N])==null?void 0:r.stringValue)===vN}function Uf(t){const e=t.mapValue.fields[bN];return pv(e)?Uf(e):e}function Fc(t){const e=Za(t.mapValue.fields[xN].timestampValue);return new ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,r,a,i,s,o,c,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=h,this.isUsingEmulator=d}}const jd="(default)";class $c{constructor(e,n){this.projectId=e,this.database=n||jd}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database===jd}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="__type__",u6="__max__",mh={mapValue:{}},EN="__vector__",Md="value";function ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pv(t)?4:d6(t)?9007199254740991:h6(t)?10:11:ee(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=ti(t);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fc(t).isEqual(Fc(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Za(a.timestampValue),o=Za(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ei(a.bytesValue).isEqual(ei(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return Ze(a.geoPointValue.latitude)===Ze(i.geoPointValue.latitude)&&Ze(a.geoPointValue.longitude)===Ze(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Ze(a.integerValue)===Ze(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Ze(a.doubleValue),o=Ze(i.doubleValue);return s===o?kd(s)===kd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(Zx(s)!==Zx(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!yr(s[c],o[c])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function qc(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Io(t,e){if(t===e)return 0;const n=ti(t),r=ti(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ze(i.integerValue||i.doubleValue),c=Ze(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return tw(t.timestampValue,e.timestampValue);case 4:return tw(Fc(t),Fc(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ei(i),c=ei(s);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),c=s.split("/");for(let h=0;h<o.length&&h<c.length;h++){const d=fe(o[h],c[h]);if(d!==0)return d}return fe(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=fe(Ze(i.latitude),Ze(s.latitude));return o!==0?o:fe(Ze(i.longitude),Ze(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var p,v,S,A;const o=i.fields||{},c=s.fields||{},h=(p=o[Md])==null?void 0:p.arrayValue,d=(v=c[Md])==null?void 0:v.arrayValue,m=fe(((S=h==null?void 0:h.values)==null?void 0:S.length)||0,((A=d==null?void 0:d.values)==null?void 0:A.length)||0);return m!==0?m:nw(h,d)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===mh.mapValue&&s===mh.mapValue)return 0;if(i===mh.mapValue)return 1;if(s===mh.mapValue)return-1;const o=i.fields||{},c=Object.keys(o),h=s.fields||{},d=Object.keys(h);c.sort(),d.sort();for(let m=0;m<c.length&&m<d.length;++m){const p=hy(c[m],d[m]);if(p!==0)return p;const v=Io(o[c[m]],h[d[m]]);if(v!==0)return v}return fe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function tw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Za(t),r=Za(e),a=fe(n.seconds,r.seconds);return a!==0?a:fe(n.nanos,r.nanos)}function nw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const i=Io(n[a],r[a]);if(i)return i}return fe(n.length,r.length)}function Oo(t){return dy(t)}function dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Za(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ei(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const i of n.values||[])a?a=!1:r+=",",r+=dy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",i=!0;for(const s of r)i?i=!1:a+=",",a+=`${s}:${dy(n.fields[s])}`;return a+"}"}(t.mapValue):ee(61005,{value:t})}function $h(t){switch(ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uf(t);return e?16+$h(e):16;case 5:return 2*t.stringValue.length;case 6:return ei(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,i)=>a+$h(i),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return ui(r.fields,(i,s)=>{a+=i.length+$h(s)}),a}(t.mapValue);default:throw ee(13486,{value:t})}}function rw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fy(t){return!!t&&"integerValue"in t}function gv(t){return!!t&&"arrayValue"in t}function aw(t){return!!t&&"nullValue"in t}function iw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qh(t){return!!t&&"mapValue"in t}function h6(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[wN])==null?void 0:r.stringValue)===EN}function vc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ui(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return{...t}}function d6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!qh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=Rt.emptyPath(),r={},a=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,a),r={},a=[],n=o.popLast()}s?r[o.lastSegment()]=vc(s):a.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,a)}delete(e){const n=this.field(e.popLast());qh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];qh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){ui(n,(a,i)=>e[a]=i);for(const a of r)delete e[a]}clone(){return new Jt(vc(this.value))}}function TN(t){const e=[];return ui(t.fields,(n,r)=>{const a=new Rt([n]);if(qh(r)){const i=TN(r.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,n,r,a,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Lt(e,0,ne.min(),ne.min(),ne.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,a){return new Lt(e,1,n,ne.min(),r,a,0)}static newNoDocument(e,n){return new Lt(e,2,n,ne.min(),ne.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new Lt(e,3,n,ne.min(),ne.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Lt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Lt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.position=e,this.inclusive=n}}function sw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=Io(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ow(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function f6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{}class lt extends SN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new p6(e,n,r):n==="array-contains"?new v6(e,r):n==="in"?new _6(e,r):n==="not-in"?new b6(e,r):n==="array-contains-any"?new x6(e,r):new lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new g6(e,r):new y6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends SN{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return AN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function AN(t){return t.op==="and"}function NN(t){return m6(t)&&AN(t)}function m6(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function my(t){if(t instanceof lt)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(NN(t))return t.filters.map(e=>my(e)).join(",");{const e=t.filters.map(n=>my(n)).join(",");return`${t.op}(${e})`}}function CN(t,e){return t instanceof lt?function(r,a){return a instanceof lt&&r.op===a.op&&r.field.isEqual(a.field)&&yr(r.value,a.value)}(t,e):t instanceof Wn?function(r,a){return a instanceof Wn&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((i,s,o)=>i&&CN(s,a.filters[o]),!0):!1}(t,e):void ee(19439)}function RN(t){return t instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(RN).join(" ,")+"}"}(t):"Filter"}class p6 extends lt{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class g6 extends lt{constructor(e,n){super(e,"in",n),this.keys=IN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class y6 extends lt{constructor(e,n){super(e,"not-in",n),this.keys=IN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class v6 extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gv(n)&&qc(n.arrayValue,this.value)}}class _6 extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qc(this.value.arrayValue,n)}}class b6 extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!qc(this.value.arrayValue,n)}}class x6 extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n=null,r=[],a=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function lw(t,e=null,n=[],r=[],a=null,i=null,s=null){return new w6(t,e,n,r,a,i,s)}function yv(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>my(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.Te=n}return e.Te}function vv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!f6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!CN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ow(t.startAt,e.startAt)&&ow(t.endAt,e.endAt)}function py(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n=null,r=[],a=[],i=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function E6(t,e,n,r,a,i,s,o){return new el(t,e,n,r,a,i,s,o)}function zf(t){return new el(t)}function cw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ON(t){return t.collectionGroup!==null}function _c(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new mt(Rt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Hc(i,r))}),n.has(Rt.keyField().canonicalString())||e.Ie.push(new Hc(Rt.keyField(),r))}return e.Ie}function hr(t){const e=ae(t);return e.Ee||(e.Ee=T6(e,_c(t))),e.Ee}function T6(t,e){if(t.limitType==="F")return lw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Hc(a.field,i)});const n=t.endAt?new Pd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pd(t.startAt.position,t.startAt.inclusive):null;return lw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gy(t,e){const n=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yy(t,e,n){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bf(t,e){return vv(hr(t),hr(e))&&t.limitType===e.limitType}function DN(t){return`${yv(hr(t))}|lt:${t.limitType}`}function Ls(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>RN(a)).join(", ")}]`),Vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Oo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Oo(a)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&function(r,a){const i=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,a){for(const i of _c(r))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const i of r.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(s,o,c){const h=sw(s,o,c);return s.inclusive?h<=0:h<0}(r.startAt,_c(r),a)||r.endAt&&!function(s,o,c){const h=sw(s,o,c);return s.inclusive?h>=0:h>0}(r.endAt,_c(r),a))}(t,e)}function S6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kN(t){return(e,n)=>{let r=!1;for(const a of _c(t)){const i=A6(a,e,n);if(i!==0)return i;r=r||a.field.isKeyField()}return 0}}function A6(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,s,o){const c=s.data.field(i),h=o.data.field(i);return c!==null&&h!==null?Io(c,h):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,i]of r)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){ui(this.inner,(n,r)=>{for(const[a,i]of r)e(a,i)})}isEmpty(){return gN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new We(J.comparator);function Jr(){return N6}const jN=new We(J.comparator);function Zl(...t){let e=jN;for(const n of t)e=e.insert(n.key,n);return e}function MN(t){let e=jN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return bc()}function PN(){return bc()}function bc(){return new ms(t=>t.toString(),(t,e)=>t.isEqual(e))}const C6=new We(J.comparator),R6=new mt(J.comparator);function me(...t){let e=R6;for(const n of t)e=e.add(n);return e}const I6=new mt(fe);function O6(){return I6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function LN(t){return{integerValue:""+t}}function D6(t,e){return i6(e)?LN(e):_v(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function k6(t,e,n){return t instanceof Ld?function(a,i){const s={fields:{[_N]:{stringValue:vN},[xN]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&pv(i)&&(i=Uf(i)),i&&(s.fields[bN]=i),{mapValue:s}}(n,e):t instanceof Gc?UN(t,e):t instanceof Yc?zN(t,e):function(a,i){const s=VN(a,i),o=uw(s)+uw(a.Ae);return fy(s)&&fy(a.Ae)?LN(o):_v(a.serializer,o)}(t,e)}function j6(t,e,n){return t instanceof Gc?UN(t,e):t instanceof Yc?zN(t,e):n}function VN(t,e){return t instanceof Vd?function(r){return fy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ld extends $f{}class Gc extends $f{constructor(e){super(),this.elements=e}}function UN(t,e){const n=BN(e);for(const r of t.elements)n.some(a=>yr(a,r))||n.push(r);return{arrayValue:{values:n}}}class Yc extends $f{constructor(e){super(),this.elements=e}}function zN(t,e){let n=BN(e);for(const r of t.elements)n=n.filter(a=>!yr(a,r));return{arrayValue:{values:n}}}class Vd extends $f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function uw(t){return Ze(t.integerValue||t.doubleValue)}function BN(t){return gv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M6(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Gc&&a instanceof Gc||r instanceof Yc&&a instanceof Yc?Ro(r.elements,a.elements,yr):r instanceof Vd&&a instanceof Vd?yr(r.Ae,a.Ae):r instanceof Ld&&a instanceof Ld}(t.transform,e.transform)}class P6{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qf{}function FN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bv(t.key,Gn.none()):new yu(t.key,t.data,Gn.none());{const n=t.data,r=Jt.empty();let a=new mt(Rt.comparator);for(let i of e.fields)if(!a.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),a=a.add(i)}return new hi(t.key,r,new fn(a.toArray()),Gn.none())}}function L6(t,e,n){t instanceof yu?function(a,i,s){const o=a.value.clone(),c=dw(a.fieldTransforms,i,s.transformResults);o.setAll(c),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof hi?function(a,i,s){if(!Hh(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=dw(a.fieldTransforms,i,s.transformResults),c=i.data;c.setAll($N(a)),c.setAll(o),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function xc(t,e,n,r){return t instanceof yu?function(i,s,o,c){if(!Hh(i.precondition,s))return o;const h=i.value.clone(),d=fw(i.fieldTransforms,c,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof hi?function(i,s,o,c){if(!Hh(i.precondition,s))return o;const h=fw(i.fieldTransforms,c,s),d=s.data;return d.setAll($N(i)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,s,o){return Hh(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function V6(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),i=VN(r.transform,a||null);i!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,i))}return n||null}function hw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ro(r,a,(i,s)=>M6(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yu extends qf{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class hi extends qf{constructor(e,n,r,a,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function $N(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dw(t,e,n){const r=new Map;xe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const i=t[a],s=i.transform,o=e.data.field(i.field);r.set(i.field,j6(s,o,n[a]))}return r}function fw(t,e,n){const r=new Map;for(const a of t){const i=a.transform,s=n.data.field(a.field);r.set(a.field,k6(i,s,e))}return r}class bv extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class U6 extends qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&L6(i,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PN();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=n.has(a.key)?null:o;const c=FN(s,o);c!==null&&r.set(a.key,c),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>hw(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>hw(n,r))}}class xv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){xe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=function(){return C6}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new xv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ye;function $6(t){switch(t){case B.OK:return ee(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function qN(t){if(t===void 0)return Xr("GRPC error has no .code"),B.UNKNOWN;switch(t){case at.OK:return B.OK;case at.CANCELLED:return B.CANCELLED;case at.UNKNOWN:return B.UNKNOWN;case at.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case at.INTERNAL:return B.INTERNAL;case at.UNAVAILABLE:return B.UNAVAILABLE;case at.UNAUTHENTICATED:return B.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case at.NOT_FOUND:return B.NOT_FOUND;case at.ALREADY_EXISTS:return B.ALREADY_EXISTS;case at.PERMISSION_DENIED:return B.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case at.ABORTED:return B.ABORTED;case at.OUT_OF_RANGE:return B.OUT_OF_RANGE;case at.UNIMPLEMENTED:return B.UNIMPLEMENTED;case at.DATA_LOSS:return B.DATA_LOSS;default:return ee(39323,{code:t})}}(ye=at||(at={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new $a([4294967295,4294967295],0);function mw(t){const e=q6().encode(t),n=new iN;return n.update(e),new Uint8Array(n.digest())}function pw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $a([n,r],0),new $a([a,i],0)]}class wv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$a.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply($a.fromNumber(r)));return a.compare(H6)===1&&(a=new $a([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=mw(e),[r,a]=pw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);if(!this.we(s))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new wv(i,a,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=mw(e),[r,a]=pw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,n,r,a,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hf(ne.min(),a,new We(fe),Jr(),me())}}class vu{constructor(e,n,r,a,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new vu(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class HN{constructor(e,n){this.targetId=e,this.Ce=n}}class GN{constructor(e,n,r=Dt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class gw{constructor(){this.ve=0,this.Fe=yw(),this.Me=Dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=me(),n=me(),r=me();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ee(38017,{changeType:i})}}),new vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=yw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class G6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=ph(),this.He=ph(),this.Ye=new We(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const i=a.target;if(py(i))if(r===0){const s=new J(i.path);this.et(n,s,Lt.newNoDocument(s,ne.min()))}else xe(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),c=o?this.ct(o,e,s):1;if(c!==0){this.it(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let s,o;try{s=ei(r).toUint8Array()}catch(c){if(c instanceof yN)return Co("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new wv(s,a,i)}catch(c){return Co(c instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&py(o.target)){const c=new J(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Lt.newNoDocument(c,e))}i.Be&&(n.set(s,i.ke()),i.qe())}});let r=me();this.He.forEach((i,s)=>{let o=!0;s.forEachWhile(c=>{const h=this.ot(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const a=new Hf(e,n,this.Ye,this.je,r);return this.je=Jr(),this.Je=ph(),this.He=ph(),this.Ye=new We(fe),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new gw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new mt(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new mt(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new gw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ph(){return new We(J.comparator)}function yw(){return new We(J.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},W6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K6={and:"AND",or:"OR"};class Q6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||Vf(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function X6(t,e){return Ud(t,e.toTimestamp())}function dr(t){return xe(!!t,49232),ne.fromTimestamp(function(n){const r=Za(n);return new ve(r.seconds,r.nanos)}(t))}function Ev(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=function(a){return new De(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WN(t){const e=De.fromString(t);return xe(ZN(e),10190,{key:e.toString()}),e}function by(t,e){return Ev(t.databaseId,e.path)}function Ip(t,e){const n=WN(e);if(n.get(1)!==t.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(QN(n))}function KN(t,e){return Ev(t.databaseId,e)}function J6(t){const e=WN(t);return e.length===4?De.emptyPath():QN(e)}function xy(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QN(t){return xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function vw(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function Z6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ee(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(xe(d===void 0||typeof d=="string",58123),Dt.fromBase64String(d||"")):(xe(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(h){const d=h.code===void 0?B.UNKNOWN:qN(h.code);return new K(d,h.message||"")}(s);n=new GN(r,a,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ip(t,r.document.name),i=dr(r.document.updateTime),s=r.document.createTime?dr(r.document.createTime):ne.min(),o=new Jt({mapValue:{fields:r.document.fields}}),c=Lt.newFoundDocument(a,i,s,o),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Gh(h,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ip(t,r.document),i=r.readTime?dr(r.readTime):ne.min(),s=Lt.newNoDocument(a,i),o=r.removedTargetIds||[];n=new Gh([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ip(t,r.document),i=r.removedTargetIds||[];n=new Gh([],i,a,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:i}=r,s=new F6(a,i),o=r.targetId;n=new HN(o,s)}}return n}function e5(t,e){let n;if(e instanceof yu)n={update:vw(t,e.key,e.value)};else if(e instanceof bv)n={delete:by(t,e.key)};else if(e instanceof hi)n={update:vw(t,e.key,e.data),updateMask:c5(e.fieldMask)};else{if(!(e instanceof U6))return ee(16599,{Vt:e.type});n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ld)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Gc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Yc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Vd)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ee(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:X6(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function t5(t,e){return t&&t.length>0?(xe(e!==void 0,14353),t.map(n=>function(a,i){let s=a.updateTime?dr(a.updateTime):dr(i);return s.isEqual(ne.min())&&(s=dr(i)),new P6(s,a.transformResults||[])}(n,e))):[]}function n5(t,e){return{documents:[KN(t,e.path)]}}function r5(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KN(t,a);const i=function(h){if(h.length!==0)return JN(Wn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(h){if(h.length!==0)return h.map(d=>function(p){return{field:Vs(p.field),direction:s5(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:a}}function a5(t){let e=J6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){xe(r===1,65062);const d=n.from[0];d.allDescendants?a=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(m){const p=XN(m);return p instanceof Wn&&NN(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(S){return new Hc(Us(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,Vf(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,v=m.values||[];return new Pd(v,p)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const p=!m.before,v=m.values||[];return new Pd(v,p)}(n.endAt)),E6(e,a,s,i,o,"F",c,h)}function i5(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Us(n.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Us(n.unaryFilter.field);return lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Us(n.unaryFilter.field);return lt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Us(n.unaryFilter.field);return lt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return lt.create(Us(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>XN(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function s5(t){return Y6[t]}function o5(t){return W6[t]}function l5(t){return K6[t]}function Vs(t){return{fieldPath:t.canonicalString()}}function Us(t){return Rt.fromServerFormat(t.fieldPath)}function JN(t){return t instanceof lt?function(n){if(n.op==="=="){if(iw(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NAN"}};if(aw(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(iw(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NAN"}};if(aw(n.value))return{unaryFilter:{field:Vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vs(n.field),op:o5(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(a=>JN(a));return r.length===1?r[0]:{compositeFilter:{op:l5(n.op),filters:r}}}(t):ee(54877,{filter:t})}function c5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r,a,i=ne.min(),s=ne.min(),o=Dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this.yt=e}}function h5(t){const e=a5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.Cn=new f5}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ja.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ja.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class f5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new mt(De.comparator),i=!a.has(r);return this.index[n]=a.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new mt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eC=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(eC,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Do(0)}static cr(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="LruGarbageCollector",m5=1048576;function xw([t,e],[n,r]){const a=fe(t,n);return a===0?fe(e,r):a}class p5{constructor(e){this.Ir=e,this.buffer=new mt(xw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class g5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(bw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zo(n)?Q(bw,"Ignoring IndexedDB error during garbage collection: ",n):await Jo(n)}await this.Vr(3e5)})}}class y5{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Lf.ce);const r=new p5(n);return this.mr.forEachTarget(e,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(_w)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_w):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,i,s,o,c,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,s=Date.now(),this.nthSequenceNumber(e,a))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Ps()<=de.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(c-o)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:m})))}}function v5(t,e){return new y5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.changes=new ms(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Lt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&xc(r.mutation,a,fn.empty(),ve.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const a=Mi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(i=>{let s=Zl();return i.forEach((o,c)=>{s=s.insert(o,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const a=[];return r.forEach(i=>{n.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,a){let i=Jr();const s=bc(),o=function(){return bc()}();return n.forEach((c,h)=>{const d=r.get(h.key);a.has(h.key)&&(d===void 0||d.mutation instanceof hi)?i=i.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),xc(d.mutation,h,d.mutation.getFieldMask(),ve.now())):s.set(h.key,fn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>o.set(h,new b5(d,s.get(h)??null))),o))}recalculateAndSaveOverlays(e,n){const r=bc();let a=new We((s,o)=>s-o),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let d=r.get(c)||fn.empty();d=o.applyToLocalView(h,d),r.set(c,d);const m=(a.get(o.batchId)||me()).add(c);a=a.insert(o.batchId,m)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),h=c.key,d=c.value,m=PN();d.forEach(p=>{if(!i.has(p)){const v=FN(n.get(p),r.get(p));v!==null&&m.set(p,v),i=i.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ON(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-i.size):$.resolve(Mi());let o=Bc,c=i;return s.next(h=>$.forEach(h,(d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),i.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,me())).next(d=>({batchId:o,changes:MN(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let a=Zl();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const i=n.collectionGroup;let s=Zl();return this.indexManager.getCollectionParents(e,i).next(o=>$.forEach(o,c=>{const h=function(m,p){return new el(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(d=>{d.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,a))).next(s=>{i.forEach((c,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,Lt.newInvalidDocument(d)))});let o=Zl();return s.forEach((c,h)=>{const d=i.get(c);d!==void 0&&xc(d.mutation,h,fn.empty(),ve.now()),Ff(n,h)&&(o=o.insert(c,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:dr(a.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:h5(a.bundledQuery),readTime:dr(a.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.overlays=new We(J.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mi();return $.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const a=Mi(),i=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&a.set(c.getKey(),c)}return $.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let i=new We((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Mi(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=Mi(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=a)););return $.resolve(o)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new B6(n,r));let i=this.qr.get(n);i===void 0&&(i=me(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.Qr=new mt(vt.$r),this.Ur=new mt(vt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new vt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new vt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new De([])),r=new vt(n,e),a=new vt(n,e+1),i=[];return this.Ur.forEachInRange([r,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new De([])),r=new vt(n,e),a=new vt(n,e+1);let i=me();return this.Ur.forEachInRange([r,a],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new vt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new mt(vt.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new z6(i,n,r,a);this.mutationQueue.push(s);for(const o of a)this.Zr=this.Zr.add(new vt(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),i=a<0?0:a;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?mv:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vt(n,0),a=new vt(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,a],s=>{const o=this.Xr(s.Yr);i.push(o)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(fe);return n.forEach(a=>{const i=new vt(a,0),s=new vt(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],o=>{r=r.add(o.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const s=new vt(new J(i),0);let o=new mt(fe);return this.Zr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(o=o.add(c.Yr)),!0)},s),$.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const a=this.Xr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,a=>{const i=new vt(a.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new vt(n,0),a=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e){this.ri=e,this.docs=function(){return new We(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),i=a?a.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Lt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(a=>{const i=this.docs.get(a);r=r.insert(a,i?i.document.mutableCopy():Lt.newInvalidDocument(a))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let i=Jr();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:h,value:{document:d}}=c.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||t6(e6(d),r)<=0||(a.has(d.key)||Ff(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,a){ee(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N5(this)}getSize(e){return $.resolve(this.size)}}class N5 extends _5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.persistence=e,this.si=new ms(n=>yv(n),vv),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new Tv,this.targetCount=0,this.ai=Do.ur()}forEachTarget(e,n){return this.si.forEach((r,a)=>n(a)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Do(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let a=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),a++)}),$.waitFor(i).next(()=>a)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,i=[];return a&&n.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Lf(0),this.li=!1,this.li=!0,this.hi=new T5,this.referenceDelegate=e(this),this.Pi=new C5(this),this.indexManager=new d5,this.remoteDocumentCache=function(a){return new A5(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new u5(n),this.Ii=new w5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new S5(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const a=new R5(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class R5 extends r6{constructor(e){super(),this.currentSequenceNumber=e}}class Sv{constructor(e){this.persistence=e,this.Ri=new Tv,this.Vi=null}static mi(e){return new Sv(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const a=J.fromPath(r);return this.gi(e,a).next(i=>{i||n.removeEntry(a,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zd{constructor(e,n){this.persistence=e,this.pi=new ms(r=>s6(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=v5(this,n)}static mi(e,n){return new zd(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,a)=>this.br(e,r,a).next(i=>i?$.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,i.removeEntry(s,ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$h(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return $.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=me(),a=me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Av(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return w3()?8:a6(Vt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const i={result:null};return this.ys(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(e,n,a,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new I5;return this.Ss(e,n,s).next(o=>{if(i.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>i.result)}bs(e,n,r,a){return r.documentReadCount<this.fs?(Ps()<=de.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Ls(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ps()<=de.DEBUG&&Q("QueryEngine","Query:",Ls(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Ps()<=de.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Ls(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):$.resolve())}ys(e,n){if(cw(n))return $.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=yy(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=me(...i);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.Ds(n,o);return this.Cs(n,h,s,c.readTime)?this.ys(e,yy(n,null,"F")):this.vs(e,h,n,c)}))})))}ws(e,n,r,a){return cw(n)||a.isEqual(ne.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const s=this.Ds(n,i);return this.Cs(n,s,r,a)?$.resolve(null):(Ps()<=de.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ls(n)),this.vs(e,s,n,ZL(a,Bc)).next(o=>o))})}Ds(e,n){let r=new mt(kN(e));return n.forEach((a,i)=>{Ff(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,n,r){return Ps()<=de.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Ls(n)),this.ps.getDocumentsMatchingQuery(e,n,Ja.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LocalStore",D5=3e8;class k5{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new We(fe),this.xs=new ms(i=>yv(i),vv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function j5(t,e,n,r){return new k5(t,e,n,r)}async function nC(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(i=>(a=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],o=[];let c=me();for(const h of a){s.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}for(const h of i){o.push(h.batchId);for(const d of h.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ls:h,removedBatchIds:s,addedBatchIds:o}))})})}function M5(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,h,d){const m=h.batch,p=m.keys();let v=$.resolve();return p.forEach(S=>{v=v.next(()=>d.getEntry(c,S)).next(A=>{const R=h.docVersions.get(S);xe(R!==null,48541),A.version.compareTo(R)<0&&(m.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),d.addEntry(A)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=me();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(c=c.add(o.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function rC(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function P5(t,e){const n=ae(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const o=[];e.targetChanges.forEach((d,m)=>{const p=a.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,m)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(Dt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),a=a.insert(m,v),function(A,R,y){return A.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=D5?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,v,d)&&o.push(n.Pi.updateTargetData(i,v))});let c=Jr(),h=me();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),o.push(L5(i,s,e.documentUpdates).next(d=>{c=d.ks,h=d.qs})),!r.isEqual(ne.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(d)}return $.waitFor(o).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.Ms=a,i))}function L5(t,e,n){let r=me(),a=me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Jr();return n.forEach((o,c)=>{const h=i.get(o);c.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),c.isNoDocument()&&c.version.isEqual(ne.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):Q(Nv,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",c.version)}),{ks:s,qs:a}})}function V5(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=mv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function U5(t,e){const n=ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Pi.getTargetData(r,e).next(i=>i?(a=i,$.resolve(a)):n.Pi.allocateTargetId(r).next(s=>(a=new Oa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function wy(t,e,n){const r=ae(t),a=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Zo(s))throw s;Q(Nv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function ww(t,e,n){const r=ae(t);let a=ne.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,h,d){const m=ae(c),p=m.xs.get(d);return p!==void 0?$.resolve(m.Ms.get(p)):m.Pi.getTargetData(h,d)}(r,s,hr(e)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(c=>{i=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?a:ne.min(),n?i:me())).next(o=>(z5(r,S6(e),o),{documents:o,Qs:i})))}function z5(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((a,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Ew{constructor(){this.activeTargetIds=O6()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B5{constructor(){this.Mo=new Ew,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ew,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="ConnectivityMonitor";class Sw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function Ey(){return gh===null?gh=function(){return 268435456+Math.round(2147483648*Math.random())}():gh++,"0x"+gh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",$5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===jd?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,i){const s=Ey(),o=this.zo(e,n.toUriEncodedString());Q(Op,`Sending RPC '${e}' ${s}:`,o,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,a,i);const{host:h}=new URL(o),d=hs(h);return this.Jo(e,o,c,r,d).then(m=>(Q(Op,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Co(Op,`RPC '${e}' ${s} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(e,n,r,a,i,s){return this.Go(e,n,r,a,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,i)=>e[i]=a),r&&r.headers.forEach((a,i)=>e[i]=a)}zo(e,n){const r=$5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class G5 extends q5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,i){const s=Ey();return new Promise((o,c)=>{const h=new sN;h.setWithCredentials(!0),h.listenOnce(oN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Fh.NO_ERROR:const m=h.getResponseJson();Q(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case Fh.TIMEOUT:Q(Mt,`RPC '${e}' ${s} timed out`),c(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const p=h.getStatus();if(Q(Mt,`RPC '${e}' ${s} failed with status:`,p,"response text:",h.getResponseText()),p>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v==null?void 0:v.error;if(S&&S.status&&S.message){const A=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(S.status);c(new K(A,S.message))}else c(new K(B.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new K(B.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Q(Mt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(a);Q(Mt,`RPC '${e}' ${s} sending request:`,a),h.send(n,"POST",d,r,15)})}T_(e,n,r){const a=Ey(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=uN(),o=cN(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");Q(Mt,`Creating RPC '${e}' stream ${a}: ${d}`,c);const m=s.createWebChannel(d,c);this.I_(m);let p=!1,v=!1;const S=new H5({Yo:R=>{v?Q(Mt,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(p||(Q(Mt,`Opening RPC '${e}' stream ${a} transport.`),m.open(),p=!0),Q(Mt,`RPC '${e}' stream ${a} sending:`,R),m.send(R))},Zo:()=>m.close()}),A=(R,y,_)=>{R.listen(y,E=>{try{_(E)}catch(O){setTimeout(()=>{throw O},0)}})};return A(m,Jl.EventType.OPEN,()=>{v||(Q(Mt,`RPC '${e}' stream ${a} transport opened.`),S.o_())}),A(m,Jl.EventType.CLOSE,()=>{v||(v=!0,Q(Mt,`RPC '${e}' stream ${a} transport closed`),S.a_(),this.E_(m))}),A(m,Jl.EventType.ERROR,R=>{v||(v=!0,Co(Mt,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new K(B.UNAVAILABLE,"The operation could not be completed")))}),A(m,Jl.EventType.MESSAGE,R=>{var y;if(!v){const _=R.data[0];xe(!!_,16349);const E=_,O=(E==null?void 0:E.error)||((y=E[0])==null?void 0:y.error);if(O){Q(Mt,`RPC '${e}' stream ${a} received error:`,O);const V=O.status;let H=function(b){const N=at[b];if(N!==void 0)return qN(N)}(V),T=O.message;H===void 0&&(H=B.INTERNAL,T="Unknown error status: "+V+" with message "+O.message),v=!0,S.a_(new K(H,T)),m.close()}else Q(Mt,`RPC '${e}' stream ${a} received:`,_),S.u_(_)}}),A(o,lN.STAT_EVENT,R=>{R.stat===uy.PROXY?Q(Mt,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===uy.NOPROXY&&Q(Mt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){return new Q6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="PersistentStream";class iC{constructor(e,n,r,a,i,s,o,c){this.Mi=e,this.S_=r,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===n&&this.G_(r,a)},r=>{e(()=>{const a=new K(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(Aw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(Aw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y5 extends iC{constructor(e,n,r,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Z6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?dr(s.readTime):ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=xy(this.serializer),n.addTarget=function(i,s){let o;const c=s.target;if(o=py(c)?{documents:n5(i,c)}:{query:r5(i,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=YN(i,s.resumeToken);const h=vy(i,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(ne.min())>0){o.readTime=Ud(i,s.snapshotVersion.toTimestamp());const h=vy(i,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,e);const r=i5(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=xy(this.serializer),n.removeTarget=e,this.q_(n)}}class W5 extends iC{constructor(e,n,r,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=t5(e.writeResults,e.commitTime),r=dr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=xy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>e5(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{}class Q5 extends K5{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,_y(n,r),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(B.UNKNOWN,i.toString())})}Ho(e,n,r,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,_y(n,r),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(B.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class X5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="RemoteStore";class J5{constructor(e,n,r,a,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{ps(this)&&(Q(Ji,"Restarting streams for network reachability change."),await async function(c){const h=ae(c);h.Ea.add(4),await _u(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Yf(h)}(this))})}),this.Ra=new X5(r,a)}}async function Yf(t){if(ps(t))for(const e of t.da)await e(!0)}async function _u(t){for(const e of t.da)await e(!1)}function sC(t,e){const n=ae(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ov(n)?Iv(n):tl(n).O_()&&Rv(n,e))}function Cv(t,e){const n=ae(t),r=tl(n);n.Ia.delete(e),r.O_()&&oC(n,e),n.Ia.size===0&&(r.O_()?r.L_():ps(n)&&n.Ra.set("Unknown"))}function Rv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tl(t).Y_(e)}function oC(t,e){t.Va.Ue(e),tl(t).Z_(e)}function Iv(t){t.Va=new G6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),tl(t).start(),t.Ra.ua()}function Ov(t){return ps(t)&&!tl(t).x_()&&t.Ia.size>0}function ps(t){return ae(t).Ea.size===0}function lC(t){t.Va=void 0}async function Z5(t){t.Ra.set("Online")}async function eV(t){t.Ia.forEach((e,n)=>{Rv(t,e)})}async function tV(t,e){lC(t),Ov(t)?(t.Ra.ha(e),Iv(t)):t.Ra.set("Unknown")}async function nV(t,e,n){if(t.Ra.set("Online"),e instanceof GN&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.Va.removeTarget(o))}(t,e)}catch(r){Q(Ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bd(t,r)}else if(e instanceof Gh?t.Va.Ze(e):e instanceof HN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{const r=await rC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Va.Tt(s);return o.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(c.resumeToken,s))}}),o.targetMismatches.forEach((c,h)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(Dt.EMPTY_BYTE_STRING,d.snapshotVersion)),oC(i,c);const m=new Oa(d.target,c,h,d.sequenceNumber);Rv(i,m)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Q(Ji,"Failed to raise snapshot:",r),await Bd(t,r)}}async function Bd(t,e,n){if(!Zo(e))throw e;t.Ea.add(1),await _u(t),t.Ra.set("Offline"),n||(n=()=>rC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(Ji,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Yf(t)})}function cC(t,e){return e().catch(n=>Bd(t,n,e))}async function Wf(t){const e=ae(t),n=ni(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:mv;for(;rV(e);)try{const a=await V5(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,aV(e,a)}catch(a){await Bd(e,a)}uC(e)&&hC(e)}function rV(t){return ps(t)&&t.Ta.length<10}function aV(t,e){t.Ta.push(e);const n=ni(t);n.O_()&&n.X_&&n.ea(e.mutations)}function uC(t){return ps(t)&&!ni(t).x_()&&t.Ta.length>0}function hC(t){ni(t).start()}async function iV(t){ni(t).ra()}async function sV(t){const e=ni(t);for(const n of t.Ta)e.ea(n.mutations)}async function oV(t,e,n){const r=t.Ta.shift(),a=xv.from(r,e,n);await cC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Wf(t)}async function lV(t,e){e&&ni(t).X_&&await async function(r,a){if(function(s){return $6(s)&&s!==B.ABORTED}(a.code)){const i=r.Ta.shift();ni(r).B_(),await cC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Wf(r)}}(t,e),uC(t)&&hC(t)}async function Nw(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),Q(Ji,"RemoteStore received new credentials");const r=ps(n);n.Ea.add(3),await _u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Yf(n)}async function cV(t,e){const n=ae(t);e?(n.Ea.delete(2),await Yf(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function tl(t){return t.ma||(t.ma=function(n,r,a){const i=ae(n);return i.sa(),new Y5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:Z5.bind(null,t),t_:eV.bind(null,t),r_:tV.bind(null,t),H_:nV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ov(t)?Iv(t):t.Ra.set("Unknown")):(await t.ma.stop(),lC(t))})),t.ma}function ni(t){return t.fa||(t.fa=function(n,r,a){const i=ae(n);return i.sa(),new W5(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:iV.bind(null,t),r_:lV.bind(null,t),ta:sV.bind(null,t),na:oV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Wf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(Ji,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,a,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,i){const s=Date.now()+r,o=new Dv(e,n,s,a,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kv(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Zo(t))return new K(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Zl(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.ga=new We(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,a,i,s,o,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new ko(e,n,ho.emptySet(n),s,r,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class hV{constructor(){this.queries=Rw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ae(n),i=a.queries;a.queries=Rw(),i.forEach((s,o)=>{for(const c of o.Sa)c.onError(r)})})(this,new K(B.ABORTED,"Firestore shutting down"))}}function Rw(){return new ms(t=>DN(t),Bf)}async function jv(t,e){const n=ae(t);let r=3;const a=e.query;let i=n.queries.get(a);i?!i.ba()&&e.Da()&&(r=2):(i=new uV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(a,!0);break;case 1:i.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=kv(s,`Initialization of query '${Ls(e.query)}' failed`);return void e.onError(o)}n.queries.set(a,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Pv(n)}async function Mv(t,e){const n=ae(t),r=e.query;let a=3;const i=n.queries.get(r);if(i){const s=i.Sa.indexOf(e);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function dV(t,e){const n=ae(t);let r=!1;for(const a of e){const i=a.query,s=n.queries.get(i);if(s){for(const o of s.Sa)o.Fa(a)&&(r=!0);s.wa=a}}r&&Pv(n)}function fV(t,e,n){const r=ae(t),a=r.queries.get(e);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(e)}function Pv(t){t.Ca.forEach(e=>{e.next()})}var Ty,Iw;(Iw=Ty||(Ty={})).Ma="default",Iw.Cache="cache";class Lv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.key=e}}class fC{constructor(e){this.key=e}}class mV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=me(),this.mutatedKeys=me(),this.eu=kN(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Cw,a=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const c=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((d,m)=>{const p=a.get(d),v=Ff(this.query,m)?m:null,S=!!p&&this.mutatedKeys.has(p.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let R=!1;p&&v?p.data.isEqual(v.data)?S!==A&&(r.track({type:3,doc:v}),R=!0):this.su(p,v)||(r.track({type:2,doc:v}),R=!0,(c&&this.eu(v,c)>0||h&&this.eu(v,h)<0)&&(o=!0)):!p&&v?(r.track({type:0,doc:v}),R=!0):p&&!v&&(r.track({type:1,doc:p}),R=!0,(c||h)&&(o=!0)),R&&(v?(s=s.add(v),i=A?i.add(d):i.delete(d)):(s=s.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,m)=>function(v,S){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:R})}};return A(v)-A(S)}(d.type,m.type)||this.eu(d.doc,m.doc)),this.ou(r),a=a??!1;const o=n&&!a?this._u():[],c=this.Xa.size===0&&this.current&&!a?1:0,h=c!==this.Za;return this.Za=c,s.length!==0||h?{snapshot:new ko(this.query,e.tu,i,s,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Cw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=me(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new fC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new dC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=me();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ko.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Vv="SyncEngine";class pV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class gV{constructor(e){this.key=e,this.hu=!1}}class yV{constructor(e,n,r,a,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ms(o=>DN(o),Bf),this.Iu=new Map,this.Eu=new Set,this.du=new We(J.comparator),this.Au=new Map,this.Ru=new Tv,this.Vu={},this.mu=new Map,this.fu=Do.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vV(t,e,n=!0){const r=_C(t);let a;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await mC(r,e,n,!0),a}async function _V(t,e){const n=_C(t);await mC(n,e,!0,!1)}async function mC(t,e,n,r){const a=await U5(t.localStore,hr(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await bV(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&n&&sC(t.remoteStore,a),o}async function bV(t,e,n,r,a){t.pu=(m,p,v)=>async function(A,R,y,_){let E=R.view.ru(y);E.Cs&&(E=await ww(A.localStore,R.query,!1).then(({documents:T})=>R.view.ru(T,E)));const O=_&&_.targetChanges.get(R.targetId),V=_&&_.targetMismatches.get(R.targetId)!=null,H=R.view.applyChanges(E,A.isPrimaryClient,O,V);return Dw(A,R.targetId,H.au),H.snapshot}(t,m,p,v);const i=await ww(t.localStore,e,!0),s=new mV(e,i.Qs),o=s.ru(i.documents),c=vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=s.applyChanges(o,t.isPrimaryClient,c);Dw(t,n,h.au);const d=new pV(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function xV(t,e,n){const r=ae(t),a=r.Tu.get(e),i=r.Iu.get(a.targetId);if(i.length>1)return r.Iu.set(a.targetId,i.filter(s=>!Bf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await wy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Cv(r.remoteStore,a.targetId),Sy(r,a.targetId)}).catch(Jo)):(Sy(r,a.targetId),await wy(r.localStore,a.targetId,!0))}async function wV(t,e){const n=ae(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Cv(n.remoteStore,r.targetId))}async function EV(t,e,n){const r=IV(t);try{const a=await function(s,o){const c=ae(s),h=ve.now(),d=o.reduce((v,S)=>v.add(S.key),me());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=Jr(),A=me();return c.Ns.getEntries(v,d).next(R=>{S=R,S.forEach((y,_)=>{_.isValidDocument()||(A=A.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,S)).next(R=>{m=R;const y=[];for(const _ of o){const E=V6(_,m.get(_.key).overlayedDocument);E!=null&&y.push(new hi(_.key,E,TN(E.value.mapValue),Gn.exists(!0)))}return c.mutationQueue.addMutationBatch(v,h,y,o)}).next(R=>{p=R;const y=R.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(v,R.batchId,y)})}).then(()=>({batchId:p.batchId,changes:MN(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(s,o,c){let h=s.Vu[s.currentUser.toKey()];h||(h=new We(fe)),h=h.insert(o,c),s.Vu[s.currentUser.toKey()]=h}(r,a.batchId,n),await bu(r,a.changes),await Wf(r.remoteStore)}catch(a){const i=kv(a,"Failed to persist write");n.reject(i)}}async function pC(t,e){const n=ae(t);try{const r=await P5(n.localStore,e);e.targetChanges.forEach((a,i)=>{const s=n.Au.get(i);s&&(xe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?xe(s.hu,14607):a.removedDocuments.size>0&&(xe(s.hu,42227),s.hu=!1))}),await bu(n,r,e)}catch(r){await Jo(r)}}function Ow(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach((i,s)=>{const o=s.view.va(e);o.snapshot&&a.push(o.snapshot)}),function(s,o){const c=ae(s);c.onlineState=o;let h=!1;c.queries.forEach((d,m)=>{for(const p of m.Sa)p.va(o)&&(h=!0)}),h&&Pv(c)}(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TV(t,e,n){const r=ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),i=a&&a.key;if(i){let s=new We(J.comparator);s=s.insert(i,Lt.newNoDocument(i,ne.min()));const o=me().add(i),c=new Hf(ne.min(),new Map,new We(fe),s,o);await pC(r,c),r.du=r.du.remove(i),r.Au.delete(e),Uv(r)}else await wy(r.localStore,e,!1).then(()=>Sy(r,e,n)).catch(Jo)}async function SV(t,e){const n=ae(t),r=e.batch.batchId;try{const a=await M5(n.localStore,e);yC(n,r,null),gC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await bu(n,a)}catch(a){await Jo(a)}}async function AV(t,e,n){const r=ae(t);try{const a=await function(s,o){const c=ae(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return c.mutationQueue.lookupMutationBatch(h,o).next(m=>(xe(m!==null,37113),d=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>c.localDocuments.getDocuments(h,d))})}(r.localStore,e);yC(r,e,n),gC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await bu(r,a)}catch(a){await Jo(a)}}function gC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function yC(t,e,n){const r=ae(t);let a=r.Vu[r.currentUser.toKey()];if(a){const i=a.get(e);i&&(n?i.reject(n):i.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||vC(t,r)})}function vC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Cv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Uv(t))}function Dw(t,e,n){for(const r of n)r instanceof dC?(t.Ru.addReference(r.key,e),NV(t,r)):r instanceof fC?(Q(Vv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||vC(t,r.key)):ee(19791,{wu:r})}function NV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q(Vv,"New document in limbo: "+n),t.Eu.add(r),Uv(t))}function Uv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(De.fromString(e)),r=t.fu.next();t.Au.set(r,new gV(n)),t.du=t.du.insert(n,r),sC(t.remoteStore,new Oa(hr(zf(n.path)),r,"TargetPurposeLimboResolution",Lf.ce))}}async function bu(t,e,n){const r=ae(t),a=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,c)=>{s.push(r.pu(c,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){a.push(h);const m=Av.As(c.targetId,h);i.push(m)}}))}),await Promise.all(s),r.Pu.H_(a),await async function(c,h){const d=ae(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>$.forEach(h,p=>$.forEach(p.Es,v=>d.persistence.referenceDelegate.addReference(m,p.targetId,v)).next(()=>$.forEach(p.ds,v=>d.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))}catch(m){if(!Zo(m))throw m;Q(Nv,"Failed to update sequence numbers: "+m)}for(const m of h){const p=m.targetId;if(!m.fromCache){const v=d.Ms.get(p),S=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(p,A)}}}(r.localStore,i))}async function CV(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){Q(Vv,"User change. New user:",e.toKey());const r=await nC(n.localStore,e);n.currentUser=e,function(i,s){i.mu.forEach(o=>{o.forEach(c=>{c.reject(new K(B.CANCELLED,s))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bu(n,r.Ls)}}function RV(t,e){const n=ae(t),r=n.Au.get(e);if(r&&r.hu)return me().add(r.key);{let a=me();const i=n.Iu.get(e);if(!i)return a;for(const s of i){const o=n.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function _C(t){const e=ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TV.bind(null,e),e.Pu.H_=dV.bind(null,e.eventManager),e.Pu.yu=fV.bind(null,e.eventManager),e}function IV(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AV.bind(null,e),e}class Fd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return j5(this.persistence,new O5,e.initialUser,this.serializer)}Cu(e){return new tC(Sv.mi,this.serializer)}Du(e){return new B5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fd.provider={build:()=>new Fd};class OV extends Fd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){xe(this.persistence.referenceDelegate instanceof zd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new g5(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new tC(r=>zd.mi(r,n),this.serializer)}}class Ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Ow(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CV.bind(null,this.syncEngine),await cV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hV}()}createDatastore(e){const n=Gf(e.databaseInfo.databaseId),r=function(i){return new G5(i)}(e.databaseInfo);return function(i,s,o,c){return new Q5(i,s,o,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,i,s,o){return new J5(r,a,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Ow(this.syncEngine,n,0),function(){return Sw.v()?new Sw:new F5}())}createSyncEngine(e,n){return function(a,i,s,o,c,h,d){const m=new yV(a,i,s,o,c,h);return d&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const i=ae(a);Q(Ji,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ay.provider={build:()=>new Ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri="FirestoreClient";class DV{constructor(e,n,r,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Pt.UNAUTHENTICATED,this.clientId=fv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{Q(ri,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q(ri,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(ri,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await nC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function kw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kV(t);Q(ri,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Nw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>Nw(e.remoteStore,a)),t._onlineComponents=e}async function kV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(ri,"Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===B.FAILED_PRECONDITION||a.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Co("Error using user provided cache. Falling back to memory cache: "+n),await kp(t,new Fd)}}else Q(ri,"Using default OfflineComponentProvider"),await kp(t,new OV(void 0));return t._offlineComponents}async function bC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(ri,"Using user provided OnlineComponentProvider"),await kw(t,t._uninitializedComponentsProvider._online)):(Q(ri,"Using default OnlineComponentProvider"),await kw(t,new Ay))),t._onlineComponents}function jV(t){return bC(t).then(e=>e.syncEngine)}async function $d(t){const e=await bC(t),n=e.eventManager;return n.onListen=vV.bind(null,e.syncEngine),n.onUnlisten=xV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_V.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wV.bind(null,e.syncEngine),n}function MV(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,c,h){const d=new zv({next:p=>{d.Nu(),s.enqueueAndForget(()=>Mv(i,m));const v=p.docs.has(o);!v&&p.fromCache?h.reject(new K(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&c&&c.source==="server"?h.reject(new K(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new Lv(zf(o.path),d,{includeMetadataChanges:!0,qa:!0});return jv(i,m)}(await $d(t),t.asyncQueue,e,n,r)),r.promise}function PV(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,c,h){const d=new zv({next:p=>{d.Nu(),s.enqueueAndForget(()=>Mv(i,m)),p.fromCache&&c.source==="server"?h.reject(new K(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new Lv(o,d,{includeMetadataChanges:!0,qa:!0});return jv(i,m)}(await $d(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="firestore.googleapis.com",Mw=!0;class Pw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wC,this.ssl=Mw}else this.host=e.host,this.ssl=e.ssl??Mw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m5)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kf{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FL;switch(r.type){case"firstParty":return new GL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jw.get(n);r&&(Q("ComponentProvider","Removing Datastore"),jw.delete(n),r.terminate())}(this),Promise.resolve()}}function LV(t,e,n,r={}){var h;t=Mn(t,Kf);const a=hs(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;a&&(cv(`https://${o}`),uv("Firestore",!0)),i.host!==wC&&i.host!==o&&Co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:o,ssl:a,emulatorOptions:r};if(!Xa(c,s)&&(t._setSettings(c),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Pt.MOCK_USER;else{d=K2(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Pt(p)}t._authCredentials=new $L(new dN(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new di(this.firestore,e,this._query)}}class tt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tt(this.firestore,e,this._key)}toJSON(){return{type:tt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(gu(n,tt._jsonSchema))return new tt(e,r||null,new J(De.fromString(n.referencePath)))}}tt._jsonSchemaVersion="firestore/documentReference/1.0",tt._jsonSchema={type:ut("string",tt._jsonSchemaVersion),referencePath:ut("string")};class qa extends di{constructor(e,n,r){super(e,n,zf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tt(this.firestore,null,new J(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function gs(t,e,...n){if(t=Ye(t),fN("collection","path",e),t instanceof Kf){const r=De.fromString(e,...n);return Kx(r),new qa(t,null,r)}{if(!(t instanceof tt||t instanceof qa))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Kx(r),new qa(t.firestore,null,r)}}function Zr(t,e,...n){if(t=Ye(t),arguments.length===1&&(e=fv.newId()),fN("doc","path",e),t instanceof Kf){const r=De.fromString(e,...n);return Wx(r),new tt(t,null,new J(r))}{if(!(t instanceof tt||t instanceof qa))throw new K(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Wx(r),new tt(t.firestore,t instanceof qa?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw="AsyncQueue";class Vw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aC(this,"async_queue_retry"),this._c=()=>{const r=Dp();r&&Q(Lw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Fr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;Q(Lw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",Uw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Dv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&ee(47125,{Pc:Uw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Uw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const i of r)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class ai extends Kf{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new Vw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vw(e),this._firestoreClient=void 0,await e}}}function VV(t,e){const n=typeof t=="object"?t:Mf(),r=typeof t=="string"?t:jd,a=ci(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const i=G2("firestore");i&&LV(a,...i)}return a}function Qf(t){if(t._terminated)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UV(t),t._firestoreClient}function UV(t){var r,a,i;const e=t._freezeSettings(),n=function(o,c,h,d){return new c6(o,c,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,xC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new DV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Dt.fromBase64String(e))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ut("string",On._jsonSchemaVersion),bytes:ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fr._jsonSchemaVersion}}static fromJSON(e){if(gu(e,fr._jsonSchema))return new fr(e.latitude,e.longitude)}}fr._jsonSchemaVersion="firestore/geoPoint/1.0",fr._jsonSchema={type:ut("string",fr._jsonSchemaVersion),latitude:ut("number"),longitude:ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mr(e.vectorValues);throw new K(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:ut("string",mr._jsonSchemaVersion),vectorValues:ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=/^__.*__$/;class BV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}class EC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new hi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class Fv{constructor(e,n,r,a,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Fv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TC(this.Ac)&&zV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gf(e)}Cc(e,n,r,a=!1){return new Fv({Ac:e,methodName:n,Dc:r,path:Rt.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $v(t){const e=t._freezeSettings(),n=Gf(t._databaseId);return new FV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $V(t,e,n,r,a,i={}){const s=t.Cc(i.merge||i.mergeFields?2:0,e,n,a);qv("Data must be an object, but it was:",s,r);const o=SC(r,s);let c,h;if(i.merge)c=new fn(s.fieldMask),h=s.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const p=Ny(e,m,n);if(!s.contains(p))throw new K(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);NC(d,p)||d.push(p)}c=new fn(d),h=s.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=s.fieldTransforms;return new BV(new Jt(o),c,h)}class Jf extends Bv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jf}}function qV(t,e,n,r){const a=t.Cc(1,e,n);qv("Data must be an object, but it was:",a,r);const i=[],s=Jt.empty();ui(r,(c,h)=>{const d=Hv(e,c,n);h=Ye(h);const m=a.yc(d);if(h instanceof Jf)i.push(d);else{const p=xu(h,m);p!=null&&(i.push(d),s.set(d,p))}});const o=new fn(i);return new EC(s,o,a.fieldTransforms)}function HV(t,e,n,r,a,i){const s=t.Cc(1,e,n),o=[Ny(e,r,n)],c=[a];if(i.length%2!=0)throw new K(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(Ny(e,i[p])),c.push(i[p+1]);const h=[],d=Jt.empty();for(let p=o.length-1;p>=0;--p)if(!NC(h,o[p])){const v=o[p];let S=c[p];S=Ye(S);const A=s.yc(v);if(S instanceof Jf)h.push(v);else{const R=xu(S,A);R!=null&&(h.push(v),d.set(v,R))}}const m=new fn(h);return new EC(d,m,s.fieldTransforms)}function GV(t,e,n,r=!1){return xu(n,t.Cc(r?4:3,e))}function xu(t,e){if(AC(t=Ye(t)))return qv("Unsupported field value:",e,t),SC(t,e);if(t instanceof Bv)return function(r,a){if(!TC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,a){const i=[];let s=0;for(const o of r){let c=xu(o,a.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,a){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D6(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ve.fromDate(r);return{timestampValue:Ud(a.serializer,i)}}if(r instanceof ve){const i=new ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ud(a.serializer,i)}}if(r instanceof fr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:YN(a.serializer,r._byteString)};if(r instanceof tt){const i=a.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ev(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof mr)return function(s,o){return{mapValue:{fields:{[wN]:{stringValue:EN},[Md]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw o.Sc("VectorValues must only contain numeric values.");return _v(o.serializer,h)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${Pf(r)}`)}(t,e)}function SC(t,e){const n={};return gN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ui(t,(r,a)=>{const i=xu(a,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function AC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ve||t instanceof fr||t instanceof On||t instanceof tt||t instanceof Bv||t instanceof mr)}function qv(t,e,n){if(!AC(n)||!mN(n)){const r=Pf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ny(t,e,n){if((e=Ye(e))instanceof Xf)return e._internalPath;if(typeof e=="string")return Hv(t,e);throw qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const YV=new RegExp("[~\\*/\\[\\]]");function Hv(t,e,n){if(e.search(YV)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xf(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qd(t,e,n,r,a){const i=r&&!r.isEmpty(),s=a!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${a}`),c+=")"),new K(B.INVALID_ARGUMENT,o+t+c)}function NC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,n,r,a,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new tt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WV extends CC{data(){return super.data()}}function Zf(t,e){return typeof e=="string"?Hv(t,e):e instanceof Xf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gv{}class IC extends Gv{}function Yv(t,e,...n){let r=[];e instanceof Gv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(c=>c instanceof Wv).length,o=i.filter(c=>c instanceof em).length;if(s>1||s>0&&o>0)throw new K(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class em extends IC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new em(e,n,r)}_apply(e){const n=this._parse(e);return DC(e._query,n),new di(e.firestore,e.converter,gy(e._query,n))}_parse(e){const n=$v(e.firestore);return function(i,s,o,c,h,d,m){let p;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Fw(m,d);const S=[];for(const A of m)S.push(Bw(c,i,A));p={arrayValue:{values:S}}}else p=Bw(c,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Fw(m,d),p=GV(o,s,m,d==="in"||d==="not-in");return lt.create(h,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function OC(t,e,n){const r=e,a=Zf("where",t);return em._create(a,r,n)}class Wv extends Gv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Wv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const c of o)DC(s,c),s=gy(s,c)}(e._query,n),new di(e.firestore,e.converter,gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Kv extends IC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Kv(e,n)}_apply(e){const n=function(a,i,s){if(a.startAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hc(i,s)}(e._query,this._field,this._direction);return new di(e.firestore,e.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new el(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function KV(t,e="asc"){const n=e,r=Zf("orderBy",t);return Kv._create(r,n)}function Bw(t,e,n){if(typeof(n=Ye(n))=="string"){if(n==="")throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ON(e)&&n.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!J.isDocumentKey(r))throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rw(t,new J(r))}if(n instanceof tt)return rw(t,n._key);throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function Fw(t,e){if(!Array.isArray(t)||t.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function DC(t,e){const n=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class QV{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ui(e,(a,i)=>{r[a]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,a,i;const n=(i=(a=(r=e.fields)==null?void 0:r[Md].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>Ze(s.doubleValue));return new mr(n)}convertGeoPoint(e){return new fr(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Uf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fc(e));default:return null}}convertTimestamp(e){const n=Za(e);return new ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);xe(ZN(r),9688,{name:e});const a=new $c(r.get(1),r.get(3)),i=new J(r.popFirst(5));return a.isEqual(n)||Xr(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $i extends CC{constructor(e,n,r,a,i,s){super(e,n,r,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Zf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=$i._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}$i._jsonSchemaVersion="firestore/documentSnapshot/1.0",$i._jsonSchema={type:ut("string",$i._jsonSchemaVersion),bundleSource:ut("string","DocumentSnapshot"),bundleName:ut("string"),bundle:ut("string")};class Yh extends $i{data(e={}){return super.data(e)}}class qi{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new tc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yh(this._firestore,this._userDataWriter,r.key,r,new tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const c=new Yh(a._firestore,a._userDataWriter,o.doc.key,o.doc,new tc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const c=new Yh(a._firestore,a._userDataWriter,o.doc.key,o.doc,new tc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,d=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:JV(o.type),doc:c,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=fv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t){t=Mn(t,tt);const e=Mn(t.firestore,ai);return MV(Qf(e),t._key).then(n=>PC(e,t,n))}qi._jsonSchemaVersion="firestore/querySnapshot/1.0",qi._jsonSchema={type:ut("string",qi._jsonSchemaVersion),bundleSource:ut("string","QuerySnapshot"),bundleName:ut("string"),bundle:ut("string")};class Qv extends QV{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tt(this.firestore,null,n)}}function jC(t){t=Mn(t,di);const e=Mn(t.firestore,ai),n=Qf(e),r=new Qv(e);return RC(t._query),PV(n,t._query).then(a=>new qi(e,r,t,a))}function Xv(t,e,n,...r){t=Mn(t,tt);const a=Mn(t.firestore,ai),i=$v(a);let s;return s=typeof(e=Ye(e))=="string"||e instanceof Xf?HV(i,"updateDoc",t._key,e,n,r):qV(i,"updateDoc",t._key,e),e_(a,[s.toMutation(t._key,Gn.exists(!0))])}function Jv(t){return e_(Mn(t.firestore,ai),[new bv(t._key,Gn.none())])}function Zv(t,e){const n=Mn(t.firestore,ai),r=Zr(t),a=XV(t.converter,e);return e_(n,[$V($v(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function MC(t,...e){var c,h,d;t=Ye(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||zw(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(zw(e[r])){const m=e[r];e[r]=(c=m.next)==null?void 0:c.bind(m),e[r+1]=(h=m.error)==null?void 0:h.bind(m),e[r+2]=(d=m.complete)==null?void 0:d.bind(m)}let i,s,o;if(t instanceof tt)s=Mn(t.firestore,ai),o=zf(t._key.path),i={next:m=>{e[r]&&e[r](PC(s,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Mn(t,di);s=Mn(m.firestore,ai),o=m._query;const p=new Qv(s);i={next:v=>{e[r]&&e[r](new qi(s,p,m,v))},error:e[r+1],complete:e[r+2]},RC(t._query)}return function(p,v,S,A){const R=new zv(A),y=new Lv(v,R,S);return p.asyncQueue.enqueueAndForget(async()=>jv(await $d(p),y)),()=>{R.Nu(),p.asyncQueue.enqueueAndForget(async()=>Mv(await $d(p),y))}}(Qf(s),o,a,i)}function e_(t,e){return function(r,a){const i=new Fr;return r.asyncQueue.enqueueAndForget(async()=>EV(await jV(r),a,i)),i.promise}(Qf(t),e)}function PC(t,e,n){const r=n.docs.get(e._key),a=new Qv(t);return new $i(t,a,e._key,r,new tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Xo=a})(fs),Yn(new Vn("firestore",(r,{instanceIdentifier:a,options:i})=>{const s=r.getProvider("app").getImmediate(),o=new ai(new qL(r.getProvider("auth-internal")),new YL(s,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(h.options.projectId,d)}(s,a),s);return i={useFetchStreams:n,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),en(qx,Hx,e),en(qx,Hx,"esm2020")})();var ZV="firebase",e9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en(ZV,e9,"app");function LC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t9=LC,VC=new ds("auth","Firebase",LC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd=new jf("@firebase/auth");function n9(t,...e){Hd.logLevel<=de.WARN&&Hd.warn(`Auth (${fs}): ${t}`,...e)}function Wh(t,...e){Hd.logLevel<=de.ERROR&&Hd.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw t_(t,...e)}function pr(t,...e){return t_(t,...e)}function UC(t,e,n){const r={...t9(),[e]:n};return new ds("auth","Firebase",r).create(e,{appName:t.name})}function Ha(t){return UC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function t_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VC.create(t,...e)}function Z(t,e,...n){if(!t)throw t_(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wh(e),new Error(e)}function ea(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function r9(){return $w()==="http:"||$w()==="https:"}function $w(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(r9()||Q2()||"connection"in navigator)?navigator.onLine:!0}function i9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=y3()||b3()}get(){return a9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e){ea(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l9=new wu(3e4,6e4);function ys(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fi(t,e,n,r,a={}){return BC(t,a,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const o=pu({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:c,...i};return _3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&hs(t.emulatorConfig.host)&&(h.credentials="include"),zC.fetch()(await FC(t,t.config.apiHost,n,o),h)})}async function BC(t,e,n){t._canInitEmulator=!1;const r={...s9,...e};try{const a=new u9(t),i=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw yh(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[c,h]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw yh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw yh(t,"user-disabled",s);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw UC(t,d,h);Kn(t,d)}}catch(a){if(a instanceof Un)throw a;Kn(t,"network-request-failed",{message:String(a)})}}async function tm(t,e,n,r,a={}){const i=await fi(t,e,n,r,a);return"mfaPendingCredential"in i&&Kn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function FC(t,e,n,r){const a=`${e}${n}?${r}`,i=t,s=i.config.emulator?n_(t.config,a):`${t.config.apiScheme}://${a}`;return o9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function c9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),l9.get())})}}function yh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=pr(t,e,r);return a.customData._tokenResponse=n,a}function qw(t){return t!==void 0&&t.enterprise!==void 0}class h9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return c9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function d9(t,e){return fi(t,"GET","/v2/recaptchaConfig",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t,e){return fi(t,"POST","/v1/accounts:delete",e)}async function Gd(t,e){return fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function m9(t,e=!1){const n=Ye(t),r=await n.getIdToken(e),a=r_(r);Z(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:wc(jp(a.auth_time)),issuedAtTime:wc(jp(a.iat)),expirationTime:wc(jp(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function jp(t){return Number(t)*1e3}function r_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const a=q2(n);return a?JSON.parse(a):(Wh("Failed to decode base64 JWT payload"),null)}catch(a){return Wh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Hw(t){const e=r_(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Un&&p9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function p9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wc(this.lastLoginAt),this.creationTime=wc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yd(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Wc(t,Gd(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const i=(m=a.providerUserInfo)!=null&&m.length?$C(a.providerUserInfo):[],s=v9(t.providerData,i),o=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),h=o?c:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Ry(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function y9(t){const e=Ye(t);await Yd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function v9(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function $C(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _9(t,e){const n=await BC(t,{},async()=>{const r=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=await FC(t,a,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&hs(t.emulatorConfig.host)&&(c.credentials="include"),zC.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b9(t,e){return fi(t,"POST","/v2/accounts:revokeToken",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Hw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=Hw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:i}=await _9(e,n);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:i}=n,s=new fo;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),a&&(Z(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Z(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new g9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ry(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return m9(this,e)}reload(){return y9(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Ha(this.auth));const e=await this.getIdToken();return await Wc(this,f9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,i=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:S,stsTokenManager:A}=n;Z(m&&A,e,"internal-error");const R=fo.fromJSON(this.name,A);Z(typeof m=="string",e,"internal-error"),pa(r,e.name),pa(a,e.name),Z(typeof p=="boolean",e,"internal-error"),Z(typeof v=="boolean",e,"internal-error"),pa(i,e.name),pa(s,e.name),pa(o,e.name),pa(c,e.name),pa(h,e.name),pa(d,e.name);const y=new qn({uid:m,auth:e,email:a,emailVerified:p,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:R,createdAt:h,lastLoginAt:d});return S&&Array.isArray(S)&&(y.providerData=S.map(_=>({..._}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,n,r=!1){const a=new fo;a.updateFromServerResponse(n);const i=new qn({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Yd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Z(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?$C(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new fo;o.updateFromIdToken(r);const c=new qn({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new Ry(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=new Map;function Pr(t){ea(t instanceof Function,"Expected a class definition");let e=Gw.get(t);return e?(ea(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Gw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qC.type="NONE";const Yw=qC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(t,e,n){return`firebase:${t}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=Kh(this.userKey,a.apiKey,i),this.fullPersistenceKey=Kh("persistence",a.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gd(this.auth,{idToken:e}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(Pr(Yw),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=a[0]||Pr(Yw);const s=Kh(r,e.config.apiKey,e.name);let o=null;for(const h of n)try{const d=await h._get(s);if(d){let m;if(typeof d=="string"){const p=await Gd(e,{idToken:d}).catch(()=>{});if(!p)break;m=await qn._fromGetAccountInfoResponse(e,p,d)}else m=qn._fromJSON(e,d);h!==i&&(o=m),i=h;break}}catch{}const c=a.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new mo(i,e,r):(i=c[0],o&&await i._set(s,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(s)}catch{}})),new mo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QC(e))return"Blackberry";if(XC(e))return"Webos";if(GC(e))return"Safari";if((e.includes("chrome/")||YC(e))&&!e.includes("edge/"))return"Chrome";if(KC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HC(t=Vt()){return/firefox\//i.test(t)}function GC(t=Vt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YC(t=Vt()){return/crios\//i.test(t)}function WC(t=Vt()){return/iemobile/i.test(t)}function KC(t=Vt()){return/android/i.test(t)}function QC(t=Vt()){return/blackberry/i.test(t)}function XC(t=Vt()){return/webos/i.test(t)}function a_(t=Vt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x9(t=Vt()){var e;return a_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function w9(){return x3()&&document.documentMode===10}function JC(t=Vt()){return a_(t)||KC(t)||XC(t)||QC(t)||/windows phone/i.test(t)||WC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(t,e=[]){let n;switch(t){case"Browser":n=Ww(Vt());break;case"Worker":n=`${Ww(Vt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,o)=>{try{const c=e(i);s(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T9(t,e={}){return fi(t,"GET","/v2/passwordPolicy",ys(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=6;class A9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??S9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kw(this),this.idTokenSubscription=new Kw(this),this.beforeStateQueue=new E9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,a,i;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gd(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(In(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=i9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Ha(this));const n=e?Ye(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Ha(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Ha(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T9(this),n=new A9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ds("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await b9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,a);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&n9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function nl(t){return Ye(t)}class Kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=C3(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function C9(t){nm=t}function eR(t){return nm.loadJS(t)}function R9(){return nm.recaptchaEnterpriseScript}function I9(){return nm.gapiScript}function O9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class D9{constructor(){this.enterprise=new k9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class k9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const j9="recaptcha-enterprise",tR="NO_RECAPTCHA";class M9{constructor(e){this.type=j9,this.auth=nl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{d9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const h=new h9(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,s(h.siteKey)}}).catch(c=>{o(c)})})}function a(i,s,o){const c=window.grecaptcha;qw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{s(h)}).catch(()=>{s(tR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new D9().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{r(this.auth).then(o=>{if(!n&&qw(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=R9();c.length!==0&&(c+=o),eR(c).then(()=>{a(o,i,s)}).catch(h=>{s(h)})}}).catch(o=>{s(o)})})}}async function Qw(t,e,n,r=!1,a=!1){const i=new M9(t);let s;if(a)s=tR;else try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,h=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xw(t,e,n,r,a){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Qw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Qw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e){const n=ci(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),i=n.getOptions();if(Xa(i,e??{}))return a;Kn(a,"already-initialized")}return n.initialize({options:e})}function L9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function V9(t,e,n){const r=nl(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=nR(e),{host:s,port:o}=U9(e),c=o===null?"":`:${o}`,h={url:`${i}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Xa(h,r.config.emulator)&&Xa(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,hs(s)?(cv(`${i}//${s}${c}`),uv("Auth",!0)):z9()}function nR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function U9(t){const e=nR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:Jw(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:Jw(s)}}}function Jw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function z9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function B9(t,e){return fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F9(t,e){return tm(t,"POST","/v1/accounts:signInWithPassword",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(t,e){return tm(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}async function q9(t,e){return tm(t,"POST","/v1/accounts:signInWithEmailLink",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends i_{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xw(e,n,"signInWithPassword",F9);case"emailLink":return $9(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xw(e,r,"signUpPassword",B9);case"emailLink":return q9(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(t,e){return tm(t,"POST","/v1/accounts:signInWithIdp",ys(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9="http://localhost";class Zi extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...i}=n;if(!r||!a)return null;const s=new Zi(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:H9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Y9(t){const e=Ql(Xl(t)).link,n=e?Ql(Xl(e)).deep_link_id:null,r=Ql(Xl(t)).deep_link_id;return(r?Ql(Xl(r)).link:null)||r||n||e||t}class s_{constructor(e){const n=Ql(Xl(e)),r=n.apiKey??null,a=n.oobCode??null,i=G9(n.mode??null);Z(r&&a&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Y9(e);try{return new s_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.providerId=rl.PROVIDER_ID}static credential(e,n){return Kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=s_.parseLink(n);return Z(r,"argument-error"),Kc._fromEmailAndCode(e,r.code,r.tenantId)}}rl.PROVIDER_ID="password";rl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";rl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends rR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Eu{constructor(){super("facebook.com")}static credential(e){return Zi._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wa.credentialFromTaggedObject(e)}static credentialFromError(e){return wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wa.credential(e.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zi._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.GOOGLE_SIGN_IN_METHOD="google.com";Ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Eu{constructor(){super("github.com")}static credential(e){return Zi._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.GITHUB_SIGN_IN_METHOD="github.com";Ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Eu{constructor(){super("twitter.com")}static credential(e,n){return Zi._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.TWITTER_SIGN_IN_METHOD="twitter.com";Sa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const i=await qn._fromIdTokenResponse(e,r,a),s=Zw(r);return new jo({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=Zw(r);return new jo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function Zw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Un{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Wd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Wd(e,n,r,a)}}function aR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wd._fromErrorAndOperation(t,i,e,r):i})}async function W9(t,e,n=!1){const r=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K9(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(Ha(r));const a="reauthenticate";try{const i=await Wc(t,aR(r,a,e,t),n);Z(i.idToken,r,"internal-error");const s=r_(i.idToken);Z(s,r,"internal-error");const{sub:o}=s;return Z(t.uid===o,r,"user-mismatch"),jo._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e,n=!1){if(In(t.app))return Promise.reject(Ha(t));const r="signIn",a=await aR(t,r,e),i=await jo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(i.user),i}async function Q9(t,e){return iR(nl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X9(t){const e=nl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function J9(t,e,n){return In(t.app)?Promise.reject(Ha(t)):Q9(Ye(t),rl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&X9(t),r})}function Z9(t,e,n,r){return Ye(t).onIdTokenChanged(e,n,r)}function eU(t,e,n){return Ye(t).beforeAuthStateChanged(e,n)}function tU(t,e,n,r){return Ye(t).onAuthStateChanged(e,n,r)}function nU(t){return Ye(t).signOut()}const Kd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kd,"1"),this.storage.removeItem(Kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU=1e3,aU=10;class oR extends sR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);w9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,aU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oR.type="LOCAL";const iU=oR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR extends sR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}lR.type="SESSION";const cR=lR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new rm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:i}=n.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const o=Array.from(s).map(async h=>h(n.origin,i)),c=await sU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,c)=>{const h=o_("",20);a.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage(m){const p=m;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function lU(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function cU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function hU(){return uR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="firebaseLocalStorageDb",dU=1,Qd="firebaseLocalStorage",dR="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function am(t,e){return t.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function fU(){const t=indexedDB.deleteDatabase(hR);return new Tu(t).toPromise()}function Iy(){const t=indexedDB.open(hR,dU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qd,{keyPath:dR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qd)?e(r):(r.close(),await fU(),e(await Iy()))})})}async function eE(t,e,n){const r=am(t,!0).put({[dR]:e,value:n});return new Tu(r).toPromise()}async function mU(t,e){const n=am(t,!1).get(e),r=await new Tu(n).toPromise();return r===void 0?null:r.value}function tE(t,e){const n=am(t,!0).delete(e);return new Tu(n).toPromise()}const pU=800,gU=3;class fR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rm._getInstance(hU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await cU(),!this.activeServiceWorker)return;this.sender=new oU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await eE(e,Kd,"1"),await tE(e,Kd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=am(a,!1).getAll();return new Tu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fR.type="LOCAL";const yU=fR;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e){return e?Pr(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_ extends i_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _U(t){return iR(t.auth,new l_(t),t.bypassAuthState)}function bU(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),K9(n,new l_(t),t.bypassAuthState)}async function xU(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),W9(n,new l_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _U;case"linkViaPopup":case"linkViaRedirect":return xU;case"reauthViaPopup":case"reauthViaRedirect":return bU;default:Kn(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU=new wu(2e3,1e4);class no extends mR{constructor(e,n,r,a,i){super(e,n,a,i),this.provider=r,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=o_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wU.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="pendingRedirect",Qh=new Map;class TU extends mR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const r=await SU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SU(t,e){const n=CU(e),r=NU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function AU(t,e){Qh.set(t._key(),e)}function NU(t){return Pr(t._redirectPersistence)}function CU(t){return Kh(EU,t.config.apiKey,t.name)}async function RU(t,e,n=!1){if(In(t.app))return Promise.reject(Ha(t));const r=nl(t),a=vU(r,e),s=await new TU(r,a,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=10*60*1e3;class OU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pR(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=IU&&this.cachedEventUids.clear(),this.cachedEventUids.has(nE(e))}saveEventToCache(e){this.cachedEventUids.add(nE(e)),this.lastProcessedEventTime=Date.now()}}function nE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e={}){return fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MU=/^https?/;async function PU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await kU(t);for(const n of e)try{if(LU(n))return}catch{}Kn(t,"unauthorized-domain")}function LU(t){const e=Cy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!MU.test(n))return!1;if(jU.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new wu(3e4,6e4);function rE(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function UU(t){return new Promise((e,n)=>{var a,i,s;function r(){rE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rE(),n(pr(t,"network-request-failed"))},timeout:VU.get()})}if((i=(a=gr().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((s=gr().gapi)!=null&&s.load)r();else{const o=O9("iframefcb");return gr()[o]=()=>{gapi.load?r():n(pr(t,"network-request-failed"))},eR(`${I9()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function zU(t){return Xh=Xh||UU(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new wu(5e3,15e3),FU="__/auth/iframe",$U="emulator/auth/iframe",qU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GU(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?n_(e,$U):`https://${t.config.authDomain}/${FU}`,r={apiKey:e.apiKey,appName:t.name,v:fs},a=HU.get(t.config.apiHost);a&&(r.eid=a);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${pu(r).slice(1)}`}async function YU(t){const e=await zU(t),n=gr().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:GU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qU,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const s=pr(t,"network-request-failed"),o=gr().setTimeout(()=>{i(s)},BU.get());function c(){gr().clearTimeout(o),a(r)}r.ping(c).then(c,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KU=500,QU=600,XU="_blank",JU="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZU(t,e,n,r=KU,a=QU){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...WU,width:r.toString(),height:a.toString(),top:i,left:s},h=Vt().toLowerCase();n&&(o=YC(h)?XU:n),HC(h)&&(e=e||JU,c.scrollbars="yes");const d=Object.entries(c).reduce((p,[v,S])=>`${p}${v}=${S},`,"");if(x9(h)&&o!=="_self")return e8(e||"",o),new aE(null);const m=window.open(e||"",o,d);Z(m,t,"popup-blocked");try{m.focus()}catch{}return new aE(m)}function e8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="__/auth/handler",n8="emulator/auth/handler",r8=encodeURIComponent("fac");async function iE(t,e,n,r,a,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:a};if(e instanceof rR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",N3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))s[d]=m}if(e instanceof Eu){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),h=c?`#${r8}=${encodeURIComponent(c)}`:"";return`${a8(t)}?${pu(o).slice(1)}${h}`}function a8({config:t}){return t.emulator?n_(t,n8):`https://${t.authDomain}/${t8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class i8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cR,this._completeRedirectFn=RU,this._overrideRedirectResult=AU}async _openPopup(e,n,r,a){var s;ea((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await iE(e,n,r,Cy(),a);return ZU(e,i,o_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const i=await iE(e,n,r,Cy(),a);return lU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:i}=this.eventManagers[n];return a?Promise.resolve(a):(ea(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YU(e),r=new OU(e);return n.register("authEvent",a=>(Z(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[Mp];i!==void 0&&n(!!i),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=PU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JC()||GC()||a_()}}const s8=i8;var sE="@firebase/auth",oE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c8(t){Yn(new Vn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZC(t)},h=new N9(r,a,i,c);return L9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yn(new Vn("auth-internal",e=>{const n=nl(e.getProvider("auth").getImmediate());return(r=>new o8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),en(sE,oE,l8(t)),en(sE,oE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8=5*60,h8=W2("authIdTokenMaxAge")||u8;let lE=null;const d8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>h8)return;const a=n==null?void 0:n.token;lE!==a&&(lE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function f8(t=Mf()){const e=ci(t,"auth");if(e.isInitialized())return e.getImmediate();const n=P9(t,{popupRedirectResolver:s8,persistence:[yU,iU,cR]}),r=W2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=d8(i.toString());eU(n,s,()=>s(n.currentUser)),Z9(n,o=>s(o))}}const a=H2("auth");return a&&V9(n,`http://${a}`),n}function m8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}C9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const i=pr("internal-error");i.customData=a,n(i)},r.type="text/javascript",r.charset="UTF-8",m8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c8("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firebasestorage.googleapis.com",p8="storageBucket",g8=2*60*1e3,y8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Un{constructor(e,n,r=0){super(Pp(e),`Firebase Storage: ${n} (${Pp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function Pp(t){return"storage/"+t}function v8(){const t="An unknown error occurred, please check the error payload for server response.";return new xr(vr.UNKNOWN,t)}function _8(){return new xr(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function b8(){return new xr(vr.CANCELED,"User canceled the upload/download.")}function x8(t){return new xr(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function w8(t){return new xr(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function cE(t){return new xr(vr.INVALID_ARGUMENT,t)}function yR(){return new xr(vr.APP_DELETED,"The Firebase app was deleted.")}function E8(t){return new xr(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(r.path==="")return r;throw w8(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function i(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),c={bucket:1,path:3};function h(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${d}/b/${a}/o${p}`,"i"),S={bucket:1,path:3},A=n===gR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",y=new RegExp(`^https?://${A}/${a}/${R}`,"i"),E=[{regex:o,indices:c,postModify:i},{regex:v,indices:S,postModify:h},{regex:y,indices:{bucket:1,path:2},postModify:h}];for(let O=0;O<E.length;O++){const V=E[O],H=V.regex.exec(e);if(H){const T=H[V.indices.bucket];let w=H[V.indices.path];w||(w=""),r=new Hn(T,w),V.postModify(r);break}}if(r==null)throw x8(e);return r}}class T8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(t,e,n){let r=1,a=null,i=null,s=!1,o=0;function c(){return o===2}let h=!1;function d(...R){h||(h=!0,e.apply(null,R))}function m(R){a=setTimeout(()=>{a=null,t(v,c())},R)}function p(){i&&clearTimeout(i)}function v(R,...y){if(h){p();return}if(R){p(),d.call(null,R,...y);return}if(c()||s){p(),d.call(null,R,...y);return}r<64&&(r*=2);let E;o===1?(o=2,E=0):E=(r+Math.random())*1e3,m(E)}let S=!1;function A(R){S||(S=!0,p(),!h&&(a!==null?(R||(o=2),clearTimeout(a),m(0)):R||(o=1)))}return m(0),i=setTimeout(()=>{s=!0,A(!0)},n),A}function A8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(t){return t!==void 0}function uE(t,e,n,r){if(r<e)throw cE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw cE(`Invalid value for '${t}'. Expected ${n} or less.`)}function C8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Xd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xd||(Xd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(e,n,r,a,i,s,o,c,h,d,m,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new vh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const c=o.loaded,h=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===Xd.NO_ERROR,c=i.getStatus();if(!o||R8(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Xd.ABORT;r(!1,new vh(!1,null,d));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new vh(h,i))})},n=(r,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());N8(c)?i(c):i()}catch(c){s(c)}else if(o!==null){const c=v8();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(a.canceled){const c=this.appDelete_?yR():b8();s(c)}else{const c=_8();s(c)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=S8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&A8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function O8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function D8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function k8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function j8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M8(t,e,n,r,a,i,s=!0,o=!1){const c=C8(t.urlParams),h=t.url+c,d=Object.assign({},t.headers);return k8(d,e),O8(d,n),D8(d,i),j8(d,r),new I8(h,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function L8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jd(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return L8(this._location.path)}get storage(){return this._service}get parent(){const e=P8(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new Jd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E8(e)}}function hE(t,e){const n=e==null?void 0:e[p8];return n==null?null:Hn.makeFromBucketSpec(n,t)}function V8(t,e,n,r={}){t.host=`${e}:${n}`;const a=hs(e);a&&(cv(`https://${t.host}/b`),uv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:K2(i,t.app.options.projectId))}class U8{constructor(e,n,r,a,i,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=gR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g8,this._maxUploadRetryTime=y8,this._requests=new Set,a!=null?this._bucket=Hn.makeFromBucketSpec(a,this._host):this._bucket=hE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=hE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jd(this,e)}_makeRequest(e,n,r,a,i=!0){if(this._deleted)return new T8(yR());{const s=M8(e,this._appId,r,a,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const dE="@firebase/storage",fE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="storage";function z8(t=Mf(),e){t=Ye(t);const r=ci(t,vR).getImmediate({identifier:e}),a=G2("storage");return a&&B8(r,...a),r}function B8(t,e,n,r={}){V8(t,e,n,r)}function F8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new U8(n,r,a,e,fs)}function $8(){Yn(new Vn(vR,F8,"PUBLIC").setMultipleInstances(!0)),en(dE,fE,""),en(dE,fE,"esm2020")}$8();const _R="@firebase/installations",c_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1e4,xR=`w:${c_}`,wR="FIS_v2",q8="https://firebaseinstallations.googleapis.com/v1",H8=60*60*1e3,G8="installations",Y8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},es=new ds(G8,Y8,W8);function ER(t){return t instanceof Un&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR({projectId:t}){return`${q8}/projects/${t}/installations`}function SR(t){return{token:t.token,requestStatus:2,expiresIn:Q8(t.expiresIn),creationTime:Date.now()}}async function AR(t,e){const r=(await e.json()).error;return es.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function NR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function K8(t,{refreshToken:e}){const n=NR(t);return n.append("Authorization",X8(e)),n}async function CR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Q8(t){return Number(t.replace("s","000"))}function X8(t){return`${wR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=TR(t),a=NR(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const s={fid:n,authVersion:wR,appId:t.appId,sdkVersion:xR},o={method:"POST",headers:a,body:JSON.stringify(s)},c=await CR(()=>fetch(r,o));if(c.ok){const h=await c.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:SR(h.authToken)}}else throw await AR("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=/^[cdef][\w-]{21}$/,Oy="";function t7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=n7(t);return e7.test(n)?n:Oy}catch{return Oy}}function n7(t){return Z8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Map;function OR(t,e){const n=im(t);DR(n,e),r7(n,e)}function DR(t,e){const n=IR.get(t);if(n)for(const r of n)r(e)}function r7(t,e){const n=a7();n&&n.postMessage({key:t,fid:e}),i7()}let Pi=null;function a7(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=t=>{DR(t.data.key,t.data.fid)}),Pi}function i7(){IR.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s7="firebase-installations-database",o7=1,ts="firebase-installations-store";let Lp=null;function u_(){return Lp||(Lp=tN(s7,o7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ts)}}})),Lp}async function Zd(t,e){const n=im(t),a=(await u_()).transaction(ts,"readwrite"),i=a.objectStore(ts),s=await i.get(n);return await i.put(e,n),await a.done,(!s||s.fid!==e.fid)&&OR(t,e.fid),e}async function kR(t){const e=im(t),r=(await u_()).transaction(ts,"readwrite");await r.objectStore(ts).delete(e),await r.done}async function sm(t,e){const n=im(t),a=(await u_()).transaction(ts,"readwrite"),i=a.objectStore(ts),s=await i.get(n),o=e(s);return o===void 0?await i.delete(n):await i.put(o,n),await a.done,o&&(!s||s.fid!==o.fid)&&OR(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h_(t){let e;const n=await sm(t.appConfig,r=>{const a=l7(r),i=c7(t,a);return e=i.registrationPromise,i.installationEntry});return n.fid===Oy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function l7(t){const e=t||{fid:t7(),registrationStatus:0};return jR(e)}function c7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(es.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=u7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:h7(t)}:{installationEntry:e}}async function u7(t,e){try{const n=await J8(t,e);return Zd(t.appConfig,n)}catch(n){throw ER(n)&&n.customData.serverCode===409?await kR(t.appConfig):await Zd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function h7(t){let e=await mE(t.appConfig);for(;e.registrationStatus===1;)await RR(100),e=await mE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await h_(t);return r||n}return e}function mE(t){return sm(t,e=>{if(!e)throw es.create("installation-not-found");return jR(e)})}function jR(t){return d7(t)?{fid:t.fid,registrationStatus:0}:t}function d7(t){return t.registrationStatus===1&&t.registrationTime+bR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f7({appConfig:t,heartbeatServiceProvider:e},n){const r=m7(t,n),a=K8(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const s={installation:{sdkVersion:xR,appId:t.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},c=await CR(()=>fetch(r,o));if(c.ok){const h=await c.json();return SR(h)}else throw await AR("Generate Auth Token",c)}function m7(t,{fid:e}){return`${TR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d_(t,e=!1){let n;const r=await sm(t.appConfig,i=>{if(!MR(i))throw es.create("not-registered");const s=i.authToken;if(!e&&y7(s))return i;if(s.requestStatus===1)return n=p7(t,e),i;{if(!navigator.onLine)throw es.create("app-offline");const o=_7(i);return n=g7(t,o),o}});return n?await n:r.authToken}async function p7(t,e){let n=await pE(t.appConfig);for(;n.authToken.requestStatus===1;)await RR(100),n=await pE(t.appConfig);const r=n.authToken;return r.requestStatus===0?d_(t,e):r}function pE(t){return sm(t,e=>{if(!MR(e))throw es.create("not-registered");const n=e.authToken;return b7(n)?{...e,authToken:{requestStatus:0}}:e})}async function g7(t,e){try{const n=await f7(t,e),r={...e,authToken:n};return await Zd(t.appConfig,r),n}catch(n){if(ER(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await kR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Zd(t.appConfig,r)}throw n}}function MR(t){return t!==void 0&&t.registrationStatus===2}function y7(t){return t.requestStatus===2&&!v7(t)}function v7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+H8}function _7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function b7(t){return t.requestStatus===1&&t.requestTime+bR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x7(t){const e=t,{installationEntry:n,registrationPromise:r}=await h_(e);return r?r.catch(console.error):d_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w7(t,e=!1){const n=t;return await E7(n),(await d_(n,e)).token}async function E7(t){const{registrationPromise:e}=await h_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t){if(!t||!t.options)throw Vp("App Configuration");if(!t.name)throw Vp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vp(t){return es.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="installations",S7="installations-internal",A7=t=>{const e=t.getProvider("app").getImmediate(),n=T7(e),r=ci(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},N7=t=>{const e=t.getProvider("app").getImmediate(),n=ci(e,PR).getImmediate();return{getId:()=>x7(n),getToken:a=>w7(n,a)}};function C7(){Yn(new Vn(PR,A7,"PUBLIC")),Yn(new Vn(S7,N7,"PRIVATE"))}C7();en(_R,c_);en(_R,c_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef="analytics",R7="firebase_id",I7="origin",O7=60*1e3,D7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",f_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt=new jf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new ds("analytics","Analytics",k7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j7(t){if(!t.startsWith(f_)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return Bt.warn(e.message),""}return t}function LR(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function M7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function P7(t,e){const n=M7("firebase-js-sdk-policy",{createScriptURL:j7}),r=document.createElement("script"),a=`${f_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function L7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function V7(t,e,n,r,a,i){const s=r[a];try{if(s)await e[s];else{const c=(await LR(n)).find(h=>h.measurementId===a);c&&await e[c.appId]}}catch(o){Bt.error(o)}t("config",a,i)}async function U7(t,e,n,r,a){try{let i=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const o=await LR(n);for(const c of s){const h=o.find(m=>m.measurementId===c),d=h&&e[h.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,a||{})}catch(i){Bt.error(i)}}function z7(t,e,n,r){async function a(i,...s){try{if(i==="event"){const[o,c]=s;await U7(t,e,n,o,c)}else if(i==="config"){const[o,c]=s;await V7(t,e,n,r,o,c)}else if(i==="consent"){const[o,c]=s;t("consent",o,c)}else if(i==="get"){const[o,c,h]=s;t("get",o,c,h)}else if(i==="set"){const[o]=s;t("set",o)}else t(i,...s)}catch(o){Bt.error(o)}}return a}function B7(t,e,n,r,a){let i=function(...s){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=z7(i,t,e,n),{gtagCore:i,wrappedGtag:window[a]}}function F7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(f_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=30,q7=1e3;class H7{constructor(e={},n=q7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const VR=new H7;function G7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Y7(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:G7(n)},a=D7.replace("{app-id}",e),i=await fetch(a,r);if(i.status!==200&&i.status!==304){let o="";try{const c=await i.json();(s=c.error)!=null&&s.message&&(o=c.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function W7(t,e=VR,n){const{appId:r,apiKey:a,measurementId:i}=t.options;if(!r)throw vn.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:r};throw vn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new X7;return setTimeout(async()=>{o.abort()},O7),UR({appId:r,apiKey:a,measurementId:i},s,o,e)}async function UR(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=VR){var o;const{appId:i,measurementId:s}=t;try{await K7(r,e)}catch(c){if(s)return Bt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:s};throw c}try{const c=await Y7(t);return a.deleteThrottleMetadata(i),c}catch(c){const h=c;if(!Q7(h)){if(a.deleteThrottleMetadata(i),s)return Bt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:s};throw c}const d=Number((o=h==null?void 0:h.customData)==null?void 0:o.httpStatus)===503?jx(n,a.intervalMillis,$7):jx(n,a.intervalMillis),m={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return a.setThrottleMetadata(i,m),Bt.debug(`Calling attemptFetch again in ${d} millis`),UR(t,m,r,a)}}function K7(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),i=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(i),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Q7(t){if(!(t instanceof Un)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class X7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function J7(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const i=await e,s={...r,send_to:i};t("event",n,s)}}async function Z7(t,e,n,r){if(r&&r.global){const a={};for(const i of Object.keys(n))a[`user_properties.${i}`]=n[i];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(){if(X2())try{await J2()}catch(t){return Bt.warn(vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Bt.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tz(t,e,n,r,a,i,s){const o=W7(t);o.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Bt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Bt.error(p)),e.push(o);const c=ez().then(p=>{if(p)return r.getId()}),[h,d]=await Promise.all([o,c]);F7(i)||P7(i,h.measurementId),a("js",new Date);const m=(s==null?void 0:s.config)??{};return m[I7]="firebase",m.update=!0,d!=null&&(m[R7]=d),a("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nz{constructor(e){this.app=e}_delete(){return delete go[this.app.options.appId],Promise.resolve()}}let go={},gE=[];const yE={};let Up="dataLayer",rz="gtag",vE,m_,_E=!1;function az(){const t=[];if(Q2()&&t.push("This is a browser extension environment."),E3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});Bt.warn(n.message)}}function iz(t,e,n){az();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Bt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(go[r]!=null)throw vn.create("already-exists",{id:r});if(!_E){L7(Up);const{wrappedGtag:i,gtagCore:s}=B7(go,gE,yE,Up,rz);m_=i,vE=s,_E=!0}return go[r]=tz(t,gE,yE,e,vE,Up,n),new nz(t)}function sz(t=Mf()){t=Ye(t);const e=ci(t,ef);return e.isInitialized()?e.getImmediate():oz(t)}function oz(t,e={}){const n=ci(t,ef);if(n.isInitialized()){const a=n.getImmediate();if(Xa(e,n.getOptions()))return a;throw vn.create("already-initialized")}return n.initialize({options:e})}function lz(t,e,n){t=Ye(t),Z7(m_,go[t.app.options.appId],e,n).catch(r=>Bt.error(r))}function cz(t,e,n,r){t=Ye(t),J7(m_,go[t.app.options.appId],e,n,r).catch(a=>Bt.error(a))}const bE="@firebase/analytics",xE="0.10.19";function uz(){Yn(new Vn(ef,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return iz(r,a,n)},"PUBLIC")),Yn(new Vn("analytics-internal",t,"PRIVATE")),en(bE,xE),en(bE,xE,"esm2020");function t(e){try{const n=e.getProvider(ef).getImmediate();return{logEvent:(r,a,i)=>cz(n,r,a,i),setUserProperties:(r,a)=>lz(n,r,a)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}uz();const hz={apiKey:"AIzaSyAriwME6CybqyDw1e3yNTwF6sHk4NUn7oY",authDomain:"planyourtrip-ed010.firebaseapp.com",databaseURL:"https://planyourtrip-ed010-default-rtdb.firebaseio.com",projectId:"planyourtrip-ed010",storageBucket:"planyourtrip-ed010.firebasestorage.app",messagingSenderId:"889865160214",appId:"1:889865160214:web:3cbe594765950e07609737",measurementId:"G-1TY4MKM2D9"},om=nN(hz),Ft=VV(om),p_=f8(om);z8(om);sz(om);const dz=async t=>{try{return(await Zv(gs(Ft,"trips"),{...t,createdAt:ve.now()})).id}catch(e){throw console.error("Error creating trip:",e),e}},zR=async t=>{try{const e=Zr(Ft,"trips",t),n=await kC(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting trip:",e),e}},fz=async()=>{try{return(await jC(gs(Ft,"trips"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting all trips:",t),t}},mz=async(t,e)=>{try{const n=Zr(Ft,"trips",t);await Xv(n,e)}catch(n){throw console.error("Error updating trip:",n),n}},pz=async t=>{try{await Jv(Zr(Ft,"trips",t))}catch(e){throw console.error("Error deleting trip:",e),e}},BR=async t=>{try{return(await Zv(gs(Ft,"registrations"),{...t,timestamp:ve.now()})).id}catch(e){throw console.error("Error creating registration:",e),e}},gz=async t=>{try{const e=Yv(gs(Ft,"registrations"),OC("tripId","==",t));return(await jC(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting registrations:",e),e}},wE=async(t,e)=>{try{const n=Zr(Ft,"registrations",t);await Xv(n,e)}catch(n){throw console.error("Error updating registration:",n),n}},yz=async t=>{try{await Jv(Zr(Ft,"registrations",t))}catch(e){throw console.error("Error deleting registration:",e),e}},vz=({selectedDate:t,onClose:e,onCreate:n})=>{const[r,a]=I.useState({title:"",vehicleLayout:"sprinter_15",driverName:"",whatsappGroupLink:"",status:"planned",date:t,customSeats:[]}),[i,s]=I.useState(!1),[o,c]=I.useState(!1),h=Array.from({length:50},(y,_)=>_+1),d=async y=>{y.preventDefault(),s(!0);try{const _={...r,date:ve.fromDate(r.date)};r.vehicleLayout==="custom"&&r.customSeats.length>0&&(_.vehicleLayout=`custom_${r.customSeats.length}`,_.customSeats=r.customSeats),await n(_)}catch(_){console.error("Error creating trip:",_)}finally{s(!1)}},m=y=>{const _=new Date(y.target.value);a({...r,date:_})},p=y=>{const _=y.getFullYear(),E=String(y.getMonth()+1).padStart(2,"0"),O=String(y.getDate()).padStart(2,"0");return`${_}-${E}-${O}`},v=y=>{const _=y.target.value;a({...r,vehicleLayout:_}),c(_==="custom")},S=y=>{const _=[...r.customSeats],E=_.indexOf(y);E>-1?_.splice(E,1):(_.push(y),_.sort((O,V)=>O-V)),a({...r,customSeats:_})},A=()=>{a({...r,customSeats:[...h]})},R=()=>{a({...r,customSeats:[]})};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full border-4 border-teal-400 max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),style:{borderColor:z.primary.teal},children:[u.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Create New Trip"}),u.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:u.jsx(uu,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),u.jsx("input",{type:"text",value:r.title,onChange:y=>a({...r,title:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:p(r.date),onChange:m,className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent hover:border-[#00BCD4] transition-colors cursor-pointer",style:{borderColor:z.primary.teal},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),u.jsx("input",{type:"text",value:r.driverName,onChange:y=>a({...r,driverName:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),u.jsxs("select",{value:r.vehicleLayout,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[u.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),u.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),u.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"}),u.jsx("option",{value:"custom",children:"Custom Seat Selection"})]})]}),o&&u.jsxs("div",{className:"border-2 rounded-lg p-4",style:{borderColor:z.primary.teal},children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Select Seats (",r.customSeats.length," selected)"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:A,className:"text-xs px-3 py-1 rounded-lg text-white hover:opacity-90 transition-opacity",style:{backgroundColor:z.primary.teal},children:"Select All"}),u.jsx("button",{type:"button",onClick:R,className:"text-xs px-3 py-1 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:"Clear All"})]})]}),u.jsx("div",{className:"grid grid-cols-10 gap-2 max-h-64 overflow-y-auto p-2 bg-gray-50 rounded",children:h.map(y=>{const _=r.customSeats.includes(y);return u.jsxs("button",{type:"button",onClick:()=>S(y),className:`relative h-10 rounded-lg text-sm font-medium transition-all ${_?"text-white shadow-md":"bg-white border-2 border-gray-300 text-gray-700 hover:border-teal-300"}`,style:_?{backgroundColor:z.primary.teal}:{},children:[y,_&&u.jsx(Sf,{className:"w-3 h-3 absolute top-0.5 right-0.5"})]},y)})}),r.customSeats.length===0&&u.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please select at least one seat"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),u.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:y=>a({...r,whatsappGroupLink:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),u.jsxs("select",{value:r.status,onChange:y=>a({...r,status:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[u.jsx("option",{value:"planned",children:"Planned (Yellow)"}),u.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),u.jsx("option",{value:"done",children:"Done (Green)"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:i||o&&r.customSeats.length===0,style:{backgroundColor:z.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Trip"})]})]})]})})},_z=({trip:t,onClose:e,onUpdate:n})=>{const r=()=>{var h;return(h=t.date)!=null&&h.toDate?t.date.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0]},[a,i]=I.useState({title:t.title||"",date:r(),vehicleLayout:t.vehicleLayout||"sprinter_15",driverName:t.driverName||"",whatsappGroupLink:t.whatsappGroupLink||"",status:t.status||"planned"}),[s,o]=I.useState(!1),c=async h=>{h.preventDefault(),o(!0);try{const d={...a,date:ve.fromDate(new Date(a.date))};await n(t.id,d)}catch(d){console.error("Error updating trip:",d)}finally{o(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:h=>h.stopPropagation(),style:{borderColor:z.primary.teal},children:[u.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-bold",children:"Edit Trip"}),u.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:u.jsx(uu,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),u.jsx("input",{type:"text",value:a.title,onChange:h=>i({...a,title:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{type:"date",value:a.date,onChange:h=>i({...a,date:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),u.jsx("input",{type:"text",value:a.driverName,onChange:h=>i({...a,driverName:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),u.jsxs("select",{value:a.vehicleLayout,onChange:h=>i({...a,vehicleLayout:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[u.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),u.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),u.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),u.jsx("input",{type:"url",value:a.whatsappGroupLink,onChange:h=>i({...a,whatsappGroupLink:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),u.jsxs("select",{value:a.status,onChange:h=>i({...a,status:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[u.jsx("option",{value:"planned",children:"Planned (Yellow)"}),u.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),u.jsx("option",{value:"done",children:"Done (Green)"})]})]}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:z.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Updating...":"Update Trip"})]})]})]})})},EE={sprinter_15:{name:"Mercedes Sprinter Black (13 Seats)",totalSeats:14,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:60,y:320},{id:9,row:4,position:"center",x:165,y:320},{id:10,row:4,position:"right",x:270,y:320},{id:11,row:5,position:"left",x:40,y:410},{id:12,row:5,position:"center-left",x:130,y:410},{id:13,row:5,position:"center-right",x:220,y:410},{id:14,row:5,position:"right",x:310,y:410}]},bus_30:{name:"Mercedes Sprinter White (10 Seats)",totalSeats:11,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:40,y:320},{id:9,row:4,position:"center-left",x:130,y:320},{id:10,row:4,position:"center-right",x:220,y:320},{id:11,row:4,position:"right",x:310,y:320}]},highlander_7:{name:"Toyota Highlander (7 Seats)",totalSeats:7,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:180},{id:3,row:2,position:"center",x:165,y:180},{id:4,row:2,position:"right",x:270,y:180},{id:5,row:3,position:"left",x:60,y:310},{id:6,row:3,position:"center",x:165,y:310},{id:7,row:3,position:"right",x:270,y:310}]}},FR=t=>EE[t]||EE.sprinter_15,$R=({vehicleType:t,registrations:e,onSeatClick:n,selectedSeat:r,driverName:a,reservedSeats:i=[]})=>{const s=FR(t),o=h=>e==null?void 0:e.find(d=>d.seatNumber===h),c=h=>o(h)||i.includes(h)?z.seat.occupied:r===h?z.seat.selected:z.seat.vacant;return u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:z.primary.teal},children:s.name}),a&&u.jsxs("div",{className:"text-center mb-4 pb-4 border-b",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Driver: "}),u.jsx("span",{className:"font-semibold",style:{color:z.primary.teal},children:a})]}),u.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full max-w-md mx-auto border-2 rounded-lg",style:{borderColor:z.primary.teal},children:[u.jsx("rect",{x:"10",y:"10",width:"380",height:"480",rx:"20",fill:"none",stroke:z.primary.black,strokeWidth:"3"}),u.jsx("line",{x1:"10",y1:"100",x2:"390",y2:"100",stroke:z.primary.black,strokeWidth:"2",strokeDasharray:"5,5"}),u.jsxs("g",{children:[u.jsx("rect",{x:"30",y:"40",width:"50",height:"50",rx:"5",fill:z.primary.black,stroke:z.primary.teal,strokeWidth:"2"}),u.jsx("text",{x:"55",y:"70",textAnchor:"middle",fontSize:"14",fill:"white",fontWeight:"bold",children:"D"}),a&&u.jsx("text",{x:"55",y:"115",textAnchor:"middle",fontSize:"10",fill:z.primary.teal,fontWeight:"600",children:a.split(" ")[0]})]}),s.seats.map(h=>{const d=o(h.id),m=n;return u.jsxs("g",{onClick:()=>m&&n(h.id,d),className:m?"cursor-pointer hover:opacity-80":"",children:[u.jsx("rect",{x:h.x-25,y:h.y-15,width:"50",height:"35",rx:"5",fill:c(h.id),stroke:"#4b5563",strokeWidth:"2"}),u.jsx("text",{x:h.x,y:h.y+5,textAnchor:"middle",fontSize:"14",fill:d||r===h.id?"white":"#1f2937",fontWeight:"bold",children:h.id})]},h.id)})]}),u.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:z.seat.vacant,border:`2px solid ${z.primary.black}`}}),u.jsx("span",{children:"Vacant"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:z.seat.occupied,border:`2px solid ${z.primary.black}`}}),u.jsx("span",{children:"Occupied"})]}),n&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:z.seat.selected,border:`2px solid ${z.primary.black}`}}),u.jsx("span",{children:"Selected"})]})]})]})},bz=({trip:t,registrations:e,preselectedSeat:n=null,onClose:r,onSuccess:a})=>{const[i,s]=I.useState({firstName:"",lastName:"",email:"",phone:"",seatNumber:n,paymentMethod:"on-trip",paid:!1}),[o,c]=I.useState(!1),[h,d]=I.useState(""),m=FR(t.vehicleLayout),p=e.map(A=>A.seatNumber),v=Array.from({length:m.totalSeats},(A,R)=>R+1).filter(A=>!p.includes(A)),S=async A=>{if(A.preventDefault(),d(""),!i.seatNumber){d("Please select a seat");return}c(!0);try{await BR({tripId:t.id,...i,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,addedByAdmin:!0}),a(),r()}catch(R){console.error("Error adding participant:",R),d("Failed to add participant. Please try again.")}finally{c(!1)}};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:r,children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4 border-teal-400",onClick:A=>A.stopPropagation(),style:{borderColor:z.primary.teal},children:[u.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(m2,{className:"w-6 h-6"}),u.jsx("h2",{className:"text-xl font-bold",children:"Add Participant"})]}),u.jsx("button",{onClick:r,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:u.jsx(uu,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),u.jsx("input",{type:"text",value:i.firstName,onChange:A=>s({...i,firstName:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{focusRing:z.primary.teal},required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),u.jsx("input",{type:"text",value:i.lastName,onChange:A=>s({...i,lastName:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),u.jsx("input",{type:"email",value:i.email,onChange:A=>s({...i,email:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),u.jsx("input",{type:"tel",value:i.phone,onChange:A=>s({...i,phone:A.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seat Number *"}),u.jsxs("select",{value:i.seatNumber||"",onChange:A=>s({...i,seatNumber:parseInt(A.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[u.jsx("option",{value:"",children:"Select a seat"}),v.map(A=>u.jsxs("option",{value:A,children:["Seat ",A]},A))]}),v.length===0&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available seats"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="card"?z.primary.teal:"#D1D5DB"},children:[u.jsx("input",{type:"radio",value:"card",checked:i.paymentMethod==="card",onChange:A=>s({...i,paymentMethod:A.target.value}),className:"mr-3",style:{accentColor:z.primary.teal}}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),u.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),u.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="on-trip"?z.primary.teal:"#D1D5DB"},children:[u.jsx("input",{type:"radio",value:"on-trip",checked:i.paymentMethod==="on-trip",onChange:A=>s({...i,paymentMethod:A.target.value}),className:"mr-3",style:{accentColor:z.primary.teal}}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),u.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),u.jsx("div",{children:u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:i.paid?z.primary.teal:"#D1D5DB"},children:[u.jsx("input",{type:"checkbox",checked:i.paid,onChange:A=>s({...i,paid:A.target.checked}),className:"w-5 h-5 rounded border-gray-300",style:{accentColor:z.primary.teal}}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:"Mark as Paid"}),u.jsx("div",{className:"text-sm text-gray-500",children:"Check if participant has already paid"})]})]})}),h&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:h}),u.jsxs("div",{className:"flex gap-3 pt-4",children:[u.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:o||v.length===0,style:{backgroundColor:z.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Adding...":"Add Participant"})]})]})]})})},lm={en:{dashboard:"Trip Management Dashboard",dashboardShort:"Dashboard",IVRITours:"IVRI Tours",tripManagement:"Trip Management System",adminPortal:"Admin Portal",logout:"Logout",backToDashboard:"Back to dashboard",tripsFor:"Trips for",allTrips:"All Trips",all:"All",currentTrips:"Current Trips",current:"Current",oldTrips:"Old Trips",old:"Old",createTrip:"Create Trip",loadingTrips:"Loading trips...",noUpcomingTrips:"No upcoming trips scheduled.",noPastTrips:"No past trips found.",noTripsForDate:"No trips scheduled for this date.",createFirstTrip:"Create your first trip",whatsapp:"WhatsApp",share:"Share",copied:"Copied!",view:"View",edit:"Edit",delete:"Delete",deleting:"Deleting...",joinWhatsappGroup:"Join WhatsApp Group",linkCopied:"Link copied!",shareTripLink:"Share trip link",viewTripDetails:"View trip details",editTrip:"Edit trip",deleteTrip:"Delete trip",createNewTrip:"Create new trip",showAllTrips:"Show all trips",showCurrentTrips:"Show current trips",showOldTrips:"Show old trips",mercedesSprinterBlack:"Mercedes Sprinter Black (14 Seats)",mercedesSprinterWhite:"Mercedes Sprinter White (11 Seats)",toyotaHighlander:"Toyota Highlander (7 Seats)",driver:"Driver",calendar:"Calendar",createNewTripTitle:"Create New Trip",editTripTitle:"Edit Trip",addParticipant:"Add Participant",participantDetails:"Participant Details",tripTitle:"Trip Title",date:"Date",driverName:"Driver Name",vehicleType:"Vehicle Type",whatsappGroupLink:"WhatsApp Group Link (Optional)",whatsappGroupLinkHelp:"Add a WhatsApp group link for trip participants to join",firstName:"First Name",lastName:"Last Name",email:"Email",phoneNumber:"Phone Number",seatNumber:"Seat Number",selectSeat:"Select a seat",paymentMethod:"Payment Method",payWithCard:"Pay with Card",payWithCardDesc:"Pay now using credit/debit card",payOnTrip:"Pay on Trip",payOnTripDesc:"Pay cash/card on the day of the trip",markAsPaid:"Mark as Paid",markAsPaidDesc:"Check if participant has already paid",cancel:"Cancel",close:"Close",updateTrip:"Update Trip",updating:"Updating...",creating:"Creating...",addParticipantBtn:"Add Participant",adding:"Adding...",completeRegistration:"Complete Registration",submitting:"Submitting...",clearSignature:"Clear Signature",participants:"Participants",add:"Add",noRegistrations:"No registrations yet",name:"Name",phone:"Phone",seat:"Seat Number",paymentStatus:"Payment Status",paid:"Paid",notPaid:"Not Paid",registrationStatus:"Registration Status",complete:"Complete",registered:"Registered",signedAgreements:"Signed Agreements",cancellationPolicy:"Cancellation Policy",liabilityWaiver:"Liability Waiver",markAsNotPaid:"Mark as Not Paid",markAsPaidBtn:"Mark as Paid",selectYourSeat:"Select Your Seat",selectedSeat:"Selected Seat",vacant:"Vacant",occupied:"Occupied",selected:"Selected",noAvailableSeats:"No available seats",personalInformation:"Personal Information",digitalSignature:"Digital Signature",registrationSuccessful:"Registration Successful!",thankYouMessage:"Thank you for registering for",confirmationEmailMessage:"You will receive a confirmation email shortly with your signed waiver.",yourSeat:"Your Seat",loadingTripInfo:"Loading trip information...",tripNotFound:"Trip Not Found",tripNotFoundMessage:"This trip link may be invalid or expired.",tripId:"Trip ID",contactOrganizer:"If you believe this is an error, please contact the trip organizer.",cancellationPolicyTitle:"Cancellation Policy",waiverTitle:"Waiver of Liability",agreeToCancellationPolicy:"I have read and agree to the cancellation policy",agreeToWaiver:"I have read, understand, and agree to the waiver of liability",deleteConfirm:"Are you sure you want to delete this trip? This action cannot be undone.",failedToDelete:"Failed to delete trip. Please try again.",failedToUpdate:"Failed to update trip. Please try again.",failedToAdd:"Failed to add participant. Please try again.",failedToUpdatePayment:"Failed to update payment status",failedToSubmit:"Failed to submit registration. Please try again.",pleasSelectSeat:"Please select a seat",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",phoneRequired:"Phone number is required",seatRequired:"Please select a seat",cancellationPolicyRequired:"You must agree to the cancellation policy",waiverRequired:"You must sign the waiver",signatureRequired:"Signature is required",tripTitlePlaceholder:"e.g., Beach Trip, Museum Visit",driverNamePlaceholder:"e.g., John Smith",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"Copy for WhatsApp",sendToGroup:"Send to Group",copyAllParticipantDetails:"Copy all participant details for WhatsApp",sendToWhatsAppGroup:"Send to WhatsApp group",viewWeather:"View Weather",weather:"Weather",loadingWeather:"Loading weather...",tryAgain:"Try again",popularLocations:"Popular locations:",enterCityName:"Enter city name...",goButton:"Go",wind:"Wind",humidity:"Humidity",forecastDays:"5-Day Forecast",changeLocation:"Change location",loadingTrip:"Loading trip...",tripNotFoundTitle:"Trip not found",returnToDashboard:"Return to Dashboard",noRegistrationsYet:"No registrations yet",participantDetailsTitle:"Participant Details",cardPayment:"Card Payment",payOnTripMethod:"Pay on Trip",paymentMethodLabel:"Payment Method",seatNumberLabel:"Seat Number",status:"Status",planned:"Planned",scheduled:"Scheduled",done:"Done"},ru:{dashboard:"  ",dashboardShort:"",IVRITours:"IVRI Tours",tripManagement:"  ",adminPortal:" ",logout:"",backToDashboard:"  ",tripsFor:" ",allTrips:" ",all:"",currentTrips:" ",current:"",oldTrips:" ",old:"",createTrip:" ",loadingTrips:" ...",noUpcomingTrips:"  .",noPastTrips:"   .",noTripsForDate:"    .",createFirstTrip:"   ",whatsapp:"WhatsApp",share:"",copied:"!",view:"",edit:"",delete:"",deleting:"...",joinWhatsappGroup:"   WhatsApp",linkCopied:" !",shareTripLink:"   ",viewTripDetails:"  ",editTrip:" ",deleteTrip:" ",createNewTrip:"  ",showAllTrips:"  ",showCurrentTrips:"  ",showOldTrips:"  ",mercedesSprinterBlack:"Mercedes Sprinter  (14 )",mercedesSprinterWhite:"Mercedes Sprinter  (11 )",toyotaHighlander:"Toyota Highlander (7 )",driver:"",calendar:"",createNewTripTitle:"  ",editTripTitle:" ",addParticipant:" ",participantDetails:" ",tripTitle:" ",date:"",driverName:" ",vehicleType:" ",whatsappGroupLink:"   WhatsApp ()",whatsappGroupLinkHelp:"    WhatsApp   ",firstName:"",lastName:"",email:" ",phoneNumber:" ",seatNumber:" ",selectSeat:" ",paymentMethod:" ",payWithCard:" ",payWithCardDesc:"  / ",payOnTrip:"  ",payOnTripDesc:" /   ",markAsPaid:"  ",markAsPaidDesc:",    ",cancel:"",close:"",updateTrip:" ",updating:"...",creating:"...",addParticipantBtn:" ",adding:"...",completeRegistration:" ",submitting:"...",clearSignature:" ",participants:"",add:"",noRegistrations:"  ",name:"",phone:"",seat:" ",paymentStatus:" ",paid:"",notPaid:" ",registrationStatus:" ",complete:"",registered:"",signedAgreements:" ",cancellationPolicy:" ",liabilityWaiver:"  ",markAsNotPaid:"   ",markAsPaidBtn:"  ",selectYourSeat:"  ",selectedSeat:" ",vacant:"",occupied:"",selected:"",noAvailableSeats:"  ",personalInformation:" ",digitalSignature:" ",registrationSuccessful:" !",thankYouMessage:"   ",confirmationEmailMessage:"         .",yourSeat:" ",loadingTripInfo:"   ...",tripNotFound:"  ",tripNotFoundMessage:"        .",tripId:"ID ",contactOrganizer:"  ,   , ,    .",cancellationPolicyTitle:" ",waiverTitle:"  ",agreeToCancellationPolicy:" ()  ()   ",agreeToWaiver:" (),   ()    ",deleteConfirm:" ,     ?    .",failedToDelete:"   . ,  .",failedToUpdate:"   . ,  .",failedToAdd:"   . ,  .",failedToUpdatePayment:"    ",failedToSubmit:"   . ,  .",pleasSelectSeat:",  ",firstNameRequired:" ",lastNameRequired:" ",emailRequired:"  ",emailInvalid:"   ",phoneRequired:"  ",seatRequired:",  ",cancellationPolicyRequired:"     ",waiverRequired:"     ",signatureRequired:" ",tripTitlePlaceholder:",   ,  ",driverNamePlaceholder:",  ",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"  WhatsApp",sendToGroup:"  ",copyAllParticipantDetails:"     WhatsApp",sendToWhatsAppGroup:"   WhatsApp",viewWeather:" ",weather:"",loadingWeather:" ...",tryAgain:" ",popularLocations:" :",enterCityName:"  ...",goButton:"",wind:"",humidity:"",forecastDays:"5- ",changeLocation:" ",loadingTrip:" ...",tripNotFoundTitle:"  ",returnToDashboard:"  ",noRegistrationsYet:"  ",participantDetailsTitle:" ",cardPayment:" ",payOnTripMethod:"  ",paymentMethodLabel:" ",seatNumberLabel:" ",status:"",planned:"",scheduled:"",done:""}},xz=({tripId:t,onClose:e})=>{var W;const{language:n}=ls(),r=lm[n],[a,i]=I.useState(null),[s,o]=I.useState([]),[c,h]=I.useState(!0),[d,m]=I.useState(!1),[p,v]=I.useState(null),[S,A]=I.useState(null),[R,y]=I.useState(null),[_,E]=I.useState({}),[O,V]=I.useState(null),[H,T]=I.useState(!1);I.useEffect(()=>{w();const L=b();return()=>L&&L()},[t]);const w=async()=>{try{const L=await zR(t);i(L)}catch(L){console.error("Error loading trip:",L)}finally{h(!1)}},b=()=>{const L=Yv(gs(Ft,"registrations"),OC("tripId","==",t));return MC(L,Oe=>{const we=Oe.docs.map(Se=>({id:Se.id,...Se.data()}));o(we)})},N=()=>{var Oe;if(!a||s.length===0)return"";let L=` *${a.title}*
`;return L+=` Date: ${(Oe=a.date)==null?void 0:Oe.toDate().toLocaleDateString()}
`,a.driverName&&(L+=` Driver: ${a.driverName}
`),L+=`
 *Participants (${s.length})*
`,L+=`${"=".repeat(40)}

`,[...s].sort((we,Se)=>we.seatNumber-Se.seatNumber).forEach((we,Se)=>{L+=`${Se+1}. *${we.firstName} ${we.lastName}*
`,L+=`    Seat: ${we.seatNumber}
`,L+=`    ${we.email}
`,L+=`    ${we.phone}
`,L+=`    ${we.paid?" Paid":" Not Paid"}
`,L+=`
`}),L+=`${"=".repeat(40)}
`,L+=` Total Participants: ${s.length}
`,L+=` Paid: ${s.filter(we=>we.paid).length}
`,L+=` Pending: ${s.filter(we=>!we.paid).length}
`,L},D=()=>{const L=N();L&&navigator.clipboard.writeText(L).then(()=>{T(!0),setTimeout(()=>T(!1),2e3)}).catch(X=>{console.error("Failed to copy:",X),alert("Failed to copy to clipboard")})},k=()=>{const L=N();if(L)if(a.whatsappGroupLink){const X=encodeURIComponent(L);window.open(`${a.whatsappGroupLink}?text=${X}`,"_blank")}else{const X=encodeURIComponent(L);window.open(`https://wa.me/?text=${X}`,"_blank")}},C=async(L,X)=>{try{await wE(L,{paid:!X})}catch(Oe){console.error("Error updating payment status:",Oe),alert(r.failedToUpdatePayment)}},G=async L=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){V(L);try{await yz(L),A(null)}catch(X){console.error("Error deleting participant:",X),alert("Failed to delete participant. Please try again.")}finally{V(null)}}},re=L=>{y(L.id),E({firstName:L.firstName,lastName:L.lastName,email:L.email,phone:L.phone})},j=async L=>{try{await wE(L,_),y(null),E({})}catch(X){console.error("Error updating participant:",X),alert("Failed to update participant. Please try again.")}},U=()=>{y(null),E({})};if(c)return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:u.jsx("div",{className:"bg-white rounded-lg p-8",children:u.jsx("div",{className:"text-lg",children:r.loadingTripInfo})})});if(!a)return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:u.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[u.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.tripNotFound}),u.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:r.close})]})});const q=[...s].sort((L,X)=>L.seatNumber-X.seatNumber);return u.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",onClick:e,children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden border-4 border-teal-400",onClick:L=>L.stopPropagation(),style:{borderColor:z.primary.teal},children:[u.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 sm:px-6 py-4 flex justify-between items-center",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h2",{className:"text-xl sm:text-2xl font-bold truncate",children:a.title}),u.jsx("p",{className:"text-sm text-teal-100",children:(W=a.date)==null?void 0:W.toDate().toLocaleDateString()})]}),u.jsx("button",{onClick:e,className:"flex-shrink-0 ml-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:r.close,children:u.jsx(uu,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)] p-4 sm:p-6",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx($R,{vehicleType:a.vehicleLayout,registrations:s,driverName:a.driverName,onSeatClick:(L,X)=>{X?A(X.id):(v(L),m(!0))}})}),u.jsx("div",{className:"lg:col-span-1",children:u.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-lg p-4 sm:p-6 border-2 border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(p2,{className:"w-5 h-5",style:{color:z.primary.teal}}),u.jsxs("h3",{className:"text-lg sm:text-xl font-bold",style:{color:z.primary.black},children:[r.participants," (",s.length,")"]})]}),u.jsxs("button",{onClick:()=>m(!0),style:{backgroundColor:z.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:r.addParticipant,children:[u.jsx(m2,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:r.add})]})]}),s.length>0&&u.jsxs("div",{className:"flex gap-2 mb-4",children:[u.jsx("button",{onClick:D,style:{backgroundColor:H?z.success:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.copyAllParticipantDetails,children:H?u.jsxs(u.Fragment,{children:[u.jsx(Sf,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:r.copied})]}):u.jsxs(u.Fragment,{children:[u.jsx(K0,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:r.copyForWhatsApp})]})}),u.jsxs("button",{onClick:k,style:{backgroundColor:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.sendToWhatsAppGroup,children:[u.jsx(d2,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:r.sendToGroup})]})]}),s.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:r.noRegistrations}):u.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:q.map(L=>u.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[u.jsxs("div",{onClick:()=>A(S===L.id?null:L.id),className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[u.jsx("div",{className:"flex-shrink-0 w-8 h-8 text-white rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:z.seat.occupied},children:L.seatNumber}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("p",{className:"font-semibold text-gray-900 truncate",children:[L.firstName," ",L.lastName]}),u.jsx("p",{className:"text-sm text-gray-600 truncate",children:L.email})]}),u.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[L.paid?u.jsx(Zs,{className:"w-5 h-5 text-green-500",title:r.paid}):u.jsx(dx,{className:"w-5 h-5 text-red-500",title:r.notPaid}),S===L.id?u.jsx(D4,{className:"w-5 h-5 text-gray-400"}):u.jsx(I4,{className:"w-5 h-5 text-gray-400"})]})]}),S===L.id&&u.jsx("div",{className:"px-3 pb-3 border-t border-gray-200",children:R===L.id?u.jsxs("div",{className:"space-y-3 pt-3",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"First Name"}),u.jsx("input",{type:"text",value:_.firstName,onChange:X=>E({..._,firstName:X.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Last Name"}),u.jsx("input",{type:"text",value:_.lastName,onChange:X=>E({..._,lastName:X.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Email"}),u.jsx("input",{type:"email",value:_.email,onChange:X=>E({..._,email:X.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),u.jsx("input",{type:"tel",value:_.phone,onChange:X=>E({..._,phone:X.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),u.jsxs("div",{className:"flex gap-2 pt-2",children:[u.jsx("button",{onClick:()=>j(L.id),style:{backgroundColor:z.success},className:"flex-1 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Save"}),u.jsx("button",{onClick:U,className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):u.jsxs("div",{className:"space-y-3 pt-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.phone}),u.jsx("p",{className:"text-sm text-gray-900",children:L.phone})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentMethod}),u.jsx("div",{className:"flex items-center gap-2 mt-1",children:L.paymentMethod==="card"?u.jsxs(u.Fragment,{children:[u.jsx(q4,{className:"w-4 h-4 text-blue-600"}),u.jsx("span",{className:"text-sm text-gray-900",children:r.payWithCard})]}):u.jsxs(u.Fragment,{children:[u.jsx(A4,{className:"w-4 h-4 text-green-600"}),u.jsx("span",{className:"text-sm text-gray-900",children:r.payOnTrip})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentStatus}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[L.paid?u.jsx(Zs,{className:"w-4 h-4 text-green-500"}):u.jsx(dx,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:L.paid?r.paid:r.notPaid})]})]}),L.registrationDate&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.registered}),u.jsx("p",{className:"text-sm text-gray-900",children:new Date(L.registrationDate).toLocaleDateString()})]}),(L.agreedToCancellationPolicy||L.agreedToWaiver)&&u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.signedAgreements}),u.jsxs("div",{className:"space-y-1 mt-1",children:[L.agreedToCancellationPolicy&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"w-3 h-3 text-green-500"}),u.jsx("span",{className:"text-xs text-gray-700",children:r.cancellationPolicy})]}),L.agreedToWaiver&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Zs,{className:"w-3 h-3 text-green-500"}),u.jsx("span",{className:"text-xs text-gray-700",children:r.liabilityWaiver})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("button",{onClick:X=>{X.stopPropagation(),C(L.id,L.paid)},style:{backgroundColor:L.paid?z.button.danger:z.success},className:"w-full px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:L.paid?r.markAsNotPaid:r.markAsPaidBtn}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:X=>{X.stopPropagation(),re(L)},style:{backgroundColor:z.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:[u.jsx(dM,{className:"w-4 h-4"}),u.jsx("span",{children:"Edit"})]}),u.jsxs("button",{onClick:X=>{X.stopPropagation(),G(L.id)},disabled:O===L.id,style:{backgroundColor:z.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(X0,{className:"w-4 h-4"}),u.jsx("span",{children:O===L.id?"Deleting...":"Delete"})]})]})]})]})})]},L.id))})]})})]})})]}),d&&u.jsx(bz,{trip:a,registrations:s,preselectedSeat:p,onClose:()=>{m(!1),v(null)},onSuccess:()=>{m(!1),v(null)}})]})},TE=({className:t="",size:e="md"})=>{const n={xs:{width:"50px",fontSize:"10px",subSize:"7px"},sm:{width:"80px",fontSize:"14px",subSize:"10px"},md:{width:"120px",fontSize:"20px",subSize:"12px"},lg:{width:"160px",fontSize:"28px",subSize:"16px"}},r=n[e]||n.md;return u.jsx("div",{className:`flex items-center gap-3 ${t}`,children:u.jsx("div",{style:{backgroundColor:z.primary.teal,width:r.width,aspectRatio:"1",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 188, 212, 0.3)"},children:u.jsxs("div",{style:{textAlign:"center",color:z.primary.white},children:[u.jsx("div",{style:{fontSize:r.fontSize,fontWeight:"bold",letterSpacing:"2px",lineHeight:"1"},children:"IVRI"}),u.jsx("div",{style:{fontSize:r.subSize,letterSpacing:"1px",marginTop:"4px",opacity:.9},children:"TOURS"})]})})})},wz=()=>{const{language:t,setLanguage:e}=ls(),n=[{code:"en",flag:"",name:"English (CA)"},{code:"ru",flag:"",name:""}];return u.jsx("div",{className:"relative",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"sm:hidden px-2 py-1.5 border border-gray-300 rounded-lg text-lg focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:z.primary.teal},children:n.map(r=>u.jsx("option",{value:r.code,children:r.flag},r.code))}),u.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"hidden sm:block px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:z.primary.teal},children:n.map(r=>u.jsxs("option",{value:r.code,children:[r.flag," ",r.name]},r.code))})]})})},Ez=({compact:t=!1})=>{const{language:e}=ls(),n=lm[e],[r,a]=I.useState("New York"),[i,s]=I.useState(""),[o,c]=I.useState(null),[h,d]=I.useState([]),[m,p]=I.useState(!1),[v,S]=I.useState(null),[A,R]=I.useState(!1),[y,_]=I.useState(!1),E=["Toronto","Ottawa","Barrie","Montreal","Mont Tremblant ","Chicago","New York","Miami","Boston"];I.useEffect(()=>{O(r)},[r]);const O=async b=>{p(!0),S(null);try{const D=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(b)}&count=1&language=en&format=json`)).json();if(!D.results||D.results.length===0){S("Location not found"),p(!1);return}const{latitude:k,longitude:C,name:G,country:re}=D.results[0],U=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${k}&longitude=${C}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&temperature_unit=celsius&wind_speed_unit=mph&timezone=auto&forecast_days=5`)).json();c({city:G,country:re,temperature:Math.round(U.current.temperature_2m),humidity:U.current.relative_humidity_2m,windSpeed:Math.round(U.current.wind_speed_10m),weatherCode:U.current.weather_code});const q=U.daily.time.map((W,L)=>({date:new Date(W).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),maxTemp:Math.round(U.daily.temperature_2m_max[L]),minTemp:Math.round(U.daily.temperature_2m_min[L]),weatherCode:U.daily.weather_code[L]}));d(q)}catch(N){console.error("Error fetching weather:",N),S("Failed to load weather data")}finally{p(!1)}},V=b=>{a(b),R(!1),s("")},H=b=>{b.preventDefault(),i.trim()&&V(i.trim())},T=b=>b===0||b===1?u.jsx(_M,{className:"w-8 h-8",style:{color:"#FCD34D"}}):b===2||b===3?u.jsx(zl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}):b>=51&&b<=67?u.jsx(lh,{className:"w-8 h-8",style:{color:"#60A5FA"}}):b>=71&&b<=77?u.jsx(z4,{className:"w-8 h-8",style:{color:"#93C5FD"}}):b>=80?u.jsx(lh,{className:"w-8 h-8",style:{color:"#3B82F6"}}):u.jsx(zl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}),w=b=>b===0?"Clear sky":b===1?"Mainly clear":b===2?"Partly cloudy":b===3?"Overcast":b>=51&&b<=67?"Rainy":b>=71&&b<=77?"Snowy":b>=80?"Rain showers":"Cloudy";return t?u.jsxs(u.Fragment,{children:[u.jsx("button",{onClick:()=>_(!0),className:"bg-white rounded-full shadow-lg p-3 hover:shadow-xl transition-all",title:n.viewWeather,children:o&&!m&&!v?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"scale-75",children:T(o.weatherCode)}),u.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[o.temperature,"C"]})]}):u.jsx(zl,{className:"w-6 h-6",style:{color:z.primary.teal}})}),y&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-end p-4 animate-fadeIn",onClick:()=>_(!1),children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm mt-16 mr-0 animate-slideInRight",onClick:b=>b.stopPropagation(),children:[u.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[u.jsx(zl,{className:"w-5 h-5",style:{color:z.primary.teal}}),n.weather]}),u.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:u.jsx("span",{className:"text-2xl text-gray-600",children:""})})]}),u.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[m&&u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-gray-500 text-sm",children:n.loadingWeather})}),v&&!m&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-red-500 text-sm",children:v}),u.jsx("button",{onClick:()=>O(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:n.tryAgain})]}),o&&!m&&!v&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fx,{className:"w-4 h-4",style:{color:z.primary.teal}}),u.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[o.city,", ",o.country]})]}),u.jsx("button",{onClick:()=>R(!A),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:u.jsx(mx,{className:"w-4 h-4 text-gray-600"})})]}),A&&u.jsxs("div",{className:"mb-4 space-y-3",children:[u.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),u.jsx("button",{type:"submit",style:{backgroundColor:z.primary.teal},className:"px-4 py-2 text-white rounded-lg text-sm",children:"Go"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(b=>u.jsx("button",{onClick:()=>V(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700",children:b},b))})]})]}),u.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),u.jsx("div",{className:"text-sm text-gray-600 mt-1",children:w(o.weatherCode)})]}),u.jsx("div",{children:T(o.weatherCode)})]})}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gx,{className:"w-4 h-4 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),u.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lh,{className:"w-4 h-4 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),u.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),u.jsx("div",{className:"space-y-2",children:h.map((b,N)=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"scale-75",children:T(b.weatherCode)}),u.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),u.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},N))})]})]})]})]})}),u.jsx("style",{jsx:!0,children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.2s ease-out;
          }
          .animate-slideInRight {
            animation: slideInRight 0.3s ease-out;
          }
        `})]}):u.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[u.jsx(zl,{className:"w-5 h-5",style:{color:z.primary.teal}}),"Weather"]}),u.jsx("button",{onClick:()=>R(!A),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:u.jsx(mx,{className:"w-5 h-5 text-gray-600"})})]}),A&&u.jsxs("div",{className:"mb-4 space-y-3",children:[u.jsxs("form",{onSubmit:H,className:"flex gap-2",children:[u.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),u.jsx("button",{type:"submit",style:{backgroundColor:z.primary.teal},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:"Search"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(b=>u.jsx("button",{onClick:()=>V(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700 transition-colors",children:b},b))})]})]}),u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx(fx,{className:"w-4 h-4",style:{color:z.primary.teal}}),u.jsx("span",{className:"text-sm font-medium text-gray-700",children:o?`${o.city}, ${o.country}`:r})]}),m&&u.jsx("div",{className:"text-center py-8",children:u.jsx("div",{className:"text-gray-500 text-sm",children:"Loading weather..."})}),v&&!m&&u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"text-red-500 text-sm",children:v}),u.jsx("button",{onClick:()=>O(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Try again"})]}),o&&!m&&!v&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),u.jsx("div",{className:"text-sm text-gray-600 mt-1",children:w(o.weatherCode)})]}),u.jsx("div",{children:T(o.weatherCode)})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(gx,{className:"w-4 h-4 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),u.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(lh,{className:"w-4 h-4 text-gray-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),u.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),u.jsx("div",{className:"space-y-2",children:h.map((b,N)=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"scale-75",children:T(b.weatherCode)}),u.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),u.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},N))})]})]})]})},g_=({showBackButton:t=!1,title:e="",subtitle:n="",showLogout:r=!0})=>{const a=Wo(),i=na(),{language:s}=ls(),o=lm[s],c=async()=>{try{await nU(p_),a("/login")}catch(v){console.error("Error logging out:",v)}},h=()=>{a("/admin")},d=i.pathname==="/admin",m=i.pathname==="/gift-cards",p=i.pathname.includes("/register/");return u.jsx("div",{className:"bg-white shadow",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t&&u.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:o.backToDashboard,children:u.jsx(hx,{className:"w-6 h-6"})}),u.jsx("div",{className:"hidden sm:block",children:u.jsx(TE,{size:"md"})}),u.jsx("div",{className:"sm:hidden",children:u.jsx(TE,{size:"xs"})}),u.jsx("div",{className:"min-w-0 flex-1",children:d?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ez,{compact:!0}),u.jsx("p",{className:"hidden sm:block text-sm text-gray-500",children:o.IVRITours})]})}):e?u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:e}),n&&u.jsx("p",{className:"hidden sm:block text-sm text-gray-600",children:n})]}):u.jsxs(u.Fragment,{children:[u.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:o.IVRITours}),u.jsx("p",{className:"hidden sm:block text-sm text-gray-500 mt-1",children:o.tripManagement})]})})]}),u.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[u.jsx(wz,{}),!p&&u.jsxs(u.Fragment,{children:[d&&u.jsxs("button",{onClick:()=>a("/gift-cards"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:z.primary.teal},title:"Gift Cards",children:[u.jsx(Br,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Gift Cards"})]}),m&&u.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:z.primary.teal},title:"Dashboard",children:[u.jsx(hx,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]}),r&&!p&&u.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:o.logout,children:[u.jsx(aM,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:o.logout})]})]})]})})})},Tz=()=>{const{language:t}=ls(),e=lm[t],[n,r]=I.useState(new Date),[a,i]=I.useState([]),[s,o]=I.useState(!1),[c,h]=I.useState(null),[d,m]=I.useState(!1),[p,v]=I.useState("upcoming"),[S,A]=I.useState("all"),[R,y]=I.useState(null),[_,E]=I.useState(null),[O,V]=I.useState(null);I.useEffect(()=>{H()},[n,p]);const H=async()=>{m(!0);try{const G=await fz();i(G)}catch(G){console.error("Error loading trips:",G)}finally{m(!1)}},T=async G=>{try{await dz(G),o(!1),H()}catch(re){console.error("Error creating trip:",re)}},w=G=>{const re=`${window.location.origin}/PlanYourTripNow/register/${G}`;navigator.clipboard.writeText(re),h(G),setTimeout(()=>h(null),2e3)},b=async G=>{if(confirm(e.deleteConfirm)){y(G);try{await pz(G),H()}catch(re){console.error("Error deleting trip:",re),alert(e.failedToDelete)}finally{y(null)}}},N=async(G,re)=>{try{await mz(G,re),E(null),H()}catch(j){console.error("Error updating trip:",j),alert(e.failedToUpdate)}},k=(()=>{const G=new Date;G.setHours(0,0,0,0);let re=a;return p==="upcoming"?re=a.filter(j=>{var q,W;const U=((W=(q=j.date)==null?void 0:q.toDate)==null?void 0:W.call(q))||new Date(j.date);return U.setHours(0,0,0,0),U>=G}):p==="past"&&(re=a.filter(j=>{var q,W;const U=((W=(q=j.date)==null?void 0:q.toDate)==null?void 0:W.call(q))||new Date(j.date);return U.setHours(0,0,0,0),U<G})),S!=="all"&&(re=re.filter(j=>(j.status||"planned")===S)),re})(),C=G=>{switch(G||"planned"){case"planned":return{bg:"#FEF3C7",text:"#92400E",label:"Planned"};case"scheduled":return{bg:"#E9D5FF",text:"#6B21A8",label:"Scheduled"};case"done":return{bg:"#D1FAE5",text:"#065F46",label:"Done"};default:return{bg:"#FEF3C7",text:"#92400E",label:"Planned"}}};return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx(g_,{}),u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"flex justify-between items-start gap-4",children:u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm text-gray-600 mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==="all"?e.allTrips:p==="upcoming"?e.currentTrips:e.oldTrips})]})}),u.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[u.jsxs("button",{onClick:()=>v("all"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="all"?{backgroundColor:z.primary.teal}:{},title:e.showAllTrips,children:[u.jsx(ji,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:e.allTrips}),u.jsx("span",{className:"sm:hidden",children:"All"})]}),u.jsxs("button",{onClick:()=>v("upcoming"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="upcoming"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="upcoming"?{backgroundColor:z.primary.teal}:{},title:e.showCurrentTrips,children:[u.jsx(ji,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:e.currentTrips}),u.jsx("span",{className:"sm:hidden",children:"Upcoming"})]}),u.jsxs("button",{onClick:()=>v("past"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="past"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="past"?{backgroundColor:z.primary.teal}:{},title:e.showOldTrips,children:[u.jsx(E4,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"hidden sm:inline",children:e.oldTrips}),u.jsx("span",{className:"sm:hidden",children:"Past"})]})]}),u.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[u.jsxs("button",{onClick:()=>A("all"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="all"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="all"?{backgroundColor:z.primary.teal}:{backgroundColor:z.primary.teal,opacity:.3},title:"Show all statuses",children:[u.jsx(ji,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"sm:hidden",children:"A"}),u.jsx("span",{className:"hidden sm:inline",children:"All Status"})]}),u.jsxs("button",{onClick:()=>A("planned"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="planned"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="planned"?{backgroundColor:"#92400E"}:{backgroundColor:"#FEF3C7",color:"#92400E"},title:"Show planned trips",children:[u.jsx(h2,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"sm:hidden",children:"P"}),u.jsx("span",{className:"hidden sm:inline",children:"Planned"})]}),u.jsxs("button",{onClick:()=>A("scheduled"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="scheduled"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="scheduled"?{backgroundColor:"#6B21A8"}:{backgroundColor:"#E9D5FF",color:"#6B21A8"},title:"Show scheduled trips",children:[u.jsx(ji,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"sm:hidden",children:"S"}),u.jsx("span",{className:"hidden sm:inline",children:"Scheduled"})]}),u.jsxs("button",{onClick:()=>A("done"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${S==="done"?"text-white":"text-gray-700 hover:opacity-100"}`,style:S==="done"?{backgroundColor:"#065F46"}:{backgroundColor:"#D1FAE5",color:"#065F46"},title:"Show completed trips",children:[u.jsx(Zs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),u.jsx("span",{className:"sm:hidden",children:"D"}),u.jsx("span",{className:"hidden sm:inline",children:"Done"})]})]})]}),u.jsxs("button",{onClick:()=>o(!0),style:{backgroundColor:z.primary.teal},className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm sm:text-base whitespace-nowrap",title:e.createNewTrip,children:[u.jsx(f2,{className:"w-4 h-4 sm:w-5 sm:h-5"}),u.jsx("span",{className:"hidden sm:inline",children:e.createTrip}),u.jsx("span",{className:"sm:hidden",children:"New"})]})]}),d?u.jsx("div",{className:"text-center py-12",children:u.jsx("div",{className:"text-gray-500",children:e.loadingTrips})}):k.length===0?u.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[u.jsxs("p",{className:"text-gray-500",children:[p==="upcoming"&&e.noUpcomingTrips,p==="past"&&e.noPastTrips,p==="all"&&"No trips found"]}),u.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstTrip})]}):u.jsx("div",{className:"space-y-3",children:k.map(G=>{var re,j;return u.jsx("div",{onClick:()=>V(G.id),className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:G.title}),u.jsx("span",{className:"px-2 py-1 rounded-full text-[10px] sm:text-xs font-semibold",style:{backgroundColor:C(G.status).bg,color:C(G.status).text},children:C(G.status).label})]}),u.jsxs("p",{className:"text-[10px] sm:text-sm text-gray-600 mt-1",children:[((j=(re=G.date)==null?void 0:re.toDate)==null?void 0:j.call(re).toLocaleDateString())||new Date(G.date).toLocaleDateString()," - ",G.vehicleLayout==="sprinter_15"?e.mercedesSprinterBlack:G.vehicleLayout==="bus_30"?e.mercedesSprinterWhite:G.vehicleLayout==="highlander_7"?e.toyotaHighlander:G.vehicleLayout]}),G.driverName&&u.jsxs("p",{className:"text-[10px] sm:text-sm mt-1",style:{color:"#00BCD4"},children:[e.driver,": ",G.driverName]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",onClick:U=>U.stopPropagation(),children:[G.whatsappGroupLink&&u.jsxs("a",{href:G.whatsappGroupLink,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#25D366"},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.joinWhatsappGroup,children:[u.jsx(d2,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:e.whatsapp})]}),u.jsx("button",{onClick:()=>w(G.id),className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:c===G.id?z.success:z.primary.teal},title:c===G.id?e.linkCopied:e.shareTripLink,children:c===G.id?u.jsxs(u.Fragment,{children:[u.jsx(Sf,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:e.copied})]}):u.jsxs(u.Fragment,{children:[u.jsx(K0,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:e.share})]})}),u.jsxs("button",{onClick:()=>E(G),style:{backgroundColor:z.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.editTrip,children:[u.jsx(yM,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:e.edit})]}),u.jsxs("button",{onClick:()=>b(G.id),disabled:R===G.id,style:{backgroundColor:z.button.danger},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteTrip,children:[u.jsx(X0,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden sm:inline",children:R===G.id?e.deleting:e.delete})]})]})]})},G.id)})})]}),u.jsx("div",{className:"lg:col-span-1",children:u.jsx("div",{className:"space-y-4 sticky top-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.calendar}),u.jsx(i3,{onChange:G=>{r(G),v("date")},value:n,className:"border-0 w-full",tileClassName:({date:G,view:re})=>{if(re==="month"){const j=a.filter(U=>{var W,L;const q=((L=(W=U.date)==null?void 0:W.toDate)==null?void 0:L.call(W))||new Date(U.date);return q.getFullYear()===G.getFullYear()&&q.getMonth()===G.getMonth()&&q.getDate()===G.getDate()});if(j.length>0)return j.length===1?"has-one-trip":j.length===2?"has-two-trips":"has-many-trips"}return null}}),u.jsx("style",{children:`
                  .has-one-trip {
                    background-color: #b2ebf2 !important;
                    color: #006064 !important;
                    font-weight: 600;
                  }
                  .has-one-trip:hover {
                    background-color: #80deea !important;
                  }
                  .has-two-trips {
                    background-color: #4dd0e1 !important;
                    color: #004d56 !important;
                    font-weight: 700;
                  }
                  .has-two-trips:hover {
                    background-color: #26c6da !important;
                  }
                  .has-many-trips {
                    background-color: #00bcd4 !important;
                    color: white !important;
                    font-weight: 800;
                  }
                  .has-many-trips:hover {
                    background-color: #00acc1 !important;
                  }
                `})]})})})]})}),s&&u.jsx(vz,{selectedDate:n,onClose:()=>o(!1),onCreate:T}),_&&u.jsx(_z,{trip:_,onClose:()=>E(null),onUpdate:N}),O&&u.jsx(xz,{tripId:O,onClose:()=>V(null)})]})};function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(null,arguments)}function Sz(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Az(t,e){if(t==null)return{};var n,r,a=Sz(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function Nz(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function Cz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jy(t,e){return jy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jy(t,e)}function Rz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jy(t,e)}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tf(t)}function qR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qR=function(){return!!t})()}function Iz(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oz(t,e){if(e&&(ky(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Iz(t)}function Dz(t){var e=qR();return function(){var n,r=tf(t);if(e){var a=tf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oz(this,n)}}var HR={exports:{}},kz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jz=kz,Mz=jz;function GR(){}function YR(){}YR.resetWarningCache=GR;var Pz=function(){function t(r,a,i,s,o,c){if(c!==Mz){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YR,resetWarningCache:GR};return n.PropTypes=n,n};HR.exports=Pz();var WR=HR.exports;const sn=nf(WR);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function ns(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}ns.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};ns.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};ns.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function y_(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}y_.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,a=0;a<=t;a+=1){var i=a/t,s=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var c=s-n,h=o-r;e+=Math.sqrt(c*c+h*h)}n=s,r=o}return e};y_.prototype._point=function(t,e,n,r,a){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+a*t*t*t};function Lz(t,e,n){var r,a,i,s=null,o=0;n||(n={});var c=function(){o=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,a),s||(r=a=null)};return function(){var h=Date.now();!o&&n.leading===!1&&(o=h);var d=e-(h-o);return r=this,a=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),o=h,i=t.apply(r,a),s||(r=a=null)):!s&&n.trailing!==!1&&(s=setTimeout(c,d)),i}}function Ie(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=Lz(Ie.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Ie.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(a){a.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(a))},this._handleMouseMove=function(a){n._mouseButtonDown&&n._strokeMoveUpdate(a)},this._handleMouseUp=function(a){a.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(a))},this._handleTouchStart=function(a){if(a.targetTouches.length===1){var i=a.changedTouches[0];n._strokeBegin(i)}},this._handleTouchMove=function(a){a.preventDefault();var i=a.targetTouches[0];n._strokeMoveUpdate(i)},this._handleTouchEnd=function(a){var i=a.target===n._canvas;i&&(a.preventDefault(),n._strokeEnd(a))},this.on()}Ie.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};Ie.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,a=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/a,s=n.height||this._canvas.height/a;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,i,s)},this._isEmpty=!1};Ie.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};Ie.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Ie.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Ie.prototype.isEmpty=function(){return this._isEmpty};Ie.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};Ie.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),a=this._data[this._data.length-1],i=a&&a[a.length-1],s=i&&r.distanceTo(i)<this.minDistance;if(!(i&&s)){var o=this._addPoint(r),c=o.curve,h=o.widths;c&&h&&this._drawCurve(c,h.start,h.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};Ie.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],a=r[r.length-1];n.equals(a)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};Ie.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Ie.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Ie.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Ie.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new ns(t-r.left,e-r.top,n||new Date().getTime())};Ie.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var a=n.c1,i=new y_(e[1],r,a,e[2]),s=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:s}}return{}};Ie.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,a=t.y-e.y,i=e.x-n.x,s=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+n.x)/2,y:(e.y+n.y)/2},h=Math.sqrt(r*r+a*a),d=Math.sqrt(i*i+s*s),m=o.x-c.x,p=o.y-c.y,v=d/(h+d),S={x:c.x+m*v,y:c.y+p*v},A=e.x-S.x,R=e.y-S.y;return{c1:new ns(o.x+A,o.y+R),c2:new ns(c.x+A,c.y+R)}};Ie.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},a=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a);return r.start=this._lastWidth,r.end=i,this._lastVelocity=a,this._lastWidth=i,r};Ie.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};Ie.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};Ie.prototype._drawCurve=function(t,e,n){var r=this._ctx,a=n-e,i=Math.floor(t.length());r.beginPath();for(var s=0;s<i;s+=1){var o=s/i,c=o*o,h=c*o,d=1-o,m=d*d,p=m*d,v=p*t.startPoint.x;v+=3*m*o*t.control1.x,v+=3*d*c*t.control2.x,v+=h*t.endPoint.x;var S=p*t.startPoint.y;S+=3*m*o*t.control1.y,S+=3*d*c*t.control2.y,S+=h*t.endPoint.y;var A=e+h*a;this._drawPoint(v,S,A)}r.closePath(),r.fill()};Ie.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};Ie.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var a=t[r];if(a.length>1)for(var i=0;i<a.length;i+=1){var s=a[i],o=new ns(s.x,s.y,s.time),c=s.color;if(i===0)this.penColor=c,this._reset(),this._addPoint(o);else if(i!==a.length-1){var h=this._addPoint(o),d=h.curve,m=h.widths;d&&m&&e(d,m,c)}}else{this._reset();var p=a[0];n(p)}}};Ie.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),a=0,i=0,s=n.width/r,o=n.height/r,c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttributeNS(null,"width",n.width),c.setAttributeNS(null,"height",n.height),this._fromData(e,function(y,_,E){var O=document.createElement("path");if(!isNaN(y.control1.x)&&!isNaN(y.control1.y)&&!isNaN(y.control2.x)&&!isNaN(y.control2.y)){var V="M "+y.startPoint.x.toFixed(3)+","+y.startPoint.y.toFixed(3)+" "+("C "+y.control1.x.toFixed(3)+","+y.control1.y.toFixed(3)+" ")+(y.control2.x.toFixed(3)+","+y.control2.y.toFixed(3)+" ")+(y.endPoint.x.toFixed(3)+","+y.endPoint.y.toFixed(3));O.setAttribute("d",V),O.setAttribute("stroke-width",(_.end*2.25).toFixed(3)),O.setAttribute("stroke",E),O.setAttribute("fill","none"),O.setAttribute("stroke-linecap","round"),c.appendChild(O)}},function(y){var _=document.createElement("circle"),E=typeof t.dotSize=="function"?t.dotSize():t.dotSize;_.setAttribute("r",E),_.setAttribute("cx",y.x),_.setAttribute("cy",y.y),_.setAttribute("fill",y.color),c.appendChild(_)});var h="data:image/svg+xml;base64,",d='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+a+" "+i+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",m=c.innerHTML;if(m===void 0){var p=document.createElement("dummy"),v=c.childNodes;p.innerHTML="";for(var S=0;S<v.length;S+=1)p.appendChild(v[S].cloneNode(!0));m=p.innerHTML}var A="</svg>",R=d+m+A;return h+btoa(R)};Ie.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};Ie.prototype.toData=function(){return this._data};var KR={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(zI,function(){return function(n){function r(i){if(a[i])return a[i].exports;var s=a[i]={exports:{},id:i,loaded:!1};return n[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var a={};return r.m=n,r.c=a,r.p="",r(0)}([function(n,r){function a(h){var d=h.getContext("2d"),m=h.width,p=h.height,v=d.getImageData(0,0,m,p).data,S=o(!0,m,p,v),A=o(!1,m,p,v),R=c(!0,m,p,v),y=c(!1,m,p,v),_=y-R+1,E=A-S+1,O=d.getImageData(R,S,_,E);return h.width=_,h.height=E,d.clearRect(0,0,_,E),d.putImageData(O,0,0),h}function i(h,d,m,p){return{red:p[4*(m*d+h)],green:p[4*(m*d+h)+1],blue:p[4*(m*d+h)+2],alpha:p[4*(m*d+h)+3]}}function s(h,d,m,p){return i(h,d,m,p).alpha}function o(h,d,m,p){for(var v=h?1:-1,S=h?0:m-1,A=S;h?A<m:A>-1;A+=v)for(var R=0;R<d;R++)if(s(R,A,d,p))return A;return null}function c(h,d,m,p){for(var v=h?1:-1,S=h?0:d-1,A=S;h?A<d:A>-1;A+=v)for(var R=0;R<m;R++)if(s(A,R,d,p))return A;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=a}])})})(KR);var Vz=KR.exports;const Uz=nf(Vz);var zz=["canvasProps","clearOnResize"],cm=function(t){Rz(n,t);var e=Dz(n);function n(){var r;Cz(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var c=Az(o,zz);return c},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new Ie(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),c=document.createElement("canvas");return c.width=o.width,c.height=o.height,c.getContext("2d").drawImage(o,0,0),Uz(c)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,c,h=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},d=h.width,m=h.height;if(!(typeof d<"u"&&typeof m<"u")){var p=r.getCanvas(),v=Math.max((c=window.devicePixelRatio)!==null&&c!==void 0?c:1,1);typeof d>"u"&&(p.width=p.offsetWidth*v),typeof m>"u"&&(p.height=p.offsetHeight*v),p.getContext("2d").scale(v,v),r.clear()}},r.render=function(){var o=r.props.canvasProps;return iO.createElement("canvas",Dy({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,c){return r.getSignaturePad().fromDataURL(o,c)},r.toDataURL=function(o,c){return r.getSignaturePad().toDataURL(o,c)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return Nz(n)}(I.Component);cm.propTypes={velocityFilterWeight:sn.number,minWidth:sn.number,maxWidth:sn.number,minDistance:sn.number,dotSize:sn.oneOfType([sn.number,sn.func]),penColor:sn.string,throttle:sn.number,onEnd:sn.func,onBegin:sn.func,canvasProps:sn.object,clearOnResize:sn.bool};cm.defaultProps={clearOnResize:!0};cm.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const Bz=`CANCELLATION POLICY

1. Cancellations made 30 days or more before the trip date will receive a full refund.
2. Cancellations made 15-29 days before the trip date will receive a 50% refund.
3. Cancellations made less than 15 days before the trip date are non-refundable.
4. No-shows on the trip date are non-refundable.
5. Trip organizers reserve the right to cancel trips due to weather, safety concerns, or insufficient participation, in which case full refunds will be provided.`,Fz=`WAIVER OF LIABILITY AND ASSUMPTION OF RISK

I, the undersigned, hereby acknowledge that I am voluntarily participating in this trip and related activities. I understand that such participation involves inherent risks, including but not limited to personal injury, property damage, or death.

In consideration of being permitted to participate in this trip, I hereby:

1. WAIVE, RELEASE, AND DISCHARGE the trip organizers, their officers, employees, and agents from any and all liability for any loss, damage, injury, or death that may occur during my participation.

2. ASSUME ALL RISKS associated with participation in this trip, whether known or unknown.

3. AGREE TO INDEMNIFY AND HOLD HARMLESS the trip organizers from any claims, actions, or losses arising from my participation.

4. CONSENT to receive emergency medical treatment if necessary.

I have read this waiver, fully understand its terms, and sign it freely and voluntarily.`,$z=()=>{var G,re;const{tripId:t}=e2();Wo();const e=I.useRef(null),{language:n}=ls(),[r,a]=I.useState(null),[i,s]=I.useState([]),[o,c]=I.useState(!0),[h,d]=I.useState(!1),[m,p]=I.useState(!1),[v,S]=I.useState(1),[A,R]=I.useState([]),[y,_]=I.useState([{firstName:"",lastName:"",email:"",phone:"",seatNumber:null}]),[E,O]=I.useState("on-trip"),[V,H]=I.useState(!1),[T,w]=I.useState({cancellationPolicy:!1,waiver:!1}),[b,N]=I.useState({});I.useEffect(()=>{D()},[t]),I.useEffect(()=>{const j=Array.from({length:v},(U,q)=>y[q]||{firstName:"",lastName:"",email:"",phone:"",seatNumber:null});_(j),R(j.map(U=>U.seatNumber).filter(Boolean))},[v]);const D=async()=>{try{console.log("Loading trip with ID:",t);const[j,U]=await Promise.all([zR(t),gz(t)]);console.log("Trip data loaded:",j),console.log("Registrations loaded:",U),a(j),s(U)}catch(j){console.error("Error loading trip data:",j),alert("Error loading trip: "+j.message)}finally{c(!1)}},k=()=>{var U;const j={};return y.forEach((q,W)=>{q.firstName.trim()||(j[`passenger${W}FirstName`]="First name is required"),q.lastName.trim()||(j[`passenger${W}LastName`]="Last name is required"),q.email.trim()?/\S+@\S+\.\S+/.test(q.email)||(j[`passenger${W}Email`]="Email is invalid"):j[`passenger${W}Email`]="Email is required",q.phone.trim()||(j[`passenger${W}Phone`]="Phone number is required"),q.seatNumber||(j[`passenger${W}Seat`]="Please select a seat")}),T.cancellationPolicy||(j.cancellationPolicy="You must agree to the cancellation policy"),T.waiver||(j.waiver="You must sign the waiver"),(U=e.current)!=null&&U.isEmpty()&&(j.signature="Signature is required"),N(j),Object.keys(j).length===0},C=async j=>{if(j.preventDefault(),!!k()){d(!0);try{const U=e.current.toDataURL();for(const q of y)await BR({tripId:t,firstName:q.firstName,lastName:q.lastName,email:q.email,phone:q.phone,seatNumber:q.seatNumber,paymentMethod:E,paid:!1,signatureData:U,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,adminEmail:"barpupco@gmail.com",registrationDate:new Date().toISOString()});p(!0)}catch(U){console.error("Error submitting registration:",U),N({submit:"Failed to submit registration. Please try again."})}finally{d(!1)}}};return o?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-lg",children:"Loading trip information..."})}):r?m?u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[u.jsx(Zs,{className:"w-16 h-16 mx-auto mb-4",style:{color:z.success}}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),u.jsxs("p",{className:"text-gray-600 mb-4",children:["Thank you for registering for ",u.jsx("span",{className:"font-semibold",children:r.title}),"."]}),u.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),u.jsxs("div",{className:"text-left",children:[u.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Confirmation Email Sent!"}),u.jsx("p",{className:"text-xs text-blue-700",children:"A confirmation email with your trip details and signed waiver has been sent to:"}),u.jsx("p",{className:"text-sm font-semibold text-blue-900 mt-1",children:y[0].email}),y.length>1&&u.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Each passenger will receive their own confirmation email."})]})]})}),u.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E0F7FA"},children:[u.jsx("p",{className:"font-semibold mb-2",style:{color:z.primary.teal},children:y.length===1?"Your Seat:":"Your Seats:"}),u.jsx("p",{className:"text-lg font-bold",children:y.map(j=>`#${j.seatNumber}`).join(", ")})]}),u.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[u.jsx("p",{children:"Please check your email inbox and spam folder."}),u.jsx("p",{className:"mt-2",children:"If you don't receive the email within 10 minutes, please contact support."})]})]})}):u.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:[u.jsx(g_,{showLogout:!1,title:r.title,subtitle:(G=r.date)==null?void 0:G.toDate().toLocaleDateString(n==="ru"?"ru-RU":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),u.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:u.jsxs("form",{onSubmit:C,className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Number of Seats"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many seats do you need? *"}),u.jsx("select",{value:v,onChange:j=>S(parseInt(j.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(j=>u.jsxs("option",{value:j,children:[j," ",j===1?"seat":"seats"]},j))})]})]}),y.map((j,U)=>u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Passenger ",U+1," Information"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),u.jsx("input",{type:"text",value:j.firstName,onChange:q=>{const W=[...y];W[U].firstName=q.target.value,_(W)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}FirstName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}FirstName`]&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}FirstName`]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),u.jsx("input",{type:"text",value:j.lastName,onChange:q=>{const W=[...y];W[U].lastName=q.target.value,_(W)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}LastName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}LastName`]&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}LastName`]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),u.jsx("input",{type:"email",value:U===0||!V?j.email:y[0].email,onChange:q=>{const W=[...y];W[U].email=q.target.value,_(W),U===0&&V&&(W.forEach((L,X)=>{X>0&&(L.email=q.target.value)}),_(W))},disabled:U>0&&V,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Email`]?"border-red-500":"border-gray-300"} ${U>0&&V?"bg-gray-100":""}`}),b[`passenger${U}Email`]&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Email`]}),U===0&&v>1&&u.jsxs("label",{className:"flex items-center mt-2 text-sm text-gray-600",children:[u.jsx("input",{type:"checkbox",checked:V,onChange:q=>{if(H(q.target.checked),q.target.checked){const W=[...y],L=y[0].email;W.forEach((X,Oe)=>{Oe>0&&(X.email=L)}),_(W)}},className:"mr-2",style:{accentColor:z.primary.teal}}),"Use this email for all passengers"]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),u.jsx("input",{type:"tel",value:j.phone,onChange:q=>{const W=[...y];W[U].phone=q.target.value,_(W)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Phone`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}Phone`]&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Phone`]})]})]})]},U)),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Method"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:E==="card"?z.primary.teal:"#D1D5DB"},children:[u.jsx("input",{type:"radio",value:"card",checked:E==="card",onChange:j=>O(j.target.value),className:"mr-3",style:{accentColor:z.primary.teal}}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),u.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),u.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:E==="on-trip"?z.primary.teal:"#D1D5DB"},children:[u.jsx("input",{type:"radio",value:"on-trip",checked:E==="on-trip",onChange:j=>O(j.target.value),className:"mr-3",style:{accentColor:z.primary.teal}}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),u.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Seats to Passengers *"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a seat for each passenger from the dropdown below."}),y.map((j,U)=>{const q=r.vehicleLayout,W=q==="sprinter_15"?14:q==="bus_30"?11:7;return u.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Seat for Passenger ",U+1,": ",j.firstName||"(Not entered)"," ",j.lastName||""," *"]}),u.jsxs("select",{value:j.seatNumber||"",onChange:L=>{const X=[...y];X[U].seatNumber=L.target.value?parseInt(L.target.value):null,_(X)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Seat`]?"border-red-500":"border-gray-300"}`,children:[u.jsx("option",{value:"",children:"Select a seat"}),Array.from({length:W},(L,X)=>X+1).map(L=>{const X=i.some(Se=>Se.seatNumber===L),Oe=y.some((Se,Ht)=>Ht!==U&&Se.seatNumber===L),we=X||Oe;return u.jsxs("option",{value:L,disabled:we,children:["Seat #",L," ",X?"(Occupied)":Oe?"(Selected for another passenger)":""]},L)})]}),b[`passenger${U}Seat`]&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Seat`]})]},U)}),u.jsxs("div",{className:"mt-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seating Map - Click to Select Seats"}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tap on available (gray) seats to assign them to your passengers"}),y.some(j=>!j.seatNumber)&&u.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:u.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: Select seat for Passenger ",y.findIndex(j=>!j.seatNumber)+1,((re=y[y.findIndex(j=>!j.seatNumber)])==null?void 0:re.firstName)&&` (${y[y.findIndex(j=>!j.seatNumber)].firstName})`]})}),u.jsx($R,{vehicleType:r.vehicleLayout,registrations:i,driverName:r.driverName,selectedSeat:null,onSeatClick:j=>{const U=y.findIndex(q=>!q.seatNumber);if(U!==-1){const q=[...y];q[U].seatNumber=j,_(q)}},reservedSeats:y.map(j=>j.seatNumber).filter(Boolean)}),y.some(j=>j.seatNumber)&&u.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Seats:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((j,U)=>j.seatNumber&&u.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded-full text-sm",children:[u.jsxs("span",{className:"font-semibold",children:["#",j.seatNumber]}),u.jsx("span",{className:"text-gray-600",children:j.firstName||`Passenger ${U+1}`}),u.jsx("button",{type:"button",onClick:()=>{const q=[...y];q[U].seatNumber=null,_(q)},className:"text-red-500 hover:text-red-700",children:""})]},U))})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation Policy"}),u.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto mb-4",children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:Bz})}),u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:T.cancellationPolicy,onChange:j=>w({...T,cancellationPolicy:j.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the cancellation policy *"})]}),b.cancellationPolicy&&u.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.cancellationPolicy})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Waiver of Liability"}),u.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto mb-4",children:u.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:Fz})}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digital Signature *"}),u.jsx("div",{className:`border-2 rounded-lg ${b.signature?"border-red-500":"border-gray-300"}`,children:u.jsx(cm,{ref:e,canvasProps:{className:"w-full h-40 bg-white rounded-lg"}})}),u.jsx("button",{type:"button",onClick:()=>{var j;return(j=e.current)==null?void 0:j.clear()},className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Clear Signature"}),b.signature&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.signature})]}),u.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:T.waiver,onChange:j=>w({...T,waiver:j.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),u.jsx("span",{className:"text-sm text-gray-700",children:"I have read, understand, and agree to the waiver of liability *"})]}),b.waiver&&u.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.waiver})]}),b.submit&&u.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:b.submit}),u.jsx("button",{type:"submit",disabled:h,style:{backgroundColor:z.primary.teal},className:"w-full text-white py-4 rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Submitting...":"Complete Registration"})]})})]}):u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx(j4,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),u.jsx("p",{className:"text-gray-600 mb-4",children:"This trip link may be invalid or expired."}),u.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[u.jsxs("p",{className:"text-sm text-gray-700",children:[u.jsx("strong",{children:"Trip ID:"})," ",t]}),u.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If you believe this is an error, please contact the trip organizer."})]})]})})},qz=()=>{const[t,e]=I.useState(""),[n,r]=I.useState(""),[a,i]=I.useState(""),[s,o]=I.useState(!1),c=Wo(),h=async d=>{d.preventDefault(),i(""),o(!0);try{await J9(p_,t,n),c("/admin")}catch(m){i("Invalid email or password"),console.error(m)}finally{o(!1)}};return u.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:z.gradient.primary},children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[u.jsx("div",{className:"flex items-center justify-center mb-8",children:u.jsx(nM,{className:"w-12 h-12",style:{color:z.primary.teal}})}),u.jsx("h1",{className:"text-3xl font-bold text-center mb-8",style:{color:z.primary.black},children:"Admin Login"}),u.jsxs("form",{onSubmit:h,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),u.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),a&&u.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:a}),u.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:z.primary.teal},className:"w-full text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]})]})})};var v_={},um={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});function Hz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Gz=function t(e,n){Hz(this,t),this.data=e,this.text=n.text||e,this.options=n};qt.default=Gz;Object.defineProperty(um,"__esModule",{value:!0});um.CODE39=void 0;var Yz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Wz=qt,Kz=Qz(Wz);function Qz(t){return t&&t.__esModule?t:{default:t}}function Xz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eB=function(t){Zz(e,t);function e(n,r){return Xz(this,e),n=n.toUpperCase(),r.mod43&&(n+=rB(aB(n))),Jz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Yz(e,[{key:"encode",value:function(){for(var r=zp("*"),a=0;a<this.data.length;a++)r+=zp(this.data[a])+"0";return r+=zp("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(Kz.default),QR=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],tB=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function zp(t){return nB(XR(t))}function nB(t){return tB[t].toString(2)}function rB(t){return QR[t]}function XR(t){return QR.indexOf(t)}function aB(t){for(var e=0,n=0;n<t.length;n++)e+=XR(t[n]);return e=e%43,e}um.CODE39=eB;var cr={},__={},al={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});var Bl;function Bp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var JR=ze.SET_A=0,ZR=ze.SET_B=1,eI=ze.SET_C=2;ze.SHIFT=98;var iB=ze.START_A=103,sB=ze.START_B=104,oB=ze.START_C=105;ze.MODULO=103;ze.STOP=106;ze.FNC1=207;ze.SET_BY_CODE=(Bl={},Bp(Bl,iB,JR),Bp(Bl,sB,ZR),Bp(Bl,oB,eI),Bl);ze.SWAP={101:JR,100:ZR,99:eI};ze.A_START_CHAR="";ze.B_START_CHAR="";ze.C_START_CHAR="";ze.A_CHARS="[\0-_-]";ze.B_CHARS="[ --]";ze.C_CHARS="(*[0-9]{2}*)";ze.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(al,"__esModule",{value:!0});var lB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),cB=qt,uB=hB(cB),on=ze;function hB(t){return t&&t.__esModule?t:{default:t}}function dB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function mB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pB=function(t){mB(e,t);function e(n,r){dB(this,e);var a=fB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return a.bytes=n.split("").map(function(i){return i.charCodeAt(0)}),a}return lB(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,a=r.shift()-105,i=on.SET_BY_CODE[a];if(i===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(on.FNC1);var s=e.next(r,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(a)+s.result+e.getBar((s.checksum+a)%on.MODULO)+e.getBar(on.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return on.BARS[r]?on.BARS[r].toString():""}},{key:"correctIndex",value:function(r,a){if(a===on.SET_A){var i=r.shift();return i<32?i+64:i-32}else return a===on.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,a,i){if(!r.length)return{result:"",checksum:0};var s=void 0,o=void 0;if(r[0]>=200){o=r.shift()-105;var c=on.SWAP[o];c!==void 0?s=e.next(r,a+1,c):((i===on.SET_A||i===on.SET_B)&&o===on.SHIFT&&(r[0]=i===on.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,a+1,i))}else o=e.correctIndex(r,i),s=e.next(r,a+1,i);var h=e.getBar(o),d=o*a;return{result:h+s.result,checksum:d+s.checksum}}}]),e}(uB.default);al.default=pB;var b_={};Object.defineProperty(b_,"__esModule",{value:!0});var Ga=ze,tI=function(e){return e.match(new RegExp("^"+Ga.A_CHARS+"*"))[0].length},nI=function(e){return e.match(new RegExp("^"+Ga.B_CHARS+"*"))[0].length},rI=function(e){return e.match(new RegExp("^"+Ga.C_CHARS+"*"))[0]};function x_(t,e){var n=e?Ga.A_CHARS:Ga.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+aI(t.substring(r[1].length));var a=t.match(new RegExp("^"+n+"+"))[0];return a.length===t.length?t:a+String.fromCharCode(e?205:206)+x_(t.substring(a.length),!e)}function aI(t){var e=rI(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=tI(t)>=nI(t);return e+String.fromCharCode(r?206:205)+x_(t,r)}b_.default=function(t){var e=void 0,n=rI(t).length;if(n>=2)e=Ga.C_START_CHAR+aI(t);else{var r=tI(t)>nI(t);e=(r?Ga.A_START_CHAR:Ga.B_START_CHAR)+x_(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,i){return""+i})};Object.defineProperty(__,"__esModule",{value:!0});var gB=al,yB=iI(gB),vB=b_,_B=iI(vB);function iI(t){return t&&t.__esModule?t:{default:t}}function bB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wB=function(t){xB(e,t);function e(n,r){if(bB(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=Fp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,_B.default)(n),r));else var a=Fp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Fp(a)}return e}(yB.default);__.default=wB;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});var EB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),TB=al,SB=AB(TB),SE=ze;function AB(t){return t&&t.__esModule?t:{default:t}}function NB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function RB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IB=function(t){RB(e,t);function e(n,r){return NB(this,e),CB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,SE.A_START_CHAR+n,r))}return EB(e,[{key:"valid",value:function(){return new RegExp("^"+SE.A_CHARS+"+$").test(this.data)}}]),e}(SB.default);w_.default=IB;var E_={};Object.defineProperty(E_,"__esModule",{value:!0});var OB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),DB=al,kB=jB(DB),AE=ze;function jB(t){return t&&t.__esModule?t:{default:t}}function MB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function LB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var VB=function(t){LB(e,t);function e(n,r){return MB(this,e),PB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,AE.B_START_CHAR+n,r))}return OB(e,[{key:"valid",value:function(){return new RegExp("^"+AE.B_CHARS+"+$").test(this.data)}}]),e}(kB.default);E_.default=VB;var T_={};Object.defineProperty(T_,"__esModule",{value:!0});var UB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zB=al,BB=FB(zB),NE=ze;function FB(t){return t&&t.__esModule?t:{default:t}}function $B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qB(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function HB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var GB=function(t){HB(e,t);function e(n,r){return $B(this,e),qB(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,NE.C_START_CHAR+n,r))}return UB(e,[{key:"valid",value:function(){return new RegExp("^"+NE.C_CHARS+"+$").test(this.data)}}]),e}(BB.default);T_.default=GB;Object.defineProperty(cr,"__esModule",{value:!0});cr.CODE128C=cr.CODE128B=cr.CODE128A=cr.CODE128=void 0;var YB=__,WB=hm(YB),KB=w_,QB=hm(KB),XB=E_,JB=hm(XB),ZB=T_,eF=hm(ZB);function hm(t){return t&&t.__esModule?t:{default:t}}cr.CODE128=WB.default;cr.CODE128A=QB.default;cr.CODE128B=JB.default;cr.CODE128C=eF.default;var Xt={},S_={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.SIDE_BIN="101";zn.MIDDLE_BIN="01010";zn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};zn.EAN2_STRUCTURE=["LL","LG","GL","GG"];zn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];zn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var dm={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});var tF=zn,nF=function(e,n,r){var a=e.split("").map(function(s,o){return tF.BINARIES[n[o]]}).map(function(s,o){return s?s[e[o]]:""});if(r){var i=e.length-1;a=a.map(function(s,o){return o<i?s+r:s})}return a.join("")};vs.default=nF;Object.defineProperty(dm,"__esModule",{value:!0});var rF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Is=zn,aF=vs,CE=sI(aF),iF=qt,sF=sI(iF);function sI(t){return t&&t.__esModule?t:{default:t}}function oF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uF=function(t){cF(e,t);function e(n,r){oF(this,e);var a=lF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return rF(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,a){return this.text.substr(r,a)}},{key:"leftEncode",value:function(r,a){return(0,CE.default)(r,a)}},{key:"rightText",value:function(r,a){return this.text.substr(r,a)}},{key:"rightEncode",value:function(r,a){return(0,CE.default)(r,a)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:Is.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Is.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Is.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var r=[Is.SIDE_BIN,this.leftEncode(),Is.MIDDLE_BIN,this.rightEncode(),Is.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(sF.default);dm.default=uF;Object.defineProperty(S_,"__esModule",{value:!0});var hF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Fl=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},dF=zn,fF=dm,mF=pF(fF);function pF(t){return t&&t.__esModule?t:{default:t}}function gF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var RE=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*3:r+a},0);return(10-n%10)%10},_F=function(t){vF(e,t);function e(n,r){gF(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=RE(n));var a=yF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.lastChar=r.lastChar,a}return hF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===RE(this.data)}},{key:"leftText",value:function(){return Fl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),a=dF.EAN13_STRUCTURE[this.data[0]];return Fl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,a)}},{key:"rightText",value:function(){return Fl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Fl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Fl(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(mF.default);S_.default=_F;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});var bF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_h=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},xF=dm,wF=EF(xF);function EF(t){return t&&t.__esModule?t:{default:t}}function TF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function AF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var IE=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a:r+a*3},0);return(10-n%10)%10},NF=function(t){AF(e,t);function e(n,r){return TF(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=IE(n)),SF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return bF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===IE(this.data)}},{key:"leftText",value:function(){return _h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return _h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return _h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return _h(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(wF.default);A_.default=NF;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});var CF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),RF=zn,IF=vs,OF=oI(IF),DF=qt,kF=oI(DF);function oI(t){return t&&t.__esModule?t:{default:t}}function jF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function PF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var LF=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*9:r+a*3},0);return n%10},VF=function(t){PF(e,t);function e(n,r){return jF(this,e),MF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return CF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=RF.EAN5_STRUCTURE[LF(this.data)];return{data:"1011"+(0,OF.default)(this.data,r,"01"),text:this.text}}}]),e}(kF.default);N_.default=VF;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});var UF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zF=zn,BF=vs,FF=lI(BF),$F=qt,qF=lI($F);function lI(t){return t&&t.__esModule?t:{default:t}}function HF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function YF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var WF=function(t){YF(e,t);function e(n,r){return HF(this,e),GF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return UF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=zF.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,FF.default)(this.data,r,"01"),text:this.text}}}]),e}(qF.default);C_.default=WF;var Su={};Object.defineProperty(Su,"__esModule",{value:!0});var KF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Su.checksum=My;var QF=vs,Os=cI(QF),XF=qt,JF=cI(XF);function cI(t){return t&&t.__esModule?t:{default:t}}function ZF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function t$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n$=function(t){t$(e,t);function e(n,r){ZF(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=My(n));var a=e$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return KF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==My(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Os.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Os.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Os.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Os.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Os.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Os.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(JF.default);function My(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}Su.default=n$;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});var r$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a$=vs,i$=uI(a$),s$=qt,o$=uI(s$),l$=Su;function uI(t){return t&&t.__esModule?t:{default:t}}function c$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function u$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h$=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],d$=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],f$=function(t){u$(e,t);function e(n,r){c$(this,e);var a=$p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(a.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)a.middleDigits=n,a.upcA=OE(n,"0"),a.text=r.text||""+a.upcA[0]+n+a.upcA[a.upcA.length-1],a.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=n.substring(1,n.length-1),a.upcA=OE(a.middleDigits,n[0]),a.upcA[a.upcA.length-1]===n[n.length-1])a.isValid=!0;else return $p(a);else return $p(a);return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return r$(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],a=this.upcA[this.upcA.length-1],i=d$[parseInt(a)][parseInt(r)];return(0,i$.default)(this.middleDigits,i)}}]),e}(o$.default);function OE(t,e){for(var n=parseInt(t[t.length-1]),r=h$[n],a="",i=0,s=0;s<r.length;s++){var o=r[s];o==="X"?a+=t[i++]:a+=o}return a=""+e+a,""+a+(0,l$.checksum)(a)}R_.default=f$;Object.defineProperty(Xt,"__esModule",{value:!0});Xt.UPCE=Xt.UPC=Xt.EAN2=Xt.EAN5=Xt.EAN8=Xt.EAN13=void 0;var m$=S_,p$=il(m$),g$=A_,y$=il(g$),v$=N_,_$=il(v$),b$=C_,x$=il(b$),w$=Su,E$=il(w$),T$=R_,S$=il(T$);function il(t){return t&&t.__esModule?t:{default:t}}Xt.EAN13=p$.default;Xt.EAN8=y$.default;Xt.EAN5=_$.default;Xt.EAN2=x$.default;Xt.UPC=E$.default;Xt.UPCE=S$.default;var Mo={},fm={},Au={};Object.defineProperty(Au,"__esModule",{value:!0});Au.START_BIN="1010";Au.END_BIN="11101";Au.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(fm,"__esModule",{value:!0});var A$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bh=Au,N$=qt,C$=R$(N$);function R$(t){return t&&t.__esModule?t:{default:t}}function I$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function D$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var k$=function(t){D$(e,t);function e(){return I$(this,e),O$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return A$(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,a=this.data.match(/.{2}/g).map(function(i){return r.encodePair(i)}).join("");return{data:bh.START_BIN+a+bh.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var a=bh.BINARIES[r[1]];return bh.BINARIES[r[0]].split("").map(function(i,s){return(i==="1"?"111":"1")+(a[s]==="1"?"000":"0")}).join("")}}]),e}(C$.default);fm.default=k$;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});var j$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),M$=fm,P$=L$(M$);function L$(t){return t&&t.__esModule?t:{default:t}}function V$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function z$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DE=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,a,i){return r+a*(3-i%2*2)},0);return Math.ceil(n/10)*10-n},B$=function(t){z$(e,t);function e(n,r){return V$(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=DE(n)),U$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return j$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===DE(this.data)}}]),e}(P$.default);I_.default=B$;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ITF14=Mo.ITF=void 0;var F$=fm,$$=hI(F$),q$=I_,H$=hI(q$);function hI(t){return t&&t.__esModule?t:{default:t}}Mo.ITF=$$.default;Mo.ITF14=H$.default;var Dn={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});var G$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Y$=qt,W$=K$(Y$);function K$(t){return t&&t.__esModule?t:{default:t}}function Q$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function J$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Z$=function(t){J$(e,t);function e(n,r){return Q$(this,e),X$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return G$(e,[{key:"encode",value:function(){for(var r="110",a=0;a<this.data.length;a++){var i=parseInt(this.data[a]),s=i.toString(2);s=eq(s,4-s.length);for(var o=0;o<s.length;o++)r+=s[o]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(W$.default);function eq(t,e){for(var n=0;n<e;n++)t="0"+t;return t}_s.default=Z$;var O_={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.mod10=tq;bs.mod11=nq;function tq(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function nq(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var a=parseInt(t[t.length-1-r]);e+=n[r%n.length]*a}return(11-e%11)%11}Object.defineProperty(O_,"__esModule",{value:!0});var rq=_s,aq=sq(rq),iq=bs;function sq(t){return t&&t.__esModule?t:{default:t}}function oq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var uq=function(t){cq(e,t);function e(n,r){return oq(this,e),lq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,iq.mod10)(n),r))}return e}(aq.default);O_.default=uq;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});var hq=_s,dq=mq(hq),fq=bs;function mq(t){return t&&t.__esModule?t:{default:t}}function pq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var vq=function(t){yq(e,t);function e(n,r){return pq(this,e),gq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,fq.mod11)(n),r))}return e}(dq.default);D_.default=vq;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});var _q=_s,bq=xq(_q),kE=bs;function xq(t){return t&&t.__esModule?t:{default:t}}function wq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Tq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sq=function(t){Tq(e,t);function e(n,r){return wq(this,e),n+=(0,kE.mod10)(n),n+=(0,kE.mod10)(n),Eq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(bq.default);k_.default=Sq;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});var Aq=_s,Nq=Cq(Aq),jE=bs;function Cq(t){return t&&t.__esModule?t:{default:t}}function Rq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Oq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Dq=function(t){Oq(e,t);function e(n,r){return Rq(this,e),n+=(0,jE.mod11)(n),n+=(0,jE.mod10)(n),Iq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Nq.default);j_.default=Dq;Object.defineProperty(Dn,"__esModule",{value:!0});Dn.MSI1110=Dn.MSI1010=Dn.MSI11=Dn.MSI10=Dn.MSI=void 0;var kq=_s,jq=Nu(kq),Mq=O_,Pq=Nu(Mq),Lq=D_,Vq=Nu(Lq),Uq=k_,zq=Nu(Uq),Bq=j_,Fq=Nu(Bq);function Nu(t){return t&&t.__esModule?t:{default:t}}Dn.MSI=jq.default;Dn.MSI10=Pq.default;Dn.MSI11=Vq.default;Dn.MSI1010=zq.default;Dn.MSI1110=Fq.default;var mm={};Object.defineProperty(mm,"__esModule",{value:!0});mm.pharmacode=void 0;var $q=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qq=qt,Hq=Gq(qq);function Gq(t){return t&&t.__esModule?t:{default:t}}function Yq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qq=function(t){Kq(e,t);function e(n,r){Yq(this,e);var a=Wq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.number=parseInt(n,10),a}return $q(e,[{key:"encode",value:function(){for(var r=this.number,a="";!isNaN(r)&&r!=0;)r%2===0?(a="11100"+a,r=(r-2)/2):(a="100"+a,r=(r-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(Hq.default);mm.pharmacode=Qq;var pm={};Object.defineProperty(pm,"__esModule",{value:!0});pm.codabar=void 0;var Xq=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Jq=qt,Zq=eH(Jq);function eH(t){return t&&t.__esModule?t:{default:t}}function tH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aH=function(t){rH(e,t);function e(n,r){tH(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var a=nH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return Xq(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],a=this.getEncodings(),i=0;i<this.data.length;i++)r.push(a[this.data.charAt(i)]),i!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(Zq.default);pm.codabar=aH;var Po={},gm={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Cu.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Cu.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(gm,"__esModule",{value:!0});var iH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xh=Cu,sH=qt,oH=lH(sH);function lH(t){return t&&t.__esModule?t:{default:t}}function cH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dH=function(t){hH(e,t);function e(n,r){return cH(this,e),uH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return iH(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(o){return xh.MULTI_SYMBOLS[o]||o}),a=r.map(function(o){return e.getEncoding(o)}).join(""),i=e.checksum(r,20),s=e.checksum(r.concat(i),15);return{text:this.text,data:e.getEncoding("")+a+e.getEncoding(i)+e.getEncoding(s)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return xh.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return xh.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return xh.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,a){var i=r.slice().reverse().reduce(function(s,o,c){var h=c%a+1;return s+e.symbolValue(o)*h},0);return e.getSymbol(i%47)}}]),e}(oH.default);gm.default=dH;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});var fH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),mH=gm,pH=gH(mH);function gH(t){return t&&t.__esModule?t:{default:t}}function yH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _H(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bH=function(t){_H(e,t);function e(n,r){return yH(this,e),vH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return fH(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(pH.default);M_.default=bH;Object.defineProperty(Po,"__esModule",{value:!0});Po.CODE93FullASCII=Po.CODE93=void 0;var xH=gm,wH=dI(xH),EH=M_,TH=dI(EH);function dI(t){return t&&t.__esModule?t:{default:t}}Po.CODE93=wH.default;Po.CODE93FullASCII=TH.default;var ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.GenericBarcode=void 0;var SH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),AH=qt,NH=CH(AH);function CH(t){return t&&t.__esModule?t:{default:t}}function RH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function OH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DH=function(t){OH(e,t);function e(n,r){return RH(this,e),IH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return SH(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(NH.default);ym.GenericBarcode=DH;Object.defineProperty(v_,"__esModule",{value:!0});var kH=um,wh=cr,Ds=Xt,ME=Mo,$l=Dn,jH=mm,MH=pm,PE=Po,PH=ym;v_.default={CODE39:kH.CODE39,CODE128:wh.CODE128,CODE128A:wh.CODE128A,CODE128B:wh.CODE128B,CODE128C:wh.CODE128C,EAN13:Ds.EAN13,EAN8:Ds.EAN8,EAN5:Ds.EAN5,EAN2:Ds.EAN2,UPC:Ds.UPC,UPCE:Ds.UPCE,ITF14:ME.ITF14,ITF:ME.ITF,MSI:$l.MSI,MSI10:$l.MSI10,MSI11:$l.MSI11,MSI1010:$l.MSI1010,MSI1110:$l.MSI1110,pharmacode:jH.pharmacode,codabar:MH.codabar,CODE93:PE.CODE93,CODE93FullASCII:PE.CODE93FullASCII,GenericBarcode:PH.GenericBarcode};var sl={};Object.defineProperty(sl,"__esModule",{value:!0});var LH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};sl.default=function(t,e){return LH({},t,e)};var P_={};Object.defineProperty(P_,"__esModule",{value:!0});P_.default=VH;function VH(t){var e=[];function n(r){if(Array.isArray(r))for(var a=0;a<r.length;a++)n(r[a]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.default=UH;function UH(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var V_={},U_={},vm={};Object.defineProperty(vm,"__esModule",{value:!0});vm.default=zH;function zH(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var _m={};Object.defineProperty(_m,"__esModule",{value:!0});var BH={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};_m.default=BH;Object.defineProperty(U_,"__esModule",{value:!0});var FH=vm,$H=fI(FH),qH=_m,LE=fI(qH);function fI(t){return t&&t.__esModule?t:{default:t}}function HH(t){var e={};for(var n in LE.default)LE.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,$H.default)(e),e}U_.default=HH;var z_={},B_={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.getTotalWidthOfEncodings=hn.calculateEncodingAttributes=hn.getBarcodePadding=hn.getEncodingHeight=hn.getMaximumHeightOfEncodings=void 0;var GH=sl,YH=WH(GH);function WH(t){return t&&t.__esModule?t:{default:t}}function mI(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function pI(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function KH(t,e,n){for(var r=0;r<t.length;r++){var a=t[r],i=(0,YH.default)(e,a.options),s;i.displayValue?s=JH(a.text,i,n):s=0;var o=a.data.length*i.width;a.width=Math.ceil(Math.max(s,o)),a.height=mI(a,i),a.barcodePadding=pI(s,o,i)}}function QH(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function XH(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function JH(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var a=r.measureText(t);if(!a)return 0;var i=a.width;return i}hn.getMaximumHeightOfEncodings=XH;hn.getEncodingHeight=mI;hn.getBarcodePadding=pI;hn.calculateEncodingAttributes=KH;hn.getTotalWidthOfEncodings=QH;Object.defineProperty(B_,"__esModule",{value:!0});var ZH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),eG=sl,tG=nG(eG),qp=hn;function nG(t){return t&&t.__esModule?t:{default:t}}function rG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var aG=function(){function t(e,n,r){rG(this,t),this.canvas=e,this.encodings=n,this.options=r}return ZH(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,tG.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,qp.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,qp.getTotalWidthOfEncodings)(this.encodings),a=(0,qp.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var a=this.canvas.getContext("2d"),i=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,a.fillStyle=n.lineColor;for(var o=0;o<i.length;o++){var c=o*n.width+r.barcodePadding;i[o]==="1"?a.fillRect(c,s,n.width,n.height):i[o]&&a.fillRect(c,s,n.width,n.height*i[o])}}},{key:"drawCanvasText",value:function(n,r){var a=this.canvas.getContext("2d"),i=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,o;n.textPosition=="top"?o=n.marginTop+n.fontSize-n.textMargin:o=n.height+n.textMargin+n.marginTop+n.fontSize,a.font=i,n.textAlign=="left"||r.barcodePadding>0?(s=0,a.textAlign="left"):n.textAlign=="right"?(s=r.width-1,a.textAlign="right"):(s=r.width/2,a.textAlign="center"),a.fillText(r.text,s,o)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();B_.default=aG;var F_={};Object.defineProperty(F_,"__esModule",{value:!0});var iG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),sG=sl,oG=lG(sG),Hp=hn;function lG(t){return t&&t.__esModule?t:{default:t}}function cG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Eh="http://www.w3.org/2000/svg",uG=function(){function t(e,n,r){cG(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return iG(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var a=this.encodings[r],i=(0,oG.default)(this.options,a.options),s=this.createGroup(n,i.marginTop,this.svg);this.setGroupOptions(s,i),this.drawSvgBarcode(s,i,a),this.drawSVGText(s,i,a),n+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Hp.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Hp.getTotalWidthOfEncodings)(this.encodings),r=(0,Hp.getMaximumHeightOfEncodings)(this.encodings),a=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,r),this.options.background&&this.drawRect(0,0,a,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,a){var i=a.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var o=0,c=0,h=0;h<i.length;h++)c=h*r.width+a.barcodePadding,i[h]==="1"?o++:o>0&&(this.drawRect(c-r.width*o,s,r.width*o,r.height,n),o=0);o>0&&this.drawRect(c-r.width*(o-1),s,r.width*o,r.height,n)}},{key:"drawSVGText",value:function(n,r,a){var i=this.document.createElementNS(Eh,"text");if(r.displayValue){var s,o;i.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?o=r.fontSize-r.textMargin:o=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||a.barcodePadding>0?(s=0,i.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=a.width-1,i.setAttribute("text-anchor","end")):(s=a.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",s),i.setAttribute("y",o),i.appendChild(this.document.createTextNode(a.text)),n.appendChild(i)}}},{key:"setSvgAttributes",value:function(n,r){var a=this.svg;a.setAttribute("width",n+"px"),a.setAttribute("height",r+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+n+" "+r),a.setAttribute("xmlns",Eh),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,a){var i=this.document.createElementNS(Eh,"g");return i.setAttribute("transform","translate("+n+", "+r+")"),a.appendChild(i),i}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,a,i,s){var o=this.document.createElementNS(Eh,"rect");return o.setAttribute("x",n),o.setAttribute("y",r),o.setAttribute("width",a),o.setAttribute("height",i),s.appendChild(o),o}}]),t}();F_.default=uG;var $_={};Object.defineProperty($_,"__esModule",{value:!0});var hG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function dG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var fG=function(){function t(e,n,r){dG(this,t),this.object=e,this.encodings=n,this.options=r}return hG(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();$_.default=fG;Object.defineProperty(z_,"__esModule",{value:!0});var mG=B_,pG=q_(mG),gG=F_,yG=q_(gG),vG=$_,_G=q_(vG);function q_(t){return t&&t.__esModule?t:{default:t}}z_.default={CanvasRenderer:pG.default,SVGRenderer:yG.default,ObjectRenderer:_G.default};var ol={};Object.defineProperty(ol,"__esModule",{value:!0});function H_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Y_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bG=function(t){Y_(e,t);function e(n,r){H_(this,e);var a=G_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.name="InvalidInputException",a.symbology=n,a.input=r,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return e}(Error),xG=function(t){Y_(e,t);function e(){H_(this,e);var n=G_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),wG=function(t){Y_(e,t);function e(){H_(this,e);var n=G_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);ol.InvalidInputException=bG;ol.InvalidElementException=xG;ol.NoElementException=wG;Object.defineProperty(V_,"__esModule",{value:!0});var EG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},TG=U_,Py=gI(TG),SG=z_,nc=gI(SG),AG=ol;function gI(t){return t&&t.__esModule?t:{default:t}}function W_(t){if(typeof t=="string")return NG(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(W_(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return CG(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Py.default)(t),renderer:nc.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Py.default)(t),renderer:nc.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:nc.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":EG(t))==="object"&&!t.nodeName)return{element:t,renderer:nc.default.ObjectRenderer};throw new AG.InvalidElementException}}function NG(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(W_(e[r]));return n}}function CG(t){var e=document.createElement("canvas");return{element:e,options:(0,Py.default)(t),renderer:nc.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}V_.default=W_;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});var RG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function IG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var OG=function(){function t(e){IG(this,t),this.api=e}return RG(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(a){return this.handleCatch(a),this.api}}}]),t}();K_.default=OG;var DG=v_,Hi=mi(DG),kG=sl,Ru=mi(kG),jG=P_,yI=mi(jG),MG=L_,VE=mi(MG),PG=V_,LG=mi(PG),VG=vm,UG=mi(VG),zG=K_,BG=mi(zG),vI=ol,FG=_m,_I=mi(FG);function mi(t){return t&&t.__esModule?t:{default:t}}var $r=function(){},bm=function(e,n,r){var a=new $r;if(typeof e>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,LG.default)(e),a._encodings=[],a._options=_I.default,a._errorHandler=new BG.default(a),typeof n<"u"&&(r=r||{},r.format||(r.format=xI()),a.options(r)[r.format](n,r).render()),a};bm.getModule=function(t){return Hi.default[t]};for(var UE in Hi.default)Hi.default.hasOwnProperty(UE)&&$G(Hi.default,UE);function $G(t,e){$r.prototype[e]=$r.prototype[e.toUpperCase()]=$r.prototype[e.toLowerCase()]=function(n,r){var a=this;return a._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var i=(0,Ru.default)(a._options,r);i=(0,UG.default)(i);var s=t[e],o=bI(n,s,i);return a._encodings.push(o),a})}}function bI(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new vI.InvalidInputException(r.constructor.name,t);var a=r.encode();a=(0,yI.default)(a);for(var i=0;i<a.length;i++)a[i].options=(0,Ru.default)(n,a[i].options);return a}function xI(){return Hi.default.CODE128?"CODE128":Object.keys(Hi.default)[0]}$r.prototype.options=function(t){return this._options=(0,Ru.default)(this._options,t),this};$r.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};$r.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Ru.default)(this._options,t.options);n.format=="auto"&&(n.format=xI()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,a=Hi.default[n.format.toUpperCase()],i=bI(r,a,n);Ly(t,i,n)})}}};$r.prototype.render=function(){if(!this._renderProperties)throw new vI.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Ly(this._renderProperties[t],this._encodings,this._options);else Ly(this._renderProperties,this._encodings,this._options);return this};$r.prototype._defaults=_I.default;function Ly(t,e,n){e=(0,yI.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Ru.default)(n,e[r].options),(0,VE.default)(e[r].options);(0,VE.default)(n);var a=t.renderer,i=new a(t.element,e,n);i.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=bm);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),bm(n,t,e)});var qG=bm;function Jh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Jh=function(n){return typeof n}:Jh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Jh(t)}var zs=Q_(I),HG=Q_(qG),Ge=Q_(WR);function Q_(t){return t&&t.__esModule?t:{default:t}}function GG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function WG(t,e,n){return e&&YG(t.prototype,e),t}function KG(t,e){return e&&(Jh(e)==="object"||typeof e=="function")?e:wI(t)}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vy(t)}function wI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Uy(t,e)}var zy,Gp=zs.default.version.split(/[.-]/);Gp[0]==="0"&&(Gp[1]==="13"||Gp[1]==="12")?zy=function(e){return e.getDOMNode()}:zy=function(e){return e};var X_=function(t){QG(e,t);function e(n){var r;return GG(this,e),r=KG(this,Vy(e).call(this,n)),r.renderElementRef=zs.default.createRef(),r.update=r.update.bind(wI(r)),r}return WG(e,[{key:"shouldComponentUpdate",value:function(r){var a=this;return Object.keys(e.propTypes).some(function(i){return a.props[i]!==r[i]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=zy(this.renderElementRef.current);try{new HG.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(a){window.console.error(a)}}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.className;if(this.props.renderer==="svg")return zs.default.createElement("svg",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="canvas")return zs.default.createElement("canvas",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="img")return zs.default.createElement("img",{ref:this.renderElementRef,id:a,className:i})}}]),e}(zs.default.Component);X_.propTypes={value:Ge.default.string.isRequired,text:Ge.default.string,renderer:Ge.default.string,format:Ge.default.string,width:Ge.default.number,height:Ge.default.number,displayValue:Ge.default.bool,fontOptions:Ge.default.string,font:Ge.default.string,textAlign:Ge.default.string,textPosition:Ge.default.string,textMargin:Ge.default.number,fontSize:Ge.default.number,background:Ge.default.string,lineColor:Ge.default.string,margin:Ge.default.number,marginTop:Ge.default.number,marginBottom:Ge.default.number,marginLeft:Ge.default.number,marginRight:Ge.default.number,id:Ge.default.string,className:Ge.default.string,ean128:Ge.default.bool};X_.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var XG=X_;const EI=nf(XG),JG=({onClose:t})=>{const[e,n]=I.useState({recipientName:"",senderName:"",amount:"",message:"",expiryDate:""}),[r,a]=I.useState(!1),[i,s]=I.useState(!1),[o,c]=I.useState(""),h=(p,v)=>{n(S=>({...S,[p]:v}))},d=()=>{const p="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let v="GC";for(let S=0;S<10;S++)v+=p.charAt(Math.floor(Math.random()*p.length));return v},m=async p=>{if(p.preventDefault(),!e.recipientName||!e.senderName||!e.amount||!e.expiryDate){alert("Please fill in all required fields");return}a(!0);try{const v=d(),S={recipientName:e.recipientName,senderName:e.senderName,amount:parseFloat(e.amount),message:e.message||"Wishing you wonderful adventures!",expiryDate:ve.fromDate(new Date(e.expiryDate)),createdAt:ve.now(),redeemed:!1,barcodeId:v};await Zv(gs(Ft,"giftCards"),S),c(v),s(!0),setTimeout(()=>{t()},3e3)}catch(v){console.error("Error creating gift card:",v),alert("Failed to create gift card. Please try again."),a(!1)}};return i?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 text-center",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Br,{className:"w-8 h-8 text-green-600"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gift Card Created!"}),u.jsx("p",{className:"text-gray-600",children:"Your gift card has been generated successfully"})]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-4",children:u.jsx(EI,{value:o,width:2,height:80,fontSize:14,background:"#F9FAFB"})}),u.jsx("p",{className:"text-sm text-gray-500",children:"Closing in a moment..."})]})}):u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Br,{className:"w-6 h-6",style:{color:z.primary.teal}}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Gift Card"})]}),u.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(uu,{className:"w-6 h-6"})})]}),u.jsxs("form",{onSubmit:m,className:"p-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Rd,{className:"w-4 h-4"}),"Recipient Name *"]}),u.jsx("input",{type:"text",value:e.recipientName,onChange:p=>h("recipientName",p.target.value),placeholder:"Who is this gift card for?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Rd,{className:"w-4 h-4"}),"Your Name (Sender) *"]}),u.jsx("input",{type:"text",value:e.senderName,onChange:p=>h("senderName",p.target.value),placeholder:"Your name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(Q0,{className:"w-4 h-4"}),"Gift Card Amount *"]}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),u.jsx("input",{type:"number",min:"1",step:"0.01",value:e.amount,onChange:p=>h("amount",p.target.value),placeholder:"100.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(lM,{className:"w-4 h-4"}),"Personal Message (Optional)"]}),u.jsx("textarea",{value:e.message,onChange:p=>h("message",p.target.value),placeholder:"Write a personalized message for the recipient...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none"})]}),u.jsxs("div",{children:[u.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[u.jsx(ji,{className:"w-4 h-4"}),"Expiry Date *"]}),u.jsx("input",{type:"date",value:e.expiryDate,onChange:p=>h("expiryDate",p.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Note:"})," A unique barcode will be generated for this gift card. The recipient will receive a shareable link with a beautiful reveal animation."]})})]}),u.jsxs("div",{className:"flex gap-3 mt-8",children:[u.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:r,style:{backgroundColor:z.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:r?u.jsxs(u.Fragment,{children:[u.jsx(eM,{className:"w-5 h-5 animate-spin"}),u.jsx("span",{children:"Creating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Br,{className:"w-5 h-5"}),u.jsx("span",{children:"Create Gift Card"})]})})]})]})]})})},ZG=()=>{const[t,e]=I.useState([]),[n,r]=I.useState(!1),[a,i]=I.useState(!0),[s,o]=I.useState(null),[c,h]=I.useState(null),[d,m]=I.useState("all");I.useEffect(()=>{const y=Yv(gs(Ft,"giftCards"),KV("createdAt","desc")),_=MC(y,E=>{const O=E.docs.map(V=>({id:V.id,...V.data()}));e(O),i(!1)});return()=>_()},[]);const p=y=>{const _=`${window.location.origin}/PlanYourTripNow/gift/${y}`;navigator.clipboard.writeText(_),o(y),setTimeout(()=>o(null),2e3)},v=async y=>{if(confirm("Are you sure you want to delete this gift card? This action cannot be undone.")){h(y);try{await Jv(Zr(Ft,"giftCards",y))}catch(_){console.error("Error deleting gift card:",_),alert("Failed to delete gift card. Please try again.")}finally{h(null)}}},A=(()=>{const y=new Date;return d==="all"?t:t.filter(_=>{var O,V;const E=((V=(O=_.expiryDate)==null?void 0:O.toDate)==null?void 0:V.call(O))||new Date(_.expiryDate);return d==="redeemed"?_.redeemed:d==="expired"?!_.redeemed&&E<y:d==="active"?!_.redeemed&&E>=y:!0})})(),R=y=>{var O,V;return y.redeemed?{bg:"#D1FAE5",text:"#065F46",label:"Redeemed"}:(((V=(O=y.expiryDate)==null?void 0:O.toDate)==null?void 0:V.call(O))||new Date(y.expiryDate))<new Date?{bg:"#FEE2E2",text:"#991B1B",label:"Expired"}:{bg:"#DBEAFE",text:"#1E40AF",label:"Active"}};return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx(g_,{}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[u.jsx(Br,{className:"w-8 h-8",style:{color:z.primary.teal}}),"Gift Cards"]}),u.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage gift cards for your trips"})]}),u.jsxs("button",{onClick:()=>r(!0),style:{backgroundColor:z.primary.teal},className:"flex items-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity shadow-lg",children:[u.jsx(f2,{className:"w-5 h-5"}),u.jsx("span",{children:"Create Gift Card"})]})]}),u.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","active","redeemed","expired"].map(y=>u.jsx("button",{onClick:()=>m(y),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d===y?"text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,style:d===y?{backgroundColor:z.primary.teal}:{},children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),a?u.jsx("div",{className:"text-center py-12",children:u.jsx("div",{className:"text-gray-500",children:"Loading gift cards..."})}):A.length===0?u.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[u.jsx(Br,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),u.jsx("p",{className:"text-gray-500 text-lg mb-4",children:d==="all"?"No gift cards created yet":`No ${d} gift cards found`}),u.jsx("button",{onClick:()=>r(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Create your first gift card"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(y=>{var E,O;const _=R(y);return u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-2",style:{borderColor:z.primary.teal},children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-1",children:y.recipientName}),u.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:_.bg,color:_.text},children:_.label})]}),u.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:y.message}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Q0,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-gray-700",children:[u.jsxs("span",{className:"font-semibold",children:["$",y.amount]})," value"]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(ji,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-gray-700",children:["Expires: ",((O=(E=y.expiryDate)==null?void 0:E.toDate)==null?void 0:O.call(E).toLocaleDateString())||new Date(y.expiryDate).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx(Rd,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-gray-700",children:["From: ",y.senderName]})]})]}),y.redeemed&&u.jsx("div",{className:"mb-4 p-2 bg-green-50 rounded-lg",children:u.jsxs("p",{className:"text-xs text-green-700",children:["Redeemed on ",new Date(y.redeemedAt).toLocaleDateString()]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>p(y.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:s===y.id?z.success:z.primary.teal},children:s===y.id?u.jsxs(u.Fragment,{children:[u.jsx(Sf,{className:"w-4 h-4"}),u.jsx("span",{children:"Copied!"})]}):u.jsxs(u.Fragment,{children:[u.jsx(K0,{className:"w-4 h-4"}),u.jsx("span",{children:"Share"})]})}),u.jsxs("a",{href:`/PlanYourTripNow/gift/${y.id}`,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:z.primary.black},className:"flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:[u.jsx(Y4,{className:"w-4 h-4"}),u.jsx("span",{children:"View"})]}),u.jsx("button",{onClick:()=>v(y.id),disabled:c===y.id,style:{backgroundColor:z.button.danger},className:"flex items-center justify-center px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:u.jsx(X0,{className:"w-4 h-4"})})]})]},y.id)})})]}),n&&u.jsx(JG,{onClose:()=>r(!1)})]})},eY=()=>{var S,A;const{giftCardId:t}=e2(),[e,n]=I.useState(null),[r,a]=I.useState(!0),[i,s]=I.useState(null),[o,c]=I.useState(!1),[h,d]=I.useState(!1);I.useEffect(()=>{(async()=>{try{const y=Zr(Ft,"giftCards",t),_=await kC(y);_.exists()?n({id:_.id,..._.data()}):s("Gift card not found")}catch(y){console.error("Error fetching gift card:",y),s("Failed to load gift card")}finally{a(!1)}})()},[t]);const m=async()=>{if(c(!0),d(!0),e&&!e.redeemed)try{const R=Zr(Ft,"giftCards",t);await Xv(R,{redeemed:!0,redeemedAt:ve.now()}),n(y=>({...y,redeemed:!0,redeemedAt:new Date}))}catch(R){console.error("Error marking gift card as redeemed:",R)}setTimeout(()=>d(!1),5e3)};if(r)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Br,{className:"w-16 h-16 mx-auto mb-4 text-purple-600 animate-pulse"}),u.jsx("p",{className:"text-xl text-gray-700",children:"Loading your gift..."})]})});if(i)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center",children:[u.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Br,{className:"w-10 h-10 text-red-600"})}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops!"}),u.jsx("p",{className:"text-gray-600",children:i})]})});const p=((A=(S=e.expiryDate)==null?void 0:S.toDate)==null?void 0:A.call(S))||new Date(e.expiryDate),v=p<new Date;return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4 relative overflow-hidden",children:[h&&u.jsx("div",{className:"confetti-container",children:[...Array(50)].map((R,y)=>u.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*5)]}},y))}),o?u.jsx("div",{className:"gift-card-reveal max-w-2xl w-full",children:u.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[u.jsxs("div",{className:"p-8 text-white text-center relative overflow-hidden",style:{backgroundColor:z.primary.teal},children:[u.jsx("div",{className:"absolute inset-0 opacity-10",children:u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent"})}),u.jsxs("div",{className:"relative z-10",children:[u.jsx(uM,{className:"w-16 h-16 mx-auto mb-4"}),u.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Congratulations!"}),u.jsx("p",{className:"text-xl opacity-90",children:"You've received a gift card"})]})]}),u.jsxs("div",{className:"p-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("p",{className:"text-gray-600 mb-2",children:"Dear"}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:e.recipientName}),u.jsxs("div",{className:"inline-block px-8 py-4 rounded-2xl text-white mb-6",style:{backgroundColor:z.primary.teal},children:[u.jsx(Q0,{className:"w-8 h-8 inline-block mb-1"}),u.jsx("span",{className:"text-5xl font-bold",children:e.amount})]})]}),e.message&&u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-8",children:[u.jsxs("p",{className:"text-gray-700 text-lg italic text-center leading-relaxed",children:['"',e.message,'"']}),u.jsxs("p",{className:"text-gray-600 text-right mt-4",children:["- ",e.senderName]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[u.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[u.jsx(Rd,{className:"w-5 h-5 text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"From"}),u.jsx("p",{className:"font-semibold text-gray-900",children:e.senderName})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[u.jsx(ji,{className:"w-5 h-5 text-gray-400"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-gray-500",children:"Expires"}),u.jsx("p",{className:"font-semibold text-gray-900",children:p.toLocaleDateString()})]})]})]}),u.jsxs("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Gift Card Code"}),u.jsx("div",{className:"flex justify-center",children:u.jsx(EI,{value:e.barcodeId,width:2,height:60,fontSize:14,background:"transparent"})}),u.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Present this code when booking your trip"})]}),v&&u.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-xl p-4 text-center",children:u.jsx("p",{className:"text-red-700 font-medium",children:"This gift card has expired"})}),e.redeemed&&!v&&u.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:u.jsx("p",{className:"text-green-700 font-medium",children:"Gift card revealed! Contact us to redeem."})}),!v&&!e.redeemed&&u.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:u.jsx("p",{className:"text-blue-700 font-medium",children:"Ready to use! Contact us to book your amazing trip."})})]})]})}):u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"gift-box-container mb-8",onClick:m,children:u.jsxs("div",{className:"gift-box",children:[u.jsx("div",{className:"gift-box-lid",children:u.jsx("div",{className:"gift-ribbon-horizontal"})}),u.jsx("div",{className:"gift-box-body",children:u.jsx("div",{className:"gift-ribbon-vertical"})})]})}),u.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[u.jsx(px,{className:"w-8 h-8 text-yellow-500"}),"You've Got a Gift!",u.jsx(px,{className:"w-8 h-8 text-yellow-500"})]}),u.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Click the gift box to reveal your surprise"}),u.jsx("div",{className:"animate-bounce",children:u.jsx(Br,{className:"w-12 h-12 mx-auto text-purple-600"})})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tY(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{h(r.next(d))}catch(m){s(m)}}function c(d){try{h(r.throw(d))}catch(m){s(m)}}function h(d){d.done?i(d.value):a(d.value).then(o,c)}h((r=r.apply(t,[])).next())})}function nY(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(h){return function(d){return c([h,d])}}function c(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(h[0]===6&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],a=0}finally{r=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ro=function(){return ro=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ro.apply(this,arguments)},TI=function(t){return{loading:t==null,value:t}},rY=function(){return function(t,e){switch(e.type){case"error":return ro(ro({},t),{error:e.error,loading:!1,value:void 0});case"reset":return TI(e.defaultValue);case"value":return ro(ro({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},aY=function(t){var e=t?t():void 0,n=I.useReducer(rY(),TI(e)),r=n[0],a=n[1],i=I.useCallback(function(){var c=t?t():void 0;a({type:"reset",defaultValue:c})},[t]),s=I.useCallback(function(c){a({type:"error",error:c})},[]),o=I.useCallback(function(c){a({type:"value",value:c})},[]);return I.useMemo(function(){return{error:r.error,loading:r.loading,reset:i,setError:s,setValue:o,value:r.value}},[r.error,r.loading,i,s,o,r.value])},iY=function(t,e){var n=aY(function(){return t.currentUser}),r=n.error,a=n.loading,i=n.setError,s=n.setValue,o=n.value;return I.useEffect(function(){var c=tU(t,function(h){return tY(void 0,void 0,void 0,function(){var d;return nY(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return m.sent(),[3,4];case 3:return d=m.sent(),i(d),[3,4];case 4:return s(h),[2]}})})},i);return function(){c()}},[t]),[o,a,r]};const zE=({children:t})=>{const[e,n]=iY(p_);return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center",children:u.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:u.jsx(jj,{to:"/login"})};function sY(){return u.jsx(g4,{children:u.jsx(s4,{basename:"/PlanYourTripNow",children:u.jsxs(Pj,{children:[u.jsx(Di,{path:"/",element:u.jsx(AM,{})}),u.jsx(Di,{path:"/admin",element:u.jsx(zE,{children:u.jsx(Tz,{})})}),u.jsx(Di,{path:"/login",element:u.jsx(qz,{})}),u.jsx(Di,{path:"/register/:tripId",element:u.jsx($z,{})}),u.jsx(Di,{path:"/gift/:giftCardId",element:u.jsx(eY,{})}),u.jsx(Di,{path:"/gift-cards",element:u.jsx(zE,{children:u.jsx(ZG,{})})})]})})})}Vk.createRoot(document.getElementById("root")).render(u.jsx(I.StrictMode,{children:u.jsx(sY,{})}));
