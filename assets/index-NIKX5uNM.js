(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var VC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yE={exports:{}},ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC=Symbol.for("react.transitional.element"),jC=Symbol.for("react.fragment");function vE(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:LC,type:t,key:r,ref:e!==void 0?e:null,props:n}}ff.Fragment=jC;ff.jsx=vE;ff.jsxs=vE;yE.exports=ff;var d=yE.exports,_E={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg=Symbol.for("react.transitional.element"),UC=Symbol.for("react.portal"),zC=Symbol.for("react.fragment"),BC=Symbol.for("react.strict_mode"),FC=Symbol.for("react.profiler"),qC=Symbol.for("react.consumer"),HC=Symbol.for("react.context"),GC=Symbol.for("react.forward_ref"),$C=Symbol.for("react.suspense"),YC=Symbol.for("react.memo"),bE=Symbol.for("react.lazy"),KC=Symbol.for("react.activity"),C_=Symbol.iterator;function WC(t){return t===null||typeof t!="object"?null:(t=C_&&t[C_]||t["@@iterator"],typeof t=="function"?t:null)}var TE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EE=Object.assign,wE={};function lo(t,e,n){this.props=t,this.context=e,this.refs=wE,this.updater=n||TE}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SE(){}SE.prototype=lo.prototype;function Ag(t,e,n){this.props=t,this.context=e,this.refs=wE,this.updater=n||TE}var xg=Ag.prototype=new SE;xg.constructor=Ag;EE(xg,lo.prototype);xg.isPureReactComponent=!0;var N_=Array.isArray;function Pm(){}var ke={H:null,A:null,T:null,S:null},AE=Object.prototype.hasOwnProperty;function Rg(t,e,n){var r=n.ref;return{$$typeof:Sg,type:t,key:e,ref:r!==void 0?r:null,props:n}}function QC(t,e){return Rg(t.type,e,t.props)}function Cg(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sg}function XC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var I_=/\/+/g;function Cd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?XC(""+t.key):e.toString(36)}function JC(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Pm,Pm):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ls(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Sg:case UC:s=!0;break;case bE:return s=t._init,ls(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+Cd(t,0):r,N_(i)?(n="",s!=null&&(n=s.replace(I_,"$&/")+"/"),ls(i,e,n,"",function(c){return c})):i!=null&&(Cg(i)&&(i=QC(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(I_,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(N_(t))for(var u=0;u<t.length;u++)r=t[u],a=o+Cd(r,u),s+=ls(r,e,n,a,i);else if(u=WC(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,a=o+Cd(r,u++),s+=ls(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return ls(JC(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function ac(t,e,n){if(t==null)return t;var r=[],i=0;return ls(t,r,"","",function(a){return e.call(n,a,i++)}),r}function ZC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var D_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},eN={map:ac,forEach:function(t,e,n){ac(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ac(t,function(){e++}),e},toArray:function(t){return ac(t,function(e){return e})||[]},only:function(t){if(!Cg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Activity=KC;re.Children=eN;re.Component=lo;re.Fragment=zC;re.Profiler=FC;re.PureComponent=Ag;re.StrictMode=BC;re.Suspense=$C;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ke;re.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ke.H.useMemoCache(t)}};re.cache=function(t){return function(){return t.apply(null,arguments)}};re.cacheSignal=function(){return null};re.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=EE({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!AE.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return Rg(t.type,i,r)};re.createContext=function(t){return t={$$typeof:HC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:qC,_context:t},t};re.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)AE.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return Rg(t,a,i)};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:GC,render:t}};re.isValidElement=Cg;re.lazy=function(t){return{$$typeof:bE,_payload:{_status:-1,_result:t},_init:ZC}};re.memo=function(t,e){return{$$typeof:YC,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=ke.T,n={};ke.T=n;try{var r=t(),i=ke.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Pm,D_)}catch(a){D_(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),ke.T=e}};re.unstable_useCacheRefresh=function(){return ke.H.useCacheRefresh()};re.use=function(t){return ke.H.use(t)};re.useActionState=function(t,e,n){return ke.H.useActionState(t,e,n)};re.useCallback=function(t,e){return ke.H.useCallback(t,e)};re.useContext=function(t){return ke.H.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t,e){return ke.H.useDeferredValue(t,e)};re.useEffect=function(t,e){return ke.H.useEffect(t,e)};re.useEffectEvent=function(t){return ke.H.useEffectEvent(t)};re.useId=function(){return ke.H.useId()};re.useImperativeHandle=function(t,e,n){return ke.H.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return ke.H.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return ke.H.useLayoutEffect(t,e)};re.useMemo=function(t,e){return ke.H.useMemo(t,e)};re.useOptimistic=function(t,e){return ke.H.useOptimistic(t,e)};re.useReducer=function(t,e,n){return ke.H.useReducer(t,e,n)};re.useRef=function(t){return ke.H.useRef(t)};re.useState=function(t){return ke.H.useState(t)};re.useSyncExternalStore=function(t,e,n){return ke.H.useSyncExternalStore(t,e,n)};re.useTransition=function(){return ke.H.useTransition()};re.version="19.2.3";_E.exports=re;var D=_E.exports;const tN=wg(D);var xE={exports:{}},df={},RE={exports:{}},CE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var K=L.length;L.push(G);e:for(;0<K;){var X=K-1>>>1,se=L[X];if(0<i(se,G))L[X]=G,L[K]=se,K=X;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],K=L.pop();if(K!==G){L[0]=K;e:for(var X=0,se=L.length,ct=se>>>1;X<ct;){var ht=2*(X+1)-1,zt=L[ht],vt=ht+1,mn=L[vt];if(0>i(zt,K))vt<se&&0>i(mn,zt)?(L[X]=mn,L[vt]=K,X=vt):(L[X]=zt,L[ht]=K,X=ht);else if(vt<se&&0>i(mn,K))L[X]=mn,L[vt]=K,X=vt;else break e}}return G}function i(L,G){var K=L.sortIndex-G.sortIndex;return K!==0?K:L.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],h=1,m=null,p=3,y=!1,S=!1,N=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(L){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=L)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function z(L){if(N=!1,O(L),!S)if(n(u)!==null)S=!0,F||(F=!0,k());else{var G=n(c);G!==null&&q(z,G.startTime-L)}}var F=!1,E=-1,T=5,x=-1;function R(){return C?!0:!(t.unstable_now()-x<T)}function I(){if(C=!1,F){var L=t.unstable_now();x=L;var G=!0;try{e:{S=!1,N&&(N=!1,_(E),E=-1),y=!0;var K=p;try{t:{for(O(L),m=n(u);m!==null&&!(m.expirationTime>L&&R());){var X=m.callback;if(typeof X=="function"){m.callback=null,p=m.priorityLevel;var se=X(m.expirationTime<=L);if(L=t.unstable_now(),typeof se=="function"){m.callback=se,O(L),G=!0;break t}m===n(u)&&r(u),O(L)}else r(u);m=n(u)}if(m!==null)G=!0;else{var ct=n(c);ct!==null&&q(z,ct.startTime-L),G=!1}}break e}finally{m=null,p=K,y=!1}G=void 0}}finally{G?k():F=!1}}}var k;if(typeof A=="function")k=function(){A(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,M=w.port2;w.port1.onmessage=I,k=function(){M.postMessage(null)}}else k=function(){v(I,0)};function q(L,G){E=v(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(L){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var K=p;p=G;try{return L()}finally{p=K}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=p;p=L;try{return G()}finally{p=K}},t.unstable_scheduleCallback=function(L,G,K){var X=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?X+K:X):K=X,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=K+se,L={id:h++,callback:G,priorityLevel:L,startTime:K,expirationTime:se,sortIndex:-1},K>X?(L.sortIndex=K,e(c,L),n(u)===null&&L===n(c)&&(N?(_(E),E=-1):N=!0,q(z,K-X))):(L.sortIndex=se,e(u,L),S||y||(S=!0,F||(F=!0,k()))),L},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(L){var G=p;return function(){var K=p;p=G;try{return L.apply(this,arguments)}finally{p=K}}}})(CE);RE.exports=CE;var nN=RE.exports,NE={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN=D;function IE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ni(){}var Lt={d:{f:ni,r:function(){throw Error(IE(522))},D:ni,C:ni,L:ni,m:ni,X:ni,S:ni,M:ni},p:0,findDOMNode:null},iN=Symbol.for("react.portal");function aN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iN,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Tl=rN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Lt;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(IE(299));return aN(t,e,null,n)};Ut.flushSync=function(t){var e=Tl.T,n=Lt.p;try{if(Tl.T=null,Lt.p=2,t)return t()}finally{Tl.T=e,Lt.p=n,Lt.d.f()}};Ut.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Lt.d.C(t,e))};Ut.prefetchDNS=function(t){typeof t=="string"&&Lt.d.D(t)};Ut.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=mf(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Lt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Lt.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ut.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=mf(e.as,e.crossOrigin);Lt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Lt.d.M(t)};Ut.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=mf(n,e.crossOrigin);Lt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ut.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=mf(e.as,e.crossOrigin);Lt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Lt.d.m(t)};Ut.requestFormReset=function(t){Lt.d.r(t)};Ut.unstable_batchedUpdates=function(t,e){return t(e)};Ut.useFormState=function(t,e,n){return Tl.H.useFormState(t,e,n)};Ut.useFormStatus=function(){return Tl.H.useHostTransitionStatus()};Ut.version="19.2.3";function DE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DE)}catch(t){console.error(t)}}DE(),NE.exports=Ut;var sN=NE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=nN,OE=D,oN=sN;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function kE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ME(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function O_(t){if(du(t)!==t)throw Error(U(188))}function lN(t){var e=t.alternate;if(!e){if(e=du(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return O_(i),t;if(a===r)return O_(i),e;a=a.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function VE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=VE(t),e!==null)return e;t=t.sibling}return null}var Me=Object.assign,uN=Symbol.for("react.element"),sc=Symbol.for("react.transitional.element"),ul=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),LE=Symbol.for("react.strict_mode"),Vm=Symbol.for("react.profiler"),jE=Symbol.for("react.consumer"),wr=Symbol.for("react.context"),Ng=Symbol.for("react.forward_ref"),Lm=Symbol.for("react.suspense"),jm=Symbol.for("react.suspense_list"),Ig=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),Um=Symbol.for("react.activity"),cN=Symbol.for("react.memo_cache_sentinel"),k_=Symbol.iterator;function el(t){return t===null||typeof t!="object"?null:(t=k_&&t[k_]||t["@@iterator"],typeof t=="function"?t:null)}var hN=Symbol.for("react.client.reference");function zm(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===hN?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ps:return"Fragment";case Vm:return"Profiler";case LE:return"StrictMode";case Lm:return"Suspense";case jm:return"SuspenseList";case Um:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ul:return"Portal";case wr:return t.displayName||"Context";case jE:return(t._context.displayName||"Context")+".Consumer";case Ng:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ig:return e=t.displayName||null,e!==null?e:zm(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return zm(t(e))}catch{}}return null}var cl=Array.isArray,ee=OE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=oN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ba={pending:!1,data:null,method:null,action:null},Bm=[],gs=-1;function cr(t){return{current:t}}function yt(t){0>gs||(t.current=Bm[gs],Bm[gs]=null,gs--)}function Ce(t,e){gs++,Bm[gs]=t.current,t.current=e}var tr=cr(null),Bl=cr(null),bi=cr(null),oh=cr(null);function lh(t,e){switch(Ce(bi,e),Ce(Bl,t),Ce(tr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?U0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=U0(e),t=i1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}yt(tr),Ce(tr,t)}function Hs(){yt(tr),yt(Bl),yt(bi)}function Fm(t){t.memoizedState!==null&&Ce(oh,t);var e=tr.current,n=i1(e,t.type);e!==n&&(Ce(Bl,t),Ce(tr,n))}function uh(t){Bl.current===t&&(yt(tr),yt(Bl)),oh.current===t&&(yt(oh),Jl._currentValue=ba)}var Nd,M_;function da(t){if(Nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nd=e&&e[1]||"",M_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nd+t+M_}var Id=!1;function Dd(t,e){if(!t||Id)return"";Id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){p=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var h=`
`+u[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{Id=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?da(n):""}function fN(t,e){switch(t.tag){case 26:case 27:case 5:return da(t.type);case 16:return da("Lazy");case 13:return t.child!==e&&e!==null?da("Suspense Fallback"):da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return Dd(t.type,!1);case 11:return Dd(t.type.render,!1);case 1:return Dd(t.type,!0);case 31:return da("Activity");default:return""}}function P_(t){try{var e="",n=null;do e+=fN(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var qm=Object.prototype.hasOwnProperty,Dg=ut.unstable_scheduleCallback,Od=ut.unstable_cancelCallback,dN=ut.unstable_shouldYield,mN=ut.unstable_requestPaint,sn=ut.unstable_now,pN=ut.unstable_getCurrentPriorityLevel,UE=ut.unstable_ImmediatePriority,zE=ut.unstable_UserBlockingPriority,ch=ut.unstable_NormalPriority,gN=ut.unstable_LowPriority,BE=ut.unstable_IdlePriority,yN=ut.log,vN=ut.unstable_setDisableYieldValue,mu=null,on=null;function mi(t){if(typeof yN=="function"&&vN(t),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(mu,t)}catch{}}var ln=Math.clz32?Math.clz32:TN,_N=Math.log,bN=Math.LN2;function TN(t){return t>>>=0,t===0?32:31-(_N(t)/bN|0)|0}var oc=256,lc=262144,uc=4194304;function ma(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pf(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=ma(r):(s&=o,s!==0?i=ma(s):n||(n=o&~t,n!==0&&(i=ma(n))))):(o=r&~a,o!==0?i=ma(o):s!==0?i=ma(s):n||(n=r&~t,n!==0&&(i=ma(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function pu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function EN(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FE(){var t=uc;return uc<<=1,!(uc&62914560)&&(uc=4194304),t}function kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wN(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var h=31-ln(n),m=1<<h;o[h]=0,u[h]=-1;var p=c[h];if(p!==null)for(c[h]=null,h=0;h<p.length;h++){var y=p[h];y!==null&&(y.lane&=-536870913)}n&=~m}r!==0&&qE(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function qE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-ln(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function HE(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function GE(t,e){var n=e&-e;return n=n&42?1:Og(n),n&(t.suspendedLanes|e)?0:n}function Og(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function $E(){var t=ye.p;return t!==0?t:(t=window.event,t===void 0?32:p1(t.type))}function V_(t,e){var n=ye.p;try{return ye.p=t,e()}finally{ye.p=n}}var $i=Math.random().toString(36).slice(2),wt="__reactFiber$"+$i,Wt="__reactProps$"+$i,uo="__reactContainer$"+$i,Hm="__reactEvents$"+$i,SN="__reactListeners$"+$i,AN="__reactHandles$"+$i,L_="__reactResources$"+$i,yu="__reactMarker$"+$i;function Mg(t){delete t[wt],delete t[Wt],delete t[Hm],delete t[SN],delete t[AN]}function ys(t){var e=t[wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[uo]||n[wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H0(t);t!==null;){if(n=t[wt])return n;t=H0(t)}return e}t=n,n=t.parentNode}return null}function co(t){if(t=t[wt]||t[uo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function hl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function Os(t){var e=t[L_];return e||(e=t[L_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function gt(t){t[yu]=!0}var YE=new Set,KE={};function Ua(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(KE[t]=e,t=0;t<e.length;t++)YE.add(e[t])}var xN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),j_={},U_={};function RN(t){return qm.call(U_,t)?!0:qm.call(j_,t)?!1:xN.test(t)?U_[t]=!0:(j_[t]=!0,!1)}function Oc(t,e,n){if(RN(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function cc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function WE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CN(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gm(t){if(!t._valueTracker){var e=WE(t)?"checked":"value";t._valueTracker=CN(t,e,""+t[e])}}function QE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=WE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var NN=/[\n"\\]/g;function bn(t){return t.replace(NN,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function $m(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+yn(e)):t.value!==""+yn(e)&&(t.value=""+yn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Ym(t,s,yn(e)):n!=null?Ym(t,s,yn(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+yn(o):t.removeAttribute("name")}function XE(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){Gm(t);return}n=n!=null?""+yn(n):"",e=e!=null?""+yn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),Gm(t)}function Ym(t,e,n){e==="number"&&hh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function JE(t,e,n){if(e!=null&&(e=""+yn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+yn(n):""}function ZE(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(U(92));if(cl(r)){if(1<r.length)throw Error(U(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=yn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),Gm(t)}function $s(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var IN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function z_(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||IN.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function ew(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&z_(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&z_(t,a,e[a])}function Pg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ON=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kc(t){return ON.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sr(){}var Km=null;function Vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,Ms=null;function B_(t){var e=co(t);if(e&&(t=e.stateNode)){var n=t[Wt]||null;e:switch(t=e.stateNode,e.type){case"input":if($m(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Wt]||null;if(!i)throw Error(U(90));$m(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&QE(r)}break e;case"textarea":JE(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}}}var Md=!1;function tw(t,e,n){if(Md)return t(e,n);Md=!0;try{var r=t(e);return r}finally{if(Md=!1,(vs!==null||Ms!==null)&&(Rf(),vs&&(e=vs,t=Ms,Ms=vs=null,B_(e),t)))for(e=0;e<t.length;e++)B_(t[e])}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Wt]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wm=!1;if(kr)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Wm=!1}var pi=null,Lg=null,Mc=null;function nw(){if(Mc)return Mc;var t,e=Lg,n=e.length,r,i="value"in pi?pi.value:pi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Mc=i.slice(t,1<r?1-r:void 0)}function Pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hc(){return!0}function F_(){return!1}function Qt(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?hc:F_,this.isPropagationStopped=F_,this}return Me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Qt(za),vu=Me({},za,{view:0,detail:0}),kN=Qt(vu),Pd,Vd,nl,yf=Me({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(Pd=t.screenX-nl.screenX,Vd=t.screenY-nl.screenY):Vd=Pd=0,nl=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:Vd}}),q_=Qt(yf),MN=Me({},yf,{dataTransfer:0}),PN=Qt(MN),VN=Me({},vu,{relatedTarget:0}),Ld=Qt(VN),LN=Me({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),jN=Qt(LN),UN=Me({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zN=Qt(UN),BN=Me({},za,{data:0}),H_=Qt(BN),FN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},HN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=HN[t])?!!e[t]:!1}function jg(){return GN}var $N=Me({},vu,{key:function(t){if(t.key){var e=FN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jg,charCode:function(t){return t.type==="keypress"?Pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YN=Qt($N),KN=Me({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G_=Qt(KN),WN=Me({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jg}),QN=Qt(WN),XN=Me({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=Qt(XN),ZN=Me({},yf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),e2=Qt(ZN),t2=Me({},za,{newState:0,oldState:0}),n2=Qt(t2),r2=[9,13,27,32],Ug=kr&&"CompositionEvent"in window,El=null;kr&&"documentMode"in document&&(El=document.documentMode);var i2=kr&&"TextEvent"in window&&!El,rw=kr&&(!Ug||El&&8<El&&11>=El),$_=" ",Y_=!1;function iw(t,e){switch(t){case"keyup":return r2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function a2(t,e){switch(t){case"compositionend":return aw(e);case"keypress":return e.which!==32?null:(Y_=!0,$_);case"textInput":return t=e.data,t===$_&&Y_?null:t;default:return null}}function s2(t,e){if(_s)return t==="compositionend"||!Ug&&iw(t,e)?(t=nw(),Mc=Lg=pi=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rw&&e.locale!=="ko"?null:e.data;default:return null}}var o2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!o2[t.type]:e==="textarea"}function sw(t,e,n,r){vs?Ms?Ms.push(r):Ms=[r]:vs=r,e=Nh(e,"onChange"),0<e.length&&(n=new gf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wl=null,ql=null;function l2(t){t1(t,0)}function vf(t){var e=hl(t);if(QE(e))return t}function W_(t,e){if(t==="change")return e}var ow=!1;if(kr){var jd;if(kr){var Ud="oninput"in document;if(!Ud){var Q_=document.createElement("div");Q_.setAttribute("oninput","return;"),Ud=typeof Q_.oninput=="function"}jd=Ud}else jd=!1;ow=jd&&(!document.documentMode||9<document.documentMode)}function X_(){wl&&(wl.detachEvent("onpropertychange",lw),ql=wl=null)}function lw(t){if(t.propertyName==="value"&&vf(ql)){var e=[];sw(e,ql,t,Vg(t)),tw(l2,e)}}function u2(t,e,n){t==="focusin"?(X_(),wl=e,ql=n,wl.attachEvent("onpropertychange",lw)):t==="focusout"&&X_()}function c2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vf(ql)}function h2(t,e){if(t==="click")return vf(e)}function f2(t,e){if(t==="input"||t==="change")return vf(e)}function d2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:d2;function Hl(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qm.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function J_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Z_(t,e){var n=J_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=J_(n)}}function uw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cw(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=hh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function zg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var m2=kr&&"documentMode"in document&&11>=document.documentMode,bs=null,Qm=null,Sl=null,Xm=!1;function e0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xm||bs==null||bs!==hh(r)||(r=bs,"selectionStart"in r&&zg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&Hl(Sl,r)||(Sl=r,r=Nh(Qm,"onSelect"),0<r.length&&(e=new gf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bs)))}function fa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},zd={},hw={};kr&&(hw=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Ba(t){if(zd[t])return zd[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hw)return zd[t]=e[n];return t}var fw=Ba("animationend"),dw=Ba("animationiteration"),mw=Ba("animationstart"),p2=Ba("transitionrun"),g2=Ba("transitionstart"),y2=Ba("transitioncancel"),pw=Ba("transitionend"),gw=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jm.push("scrollEnd");function Bn(t,e){gw.set(t,e),Ua(e,[t])}var fh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],Es=0,Bg=0;function _f(){for(var t=Es,e=Bg=Es=0;e<t;){var n=gn[e];gn[e++]=null;var r=gn[e];gn[e++]=null;var i=gn[e];gn[e++]=null;var a=gn[e];if(gn[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&yw(n,i,a)}}function bf(t,e,n,r){gn[Es++]=t,gn[Es++]=e,gn[Es++]=n,gn[Es++]=r,Bg|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Fg(t,e,n,r){return bf(t,e,n,r),dh(t)}function Fa(t,e){return bf(t,null,null,e),dh(t)}function yw(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-ln(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function dh(t){if(50<kl)throw kl=0,_p=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ws={};function v2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new v2(t,e,n,r)}function qg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cr(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function vw(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Vc(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")qg(t)&&(s=1);else if(typeof t=="string")s=wI(t,n,tr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Um:return t=nn(31,n,e,i),t.elementType=Um,t.lanes=a,t;case ps:return Ta(n.children,i,a,e);case LE:s=8,i|=24;break;case Vm:return t=nn(12,n,e,i|2),t.elementType=Vm,t.lanes=a,t;case Lm:return t=nn(13,n,e,i),t.elementType=Lm,t.lanes=a,t;case jm:return t=nn(19,n,e,i),t.elementType=jm,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wr:s=10;break e;case jE:s=9;break e;case Ng:s=11;break e;case Ig:s=14;break e;case ii:s=16,r=null;break e}s=29,n=Error(U(130,t===null?"null":typeof t,"")),r=null}return e=nn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ta(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function Bd(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function _w(t){var e=nn(18,null,null,0);return e.stateNode=t,e}function Fd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var t0=new WeakMap;function Tn(t,e){if(typeof t=="object"&&t!==null){var n=t0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:P_(e)},t0.set(t,e),e)}return{value:t,source:e,stack:P_(e)}}var Ss=[],As=0,mh=null,Gl=0,vn=[],_n=0,Mi=null,Jn=1,Zn="";function Tr(t,e){Ss[As++]=Gl,Ss[As++]=mh,mh=t,Gl=e}function bw(t,e,n){vn[_n++]=Jn,vn[_n++]=Zn,vn[_n++]=Mi,Mi=t;var r=Jn;t=Zn;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var a=32-ln(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jn=1<<32-ln(e)+i|n<<i|r,Zn=a+t}else Jn=1<<a|n<<i|r,Zn=t}function Hg(t){t.return!==null&&(Tr(t,1),bw(t,1,0))}function Gg(t){for(;t===mh;)mh=Ss[--As],Ss[As]=null,Gl=Ss[--As],Ss[As]=null;for(;t===Mi;)Mi=vn[--_n],vn[_n]=null,Zn=vn[--_n],vn[_n]=null,Jn=vn[--_n],vn[_n]=null}function Tw(t,e){vn[_n++]=Jn,vn[_n++]=Zn,vn[_n++]=Mi,Jn=e.id,Zn=e.overflow,Mi=t}var St=null,Oe=null,me=!1,Ti=null,En=!1,Zm=Error(U(519));function Pi(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Tn(e,t)),Zm}function n0(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[wt]=t,e[Wt]=r,n){case"dialog":le("cancel",e),le("close",e);break;case"iframe":case"object":case"embed":le("load",e);break;case"video":case"audio":for(n=0;n<Ql.length;n++)le(Ql[n],e);break;case"source":le("error",e);break;case"img":case"image":case"link":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"input":le("invalid",e),XE(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":le("invalid",e);break;case"textarea":le("invalid",e),ZE(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||r1(e.textContent,n)?(r.popover!=null&&(le("beforetoggle",e),le("toggle",e)),r.onScroll!=null&&le("scroll",e),r.onScrollEnd!=null&&le("scrollend",e),r.onClick!=null&&(e.onclick=Sr),e=!0):e=!1,e||Pi(t,!0)}function r0(t){for(St=t.return;St;)switch(St.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:St=St.return}}function ss(t){if(t!==St)return!1;if(!me)return r0(t),me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Sp(t.type,t.memoizedProps)),n=!n),n&&Oe&&Pi(t),r0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Oe=q0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Oe=q0(t)}else e===27?(e=Oe,Yi(t.type)?(t=Cp,Cp=null,Oe=t):Oe=e):Oe=St?xn(t.stateNode.nextSibling):null;return!0}function Ca(){Oe=St=null,me=!1}function qd(){var t=Ti;return t!==null&&(Ht===null?Ht=t:Ht.push.apply(Ht,t),Ti=null),t}function $l(t){Ti===null?Ti=[t]:Ti.push(t)}var ep=cr(null),qa=null,Ar=null;function si(t,e,n){Ce(ep,e._currentValue),e._currentValue=n}function Nr(t){t._currentValue=ep.current,yt(ep)}function tp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function np(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var u=0;u<e.length;u++)if(o.context===e[u]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),tp(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),tp(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function ho(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(U(387));if(s=s.memoizedProps,s!==null){var o=i.type;hn(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===oh.current){if(s=i.alternate,s===null)throw Error(U(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}i=i.return}t!==null&&np(e,t,n,r),e.flags|=262144}function ph(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Na(t){qa=t,Ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rt(t){return Ew(qa,t)}function fc(t,e){return qa===null&&Na(t),Ew(t,e)}function Ew(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ar===null){if(t===null)throw Error(U(308));Ar=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ar=Ar.next=e;return n}var _2=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},b2=ut.unstable_scheduleCallback,T2=ut.unstable_NormalPriority,tt={$$typeof:wr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $g(){return{controller:new _2,data:new Map,refCount:0}}function _u(t){t.refCount--,t.refCount===0&&b2(T2,function(){t.controller.abort()})}var Al=null,rp=0,Ys=0,Ps=null;function E2(t,e){if(Al===null){var n=Al=[];rp=0,Ys=yy(),Ps={status:"pending",value:void 0,then:function(r){n.push(r)}}}return rp++,e.then(i0,i0),e}function i0(){if(--rp===0&&Al!==null){Ps!==null&&(Ps.status="fulfilled");var t=Al;Al=null,Ys=0,Ps=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function w2(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var a0=ee.S;ee.S=function(t,e){VS=sn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&E2(t,e),a0!==null&&a0(t,e)};var Ea=cr(null);function Yg(){var t=Ea.current;return t!==null?t:Ae.pooledCache}function Lc(t,e){e===null?Ce(Ea,Ea.current):Ce(Ea,e.pool)}function ww(){var t=Yg();return t===null?null:{parent:tt._currentValue,pool:t}}var fo=Error(U(460)),Kg=Error(U(474)),Tf=Error(U(542)),gh={then:function(){}};function s0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sw(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Sr,Sr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,l0(t),t;default:if(typeof e.status=="string")e.then(Sr,Sr);else{if(t=Ae,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,l0(t),t}throw wa=e,fo}}function pa(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wa=n,fo):n}}var wa=null;function o0(){if(wa===null)throw Error(U(459));var t=wa;return wa=null,t}function l0(t){if(t===fo||t===Tf)throw Error(U(483))}var Vs=null,Yl=0;function dc(t){var e=Yl;return Yl+=1,Vs===null&&(Vs=[]),Sw(Vs,t,e)}function rl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function mc(t,e){throw e.$$typeof===uN?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Aw(t){function e(v,_){if(t){var A=v.deletions;A===null?(v.deletions=[_],v.flags|=16):A.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v){for(var _=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(v,_){return v=Cr(v,_),v.index=0,v.sibling=null,v}function a(v,_,A){return v.index=A,t?(A=v.alternate,A!==null?(A=A.index,A<_?(v.flags|=67108866,_):A):(v.flags|=67108866,_)):(v.flags|=1048576,_)}function s(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,_,A,O){return _===null||_.tag!==6?(_=Bd(A,v.mode,O),_.return=v,_):(_=i(_,A),_.return=v,_)}function u(v,_,A,O){var z=A.type;return z===ps?h(v,_,A.props.children,O,A.key):_!==null&&(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ii&&pa(z)===_.type)?(_=i(_,A.props),rl(_,A),_.return=v,_):(_=Vc(A.type,A.key,A.props,null,v.mode,O),rl(_,A),_.return=v,_)}function c(v,_,A,O){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=Fd(A,v.mode,O),_.return=v,_):(_=i(_,A.children||[]),_.return=v,_)}function h(v,_,A,O,z){return _===null||_.tag!==7?(_=Ta(A,v.mode,O,z),_.return=v,_):(_=i(_,A),_.return=v,_)}function m(v,_,A){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Bd(""+_,v.mode,A),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sc:return A=Vc(_.type,_.key,_.props,null,v.mode,A),rl(A,_),A.return=v,A;case ul:return _=Fd(_,v.mode,A),_.return=v,_;case ii:return _=pa(_),m(v,_,A)}if(cl(_)||el(_))return _=Ta(_,v.mode,A,null),_.return=v,_;if(typeof _.then=="function")return m(v,dc(_),A);if(_.$$typeof===wr)return m(v,fc(v,_),A);mc(v,_)}return null}function p(v,_,A,O){var z=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return z!==null?null:o(v,_,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case sc:return A.key===z?u(v,_,A,O):null;case ul:return A.key===z?c(v,_,A,O):null;case ii:return A=pa(A),p(v,_,A,O)}if(cl(A)||el(A))return z!==null?null:h(v,_,A,O,null);if(typeof A.then=="function")return p(v,_,dc(A),O);if(A.$$typeof===wr)return p(v,_,fc(v,A),O);mc(v,A)}return null}function y(v,_,A,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return v=v.get(A)||null,o(_,v,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case sc:return v=v.get(O.key===null?A:O.key)||null,u(_,v,O,z);case ul:return v=v.get(O.key===null?A:O.key)||null,c(_,v,O,z);case ii:return O=pa(O),y(v,_,A,O,z)}if(cl(O)||el(O))return v=v.get(A)||null,h(_,v,O,z,null);if(typeof O.then=="function")return y(v,_,A,dc(O),z);if(O.$$typeof===wr)return y(v,_,A,fc(_,O),z);mc(_,O)}return null}function S(v,_,A,O){for(var z=null,F=null,E=_,T=_=0,x=null;E!==null&&T<A.length;T++){E.index>T?(x=E,E=null):x=E.sibling;var R=p(v,E,A[T],O);if(R===null){E===null&&(E=x);break}t&&E&&R.alternate===null&&e(v,E),_=a(R,_,T),F===null?z=R:F.sibling=R,F=R,E=x}if(T===A.length)return n(v,E),me&&Tr(v,T),z;if(E===null){for(;T<A.length;T++)E=m(v,A[T],O),E!==null&&(_=a(E,_,T),F===null?z=E:F.sibling=E,F=E);return me&&Tr(v,T),z}for(E=r(E);T<A.length;T++)x=y(E,v,T,A[T],O),x!==null&&(t&&x.alternate!==null&&E.delete(x.key===null?T:x.key),_=a(x,_,T),F===null?z=x:F.sibling=x,F=x);return t&&E.forEach(function(I){return e(v,I)}),me&&Tr(v,T),z}function N(v,_,A,O){if(A==null)throw Error(U(151));for(var z=null,F=null,E=_,T=_=0,x=null,R=A.next();E!==null&&!R.done;T++,R=A.next()){E.index>T?(x=E,E=null):x=E.sibling;var I=p(v,E,R.value,O);if(I===null){E===null&&(E=x);break}t&&E&&I.alternate===null&&e(v,E),_=a(I,_,T),F===null?z=I:F.sibling=I,F=I,E=x}if(R.done)return n(v,E),me&&Tr(v,T),z;if(E===null){for(;!R.done;T++,R=A.next())R=m(v,R.value,O),R!==null&&(_=a(R,_,T),F===null?z=R:F.sibling=R,F=R);return me&&Tr(v,T),z}for(E=r(E);!R.done;T++,R=A.next())R=y(E,v,T,R.value,O),R!==null&&(t&&R.alternate!==null&&E.delete(R.key===null?T:R.key),_=a(R,_,T),F===null?z=R:F.sibling=R,F=R);return t&&E.forEach(function(k){return e(v,k)}),me&&Tr(v,T),z}function C(v,_,A,O){if(typeof A=="object"&&A!==null&&A.type===ps&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case sc:e:{for(var z=A.key;_!==null;){if(_.key===z){if(z=A.type,z===ps){if(_.tag===7){n(v,_.sibling),O=i(_,A.props.children),O.return=v,v=O;break e}}else if(_.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===ii&&pa(z)===_.type){n(v,_.sibling),O=i(_,A.props),rl(O,A),O.return=v,v=O;break e}n(v,_);break}else e(v,_);_=_.sibling}A.type===ps?(O=Ta(A.props.children,v.mode,O,A.key),O.return=v,v=O):(O=Vc(A.type,A.key,A.props,null,v.mode,O),rl(O,A),O.return=v,v=O)}return s(v);case ul:e:{for(z=A.key;_!==null;){if(_.key===z)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(v,_.sibling),O=i(_,A.children||[]),O.return=v,v=O;break e}else{n(v,_);break}else e(v,_);_=_.sibling}O=Fd(A,v.mode,O),O.return=v,v=O}return s(v);case ii:return A=pa(A),C(v,_,A,O)}if(cl(A))return S(v,_,A,O);if(el(A)){if(z=el(A),typeof z!="function")throw Error(U(150));return A=z.call(A),N(v,_,A,O)}if(typeof A.then=="function")return C(v,_,dc(A),O);if(A.$$typeof===wr)return C(v,_,fc(v,A),O);mc(v,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,_!==null&&_.tag===6?(n(v,_.sibling),O=i(_,A),O.return=v,v=O):(n(v,_),O=Bd(A,v.mode,O),O.return=v,v=O),s(v)):n(v,_)}return function(v,_,A,O){try{Yl=0;var z=C(v,_,A,O);return Vs=null,z}catch(E){if(E===fo||E===Tf)throw E;var F=nn(29,E,null,v.mode);return F.lanes=O,F.return=v,F}finally{}}}var Ia=Aw(!0),xw=Aw(!1),ai=!1;function Wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ip(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ei(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=dh(t),yw(t,null,n),e}return bf(t,r,e,n),dh(t)}function xl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HE(t,n)}}function Hd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ap=!1;function Rl(){if(ap){var t=Ps;if(t!==null)throw t}}function Cl(t,e,n,r){ap=!1;var i=t.updateQueue;ai=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;s=0,h=c=u=null,o=a;do{var p=o.lane&-536870913,y=p!==o.lane;if(y?(de&p)===p:(r&p)===p){p!==0&&p===Ys&&(ap=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,N=o;p=e;var C=n;switch(N.tag){case 1:if(S=N.payload,typeof S=="function"){m=S.call(C,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=N.payload,p=typeof S=="function"?S.call(C,m,p):S,p==null)break e;m=Me({},m,p);break e;case 2:ai=!0}}p=o.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[p]:y.push(p))}else y={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=y,u=m):h=h.next=y,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,a===null&&(i.shared.lanes=0),Li|=s,t.lanes=s,t.memoizedState=m}}function Rw(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function Cw(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Rw(n[t],e)}var Ks=cr(null),yh=cr(0);function u0(t,e){t=Lr,Ce(yh,t),Ce(Ks,e),Lr=t|e.baseLanes}function sp(){Ce(yh,Lr),Ce(Ks,Ks.current)}function Qg(){Lr=yh.current,yt(Ks),yt(yh)}var fn=cr(null),An=null;function oi(t){var e=t.alternate;Ce(Ke,Ke.current&1),Ce(fn,t),An===null&&(e===null||Ks.current!==null||e.memoizedState!==null)&&(An=t)}function op(t){Ce(Ke,Ke.current),Ce(fn,t),An===null&&(An=t)}function Nw(t){t.tag===22?(Ce(Ke,Ke.current),Ce(fn,t),An===null&&(An=t)):li()}function li(){Ce(Ke,Ke.current),Ce(fn,fn.current)}function tn(t){yt(fn),An===t&&(An=null),yt(Ke)}var Ke=cr(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||xp(n)||Rp(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mr=0,ie=null,we=null,Ze=null,_h=!1,Ls=!1,Da=!1,bh=0,Kl=0,js=null,S2=0;function Ge(){throw Error(U(321))}function Xg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function Jg(t,e,n,r,i,a){return Mr=a,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ee.H=t===null||t.memoizedState===null?sS:uy,Da=!1,a=n(r,i),Da=!1,Ls&&(a=Dw(e,n,r,i)),Iw(t),a}function Iw(t){ee.H=Wl;var e=we!==null&&we.next!==null;if(Mr=0,Ze=we=ie=null,_h=!1,Kl=0,js=null,e)throw Error(U(300));t===null||rt||(t=t.dependencies,t!==null&&ph(t)&&(rt=!0))}function Dw(t,e,n,r){ie=t;var i=0;do{if(Ls&&(js=null),Kl=0,Ls=!1,25<=i)throw Error(U(301));if(i+=1,Ze=we=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ee.H=oS,a=e(n,r)}while(Ls);return a}function A2(){var t=ee.H,e=t.useState()[0];return e=typeof e.then=="function"?bu(e):e,t=t.useState()[0],(we!==null?we.memoizedState:null)!==t&&(ie.flags|=1024),e}function Zg(){var t=bh!==0;return bh=0,t}function ey(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ty(t){if(_h){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}_h=!1}Mr=0,Ze=we=ie=null,Ls=!1,Kl=bh=0,js=null}function Vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ie.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Qe(){if(we===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=Ze===null?ie.memoizedState:Ze.next;if(e!==null)Ze=e,we=t;else{if(t===null)throw ie.alternate===null?Error(U(467)):Error(U(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ze===null?ie.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(t){var e=Kl;return Kl+=1,js===null&&(js=[]),t=Sw(js,t,e),e=ie,(Ze===null?e.memoizedState:Ze.next)===null&&(e=e.alternate,ee.H=e===null||e.memoizedState===null?sS:uy),t}function wf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bu(t);if(t.$$typeof===wr)return Rt(t)}throw Error(U(438,String(t)))}function ny(t){var e=null,n=ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ie.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ef(),ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=cN;return e.index++,n}function Pr(t,e){return typeof e=="function"?e(t):e}function jc(t){var e=Qe();return ry(e,we,t)}function ry(t,e,n){var r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,u=null,c=e,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(de&m)===m:(Mr&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Ys&&(h=!0);else if((Mr&p)===p){c=c.next,p===Ys&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=a):u=u.next=m,ie.lanes|=p,Li|=p;m=c.action,Da&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=p,s=a):u=u.next=p,ie.lanes|=m,Li|=m;c=c.next}while(c!==null&&c!==e);if(u===null?s=a:u.next=o,!hn(a,t.memoizedState)&&(rt=!0,h&&(n=Ps,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=u,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Gd(t){var e=Qe(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);hn(a,e.memoizedState)||(rt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Ow(t,e,n){var r=ie,i=Qe(),a=me;if(a){if(n===void 0)throw Error(U(407));n=n()}else n=e();var s=!hn((we||i).memoizedState,n);if(s&&(i.memoizedState=n,rt=!0),i=i.queue,iy(Pw.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Ws(9,{destroy:void 0},Mw.bind(null,r,i,n,e),null),Ae===null)throw Error(U(349));a||Mr&127||kw(r,e,n)}return n}function kw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e=Ef(),ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Mw(t,e,n,r){e.value=n,e.getSnapshot=r,Vw(e)&&Lw(t)}function Pw(t,e,n){return n(function(){Vw(e)&&Lw(t)})}function Vw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function Lw(t){var e=Fa(t,2);e!==null&&Yt(e,t,2)}function lp(t){var e=Vt();if(typeof t=="function"){var n=t;if(t=n(),Da){mi(!0);try{n()}finally{mi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:t},e}function jw(t,e,n,r){return t.baseState=n,ry(t,we,typeof r=="function"?r:Pr)}function x2(t,e,n,r,i){if(Af(t))throw Error(U(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ee.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,Uw(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Uw(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=ee.T,s={};ee.T=s;try{var o=n(i,r),u=ee.S;u!==null&&u(s,o),c0(t,e,o)}catch(c){up(t,e,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),ee.T=a}}else try{a=n(i,r),c0(t,e,a)}catch(c){up(t,e,c)}}function c0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){h0(t,e,r)},function(r){return up(t,e,r)}):h0(t,e,n)}function h0(t,e,n){e.status="fulfilled",e.value=n,zw(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Uw(t,n)))}function up(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,zw(e),e=e.next;while(e!==r)}t.action=null}function zw(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Bw(t,e){return e}function f0(t,e){if(me){var n=Ae.formState;if(n!==null){e:{var r=ie;if(me){if(Oe){t:{for(var i=Oe,a=En;i.nodeType!==8;){if(!a){i=null;break t}if(i=xn(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Oe=xn(i.nextSibling),r=i.data==="F!";break e}}Pi(r)}r=!1}r&&(e=n[0])}}return n=Vt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bw,lastRenderedState:e},n.queue=r,n=rS.bind(null,ie,r),r.dispatch=n,r=lp(!1),a=ly.bind(null,ie,!1,r.queue),r=Vt(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=x2.bind(null,ie,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function d0(t){var e=Qe();return Fw(e,we,t)}function Fw(t,e,n){if(e=ry(t,e,Bw)[0],t=jc(Pr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=bu(e)}catch(s){throw s===fo?Tf:s}else r=e;e=Qe();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ie.flags|=2048,Ws(9,{destroy:void 0},R2.bind(null,i,n),null)),[r,a,t]}function R2(t,e){t.action=e}function m0(t){var e=Qe(),n=we;if(n!==null)return Fw(e,n,t);Qe(),e=e.memoizedState,n=Qe();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ws(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ie.updateQueue,e===null&&(e=Ef(),ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function qw(){return Qe().memoizedState}function Uc(t,e,n,r){var i=Vt();ie.flags|=t,i.memoizedState=Ws(1|e,{destroy:void 0},n,r===void 0?null:r)}function Sf(t,e,n,r){var i=Qe();r=r===void 0?null:r;var a=i.memoizedState.inst;we!==null&&r!==null&&Xg(r,we.memoizedState.deps)?i.memoizedState=Ws(e,a,n,r):(ie.flags|=t,i.memoizedState=Ws(1|e,a,n,r))}function p0(t,e){Uc(8390656,8,t,e)}function iy(t,e){Sf(2048,8,t,e)}function C2(t){ie.flags|=4;var e=ie.updateQueue;if(e===null)e=Ef(),ie.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function Hw(t){var e=Qe().memoizedState;return C2({ref:e,nextImpl:t}),function(){if(ge&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function Gw(t,e){return Sf(4,2,t,e)}function $w(t,e){return Sf(4,4,t,e)}function Yw(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kw(t,e,n){n=n!=null?n.concat([t]):null,Sf(4,4,Yw.bind(null,e,t),n)}function ay(){}function Ww(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Xg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qw(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Xg(e,r[1]))return r[0];if(r=t(),Da){mi(!0);try{t()}finally{mi(!1)}}return n.memoizedState=[r,e],r}function sy(t,e,n){return n===void 0||Mr&1073741824&&!(de&261930)?t.memoizedState=e:(t.memoizedState=n,t=jS(),ie.lanes|=t,Li|=t,n)}function Xw(t,e,n,r){return hn(n,e)?n:Ks.current!==null?(t=sy(t,n,r),hn(t,e)||(rt=!0),t):!(Mr&42)||Mr&1073741824&&!(de&261930)?(rt=!0,t.memoizedState=n):(t=jS(),ie.lanes|=t,Li|=t,e)}function Jw(t,e,n,r,i){var a=ye.p;ye.p=a!==0&&8>a?a:8;var s=ee.T,o={};ee.T=o,ly(t,!1,e,n);try{var u=i(),c=ee.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=w2(u,r);Nl(t,e,h,un(t))}else Nl(t,e,r,un(t))}catch(m){Nl(t,e,{then:function(){},status:"rejected",reason:m},un())}finally{ye.p=a,s!==null&&o.types!==null&&(s.types=o.types),ee.T=s}}function N2(){}function cp(t,e,n,r){if(t.tag!==5)throw Error(U(476));var i=Zw(t).queue;Jw(t,i,e,ba,n===null?N2:function(){return eS(t),n(r)})}function Zw(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ba,baseState:ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:ba},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function eS(t){var e=Zw(t);e.next===null&&(e=t.alternate.memoizedState),Nl(t,e.next.queue,{},un())}function oy(){return Rt(Jl)}function tS(){return Qe().memoizedState}function nS(){return Qe().memoizedState}function I2(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=un();t=Ei(n);var r=wi(e,t,n);r!==null&&(Yt(r,e,n),xl(r,e,n)),e={cache:$g()},t.payload=e;return}e=e.return}}function D2(t,e,n){var r=un();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Af(t)?iS(e,n):(n=Fg(t,e,n,r),n!==null&&(Yt(n,t,r),aS(n,e,r)))}function rS(t,e,n){var r=un();Nl(t,e,n,r)}function Nl(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Af(t))iS(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,hn(o,s))return bf(t,e,i,0),Ae===null&&_f(),!1}catch{}finally{}if(n=Fg(t,e,i,r),n!==null)return Yt(n,t,r),aS(n,e,r),!0}return!1}function ly(t,e,n,r){if(r={lane:2,revertLane:yy(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Af(t)){if(e)throw Error(U(479))}else e=Fg(t,n,r,2),e!==null&&Yt(e,t,2)}function Af(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function iS(t,e){Ls=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function aS(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,HE(t,n)}}var Wl={readContext:Rt,use:wf,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Wl.useEffectEvent=Ge;var sS={readContext:Rt,use:wf,useCallback:function(t,e){return Vt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:p0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Uc(4194308,4,Yw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uc(4194308,4,t,e)},useInsertionEffect:function(t,e){Uc(4,2,t,e)},useMemo:function(t,e){var n=Vt();e=e===void 0?null:e;var r=t();if(Da){mi(!0);try{t()}finally{mi(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Vt();if(n!==void 0){var i=n(e);if(Da){mi(!0);try{n(e)}finally{mi(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=D2.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=Vt();return t={current:t},e.memoizedState=t},useState:function(t){t=lp(t);var e=t.queue,n=rS.bind(null,ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:ay,useDeferredValue:function(t,e){var n=Vt();return sy(n,t,e)},useTransition:function(){var t=lp(!1);return t=Jw.bind(null,ie,t.queue,!0,!1),Vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ie,i=Vt();if(me){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ae===null)throw Error(U(349));de&127||kw(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,p0(Pw.bind(null,r,a,t),[t]),r.flags|=2048,Ws(9,{destroy:void 0},Mw.bind(null,r,a,n,e),null),n},useId:function(){var t=Vt(),e=Ae.identifierPrefix;if(me){var n=Zn,r=Jn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=bh++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=S2++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:oy,useFormState:f0,useActionState:f0,useOptimistic:function(t){var e=Vt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ly.bind(null,ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:ny,useCacheRefresh:function(){return Vt().memoizedState=I2.bind(null,ie)},useEffectEvent:function(t){var e=Vt(),n={impl:t};return e.memoizedState=n,function(){if(ge&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},uy={readContext:Rt,use:wf,useCallback:Ww,useContext:Rt,useEffect:iy,useImperativeHandle:Kw,useInsertionEffect:Gw,useLayoutEffect:$w,useMemo:Qw,useReducer:jc,useRef:qw,useState:function(){return jc(Pr)},useDebugValue:ay,useDeferredValue:function(t,e){var n=Qe();return Xw(n,we.memoizedState,t,e)},useTransition:function(){var t=jc(Pr)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:bu(t),e]},useSyncExternalStore:Ow,useId:tS,useHostTransitionStatus:oy,useFormState:d0,useActionState:d0,useOptimistic:function(t,e){var n=Qe();return jw(n,we,t,e)},useMemoCache:ny,useCacheRefresh:nS};uy.useEffectEvent=Hw;var oS={readContext:Rt,use:wf,useCallback:Ww,useContext:Rt,useEffect:iy,useImperativeHandle:Kw,useInsertionEffect:Gw,useLayoutEffect:$w,useMemo:Qw,useReducer:Gd,useRef:qw,useState:function(){return Gd(Pr)},useDebugValue:ay,useDeferredValue:function(t,e){var n=Qe();return we===null?sy(n,t,e):Xw(n,we.memoizedState,t,e)},useTransition:function(){var t=Gd(Pr)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:bu(t),e]},useSyncExternalStore:Ow,useId:tS,useHostTransitionStatus:oy,useFormState:m0,useActionState:m0,useOptimistic:function(t,e){var n=Qe();return we!==null?jw(n,we,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ny,useCacheRefresh:nS};oS.useEffectEvent=Hw;function $d(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hp={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=Ei(r);i.payload=e,n!=null&&(i.callback=n),e=wi(t,i,r),e!==null&&(Yt(e,t,r),xl(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=Ei(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=wi(t,i,r),e!==null&&(Yt(e,t,r),xl(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=Ei(n);r.tag=2,e!=null&&(r.callback=e),e=wi(t,r,n),e!==null&&(Yt(e,t,n),xl(e,t,n))}};function g0(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,r)||!Hl(i,a):!0}function y0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hp.enqueueReplaceState(e,e.state,null)}function Oa(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Me({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function lS(t){fh(t)}function uS(t){console.error(t)}function cS(t){fh(t)}function Th(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function v0(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fp(t,e,n){return n=Ei(n),n.tag=3,n.payload={element:null},n.callback=function(){Th(t,e)},n}function hS(t){return t=Ei(t),t.tag=3,t}function fS(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){v0(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){v0(e,n,r),typeof i!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function O2(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&ho(e,n,i,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return An===null?xh():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===gh?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),rm(t,r,i)),!1;case 22:return n.flags|=65536,r===gh?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),rm(t,r,i)),!1}throw Error(U(435,n.tag))}return rm(t,r,i),xh(),!1}if(me)return e=fn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Zm&&(t=Error(U(422),{cause:r}),$l(Tn(t,n)))):(r!==Zm&&(e=Error(U(423),{cause:r}),$l(Tn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Tn(r,n),i=fp(t.stateNode,r,i),Hd(t,i),$e!==4&&($e=2)),!1;var a=Error(U(520),{cause:r});if(a=Tn(a,n),Ol===null?Ol=[a]:Ol.push(a),$e!==4&&($e=2),e===null)return!0;r=Tn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=fp(n.stateNode,r,t),Hd(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=hS(i),fS(i,t,n,r),Hd(n,i),!1}n=n.return}while(n!==null);return!1}var cy=Error(U(461)),rt=!1;function Tt(t,e,n,r){e.child=t===null?xw(e,null,n,r):Ia(e,t.child,n,r)}function _0(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Na(e),r=Jg(t,e,n,s,a,i),o=Zg(),t!==null&&!rt?(ey(t,e,i),Vr(t,e,i)):(me&&o&&Hg(e),e.flags|=1,Tt(t,e,r,i),e.child)}function b0(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!qg(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,dS(t,e,a,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!hy(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(s,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=Cr(a,r),t.ref=e.ref,t.return=e,e.child=t}function dS(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Hl(a,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=a,hy(t,i))t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return dp(t,e,n,r,i)}function mS(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return T0(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lc(e,a!==null?a.cachePool:null),a!==null?u0(e,a):sp(),Nw(e);else return r=e.lanes=536870912,T0(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Lc(e,a.cachePool),u0(e,a),li(),e.memoizedState=null):(t!==null&&Lc(e,null),sp(),li());return Tt(t,e,i,n),e.child}function fl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function T0(t,e,n,r,i){var a=Yg();return a=a===null?null:{parent:tt._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Lc(e,null),sp(),Nw(e),t!==null&&ho(t,e,r,!0),e.childLanes=i,null}function zc(t,e){return e=Eh({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function E0(t,e,n){return Ia(e,t.child,null,n),t=zc(e,e.pendingProps),t.flags|=2,tn(e),e.memoizedState=null,t}function k2(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(me){if(r.mode==="hidden")return t=zc(e,r),e.lanes=536870912,fl(null,t);if(op(e),(t=Oe)?(t=s1(t,En),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=_w(t),n.return=e,e.child=n,St=e,Oe=null)):t=null,t===null)throw Pi(e);return e.lanes=536870912,null}return zc(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(op(e),i)if(e.flags&256)e.flags&=-257,e=E0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(rt||ho(t,e,n,!1),i=(n&t.childLanes)!==0,rt||i){if(r=Ae,r!==null&&(s=GE(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Fa(t,s),Yt(r,t,s),cy;xh(),e=E0(t,e,n)}else t=a.treeContext,Oe=xn(s.nextSibling),St=e,me=!0,Ti=null,En=!1,t!==null&&Tw(e,t),e=zc(e,r),e.flags|=4096;return e}return t=Cr(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Bc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function dp(t,e,n,r,i){return Na(e),n=Jg(t,e,n,r,void 0,i),r=Zg(),t!==null&&!rt?(ey(t,e,i),Vr(t,e,i)):(me&&r&&Hg(e),e.flags|=1,Tt(t,e,n,i),e.child)}function w0(t,e,n,r,i,a){return Na(e),e.updateQueue=null,n=Dw(e,r,n,i),Iw(t),r=Zg(),t!==null&&!rt?(ey(t,e,a),Vr(t,e,a)):(me&&r&&Hg(e),e.flags|=1,Tt(t,e,n,a),e.child)}function S0(t,e,n,r,i){if(Na(e),e.stateNode===null){var a=ws,s=n.contextType;typeof s=="object"&&s!==null&&(a=Rt(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=hp,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},Wg(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Rt(s):ws,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&($d(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&hp.enqueueReplaceState(a,a.state,null),Cl(e,r,a,i),Rl(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,u=Oa(n,o);a.props=u;var c=a.context,h=n.contextType;s=ws,typeof h=="object"&&h!==null&&(s=Rt(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&y0(e,a,r,s),ai=!1;var p=e.memoizedState;a.state=p,Cl(e,r,a,i),Rl(),c=e.memoizedState,o||p!==c||ai?(typeof m=="function"&&($d(e,n,m,r),c=e.memoizedState),(u=ai||g0(e,n,u,r,p,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,ip(t,e),s=e.memoizedProps,h=Oa(n,s),a.props=h,m=e.pendingProps,p=a.context,c=n.contextType,u=ws,typeof c=="object"&&c!==null&&(u=Rt(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||p!==u)&&y0(e,a,r,u),ai=!1,p=e.memoizedState,a.state=p,Cl(e,r,a,i),Rl();var y=e.memoizedState;s!==m||p!==y||ai||t!==null&&t.dependencies!==null&&ph(t.dependencies)?(typeof o=="function"&&($d(e,n,o,r),y=e.memoizedState),(h=ai||g0(e,n,h,r,p,y,u)||t!==null&&t.dependencies!==null&&ph(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Bc(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Ia(e,t.child,null,i),e.child=Ia(e,null,n,i)):Tt(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Vr(t,e,i),t}function A0(t,e,n,r){return Ca(),e.flags|=256,Tt(t,e,n,r),e.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(t){return{baseLanes:t,cachePool:ww()}}function Wd(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=rn),t}function pS(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(me){if(i?oi(e):li(),(t=Oe)?(t=s1(t,En),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=_w(t),n.return=e,e.child=n,St=e,Oe=null)):t=null,t===null)throw Pi(e);return Rp(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(li(),i=e.mode,o=Eh({mode:"hidden",children:o},i),r=Ta(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Kd(n),r.childLanes=Wd(t,s,n),e.memoizedState=Yd,fl(null,r)):(oi(e),mp(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(a)e.flags&256?(oi(e),e.flags&=-257,e=Qd(t,e,n)):e.memoizedState!==null?(li(),e.child=t.child,e.flags|=128,e=null):(li(),o=r.fallback,i=e.mode,r=Eh({mode:"visible",children:r.children},i),o=Ta(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Ia(e,t.child,null,n),r=e.child,r.memoizedState=Kd(n),r.childLanes=Wd(t,s,n),e.memoizedState=Yd,e=fl(null,r));else if(oi(e),Rp(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(U(419)),r.stack="",r.digest=s,$l({value:r,source:null,stack:null}),e=Qd(t,e,n)}else if(rt||ho(t,e,n,!1),s=(n&t.childLanes)!==0,rt||s){if(s=Ae,s!==null&&(r=GE(s,n),r!==0&&r!==u.retryLane))throw u.retryLane=r,Fa(t,r),Yt(s,t,r),cy;xp(o)||xh(),e=Qd(t,e,n)}else xp(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Oe=xn(o.nextSibling),St=e,me=!0,Ti=null,En=!1,t!==null&&Tw(e,t),e=mp(e,r.children),e.flags|=4096);return e}return i?(li(),o=r.fallback,i=e.mode,u=t.child,c=u.sibling,r=Cr(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=Cr(c,o):(o=Ta(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,fl(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Kd(n):(i=o.cachePool,i!==null?(u=tt._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=ww(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Wd(t,s,n),e.memoizedState=Yd,fl(t.child,r)):(oi(e),n=t.child,t=n.sibling,n=Cr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function mp(t,e){return e=Eh({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Eh(t,e){return t=nn(22,t,null,e),t.lanes=0,t}function Qd(t,e,n){return Ia(e,t.child,null,n),t=mp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function x0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tp(t.return,e,n)}function Xd(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function gS(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Ke.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Ce(Ke,s),Tt(t,e,r,n),r=me?Gl:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x0(t,n,e);else if(t.tag===19)x0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xd(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xd(e,!0,n,null,a,r);break;case"together":Xd(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Li|=e.lanes,!(n&e.childLanes))if(t!==null){if(ho(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function hy(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ph(t)))}function M2(t,e,n){switch(e.tag){case 3:lh(e,e.stateNode.containerInfo),si(e,tt,t.memoizedState.cache),Ca();break;case 27:case 5:Fm(e);break;case 4:lh(e,e.stateNode.containerInfo);break;case 10:si(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,op(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(oi(e),e.flags|=128,null):n&e.child.childLanes?pS(t,e,n):(oi(e),t=Vr(t,e,n),t!==null?t.sibling:null);oi(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(ho(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return gS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(Ke,Ke.current),r)break;return null;case 22:return e.lanes=0,mS(t,e,n,e.pendingProps);case 24:si(e,tt,t.memoizedState.cache)}return Vr(t,e,n)}function yS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)rt=!0;else{if(!hy(t,n)&&!(e.flags&128))return rt=!1,M2(t,e,n);rt=!!(t.flags&131072)}else rt=!1,me&&e.flags&1048576&&bw(e,Gl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=pa(e.elementType),e.type=t,typeof t=="function")qg(t)?(r=Oa(t,r),e.tag=1,e=S0(null,e,t,r,n)):(e.tag=0,e=dp(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===Ng){e.tag=11,e=_0(null,e,t,r,n);break e}else if(i===Ig){e.tag=14,e=b0(null,e,t,r,n);break e}}throw e=zm(t)||t,Error(U(306,e,""))}}return e;case 0:return dp(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Oa(r,e.pendingProps),S0(t,e,r,i,n);case 3:e:{if(lh(e,e.stateNode.containerInfo),t===null)throw Error(U(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,ip(t,e),Cl(e,r,null,n);var s=e.memoizedState;if(r=s.cache,si(e,tt,r),r!==a.cache&&np(e,[tt],n,!0),Rl(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=A0(t,e,r,n);break e}else if(r!==i){i=Tn(Error(U(424)),e),$l(i),e=A0(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=xn(t.firstChild),St=e,me=!0,Ti=null,En=!0,n=xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ca(),r===i){e=Vr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 26:return Bc(t,e),t===null?(n=$0(e.type,null,e.pendingProps,null))?e.memoizedState=n:me||(n=e.type,t=e.pendingProps,r=Ih(bi.current).createElement(n),r[wt]=e,r[Wt]=t,Ct(r,n,t),gt(r),e.stateNode=r):e.memoizedState=$0(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Fm(e),t===null&&me&&(r=e.stateNode=o1(e.type,e.pendingProps,bi.current),St=e,En=!0,i=Oe,Yi(e.type)?(Cp=i,Oe=xn(r.firstChild)):Oe=i),Tt(t,e,e.pendingProps.children,n),Bc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&me&&((i=r=Oe)&&(r=cI(r,e.type,e.pendingProps,En),r!==null?(e.stateNode=r,St=e,Oe=xn(r.firstChild),En=!1,i=!0):i=!1),i||Pi(e)),Fm(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,Sp(i,a)?r=null:s!==null&&Sp(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=Jg(t,e,A2,null,null,n),Jl._currentValue=i),Bc(t,e),Tt(t,e,r,n),e.child;case 6:return t===null&&me&&((t=n=Oe)&&(n=hI(n,e.pendingProps,En),n!==null?(e.stateNode=n,St=e,Oe=null,t=!0):t=!1),t||Pi(e)),null;case 13:return pS(t,e,n);case 4:return lh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return _0(t,e,e.type,e.pendingProps,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,si(e,e.type,r.value),Tt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Na(e),i=Rt(i),r=r(i),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return b0(t,e,e.type,e.pendingProps,n);case 15:return dS(t,e,e.type,e.pendingProps,n);case 19:return gS(t,e,n);case 31:return k2(t,e,n);case 22:return mS(t,e,n,e.pendingProps);case 24:return Na(e),r=Rt(tt),t===null?(i=Yg(),i===null&&(i=Ae,a=$g(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},Wg(e),si(e,tt,i)):(t.lanes&n&&(ip(t,e),Cl(e,null,null,n),Rl()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),si(e,tt,r)):(r=a.cache,si(e,tt,r),r!==i.cache&&np(e,[tt],n,!0))),Tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function yr(t){t.flags|=4}function Jd(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(BS())t.flags|=8192;else throw wa=gh,Kg}else t.flags&=-16777217}function R0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!c1(e))if(BS())t.flags|=8192;else throw wa=gh,Kg}function pc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?FE():536870912,t.lanes|=e,Qs|=e)}function il(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function De(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function P2(t,e,n){var r=e.pendingProps;switch(Gg(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(e),null;case 1:return De(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Nr(tt),Hs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ss(e)?yr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qd())),De(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(yr(e),a!==null?(De(e),R0(e,a)):(De(e),Jd(e,i,null,r,n))):a?a!==t.memoizedState?(yr(e),De(e),R0(e,a)):(De(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&yr(e),De(e),Jd(e,i,t,r,n)),null;case 27:if(uh(e),n=bi.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(!r){if(e.stateNode===null)throw Error(U(166));return De(e),null}t=tr.current,ss(e)?n0(e):(t=o1(i,r,n),e.stateNode=t,yr(e))}return De(e),null;case 5:if(uh(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(!r){if(e.stateNode===null)throw Error(U(166));return De(e),null}if(a=tr.current,ss(e))n0(e);else{var s=Ih(bi.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[wt]=e,a[Wt]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(Ct(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yr(e)}}return De(e),Jd(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(t=bi.current,ss(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=St,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[wt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||r1(t.nodeValue,n)),t||Pi(e,!0)}else t=Ih(t).createTextNode(r),t[wt]=e,e.stateNode=t}return De(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=ss(e),n!==null){if(t===null){if(!r)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[wt]=e}else Ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),t=!1}else n=qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(tn(e),e):(tn(e),null);if(e.flags&128)throw Error(U(558))}return De(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ss(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[wt]=e}else Ca(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;De(e),i=!1}else i=qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(tn(e),e):(tn(e),null)}return tn(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),pc(e,e.updateQueue),De(e),null);case 4:return Hs(),t===null&&vy(e.stateNode.containerInfo),De(e),null;case 10:return Nr(e.type),De(e),null;case 19:if(yt(Ke),r=e.memoizedState,r===null)return De(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)il(r,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vh(t),a!==null){for(e.flags|=128,il(r,!1),t=a.updateQueue,e.updateQueue=t,pc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)vw(n,t),n=n.sibling;return Ce(Ke,Ke.current&1|2),me&&Tr(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&sn()>Sh&&(e.flags|=128,i=!0,il(r,!1),e.lanes=4194304)}else{if(!i)if(t=vh(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,pc(e,t),il(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!me)return De(e),null}else 2*sn()-r.renderingStartTime>Sh&&n!==536870912&&(e.flags|=128,i=!0,il(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=sn(),t.sibling=null,n=Ke.current,Ce(Ke,i?n&1|2:n&1),me&&Tr(e,r.treeForkCount),t):(De(e),null);case 22:case 23:return tn(e),Qg(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(De(e),e.subtreeFlags&6&&(e.flags|=8192)):De(e),n=e.updateQueue,n!==null&&pc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&yt(Ea),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Nr(tt),De(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function V2(t,e){switch(Gg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Nr(tt),Hs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uh(e),null;case 31:if(e.memoizedState!==null){if(tn(e),e.alternate===null)throw Error(U(340));Ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(tn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ca()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Ke),null;case 4:return Hs(),null;case 10:return Nr(e.type),null;case 22:case 23:return tn(e),Qg(),t!==null&&yt(Ea),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Nr(tt),null;case 25:return null;default:return null}}function vS(t,e){switch(Gg(e),e.tag){case 3:Nr(tt),Hs();break;case 26:case 27:case 5:uh(e);break;case 4:Hs();break;case 31:e.memoizedState!==null&&tn(e);break;case 13:tn(e);break;case 19:yt(Ke);break;case 10:Nr(e.type);break;case 22:case 23:tn(e),Qg(),t!==null&&yt(Ea);break;case 24:Nr(tt)}}function Tu(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Te(e,e.return,o)}}function Vi(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var u=n,c=o;try{c()}catch(h){Te(i,u,h)}}}r=r.next}while(r!==a)}}catch(h){Te(e,e.return,h)}}function _S(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Cw(e,n)}catch(r){Te(t,t.return,r)}}}function bS(t,e,n){n.props=Oa(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Te(t,e,r)}}function Il(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Te(t,e,i)}}function er(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Te(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Te(t,e,i)}else n.current=null}function TS(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Te(t,t.return,i)}}function Zd(t,e,n){try{var r=t.stateNode;iI(r,t.type,n,e),r[Wt]=e}catch(i){Te(t,t.return,i)}}function ES(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ES(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sr));else if(r!==4&&(r===27&&Yi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(pp(t,e,n),t=t.sibling;t!==null;)pp(t,e,n),t=t.sibling}function wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Yi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(wh(t,e,n),t=t.sibling;t!==null;)wh(t,e,n),t=t.sibling}function wS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ct(e,r,n),e[wt]=t,e[Wt]=n}catch(a){Te(t,t.return,a)}}var Er=!1,et=!1,tm=!1,C0=typeof WeakSet=="function"?WeakSet:Set,pt=null;function L2(t,e){if(t=t.containerInfo,Ep=Mh,t=cw(t),zg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,c=0,h=0,m=t,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(o=s+i),m!==a||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++c===i&&(o=s),p===a&&++h===r&&(u=s),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wp={focusedElem:t,selectionRange:n},Mh=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){switch(e=pt,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var S=Oa(n.type,i);t=r.getSnapshotBeforeUpdate(S,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(N){Te(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ap(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ap(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}}function SS(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_r(t,n),r&4&&Tu(5,n);break;case 1:if(_r(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Te(n,n.return,s)}else{var i=Oa(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Te(n,n.return,s)}}r&64&&_S(n),r&512&&Il(n,n.return);break;case 3:if(_r(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Cw(t,e)}catch(s){Te(n,n.return,s)}}break;case 27:e===null&&r&4&&wS(n);case 26:case 5:_r(t,n),e===null&&r&4&&TS(n),r&512&&Il(n,n.return);break;case 12:_r(t,n);break;case 31:_r(t,n),r&4&&RS(t,n);break;case 13:_r(t,n),r&4&&CS(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=$2.bind(null,n),fI(t,n))));break;case 22:if(r=n.memoizedState!==null||Er,!r){e=e!==null&&e.memoizedState!==null||et,i=Er;var a=et;Er=r,(et=e)&&!a?br(t,n,(n.subtreeFlags&8772)!==0):_r(t,n),Er=i,et=a}break;case 30:break;default:_r(t,n)}}function AS(t){var e=t.alternate;e!==null&&(t.alternate=null,AS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Mg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Le=null,qt=!1;function vr(t,e,n){for(n=n.child;n!==null;)xS(t,e,n),n=n.sibling}function xS(t,e,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 26:et||er(n,e),vr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:et||er(n,e);var r=Le,i=qt;Yi(n.type)&&(Le=n.stateNode,qt=!1),vr(t,e,n),Ml(n.stateNode),Le=r,qt=i;break;case 5:et||er(n,e);case 6:if(r=Le,i=qt,Le=null,vr(t,e,n),Le=r,qt=i,Le!==null)if(qt)try{(Le.nodeType===9?Le.body:Le.nodeName==="HTML"?Le.ownerDocument.body:Le).removeChild(n.stateNode)}catch(a){Te(n,e,a)}else try{Le.removeChild(n.stateNode)}catch(a){Te(n,e,a)}break;case 18:Le!==null&&(qt?(t=Le,B0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),eo(t)):B0(Le,n.stateNode));break;case 4:r=Le,i=qt,Le=n.stateNode.containerInfo,qt=!0,vr(t,e,n),Le=r,qt=i;break;case 0:case 11:case 14:case 15:Vi(2,n,e),et||Vi(4,n,e),vr(t,e,n);break;case 1:et||(er(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&bS(n,e,r)),vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:et=(r=et)||n.memoizedState!==null,vr(t,e,n),et=r;break;default:vr(t,e,n)}}function RS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(n){Te(e,e.return,n)}}}function CS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(n){Te(e,e.return,n)}}function j2(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new C0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new C0),e;default:throw Error(U(435,t.tag))}}function gc(t,e){var n=j2(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=Y2.bind(null,t,r);r.then(i,i)}})}function Bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Yi(o.type)){Le=o.stateNode,qt=!1;break e}break;case 5:Le=o.stateNode,qt=!1;break e;case 3:case 4:Le=o.stateNode.containerInfo,qt=!0;break e}o=o.return}if(Le===null)throw Error(U(160));xS(a,s,i),Le=null,qt=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)NS(e,t),e=e.sibling}var Mn=null;function NS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(e,t),Ft(t),r&4&&(Vi(3,t,t.return),Tu(3,t),Vi(5,t,t.return));break;case 1:Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),r&64&&Er&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Mn;if(Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[yu]||a[wt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Ct(a,r,n),a[wt]=t,gt(a),r=a;break e;case"link":var s=K0("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Ct(a,r,n),i.head.appendChild(a);break;case"meta":if(s=K0("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Ct(a,r,n),i.head.appendChild(a);break;default:throw Error(U(468,r))}a[wt]=t,gt(a),r=a}t.stateNode=r}else W0(i,t.type,t.stateNode);else t.stateNode=Y0(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?W0(i,t.type,t.stateNode):Y0(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Zd(t,t.memoizedProps,n.memoizedProps)}break;case 27:Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),n!==null&&r&4&&Zd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),t.flags&32){i=t.stateNode;try{$s(i,"")}catch(S){Te(t,t.return,S)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Zd(t,i,n!==null?n.memoizedProps:i)),r&1024&&(tm=!0);break;case 6:if(Bt(e,t),Ft(t),r&4){if(t.stateNode===null)throw Error(U(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(S){Te(t,t.return,S)}}break;case 3:if(Hc=null,i=Mn,Mn=Dh(e.containerInfo),Bt(e,t),Mn=i,Ft(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(e.containerInfo)}catch(S){Te(t,t.return,S)}tm&&(tm=!1,IS(t));break;case 4:r=Mn,Mn=Dh(t.stateNode.containerInfo),Bt(e,t),Ft(t),Mn=r;break;case 12:Bt(e,t),Ft(t);break;case 31:Bt(e,t),Ft(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gc(t,r)));break;case 13:Bt(e,t),Ft(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(xf=sn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gc(t,r)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Er,h=et;if(Er=c||i,et=h||u,Bt(e,t),et=h,Er=c,Ft(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||Er||et||ga(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(a=u.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(S){Te(u,u.return,S)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(S){Te(u,u.return,S)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;i?F0(y,!0):F0(u.stateNode,!1)}catch(S){Te(u,u.return,S)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gc(t,n))));break;case 19:Bt(e,t),Ft(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gc(t,r)));break;case 30:break;case 21:break;default:Bt(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(ES(r)){n=r;break}r=r.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var i=n.stateNode,a=em(t);wh(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&($s(s,""),n.flags&=-33);var o=em(t);wh(t,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=em(t);pp(t,c,u);break;default:throw Error(U(161))}}catch(h){Te(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IS(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;IS(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function _r(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)SS(t,e.alternate,e),e=e.sibling}function ga(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Vi(4,e,e.return),ga(e);break;case 1:er(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&bS(e,e.return,n),ga(e);break;case 27:Ml(e.stateNode);case 26:case 5:er(e,e.return),ga(e);break;case 22:e.memoizedState===null&&ga(e);break;case 30:ga(e);break;default:ga(e)}t=t.sibling}}function br(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:br(i,a,n),Tu(4,a);break;case 1:if(br(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Te(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)Rw(u[i],o)}catch(c){Te(r,r.return,c)}}n&&s&64&&_S(a),Il(a,a.return);break;case 27:wS(a);case 26:case 5:br(i,a,n),n&&r===null&&s&4&&TS(a),Il(a,a.return);break;case 12:br(i,a,n);break;case 31:br(i,a,n),n&&s&4&&RS(i,a);break;case 13:br(i,a,n),n&&s&4&&CS(i,a);break;case 22:a.memoizedState===null&&br(i,a,n),Il(a,a.return);break;case 30:break;default:br(i,a,n)}e=e.sibling}}function fy(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&_u(n))}function dy(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_u(t))}function kn(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DS(t,e,n,r),e=e.sibling}function DS(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:kn(t,e,n,r),i&2048&&Tu(9,e);break;case 1:kn(t,e,n,r);break;case 3:kn(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_u(t)));break;case 12:if(i&2048){kn(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Te(e,e.return,u)}}else kn(t,e,n,r);break;case 31:kn(t,e,n,r);break;case 13:kn(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?kn(t,e,n,r):Dl(t,e):a._visibility&2?kn(t,e,n,r):(a._visibility|=2,us(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&fy(s,e);break;case 24:kn(t,e,n,r),i&2048&&dy(e.alternate,e);break;default:kn(t,e,n,r)}}function us(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,u=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:us(a,s,o,u,i),Tu(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?us(a,s,o,u,i):Dl(a,s):(h._visibility|=2,us(a,s,o,u,i)),i&&c&2048&&fy(s.alternate,s);break;case 24:us(a,s,o,u,i),i&&c&2048&&dy(s.alternate,s);break;default:us(a,s,o,u,i)}e=e.sibling}}function Dl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Dl(n,r),i&2048&&fy(r.alternate,r);break;case 24:Dl(n,r),i&2048&&dy(r.alternate,r);break;default:Dl(n,r)}e=e.sibling}}var dl=8192;function os(t,e,n){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)OS(t,e,n),t=t.sibling}function OS(t,e,n){switch(t.tag){case 26:os(t,e,n),t.flags&dl&&t.memoizedState!==null&&SI(n,Mn,t.memoizedState,t.memoizedProps);break;case 5:os(t,e,n);break;case 3:case 4:var r=Mn;Mn=Dh(t.stateNode.containerInfo),os(t,e,n),Mn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=dl,dl=16777216,os(t,e,n),dl=r):os(t,e,n));break;default:os(t,e,n)}}function kS(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function al(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];pt=r,PS(r,t)}kS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)MS(t),t=t.sibling}function MS(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Fc(t)):al(t);break;default:al(t)}}function Fc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];pt=r,PS(r,t)}kS(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Vi(8,e,e.return),Fc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Fc(e));break;default:Fc(e)}t=t.sibling}}function PS(t,e){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:Vi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:_u(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,pt=r;else e:for(n=t;pt!==null;){r=pt;var i=r.sibling,a=r.return;if(AS(r),r===n){pt=null;break e}if(i!==null){i.return=a,pt=i;break e}pt=a}}}var U2={getCacheForType:function(t){var e=Rt(tt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Rt(tt).controller.signal}},z2=typeof WeakMap=="function"?WeakMap:Map,ge=0,Ae=null,ue=null,de=0,be=0,en=null,gi=!1,mo=!1,my=!1,Lr=0,$e=0,Li=0,Sa=0,py=0,rn=0,Qs=0,Ol=null,Ht=null,gp=!1,xf=0,VS=0,Sh=1/0,Ah=null,Si=null,ot=0,Ai=null,Xs=null,Ir=0,yp=0,vp=null,LS=null,kl=0,_p=null;function un(){return ge&2&&de!==0?de&-de:ee.T!==null?yy():$E()}function jS(){if(rn===0)if(!(de&536870912)||me){var t=lc;lc<<=1,!(lc&3932160)&&(lc=262144),rn=t}else rn=536870912;return t=fn.current,t!==null&&(t.flags|=32),rn}function Yt(t,e,n){(t===Ae&&(be===2||be===9)||t.cancelPendingCommit!==null)&&(Js(t,0),yi(t,de,rn,!1)),gu(t,n),(!(ge&2)||t!==Ae)&&(t===Ae&&(!(ge&2)&&(Sa|=n),$e===4&&yi(t,de,rn,!1)),hr(t))}function US(t,e,n){if(ge&6)throw Error(U(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||pu(t,e),i=r?q2(t,e):nm(t,e,!0),a=r;do{if(i===0){mo&&!r&&yi(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!B2(n)){i=nm(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Ol;var u=o.current.memoizedState.isDehydrated;if(u&&(Js(o,s).flags|=256),s=nm(o,s,!1),s!==2){if(my&&!u){o.errorRecoveryDisabledLanes|=a,Sa|=a,i=4;break e}a=Ht,Ht=i,a!==null&&(Ht===null?Ht=a:Ht.push.apply(Ht,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Js(t,0),yi(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:yi(r,e,rn,!gi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(i=xf+300-sn(),10<i)){if(yi(r,e,rn,!gi),pf(r,0,!0)!==0)break e;Ir=e,r.timeoutHandle=a1(N0.bind(null,r,n,Ht,Ah,gp,e,rn,Sa,Qs,gi,a,"Throttled",-0,0),i);break e}N0(r,n,Ht,Ah,gp,e,rn,Sa,Qs,gi,a,null,-0,0)}}break}while(!0);hr(t)}function N0(t,e,n,r,i,a,s,o,u,c,h,m,p,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},OS(e,a,m);var S=(a&62914560)===a?xf-sn():(a&4194048)===a?VS-sn():0;if(S=AI(m,S),S!==null){Ir=a,t.cancelPendingCommit=S(D0.bind(null,t,e,a,n,r,i,s,o,u,h,m,null,p,y)),yi(t,a,s,!c);return}}D0(t,e,a,n,r,i,s,o,u)}function B2(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!hn(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e,n,r){e&=~py,e&=~Sa,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-ln(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&qE(t,n,e)}function Rf(){return ge&6?!0:(Eu(0),!1)}function gy(){if(ue!==null){if(be===0)var t=ue.return;else t=ue,Ar=qa=null,ty(t),Vs=null,Yl=0,t=ue;for(;t!==null;)vS(t.alternate,t),t=t.return;ue=null}}function Js(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,oI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ir=0,gy(),Ae=t,ue=n=Cr(t.current,null),de=e,be=0,en=null,gi=!1,mo=pu(t,e),my=!1,Qs=rn=py=Sa=Li=$e=0,Ht=Ol=null,gp=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-ln(r),a=1<<i;e|=t[i],r&=~a}return Lr=e,_f(),n}function zS(t,e){ie=null,ee.H=Wl,e===fo||e===Tf?(e=o0(),be=3):e===Kg?(e=o0(),be=4):be=e===cy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,en=e,ue===null&&($e=1,Th(t,Tn(e,t.current)))}function BS(){var t=fn.current;return t===null?!0:(de&4194048)===de?An===null:(de&62914560)===de||de&536870912?t===An:!1}function FS(){var t=ee.H;return ee.H=Wl,t===null?Wl:t}function qS(){var t=ee.A;return ee.A=U2,t}function xh(){$e=4,gi||(de&4194048)!==de&&fn.current!==null||(mo=!0),!(Li&134217727)&&!(Sa&134217727)||Ae===null||yi(Ae,de,rn,!1)}function nm(t,e,n){var r=ge;ge|=2;var i=FS(),a=qS();(Ae!==t||de!==e)&&(Ah=null,Js(t,e)),e=!1;var s=$e;e:do try{if(be!==0&&ue!==null){var o=ue,u=en;switch(be){case 8:gy(),s=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(e=!0);var c=be;if(be=0,en=null,xs(t,o,u,c),n&&mo){s=0;break e}break;default:c=be,be=0,en=null,xs(t,o,u,c)}}F2(),s=$e;break}catch(h){zS(t,h)}while(!0);return e&&t.shellSuspendCounter++,Ar=qa=null,ge=r,ee.H=i,ee.A=a,ue===null&&(Ae=null,de=0,_f()),s}function F2(){for(;ue!==null;)HS(ue)}function q2(t,e){var n=ge;ge|=2;var r=FS(),i=qS();Ae!==t||de!==e?(Ah=null,Sh=sn()+500,Js(t,e)):mo=pu(t,e);e:do try{if(be!==0&&ue!==null){e=ue;var a=en;t:switch(be){case 1:be=0,en=null,xs(t,e,a,1);break;case 2:case 9:if(s0(a)){be=0,en=null,I0(e);break}e=function(){be!==2&&be!==9||Ae!==t||(be=7),hr(t)},a.then(e,e);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:s0(a)?(be=0,en=null,I0(e)):(be=0,en=null,xs(t,e,a,7));break;case 5:var s=null;switch(ue.tag){case 26:s=ue.memoizedState;case 5:case 27:var o=ue;if(s?c1(s):o.stateNode.complete){be=0,en=null;var u=o.sibling;if(u!==null)ue=u;else{var c=o.return;c!==null?(ue=c,Cf(c)):ue=null}break t}}be=0,en=null,xs(t,e,a,5);break;case 6:be=0,en=null,xs(t,e,a,6);break;case 8:gy(),$e=6;break e;default:throw Error(U(462))}}H2();break}catch(h){zS(t,h)}while(!0);return Ar=qa=null,ee.H=r,ee.A=i,ge=n,ue!==null?0:(Ae=null,de=0,_f(),$e)}function H2(){for(;ue!==null&&!dN();)HS(ue)}function HS(t){var e=yS(t.alternate,t,Lr);t.memoizedProps=t.pendingProps,e===null?Cf(t):ue=e}function I0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=w0(n,e,e.pendingProps,e.type,void 0,de);break;case 11:e=w0(n,e,e.pendingProps,e.type.render,e.ref,de);break;case 5:ty(e);default:vS(n,e),e=ue=vw(e,Lr),e=yS(n,e,Lr)}t.memoizedProps=t.pendingProps,e===null?Cf(t):ue=e}function xs(t,e,n,r){Ar=qa=null,ty(e),Vs=null,Yl=0;var i=e.return;try{if(O2(t,i,e,n,de)){$e=1,Th(t,Tn(n,t.current)),ue=null;return}}catch(a){if(i!==null)throw ue=i,a;$e=1,Th(t,Tn(n,t.current)),ue=null;return}e.flags&32768?(me||r===1?t=!0:mo||de&536870912?t=!1:(gi=t=!0,(r===2||r===9||r===3||r===6)&&(r=fn.current,r!==null&&r.tag===13&&(r.flags|=16384))),GS(e,t)):Cf(e)}function Cf(t){var e=t;do{if(e.flags&32768){GS(e,gi);return}t=e.return;var n=P2(e.alternate,e,Lr);if(n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);$e===0&&($e=5)}function GS(t,e){do{var n=V2(t.alternate,t);if(n!==null){n.flags&=32767,ue=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ue=t;return}ue=t=n}while(t!==null);$e=6,ue=null}function D0(t,e,n,r,i,a,s,o,u){t.cancelPendingCommit=null;do Nf();while(ot!==0);if(ge&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(a=e.lanes|e.childLanes,a|=Bg,wN(t,n,a,s,o,u),t===Ae&&(ue=Ae=null,de=0),Xs=e,Ai=t,Ir=n,yp=a,vp=i,LS=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,K2(ch,function(){return QS(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ee.T,ee.T=null,i=ye.p,ye.p=2,s=ge,ge|=4;try{L2(t,e,n)}finally{ge=s,ye.p=i,ee.T=r}}ot=1,$S(),YS(),KS()}}function $S(){if(ot===1){ot=0;var t=Ai,e=Xs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ee.T,ee.T=null;var r=ye.p;ye.p=2;var i=ge;ge|=4;try{NS(e,t);var a=wp,s=cw(t.containerInfo),o=a.focusedElem,u=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&uw(o.ownerDocument.documentElement,o)){if(u!==null&&zg(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),S=o.textContent.length,N=Math.min(u.start,S),C=u.end===void 0?N:Math.min(u.end,S);!y.extend&&N>C&&(s=C,C=N,N=s);var v=Z_(o,N),_=Z_(o,C);if(v&&_&&(y.rangeCount!==1||y.anchorNode!==v.node||y.anchorOffset!==v.offset||y.focusNode!==_.node||y.focusOffset!==_.offset)){var A=m.createRange();A.setStart(v.node,v.offset),y.removeAllRanges(),N>C?(y.addRange(A),y.extend(_.node,_.offset)):(A.setEnd(_.node,_.offset),y.addRange(A))}}}}for(m=[],y=o;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var O=m[o];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Mh=!!Ep,wp=Ep=null}finally{ge=i,ye.p=r,ee.T=n}}t.current=e,ot=2}}function YS(){if(ot===2){ot=0;var t=Ai,e=Xs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ee.T,ee.T=null;var r=ye.p;ye.p=2;var i=ge;ge|=4;try{SS(t,e.alternate,e)}finally{ge=i,ye.p=r,ee.T=n}}ot=3}}function KS(){if(ot===4||ot===3){ot=0,mN();var t=Ai,e=Xs,n=Ir,r=LS;e.subtreeFlags&10256||e.flags&10256?ot=5:(ot=0,Xs=Ai=null,WS(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Si=null),kg(n),e=e.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(mu,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ee.T,i=ye.p,ye.p=2,ee.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ee.T=e,ye.p=i}}Ir&3&&Nf(),hr(t),i=t.pendingLanes,n&261930&&i&42?t===_p?kl++:(kl=0,_p=t):kl=0,Eu(0)}}function WS(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,_u(e)))}function Nf(){return $S(),YS(),KS(),QS()}function QS(){if(ot!==5)return!1;var t=Ai,e=yp;yp=0;var n=kg(Ir),r=ee.T,i=ye.p;try{ye.p=32>n?32:n,ee.T=null,n=vp,vp=null;var a=Ai,s=Ir;if(ot=0,Xs=Ai=null,Ir=0,ge&6)throw Error(U(331));var o=ge;if(ge|=4,MS(a.current),DS(a,a.current,s,n),ge=o,Eu(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(mu,a)}catch{}return!0}finally{ye.p=i,ee.T=r,WS(t,e)}}function O0(t,e,n){e=Tn(n,e),e=fp(t.stateNode,e,2),t=wi(t,e,2),t!==null&&(gu(t,2),hr(t))}function Te(t,e,n){if(t.tag===3)O0(t,t,n);else for(;e!==null;){if(e.tag===3){O0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=Tn(n,t),n=hS(2),r=wi(e,n,2),r!==null&&(fS(n,r,e,t),gu(r,2),hr(r));break}}e=e.return}}function rm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(my=!0,i.add(n),t=G2.bind(null,t,e,n),e.then(t,t))}function G2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ae===t&&(de&n)===n&&($e===4||$e===3&&(de&62914560)===de&&300>sn()-xf?!(ge&2)&&Js(t,0):py|=n,Qs===de&&(Qs=0)),hr(t)}function XS(t,e){e===0&&(e=FE()),t=Fa(t,e),t!==null&&(gu(t,e),hr(t))}function $2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),XS(t,n)}function Y2(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(U(314))}r!==null&&r.delete(e),XS(t,n)}function K2(t,e){return Dg(t,e)}var Rh=null,cs=null,bp=!1,Ch=!1,im=!1,vi=0;function hr(t){t!==cs&&t.next===null&&(cs===null?Rh=cs=t:cs=cs.next=t),Ch=!0,bp||(bp=!0,Q2())}function Eu(t,e){if(!im&&Ch){im=!0;do for(var n=!1,r=Rh;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ln(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,k0(r,a))}else a=de,a=pf(r,r===Ae?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||pu(r,a)||(n=!0,k0(r,a));r=r.next}while(n);im=!1}}function W2(){JS()}function JS(){Ch=bp=!1;var t=0;vi!==0&&sI()&&(t=vi);for(var e=sn(),n=null,r=Rh;r!==null;){var i=r.next,a=ZS(r,e);a===0?(r.next=null,n===null?Rh=i:n.next=i,i===null&&(cs=n)):(n=r,(t!==0||a&3)&&(Ch=!0)),r=i}ot!==0&&ot!==5||Eu(t),vi!==0&&(vi=0)}function ZS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-ln(a),o=1<<s,u=i[s];u===-1?(!(o&n)||o&r)&&(i[s]=EN(o,e)):u<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ae,n=de,n=pf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(be===2||be===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Od(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||pu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Od(r),kg(n)){case 2:case 8:n=zE;break;case 32:n=ch;break;case 268435456:n=BE;break;default:n=ch}return r=e1.bind(null,t),n=Dg(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Od(r),t.callbackPriority=2,t.callbackNode=null,2}function e1(t,e){if(ot!==0&&ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Nf()&&t.callbackNode!==n)return null;var r=de;return r=pf(t,t===Ae?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(US(t,r,e),ZS(t,sn()),t.callbackNode!=null&&t.callbackNode===n?e1.bind(null,t):null)}function k0(t,e){if(Nf())return null;US(t,e,!0)}function Q2(){lI(function(){ge&6?Dg(UE,W2):JS()})}function yy(){if(vi===0){var t=Ys;t===0&&(t=oc,oc<<=1,!(oc&261888)&&(oc=256)),vi=t}return vi}function M0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kc(""+t)}function P0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function X2(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=M0((i[Wt]||null).action),s=r.submitter;s&&(e=(e=s[Wt]||null)?M0(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new gf("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(vi!==0){var u=s?P0(i,s):new FormData(i);cp(n,{pending:!0,data:u,method:i.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=s?P0(i,s):new FormData(i),cp(n,{pending:!0,data:u,method:i.method,action:a},a,u))},currentTarget:i}]})}}for(var am=0;am<Jm.length;am++){var sm=Jm[am],J2=sm.toLowerCase(),Z2=sm[0].toUpperCase()+sm.slice(1);Bn(J2,"on"+Z2)}Bn(fw,"onAnimationEnd");Bn(dw,"onAnimationIteration");Bn(mw,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(p2,"onTransitionRun");Bn(g2,"onTransitionStart");Bn(y2,"onTransitionCancel");Bn(pw,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function t1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(h){fh(h)}i.currentTarget=null,a=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(h){fh(h)}i.currentTarget=null,a=u}}}}function le(t,e){var n=e[Hm];n===void 0&&(n=e[Hm]=new Set);var r=t+"__bubble";n.has(r)||(n1(e,t,2,!1),n.add(r))}function om(t,e,n){var r=0;e&&(r|=4),n1(n,t,r,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function vy(t){if(!t[yc]){t[yc]=!0,YE.forEach(function(n){n!=="selectionchange"&&(eI.has(n)||om(n,!1,t),om(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,om("selectionchange",!1,e))}}function n1(t,e,n,r){switch(p1(e)){case 2:var i=CI;break;case 8:i=NI;break;default:i=Ey}n=i.bind(null,e,n,t),i=void 0,!Wm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lm(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=ys(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=a=s;continue e}o=o.parentNode}}r=r.return}tw(function(){var c=a,h=Vg(n),m=[];e:{var p=gw.get(t);if(p!==void 0){var y=gf,S=t;switch(t){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":y=YN;break;case"focusin":S="focus",y=Ld;break;case"focusout":S="blur",y=Ld;break;case"beforeblur":case"afterblur":y=Ld;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=q_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=PN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=QN;break;case fw:case dw:case mw:y=jN;break;case pw:y=JN;break;case"scroll":case"scrollend":y=kN;break;case"wheel":y=e2;break;case"copy":case"cut":case"paste":y=zN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=G_;break;case"toggle":case"beforetoggle":y=n2}var N=(e&4)!==0,C=!N&&(t==="scroll"||t==="scrollend"),v=N?p!==null?p+"Capture":null:p;N=[];for(var _=c,A;_!==null;){var O=_;if(A=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||A===null||v===null||(O=Fl(_,v),O!=null&&N.push(Xl(_,O,A))),C)break;_=_.return}0<N.length&&(p=new y(p,S,null,n,h),m.push({event:p,listeners:N}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Km&&(S=n.relatedTarget||n.fromElement)&&(ys(S)||S[uo]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=c,S=S?ys(S):null,S!==null&&(C=du(S),N=S.tag,S!==C||N!==5&&N!==27&&N!==6)&&(S=null)):(y=null,S=c),y!==S)){if(N=q_,O="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=G_,O="onPointerLeave",v="onPointerEnter",_="pointer"),C=y==null?p:hl(y),A=S==null?p:hl(S),p=new N(O,_+"leave",y,n,h),p.target=C,p.relatedTarget=A,O=null,ys(h)===c&&(N=new N(v,_+"enter",S,n,h),N.target=A,N.relatedTarget=C,O=N),C=O,y&&S)t:{for(N=tI,v=y,_=S,A=0,O=v;O;O=N(O))A++;O=0;for(var z=_;z;z=N(z))O++;for(;0<A-O;)v=N(v),A--;for(;0<O-A;)_=N(_),O--;for(;A--;){if(v===_||_!==null&&v===_.alternate){N=v;break t}v=N(v),_=N(_)}N=null}else N=null;y!==null&&V0(m,p,y,N,!1),S!==null&&C!==null&&V0(m,C,S,N,!0)}}e:{if(p=c?hl(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var F=W_;else if(K_(p))if(ow)F=f2;else{F=c2;var E=u2}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Pg(c.elementType)&&(F=W_):F=h2;if(F&&(F=F(t,c))){sw(m,F,n,h);break e}E&&E(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Ym(p,"number",p.value)}switch(E=c?hl(c):window,t){case"focusin":(K_(E)||E.contentEditable==="true")&&(bs=E,Qm=c,Sl=null);break;case"focusout":Sl=Qm=bs=null;break;case"mousedown":Xm=!0;break;case"contextmenu":case"mouseup":case"dragend":Xm=!1,e0(m,n,h);break;case"selectionchange":if(m2)break;case"keydown":case"keyup":e0(m,n,h)}var T;if(Ug)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else _s?iw(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(rw&&n.locale!=="ko"&&(_s||x!=="onCompositionStart"?x==="onCompositionEnd"&&_s&&(T=nw()):(pi=h,Lg="value"in pi?pi.value:pi.textContent,_s=!0)),E=Nh(c,x),0<E.length&&(x=new H_(x,t,null,n,h),m.push({event:x,listeners:E}),T?x.data=T:(T=aw(n),T!==null&&(x.data=T)))),(T=i2?a2(t,n):s2(t,n))&&(x=Nh(c,"onBeforeInput"),0<x.length&&(E=new H_("onBeforeInput","beforeinput",null,n,h),m.push({event:E,listeners:x}),E.data=T)),X2(m,t,c,n,h)}t1(m,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Nh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Fl(t,n),i!=null&&r.unshift(Xl(t,i,a)),i=Fl(t,e),i!=null&&r.push(Xl(t,i,a))),t.tag===3)return r;t=t.return}return[]}function tI(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function V0(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||c===null||(u=c,i?(c=Fl(n,a),c!=null&&s.unshift(Xl(n,c,u))):i||(c=Fl(n,a),c!=null&&s.push(Xl(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var nI=/\r\n?/g,rI=/\u0000|\uFFFD/g;function L0(t){return(typeof t=="string"?t:""+t).replace(nI,`
`).replace(rI,"")}function r1(t,e){return e=L0(e),L0(t)===e}function Ee(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||$s(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&$s(t,""+r);break;case"className":cc(t,"class",r);break;case"tabIndex":cc(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cc(t,n,r);break;case"style":ew(t,r,a);break;case"data":if(e!=="object"){cc(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=kc(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Ee(t,e,"name",i.name,i,null),Ee(t,e,"formEncType",i.formEncType,i,null),Ee(t,e,"formMethod",i.formMethod,i,null),Ee(t,e,"formTarget",i.formTarget,i,null)):(Ee(t,e,"encType",i.encType,i,null),Ee(t,e,"method",i.method,i,null),Ee(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=kc(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Sr);break;case"onScroll":r!=null&&le("scroll",t);break;case"onScrollEnd":r!=null&&le("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(U(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=kc(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":le("beforetoggle",t),le("toggle",t),Oc(t,"popover",r);break;case"xlinkActuate":gr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Oc(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=DN.get(n)||n,Oc(t,n,r))}}function Tp(t,e,n,r,i,a){switch(n){case"style":ew(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(U(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof r=="string"?$s(t,r):(typeof r=="number"||typeof r=="bigint")&&$s(t,""+r);break;case"onScroll":r!=null&&le("scroll",t);break;case"onScrollEnd":r!=null&&le("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!KE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Wt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Oc(t,n,r)}}}function Ct(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",t),le("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Ee(t,e,a,s,n,null)}}i&&Ee(t,e,"srcSet",n.srcSet,n,null),r&&Ee(t,e,"src",n.src,n,null);return;case"input":le("invalid",t);var o=a=s=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":s=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(U(137,e));break;default:Ee(t,e,r,h,n,null)}}XE(t,a,o,u,c,s,i,!1);return;case"select":le("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ee(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?ks(t,!!r,e,!1):n!=null&&ks(t,!!r,n,!0);return;case"textarea":le("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(U(91));break;default:Ee(t,e,s,o,n,null)}ZE(t,r,i,a);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ee(t,e,u,r,n,null)}return;case"dialog":le("beforetoggle",t),le("toggle",t),le("cancel",t),le("close",t);break;case"iframe":case"object":le("load",t);break;case"video":case"audio":for(r=0;r<Ql.length;r++)le(Ql[r],t);break;case"image":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"embed":case"source":case"link":le("error",t),le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Ee(t,e,c,r,n,null)}return;default:if(Pg(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&Tp(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ee(t,e,o,r,n,null))}function iI(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,u=null,c=null,h=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(y)||Ee(t,e,y,null,r,m)}}for(var p in r){var y=r[p];if(m=n[p],r.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":a=y;break;case"name":i=y;break;case"checked":c=y;break;case"defaultChecked":h=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(U(137,e));break;default:y!==m&&Ee(t,e,p,y,r,m)}}$m(t,s,o,u,c,h,a,i);return;case"select":y=s=o=p=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":y=u;default:r.hasOwnProperty(a)||Ee(t,e,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(a!=null||u!=null))switch(i){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==u&&Ee(t,e,i,a,r,u)}e=o,n=s,r=y,p!=null?ks(t,!!n,p,!1):!!r!=!!n&&(e!=null?ks(t,!!n,e,!0):ks(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ee(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":p=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(U(91));break;default:i!==a&&Ee(t,e,s,i,r,a)}JE(t,p,y);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!r.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:Ee(t,e,S,null,r,p)}for(u in r)if(p=r[u],y=n[u],r.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ee(t,e,u,p,r,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!=null&&!r.hasOwnProperty(N)&&Ee(t,e,N,null,r,p);for(c in r)if(p=r[c],y=n[c],r.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,e));break;default:Ee(t,e,c,p,r,y)}return;default:if(Pg(e)){for(var C in n)p=n[C],n.hasOwnProperty(C)&&p!==void 0&&!r.hasOwnProperty(C)&&Tp(t,e,C,void 0,r,p);for(h in r)p=r[h],y=n[h],!r.hasOwnProperty(h)||p===y||p===void 0&&y===void 0||Tp(t,e,h,p,r,y);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Ee(t,e,v,null,r,p);for(m in r)p=r[m],y=n[m],!r.hasOwnProperty(m)||p===y||p==null&&y==null||Ee(t,e,m,p,r,y)}function j0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aI(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&j0(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var u=n[r],c=u.startTime;if(c>o)break;var h=u.transferSize,m=u.initiatorType;h&&j0(m)&&(u=u.responseEnd,s+=h*(u<o?1:(o-c)/(u-c)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ep=null,wp=null;function Ih(t){return t.nodeType===9?t:t.ownerDocument}function U0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var um=null;function sI(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var a1=typeof setTimeout=="function"?setTimeout:void 0,oI=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,lI=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(t){return z0.resolve(null).then(t).catch(uI)}:a1;function uI(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function B0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),eo(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Ml(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ml(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[yu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Ml(t.ownerDocument.body);n=i}while(n);eo(e)}function F0(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Ap(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ap(n),Mg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function cI(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[yu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function hI(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=xn(t.nextSibling),t===null))return null;return t}function s1(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=xn(t.nextSibling),t===null))return null;return t}function xp(t){return t.data==="$?"||t.data==="$~"}function Rp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function fI(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function xn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Cp=null;function q0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return xn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function H0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function o1(t,e,n){switch(e=Ih(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function Ml(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Mg(t)}var Cn=new Map,G0=new Set;function Dh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qr=ye.d;ye.d={f:dI,r:mI,D:pI,C:gI,L:yI,m:vI,X:bI,S:_I,M:TI};function dI(){var t=qr.f(),e=Rf();return t||e}function mI(t){var e=co(t);e!==null&&e.tag===5&&e.type==="form"?eS(e):qr.r(t)}var po=typeof document>"u"?null:document;function l1(t,e,n){var r=po;if(r&&typeof e=="string"&&e){var i=bn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),G0.has(i)||(G0.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Ct(e,"link",t),gt(e),r.head.appendChild(e)))}}function pI(t){qr.D(t),l1("dns-prefetch",t,null)}function gI(t,e){qr.C(t,e),l1("preconnect",t,e)}function yI(t,e,n){qr.L(t,e,n);var r=po;if(r&&t&&e){var i='link[rel="preload"][as="'+bn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+bn(n.imageSizes)+'"]')):i+='[href="'+bn(t)+'"]';var a=i;switch(e){case"style":a=Zs(t);break;case"script":a=go(t)}Cn.has(a)||(t=Me({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Cn.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(wu(a))||e==="script"&&r.querySelector(Su(a))||(e=r.createElement("link"),Ct(e,"link",t),gt(e),r.head.appendChild(e)))}}function vI(t,e){qr.m(t,e);var n=po;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+bn(r)+'"][href="'+bn(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=go(t)}if(!Cn.has(a)&&(t=Me({rel:"modulepreload",href:t},e),Cn.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Su(a)))return}r=n.createElement("link"),Ct(r,"link",t),gt(r),n.head.appendChild(r)}}}function _I(t,e,n){qr.S(t,e,n);var r=po;if(r&&t){var i=Os(r).hoistableStyles,a=Zs(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(wu(a)))o.loading=5;else{t=Me({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Cn.get(a))&&_y(t,n);var u=s=r.createElement("link");gt(u),Ct(u,"link",t),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,qc(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function bI(t,e){qr.X(t,e);var n=po;if(n&&t){var r=Os(n).hoistableScripts,i=go(t),a=r.get(i);a||(a=n.querySelector(Su(i)),a||(t=Me({src:t,async:!0},e),(e=Cn.get(i))&&by(t,e),a=n.createElement("script"),gt(a),Ct(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function TI(t,e){qr.M(t,e);var n=po;if(n&&t){var r=Os(n).hoistableScripts,i=go(t),a=r.get(i);a||(a=n.querySelector(Su(i)),a||(t=Me({src:t,async:!0,type:"module"},e),(e=Cn.get(i))&&by(t,e),a=n.createElement("script"),gt(a),Ct(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function $0(t,e,n,r){var i=(i=bi.current)?Dh(i):null;if(!i)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Zs(n.href),n=Os(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Zs(n.href);var a=Os(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(wu(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Cn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Cn.set(t,n),a||EI(i,t,n,s.state))),e&&r===null)throw Error(U(528,""));return s}if(e&&r!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=go(n),n=Os(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function Zs(t){return'href="'+bn(t)+'"'}function wu(t){return'link[rel="stylesheet"]['+t+"]"}function u1(t){return Me({},t,{"data-precedence":t.precedence,precedence:null})}function EI(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ct(e,"link",n),gt(e),t.head.appendChild(e))}function go(t){return'[src="'+bn(t)+'"]'}function Su(t){return"script[async]"+t}function Y0(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+bn(n.href)+'"]');if(r)return e.instance=r,gt(r),r;var i=Me({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),gt(r),Ct(r,"style",i),qc(r,n.precedence,t),e.instance=r;case"stylesheet":i=Zs(n.href);var a=t.querySelector(wu(i));if(a)return e.state.loading|=4,e.instance=a,gt(a),a;r=u1(n),(i=Cn.get(i))&&_y(r,i),a=(t.ownerDocument||t).createElement("link"),gt(a);var s=a;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ct(a,"link",r),e.state.loading|=4,qc(a,n.precedence,t),e.instance=a;case"script":return a=go(n.src),(i=t.querySelector(Su(a)))?(e.instance=i,gt(i),i):(r=n,(i=Cn.get(a))&&(r=Me({},n),by(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),gt(i),Ct(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,qc(r,n.precedence,t));return e.instance}function qc(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function _y(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function by(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Hc=null;function K0(t,e,n){if(Hc===null){var r=new Map,i=Hc=new Map;i.set(n,r)}else i=Hc,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[yu]||a[wt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function W0(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function wI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function c1(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function SI(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Zs(r.href),a=e.querySelector(wu(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Oh.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,gt(a);return}a=e.ownerDocument||e,r=u1(r),(i=Cn.get(i))&&_y(r,i),a=a.createElement("link"),gt(a);var s=a;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ct(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Oh.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var cm=0;function AI(t,e){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&cm===0&&(cm=62500*aI());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>cm?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kh=null;function Gc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kh=new Map,e.forEach(xI,t),kh=null,Oh.call(t))}function xI(t,e){if(!(e.state.loading&4)){var n=kh.get(t);if(n)var r=n.get(null);else{n=new Map,kh.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Jl={$$typeof:wr,Provider:null,Consumer:null,_currentValue:ba,_currentValue2:ba,_threadCount:0};function RI(t,e,n,r,i,a,s,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.hiddenUpdates=kd(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function h1(t,e,n,r,i,a,s,o,u,c,h,m){return t=new RI(t,e,n,s,u,c,h,m,o),e=1,a===!0&&(e|=24),a=nn(3,null,null,e),t.current=a,a.stateNode=t,e=$g(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},Wg(a),t}function f1(t){return t?(t=ws,t):ws}function d1(t,e,n,r,i,a){i=f1(i),r.context===null?r.context=i:r.pendingContext=i,r=Ei(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=wi(t,r,e),n!==null&&(Yt(n,t,e),xl(n,t,e))}function Q0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ty(t,e){Q0(t,e),(t=t.alternate)&&Q0(t,e)}function m1(t){if(t.tag===13||t.tag===31){var e=Fa(t,67108864);e!==null&&Yt(e,t,67108864),Ty(t,67108864)}}function X0(t){if(t.tag===13||t.tag===31){var e=un();e=Og(e);var n=Fa(t,e);n!==null&&Yt(n,t,e),Ty(t,e)}}var Mh=!0;function CI(t,e,n,r){var i=ee.T;ee.T=null;var a=ye.p;try{ye.p=2,Ey(t,e,n,r)}finally{ye.p=a,ee.T=i}}function NI(t,e,n,r){var i=ee.T;ee.T=null;var a=ye.p;try{ye.p=8,Ey(t,e,n,r)}finally{ye.p=a,ee.T=i}}function Ey(t,e,n,r){if(Mh){var i=Np(r);if(i===null)lm(t,e,r,Ph,n),J0(t,r);else if(DI(i,t,e,n,r))r.stopPropagation();else if(J0(t,r),e&4&&-1<II.indexOf(t)){for(;i!==null;){var a=co(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=ma(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-ln(s);o.entanglements[1]|=u,s&=~u}hr(a),!(ge&6)&&(Sh=sn()+500,Eu(0))}}break;case 31:case 13:o=Fa(a,2),o!==null&&Yt(o,a,2),Rf(),Ty(a,2)}if(a=Np(r),a===null&&lm(t,e,r,Ph,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else lm(t,e,r,null,n)}}function Np(t){return t=Vg(t),wy(t)}var Ph=null;function wy(t){if(Ph=null,t=ys(t),t!==null){var e=du(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=ME(e),t!==null)return t;t=null}else if(n===31){if(t=PE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ph=t,null}function p1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pN()){case UE:return 2;case zE:return 8;case ch:case gN:return 32;case BE:return 268435456;default:return 32}default:return 32}}var Ip=!1,xi=null,Ri=null,Ci=null,Zl=new Map,eu=new Map,ui=[],II="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J0(t,e){switch(t){case"focusin":case"focusout":xi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function sl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=co(e),e!==null&&m1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function DI(t,e,n,r,i){switch(e){case"focusin":return xi=sl(xi,t,e,n,r,i),!0;case"dragenter":return Ri=sl(Ri,t,e,n,r,i),!0;case"mouseover":return Ci=sl(Ci,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Zl.set(a,sl(Zl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,eu.set(a,sl(eu.get(a)||null,t,e,n,r,i)),!0}return!1}function g1(t){var e=ys(t.target);if(e!==null){var n=du(e);if(n!==null){if(e=n.tag,e===13){if(e=ME(n),e!==null){t.blockedOn=e,V_(t.priority,function(){X0(n)});return}}else if(e===31){if(e=PE(n),e!==null){t.blockedOn=e,V_(t.priority,function(){X0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Np(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Km=r,n.target.dispatchEvent(r),Km=null}else return e=co(n),e!==null&&m1(e),t.blockedOn=n,!1;e.shift()}return!0}function Z0(t,e,n){$c(t)&&n.delete(e)}function OI(){Ip=!1,xi!==null&&$c(xi)&&(xi=null),Ri!==null&&$c(Ri)&&(Ri=null),Ci!==null&&$c(Ci)&&(Ci=null),Zl.forEach(Z0),eu.forEach(Z0)}function vc(t,e){t.blockedOn===e&&(t.blockedOn=null,Ip||(Ip=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,OI)))}var _c=null;function eb(t){_c!==t&&(_c=t,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,function(){_c===t&&(_c=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(wy(r||n)===null)continue;break}var a=co(n);a!==null&&(t.splice(e,3),e-=3,cp(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function eo(t){function e(u){return vc(u,t)}xi!==null&&vc(xi,t),Ri!==null&&vc(Ri,t),Ci!==null&&vc(Ci,t),Zl.forEach(e),eu.forEach(e);for(var n=0;n<ui.length;n++){var r=ui[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)g1(n),n.blockedOn===null&&ui.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Wt]||null;if(typeof a=="function")s||eb(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Wt]||null)o=s.formAction;else if(wy(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),eb(n)}}}function y1(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Sy(t){this._internalRoot=t}If.prototype.render=Sy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,r=un();d1(n,r,t,e,null,null)};If.prototype.unmount=Sy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;d1(t.current,2,null,t,null,null),Rf(),e[uo]=null}};function If(t){this._internalRoot=t}If.prototype.unstable_scheduleHydration=function(t){if(t){var e=$E();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&g1(t)}};var tb=OE.version;if(tb!=="19.2.3")throw Error(U(527,tb,"19.2.3"));ye.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=lN(e),t=t!==null?VE(t):null,t=t===null?null:t.stateNode,t};var kI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{mu=bc.inject(kI),on=bc}catch{}}df.createRoot=function(t,e){if(!kE(t))throw Error(U(299));var n=!1,r="",i=lS,a=uS,s=cS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=h1(t,1,!1,null,null,n,r,null,i,a,s,y1),t[uo]=e.current,vy(t),new Sy(e)};df.hydrateRoot=function(t,e,n){if(!kE(t))throw Error(U(299));var r=!1,i="",a=lS,s=uS,o=cS,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=h1(t,1,!0,e,n??null,r,i,u,a,s,o,y1),e.context=f1(null),n=e.current,r=un(),r=Og(r),i=Ei(r),i.callback=null,wi(n,i,r),n=r,e.current.lanes=n,gu(e,n),hr(e),t[uo]=e.current,vy(t),new If(e)};df.version="19.2.3";function v1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v1)}catch(t){console.error(t)}}v1(),xE.exports=df;var MI=xE.exports;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nb="popstate";function PI(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Dp("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tu(i)}return LI(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Nn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VI(){return Math.random().toString(36).substring(2,10)}function rb(t,e){return{usr:t.state,key:t.key,idx:e}}function Dp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||r||VI()}}function tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function LI(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",u=null,c=h();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function h(){return(s.state||{idx:null}).idx}function m(){o="POP";let C=h(),v=C==null?null:C-c;c=C,u&&u({action:o,location:N.location,delta:v})}function p(C,v){o="PUSH";let _=Dp(N.location,C,v);c=h()+1;let A=rb(_,c),O=N.createHref(_);try{s.pushState(A,"",O)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(O)}a&&u&&u({action:o,location:N.location,delta:1})}function y(C,v){o="REPLACE";let _=Dp(N.location,C,v);c=h();let A=rb(_,c),O=N.createHref(_);s.replaceState(A,"",O),a&&u&&u({action:o,location:N.location,delta:0})}function S(C){return jI(C)}let N={get action(){return o},get location(){return t(i,s)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(nb,m),u=C,()=>{i.removeEventListener(nb,m),u=null}},createHref(C){return e(i,C)},createURL:S,encodeLocation(C){let v=S(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(C){return s.go(C)}};return N}function jI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),je(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function _1(t,e,n="/"){return UI(t,e,n,!1)}function UI(t,e,n,r){let i=typeof e=="string"?yo(e):e,a=jr(i.pathname||"/",n);if(a==null)return null;let s=b1(t);zI(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=XI(a);o=WI(s[u],c,r)}return o}function b1(t,e=[],n=[],r="",i=!1){let a=(s,o,u=i,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;je(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Dr([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(je(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),b1(s.children,e,p,m,u)),!(s.path==null&&!s.index)&&e.push({path:m,score:YI(m,s.index),routesMeta:p})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,o);else for(let c of T1(s.path))a(s,o,!0,c)}),e}function T1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=T1(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function zI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var BI=/^:[\w-]+$/,FI=3,qI=2,HI=1,GI=10,$I=-2,ib=t=>t==="*";function YI(t,e){let n=t.split("/"),r=n.length;return n.some(ib)&&(r+=$I),e&&(r+=qI),n.filter(i=>!ib(i)).reduce((i,a)=>i+(BI.test(a)?FI:a===""?HI:GI),r)}function KI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function WI(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=Vh({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Vh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Dr([a,m.pathname]),pathnameBase:tD(Dr([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=Dr([a,m.pathnameBase]))}return s}function Vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=QI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:m},p)=>{if(h==="*"){let S=o[p]||"";s=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const y=o[p];return m&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function QI(t,e=!1,n=!0){Nn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function XI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function jr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var E1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JI=t=>E1.test(t);function ZI(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yo(t):t,a;if(n)if(JI(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Nn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=ab(n.substring(1),"/"):a=ab(n,e)}else a=e;return{pathname:a,search:nD(r),hash:rD(i)}}function ab(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ay(t){let e=eD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function xy(t,e,n,r=!1){let i;typeof t=="string"?i=yo(t):(i={...t},je(!i.pathname||!i.pathname.includes("?"),hm("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),hm("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),hm("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}o=m>=0?e[m]:"/"}let u=ZI(i,o),c=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var Dr=t=>t.join("/").replace(/\/\/+/g,"/"),tD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,iD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function aD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function sD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function S1(t,e){let n=t;if(typeof n!="string"||!E1.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(w1)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=jr(s.pathname,e);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{Nn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var A1=["POST","PUT","PATCH","DELETE"];new Set(A1);var oD=["GET",...A1];new Set(oD);var vo=D.createContext(null);vo.displayName="DataRouter";var Df=D.createContext(null);Df.displayName="DataRouterState";var lD=D.createContext(!1),x1=D.createContext({isTransitioning:!1});x1.displayName="ViewTransition";var uD=D.createContext(new Map);uD.displayName="Fetchers";var cD=D.createContext(null);cD.displayName="Await";var dn=D.createContext(null);dn.displayName="Navigation";var Au=D.createContext(null);Au.displayName="Location";var Fn=D.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var Ry=D.createContext(null);Ry.displayName="RouteError";var R1="REACT_ROUTER_ERROR",hD="REDIRECT",fD="ROUTE_ERROR_RESPONSE";function dD(t){if(t.startsWith(`${R1}:${hD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function mD(t){if(t.startsWith(`${R1}:${fD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new iD(e.status,e.statusText,e.data)}catch{}}function pD(t,{relative:e}={}){je(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(dn),{hash:i,pathname:a,search:s}=Ru(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Dr([n,a])),r.createHref({pathname:o,search:s,hash:i})}function _o(){return D.useContext(Au)!=null}function Hr(){return je(_o(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Au).location}var C1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function N1(t){D.useContext(dn).static||D.useLayoutEffect(t)}function xu(){let{isDataRoute:t}=D.useContext(Fn);return t?ND():gD()}function gD(){je(_o(),"useNavigate() may be used only in the context of a <Router> component.");let t=D.useContext(vo),{basename:e,navigator:n}=D.useContext(dn),{matches:r}=D.useContext(Fn),{pathname:i}=Hr(),a=JSON.stringify(Ay(r)),s=D.useRef(!1);return N1(()=>{s.current=!0}),D.useCallback((u,c={})=>{if(Nn(s.current,C1),!s.current)return;if(typeof u=="number"){n.go(u);return}let h=xy(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Dr([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,i,t])}D.createContext(null);function yD(){let{matches:t}=D.useContext(Fn),e=t[t.length-1];return e?e.params:{}}function Ru(t,{relative:e}={}){let{matches:n}=D.useContext(Fn),{pathname:r}=Hr(),i=JSON.stringify(Ay(n));return D.useMemo(()=>xy(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function vD(t,e){return I1(t,e)}function I1(t,e,n,r,i){var _;je(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=D.useContext(dn),{matches:s}=D.useContext(Fn),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let A=m&&m.path||"";O1(c,!m||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let p=Hr(),y;if(e){let A=typeof e=="string"?yo(e):e;je(h==="/"||((_=A.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),y=A}else y=p;let S=y.pathname||"/",N=S;if(h!=="/"){let A=h.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(A.length).join("/")}let C=_1(t,{pathname:N});Nn(m||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Nn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=wD(C&&C.map(A=>Object.assign({},A,{params:Object.assign({},u,A.params),pathname:Dr([h,a.encodeLocation?a.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Dr([h,a.encodeLocation?a.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),s,n,r,i);return e&&v?D.createElement(Au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function _D(){let t=CD(),e=aD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:a},"ErrorBoundary")," or"," ",D.createElement("code",{style:a},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,s)}var bD=D.createElement(_D,null),D1=class extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=mD(t.digest);n&&(t=n)}let e=t!==void 0?D.createElement(Fn.Provider,{value:this.props.routeContext},D.createElement(Ry.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?D.createElement(TD,{error:t},e):e}};D1.contextType=lD;var fm=new WeakMap;function TD({children:t,error:e}){let{basename:n}=D.useContext(dn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=dD(e.digest);if(r){let i=fm.get(e);if(i)throw i;let a=S1(r.location,n);if(w1&&!fm.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw fm.set(e,s),s}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function ED({routeContext:t,match:e,children:n}){let r=D.useContext(vo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Fn.Provider,{value:t},n)}function wD(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);je(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:y}=n,S=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&r?(h,m)=>{var p,y;r(h,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:sD(n.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,p)=>{let y,S=!1,N=null,C=null;n&&(y=s&&m.route.id?s[m.route.id]:void 0,N=m.route.errorElement||bD,o&&(u<0&&p===0?(O1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):u===p&&(S=!0,C=m.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,p+1)),_=()=>{let A;return y?A=N:S?A=C:m.route.Component?A=D.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=h,D.createElement(ED,{match:m,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?D.createElement(D1,{location:n.location,revalidation:n.revalidation,component:N,error:y,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:c}):_()},null)}function Cy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SD(t){let e=D.useContext(vo);return je(e,Cy(t)),e}function AD(t){let e=D.useContext(Df);return je(e,Cy(t)),e}function xD(t){let e=D.useContext(Fn);return je(e,Cy(t)),e}function Ny(t){let e=xD(t),n=e.matches[e.matches.length-1];return je(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RD(){return Ny("useRouteId")}function CD(){var r;let t=D.useContext(Ry),e=AD("useRouteError"),n=Ny("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function ND(){let{router:t}=SD("useNavigate"),e=Ny("useNavigate"),n=D.useRef(!1);return N1(()=>{n.current=!0}),D.useCallback(async(i,a={})=>{Nn(n.current,C1),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var sb={};function O1(t,e,n){!e&&!sb[t]&&(sb[t]=!0,Nn(!1,n))}D.memo(ID);function ID({routes:t,future:e,state:n,onError:r}){return I1(t,void 0,n,r,e)}function DD({to:t,replace:e,state:n,relative:r}){je(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(dn);Nn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=D.useContext(Fn),{pathname:s}=Hr(),o=xu(),u=xy(t,Ay(a),s,r==="path"),c=JSON.stringify(u);return D.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function Yc(t){je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){je(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=yo(n));let{pathname:c="/",search:h="",hash:m="",state:p=null,key:y="default"}=n,S=D.useMemo(()=>{let N=jr(c,o);return N==null?null:{location:{pathname:N,search:h,hash:m,state:p,key:y},navigationType:r}},[o,c,h,m,p,y,r]);return Nn(S!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:D.createElement(dn.Provider,{value:u},D.createElement(Au.Provider,{children:e,value:S}))}function kD({children:t,location:e}){return vD(Op(t),e)}function Op(t,e=[]){let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let a=[...e,i];if(r.type===D.Fragment){n.push.apply(n,Op(r.props.children,a));return}je(r.type===Yc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),je(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Op(r.props.children,a)),n.push(s)}),n}var Kc="get",Wc="application/x-www-form-urlencoded";function Of(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function MD(t){return Of(t)&&t.tagName.toLowerCase()==="button"}function PD(t){return Of(t)&&t.tagName.toLowerCase()==="form"}function VD(t){return Of(t)&&t.tagName.toLowerCase()==="input"}function LD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jD(t,e){return t.button===0&&(!e||e==="_self")&&!LD(t)}var Tc=null;function UD(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var zD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(t){return t!=null&&!zD.has(t)?(Nn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):t}function BD(t,e){let n,r,i,a,s;if(PD(t)){let o=t.getAttribute("action");r=o?jr(o,e):null,n=t.getAttribute("method")||Kc,i=dm(t.getAttribute("enctype"))||Wc,a=new FormData(t)}else if(MD(t)||VD(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?jr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Kc,i=dm(t.getAttribute("formenctype"))||dm(o.getAttribute("enctype"))||Wc,a=new FormData(o,t),!UD()){let{name:c,type:h,value:m}=t;if(h==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,m)}}else{if(Of(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,r=null,i=Wc,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&jr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function qD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HD(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GD(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await qD(a,n);return s.links?s.links():[]}return[]}));return WD(r.flat(1).filter(HD).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ob(t,e,n,r,i,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?e.filter((u,c)=>{var m;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function $D(t,e,{includeHydrateFallback:n}={}){return YD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function YD(t){return[...new Set(t)]}function KD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function WD(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(KD(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function k1(){let t=D.useContext(vo);return Iy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QD(){let t=D.useContext(Df);return Iy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Dy=D.createContext(void 0);Dy.displayName="FrameworkContext";function M1(){let t=D.useContext(Dy);return Iy(t,"You must render this element inside a <HydratedRouter> element"),t}function XD(t,e){let n=D.useContext(Dy),[r,i]=D.useState(!1),[a,s]=D.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:m}=e,p=D.useRef(null);D.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let N=v=>{v.forEach(_=>{s(_.isIntersecting)})},C=new IntersectionObserver(N,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[t]),D.useEffect(()=>{if(r){let N=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(N)}}},[r]);let y=()=>{i(!0)},S=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,p,{}]:[a,p,{onFocus:ol(o,y),onBlur:ol(u,S),onMouseEnter:ol(c,y),onMouseLeave:ol(h,S),onTouchStart:ol(m,y)}]:[!1,p,{}]}function ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function JD({page:t,...e}){let{router:n}=k1(),r=D.useMemo(()=>_1(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?D.createElement(eO,{page:t,matches:r,...e}):null}function ZD(t){let{manifest:e,routeModules:n}=M1(),[r,i]=D.useState([]);return D.useEffect(()=>{let a=!1;return GD(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function eO({page:t,matches:e,...n}){let r=Hr(),{manifest:i,routeModules:a}=M1(),{basename:s}=k1(),{loaderData:o,matches:u}=QD(),c=D.useMemo(()=>ob(t,e,u,i,r,"data"),[t,e,u,i,r]),h=D.useMemo(()=>ob(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=D.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,N=!1;if(e.forEach(v=>{var A;let _=i.routes[v.route.id];!_||!_.hasLoader||(!c.some(O=>O.route.id===v.route.id)&&v.route.id in o&&((A=a[v.route.id])!=null&&A.shouldRevalidate)||_.hasClientLoader?N=!0:S.add(v.route.id))}),S.size===0)return[];let C=FD(t,s,"data");return N&&S.size>0&&C.searchParams.set("_routes",e.filter(v=>S.has(v.route.id)).map(v=>v.route.id).join(",")),[C.pathname+C.search]},[s,o,r,i,c,e,t,a]),p=D.useMemo(()=>$D(h,i),[h,i]),y=ZD(h);return D.createElement(D.Fragment,null,m.map(S=>D.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),p.map(S=>D.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:N})=>D.createElement("link",{key:S,nonce:n.nonce,...N})))}function tO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nO&&(window.__reactRouterVersion="7.11.0")}catch{}function rO({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=D.useRef();i.current==null&&(i.current=PI({window:r,v5Compat:!0}));let a=i.current,[s,o]=D.useState({action:a.action,location:a.location}),u=D.useCallback(c=>{n===!1?o(c):D.startTransition(()=>o(c))},[n]);return D.useLayoutEffect(()=>a.listen(u),[a,u]),D.createElement(OD,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var P1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V1=D.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},S){let{basename:N,unstable_useTransitions:C}=D.useContext(dn),v=typeof c=="string"&&P1.test(c),_=S1(c,N);c=_.to;let A=pD(c,{relative:i}),[O,z,F]=XD(r,y),E=oO(c,{replace:s,state:o,target:u,preventScrollReset:h,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:C});function T(R){e&&e(R),R.defaultPrevented||E(R)}let x=D.createElement("a",{...y,...F,href:_.absoluteURL||A,onClick:_.isExternal||a?e:T,ref:tO(S,z),target:u,"data-discover":!v&&n==="render"?"true":void 0});return O&&!v?D.createElement(D.Fragment,null,x,D.createElement(JD,{page:A})):x});V1.displayName="Link";var iO=D.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:u,...c},h){let m=Ru(s,{relative:c.relative}),p=Hr(),y=D.useContext(Df),{navigator:S,basename:N}=D.useContext(dn),C=y!=null&&fO(m)&&o===!0,v=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,_=p.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),A=A?A.toLowerCase():null,v=v.toLowerCase()),A&&N&&(A=jr(A,N)||A);const O=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let z=_===v||!i&&_.startsWith(v)&&_.charAt(O)==="/",F=A!=null&&(A===v||!i&&A.startsWith(v)&&A.charAt(v.length)==="/"),E={isActive:z,isPending:F,isTransitioning:C},T=z?e:void 0,x;typeof r=="function"?x=r(E):x=[r,z?"active":null,F?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(E):a;return D.createElement(V1,{...c,"aria-current":T,className:x,ref:h,style:R,to:s,viewTransition:o},typeof u=="function"?u(E):u)});iO.displayName="NavLink";var aO=D.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Kc,action:o,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},S)=>{let{unstable_useTransitions:N}=D.useContext(dn),C=cO(),v=hO(o,{relative:c}),_=s.toLowerCase()==="get"?"get":"post",A=typeof o=="string"&&P1.test(o),O=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let F=z.nativeEvent.submitter,E=(F==null?void 0:F.getAttribute("formmethod"))||s,T=()=>C(F||z.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:a,relative:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p});N&&n!==!1?D.startTransition(()=>T()):T()};return D.createElement("form",{ref:S,method:_,action:v,onSubmit:r?u:O,...y,"data-discover":!A&&t==="render"?"true":void 0})});aO.displayName="Form";function sO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L1(t){let e=D.useContext(vo);return je(e,sO(t)),e}function oO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let c=xu(),h=Hr(),m=Ru(t,{relative:a});return D.useCallback(p=>{if(jD(p,e)){p.preventDefault();let y=n!==void 0?n:tu(h)===tu(m),S=()=>c(t,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});u?D.startTransition(()=>S()):S()}},[h,c,m,n,r,e,t,i,a,s,o,u])}var lO=0,uO=()=>`__${String(++lO)}__`;function cO(){let{router:t}=L1("useSubmit"),{basename:e}=D.useContext(dn),n=RD(),r=t.fetch,i=t.navigate;return D.useCallback(async(a,s={})=>{let{action:o,method:u,encType:c,formData:h,body:m}=BD(a,e);if(s.navigate===!1){let p=s.fetcherKey||uO();await r(p,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function hO(t,{relative:e}={}){let{basename:n}=D.useContext(dn),r=D.useContext(Fn);je(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Ru(t||".",{relative:e})},s=Hr();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Dr([n,a.pathname])),tu(a)}function fO(t,{relative:e}={}){let n=D.useContext(x1);je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=L1("useViewTransitionState"),i=Ru(t,{relative:e});if(!n.isTransitioning)return!1;let a=jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vh(i.pathname,s)!=null||Vh(i.pathname,a)!=null}function j1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=j1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kf(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=j1(t))&&(r&&(r+=" "),r+=e);return r}const dO=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),a=Object.getOwnPropertyDescriptor(e,n);!mO(i,a)&&r||Object.defineProperty(t,n,a)},mO=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},pO=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},gO=(t,e)=>`/* Wrapped ${t}*/
${e}`,yO=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),vO=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),_O=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=gO.bind(null,r,e.toString());Object.defineProperty(i,"name",vO);const{writable:a,enumerable:s,configurable:o}=yO;Object.defineProperty(t,"toString",{value:i,writable:a,enumerable:s,configurable:o})};function bO(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))dO(t,e,i,n);return pO(t,e),_O(t,e,r),t}const Ec=2147483647,TO=new WeakMap,mm=new WeakMap,EO=new WeakMap;function wO(t,e){const n=t.get(e);if(n){if(n.maxAge<=Date.now()){t.delete(e);return}return n}}function U1(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"&&Number.isFinite(r)){if(r>Ec)throw new TypeError(`The \`maxAge\` option cannot exceed ${Ec}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...a){var h;const s=e?e(a):a[0],o=wO(n,s);if(o)return o.data;const u=t.apply(this,a),c=typeof r=="function"?r(...a):r;if(c!==void 0&&c!==Number.POSITIVE_INFINITY){if(!Number.isFinite(c))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(c<=0)return u;if(c>Ec)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Ec}.`)}if(n.set(s,{data:u,maxAge:c===void 0||c===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+c}),c!==void 0&&c!==Number.POSITIVE_INFINITY){const m=setTimeout(()=>{var y;n.delete(s),(y=mm.get(i))==null||y.delete(m)},c);(h=m.unref)==null||h.call(m);const p=mm.get(i)??new Set;p.add(m),mm.set(i,p)}return u};return bO(i,t,{ignoreNonConfigurable:!0}),TO.set(i,n),EO.set(i,e??(a=>a[0])),i}function SO(t){return typeof t=="string"}function AO(t,e,n){return n.indexOf(t)===e}function xO(t){return t.toLowerCase()===t}function lb(t){return t.indexOf(",")===-1?t:t.split(",")}function kp(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return kp(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return kp(n)}if(t.indexOf("-")===-1||!xO(t))return t;var i=t.split("-"),a=i[0],s=i[1],o=s===void 0?"":s;return"".concat(a,"-").concat(o.toUpperCase())}function RO(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,a=i===void 0?"en-US":i,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],u=[],c=0,h=o;c<h.length;c++){var m=h[c];u=u.concat(lb(m))}var p=navigator.language,y=p&&lb(p);s=s.concat(u,y)}return r&&s.push(a),s.filter(SO).map(kp).filter(AO)}var CO=U1(RO,{cacheKey:JSON.stringify});function NO(t){return CO(t)[0]||null}var z1=U1(NO,{cacheKey:JSON.stringify});function Gr(t,e,n){return function(i,a=n){const s=t(i)+a;return e(s)}}function Cu(t){return function(n){return new Date(t(n).getTime()-1)}}function Nu(t,e){return function(r){return[t(r),e(r)]}}function Ue(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Ki(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Mf(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function bo(t){const e=Ue(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const IO=Gr(Ue,bo,-100),B1=Gr(Ue,bo,100),Oy=Cu(B1),DO=Gr(Ue,Oy,-100),F1=Nu(bo,Oy);function Wi(t){const e=Ue(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const q1=Gr(Ue,Wi,-10),ky=Gr(Ue,Wi,10),Pf=Cu(ky),H1=Gr(Ue,Pf,-10),G1=Nu(Wi,Pf);function To(t){const e=Ue(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const $1=Gr(Ue,To,-1),My=Gr(Ue,To,1),Vf=Cu(My),Y1=Gr(Ue,Vf,-1),OO=Nu(To,Vf);function Py(t,e){return function(r,i=e){const a=Ue(r),s=Ki(r)+i,o=new Date;return o.setFullYear(a,s,1),o.setHours(0,0,0,0),t(o)}}function Ha(t){const e=Ue(t),n=Ki(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const K1=Py(Ha,-1),Vy=Py(Ha,1),Iu=Cu(Vy),W1=Py(Iu,-1),kO=Nu(Ha,Iu);function MO(t,e){return function(r,i=e){const a=Ue(r),s=Ki(r),o=Mf(r)+i,u=new Date;return u.setFullYear(a,s,o),u.setHours(0,0,0,0),t(u)}}function Du(t){const e=Ue(t),n=Ki(t),r=Mf(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const PO=MO(Du,1),Ly=Cu(PO),VO=Nu(Du,Ly);function Q1(t){return Mf(Iu(t))}var At={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},LO={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},jy=[0,1,2,3,4,5,6],pm=new Map;function jO(t){return function(n,r){var i=n||z1();pm.has(i)||pm.set(i,new Map);var a=pm.get(i);return a.has(t)||a.set(t,new Intl.DateTimeFormat(i||void 0,t).format),a.get(t)(r)}}function UO(t){var e=new Date(t);return new Date(e.setHours(12))}function Ga(t){return function(e,n){return jO(t)(e,UO(n))}}var zO={day:"numeric"},BO={day:"numeric",month:"long",year:"numeric"},FO={month:"long"},qO={month:"long",year:"numeric"},HO={weekday:"short"},GO={weekday:"long"},$O={year:"numeric"},YO=Ga(zO),KO=Ga(BO),WO=Ga(FO),X1=Ga(qO),QO=Ga(HO),XO=Ga(GO),Lf=Ga($O),JO=jy[0],ZO=jy[5],ub=jy[6];function nu(t,e){e===void 0&&(e=At.ISO_8601);var n=t.getDay();switch(e){case At.ISO_8601:return(n+6)%7;case At.ISLAMIC:return(n+1)%7;case At.HEBREW:case At.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function ek(t){var e=bo(t);return Ue(e)}function tk(t){var e=Wi(t);return Ue(e)}function Mp(t,e){e===void 0&&(e=At.ISO_8601);var n=Ue(t),r=Ki(t),i=t.getDate()-nu(t,e);return new Date(n,r,i)}function nk(t,e){e===void 0&&(e=At.ISO_8601);var n=e===At.GREGORY?At.GREGORY:At.ISO_8601,r=Mp(t,e),i=Ue(t)+1,a,s;do a=new Date(i,0,n===At.ISO_8601?4:1),s=Mp(a,e),i-=1;while(t<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function Aa(t,e){switch(t){case"century":return bo(e);case"decade":return Wi(e);case"year":return To(e);case"month":return Ha(e);case"day":return Du(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function rk(t,e){switch(t){case"century":return IO(e);case"decade":return q1(e);case"year":return $1(e);case"month":return K1(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function J1(t,e){switch(t){case"century":return B1(e);case"decade":return ky(e);case"year":return My(e);case"month":return Vy(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ik(t,e){switch(t){case"decade":return q1(e,-100);case"year":return $1(e,-10);case"month":return K1(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ak(t,e){switch(t){case"decade":return ky(e,100);case"year":return My(e,10);case"month":return Vy(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Z1(t,e){switch(t){case"century":return Oy(e);case"decade":return Pf(e);case"year":return Vf(e);case"month":return Iu(e);case"day":return Ly(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function sk(t,e){switch(t){case"century":return DO(e);case"decade":return H1(e);case"year":return Y1(e);case"month":return W1(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ok(t,e){switch(t){case"decade":return H1(e,-100);case"year":return Y1(e,-10);case"month":return W1(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function cb(t,e){switch(t){case"century":return F1(e);case"decade":return G1(e);case"year":return OO(e);case"month":return kO(e);case"day":return VO(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function lk(t,e,n){var r=[e,n].sort(function(i,a){return i.getTime()-a.getTime()});return[Aa(t,r[0]),Z1(t,r[1])]}function eA(t,e,n){return n.map(function(r){return(e||Lf)(t,r)}).join("  ")}function uk(t,e,n){return eA(t,e,F1(n))}function tA(t,e,n){return eA(t,e,G1(n))}function ck(t){return t.getDay()===new Date().getDay()}function nA(t,e){e===void 0&&(e=At.ISO_8601);var n=t.getDay();switch(e){case At.ISLAMIC:case At.HEBREW:return n===ZO||n===ub;case At.ISO_8601:case At.GREGORY:return n===ub||n===JO;default:throw new Error("Unsupported calendar type.")}}var Qn="react-calendar__navigation";function hk(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?X1:r,a=t.formatYear,s=a===void 0?Lf:a,o=t.locale,u=t.maxDate,c=t.minDate,h=t.navigationAriaLabel,m=h===void 0?"":h,p=t.navigationAriaLive,y=t.navigationLabel,S=t.next2AriaLabel,N=S===void 0?"":S,C=t.next2Label,v=C===void 0?"":C,_=t.nextAriaLabel,A=_===void 0?"":_,O=t.nextLabel,z=O===void 0?"":O,F=t.prev2AriaLabel,E=F===void 0?"":F,T=t.prev2Label,x=T===void 0?"":T,R=t.prevAriaLabel,I=R===void 0?"":R,k=t.prevLabel,w=k===void 0?"":k,M=t.setActiveStartDate,q=t.showDoubleView,L=t.view,G=t.views,K=G.indexOf(L)>0,X=L!=="century",se=rk(L,e),ct=X?ik(L,e):void 0,ht=J1(L,e),zt=X?ak(L,e):void 0,vt=function(){if(se.getFullYear()<0)return!0;var qe=sk(L,e);return c&&c>=qe}(),mn=X&&function(){if(ct.getFullYear()<0)return!0;var qe=ok(L,e);return c&&c>=qe}(),$r=u&&u<ht,dr=X&&u&&u<zt;function mr(){M(se,"prev")}function On(){M(ct,"prev2")}function Io(){M(ht,"next")}function Do(){M(zt,"next2")}function ea(qe){var na=function(){switch(L){case"century":return uk(o,s,qe);case"decade":return tA(o,s,qe);case"year":return s(o,qe);case"month":return i(o,qe);default:throw new Error("Invalid view: ".concat(L,"."))}}();return y?y({date:qe,label:na,locale:o||z1()||void 0,view:L}):na}function ta(){var qe="".concat(Qn,"__label");return d.jsxs("button",{"aria-label":m,"aria-live":p,className:qe,disabled:!K,onClick:n,style:{flexGrow:1},type:"button",children:[d.jsx("span",{className:"".concat(qe,"__labelText ").concat(qe,"__labelText--from"),children:ea(e)}),q?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"".concat(qe,"__divider"),children:"  "}),d.jsx("span",{className:"".concat(qe,"__labelText ").concat(qe,"__labelText--to"),children:ea(ht)})]}):null]})}return d.jsxs("div",{className:Qn,children:[x!==null&&X?d.jsx("button",{"aria-label":E,className:"".concat(Qn,"__arrow ").concat(Qn,"__prev2-button"),disabled:mn,onClick:On,type:"button",children:x}):null,w!==null&&d.jsx("button",{"aria-label":I,className:"".concat(Qn,"__arrow ").concat(Qn,"__prev-button"),disabled:vt,onClick:mr,type:"button",children:w}),ta(),z!==null&&d.jsx("button",{"aria-label":A,className:"".concat(Qn,"__arrow ").concat(Qn,"__next-button"),disabled:$r,onClick:Io,type:"button",children:z}),v!==null&&X?d.jsx("button",{"aria-label":N,className:"".concat(Qn,"__arrow ").concat(Qn,"__next2-button"),disabled:dr,onClick:Do,type:"button",children:v}):null]})}var Rs=function(){return Rs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rs.apply(this,arguments)},fk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function hb(t){return"".concat(t,"%")}function Uy(t){var e=t.children,n=t.className,r=t.count,i=t.direction,a=t.offset,s=t.style,o=t.wrap,u=fk(t,["children","className","count","direction","offset","style","wrap"]);return d.jsx("div",Rs({className:n,style:Rs({display:"flex",flexDirection:i,flexWrap:o?"wrap":"nowrap"},s)},u,{children:D.Children.map(e,function(c,h){var m=a&&h===0?hb(100*a/r):null;return D.cloneElement(c,Rs(Rs({},c.props),{style:{flexBasis:hb(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))})}))}function dk(t,e,n){return e&&e>t?e:n&&n<t?n:t}function ru(t,e){return e[0]<=t&&e[1]>=t}function mk(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function rA(t,e){return ru(t[0],e)||ru(t[1],e)}function fb(t,e,n){var r=rA(e,t),i=[];if(r){i.push(n);var a=ru(t[0],e),s=ru(t[1],e);a&&i.push("".concat(n,"Start")),s&&i.push("".concat(n,"End")),a&&s&&i.push("".concat(n,"BothEnds"))}return i}function pk(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function gk(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",a=[i];if(!n)return a;var s=new Date,o=function(){if(Array.isArray(n))return n;var y=t.dateType;if(!y)throw new Error("dateType is required when date is not an array of two dates");return cb(y,n)}();if(ru(s,o)&&a.push("".concat(i,"--now")),!e||!pk(e))return a;var u=function(){if(Array.isArray(e))return e;var y=t.valueType;if(!y)throw new Error("valueType is required when value is not an array of two dates");return cb(y,e)}();mk(u,o)?a.push("".concat(i,"--active")):rA(u,o)&&a.push("".concat(i,"--hasActive"));var c=fb(u,o,"".concat(i,"--range"));a.push.apply(a,c);var h=Array.isArray(e)?e:[e];if(r&&h.length===1){var m=r>u[0]?[u[0],r]:[r,u[0]],p=fb(m,o,"".concat(i,"--hover"));a.push.apply(a,p)}return a}function jf(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,a=t.dateType,s=t.end,o=t.hover,u=t.offset,c=t.renderTile,h=t.start,m=t.step,p=m===void 0?1:m,y=t.value,S=t.valueType,N=[],C=h;C<=s;C+=p){var v=i(C);N.push(c({classes:gk({date:v,dateType:a,hover:o,value:y,valueType:S}),date:v}))}return d.jsx(Uy,{className:e,count:r,offset:u,wrap:!0,children:N})}function Uf(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,a=t.formatAbbr,s=t.locale,o=t.maxDate,u=t.maxDateTransform,c=t.minDate,h=t.minDateTransform,m=t.onClick,p=t.onMouseOver,y=t.style,S=t.tileClassName,N=t.tileContent,C=t.tileDisabled,v=t.view,_=D.useMemo(function(){var O={activeStartDate:e,date:i,view:v};return typeof S=="function"?S(O):S},[e,i,S,v]),A=D.useMemo(function(){var O={activeStartDate:e,date:i,view:v};return typeof N=="function"?N(O):N},[e,i,N,v]);return d.jsxs("button",{className:kf(r,_),disabled:c&&h(c)>i||o&&u(o)<i||(C==null?void 0:C({activeStartDate:e,date:i,view:v})),onClick:m?function(O){return m(i,O)}:void 0,onFocus:p?function(){return p(i)}:void 0,onMouseOver:p?function(){return p(i)}:void 0,style:y,type:"button",children:[a?d.jsx("abbr",{"aria-label":a(s,i),children:n}):n,A]})}var Pp=function(){return Pp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Pp.apply(this,arguments)},yk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},db="react-calendar__century-view__decades__decade";function vk(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,a=i===void 0?Lf:i,s=yk(t,["classes","currentCentury","formatYear"]),o=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),c.push(db),bo(o).getFullYear()!==r&&c.push("".concat(db,"--neighboringCentury")),d.jsx(Uf,Pp({},s,{classes:c,maxDateTransform:Pf,minDateTransform:Wi,view:"century",children:tA(u,a,o)}))}var Vp=function(){return Vp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Vp.apply(this,arguments)},mb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function _k(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,a=t.valueType,s=mb(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=ek(e),u=o+(r?119:99);return d.jsx(jf,{className:"react-calendar__century-view__decades",dateTransform:Wi,dateType:"decade",end:u,hover:n,renderTile:function(c){var h=c.date,m=mb(c,["date"]);return d.jsx(vk,Vp({},s,m,{activeStartDate:e,currentCentury:o,date:h}),h.getTime())},start:o,step:10,value:i,valueType:a})}var Lp=function(){return Lp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lp.apply(this,arguments)};function bk(t){function e(){return d.jsx(_k,Lp({},t))}return d.jsx("div",{className:"react-calendar__century-view",children:e()})}var jp=function(){return jp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jp.apply(this,arguments)},Tk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},pb="react-calendar__decade-view__years__year";function Ek(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,a=i===void 0?Lf:i,s=Tk(t,["classes","currentDecade","formatYear"]),o=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),c.push(pb),Wi(o).getFullYear()!==r&&c.push("".concat(pb,"--neighboringDecade")),d.jsx(Uf,jp({},s,{classes:c,maxDateTransform:Vf,minDateTransform:To,view:"decade",children:a(u,o)}))}var Up=function(){return Up=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Up.apply(this,arguments)},gb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function wk(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,a=t.valueType,s=gb(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=tk(e),u=o+(r?11:9);return d.jsx(jf,{className:"react-calendar__decade-view__years",dateTransform:To,dateType:"year",end:u,hover:n,renderTile:function(c){var h=c.date,m=gb(c,["date"]);return d.jsx(Ek,Up({},s,m,{activeStartDate:e,currentDecade:o,date:h}),h.getTime())},start:o,value:i,valueType:a})}var zp=function(){return zp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zp.apply(this,arguments)};function Sk(t){function e(){return d.jsx(wk,zp({},t))}return d.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Bp=function(){return Bp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bp.apply(this,arguments)},Ak=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},yb=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},xk="react-calendar__year-view__months__month";function Rk(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?WO:r,a=t.formatMonthYear,s=a===void 0?X1:a,o=Ak(t,["classes","formatMonth","formatMonthYear"]),u=o.date,c=o.locale;return d.jsx(Uf,Bp({},o,{classes:yb(yb([],n,!0),[xk],!1),formatAbbr:s,maxDateTransform:Iu,minDateTransform:Ha,view:"year",children:i(c,u)}))}var Fp=function(){return Fp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fp.apply(this,arguments)},vb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ck(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,a=vb(t,["activeStartDate","hover","value","valueType"]),s=0,o=11,u=Ue(e);return d.jsx(jf,{className:"react-calendar__year-view__months",dateTransform:function(c){var h=new Date;return h.setFullYear(u,c,1),Ha(h)},dateType:"month",end:o,hover:n,renderTile:function(c){var h=c.date,m=vb(c,["date"]);return d.jsx(Rk,Fp({},a,m,{activeStartDate:e,date:h}),h.getTime())},start:s,value:r,valueType:i})}var qp=function(){return qp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qp.apply(this,arguments)};function Nk(t){function e(){return d.jsx(Ck,qp({},t))}return d.jsx("div",{className:"react-calendar__year-view",children:e()})}var Hp=function(){return Hp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hp.apply(this,arguments)},Ik=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},gm="react-calendar__month-view__days__day";function Dk(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,a=t.formatDay,s=a===void 0?YO:a,o=t.formatLongDate,u=o===void 0?KO:o,c=Ik(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),h=c.date,m=c.locale,p=[];return r&&p.push.apply(p,r),p.push(gm),nA(h,e)&&p.push("".concat(gm,"--weekend")),h.getMonth()!==i&&p.push("".concat(gm,"--neighboringMonth")),d.jsx(Uf,Hp({},c,{classes:p,formatAbbr:u,maxDateTransform:Ly,minDateTransform:Du,view:"month",children:s(m,h)}))}var Gp=function(){return Gp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gp.apply(this,arguments)},_b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ok(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,a=t.showNeighboringMonth,s=t.value,o=t.valueType,u=_b(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Ue(e),h=Ki(e),m=i||a,p=nu(e,n),y=m?0:p,S=(m?-p:0)+1,N=function(){if(i)return S+6*7-1;var C=Q1(e);if(a){var v=new Date;v.setFullYear(c,h,C),v.setHours(0,0,0,0);var _=7-nu(v,n)-1;return C+_}return C}();return d.jsx(jf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(C){var v=new Date;return v.setFullYear(c,h,C),Du(v)},dateType:"day",hover:r,end:N,renderTile:function(C){var v=C.date,_=_b(C,["date"]);return d.jsx(Dk,Gp({},u,_,{activeStartDate:e,calendarType:n,currentMonthIndex:h,date:v}),v.getTime())},offset:y,start:S,value:s,valueType:o})}var iA="react-calendar__month-view__weekdays",ym="".concat(iA,"__weekday");function kk(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?QO:n,i=t.formatWeekday,a=i===void 0?XO:i,s=t.locale,o=t.onMouseLeave,u=new Date,c=Ha(u),h=Ue(c),m=Ki(c),p=[],y=1;y<=7;y+=1){var S=new Date(h,m,y-nu(c,e)),N=a(s,S);p.push(d.jsx("div",{className:kf(ym,ck(S)&&"".concat(ym,"--current"),nA(S,e)&&"".concat(ym,"--weekend")),children:d.jsx("abbr",{"aria-label":N,title:N,children:r(s,S).replace(".","")})},y))}return d.jsx(Uy,{className:iA,count:7,onFocus:o,onMouseOver:o,children:p})}var Lh=function(){return Lh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lh.apply(this,arguments)},bb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},Tb="react-calendar__tile";function Mk(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=d.jsx("span",{children:n});if(e){var i=t.date,a=t.onClickWeekNumber,s=t.weekNumber,o=bb(t,["date","onClickWeekNumber","weekNumber"]);return d.jsx("button",Lh({},o,{className:Tb,onClick:function(u){return a(s,i,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=bb(t,["date","onClickWeekNumber","weekNumber"]);return d.jsx("div",Lh({},o,{className:Tb,children:r}))}}function Pk(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,a=t.showFixedNumberOfWeeks,s=function(){if(a)return 6;var c=Q1(e),h=nu(e,n),m=c-(7-h);return 1+Math.ceil(m/7)}(),o=function(){for(var c=Ue(e),h=Ki(e),m=Mf(e),p=[],y=0;y<s;y+=1)p.push(Mp(new Date(c,h,m+y*7),n));return p}(),u=o.map(function(c){return nk(c,n)});return d.jsx(Uy,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(c,h){var m=o[h];if(!m)throw new Error("date is not defined");return d.jsx(Mk,{date:m,onClickWeekNumber:r,weekNumber:c},c)})})}var $p=function(){return $p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$p.apply(this,arguments)},Vk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Lk(t){if(t)for(var e=0,n=Object.entries(LO);e<n.length;e++){var r=n[e],i=r[0],a=r[1];if(a.includes(t))return i}return At.ISO_8601}function jk(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,a=t.calendarType,s=a===void 0?Lk(n):a,o=t.formatShortWeekday,u=t.formatWeekday,c=t.onClickWeekNumber,h=t.showWeekNumbers,m=Vk(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return d.jsx(kk,{calendarType:s,formatShortWeekday:o,formatWeekday:u,locale:n,onMouseLeave:r})}function y(){return h?d.jsx(Pk,{activeStartDate:e,calendarType:s,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function S(){return d.jsx(Ok,$p({calendarType:s},m))}var N="react-calendar__month-view";return d.jsx("div",{className:kf(N,h?"".concat(N,"--weekNumbers"):""),children:d.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[y(),d.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),S()]})]})})}var Cs=function(){return Cs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cs.apply(this,arguments)},wc="react-calendar",Qc=["century","decade","year","month"],Uk=["decade","year","month","day"],zy=new Date;zy.setFullYear(1,0,1);zy.setHours(0,0,0,0);var zk=new Date(864e13);function ml(t){return t instanceof Date?t:new Date(t)}function aA(t,e){return Qc.slice(Qc.indexOf(t),Qc.indexOf(e)+1)}function Bk(t,e,n){var r=aA(e,n);return r.indexOf(t)!==-1}function By(t,e,n){return t&&Bk(t,e,n)?t:n}function sA(t){var e=Qc.indexOf(t);return Uk[e]}function Fk(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=ml(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function oA(t,e){var n=t.value,r=t.minDate,i=t.maxDate,a=t.maxDetail,s=Fk(n,e);if(!s)return null;var o=sA(a),u=function(){switch(e){case 0:return Aa(o,s);case 1:return Z1(o,s);default:throw new Error("Invalid index value: ".concat(e))}}();return dk(u,r,i)}var Fy=function(t){return oA(t,0)},lA=function(t){return oA(t,1)},qk=function(t){return[Fy,lA].map(function(e){return e(t)})};function uA(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,a=t.value,s=t.view,o=By(s,i,n),u=Fy({value:a,minDate:r,maxDate:e,maxDetail:n})||new Date;return Aa(o,u)}function Hk(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,a=t.maxDate,s=t.maxDetail,o=t.minDate,u=t.minDetail,c=t.value,h=t.view,m=By(h,u,s),p=e||n;return p?Aa(m,p):uA({maxDate:a,maxDetail:s,minDate:o,minDetail:u,value:c||r,view:h||i})}function vm(t){return t&&(!Array.isArray(t)||t.length===1)}function Sc(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Gk=D.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,s=e.className,o=e.defaultActiveStartDate,u=e.defaultValue,c=e.defaultView,h=e.formatDay,m=e.formatLongDate,p=e.formatMonth,y=e.formatMonthYear,S=e.formatShortWeekday,N=e.formatWeekday,C=e.formatYear,v=e.goToRangeStartOnSelect,_=v===void 0?!0:v,A=e.inputRef,O=e.locale,z=e.maxDate,F=z===void 0?zk:z,E=e.maxDetail,T=E===void 0?"month":E,x=e.minDate,R=x===void 0?zy:x,I=e.minDetail,k=I===void 0?"century":I,w=e.navigationAriaLabel,M=e.navigationAriaLive,q=e.navigationLabel,L=e.next2AriaLabel,G=e.next2Label,K=e.nextAriaLabel,X=e.nextLabel,se=e.onActiveStartDateChange,ct=e.onChange,ht=e.onClickDay,zt=e.onClickDecade,vt=e.onClickMonth,mn=e.onClickWeekNumber,$r=e.onClickYear,dr=e.onDrillDown,mr=e.onDrillUp,On=e.onViewChange,Io=e.prev2AriaLabel,Do=e.prev2Label,ea=e.prevAriaLabel,ta=e.prevLabel,qe=e.returnValue,na=qe===void 0?"start":qe,It=e.selectRange,Yr=e.showDoubleView,Oo=e.showFixedNumberOfWeeks,at=e.showNavigation,_t=at===void 0?!0:at,Za=e.showNeighboringCentury,gd=e.showNeighboringDecade,ko=e.showNeighboringMonth,yd=ko===void 0?!0:ko,ra=e.showWeekNumbers,Hu=e.tileClassName,Gu=e.tileContent,Mo=e.tileDisabled,Po=e.value,$u=e.view,Vo=D.useState(o),Yu=Vo[0],Hn=Vo[1],es=D.useState(null),Lo=es[0],Gn=es[1],jo=D.useState(Array.isArray(u)?u.map(function(oe){return oe!==null?ml(oe):null}):u!=null?ml(u):null),Kr=jo[0],Ku=jo[1],Wr=D.useState(c),Wu=Wr[0],ft=Wr[1],bt=r||Yu||Hk({activeStartDate:r,defaultActiveStartDate:o,defaultValue:u,defaultView:c,maxDate:F,maxDetail:T,minDate:R,minDetail:k,value:Po,view:$u}),Xe=function(){var oe=function(){return It&&vm(Kr)?Kr:Po!==void 0?Po:Kr}();return oe?Array.isArray(oe)?oe.map(function(Ve){return Ve!==null?ml(Ve):null}):oe!==null?ml(oe):null:null}(),$n=sA(T),Ne=By($u||Wu,k,T),pn=aA(k,T),Qr=It?Lo:null,Uo=pn.indexOf(Ne)<pn.length-1,Qu=pn.indexOf(Ne)>0,ia=D.useCallback(function(oe){var Ve=function(){switch(na){case"start":return Fy;case"end":return lA;case"range":return qk;default:throw new Error("Invalid returnValue.")}}();return Ve({maxDate:F,maxDetail:T,minDate:R,value:oe})},[F,T,R,na]),ts=D.useCallback(function(oe,Ve){Hn(oe);var ze={action:Ve,activeStartDate:oe,value:Xe,view:Ne};se&&!Sc(bt,oe)&&se(ze)},[bt,se,Xe,Ne]),aa=D.useCallback(function(oe,Ve){var ze=function(){switch(Ne){case"century":return zt;case"decade":return $r;case"year":return vt;case"month":return ht;default:throw new Error("Invalid view: ".concat(Ne,"."))}}();ze&&ze(oe,Ve)},[ht,zt,vt,$r,Ne]),sa=D.useCallback(function(oe,Ve){if(Uo){aa(oe,Ve);var ze=pn[pn.indexOf(Ne)+1];if(!ze)throw new Error("Attempted to drill down from the lowest view.");Hn(oe),ft(ze);var Xt={action:"drillDown",activeStartDate:oe,value:Xe,view:ze};se&&!Sc(bt,oe)&&se(Xt),On&&Ne!==ze&&On(Xt),dr&&dr(Xt)}},[bt,Uo,se,aa,dr,On,Xe,Ne,pn]),pr=D.useCallback(function(){if(Qu){var oe=pn[pn.indexOf(Ne)-1];if(!oe)throw new Error("Attempted to drill up from the highest view.");var Ve=Aa(oe,bt);Hn(Ve),ft(oe);var ze={action:"drillUp",activeStartDate:Ve,value:Xe,view:oe};se&&!Sc(bt,Ve)&&se(ze),On&&Ne!==oe&&On(ze),mr&&mr(ze)}},[bt,Qu,se,mr,On,Xe,Ne,pn]),zo=D.useCallback(function(oe,Ve){var ze=Xe;aa(oe,Ve);var Xt=It&&!vm(ze),Dt;if(It)if(Xt)Dt=Aa($n,oe);else{if(!ze)throw new Error("previousValue is required");if(Array.isArray(ze))throw new Error("previousValue must not be an array");Dt=lk($n,ze,oe)}else Dt=ia(oe);var rs=!It||Xt||_?uA({maxDate:F,maxDetail:T,minDate:R,minDetail:k,value:Dt,view:Ne}):null;Ve.persist(),Hn(rs),Ku(Dt);var Ho={action:"onChange",activeStartDate:rs,value:Dt,view:Ne};if(se&&!Sc(bt,rs)&&se(Ho),ct)if(It){var oa=vm(Dt);if(!oa)ct(Dt||null,Ve);else if(i){if(Array.isArray(Dt))throw new Error("value must not be an array");ct([Dt||null,null],Ve)}}else ct(Dt||null,Ve)},[bt,i,ia,_,F,T,R,k,se,ct,aa,It,Xe,$n,Ne]);function Yn(oe){Gn(oe)}function ns(){Gn(null)}D.useImperativeHandle(n,function(){return{activeStartDate:bt,drillDown:sa,drillUp:pr,onChange:zo,setActiveStartDate:ts,value:Xe,view:Ne}},[bt,sa,pr,zo,ts,Xe,Ne]);function Bo(oe){var Ve=oe?J1(Ne,bt):Aa(Ne,bt),ze=Uo?sa:zo,Xt={activeStartDate:Ve,hover:Qr,locale:O,maxDate:F,minDate:R,onClick:ze,onMouseOver:It?Yn:void 0,tileClassName:Hu,tileContent:Gu,tileDisabled:Mo,value:Xe,valueType:$n};switch(Ne){case"century":return d.jsx(bk,Cs({formatYear:C,showNeighboringCentury:Za},Xt));case"decade":return d.jsx(Sk,Cs({formatYear:C,showNeighboringDecade:gd},Xt));case"year":return d.jsx(Nk,Cs({formatMonth:p,formatMonthYear:y},Xt));case"month":return d.jsx(jk,Cs({calendarType:a,formatDay:h,formatLongDate:m,formatShortWeekday:S,formatWeekday:N,onClickWeekNumber:mn,onMouseLeave:It?ns:void 0,showFixedNumberOfWeeks:typeof Oo<"u"?Oo:Yr,showNeighboringMonth:yd,showWeekNumbers:ra},Xt));default:throw new Error("Invalid view: ".concat(Ne,"."))}}function Fo(){return _t?d.jsx(hk,{activeStartDate:bt,drillUp:pr,formatMonthYear:y,formatYear:C,locale:O,maxDate:F,minDate:R,navigationAriaLabel:w,navigationAriaLive:M,navigationLabel:q,next2AriaLabel:L,next2Label:G,nextAriaLabel:K,nextLabel:X,prev2AriaLabel:Io,prev2Label:Do,prevAriaLabel:ea,prevLabel:ta,setActiveStartDate:ts,showDoubleView:Yr,view:Ne,views:pn}):null}var qo=Array.isArray(Xe)?Xe:[Xe];return d.jsxs("div",{className:kf(wc,It&&qo.length===1&&"".concat(wc,"--selectRange"),Yr&&"".concat(wc,"--doubleView"),s),ref:A,children:[Fo(),d.jsxs("div",{className:"".concat(wc,"__viewContainer"),onBlur:It?ns:void 0,onMouseLeave:It?ns:void 0,children:[Bo(),Yr?Bo(!0):null]})]})});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Eb=t=>{const e=Yk(t);return e.charAt(0).toUpperCase()+e.slice(1)},cA=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Kk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=D.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},u)=>D.createElement("svg",{ref:u,...Wk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cA("lucide",i),...!a&&!Kk(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,h])=>D.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,e)=>{const n=D.forwardRef(({className:r,...i},a)=>D.createElement(Qk,{ref:a,iconNode:e,className:cA(`lucide-${$k(Eb(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Eb(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Jk=Pe("archive",Xk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eM=Pe("arrow-left",Zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],nM=Pe("banknote",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ll=Pe("calendar",rM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aM=Pe("check",iM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oM=Pe("chevron-down",sM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],uM=Pe("chevron-up",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hM=Pe("circle-alert",cM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ns=Pe("circle-check",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],wb=Pe("circle-x",dM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pM=Pe("clock",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],yM=Pe("copy",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_M=Pe("credit-card",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],TM=Pe("external-link",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wM=Pe("globe",EM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],AM=Pe("log-in",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RM=Pe("log-out",xM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],NM=Pe("message-circle",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],DM=Pe("pen",IM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kM=Pe("plus",OM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],PM=Pe("square-pen",MM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hA=Pe("trash-2",VM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fA=Pe("user-plus",LM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],UM=Pe("users",jM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zf=Pe("x",zM),BM=()=>{};var Sb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},mA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=a>>2,m=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,y=c&63;u||(y=64,s||(p=64)),r.push(n[h],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||m==null)throw new qM;const p=a<<2|o>>4;if(r.push(p),c!==64){const y=o<<4&240|c>>2;if(r.push(y),m!==64){const S=c<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HM=function(t){const e=dA(t);return mA.encodeByteArray(e,!0)},jh=function(t){return HM(t).replace(/\./g,"")},pA=function(t){try{return mA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=()=>GM().__FIREBASE_DEFAULTS__,YM=()=>{if(typeof process>"u"||typeof Sb>"u")return;const t=Sb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pA(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return BM()||$M()||YM()||KM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gA=t=>{var e,n;return(n=(e=Bf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yA=t=>{const e=gA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},vA=()=>{var t;return(t=Bf())==null?void 0:t.config},_A=t=>{var e;return(e=Bf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[jh(JSON.stringify(n)),jh(JSON.stringify(s)),""].join(".")}const Pl={};function QM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?t.emulator.push(e):t.prod.push(e);return t}function XM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Ab=!1;function Hy(t,e){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||Pl[t]===e||Pl[t]||Ab)return;Pl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=QM().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Ab=!0,s()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=XM(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),N=n("learnmore"),C=document.getElementById(N)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const A=p.element;o(A),h(C,N);const O=c();u(_,v),A.append(_,S,C,O),document.body.appendChild(A)}a?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function ZM(){var e;const t=(e=Bf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function t4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function n4(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r4(){return!ZM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function i4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="FirebaseError";class Dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a4,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?s4(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Dn(i,o,r)}}function s4(t,e){return t.replace(o4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const o4=/\{\$([^}]+)}/g;function l4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ji(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(xb(a)&&xb(s)){if(!ji(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function u4(t,e){const n=new c4(t,e);return n.subscribe.bind(n)}class c4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");h4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_m),i.error===void 0&&(i.error=_m),i.complete===void 0&&(i.complete=_m);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function h4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _m(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=1e3,d4=2,m4=4*60*60*1e3,p4=.5;function Rb(t,e=f4,n=d4){const r=e*Math.pow(n,t),i=Math.round(p4*r*(Math.random()-.5)*2);return Math.min(m4,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class In{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new WM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v4(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function y4(t){return t===ya?void 0:t}function v4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new g4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const b4={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},T4=ce.INFO,E4={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},w4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=E4[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ff{constructor(e){this.name=e,this._logLevel=T4,this._logHandler=w4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const S4=(t,e)=>e.some(n=>t instanceof n);let Cb,Nb;function A4(){return Cb||(Cb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x4(){return Nb||(Nb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SA=new WeakMap,Yp=new WeakMap,AA=new WeakMap,bm=new WeakMap,Gy=new WeakMap;function R4(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ni(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&SA.set(n,t)}).catch(()=>{}),Gy.set(e,t),e}function C4(t){if(Yp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Yp.set(t,e)}let Kp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N4(t){Kp=t(Kp)}function I4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Tm(this),e,...n);return AA.set(r,e.sort?e.sort():[e]),Ni(r)}:x4().includes(t)?function(...e){return t.apply(Tm(this),e),Ni(SA.get(this))}:function(...e){return Ni(t.apply(Tm(this),e))}}function D4(t){return typeof t=="function"?I4(t):(t instanceof IDBTransaction&&C4(t),S4(t,A4())?new Proxy(t,Kp):t)}function Ni(t){if(t instanceof IDBRequest)return R4(t);if(bm.has(t))return bm.get(t);const e=D4(t);return e!==t&&(bm.set(t,e),Gy.set(e,t)),e}const Tm=t=>Gy.get(t);function xA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Ni(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ni(s.result),u.oldVersion,u.newVersion,Ni(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const O4=["get","getKey","getAll","getAllKeys","count"],k4=["put","add","delete","clear"],Em=new Map;function Ib(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Em.get(e))return Em.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||O4.includes(n)))return;const a=async function(s,...o){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&u.done]))[0]};return Em.set(e,a),a}N4(t=>({...t,get:(e,n,r)=>Ib(e,n)||t.get(e,n,r),has:(e,n)=>!!Ib(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function P4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wp="@firebase/app",Db="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Ff("@firebase/app"),V4="@firebase/app-compat",L4="@firebase/analytics-compat",j4="@firebase/analytics",U4="@firebase/app-check-compat",z4="@firebase/app-check",B4="@firebase/auth",F4="@firebase/auth-compat",q4="@firebase/database",H4="@firebase/data-connect",G4="@firebase/database-compat",$4="@firebase/functions",Y4="@firebase/functions-compat",K4="@firebase/installations",W4="@firebase/installations-compat",Q4="@firebase/messaging",X4="@firebase/messaging-compat",J4="@firebase/performance",Z4="@firebase/performance-compat",eP="@firebase/remote-config",tP="@firebase/remote-config-compat",nP="@firebase/storage",rP="@firebase/storage-compat",iP="@firebase/firestore",aP="@firebase/ai",sP="@firebase/firestore-compat",oP="firebase",lP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]",uP={[Wp]:"fire-core",[V4]:"fire-core-compat",[j4]:"fire-analytics",[L4]:"fire-analytics-compat",[z4]:"fire-app-check",[U4]:"fire-app-check-compat",[B4]:"fire-auth",[F4]:"fire-auth-compat",[q4]:"fire-rtdb",[H4]:"fire-data-connect",[G4]:"fire-rtdb-compat",[$4]:"fire-fn",[Y4]:"fire-fn-compat",[K4]:"fire-iid",[W4]:"fire-iid-compat",[Q4]:"fire-fcm",[X4]:"fire-fcm-compat",[J4]:"fire-perf",[Z4]:"fire-perf-compat",[eP]:"fire-rc",[tP]:"fire-rc-compat",[nP]:"fire-gcs",[rP]:"fire-gcs-compat",[iP]:"fire-fst",[sP]:"fire-fst-compat",[aP]:"fire-vertex","fire-js":"fire-js",[oP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,cP=new Map,Xp=new Map;function Ob(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jn(t){const e=t.name;if(Xp.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,t);for(const n of Uh.values())Ob(n,t);for(const n of cP.values())Ob(n,t);return!0}function Qi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Ya("app","Firebase",hP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=lP;function RA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Qp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=vA()),!n)throw Ii.create("no-options");const a=Uh.get(i);if(a){if(ji(n,a.options)&&ji(r,a.config))return a;throw Ii.create("duplicate-app",{appName:i})}const s=new _4(i);for(const u of Xp.values())s.addComponent(u);const o=new fP(n,r,s);return Uh.set(i,o),o}function qf(t=Qp){const e=Uh.get(t);if(!e&&t===Qp&&vA())return RA();if(!e)throw Ii.create("no-app",{appName:t});return e}function Kt(t,e,n){let r=uP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(s.join(" "));return}jn(new In(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firebase-heartbeat-database",mP=1,iu="firebase-heartbeat-store";let wm=null;function CA(){return wm||(wm=xA(dP,mP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),wm}async function pP(t){try{const n=(await CA()).transaction(iu),r=await n.objectStore(iu).get(NA(t));return await n.done,r}catch(e){if(e instanceof Dn)Ur.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function kb(t,e){try{const r=(await CA()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,NA(t)),await r.done}catch(n){if(n instanceof Dn)Ur.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function NA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=1024,yP=30;class vP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Mb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>yP){const s=TP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mb(),{heartbeatsToSend:r,unsentEntries:i}=_P(this._heartbeatsCache.heartbeats),a=jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ur.warn(n),""}}}function Mb(){return new Date().toISOString().substring(0,10)}function _P(t,e=gP){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),Pb(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Pb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pb(t){return jh(JSON.stringify({version:2,heartbeats:t})).length}function TP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){jn(new In("platform-logger",e=>new M4(e),"PRIVATE")),jn(new In("heartbeat",e=>new vP(e),"PRIVATE")),Kt(Wp,Db,t),Kt(Wp,Db,"esm2020"),Kt("fire-js","")}EP("");var Vb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,IA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function x(){}x.prototype=T.prototype,E.F=T.prototype,E.prototype=new x,E.prototype.constructor=E,E.D=function(R,I,k){for(var w=Array(arguments.length-2),M=2;M<arguments.length;M++)w[M-2]=arguments[M];return T.prototype[I].apply(R,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,x){x||(x=0);const R=Array(16);if(typeof T=="string")for(var I=0;I<16;++I)R[I]=T.charCodeAt(x++)|T.charCodeAt(x++)<<8|T.charCodeAt(x++)<<16|T.charCodeAt(x++)<<24;else for(I=0;I<16;++I)R[I]=T[x++]|T[x++]<<8|T[x++]<<16|T[x++]<<24;T=E.g[0],x=E.g[1],I=E.g[2];let k=E.g[3],w;w=T+(k^x&(I^k))+R[0]+3614090360&4294967295,T=x+(w<<7&4294967295|w>>>25),w=k+(I^T&(x^I))+R[1]+3905402710&4294967295,k=T+(w<<12&4294967295|w>>>20),w=I+(x^k&(T^x))+R[2]+606105819&4294967295,I=k+(w<<17&4294967295|w>>>15),w=x+(T^I&(k^T))+R[3]+3250441966&4294967295,x=I+(w<<22&4294967295|w>>>10),w=T+(k^x&(I^k))+R[4]+4118548399&4294967295,T=x+(w<<7&4294967295|w>>>25),w=k+(I^T&(x^I))+R[5]+1200080426&4294967295,k=T+(w<<12&4294967295|w>>>20),w=I+(x^k&(T^x))+R[6]+2821735955&4294967295,I=k+(w<<17&4294967295|w>>>15),w=x+(T^I&(k^T))+R[7]+4249261313&4294967295,x=I+(w<<22&4294967295|w>>>10),w=T+(k^x&(I^k))+R[8]+1770035416&4294967295,T=x+(w<<7&4294967295|w>>>25),w=k+(I^T&(x^I))+R[9]+2336552879&4294967295,k=T+(w<<12&4294967295|w>>>20),w=I+(x^k&(T^x))+R[10]+4294925233&4294967295,I=k+(w<<17&4294967295|w>>>15),w=x+(T^I&(k^T))+R[11]+2304563134&4294967295,x=I+(w<<22&4294967295|w>>>10),w=T+(k^x&(I^k))+R[12]+1804603682&4294967295,T=x+(w<<7&4294967295|w>>>25),w=k+(I^T&(x^I))+R[13]+4254626195&4294967295,k=T+(w<<12&4294967295|w>>>20),w=I+(x^k&(T^x))+R[14]+2792965006&4294967295,I=k+(w<<17&4294967295|w>>>15),w=x+(T^I&(k^T))+R[15]+1236535329&4294967295,x=I+(w<<22&4294967295|w>>>10),w=T+(I^k&(x^I))+R[1]+4129170786&4294967295,T=x+(w<<5&4294967295|w>>>27),w=k+(x^I&(T^x))+R[6]+3225465664&4294967295,k=T+(w<<9&4294967295|w>>>23),w=I+(T^x&(k^T))+R[11]+643717713&4294967295,I=k+(w<<14&4294967295|w>>>18),w=x+(k^T&(I^k))+R[0]+3921069994&4294967295,x=I+(w<<20&4294967295|w>>>12),w=T+(I^k&(x^I))+R[5]+3593408605&4294967295,T=x+(w<<5&4294967295|w>>>27),w=k+(x^I&(T^x))+R[10]+38016083&4294967295,k=T+(w<<9&4294967295|w>>>23),w=I+(T^x&(k^T))+R[15]+3634488961&4294967295,I=k+(w<<14&4294967295|w>>>18),w=x+(k^T&(I^k))+R[4]+3889429448&4294967295,x=I+(w<<20&4294967295|w>>>12),w=T+(I^k&(x^I))+R[9]+568446438&4294967295,T=x+(w<<5&4294967295|w>>>27),w=k+(x^I&(T^x))+R[14]+3275163606&4294967295,k=T+(w<<9&4294967295|w>>>23),w=I+(T^x&(k^T))+R[3]+4107603335&4294967295,I=k+(w<<14&4294967295|w>>>18),w=x+(k^T&(I^k))+R[8]+1163531501&4294967295,x=I+(w<<20&4294967295|w>>>12),w=T+(I^k&(x^I))+R[13]+2850285829&4294967295,T=x+(w<<5&4294967295|w>>>27),w=k+(x^I&(T^x))+R[2]+4243563512&4294967295,k=T+(w<<9&4294967295|w>>>23),w=I+(T^x&(k^T))+R[7]+1735328473&4294967295,I=k+(w<<14&4294967295|w>>>18),w=x+(k^T&(I^k))+R[12]+2368359562&4294967295,x=I+(w<<20&4294967295|w>>>12),w=T+(x^I^k)+R[5]+4294588738&4294967295,T=x+(w<<4&4294967295|w>>>28),w=k+(T^x^I)+R[8]+2272392833&4294967295,k=T+(w<<11&4294967295|w>>>21),w=I+(k^T^x)+R[11]+1839030562&4294967295,I=k+(w<<16&4294967295|w>>>16),w=x+(I^k^T)+R[14]+4259657740&4294967295,x=I+(w<<23&4294967295|w>>>9),w=T+(x^I^k)+R[1]+2763975236&4294967295,T=x+(w<<4&4294967295|w>>>28),w=k+(T^x^I)+R[4]+1272893353&4294967295,k=T+(w<<11&4294967295|w>>>21),w=I+(k^T^x)+R[7]+4139469664&4294967295,I=k+(w<<16&4294967295|w>>>16),w=x+(I^k^T)+R[10]+3200236656&4294967295,x=I+(w<<23&4294967295|w>>>9),w=T+(x^I^k)+R[13]+681279174&4294967295,T=x+(w<<4&4294967295|w>>>28),w=k+(T^x^I)+R[0]+3936430074&4294967295,k=T+(w<<11&4294967295|w>>>21),w=I+(k^T^x)+R[3]+3572445317&4294967295,I=k+(w<<16&4294967295|w>>>16),w=x+(I^k^T)+R[6]+76029189&4294967295,x=I+(w<<23&4294967295|w>>>9),w=T+(x^I^k)+R[9]+3654602809&4294967295,T=x+(w<<4&4294967295|w>>>28),w=k+(T^x^I)+R[12]+3873151461&4294967295,k=T+(w<<11&4294967295|w>>>21),w=I+(k^T^x)+R[15]+530742520&4294967295,I=k+(w<<16&4294967295|w>>>16),w=x+(I^k^T)+R[2]+3299628645&4294967295,x=I+(w<<23&4294967295|w>>>9),w=T+(I^(x|~k))+R[0]+4096336452&4294967295,T=x+(w<<6&4294967295|w>>>26),w=k+(x^(T|~I))+R[7]+1126891415&4294967295,k=T+(w<<10&4294967295|w>>>22),w=I+(T^(k|~x))+R[14]+2878612391&4294967295,I=k+(w<<15&4294967295|w>>>17),w=x+(k^(I|~T))+R[5]+4237533241&4294967295,x=I+(w<<21&4294967295|w>>>11),w=T+(I^(x|~k))+R[12]+1700485571&4294967295,T=x+(w<<6&4294967295|w>>>26),w=k+(x^(T|~I))+R[3]+2399980690&4294967295,k=T+(w<<10&4294967295|w>>>22),w=I+(T^(k|~x))+R[10]+4293915773&4294967295,I=k+(w<<15&4294967295|w>>>17),w=x+(k^(I|~T))+R[1]+2240044497&4294967295,x=I+(w<<21&4294967295|w>>>11),w=T+(I^(x|~k))+R[8]+1873313359&4294967295,T=x+(w<<6&4294967295|w>>>26),w=k+(x^(T|~I))+R[15]+4264355552&4294967295,k=T+(w<<10&4294967295|w>>>22),w=I+(T^(k|~x))+R[6]+2734768916&4294967295,I=k+(w<<15&4294967295|w>>>17),w=x+(k^(I|~T))+R[13]+1309151649&4294967295,x=I+(w<<21&4294967295|w>>>11),w=T+(I^(x|~k))+R[4]+4149444226&4294967295,T=x+(w<<6&4294967295|w>>>26),w=k+(x^(T|~I))+R[11]+3174756917&4294967295,k=T+(w<<10&4294967295|w>>>22),w=I+(T^(k|~x))+R[2]+718787259&4294967295,I=k+(w<<15&4294967295|w>>>17),w=x+(k^(I|~T))+R[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+I&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.v=function(E,T){T===void 0&&(T=E.length);const x=T-this.blockSize,R=this.C;let I=this.h,k=0;for(;k<T;){if(I==0)for(;k<=x;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<T;)if(R[I++]=E.charCodeAt(k++),I==this.blockSize){i(this,R),I=0;break}}else for(;k<T;)if(R[I++]=E[k++],I==this.blockSize){i(this,R),I=0;break}}this.h=I,this.o+=T},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;T=this.o*8;for(var x=E.length-8;x<E.length;++x)E[x]=T&255,T/=256;for(this.v(E),E=Array(16),T=0,x=0;x<4;++x)for(let R=0;R<32;R+=8)E[T++]=this.g[x]>>>R&255;return E};function a(E,T){var x=o;return Object.prototype.hasOwnProperty.call(x,E)?x[E]:x[E]=T(E)}function s(E,T){this.h=T;const x=[];let R=!0;for(let I=E.length-1;I>=0;I--){const k=E[I]|0;R&&k==T||(x[I]=k,R=!1)}this.g=x}var o={};function u(E){return-128<=E&&E<128?a(E,function(T){return new s([T|0],T<0?-1:0)}):new s([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return C(c(-E));const T=[];let x=1;for(let R=0;E>=x;R++)T[R]=E/x|0,x*=4294967296;return new s(T,0)}function h(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return C(h(E.substring(1),T));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=c(Math.pow(T,8));let R=m;for(let k=0;k<E.length;k+=8){var I=Math.min(8,E.length-k);const w=parseInt(E.substring(k,k+I),T);I<8?(I=c(Math.pow(T,I)),R=R.j(I).add(c(w))):(R=R.j(x),R=R.add(c(w)))}return R}var m=u(0),p=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-C(this).m();let E=0,T=1;for(let x=0;x<this.g.length;x++){const R=this.i(x);E+=(R>=0?R:4294967296+R)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(N(this))return"-"+C(this).toString(E);const T=c(Math.pow(E,6));var x=this;let R="";for(;;){const I=O(x,T).g;x=v(x,I.j(T));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(E);if(x=I,S(x))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(let T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function N(E){return E.h==-1}t.l=function(E){return E=v(this,E),N(E)?-1:S(E)?0:1};function C(E){const T=E.g.length,x=[];for(let R=0;R<T;R++)x[R]=~E.g[R];return new s(x,~E.h).add(p)}t.abs=function(){return N(this)?C(this):this},t.add=function(E){const T=Math.max(this.g.length,E.g.length),x=[];let R=0;for(let I=0;I<=T;I++){let k=R+(this.i(I)&65535)+(E.i(I)&65535),w=(k>>>16)+(this.i(I)>>>16)+(E.i(I)>>>16);R=w>>>16,k&=65535,w&=65535,x[I]=w<<16|k}return new s(x,x[x.length-1]&-2147483648?-1:0)};function v(E,T){return E.add(C(T))}t.j=function(E){if(S(this)||S(E))return m;if(N(this))return N(E)?C(this).j(C(E)):C(C(this).j(E));if(N(E))return C(this.j(C(E)));if(this.l(y)<0&&E.l(y)<0)return c(this.m()*E.m());const T=this.g.length+E.g.length,x=[];for(var R=0;R<2*T;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(let I=0;I<E.g.length;I++){const k=this.i(R)>>>16,w=this.i(R)&65535,M=E.i(I)>>>16,q=E.i(I)&65535;x[2*R+2*I]+=w*q,_(x,2*R+2*I),x[2*R+2*I+1]+=k*q,_(x,2*R+2*I+1),x[2*R+2*I+1]+=w*M,_(x,2*R+2*I+1),x[2*R+2*I+2]+=k*M,_(x,2*R+2*I+2)}for(E=0;E<T;E++)x[E]=x[2*E+1]<<16|x[2*E];for(E=T;E<2*T;E++)x[E]=0;return new s(x,0)};function _(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function A(E,T){this.g=E,this.h=T}function O(E,T){if(S(T))throw Error("division by zero");if(S(E))return new A(m,m);if(N(E))return T=O(C(E),T),new A(C(T.g),C(T.h));if(N(T))return T=O(E,C(T)),new A(C(T.g),T.h);if(E.g.length>30){if(N(E)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var x=p,R=T;R.l(E)<=0;)x=z(x),R=z(R);var I=F(x,1),k=F(R,1);for(R=F(R,2),x=F(x,2);!S(R);){var w=k.add(R);w.l(E)<=0&&(I=I.add(x),k=w),R=F(R,1),x=F(x,1)}return T=v(E,I.j(T)),new A(I,T)}for(I=m;E.l(T)>=0;){for(x=Math.max(1,Math.floor(E.m()/T.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=c(x),w=k.j(T);N(w)||w.l(E)>0;)x-=R,k=c(x),w=k.j(T);S(k)&&(k=p),I=I.add(k),E=v(E,w)}return new A(I,E)}t.B=function(E){return O(this,E).h},t.and=function(E){const T=Math.max(this.g.length,E.g.length),x=[];for(let R=0;R<T;R++)x[R]=this.i(R)&E.i(R);return new s(x,this.h&E.h)},t.or=function(E){const T=Math.max(this.g.length,E.g.length),x=[];for(let R=0;R<T;R++)x[R]=this.i(R)|E.i(R);return new s(x,this.h|E.h)},t.xor=function(E){const T=Math.max(this.g.length,E.g.length),x=[];for(let R=0;R<T;R++)x[R]=this.i(R)^E.i(R);return new s(x,this.h^E.h)};function z(E){const T=E.g.length+1,x=[];for(let R=0;R<T;R++)x[R]=E.i(R)<<1|E.i(R-1)>>>31;return new s(x,E.h)}function F(E,T){const x=T>>5;T%=32;const R=E.g.length-x,I=[];for(let k=0;k<R;k++)I[k]=T>0?E.i(k+x)>>>T|E.i(k+x+1)<<32-T:E.i(k+x);return new s(I,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,IA=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Di=s}).apply(typeof Vb<"u"?Vb:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DA,yl,OA,Xc,Jp,kA,MA,PA;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var P=l[b];if(!(P in g))break e;g=g[P]}l=l[l.length-1],b=g[l],f=f(b),f!=b&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(f){var g=[],b;for(b in f)Object.prototype.hasOwnProperty.call(f,b)&&g.push([b,f[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function u(l,f,g){return l.call.apply(l.bind,arguments)}function c(l,f,g){return c=u,c.apply(null,arguments)}function h(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function m(l,f){function g(){}g.prototype=f.prototype,l.Z=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(b,P,V){for(var H=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)H[ae-2]=arguments[ae];return f.prototype[P].apply(b,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const f=l.length;if(f>0){const g=Array(f);for(let b=0;b<f;b++)g[b]=l[b];return g}return[]}function S(l,f){for(let b=1;b<arguments.length;b++){const P=arguments[b];var g=typeof P;if(g=g!="object"?g:P?Array.isArray(P)?"array":g:"null",g=="array"||g=="object"&&typeof P.length=="number"){g=l.length||0;const V=P.length||0;l.length=g+V;for(let H=0;H<V;H++)l[g+H]=P[H]}else l.push(P)}}class N{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function C(l){s.setTimeout(()=>{throw l},0)}function v(){var l=E;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class _{constructor(){this.h=this.g=null}add(f,g){const b=A.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var A=new N(()=>new O,l=>l.reset());class O{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let z,F=!1,E=new _,T=()=>{const l=Promise.resolve(void 0);z=()=>{l.then(x)}};function x(){for(var l;l=v();){try{l.h.call(l.g)}catch(g){C(g)}var f=A;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}F=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};s.addEventListener("test",g,f),s.removeEventListener("test",g,f)}catch{}return l}();function w(l){return/^[\s\xa0]*$/.test(l)}function M(l,f){I.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}m(M,I),M.prototype.init=function(l,f){const g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),L=0;function G(l,f,g,b,P){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=P,this.key=++L,this.da=this.fa=!1}function K(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function X(l,f,g){for(const b in l)f.call(g,l[b],b,l)}function se(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function ct(l){const f={};for(const g in l)f[g]=l[g];return f}const ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zt(l,f){let g,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(g in b)l[g]=b[g];for(let V=0;V<ht.length;V++)g=ht[V],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function vt(l){this.src=l,this.g={},this.h=0}vt.prototype.add=function(l,f,g,b,P){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const H=$r(l,f,b,P);return H>-1?(f=l[H],g||(f.fa=!1)):(f=new G(f,this.src,V,!!b,P),f.fa=g,l.push(f)),f};function mn(l,f){const g=f.type;if(g in l.g){var b=l.g[g],P=Array.prototype.indexOf.call(b,f,void 0),V;(V=P>=0)&&Array.prototype.splice.call(b,P,1),V&&(K(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function $r(l,f,g,b){for(let P=0;P<l.length;++P){const V=l[P];if(!V.da&&V.listener==f&&V.capture==!!g&&V.ha==b)return P}return-1}var dr="closure_lm_"+(Math.random()*1e6|0),mr={};function On(l,f,g,b,P){if(Array.isArray(f)){for(let V=0;V<f.length;V++)On(l,f[V],g,b,P);return null}return g=Oo(g),l&&l[q]?l.J(f,g,o(b)?!!b.capture:!1,P):Io(l,f,g,!1,b,P)}function Io(l,f,g,b,P,V){if(!f)throw Error("Invalid event type");const H=o(P)?!!P.capture:!!P;let ae=It(l);if(ae||(l[dr]=ae=new vt(l)),g=ae.add(f,g,b,H,V),g.proxy)return g;if(b=Do(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)k||(P=H),P===void 0&&(P=!1),l.addEventListener(f.toString(),b,P);else if(l.attachEvent)l.attachEvent(qe(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Do(){function l(g){return f.call(l.src,l.listener,g)}const f=na;return l}function ea(l,f,g,b,P){if(Array.isArray(f))for(var V=0;V<f.length;V++)ea(l,f[V],g,b,P);else b=o(b)?!!b.capture:!!b,g=Oo(g),l&&l[q]?(l=l.i,V=String(f).toString(),V in l.g&&(f=l.g[V],g=$r(f,g,b,P),g>-1&&(K(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete l.g[V],l.h--)))):l&&(l=It(l))&&(f=l.g[f.toString()],l=-1,f&&(l=$r(f,g,b,P)),(g=l>-1?f[l]:null)&&ta(g))}function ta(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[q])mn(f.i,l);else{var g=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(g,b,l.capture):f.detachEvent?f.detachEvent(qe(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=It(f))?(mn(g,l),g.h==0&&(g.src=null,f[dr]=null)):K(l)}}}function qe(l){return l in mr?mr[l]:mr[l]="on"+l}function na(l,f){if(l.da)l=!0;else{f=new M(f,this);const g=l.listener,b=l.ha||l.src;l.fa&&ta(l),l=g.call(b,f)}return l}function It(l){return l=l[dr],l instanceof vt?l:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(l){return typeof l=="function"?l:(l[Yr]||(l[Yr]=function(f){return l.handleEvent(f)}),l[Yr])}function at(){R.call(this),this.i=new vt(this),this.M=this,this.G=null}m(at,R),at.prototype[q]=!0,at.prototype.removeEventListener=function(l,f,g,b){ea(this,l,f,g,b)};function _t(l,f){var g,b=l.G;if(b)for(g=[];b;b=b.G)g.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new I(f,l);else if(f instanceof I)f.target=f.target||l;else{var P=f;f=new I(b,l),zt(f,P)}P=!0;let V,H;if(g)for(H=g.length-1;H>=0;H--)V=f.g=g[H],P=Za(V,b,!0,f)&&P;if(V=f.g=l,P=Za(V,b,!0,f)&&P,P=Za(V,b,!1,f)&&P,g)for(H=0;H<g.length;H++)V=f.g=g[H],P=Za(V,b,!1,f)&&P}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const g=l.g[f];for(let b=0;b<g.length;b++)K(g[b]);delete l.g[f],l.h--}}this.G=null},at.prototype.J=function(l,f,g,b){return this.i.add(String(l),f,!1,g,b)},at.prototype.K=function(l,f,g,b){return this.i.add(String(l),f,!0,g,b)};function Za(l,f,g,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let P=!0;for(let V=0;V<f.length;++V){const H=f[V];if(H&&!H.da&&H.capture==g){const ae=H.listener,st=H.ha||H.src;H.fa&&mn(l.i,H),P=ae.call(st,b)!==!1&&P}}return P&&!b.defaultPrevented}function gd(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:s.setTimeout(l,f||0)}function ko(l){l.g=gd(()=>{l.g=null,l.i&&(l.i=!1,ko(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class yd extends R{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ko(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(l){R.call(this),this.h=l,this.g={}}m(ra,R);var Hu=[];function Gu(l){X(l.g,function(f,g){this.g.hasOwnProperty(g)&&ta(f)},l),l.g={}}ra.prototype.N=function(){ra.Z.N.call(this),Gu(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=s.JSON.stringify,Po=s.JSON.parse,$u=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function Vo(){}function Yu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function es(){I.call(this,"d")}m(es,I);function Lo(){I.call(this,"c")}m(Lo,I);var Gn={},jo=null;function Kr(){return jo=jo||new at}Gn.Ia="serverreachability";function Ku(l){I.call(this,Gn.Ia,l)}m(Ku,I);function Wr(l){const f=Kr();_t(f,new Ku(f))}Gn.STAT_EVENT="statevent";function Wu(l,f){I.call(this,Gn.STAT_EVENT,l),this.stat=f}m(Wu,I);function ft(l){const f=Kr();_t(f,new Wu(f,l))}Gn.Ja="timingevent";function bt(l,f){I.call(this,Gn.Ja,l),this.size=f}m(bt,I);function Xe(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},f)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Ne(l,f,g,b,P,V){l.info(function(){if(l.g)if(V){var H="",ae=V.split("&");for(let Se=0;Se<ae.length;Se++){var st=ae[Se].split("=");if(st.length>1){const dt=st[0];st=st[1];const Wn=dt.split("_");H=Wn.length>=2&&Wn[1]=="type"?H+(dt+"="+st+"&"):H+(dt+"=redacted&")}}}else H=null;else H=V;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+f+`
`+g+`
`+H})}function pn(l,f,g,b,P,V,H){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+f+`
`+g+`
`+V+" "+H})}function Qr(l,f,g,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Qu(l,g)+(b?" "+b:"")})}function Uo(l,f){l.info(function(){return"TIMEOUT: "+f})}$n.prototype.info=function(){};function Qu(l,f){if(!l.g)return f;if(!f)return null;try{const V=JSON.parse(f);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var g=V[l];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let H=1;H<b.length;H++)b[H]=""}}}}return Mo(V)}catch{return f}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ts={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},aa;function sa(){}m(sa,Vo),sa.prototype.g=function(){return new XMLHttpRequest},aa=new sa;function pr(l){return encodeURIComponent(String(l))}function zo(l){var f=1;l=l.split(":");const g=[];for(;f>0&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function Yn(l,f,g,b){this.j=l,this.i=f,this.l=g,this.S=b||1,this.V=new ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}var Bo={},Fo={};function qo(l,f,g){l.M=1,l.A=Xu(Kn(f)),l.u=g,l.R=!0,oe(l,null)}function oe(l,f){l.F=Date.now(),Dt(l),l.B=Kn(l.A);var g=l.B,b=l.S;Array.isArray(b)||(b=[String(b)]),s_(g.i,"t",b),l.C=0,g=l.j.L,l.h=new ns,l.g=S_(l.j,g?f:null,!l.u),l.P>0&&(l.O=new yd(c(l.Y,l,l.g),l.P)),f=l.V,g=l.g,b=l.ba;var P="readystatechange";Array.isArray(P)||(P&&(Hu[0]=P.toString()),P=Hu);for(let V=0;V<P.length;V++){const H=On(g,P[V],b||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=l.J?ct(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),Wr(),Ne(l.i,l.v,l.B,l.l,l.S,l.u)}Yn.prototype.ba=function(l){l=l.target;const f=this.O;f&&Zr(l)==3?f.j():this.Y(l)},Yn.prototype.Y=function(l){try{if(l==this.g)e:{const ae=Zr(this.g),st=this.g.ya(),Se=this.g.ca();if(!(ae<3)&&(ae!=3||this.g&&(this.h.h||this.g.la()||d_(this.g)))){this.K||ae!=4||st==7||(st==8||Se<=0?Wr(3):Wr(2)),Ho(this);var f=this.g.ca();this.X=f;var g=Ve(this);if(this.o=f==200,pn(this.i,this.v,this.B,this.l,this.S,ae,f),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var V=b;break t}}V=null}if(l=V)Qr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vd(this,l);else{this.o=!1,this.m=3,ft(12),la(this),oa(this);break e}}if(this.R){l=!0;let dt;for(;!this.K&&this.C<g.length;)if(dt=Xt(this,g),dt==Fo){ae==4&&(this.m=4,ft(14),l=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Bo){this.m=4,ft(15),Qr(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Qr(this.i,this.l,dt,null),vd(this,dt);if(ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ae!=4||g.length!=0||this.h.h||(this.m=1,ft(16),l=!1),this.o=this.o&&l,!l)Qr(this.i,this.l,g,"[Invalid Chunked Response]"),la(this),oa(this);else if(g.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),xd(H),H.P=!0,ft(11))}}else Qr(this.i,this.l,g,null),vd(this,g);ae==4&&la(this),this.o&&!this.K&&(ae==4?b_(this.j,this):(this.o=!1,Dt(this)))}else MC(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),la(this),oa(this)}}}catch{}finally{}};function Ve(l){if(!ze(l))return l.g.la();const f=d_(l.g);if(f==="")return"";let g="";const b=f.length,P=Zr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return la(l),oa(l),"";l.h.i=new s.TextDecoder}for(let V=0;V<b;V++)l.h.h=!0,g+=l.h.i.decode(f[V],{stream:!(P&&V==b-1)});return f.length=0,l.h.g+=g,l.C=0,l.h.g}function ze(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Xt(l,f){var g=l.C,b=f.indexOf(`
`,g);return b==-1?Fo:(g=Number(f.substring(g,b)),isNaN(g)?Bo:(b+=1,b+g>f.length?Fo:(f=f.slice(b,b+g),l.C=b+g,f)))}Yn.prototype.cancel=function(){this.K=!0,la(this)};function Dt(l){l.T=Date.now()+l.H,rs(l,l.H)}function rs(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Xe(c(l.aa,l),f)}function Ho(l){l.D&&(s.clearTimeout(l.D),l.D=null)}Yn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Uo(this.i,this.B),this.M!=2&&(Wr(),ft(17)),la(this),this.m=2,oa(this)):rs(this,this.T-l)};function oa(l){l.j.I==0||l.K||b_(l.j,l)}function la(l){Ho(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,Gu(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function vd(l,f){try{var g=l.j;if(g.I!=0&&(g.g==l||_d(g.h,l))){if(!l.L&&_d(g.h,l)&&g.I==3){try{var b=g.Ba.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)nc(g),ec(g);else break e;Ad(g),ft(18)}}else g.xa=P[1],0<g.xa-g.K&&P[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Xe(c(g.Va,g),6e3));Jv(g.h)<=1&&g.ta&&(g.ta=void 0)}else ca(g,11)}else if((l.L||g.g==l)&&nc(g),!w(f))for(P=g.Ba.g.parse(f),f=0;f<P.length;f++){let Se=P[f];const dt=Se[0];if(!(dt<=g.K))if(g.K=dt,Se=Se[1],g.I==2)if(Se[0]=="c"){g.M=Se[1],g.ba=Se[2];const Wn=Se[3];Wn!=null&&(g.ka=Wn,g.j.info("VER="+g.ka));const ha=Se[4];ha!=null&&(g.za=ha,g.j.info("SVER="+g.za));const ei=Se[5];ei!=null&&typeof ei=="number"&&ei>0&&(b=1.5*ei,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const ti=l.g;if(ti){const ic=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var V=b.h;V.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(bd(V,V.h),V.h=null))}if(b.G){const Rd=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Rd&&(b.wa=Rd,Ie(b.J,b.G,Rd))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var H=l;if(b.na=w_(b,b.L?b.ba:null,b.W),H.L){Zv(b.h,H);var ae=H,st=b.O;st&&(ae.H=st),ae.D&&(Ho(ae),Dt(ae)),b.g=H}else v_(b);g.i.length>0&&tc(g)}else Se[0]!="stop"&&Se[0]!="close"||ca(g,7);else g.I==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?ca(g,7):Sd(g):Se[0]!="noop"&&g.l&&g.l.qa(Se),g.A=0)}}Wr(4)}catch{}}var TC=class{constructor(l,f){this.g=l,this.map=f}};function Qv(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Jv(l){return l.h?1:l.g?l.g.size:0}function _d(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function bd(l,f){l.g?l.g.add(f):l.h=f}function Zv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Qv.prototype.cancel=function(){if(this.i=e_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function e_(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.G);return f}return y(l.i)}var t_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EC(l,f){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const b=l[g].indexOf("=");let P,V=null;b>=0?(P=l[g].substring(0,b),V=l[g].substring(b+1)):P=l[g],f(P,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Xr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof Xr?(this.l=l.l,Go(this,l.j),this.o=l.o,this.g=l.g,$o(this,l.u),this.h=l.h,Td(this,o_(l.i)),this.m=l.m):l&&(f=String(l).match(t_))?(this.l=!1,Go(this,f[1]||"",!0),this.o=Yo(f[2]||""),this.g=Yo(f[3]||"",!0),$o(this,f[4]),this.h=Yo(f[5]||"",!0),Td(this,f[6]||"",!0),this.m=Yo(f[7]||"")):(this.l=!1,this.i=new Wo(null,this.l))}Xr.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(Ko(f,n_,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Ko(f,n_,!0),"@"),l.push(pr(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ko(g,g.charAt(0)=="/"?AC:SC,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ko(g,RC)),l.join("")},Xr.prototype.resolve=function(l){const f=Kn(this);let g=!!l.j;g?Go(f,l.j):g=!!l.o,g?f.o=l.o:g=!!l.g,g?f.g=l.g:g=l.u!=null;var b=l.h;if(g)$o(f,l.u);else if(g=!!l.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=f.h.lastIndexOf("/");P!=-1&&(b=f.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const V=[];for(let H=0;H<P.length;){const ae=P[H++];ae=="."?b&&H==P.length&&V.push(""):ae==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),b&&H==P.length&&V.push("")):(V.push(ae),b=!0)}b=V.join("/")}else b=P}return g?f.h=b:g=l.i.toString()!=="",g?Td(f,o_(l.i)):g=!!l.m,g&&(f.m=l.m),f};function Kn(l){return new Xr(l)}function Go(l,f,g){l.j=g?Yo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function $o(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function Td(l,f,g){f instanceof Wo?(l.i=f,CC(l.i,l.l)):(g||(f=Ko(f,xC)),l.i=new Wo(f,l.l))}function Ie(l,f,g){l.i.set(f,g)}function Xu(l){return Ie(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Yo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ko(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,wC),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var n_=/[#\/\?@]/g,SC=/[#\?:]/g,AC=/[#\?]/g,xC=/[#\?@]/g,RC=/#/g;function Wo(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ua(l){l.g||(l.g=new Map,l.h=0,l.i&&EC(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Wo.prototype,t.add=function(l,f){ua(this),this.i=null,l=is(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function r_(l,f){ua(l),f=is(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function i_(l,f){return ua(l),f=is(l,f),l.g.has(f)}t.forEach=function(l,f){ua(this),this.g.forEach(function(g,b){g.forEach(function(P){l.call(f,P,b,this)},this)},this)};function a_(l,f){ua(l);let g=[];if(typeof f=="string")i_(l,f)&&(g=g.concat(l.g.get(is(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)g=g.concat(l[f]);return g}t.set=function(l,f){return ua(this),this.i=null,l=is(this,l),i_(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=a_(this,l),l.length>0?String(l[0]):f):f};function s_(l,f,g){r_(l,f),g.length>0&&(l.i=null,l.g.set(is(l,f),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let b=0;b<f.length;b++){var g=f[b];const P=pr(g);g=a_(this,g);for(let V=0;V<g.length;V++){let H=P;g[V]!==""&&(H+="="+pr(g[V])),l.push(H)}}return this.i=l.join("&")};function o_(l){const f=new Wo;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function is(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function CC(l,f){f&&!l.j&&(ua(l),l.i=null,l.g.forEach(function(g,b){const P=b.toLowerCase();b!=P&&(r_(this,b),s_(this,P,g))},l)),l.j=f}function NC(l,f){const g=new $n;if(s.Image){const b=new Image;b.onload=h(Jr,g,"TestLoadImage: loaded",!0,f,b),b.onerror=h(Jr,g,"TestLoadImage: error",!1,f,b),b.onabort=h(Jr,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=h(Jr,g,"TestLoadImage: timeout",!1,f,b),s.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function IC(l,f){const g=new $n,b=new AbortController,P=setTimeout(()=>{b.abort(),Jr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(V=>{clearTimeout(P),V.ok?Jr(g,"TestPingServer: ok",!0,f):Jr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(P),Jr(g,"TestPingServer: error",!1,f)})}function Jr(l,f,g,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(g)}catch{}}function DC(){this.g=new $u}function Ed(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Ed,Vo),Ed.prototype.g=function(){return new Ju(this.i,this.h)};function Ju(l,f){at.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ju,at),t=Ju.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,Xo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||s).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;l_(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function l_(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Qo(this):Xo(this),this.readyState==3&&l_(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Qo(this))},t.Na=function(l){this.g&&(this.response=l,Qo(this))},t.ga=function(){this.g&&Qo(this)};function Qo(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Xo(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Xo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function u_(l){let f="";return X(l,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function wd(l,f,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=u_(g),typeof l=="string"?g!=null&&pr(g):Ie(l,f,g))}function He(l){at.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(He,at);var OC=/^https?$/i,kC=["POST","PUT"];t=He.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():aa.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(V){c_(this,V);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)g.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())g.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),P=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(kC,f,void 0)>=0)||b||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of g)this.g.setRequestHeader(V,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){c_(this,V)}};function c_(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,h_(l),Zu(l)}function h_(l){l.A||(l.A=!0,_t(l,"complete"),_t(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,_t(this,"complete"),_t(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),He.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?f_(this):this.Xa())},t.Xa=function(){f_(this)};function f_(l){if(l.h&&typeof a<"u"){if(l.v&&Zr(l)==4)setTimeout(l.Ca.bind(l),0);else if(_t(l,"readystatechange"),Zr(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var b;if(b=V===0){let H=String(l.D).match(t_)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),b=!OC.test(H?H.toLowerCase():"")}g=b}if(g)_t(l,"complete"),_t(l,"success");else{l.o=6;try{var P=Zr(l)>2?l.g.statusText:""}catch{P=""}l.l=P+" ["+l.ca()+"]",h_(l)}}finally{Zu(l)}}}}function Zu(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,f||_t(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Po(f)}};function d_(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function MC(l){const f={};l=(l.g&&Zr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(w(l[b]))continue;var g=zo(l[b]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=f[P]||[];f[P]=V,V.push(g)}se(f,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function m_(l){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jo("baseRetryDelayMs",5e3,l),this.Za=Jo("retryDelaySeedMs",1e4,l),this.Ta=Jo("forwardChannelMaxRetries",2,l),this.va=Jo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Qv(l&&l.concurrentRequestLimit),this.Ba=new DC,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=m_.prototype,t.ka=8,t.I=1,t.connect=function(l,f,g,b){ft(0),this.W=l,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=w_(this,null,this.W),tc(this)};function Sd(l){if(p_(l),l.I==3){var f=l.V++,g=Kn(l.J);if(Ie(g,"SID",l.M),Ie(g,"RID",f),Ie(g,"TYPE","terminate"),Zo(l,g),f=new Yn(l,l.j,f),f.M=2,f.A=Xu(Kn(g)),g=!1,s.navigator&&s.navigator.sendBeacon)try{g=s.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&s.Image&&(new Image().src=f.A,g=!0),g||(f.g=S_(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Dt(f)}E_(l)}function ec(l){l.g&&(xd(l),l.g.cancel(),l.g=null)}function p_(l){ec(l),l.v&&(s.clearTimeout(l.v),l.v=null),nc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function tc(l){if(!Xv(l.h)&&!l.m){l.m=!0;var f=l.Ea;z||T(),F||(z(),F=!0),E.add(f,l),l.D=0}}function PC(l,f){return Jv(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Xe(c(l.Ea,l,f),T_(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const P=new Yn(this,this.j,l);let V=this.o;if(this.U&&(V?(V=ct(V),zt(V,this.U)):V=this.U),this.u!==null||this.R||(P.J=V,V=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(f+=b,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=y_(this,P,f),g=Kn(this.J),Ie(g,"RID",l),Ie(g,"CVER",22),this.G&&Ie(g,"X-HTTP-Session-Id",this.G),Zo(this,g),V&&(this.R?f="headers="+pr(u_(V))+"&"+f:this.u&&wd(g,this.u,V)),bd(this.h,P),this.Ra&&Ie(g,"TYPE","init"),this.S?(Ie(g,"$req",f),Ie(g,"SID","null"),P.U=!0,qo(P,g,null)):qo(P,g,f),this.I=2}}else this.I==3&&(l?g_(this,l):this.i.length==0||Xv(this.h)||g_(this))};function g_(l,f){var g;f?g=f.l:g=l.V++;const b=Kn(l.J);Ie(b,"SID",l.M),Ie(b,"RID",g),Ie(b,"AID",l.K),Zo(l,b),l.u&&l.o&&wd(b,l.u,l.o),g=new Yn(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),f&&(l.i=f.G.concat(l.i)),f=y_(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),bd(l.h,g),qo(g,b,f)}function Zo(l,f){l.H&&X(l.H,function(g,b){Ie(f,b,g)}),l.l&&X({},function(g,b){Ie(f,b,g)})}function y_(l,f,g){g=Math.min(l.i.length,g);const b=l.l?c(l.l.Ka,l.l,l):null;e:{var P=l.i;let ae=-1;for(;;){const st=["count="+g];ae==-1?g>0?(ae=P[0].g,st.push("ofs="+ae)):ae=0:st.push("ofs="+ae);let Se=!0;for(let dt=0;dt<g;dt++){var V=P[dt].g;const Wn=P[dt].map;if(V-=ae,V<0)ae=Math.max(0,P[dt].g-100),Se=!1;else try{V="req"+V+"_"||"";try{var H=Wn instanceof Map?Wn:Object.entries(Wn);for(const[ha,ei]of H){let ti=ei;o(ei)&&(ti=Mo(ei)),st.push(V+ha+"="+encodeURIComponent(ti))}}catch(ha){throw st.push(V+"type="+encodeURIComponent("_badmap")),ha}}catch{b&&b(Wn)}}if(Se){H=st.join("&");break e}}H=void 0}return l=l.i.splice(0,g),f.G=l,H}function v_(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;z||T(),F||(z(),F=!0),E.add(f,l),l.A=0}}function Ad(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Xe(c(l.Da,l),T_(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,__(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Xe(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),ec(this),__(this))};function xd(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function __(l){l.g=new Yn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=Kn(l.na);Ie(f,"RID","rpc"),Ie(f,"SID",l.M),Ie(f,"AID",l.K),Ie(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&Ie(f,"TO",l.ia),Ie(f,"TYPE","xmlhttp"),Zo(l,f),l.u&&l.o&&wd(f,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Xu(Kn(f)),g.u=null,g.R=!0,oe(g,l)}t.Va=function(){this.C!=null&&(this.C=null,ec(this),Ad(this),ft(19))};function nc(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function b_(l,f){var g=null;if(l.g==f){nc(l),xd(l),l.g=null;var b=2}else if(_d(l.h,f))g=f.G,Zv(l.h,f),b=1;else return;if(l.I!=0){if(f.o)if(b==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var P=l.D;b=Kr(),_t(b,new bt(b,g)),tc(l)}else v_(l);else if(P=f.m,P==3||P==0&&f.X>0||!(b==1&&PC(l,f)||b==2&&Ad(l)))switch(g&&g.length>0&&(f=l.h,f.i=f.i.concat(g)),P){case 1:ca(l,5);break;case 4:ca(l,10);break;case 3:ca(l,6);break;default:ca(l,2)}}}function T_(l,f){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*f}function ca(l,f){if(l.j.info("Error code "+f),f==2){var g=c(l.bb,l),b=l.Ua;const P=!b;b=new Xr(b||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Go(b,"https"),Xu(b),P?NC(b.toString(),g):IC(b.toString(),g)}else ft(2);l.I=0,l.l&&l.l.pa(f),E_(l),p_(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function E_(l){if(l.I=0,l.ja=[],l.l){const f=e_(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ja,f),S(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function w_(l,f,g){var b=g instanceof Xr?Kn(g):new Xr(g);if(b.g!="")f&&(b.g=f+"."+b.g),$o(b,b.u);else{var P=s.location;b=P.protocol,f=f?f+"."+P.hostname:P.hostname,P=+P.port;const V=new Xr(null);b&&Go(V,b),f&&(V.g=f),P&&$o(V,P),g&&(V.h=g),b=V}return g=l.G,f=l.wa,g&&f&&Ie(b,g,f),Ie(b,"VER",l.ka),Zo(l,b),b}function S_(l,f,g){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new He(new Ed({ab:g})):new He(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function A_(){}t=A_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function rc(){}rc.prototype.g=function(l,f){return new Jt(l,f)};function Jt(l,f){at.call(this),this.g=new m_(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!w(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new as(this)}m(Jt,at),Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Sd(this.g)},Jt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Mo(l),l=g);f.i.push(new TC(f.Ya++,l)),f.I==3&&tc(f)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Sd(this.g),delete this.g,Jt.Z.N.call(this)};function x_(l){es.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}m(x_,es);function R_(){Lo.call(this),this.status=1}m(R_,Lo);function as(l){this.g=l}m(as,A_),as.prototype.ra=function(){_t(this.g,"a")},as.prototype.qa=function(l){_t(this.g,new x_(l))},as.prototype.pa=function(l){_t(this.g,new R_)},as.prototype.oa=function(){_t(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,PA=function(){return new rc},MA=function(){return Kr()},kA=Gn,Jp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Xc=ia,ts.COMPLETE="complete",OA=ts,Yu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",at.prototype.listen=at.prototype.J,yl=Yu,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,DA=He}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const Lb="@firebase/firestore",jb="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Ff("@firebase/firestore");function hs(){return ka.logLevel}function Y(t,...e){if(ka.logLevel<=ce.DEBUG){const n=e.map($y);ka.debug(`Firestore (${Eo}): ${t}`,...n)}}function zr(t,...e){if(ka.logLevel<=ce.ERROR){const n=e.map($y);ka.error(`Firestore (${Eo}): ${t}`,...n)}}function to(t,...e){if(ka.logLevel<=ce.WARN){const n=e.map($y);ka.warn(`Firestore (${Eo}): ${t}`,...n)}}function $y(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,VA(t,r,n)}function VA(t,e,n){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zr(r),new Error(r)}function _e(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||VA(e,i,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class SP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class AP{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Or,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Or)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string",31837,{l:r}),new LA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string",2055,{h:e}),new kt(e)}}class xP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new xP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_e(this.o===void 0,3512);const r=a=>{a.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ub(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=NP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Zp(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Sm(i)===Sm(a)?he(i,a):Sm(i)?1:-1}return he(t.length,e.length)}const IP=55296,DP=57343;function Sm(t){const e=t.charCodeAt(0);return e>=IP&&e<=DP}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="__name__";class Xn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Xn.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return he(e.length,n.length)}static compareSegments(e,n){const r=Xn.isNumericId(e),i=Xn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):Zp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Re extends Xn{construct(e,n,r){return new Re(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Re(n)}static emptyPath(){return new Re([])}}const OP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends Xn{construct(e,n,r){return new xt(e,n,r)}static isValidIdentifier(e){return OP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zb}static keyField(){return new xt([zb])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new $(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new $(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new $(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(n)}static emptyPath(){return new xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Re.fromString(e))}static fromName(e){return new Q(Re.fromString(e).popFirst(5))}static empty(){return new Q(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Re.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Re(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e,n){if(!n)throw new $(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kP(t,e,n,r){if(e===!0&&r===!0)throw new $(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Bb(t){if(!Q.isDocumentKey(t))throw new $(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Fb(t){if(Q.isDocumentKey(t))throw new $(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Rn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hf(t);throw new $(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function ku(t,e){if(!UA(t))throw new $(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new $(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=-62135596800,Hb=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(e){return ve.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Hb);return new ve(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<qb)throw new $(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hb}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,ve._jsonSchema))return new ve(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:it("string",ve._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new ve(0,0))}static max(){return new te(new ve(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function MP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new ve(n+1,0):new ve(n,r));return new Ui(i,Q.empty(),e)}function PP(t){return new Ui(t.readTime,t.key,au)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(te.min(),Q.empty(),au)}static max(){return new Ui(te.max(),Q.empty(),au)}}function VP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==LP)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},u=>r(u))}),s=!0,a===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++o,o===a&&r(s)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function UP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-1;function $f(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function zP(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="";function BP(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Gb(e)),e=FP(t.get(n),e);return Gb(e)}function FP(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case zA:n+="";break;default:n+=a}}return n}function Gb(t){return t+zA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xc(this.root,e,this.comparator,!0)}}class xc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Et.RED,this.left=i??Et.EMPTY,this.right=a??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Et(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yb(this.data.getIterator())}getIteratorFrom(e){return new Yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class Yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new an([])}unionWith(e){let n=new lt(xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new FA("Invalid base64 string: "+a):a}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const qP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(_e(!!t,39018),typeof t=="string"){let e=0;const n=qP.exec(t);if(_e(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="server_timestamp",HA="__type__",GA="__previous_value__",$A="__local_write_time__";function Wy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HA])==null?void 0:r.stringValue)===qA}function Yf(t){const e=t.mapValue.fields[GA];return Wy(e)?Yf(e):e}function su(t){const e=zi(t.mapValue.fields[$A].timestampValue);return new ve(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,i,a,s,o,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const Bh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="__type__",GP="__max__",Rc={mapValue:{}},KA="__vector__",Fh="value";function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wy(t)?4:YP(t)?9007199254740991:$P(t)?10:11:Z(28295,{value:t})}function lr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=zi(i.timestampValue),o=zi(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Bi(i.bytesValue).isEqual(Bi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ye(i.geoPointValue.latitude)===Ye(a.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ye(i.integerValue)===Ye(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ye(i.doubleValue),o=Ye(a.doubleValue);return s===o?zh(s)===zh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if($b(s)!==$b(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!lr(s[u],o[u])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function lu(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function ro(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Ye(a.integerValue||a.doubleValue),u=Ye(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return Kb(t.timestampValue,e.timestampValue);case 4:return Kb(su(t),su(e));case 5:return Zp(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Bi(a),u=Bi(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),u=s.split("/");for(let c=0;c<o.length&&c<u.length;c++){const h=he(o[c],u[c]);if(h!==0)return h}return he(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=he(Ye(a.latitude),Ye(s.latitude));return o!==0?o:he(Ye(a.longitude),Ye(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Wb(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,y,S,N;const o=a.fields||{},u=s.fields||{},c=(p=o[Fh])==null?void 0:p.arrayValue,h=(y=u[Fh])==null?void 0:y.arrayValue,m=he(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((N=h==null?void 0:h.values)==null?void 0:N.length)||0);return m!==0?m:Wb(c,h)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Rc.mapValue&&s===Rc.mapValue)return 0;if(a===Rc.mapValue)return 1;if(s===Rc.mapValue)return-1;const o=a.fields||{},u=Object.keys(o),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=Zp(u[m],h[m]);if(p!==0)return p;const y=ro(o[u[m]],c[h[m]]);if(y!==0)return y}return he(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function Kb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=zi(t),r=zi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Wb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ro(n[i],r[i]);if(a)return a}return he(n.length,r.length)}function io(t){return eg(t)}function eg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=eg(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${eg(n.fields[s])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function Jc(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yf(t);return e?16+Jc(e):16;case 5:return 2*t.stringValue.length;case 6:return Bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Jc(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xi(r.fields,(a,s)=>{i+=a.length+Jc(s)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function Qb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tg(t){return!!t&&"integerValue"in t}function Qy(t){return!!t&&"arrayValue"in t}function Xb(t){return!!t&&"nullValue"in t}function Jb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zc(t){return!!t&&"mapValue"in t}function $P(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[YA])==null?void 0:r.stringValue)===KA}function Vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return{...t}}function YP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Vl(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xi(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new $t(Vl(this.value))}}function WA(t){const e=[];return Xi(t.fields,(n,r)=>{const i=new xt([n]);if(Zc(r)){const a=WA(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Mt(e,0,te.min(),te.min(),te.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,te.min(),te.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,te.min(),te.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function Zb(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=ro(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function eT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function KP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{}class nt extends QA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QP(e,n,r):n==="array-contains"?new ZP(e,r):n==="in"?new eV(e,r):n==="not-in"?new tV(e,r):n==="array-contains-any"?new nV(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new XP(e,r):new JP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends QA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Un(e,n)}matches(e){return XA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XA(t){return t.op==="and"}function JA(t){return WP(t)&&XA(t)}function WP(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function ng(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+io(t.value);if(JA(t))return t.filters.map(e=>ng(e)).join(",");{const e=t.filters.map(n=>ng(n)).join(",");return`${t.op}(${e})`}}function ZA(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&ZA(s,i.filters[o]),!0):!1}(t,e):void Z(19439)}function ex(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(ex).join(" ,")+"}"}(t):"Filter"}class QP extends nt{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class XP extends nt{constructor(e,n){super(e,"in",n),this.keys=tx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JP extends nt{constructor(e,n){super(e,"not-in",n),this.keys=tx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tx(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class ZP extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qy(n)&&lu(n.arrayValue,this.value)}}class eV extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class tV extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class nV extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function tT(t,e=null,n=[],r=[],i=null,a=null,s=null){return new rV(t,e,n,r,i,a,s)}function Xy(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ng(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.Te=n}return e.Te}function Jy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ZA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eT(t.startAt,e.startAt)&&eT(t.endAt,e.endAt)}function rg(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iV(t,e,n,r,i,a,s,o){return new Mu(t,e,n,r,i,a,s,o)}function Kf(t){return new Mu(t)}function nT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nx(t){return t.collectionGroup!==null}function Ll(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new lt(xt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Hh(a,r))}),n.has(xt.keyField().canonicalString())||e.Ie.push(new Hh(xt.keyField(),r))}return e.Ie}function nr(t){const e=ne(t);return e.Ee||(e.Ee=aV(e,Ll(t))),e.Ee}function aV(t,e){if(t.limitType==="F")return tT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Hh(i.field,a)});const n=t.endAt?new qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qh(t.startAt.position,t.startAt.inclusive):null;return tT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ig(t,e){const n=t.filters.concat([e]);return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ag(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wf(t,e){return Jy(nr(t),nr(e))&&t.limitType===e.limitType}function rx(t){return`${Xy(nr(t))}|lt:${t.limitType}`}function fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ex(i)).join(", ")}]`),$f(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(nr(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Q.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Ll(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,u){const c=Zb(s,o,u);return s.inclusive?c<=0:c<0}(r.startAt,Ll(r),i)||r.endAt&&!function(s,o,u){const c=Zb(s,o,u);return s.inclusive?c>=0:c>0}(r.endAt,Ll(r),i))}(t,e)}function sV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ix(t){return(e,n)=>{let r=!1;for(const i of Ll(t)){const a=oV(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function oV(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(a,s,o){const u=s.data.field(a),c=o.data.field(a);return u!==null&&c!==null?ro(u,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return BA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=new Fe(Q.comparator);function Br(){return lV}const ax=new Fe(Q.comparator);function vl(...t){let e=ax;for(const n of t)e=e.insert(n.key,n);return e}function sx(t){let e=ax;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function va(){return jl()}function ox(){return jl()}function jl(){return new Wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const uV=new Fe(Q.comparator),cV=new lt(Q.comparator);function fe(...t){let e=cV;for(const n of t)e=e.add(n);return e}const hV=new lt(he);function fV(){return hV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function lx(t){return{integerValue:""+t}}function dV(t,e){return zP(e)?lx(e):Zy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function mV(t,e,n){return t instanceof Gh?function(i,a){const s={fields:{[HA]:{stringValue:qA},[$A]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Wy(a)&&(a=Yf(a)),a&&(s.fields[GA]=a),{mapValue:s}}(n,e):t instanceof uu?cx(t,e):t instanceof cu?hx(t,e):function(i,a){const s=ux(i,a),o=rT(s)+rT(i.Ae);return tg(s)&&tg(i.Ae)?lx(o):Zy(i.serializer,o)}(t,e)}function pV(t,e,n){return t instanceof uu?cx(t,e):t instanceof cu?hx(t,e):n}function ux(t,e){return t instanceof $h?function(r){return tg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Gh extends Xf{}class uu extends Xf{constructor(e){super(),this.elements=e}}function cx(t,e){const n=fx(e);for(const r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends Xf{constructor(e){super(),this.elements=e}}function hx(t,e){let n=fx(e);for(const r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}class $h extends Xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rT(t){return Ye(t.integerValue||t.doubleValue)}function fx(t){return Qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uu&&i instanceof uu||r instanceof cu&&i instanceof cu?no(r.elements,i.elements,lr):r instanceof $h&&i instanceof $h?lr(r.Ae,i.Ae):r instanceof Gh&&i instanceof Gh}(t.transform,e.transform)}class yV{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jf{}function dx(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ev(t.key,Ln.none()):new Pu(t.key,t.data,Ln.none());{const n=t.data,r=$t.empty();let i=new lt(xt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Ji(t.key,r,new an(i.toArray()),Ln.none())}}function vV(t,e,n){t instanceof Pu?function(i,a,s){const o=i.value.clone(),u=aT(i.fieldTransforms,a,s.transformResults);o.setAll(u),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ji?function(i,a,s){if(!eh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=aT(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(mx(i)),u.setAll(o),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ul(t,e,n,r){return t instanceof Pu?function(a,s,o,u){if(!eh(a.precondition,s))return o;const c=a.value.clone(),h=sT(a.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ji?function(a,s,o,u){if(!eh(a.precondition,s))return o;const c=sT(a.fieldTransforms,u,s),h=s.data;return h.setAll(mx(a)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(a,s,o){return eh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function _V(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=ux(r.transform,i||null);a!=null&&(n===null&&(n=$t.empty()),n.set(r.field,a))}return n||null}function iT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(a,s)=>gV(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends Jf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ji extends Jf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function mx(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function aT(t,e,n){const r=new Map;_e(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,pV(s,o,n[i]))}return r}function sT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,mV(a,s,e))}return r}class ev extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bV extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&vV(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ox();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const u=dx(s,o);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>iT(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>iT(n,r))}}class tv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return uV}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new tv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,pe;function SV(t){switch(t){case j.OK:return Z(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function px(t){if(t===void 0)return zr("GRPC error has no .code"),j.UNKNOWN;switch(t){case Je.OK:return j.OK;case Je.CANCELLED:return j.CANCELLED;case Je.UNKNOWN:return j.UNKNOWN;case Je.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Je.INTERNAL:return j.INTERNAL;case Je.UNAVAILABLE:return j.UNAVAILABLE;case Je.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Je.NOT_FOUND:return j.NOT_FOUND;case Je.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Je.ABORTED:return j.ABORTED;case Je.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Je.DATA_LOSS:return j.DATA_LOSS;default:return Z(39323,{code:t})}}(pe=Je||(Je={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV=new Di([4294967295,4294967295],0);function oT(t){const e=AV().encode(t),n=new IA;return n.update(e),new Uint8Array(n.digest())}function lT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Di([n,r],0),new Di([i,a],0)]}class nv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Di.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Di.fromNumber(r)));return i.compare(xV)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=oT(e),[r,i]=lT(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new nv(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=oT(e),[r,i]=lT(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zf(te.min(),i,new Fe(he),Br(),fe())}}class Vu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class gx{constructor(e,n){this.targetId=e,this.Ce=n}}class yx{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uT{constructor(){this.ve=0,this.Fe=cT(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:a})}}),new Vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=cT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Br(),this.Je=Cc(),this.He=Cc(),this.Ye=new Fe(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(rg(a))if(r===0){const s=new Q(a.path);this.et(n,s,Mt.newNoDocument(s,te.min()))}else _e(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),u=o?this.ct(o,e,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Bi(r).toUint8Array()}catch(u){if(u instanceof FA)return to("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new nv(s,i,a)}catch(u){return to(u instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&rg(o.target)){const u=new Q(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Mt.newNoDocument(u,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=fe();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Zf(e,n,this.Ye,this.je,r);return this.je=Br(),this.Je=Cc(),this.He=Cc(),this.Ye=new Fe(he),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new uT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Cc(){return new Fe(Q.comparator)}function cT(){return new Fe(Q.comparator)}const CV={asc:"ASCENDING",desc:"DESCENDING"},NV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},IV={and:"AND",or:"OR"};class DV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sg(t,e){return t.useProto3Json||$f(e)?e:{value:e}}function Yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OV(t,e){return Yh(t,e.toTimestamp())}function rr(t){return _e(!!t,49232),te.fromTimestamp(function(n){const r=zi(n);return new ve(r.seconds,r.nanos)}(t))}function rv(t,e){return og(t,e).canonicalString()}function og(t,e){const n=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _x(t){const e=Re.fromString(t);return _e(Sx(e),10190,{key:e.toString()}),e}function lg(t,e){return rv(t.databaseId,e.path)}function Am(t,e){const n=_x(e);if(n.get(1)!==t.databaseId.projectId)throw new $(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(Tx(n))}function bx(t,e){return rv(t.databaseId,e)}function kV(t){const e=_x(t);return e.length===4?Re.emptyPath():Tx(e)}function ug(t){return new Re(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Tx(t){return _e(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hT(t,e,n){return{name:lg(t,e),fields:n.value.mapValue.fields}}function MV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,h){return c.useProto3Json?(_e(h===void 0||typeof h=="string",58123),Nt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Nt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const h=c.code===void 0?j.UNKNOWN:px(c.code);return new $(h,c.message||"")}(s);n=new yx(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Am(t,r.document.name),a=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):te.min(),o=new $t({mapValue:{fields:r.document.fields}}),u=Mt.newFoundDocument(i,a,s,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new th(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Am(t,r.document),a=r.readTime?rr(r.readTime):te.min(),s=Mt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new th([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Am(t,r.document),a=r.removedTargetIds||[];n=new th([],a,i,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new wV(i,a),o=r.targetId;n=new gx(o,s)}}return n}function PV(t,e){let n;if(e instanceof Pu)n={update:hT(t,e.key,e.value)};else if(e instanceof ev)n={delete:lg(t,e.key)};else if(e instanceof Ji)n={update:hT(t,e.key,e.data),updateMask:HV(e.fieldMask)};else{if(!(e instanceof bV))return Z(16599,{Vt:e.type});n={verify:lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Gh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $h)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:OV(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Z(27497)}(t,e.precondition)),n}function VV(t,e){return t&&t.length>0?(_e(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?rr(i.updateTime):rr(a);return s.isEqual(te.min())&&(s=rr(a)),new yV(s,i.transformResults||[])}(n,e))):[]}function LV(t,e){return{documents:[bx(t,e.path)]}}function jV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bx(t,i);const a=function(c){if(c.length!==0)return wx(Un.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:ds(p.field),direction:BV(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=sg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function UV(t){let e=kV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(m){const p=Ex(m);return p instanceof Un&&JA(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(S){return new Hh(ms(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,$f(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new qh(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,y=m.values||[];return new qh(y,p)}(n.endAt)),iV(e,i,s,a,o,"F",u,c)}function zV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ex(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ms(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ms(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ms(n.unaryFilter.field);return nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ms(n.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return nt.create(ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>Ex(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function BV(t){return CV[t]}function FV(t){return NV[t]}function qV(t){return IV[t]}function ds(t){return{fieldPath:t.canonicalString()}}function ms(t){return xt.fromServerFormat(t.fieldPath)}function wx(t){return t instanceof nt?function(n){if(n.op==="=="){if(Jb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(Xb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(Xb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:FV(n.op),value:n.value}}}(t):t instanceof Un?function(n){const r=n.getFilters().map(i=>wx(i));return r.length===1?r[0]:{compositeFilter:{op:qV(n.op),filters:r}}}(t):Z(54877,{filter:t})}function HV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,i,a=te.min(),s=te.min(),o=Nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e){this.yt=e}}function $V(t){const e=UV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.Cn=new KV}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ui.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class KV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Re.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Re.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ax=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(Ax,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="LruGarbageCollector",WV=1048576;function mT([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class QV{constructor(e){this.Ir=e,this.buffer=new lt(mT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Y(dT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?Y(dT,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)})}}class JV{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Gf.ce);const r=new QV(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(fT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),hs()<=ce.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function ZV(t,e){return new JV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ul(r.mutation,i,an.empty(),ve.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=va();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=vl();return a.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=va();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Br();const s=jl(),o=function(){return jl()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ji)?a=a.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Ul(h.mutation,c,h.mutation.getFieldMask(),ve.now())):s.set(c.key,an.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>o.set(c,new tL(h,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=jl();let i=new Fe((s,o)=>s-o),a=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||an.empty();h=o.applyToLocalView(c,h),r.set(u,h);const m=(i.get(o.batchId)||fe()).add(u);i=i.insert(o.batchId,m)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,h=u.value,m=ox();h.forEach(p=>{if(!a.has(p)){const y=dx(n.get(p),r.get(p));y!==null&&m.set(p,y),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):B.resolve(va());let o=au,u=a;return s.next(c=>B.forEach(c,(h,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),a.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,fe())).next(h=>({batchId:o,changes:sx(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=vl();return this.indexManager.getCollectionParents(e,a).next(o=>B.forEach(o,u=>{const c=function(m,p){return new Mu(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Mt.newInvalidDocument(h)))});let o=vl();return s.forEach((u,c)=>{const h=a.get(u);h!==void 0&&Ul(h.mutation,c,an.empty(),ve.now()),Qf(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:$V(i.bundledQuery),readTime:rr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.overlays=new Fe(Q.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=va();return B.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=va(),a=n.length+1,s=new Q(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Fe((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=a.get(c.largestBatchId);h===null&&(h=va(),a=a.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=va(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return B.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EV(n,r));let a=this.qr.get(n);a===void 0&&(a=fe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.Qr=new lt(mt.$r),this.Ur=new lt(mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Re([])),r=new mt(n,e),i=new mt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Re([])),r=new mt(n,e),i=new mt(n,e+1);let a=fe();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(mt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new TV(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new mt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Ky:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(he);return n.forEach(i=>{const a=new mt(i,0),s=new mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Q.isDocumentKey(a)||(a=a.child(""));const s=new mt(new Q(a),0);let o=new lt(he);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(u.Yr)),!0)},s),B.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const a=new mt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new mt(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.ri=e,this.docs=function(){return new Fe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Mt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Br();const s=n.path,o=new Q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||VP(PP(h),r)<=0||(i.has(h.key)||Qf(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lL(this)}getSize(e){return B.resolve(this.size)}}class lL extends eL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.persistence=e,this.si=new Wa(n=>Xy(n),Jy),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new iv,this.targetCount=0,this.ai=ao.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(a).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gf(0),this.li=!1,this.li=!0,this.hi=new aL,this.referenceDelegate=e(this),this.Pi=new uL(this),this.indexManager=new YV,this.remoteDocumentCache=function(i){return new oL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new GV(n),this.Ii=new rL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new sL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new cL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class cL extends jP{constructor(e){super(),this.currentSequenceNumber=e}}class av{constructor(e){this.persistence=e,this.Ri=new iv,this.Vi=null}static mi(e){return new av(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.pi=new Wa(r=>BP(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ZV(this,n)}static mi(e,n){return new Kh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,te.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=fe(),i=fe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new sv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return r4()?8:UP(Pt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new hL;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(hs()<=ce.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(hs()<=ce.DEBUG&&Y("QueryEngine","Query:",fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(hs()<=ce.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):B.resolve())}ys(e,n){if(nT(n))return B.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ag(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=fe(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,o);return this.Cs(n,c,s,u.readTime)?this.ys(e,ag(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return nT(n)||i.isEqual(te.min())?B.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?B.resolve(null):(hs()<=ce.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fs(n)),this.vs(e,s,n,MP(i,au)).next(o=>o))})}Ds(e,n){let r=new lt(ix(e));return n.forEach((i,a)=>{Qf(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return hs()<=ce.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",fs(n)),this.ps.getDocumentsMatchingQuery(e,n,Ui.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="LocalStore",dL=3e8;class mL{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Fe(he),this.xs=new Wa(a=>Xy(a),Jy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function pL(t,e,n,r){return new mL(t,e,n,r)}async function Rx(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let u=fe();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of a){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function gL(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,c,h){const m=c.batch,p=m.keys();let y=B.resolve();return p.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(N=>{const C=c.docVersions.get(S);_e(C!==null,48541),N.version.compareTo(C)<0&&(m.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),h.addEntry(N)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=fe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Cx(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function yL(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((h,m)=>{const p=i.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(a,h.addedDocuments,m)));let y=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Nt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),function(N,C,v){return N.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=dL?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,h)&&o.push(n.Pi.updateTargetData(a,y))});let u=Br(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),o.push(vL(a,s,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next(m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(h)}return B.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ms=i,a))}function vL(t,e,n){let r=fe(),i=fe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Br();return n.forEach((o,u)=>{const c=a.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):Y(ov,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{ks:s,qs:i}})}function _L(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ky),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bL(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,B.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new _i(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function cg(t,e,n){const r=ne(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!So(s))throw s;Y(ov,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function pT(t,e,n){const r=ne(t);let i=te.min(),a=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const m=ne(u),p=m.xs.get(h);return p!==void 0?B.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,h)}(r,s,nr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(u=>{a=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?a:fe())).next(o=>(TL(r,sV(e),o),{documents:o,Qs:a})))}function TL(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class gT{constructor(){this.activeTargetIds=fV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EL{constructor(){this.Mo=new gT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new gT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="ConnectivityMonitor";class vT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Y(yT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Y(yT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nc=null;function hg(){return Nc===null?Nc=function(){return 268435456+Math.round(2147483648*Math.random())}():Nc++,"0x"+Nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="RestConnection",SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=hg(),o=this.zo(e,n.toUriEncodedString());Y(xm,`Sending RPC '${e}' ${s}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:c}=new URL(o),h=$a(c);return this.Jo(e,o,u,r,h).then(m=>(Y(xm,`Received RPC '${e}' ${s}: `,m),m),m=>{throw to(xm,`RPC '${e}' ${s} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=SL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class RL extends AL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=hg();return new Promise((o,u)=>{const c=new DA;c.setWithCredentials(!0),c.listenOnce(OA.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xc.NO_ERROR:const m=c.getResponseJson();Y(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case Xc.TIMEOUT:Y(Ot,`RPC '${e}' ${s} timed out`),u(new $(j.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const p=c.getStatus();if(Y(Ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const N=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(S.status);u(new $(N,S.message))}else u(new $(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(j.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Y(Ot,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);Y(Ot,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=hg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=PA(),o=MA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=a.join("");Y(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);const m=s.createWebChannel(h,u);this.I_(m);let p=!1,y=!1;const S=new xL({Yo:C=>{y?Y(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(Y(Ot,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Y(Ot,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),N=(C,v,_)=>{C.listen(v,A=>{try{_(A)}catch(O){setTimeout(()=>{throw O},0)}})};return N(m,yl.EventType.OPEN,()=>{y||(Y(Ot,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),N(m,yl.EventType.CLOSE,()=>{y||(y=!0,Y(Ot,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(m))}),N(m,yl.EventType.ERROR,C=>{y||(y=!0,to(Ot,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),S.a_(new $(j.UNAVAILABLE,"The operation could not be completed")))}),N(m,yl.EventType.MESSAGE,C=>{var v;if(!y){const _=C.data[0];_e(!!_,16349);const A=_,O=(A==null?void 0:A.error)||((v=A[0])==null?void 0:v.error);if(O){Y(Ot,`RPC '${e}' stream ${i} received error:`,O);const z=O.status;let F=function(x){const R=Je[x];if(R!==void 0)return px(R)}(z),E=O.message;F===void 0&&(F=j.INTERNAL,E="Unknown error status: "+z+" with message "+O.message),y=!0,S.a_(new $(F,E)),m.close()}else Y(Ot,`RPC '${e}' stream ${i} received:`,_),S.u_(_)}}),N(o,kA.STAT_EVENT,C=>{C.stat===Jp.PROXY?Y(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Jp.NOPROXY&&Y(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return new DV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="PersistentStream";class Ix{constructor(e,n,r,i,a,s,o,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Nx(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Y(_T,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Y(_T,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class CL extends Ix{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MV(this.serializer,e),r=function(a){if(!("targetChange"in a))return te.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?rr(s.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ug(this.serializer),n.addTarget=function(a,s){let o;const u=s.target;if(o=rg(u)?{documents:LV(a,u)}:{query:jV(a,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=vx(a,s.resumeToken);const c=sg(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(te.min())>0){o.readTime=Yh(a,s.snapshotVersion.toTimestamp());const c=sg(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=zV(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ug(this.serializer),n.removeTarget=e,this.q_(n)}}class NL extends Ix{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return _e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){_e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=VV(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ug(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>PV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{}class DL extends IL{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(j.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,og(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $(j.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,og(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(j.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class OL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(n),this.aa=!1):Y("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class kL{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Qa(this)&&(Y(Ma,"Restarting streams for network reachability change."),await async function(u){const c=ne(u);c.Ea.add(4),await Lu(c),c.Ra.set("Unknown"),c.Ea.delete(4),await td(c)}(this))})}),this.Ra=new OL(r,i)}}async function td(t){if(Qa(t))for(const e of t.da)await e(!0)}async function Lu(t){for(const e of t.da)await e(!1)}function Dx(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),hv(n)?cv(n):Ao(n).O_()&&uv(n,e))}function lv(t,e){const n=ne(t),r=Ao(n);n.Ia.delete(e),r.O_()&&Ox(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qa(n)&&n.Ra.set("Unknown"))}function uv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).Y_(e)}function Ox(t,e){t.Va.Ue(e),Ao(t).Z_(e)}function cv(t){t.Va=new RV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.Ra.ua()}function hv(t){return Qa(t)&&!Ao(t).x_()&&t.Ia.size>0}function Qa(t){return ne(t).Ea.size===0}function kx(t){t.Va=void 0}async function ML(t){t.Ra.set("Online")}async function PL(t){t.Ia.forEach((e,n)=>{uv(t,e)})}async function VL(t,e){kx(t),hv(t)?(t.Ra.ha(e),cv(t)):t.Ra.set("Unknown")}async function LL(t,e,n){if(t.Ra.set("Online"),e instanceof yx&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){Y(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(t,r)}else if(e instanceof th?t.Va.Ze(e):e instanceof gx?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await Cx(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=a.Ia.get(c);h&&a.Ia.set(c,h.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,c)=>{const h=a.Ia.get(u);if(!h)return;a.Ia.set(u,h.withResumeToken(Nt.EMPTY_BYTE_STRING,h.snapshotVersion)),Ox(a,u);const m=new _i(h.target,u,c,h.sequenceNumber);uv(a,m)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Y(Ma,"Failed to raise snapshot:",r),await Wh(t,r)}}async function Wh(t,e,n){if(!So(e))throw e;t.Ea.add(1),await Lu(t),t.Ra.set("Offline"),n||(n=()=>Cx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(Ma,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await td(t)})}function Mx(t,e){return e().catch(n=>Wh(t,n,e))}async function nd(t){const e=ne(t),n=qi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ky;for(;jL(e);)try{const i=await _L(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,UL(e,i)}catch(i){await Wh(e,i)}Px(e)&&Vx(e)}function jL(t){return Qa(t)&&t.Ta.length<10}function UL(t,e){t.Ta.push(e);const n=qi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Px(t){return Qa(t)&&!qi(t).x_()&&t.Ta.length>0}function Vx(t){qi(t).start()}async function zL(t){qi(t).ra()}async function BL(t){const e=qi(t);for(const n of t.Ta)e.ea(n.mutations)}async function FL(t,e,n){const r=t.Ta.shift(),i=tv.from(r,e,n);await Mx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nd(t)}async function qL(t,e){e&&qi(t).X_&&await async function(r,i){if(function(s){return SV(s)&&s!==j.ABORTED}(i.code)){const a=r.Ta.shift();qi(r).B_(),await Mx(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await nd(r)}}(t,e),Px(t)&&Vx(t)}async function bT(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),Y(Ma,"RemoteStore received new credentials");const r=Qa(n);n.Ea.add(3),await Lu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await td(n)}async function HL(t,e){const n=ne(t);e?(n.Ea.delete(2),await td(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function Ao(t){return t.ma||(t.ma=function(n,r,i){const a=ne(n);return a.sa(),new CL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:ML.bind(null,t),t_:PL.bind(null,t),r_:VL.bind(null,t),H_:LL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),hv(t)?cv(t):t.Ra.set("Unknown")):(await t.ma.stop(),kx(t))})),t.ma}function qi(t){return t.fa||(t.fa=function(n,r,i){const a=ne(n);return a.sa(),new NL(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:zL.bind(null,t),r_:qL.bind(null,t),ta:BL.bind(null,t),na:FL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await nd(t)):(await t.fa.stop(),t.Ta.length>0&&(Y(Ma,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new fv(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dv(t,e){if(zr("AsyncQueue",`${e}: ${t}`),So(t))return new $(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.ga=new Fe(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class so{constructor(e,n,r,i,a,s,o,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new so(e,n,Us.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class $L{constructor(){this.queries=ET(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ne(n),a=i.queries;i.queries=ET(),a.forEach((s,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new $(j.ABORTED,"Firestore shutting down"))}}function ET(){return new Wa(t=>rx(t),Wf)}async function mv(t,e){const n=ne(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new GL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=dv(s,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&gv(n)}async function pv(t,e){const n=ne(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YL(t,e){const n=ne(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&gv(n)}function KL(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function gv(t){t.Ca.forEach(e=>{e.next()})}var fg,wT;(wT=fg||(fg={})).Ma="default",wT.Cache="cache";class yv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.key=e}}class jx{constructor(e){this.key=e}}class WL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=ix(e),this.tu=new Us(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new TT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const p=i.get(h),y=Qf(this.query,m)?m:null,S=!!p&&this.mutatedKeys.has(p.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;p&&y?p.data.isEqual(y.data)?S!==N&&(r.track({type:3,doc:y}),C=!0):this.su(p,y)||(r.track({type:2,doc:y}),C=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(o=!0)):!p&&y?(r.track({type:0,doc:y}),C=!0):p&&!y&&(r.track({type:1,doc:p}),C=!0,(u||c)&&(o=!0)),C&&(y?(s=s.add(y),a=N?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((h,m)=>function(y,S){const N=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:C})}};return N(y)-N(S)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,s.length!==0||c?{snapshot:new so(this.query,e.tu,a,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new jx(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new Lx(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vv="SyncEngine";class QL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XL{constructor(e){this.key=e,this.hu=!1}}class JL{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Wa(o=>rx(o),Wf),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(Q.comparator),this.Au=new Map,this.Ru=new iv,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZL(t,e,n=!0){const r=Hx(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Ux(r,e,n,!0),i}async function e3(t,e){const n=Hx(t);await Ux(n,e,!0,!1)}async function Ux(t,e,n,r){const i=await bL(t.localStore,nr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await t3(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&Dx(t.remoteStore,i),o}async function t3(t,e,n,r,i){t.pu=(m,p,y)=>async function(N,C,v,_){let A=C.view.ru(v);A.Cs&&(A=await pT(N.localStore,C.query,!1).then(({documents:E})=>C.view.ru(E,A)));const O=_&&_.targetChanges.get(C.targetId),z=_&&_.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(A,N.isPrimaryClient,O,z);return AT(N,C.targetId,F.au),F.snapshot}(t,m,p,y);const a=await pT(t.localStore,e,!0),s=new WL(e,a.Qs),o=s.ru(a.documents),u=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,u);AT(t,n,c.au);const h=new QL(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function n3(t,e,n){const r=ne(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Wf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await cg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lv(r.remoteStore,i.targetId),dg(r,i.targetId)}).catch(wo)):(dg(r,i.targetId),await cg(r.localStore,i.targetId,!0))}async function r3(t,e){const n=ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lv(n.remoteStore,r.targetId))}async function i3(t,e,n){const r=h3(t);try{const i=await function(s,o){const u=ne(s),c=ve.now(),h=o.reduce((y,S)=>y.add(S.key),fe());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Br(),N=fe();return u.Ns.getEntries(y,h).next(C=>{S=C,S.forEach((v,_)=>{_.isValidDocument()||(N=N.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(C=>{m=C;const v=[];for(const _ of o){const A=_V(_,m.get(_.key).overlayedDocument);A!=null&&v.push(new Ji(_.key,A,WA(A.value.mapValue),Ln.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,v,o)}).next(C=>{p=C;const v=C.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(y,C.batchId,v)})}).then(()=>({batchId:p.batchId,changes:sx(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let c=s.Vu[s.currentUser.toKey()];c||(c=new Fe(he)),c=c.insert(o,u),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await ju(r,i.changes),await nd(r.remoteStore)}catch(i){const a=dv(i,"Failed to persist write");n.reject(a)}}async function zx(t,e){const n=ne(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?_e(s.hu,14607):i.removedDocuments.size>0&&(_e(s.hu,42227),s.hu=!1))}),await ju(n,r,e)}catch(r){await wo(r)}}function ST(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const u=ne(s);u.onlineState=o;let c=!1;u.queries.forEach((h,m)=>{for(const p of m.Sa)p.va(o)&&(c=!0)}),c&&gv(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function a3(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new Fe(Q.comparator);s=s.insert(a,Mt.newNoDocument(a,te.min()));const o=fe().add(a),u=new Zf(te.min(),new Map,new Fe(he),s,o);await zx(r,u),r.du=r.du.remove(a),r.Au.delete(e),_v(r)}else await cg(r.localStore,e,!1).then(()=>dg(r,e,n)).catch(wo)}async function s3(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await gL(n.localStore,e);Fx(n,r,null),Bx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,i)}catch(i){await wo(i)}}async function o3(t,e,n){const r=ne(t);try{const i=await function(s,o){const u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,o).next(m=>(_e(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);Fx(r,e,n),Bx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,i)}catch(i){await wo(i)}}function Bx(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Fx(t,e,n){const r=ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function dg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||qx(t,r)})}function qx(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),_v(t))}function AT(t,e,n){for(const r of n)r instanceof Lx?(t.Ru.addReference(r.key,e),l3(t,r)):r instanceof jx?(Y(vv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||qx(t,r.key)):Z(19791,{wu:r})}function l3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Y(vv,"New document in limbo: "+n),t.Eu.add(r),_v(t))}function _v(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Re.fromString(e)),r=t.fu.next();t.Au.set(r,new XL(n)),t.du=t.du.insert(n,r),Dx(t.remoteStore,new _i(nr(Kf(n.path)),r,"TargetPurposeLimboResolution",Gf.ce))}}async function ju(t,e,n){const r=ne(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{s.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=sv.As(u.targetId,c);a.push(m)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(u,c){const h=ne(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(c,p=>B.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>B.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!So(m))throw m;Y(ov,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const y=h.Ms.get(p),S=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(p,N)}}}(r.localStore,a))}async function u3(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){Y(vv,"User change. New user:",e.toKey());const r=await Rx(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(u=>{u.reject(new $(j.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.Ls)}}function c3(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let i=fe();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function Hx(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=a3.bind(null,e),e.Pu.H_=YL.bind(null,e.eventManager),e.Pu.yu=KL.bind(null,e.eventManager),e}function h3(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o3.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pL(this.persistence,new fL,e.initialUser,this.serializer)}Cu(e){return new xx(av.mi,this.serializer)}Du(e){return new EL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class f3 extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){_e(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new xx(r=>Kh.mi(r,n),this.serializer)}}class mg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ST(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=u3.bind(null,this.syncEngine),await HL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $L}()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),r=function(a){return new RL(a)}(e.databaseInfo);return function(a,s,o,u){return new DL(a,s,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new kL(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>ST(this.syncEngine,n,0),function(){return vT.v()?new vT:new wL}())}createSyncEngine(e,n){return function(i,a,s,o,u,c,h){const m=new JL(i,a,s,o,u,c);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ne(i);Y(Ma,"RemoteStore shutting down."),a.Ea.add(5),await Lu(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class d3{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Yy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Y(Hi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y(Hi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Cm(t,e){t.asyncQueue.verifyOperationInProgress(),Y(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Rx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m3(t);Y(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bT(e.remoteStore,i)),t._onlineComponents=e}async function m3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(Hi,"Using user provided OfflineComponentProvider");try{await Cm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await Cm(t,new Qh)}}else Y(Hi,"Using default OfflineComponentProvider"),await Cm(t,new f3(void 0));return t._offlineComponents}async function Gx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(Hi,"Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(Y(Hi,"Using default OnlineComponentProvider"),await xT(t,new mg))),t._onlineComponents}function p3(t){return Gx(t).then(e=>e.syncEngine)}async function Xh(t){const e=await Gx(t),n=e.eventManager;return n.onListen=ZL.bind(null,e.syncEngine),n.onUnlisten=n3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=e3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=r3.bind(null,e.syncEngine),n}function g3(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const h=new bv({next:p=>{h.Nu(),s.enqueueAndForget(()=>pv(a,m));const y=p.docs.has(o);!y&&p.fromCache?c.reject(new $(j.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?c.reject(new $(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new yv(Kf(o.path),h,{includeMetadataChanges:!0,qa:!0});return mv(a,m)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}function y3(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const h=new bv({next:p=>{h.Nu(),s.enqueueAndForget(()=>pv(a,m)),p.fromCache&&u.source==="server"?c.reject(new $(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new yv(o,h,{includeMetadataChanges:!0,qa:!0});return mv(a,m)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="firestore.googleapis.com",CT=!0;class NT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yx,this.ssl=CT}else this.host=e.host,this.ssl=e.ssl??CT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ax;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WV)throw new $(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$x(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wP;switch(r.type){case"firstParty":return new RP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RT.get(n);r&&(Y("ComponentProvider","Removing Datastore"),RT.delete(n),r.terminate())}(this),Promise.resolve()}}function v3(t,e,n,r={}){var c;t=Rn(t,rd);const i=$a(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(qy(`https://${o}`),Hy("Firestore",!0)),a.host!==Yx&&a.host!==o&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:o,ssl:i,emulatorOptions:r};if(!ji(u,s)&&(t._setSettings(u),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=kt.MOCK_USER;else{h=bA(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new $(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new kt(p)}t._authCredentials=new SP(new LA(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ku(n,We._jsonSchema))return new We(e,r||null,new Q(Re.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:it("string",We._jsonSchemaVersion),referencePath:it("string")};class Oi extends Xa{constructor(e,n,r){super(e,n,Kf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new Q(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function xo(t,e,...n){if(t=Be(t),jA("collection","path",e),t instanceof rd){const r=Re.fromString(e,...n);return Fb(r),new Oi(t,null,r)}{if(!(t instanceof We||t instanceof Oi))throw new $(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Fb(r),new Oi(t.firestore,null,r)}}function Ro(t,e,...n){if(t=Be(t),arguments.length===1&&(e=Yy.newId()),jA("doc","path",e),t instanceof rd){const r=Re.fromString(e,...n);return Bb(r),new We(t,null,new Q(r))}{if(!(t instanceof We||t instanceof Oi))throw new $(j.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Re.fromString(e,...n));return Bb(r),new We(t.firestore,t instanceof Oi?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="AsyncQueue";class DT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Nx(this,"async_queue_retry"),this._c=()=>{const r=Rm();r&&Y(IT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Or;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;Y(IT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",OT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=fv.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:OT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Gi extends rd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new DT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new DT(e),this._firestoreClient=void 0,await e}}}function _3(t,e){const n=typeof t=="object"?t:qf(),r=typeof t=="string"?t:Bh,i=Qi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=yA("firestore");a&&v3(i,...a)}return i}function id(t){if(t._terminated)throw new $(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b3(t),t._firestoreClient}function b3(t){var r,i,a;const e=t._freezeSettings(),n=function(o,u,c,h){return new HP(o,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,$x(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new d3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Nt.fromBase64String(e))}catch(n){throw new $(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:it("string",Sn._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(ku(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:it("string",ir._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ar(e.vectorValues);throw new $(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:it("string",ar._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=/^__.*__$/;class E3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class Kx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class Ev{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ev({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wx(this.Ac)&&T3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class w3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ed(e)}Cc(e,n,r,i=!1){return new Ev({Ac:e,methodName:n,Dc:r,path:xt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wv(t){const e=t._freezeSettings(),n=ed(t._databaseId);return new w3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function S3(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Sv("Data must be an object, but it was:",s,r);const o=Qx(r,s);let u,c;if(a.merge)u=new an(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const p=pg(e,m,n);if(!s.contains(p))throw new $(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);Jx(h,p)||h.push(p)}u=new an(h),c=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=s.fieldTransforms;return new E3(new $t(o),u,c)}class sd extends Tv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}function A3(t,e,n,r){const i=t.Cc(1,e,n);Sv("Data must be an object, but it was:",i,r);const a=[],s=$t.empty();Xi(r,(u,c)=>{const h=Av(e,u,n);c=Be(c);const m=i.yc(h);if(c instanceof sd)a.push(h);else{const p=Uu(c,m);p!=null&&(a.push(h),s.set(h,p))}});const o=new an(a);return new Kx(s,o,i.fieldTransforms)}function x3(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[pg(e,r,n)],u=[i];if(a.length%2!=0)throw new $(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(pg(e,a[p])),u.push(a[p+1]);const c=[],h=$t.empty();for(let p=o.length-1;p>=0;--p)if(!Jx(c,o[p])){const y=o[p];let S=u[p];S=Be(S);const N=s.yc(y);if(S instanceof sd)c.push(y);else{const C=Uu(S,N);C!=null&&(c.push(y),h.set(y,C))}}const m=new an(c);return new Kx(h,m,s.fieldTransforms)}function R3(t,e,n,r=!1){return Uu(n,t.Cc(r?4:3,e))}function Uu(t,e){if(Xx(t=Be(t)))return Sv("Unsupported field value:",e,t),Qx(t,e);if(t instanceof Tv)return function(r,i){if(!Wx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let u=Uu(o,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ve.fromDate(r);return{timestampValue:Yh(i.serializer,a)}}if(r instanceof ve){const a=new ve(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(i.serializer,a)}}if(r instanceof ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:vx(i.serializer,r._byteString)};if(r instanceof We){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:rv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ar)return function(s,o){return{mapValue:{fields:{[YA]:{stringValue:KA},[Fh]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return Zy(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Hf(r)}`)}(t,e)}function Qx(t,e){const n={};return BA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(r,i)=>{const a=Uu(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Xx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ve||t instanceof ir||t instanceof Sn||t instanceof We||t instanceof Tv||t instanceof ar)}function Sv(t,e,n){if(!Xx(n)||!UA(n)){const r=Hf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function pg(t,e,n){if((e=Be(e))instanceof ad)return e._internalPath;if(typeof e=="string")return Av(t,e);throw Jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const C3=new RegExp("[~\\*/\\[\\]]");function Av(t,e,n){if(e.search(C3)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jh(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(j.INVALID_ARGUMENT,o+t+u)}function Jx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N3 extends Zx{data(){return super.data()}}function xv(t,e){return typeof e=="string"?Av(t,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class I3 extends Rv{}function Cv(t,e,...n){let r=[];e instanceof Rv&&r.push(e),r=r.concat(n),function(a){const s=a.filter(u=>u instanceof Nv).length,o=a.filter(u=>u instanceof od).length;if(s>1||s>0&&o>0)throw new $(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class od extends I3{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new od(e,n,r)}_apply(e){const n=this._parse(e);return tR(e._query,n),new Xa(e.firestore,e.converter,ig(e._query,n))}_parse(e){const n=wv(e.firestore);return function(a,s,o,u,c,h,m){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){PT(m,h);const S=[];for(const N of m)S.push(MT(u,a,N));p={arrayValue:{values:S}}}else p=MT(u,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||PT(m,h),p=R3(o,s,m,h==="in"||h==="not-in");return nt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zh(t,e,n){const r=e,i=xv("where",t);return od._create(i,r,n)}class Nv extends Rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const u of o)tR(s,u),s=ig(s,u)}(e._query,n),new Xa(e.firestore,e.converter,ig(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MT(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new $(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nx(e)&&n.indexOf("/")!==-1)throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Re.fromString(n));if(!Q.isDocumentKey(r))throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qb(t,new Q(r))}if(n instanceof We)return Qb(t,n._key);throw new $(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(n)}.`)}function PT(t,e){if(!Array.isArray(t)||t.length===0)throw new $(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tR(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class D3{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xi(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Fh].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Ye(s.doubleValue));return new ar(n)}convertGeoPoint(e){return new ir(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=zi(e);return new ve(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Re.fromString(e);_e(Sx(r),9688,{name:e});const i=new ou(r.get(1),r.get(3)),a=new Q(r.popFirst(5));return i.isEqual(n)||zr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xa extends Zx{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(xv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xa._jsonSchemaVersion="firestore/documentSnapshot/1.0",xa._jsonSchema={type:it("string",xa._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class nh extends xa{data(e={}){return super.data(e)}}class Ra{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const u=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new bl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const u=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new bl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:k3(o.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function k3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t){t=Rn(t,We);const e=Rn(t.firestore,Gi);return g3(id(e),t._key).then(n=>aR(e,t,n))}Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:it("string",Ra._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class Iv extends D3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function Dv(t){t=Rn(t,Xa);const e=Rn(t.firestore,Gi),n=id(e),r=new Iv(e);return eR(t._query),y3(n,t._query).then(i=>new Ra(e,r,t,i))}function nR(t,e,n,...r){t=Rn(t,We);const i=Rn(t.firestore,Gi),a=wv(i);let s;return s=typeof(e=Be(e))=="string"||e instanceof ad?x3(a,"updateDoc",t._key,e,n,r):A3(a,"updateDoc",t._key,e),Ov(i,[s.toMutation(t._key,Ln.exists(!0))])}function rR(t){return Ov(Rn(t.firestore,Gi),[new ev(t._key,Ln.none())])}function iR(t,e){const n=Rn(t.firestore,Gi),r=Ro(t),i=O3(t.converter,e);return Ov(n,[S3(wv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ln.exists(!1))]).then(()=>r)}function P3(t,...e){var u,c,h;t=Be(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kT(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(c=m.error)==null?void 0:c.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let a,s,o;if(t instanceof We)s=Rn(t.firestore,Gi),o=Kf(t._key.path),a={next:m=>{e[r]&&e[r](aR(s,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Rn(t,Xa);s=Rn(m.firestore,Gi),o=m._query;const p=new Iv(s);a={next:y=>{e[r]&&e[r](new Ra(s,p,m,y))},error:e[r+1],complete:e[r+2]},eR(t._query)}return function(p,y,S,N){const C=new bv(N),v=new yv(y,C,S);return p.asyncQueue.enqueueAndForget(async()=>mv(await Xh(p),v)),()=>{C.Nu(),p.asyncQueue.enqueueAndForget(async()=>pv(await Xh(p),v))}}(id(s),o,i,a)}function Ov(t,e){return function(r,i){const a=new Or;return r.asyncQueue.enqueueAndForget(async()=>i3(await p3(r),i,a)),a.promise}(id(t),e)}function aR(t,e,n){const r=n.docs.get(e._key),i=new Iv(t);return new xa(t,i,e._key,r,new bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Eo=i})(Ka),jn(new In("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Gi(new AP(r.getProvider("auth-internal")),new CP(s,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(c.options.projectId,h)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Kt(Lb,jb,e),Kt(Lb,jb,"esm2020")})();var V3="firebase",L3="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt(V3,L3,"app");function sR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j3=sR,oR=new Ya("auth","Firebase",sR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Ff("@firebase/auth");function U3(t,...e){ef.logLevel<=ce.WARN&&ef.warn(`Auth (${Ka}): ${t}`,...e)}function rh(t,...e){ef.logLevel<=ce.ERROR&&ef.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw kv(t,...e)}function sr(t,...e){return kv(t,...e)}function lR(t,e,n){const r={...j3(),[e]:n};return new Ya("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return lR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oR.create(t,...e)}function J(t,e,...n){if(!t)throw kv(e,...n)}function xr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Fr(t,e){t||xr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function z3(){return VT()==="http:"||VT()==="https:"}function VT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(z3()||TA()||"connection"in navigator)?navigator.onLine:!0}function F3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=JM()||t4()}get(){return B3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],G3=new zu(3e4,6e4);function Ja(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zi(t,e,n,r,i={}){return cR(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Ou({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...a};return e4()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&$a(t.emulatorConfig.host)&&(c.credentials="include"),uR.fetch()(await hR(t,t.config.apiHost,n,o),c)})}async function cR(t,e,n){t._canInitEmulator=!1;const r={...q3,...e};try{const i=new Y3(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ic(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ic(t,"user-disabled",s);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lR(t,h,c);zn(t,h)}}catch(i){if(i instanceof Dn)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function ld(t,e,n,r,i={}){const a=await Zi(t,e,n,r,i);return"mfaPendingCredential"in a&&zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function hR(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Mv(t.config,i):`${t.config.apiScheme}://${i}`;return H3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function $3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),G3.get())})}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function LT(t){return t!==void 0&&t.enterprise!==void 0}class K3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return $3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function W3(t,e){return Zi(t,"GET","/v2/recaptchaConfig",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q3(t,e){return Zi(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return Zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function X3(t,e=!1){const n=Be(t),r=await n.getIdToken(e),i=Pv(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:zl(Nm(i.auth_time)),issuedAtTime:zl(Nm(i.iat)),expirationTime:zl(Nm(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Nm(t){return Number(t)*1e3}function Pv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=pA(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jT(t){const e=Pv(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dn&&J3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function J3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){var m;const e=t.auth,n=await t.getIdToken(),r=await hu(t,tf(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?fR(i.providerUserInfo):[],s=tj(t.providerData,a),o=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yg(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function ej(t){const e=Be(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(t,e){const n=await cR(t,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await hR(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return t.emulatorConfig&&$a(t.emulatorConfig.host)&&(u.credentials="include"),uR.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function rj(t,e){return Zi(t,"POST","/v2/accounts:revokeToken",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=jT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await nj(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new zs;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(J(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return xr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new Z3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new yg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return X3(this,e)}reload(){return ej(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await hu(this,Q3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:S,stsTokenManager:N}=n;J(m&&N,e,"internal-error");const C=zs.fromJSON(this.name,N);J(typeof m=="string",e,"internal-error"),ri(r,e.name),ri(i,e.name),J(typeof p=="boolean",e,"internal-error"),J(typeof y=="boolean",e,"internal-error"),ri(a,e.name),ri(s,e.name),ri(o,e.name),ri(u,e.name),ri(c,e.name),ri(h,e.name);const v=new Pn({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:C,createdAt:c,lastLoginAt:h});return S&&Array.isArray(S)&&(v.providerData=S.map(_=>({..._}))),u&&(v._redirectEventId=u),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const a=new Pn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?fR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new zs;o.updateFromIdToken(r);const u=new Pn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new yg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=new Map;function Rr(t){Fr(t instanceof Function,"Expected a class definition");let e=UT.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dR.type="NONE";const zT=dR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ih(this.userKey,i.apiKey,a),this.fullPersistenceKey=ih("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(Rr(zT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Rr(zT);const s=ih(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(s);if(h){let m;if(typeof h=="string"){const p=await tf(e,{idToken:h}).catch(()=>{});if(!p)break;m=await Pn._fromGetAccountInfoResponse(e,p,h)}else m=Pn._fromJSON(e,h);c!==a&&(o=m),a=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Bs(a,e,r):(a=u[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Bs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(yR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_R(e))return"Blackberry";if(bR(e))return"Webos";if(pR(e))return"Safari";if((e.includes("chrome/")||gR(e))&&!e.includes("edge/"))return"Chrome";if(vR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mR(t=Pt()){return/firefox\//i.test(t)}function pR(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gR(t=Pt()){return/crios\//i.test(t)}function yR(t=Pt()){return/iemobile/i.test(t)}function vR(t=Pt()){return/android/i.test(t)}function _R(t=Pt()){return/blackberry/i.test(t)}function bR(t=Pt()){return/webos/i.test(t)}function Vv(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ij(t=Pt()){var e;return Vv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function aj(){return n4()&&document.documentMode===10}function TR(t=Pt()){return Vv(t)||vR(t)||bR(t)||_R(t)||/windows phone/i.test(t)||yR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(t,e=[]){let n;switch(t){case"Browser":n=BT(Pt());break;case"Worker":n=`${BT(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const u=e(a);s(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e={}){return Zi(t,"GET","/v2/passwordPolicy",Ja(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=6;class uj{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??lj,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FT(this),this.idTokenSubscription=new FT(this),this.beforeStateQueue=new sj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),r=await Pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(wn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=F3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(ki(this));const n=e?Be(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oj(this),n=new uj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await rj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ER(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&U3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Co(t){return Be(t)}class FT{constructor(e){this.auth=e,this.observer=null,this.addObserver=u4(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hj(t){ud=t}function wR(t){return ud.loadJS(t)}function fj(){return ud.recaptchaEnterpriseScript}function dj(){return ud.gapiScript}function mj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class pj{constructor(){this.enterprise=new gj}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gj{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yj="recaptcha-enterprise",SR="NO_RECAPTCHA";class vj{constructor(e){this.type=yj,this.auth=Co(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{W3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new K3(u);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(u=>{o(u)})})}function i(a,s,o){const u=window.grecaptcha;LT(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(SR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pj().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&LT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=fj();u.length!==0&&(u+=o),wR(u).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function qT(t,e,n,r=!1,i=!1){const a=new vj(t);let s;if(i)s=SR;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function HT(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await qT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await qT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t,e){const n=Qi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(ji(a,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function bj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Tj(t,e,n){const r=Co(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=AR(e),{host:s,port:o}=Ej(e),u=o===null?"":`:${o}`,c={url:`${a}//${s}${u}/`},h=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(ji(c,r.config.emulator)&&ji(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,$a(s)?(qy(`${a}//${s}${u}`),Hy("Auth",!0)):wj()}function AR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ej(t){const e=AR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:GT(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:GT(s)}}}function GT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function Sj(t,e){return Zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aj(t,e){return ld(t,"POST","/v1/accounts:signInWithPassword",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xj(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",Ja(t,e))}async function Rj(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Lv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HT(e,n,"signInWithPassword",Aj);case"emailLink":return xj(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HT(e,r,"signUpPassword",Sj);case"emailLink":return Rj(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e){return ld(t,"POST","/v1/accounts:signInWithIdp",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj="http://localhost";class Pa extends Lv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Pa(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fs(e,n)}buildRequest(){const e={requestUri:Cj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ij(t){const e=pl(gl(t)).link,n=e?pl(gl(e)).deep_link_id:null,r=pl(gl(t)).deep_link_id;return(r?pl(gl(r)).link:null)||r||n||e||t}class jv{constructor(e){const n=pl(gl(e)),r=n.apiKey??null,i=n.oobCode??null,a=Nj(n.mode??null);J(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ij(e);try{return new jv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.providerId=No.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jv.parseLink(n);return J(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}No.PROVIDER_ID="password";No.EMAIL_PASSWORD_SIGN_IN_METHOD="password";No.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends xR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Bu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Bu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Pn._fromIdTokenResponse(e,r,i),s=$T(r);return new oo({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$T(r);return new oo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $T(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Dn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rf(e,n,r,i)}}function RR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,a,e,r):a})}async function Dj(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(t,e,n=!1){const{auth:r}=t;if(wn(r.app))return Promise.reject(ki(r));const i="reauthenticate";try{const a=await hu(t,RR(r,i,e,t),n);J(a.idToken,r,"internal-error");const s=Pv(a.idToken);J(s,r,"internal-error");const{sub:o}=s;return J(t.uid===o,r,"user-mismatch"),oo._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(t,e,n=!1){if(wn(t.app))return Promise.reject(ki(t));const r="signIn",i=await RR(t,r,e),a=await oo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function kj(t,e){return CR(Co(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mj(t){const e=Co(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Pj(t,e,n){return wn(t.app)?Promise.reject(ki(t)):kj(Be(t),No.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Mj(t),r})}function Vj(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function Lj(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function jj(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function Uj(t){return Be(t).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=1e3,Bj=10;class IR extends NR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);aj()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Bj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IR.type="LOCAL";const Fj=IR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends NR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DR.type="SESSION";const OR=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),u=await qj(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,u)=>{const c=Uv("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function Gj(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function $j(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Kj(){return kR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firebaseLocalStorageDb",Wj=1,sf="firebaseLocalStorage",PR="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hd(t,e){return t.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function Qj(){const t=indexedDB.deleteDatabase(MR);return new Fu(t).toPromise()}function vg(){const t=indexedDB.open(MR,Wj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sf,{keyPath:PR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sf)?e(r):(r.close(),await Qj(),e(await vg()))})})}async function YT(t,e,n){const r=hd(t,!0).put({[PR]:e,value:n});return new Fu(r).toPromise()}async function Xj(t,e){const n=hd(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function KT(t,e){const n=hd(t,!0).delete(e);return new Fu(n).toPromise()}const Jj=800,Zj=3;class VR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Zj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(Kj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $j(),!this.activeServiceWorker)return;this.sender=new Hj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Yj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vg();return await YT(e,af,"1"),await KT(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>YT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Xj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>KT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=hd(i,!1).getAll();return new Fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VR.type="LOCAL";const e6=VR;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(t,e){return e?Rr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv extends Lv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function n6(t){return CR(t.auth,new zv(t),t.bypassAuthState)}function r6(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),Oj(n,new zv(t),t.bypassAuthState)}async function i6(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),Dj(n,new zv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n6;case"linkViaPopup":case"linkViaRedirect":return i6;case"reauthViaPopup":case"reauthViaRedirect":return r6;default:zn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=new zu(2e3,1e4);class Is extends LR{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Uv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,a6.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="pendingRedirect",ah=new Map;class o6 extends LR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await l6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l6(t,e){const n=h6(e),r=c6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function u6(t,e){ah.set(t._key(),e)}function c6(t){return Rr(t._redirectPersistence)}function h6(t){return ih(s6,t.config.apiKey,t.name)}async function f6(t,e,n=!1){if(wn(t.app))return Promise.reject(ki(t));const r=Co(t),i=t6(r,e),s=await new o6(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=10*60*1e3;class m6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d6&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}}function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function p6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g6(t,e={}){return Zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,v6=/^https?/;async function _6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await g6(t);for(const n of e)try{if(b6(n))return}catch{}zn(t,"unauthorized-domain")}function b6(t){const e=gg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!v6.test(n))return!1;if(y6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new zu(3e4,6e4);function QT(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function E6(t){return new Promise((e,n)=>{var i,a,s;function r(){QT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QT(),n(sr(t,"network-request-failed"))},timeout:T6.get()})}if((a=(i=or().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=or().gapi)!=null&&s.load)r();else{const o=mj("iframefcb");return or()[o]=()=>{gapi.load?r():n(sr(t,"network-request-failed"))},wR(`${dj()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw sh=null,e})}let sh=null;function w6(t){return sh=sh||E6(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=new zu(5e3,15e3),A6="__/auth/iframe",x6="emulator/auth/iframe",R6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N6(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mv(e,x6):`https://${t.config.authDomain}/${A6}`,r={apiKey:e.apiKey,appName:t.name,v:Ka},i=C6.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ou(r).slice(1)}`}async function I6(t){const e=await w6(t),n=or().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:N6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=sr(t,"network-request-failed"),o=or().setTimeout(()=>{a(s)},S6.get());function u(){or().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O6=500,k6=600,M6="_blank",P6="http://localhost";class XT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V6(t,e,n,r=O6,i=k6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...D6,width:r.toString(),height:i.toString(),top:a,left:s},c=Pt().toLowerCase();n&&(o=gR(c)?M6:n),mR(c)&&(e=e||P6,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[y,S])=>`${p}${y}=${S},`,"");if(ij(c)&&o!=="_self")return L6(e||"",o),new XT(null);const m=window.open(e||"",o,h);J(m,t,"popup-blocked");try{m.focus()}catch{}return new XT(m)}function L6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="__/auth/handler",U6="emulator/auth/handler",z6=encodeURIComponent("fac");async function JT(t,e,n,r,i,a){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ka,eventId:i};if(e instanceof xR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",l4(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Bu){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const u=await t._getAppCheckToken(),c=u?`#${z6}=${encodeURIComponent(u)}`:"";return`${B6(t)}?${Ou(o).slice(1)}${c}`}function B6({config:t}){return t.emulator?Mv(t,U6):`https://${t.authDomain}/${j6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class F6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OR,this._completeRedirectFn=f6,this._overrideRedirectResult=u6}async _openPopup(e,n,r,i){var s;Fr((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await JT(e,n,r,gg(),i);return V6(e,a,Uv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await JT(e,n,r,gg(),i);return Gj(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I6(e),r=new m6(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Im];a!==void 0&&n(!!a),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return TR()||pR()||Vv()}}const q6=F6;var ZT="@firebase/auth",eE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $6(t){jn(new In("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ER(t)},c=new cj(r,i,a,u);return bj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jn(new In("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(r=>new H6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(ZT,eE,G6(t)),Kt(ZT,eE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=5*60,K6=_A("authIdTokenMaxAge")||Y6;let tE=null;const W6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K6)return;const i=n==null?void 0:n.token;tE!==i&&(tE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q6(t=qf()){const e=Qi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=_j(t,{popupRedirectResolver:q6,persistence:[e6,Fj,OR]}),r=_A("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=W6(a.toString());Lj(n,s,()=>s(n.currentUser)),Vj(n,o=>s(o))}}const i=gA("auth");return i&&Tj(n,`http://${i}`),n}function X6(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}hj({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=sr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",X6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$6("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firebasestorage.googleapis.com",J6="storageBucket",Z6=2*60*1e3,e5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Dn{constructor(e,n,r=0){super(Dm(e),`Firebase Storage: ${n} (${Dm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ur;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ur||(ur={}));function Dm(t){return"storage/"+t}function t5(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(ur.UNKNOWN,t)}function n5(){return new fr(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r5(){return new fr(ur.CANCELED,"User canceled the upload/download.")}function i5(t){return new fr(ur.INVALID_URL,"Invalid URL '"+t+"'.")}function a5(t){return new fr(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function nE(t){return new fr(ur.INVALID_ARGUMENT,t)}function zR(){return new fr(ur.APP_DELETED,"The Firebase app was deleted.")}function s5(t){return new fr(ur.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw a5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(O){O.path_=decodeURIComponent(O.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${p}`,"i"),S={bucket:1,path:3},N=n===UR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",v=new RegExp(`^https?://${N}/${i}/${C}`,"i"),A=[{regex:o,indices:u,postModify:a},{regex:y,indices:S,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let O=0;O<A.length;O++){const z=A[O],F=z.regex.exec(e);if(F){const E=F[z.indices.bucket];let T=F[z.indices.path];T||(T=""),r=new Vn(E,T),z.postModify(r);break}}if(r==null)throw i5(e);return r}}class o5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function u(){return o===2}let c=!1;function h(...C){c||(c=!0,e.apply(null,C))}function m(C){i=setTimeout(()=>{i=null,t(y,u())},C)}function p(){a&&clearTimeout(a)}function y(C,...v){if(c){p();return}if(C){p(),h.call(null,C,...v);return}if(u()||s){p(),h.call(null,C,...v);return}r<64&&(r*=2);let A;o===1?(o=2,A=0):A=(r+Math.random())*1e3,m(A)}let S=!1;function N(C){S||(S=!0,p(),!c&&(i!==null?(C||(o=2),clearTimeout(i),m(0)):C||(o=1)))}return m(0),a=setTimeout(()=>{s=!0,N(!0)},n),N}function u5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c5(t){return t!==void 0}function rE(t,e,n,r){if(r<e)throw nE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nE(`Invalid value for '${t}'. Expected ${n} or less.`)}function h5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var of;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(of||(of={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e,n,r,i,a,s,o,u,c,h,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,N)=>{this.resolve_=S,this.reject_=N,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const u=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===of.NO_ERROR,u=a.getStatus();if(!o||f5(u,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===of.ABORT;r(!1,new Dc(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Dc(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(o,o.getResponse());c5(u)?a(u):a()}catch(u){s(u)}else if(o!==null){const u=t5();u.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,u)):s(u)}else if(i.canceled){const u=this.appDelete_?zR():r5();s(u)}else{const u=n5();s(u)}};this.canceled_?n(!1,new Dc(!1,null,!0)):this.backoffId_=l5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&u5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function m5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function p5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function g5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function y5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function v5(t,e,n,r,i,a,s=!0,o=!1){const u=h5(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return g5(h,e),m5(h,n),p5(h,a),y5(h,r),new d5(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function b5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lf(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b5(this._location.path)}get storage(){return this._service}get parent(){const e=_5(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw s5(e)}}function iE(t,e){const n=e==null?void 0:e[J6];return n==null?null:Vn.makeFromBucketSpec(n,t)}function T5(t,e,n,r={}){t.host=`${e}:${n}`;const i=$a(e);i&&(qy(`https://${t.host}/b`),Hy("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:bA(a,t.app.options.projectId))}class E5{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=UR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Z6,this._maxUploadRetryTime=e5,this._requests=new Set,i!=null?this._bucket=Vn.makeFromBucketSpec(i,this._host):this._bucket=iE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=iE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new o5(zR());{const s=v5(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const aE="@firebase/storage",sE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="storage";function w5(t=qf(),e){t=Be(t);const r=Qi(t,BR).getImmediate({identifier:e}),i=yA("storage");return i&&S5(r,...i),r}function S5(t,e,n,r={}){T5(t,e,n,r)}function A5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new E5(n,r,i,e,Ka)}function x5(){jn(new In(BR,A5,"PUBLIC").setMultipleInstances(!0)),Kt(aE,sE,""),Kt(aE,sE,"esm2020")}x5();const FR="@firebase/installations",Bv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=1e4,HR=`w:${Bv}`,GR="FIS_v2",R5="https://firebaseinstallations.googleapis.com/v1",C5=60*60*1e3,N5="installations",I5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new Ya(N5,I5,D5);function $R(t){return t instanceof Dn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR({projectId:t}){return`${R5}/projects/${t}/installations`}function KR(t){return{token:t.token,requestStatus:2,expiresIn:k5(t.expiresIn),creationTime:Date.now()}}async function WR(t,e){const r=(await e.json()).error;return Va.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function QR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function O5(t,{refreshToken:e}){const n=QR(t);return n.append("Authorization",M5(e)),n}async function XR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function k5(t){return Number(t.replace("s","000"))}function M5(t){return`${GR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=YR(t),i=QR(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:GR,appId:t.appId,sdkVersion:HR},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await XR(()=>fetch(r,o));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:KR(c.authToken)}}else throw await WR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^[cdef][\w-]{21}$/,_g="";function j5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=U5(t);return L5.test(n)?n:_g}catch{return _g}}function U5(t){return V5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=new Map;function eC(t,e){const n=fd(t);tC(n,e),z5(n,e)}function tC(t,e){const n=ZR.get(t);if(n)for(const r of n)r(e)}function z5(t,e){const n=B5();n&&n.postMessage({key:t,fid:e}),F5()}let _a=null;function B5(){return!_a&&"BroadcastChannel"in self&&(_a=new BroadcastChannel("[Firebase] FID Change"),_a.onmessage=t=>{tC(t.data.key,t.data.fid)}),_a}function F5(){ZR.size===0&&_a&&(_a.close(),_a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5="firebase-installations-database",H5=1,La="firebase-installations-store";let Om=null;function Fv(){return Om||(Om=xA(q5,H5,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(La)}}})),Om}async function uf(t,e){const n=fd(t),i=(await Fv()).transaction(La,"readwrite"),a=i.objectStore(La),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&eC(t,e.fid),e}async function nC(t){const e=fd(t),r=(await Fv()).transaction(La,"readwrite");await r.objectStore(La).delete(e),await r.done}async function dd(t,e){const n=fd(t),i=(await Fv()).transaction(La,"readwrite"),a=i.objectStore(La),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&eC(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qv(t){let e;const n=await dd(t.appConfig,r=>{const i=G5(r),a=$5(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===_g?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function G5(t){const e=t||{fid:j5(),registrationStatus:0};return rC(e)}function $5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Y5(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:K5(t)}:{installationEntry:e}}async function Y5(t,e){try{const n=await P5(t,e);return uf(t.appConfig,n)}catch(n){throw $R(n)&&n.customData.serverCode===409?await nC(t.appConfig):await uf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function K5(t){let e=await oE(t.appConfig);for(;e.registrationStatus===1;)await JR(100),e=await oE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await qv(t);return r||n}return e}function oE(t){return dd(t,e=>{if(!e)throw Va.create("installation-not-found");return rC(e)})}function rC(t){return W5(t)?{fid:t.fid,registrationStatus:0}:t}function W5(t){return t.registrationStatus===1&&t.registrationTime+qR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5({appConfig:t,heartbeatServiceProvider:e},n){const r=X5(t,n),i=O5(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:HR,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await XR(()=>fetch(r,o));if(u.ok){const c=await u.json();return KR(c)}else throw await WR("Generate Auth Token",u)}function X5(t,{fid:e}){return`${YR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hv(t,e=!1){let n;const r=await dd(t.appConfig,a=>{if(!iC(a))throw Va.create("not-registered");const s=a.authToken;if(!e&&eU(s))return a;if(s.requestStatus===1)return n=J5(t,e),a;{if(!navigator.onLine)throw Va.create("app-offline");const o=nU(a);return n=Z5(t,o),o}});return n?await n:r.authToken}async function J5(t,e){let n=await lE(t.appConfig);for(;n.authToken.requestStatus===1;)await JR(100),n=await lE(t.appConfig);const r=n.authToken;return r.requestStatus===0?Hv(t,e):r}function lE(t){return dd(t,e=>{if(!iC(e))throw Va.create("not-registered");const n=e.authToken;return rU(n)?{...e,authToken:{requestStatus:0}}:e})}async function Z5(t,e){try{const n=await Q5(t,e),r={...e,authToken:n};return await uf(t.appConfig,r),n}catch(n){if($R(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await uf(t.appConfig,r)}throw n}}function iC(t){return t!==void 0&&t.registrationStatus===2}function eU(t){return t.requestStatus===2&&!tU(t)}function tU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+C5}function nU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function rU(t){return t.requestStatus===1&&t.requestTime+qR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iU(t){const e=t,{installationEntry:n,registrationPromise:r}=await qv(e);return r?r.catch(console.error):Hv(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aU(t,e=!1){const n=t;return await sU(n),(await Hv(n,e)).token}async function sU(t){const{registrationPromise:e}=await qv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(t){if(!t||!t.options)throw km("App Configuration");if(!t.name)throw km("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw km(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function km(t){return Va.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="installations",lU="installations-internal",uU=t=>{const e=t.getProvider("app").getImmediate(),n=oU(e),r=Qi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},cU=t=>{const e=t.getProvider("app").getImmediate(),n=Qi(e,aC).getImmediate();return{getId:()=>iU(n),getToken:i=>aU(n,i)}};function hU(){jn(new In(aC,uU,"PUBLIC")),jn(new In(lU,cU,"PRIVATE"))}hU();Kt(FR,Bv);Kt(FR,Bv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="analytics",fU="firebase_id",dU="origin",mU=60*1e3,pU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt=new Ff("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cn=new Ya("analytics","Analytics",gU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yU(t){if(!t.startsWith(Gv)){const e=cn.create("invalid-gtag-resource",{gtagURL:t});return jt.warn(e.message),""}return t}function sC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function vU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function _U(t,e){const n=vU("firebase-js-sdk-policy",{createScriptURL:yU}),r=document.createElement("script"),i=`${Gv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function bU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function TU(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const u=(await sC(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(o){jt.error(o)}t("config",i,a)}async function EU(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await sC(n);for(const u of s){const c=o.find(m=>m.measurementId===u),h=c&&e[c.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){jt.error(a)}}function wU(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,u]=s;await EU(t,e,n,o,u)}else if(a==="config"){const[o,u]=s;await TU(t,e,n,r,o,u)}else if(a==="consent"){const[o,u]=s;t("consent",o,u)}else if(a==="get"){const[o,u,c]=s;t("get",o,u,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){jt.error(o)}}return i}function SU(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=wU(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function AU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Gv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=30,RU=1e3;class CU{constructor(e={},n=RU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oC=new CU;function NU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function IU(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:NU(n)},i=pU.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const u=await a.json();(s=u.error)!=null&&s.message&&(o=u.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function DU(t,e=oC,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw cn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw cn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new MU;return setTimeout(async()=>{o.abort()},mU),lC({appId:r,apiKey:i,measurementId:a},s,o,e)}async function lC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=oC){var o;const{appId:a,measurementId:s}=t;try{await OU(r,e)}catch(u){if(s)return jt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw u}try{const u=await IU(t);return i.deleteThrottleMetadata(a),u}catch(u){const c=u;if(!kU(c)){if(i.deleteThrottleMetadata(a),s)return jt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw u}const h=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?Rb(n,i.intervalMillis,xU):Rb(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(a,m),jt.debug(`Calling attemptFetch again in ${h} millis`),lC(t,m,r,i)}}function OU(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function kU(t){if(!(t instanceof Dn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class MU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function PU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function VU(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(){if(EA())try{await wA()}catch(t){return jt.warn(cn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return jt.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jU(t,e,n,r,i,a,s){const o=DU(t);o.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&jt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>jt.error(p)),e.push(o);const u=LU().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([o,u]);AU(a)||_U(a,c.measurementId),i("js",new Date);const m=(s==null?void 0:s.config)??{};return m[dU]="firebase",m.update=!0,h!=null&&(m[fU]=h),i("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e){this.app=e}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},uE=[];const cE={};let Mm="dataLayer",zU="gtag",hE,$v,fE=!1;function BU(){const t=[];if(TA()&&t.push("This is a browser extension environment."),i4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=cn.create("invalid-analytics-context",{errorInfo:e});jt.warn(n.message)}}function FU(t,e,n){BU();const r=t.options.appId;if(!r)throw cn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cn.create("no-api-key");if(qs[r]!=null)throw cn.create("already-exists",{id:r});if(!fE){bU(Mm);const{wrappedGtag:a,gtagCore:s}=SU(qs,uE,cE,Mm,zU);$v=a,hE=s,fE=!0}return qs[r]=jU(t,uE,cE,e,hE,Mm,n),new UU(t)}function qU(t=qf()){t=Be(t);const e=Qi(t,cf);return e.isInitialized()?e.getImmediate():HU(t)}function HU(t,e={}){const n=Qi(t,cf);if(n.isInitialized()){const i=n.getImmediate();if(ji(e,n.getOptions()))return i;throw cn.create("already-initialized")}return n.initialize({options:e})}function GU(t,e,n){t=Be(t),VU($v,qs[t.app.options.appId],e,n).catch(r=>jt.error(r))}function $U(t,e,n,r){t=Be(t),PU($v,qs[t.app.options.appId],e,n,r).catch(i=>jt.error(i))}const dE="@firebase/analytics",mE="0.10.19";function YU(){jn(new In(cf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return FU(r,i,n)},"PUBLIC")),jn(new In("analytics-internal",t,"PRIVATE")),Kt(dE,mE),Kt(dE,mE,"esm2020");function t(e){try{const n=e.getProvider(cf).getImmediate();return{logEvent:(r,i,a)=>$U(n,r,i,a),setUserProperties:(r,i)=>GU(n,r,i)}}catch(n){throw cn.create("interop-component-reg-failed",{reason:n})}}}YU();const KU={apiKey:"AIzaSyAriwME6CybqyDw1e3yNTwF6sHk4NUn7oY",authDomain:"planyourtrip-ed010.firebaseapp.com",databaseURL:"https://planyourtrip-ed010-default-rtdb.firebaseio.com",projectId:"planyourtrip-ed010",storageBucket:"planyourtrip-ed010.firebasestorage.app",messagingSenderId:"889865160214",appId:"1:889865160214:web:3cbe594765950e07609737",measurementId:"G-1TY4MKM2D9"},md=RA(KU),qn=_3(md),Yv=Q6(md);w5(md);qU(md);const WU=async t=>{try{return(await iR(xo(qn,"trips"),{...t,createdAt:ve.now()})).id}catch(e){throw console.error("Error creating trip:",e),e}},uC=async t=>{try{const e=Ro(qn,"trips",t),n=await M3(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting trip:",e),e}},QU=async()=>{try{return(await Dv(xo(qn,"trips"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting all trips:",t),t}},XU=async t=>{try{const e=new Date(t);e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999);const r=Cv(xo(qn,"trips"),Zh("date",">=",ve.fromDate(e)),Zh("date","<=",ve.fromDate(n)));return(await Dv(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw console.error("Error getting trips by date:",e),e}},JU=async(t,e)=>{try{const n=Ro(qn,"trips",t);await nR(n,e)}catch(n){throw console.error("Error updating trip:",n),n}},ZU=async t=>{try{await rR(Ro(qn,"trips",t))}catch(e){throw console.error("Error deleting trip:",e),e}},cC=async t=>{try{return(await iR(xo(qn,"registrations"),{...t,timestamp:ve.now()})).id}catch(e){throw console.error("Error creating registration:",e),e}},e9=async t=>{try{const e=Cv(xo(qn,"registrations"),Zh("tripId","==",t));return(await Dv(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting registrations:",e),e}},pE=async(t,e)=>{try{const n=Ro(qn,"registrations",t);await nR(n,e)}catch(n){throw console.error("Error updating registration:",n),n}},t9=async t=>{try{await rR(Ro(qn,"registrations",t))}catch(e){throw console.error("Error deleting registration:",e),e}},W={primary:{teal:"#00BCD4",black:"#2B2B2B",white:"#FFFFFF"},success:"#10b981",seat:{vacant:"#E5E7EB",occupied:"#10b981",selected:"#00BCD4"},button:{danger:"#ef4444"},gradient:{primary:"linear-gradient(135deg, #00BCD4 0%, #26C6DA 100%)"}},n9=({selectedDate:t,onClose:e,onCreate:n})=>{const[r,i]=D.useState({title:"",vehicleLayout:"sprinter_15",driverName:"",whatsappGroupLink:"",status:"planned"}),[a,s]=D.useState(!1),o=async u=>{u.preventDefault(),s(!0);try{await n({...r,date:ve.fromDate(t)})}catch(c){console.error("Error creating trip:",c)}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:u=>u.stopPropagation(),style:{borderColor:W.primary.teal},children:[d.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Create New Trip"}),d.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:d.jsx(zf,{className:"w-6 h-6"})})]}),d.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),d.jsx("input",{type:"text",value:r.title,onChange:u=>i({...r,title:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),d.jsx("input",{type:"text",value:t.toLocaleDateString(),disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),d.jsx("input",{type:"text",value:r.driverName,onChange:u=>i({...r,driverName:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),d.jsxs("select",{value:r.vehicleLayout,onChange:u=>i({...r,vehicleLayout:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[d.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),d.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),d.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),d.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:u=>i({...r,whatsappGroupLink:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),d.jsxs("select",{value:r.status,onChange:u=>i({...r,status:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[d.jsx("option",{value:"planned",children:"Planned (Yellow)"}),d.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),d.jsx("option",{value:"done",children:"Done (Green)"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,style:{backgroundColor:W.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create Trip"})]})]})]})})},r9=({trip:t,onClose:e,onUpdate:n})=>{var u,c;const[r,i]=D.useState({title:t.title||"",vehicleLayout:t.vehicleLayout||"sprinter_15",driverName:t.driverName||"",whatsappGroupLink:t.whatsappGroupLink||"",status:t.status||"planned"}),[a,s]=D.useState(!1),o=async h=>{h.preventDefault(),s(!0);try{await n(t.id,r)}catch(m){console.error("Error updating trip:",m)}finally{s(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:h=>h.stopPropagation(),style:{borderColor:W.primary.teal},children:[d.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[d.jsx("h2",{className:"text-xl font-bold",children:"Edit Trip"}),d.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:d.jsx(zf,{className:"w-6 h-6"})})]}),d.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),d.jsx("input",{type:"text",value:r.title,onChange:h=>i({...r,title:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),d.jsx("input",{type:"text",value:((c=(u=t.date)==null?void 0:u.toDate)==null?void 0:c.call(u).toLocaleDateString())||"N/A",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),d.jsx("input",{type:"text",value:r.driverName,onChange:h=>i({...r,driverName:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),d.jsxs("select",{value:r.vehicleLayout,onChange:h=>i({...r,vehicleLayout:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[d.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),d.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),d.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),d.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:h=>i({...r,whatsappGroupLink:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),d.jsxs("select",{value:r.status,onChange:h=>i({...r,status:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[d.jsx("option",{value:"planned",children:"Planned (Yellow)"}),d.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),d.jsx("option",{value:"done",children:"Done (Green)"})]})]}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:a,style:{backgroundColor:W.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Updating...":"Update Trip"})]})]})]})})},gE={sprinter_15:{name:"Mercedes Sprinter Black (14 Seats)",totalSeats:14,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:60,y:320},{id:9,row:4,position:"center",x:165,y:320},{id:10,row:4,position:"right",x:270,y:320},{id:11,row:5,position:"left",x:40,y:410},{id:12,row:5,position:"center-left",x:130,y:410},{id:13,row:5,position:"center-right",x:220,y:410},{id:14,row:5,position:"right",x:310,y:410}]},bus_30:{name:"Mercedes Sprinter White (11 Seats)",totalSeats:11,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:40,y:320},{id:9,row:4,position:"center-left",x:130,y:320},{id:10,row:4,position:"center-right",x:220,y:320},{id:11,row:4,position:"right",x:310,y:320}]},highlander_7:{name:"Toyota Highlander (7 Seats)",totalSeats:7,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:180},{id:3,row:2,position:"center",x:165,y:180},{id:4,row:2,position:"right",x:270,y:180},{id:5,row:3,position:"left",x:60,y:310},{id:6,row:3,position:"center",x:165,y:310},{id:7,row:3,position:"right",x:270,y:310}]}},hC=t=>gE[t]||gE.sprinter_15,fC=({vehicleType:t,registrations:e,onSeatClick:n,selectedSeat:r,driverName:i,reservedSeats:a=[]})=>{const s=hC(t),o=c=>e==null?void 0:e.find(h=>h.seatNumber===c),u=c=>o(c)||a.includes(c)?W.seat.occupied:r===c?W.seat.selected:W.seat.vacant;return d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:W.primary.teal},children:s.name}),i&&d.jsxs("div",{className:"text-center mb-4 pb-4 border-b",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Driver: "}),d.jsx("span",{className:"font-semibold",style:{color:W.primary.teal},children:i})]}),d.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full max-w-md mx-auto border-2 rounded-lg",style:{borderColor:W.primary.teal},children:[d.jsx("rect",{x:"10",y:"10",width:"380",height:"480",rx:"20",fill:"none",stroke:W.primary.black,strokeWidth:"3"}),d.jsx("line",{x1:"10",y1:"100",x2:"390",y2:"100",stroke:W.primary.black,strokeWidth:"2",strokeDasharray:"5,5"}),d.jsxs("g",{children:[d.jsx("rect",{x:"30",y:"40",width:"50",height:"50",rx:"5",fill:W.primary.black,stroke:W.primary.teal,strokeWidth:"2"}),d.jsx("text",{x:"55",y:"70",textAnchor:"middle",fontSize:"14",fill:"white",fontWeight:"bold",children:"D"}),i&&d.jsx("text",{x:"55",y:"115",textAnchor:"middle",fontSize:"10",fill:W.primary.teal,fontWeight:"600",children:i.split(" ")[0]})]}),s.seats.map(c=>{const h=o(c.id),m=n&&!h;return d.jsxs("g",{onClick:()=>m&&n(c.id),className:m?"cursor-pointer hover:opacity-80":"",children:[d.jsx("rect",{x:c.x-25,y:c.y-15,width:"50",height:"35",rx:"5",fill:u(c.id),stroke:"#4b5563",strokeWidth:"2"}),d.jsx("text",{x:c.x,y:c.y+5,textAnchor:"middle",fontSize:"14",fill:h||r===c.id?"white":"#1f2937",fontWeight:"bold",children:c.id})]},c.id)})]}),d.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:W.seat.vacant,border:`2px solid ${W.primary.black}`}}),d.jsx("span",{children:"Vacant"})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:W.seat.occupied,border:`2px solid ${W.primary.black}`}}),d.jsx("span",{children:"Occupied"})]}),n&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:W.seat.selected,border:`2px solid ${W.primary.black}`}}),d.jsx("span",{children:"Selected"})]})]})]})},i9=({trip:t,registrations:e,onClose:n,onSuccess:r})=>{const[i,a]=D.useState({firstName:"",lastName:"",email:"",phone:"",seatNumber:null,paymentMethod:"on-trip",paid:!1}),[s,o]=D.useState(!1),[u,c]=D.useState(""),h=hC(t.vehicleLayout),m=e.map(S=>S.seatNumber),p=Array.from({length:h.totalSeats},(S,N)=>N+1).filter(S=>!m.includes(S)),y=async S=>{if(S.preventDefault(),c(""),!i.seatNumber){c("Please select a seat");return}o(!0);try{await cC({tripId:t.id,...i,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,addedByAdmin:!0}),r(),n()}catch(N){console.error("Error adding participant:",N),c("Failed to add participant. Please try again.")}finally{o(!1)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:n,children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4 border-teal-400",onClick:S=>S.stopPropagation(),style:{borderColor:W.primary.teal},children:[d.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(fA,{className:"w-6 h-6"}),d.jsx("h2",{className:"text-xl font-bold",children:"Add Participant"})]}),d.jsx("button",{onClick:n,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:d.jsx(zf,{className:"w-6 h-6"})})]}),d.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),d.jsx("input",{type:"text",value:i.firstName,onChange:S=>a({...i,firstName:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{focusRing:W.primary.teal},required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),d.jsx("input",{type:"text",value:i.lastName,onChange:S=>a({...i,lastName:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),d.jsx("input",{type:"email",value:i.email,onChange:S=>a({...i,email:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),d.jsx("input",{type:"tel",value:i.phone,onChange:S=>a({...i,phone:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seat Number *"}),d.jsxs("select",{value:i.seatNumber||"",onChange:S=>a({...i,seatNumber:parseInt(S.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[d.jsx("option",{value:"",children:"Select a seat"}),p.map(S=>d.jsxs("option",{value:S,children:["Seat ",S]},S))]}),p.length===0&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available seats"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="card"?W.primary.teal:"#D1D5DB"},children:[d.jsx("input",{type:"radio",value:"card",checked:i.paymentMethod==="card",onChange:S=>a({...i,paymentMethod:S.target.value}),className:"mr-3",style:{accentColor:W.primary.teal}}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),d.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),d.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="on-trip"?W.primary.teal:"#D1D5DB"},children:[d.jsx("input",{type:"radio",value:"on-trip",checked:i.paymentMethod==="on-trip",onChange:S=>a({...i,paymentMethod:S.target.value}),className:"mr-3",style:{accentColor:W.primary.teal}}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),d.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:i.paid?W.primary.teal:"#D1D5DB"},children:[d.jsx("input",{type:"checkbox",checked:i.paid,onChange:S=>a({...i,paid:S.target.checked}),className:"w-5 h-5 rounded border-gray-300",style:{accentColor:W.primary.teal}}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:"Mark as Paid"}),d.jsx("div",{className:"text-sm text-gray-500",children:"Check if participant has already paid"})]})]})}),u&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),d.jsxs("div",{className:"flex gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s||p.length===0,style:{backgroundColor:W.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add Participant"})]})]})]})})},dC=D.createContext(),qu=()=>{const t=D.useContext(dC);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},a9=({children:t})=>{const[e,n]=D.useState("en"),r={language:e,setLanguage:n};return d.jsx(dC.Provider,{value:r,children:t})},Kv={en:{dashboard:"Trip Management Dashboard",dashboardShort:"Dashboard",irviTours:"IVRI Tours",tripManagement:"Trip Management System",adminPortal:"Admin Portal",logout:"Logout",backToDashboard:"Back to dashboard",tripsFor:"Trips for",allTrips:"All Trips",all:"All",currentTrips:"Current Trips",current:"Current",oldTrips:"Old Trips",old:"Old",createTrip:"Create Trip",loadingTrips:"Loading trips...",noUpcomingTrips:"No upcoming trips scheduled.",noPastTrips:"No past trips found.",noTripsForDate:"No trips scheduled for this date.",createFirstTrip:"Create your first trip",whatsapp:"WhatsApp",share:"Share",copied:"Copied!",view:"View",edit:"Edit",delete:"Delete",deleting:"Deleting...",joinWhatsappGroup:"Join WhatsApp Group",linkCopied:"Link copied!",shareTripLink:"Share trip link",viewTripDetails:"View trip details",editTrip:"Edit trip",deleteTrip:"Delete trip",createNewTrip:"Create new trip",showAllTrips:"Show all trips",showCurrentTrips:"Show current trips",showOldTrips:"Show old trips",mercedesSprinterBlack:"Mercedes Sprinter Black (14 Seats)",mercedesSprinterWhite:"Mercedes Sprinter White (11 Seats)",toyotaHighlander:"Toyota Highlander (7 Seats)",driver:"Driver",calendar:"Calendar",createNewTripTitle:"Create New Trip",editTripTitle:"Edit Trip",addParticipant:"Add Participant",participantDetails:"Participant Details",tripTitle:"Trip Title",date:"Date",driverName:"Driver Name",vehicleType:"Vehicle Type",whatsappGroupLink:"WhatsApp Group Link (Optional)",whatsappGroupLinkHelp:"Add a WhatsApp group link for trip participants to join",firstName:"First Name",lastName:"Last Name",email:"Email",phoneNumber:"Phone Number",seatNumber:"Seat Number",selectSeat:"Select a seat",paymentMethod:"Payment Method",payWithCard:"Pay with Card",payWithCardDesc:"Pay now using credit/debit card",payOnTrip:"Pay on Trip",payOnTripDesc:"Pay cash/card on the day of the trip",markAsPaid:"Mark as Paid",markAsPaidDesc:"Check if participant has already paid",cancel:"Cancel",close:"Close",updateTrip:"Update Trip",updating:"Updating...",creating:"Creating...",addParticipantBtn:"Add Participant",adding:"Adding...",completeRegistration:"Complete Registration",submitting:"Submitting...",clearSignature:"Clear Signature",participants:"Participants",add:"Add",noRegistrations:"No registrations yet",name:"Name",phone:"Phone",seat:"Seat Number",paymentStatus:"Payment Status",paid:"Paid",notPaid:"Not Paid",registrationStatus:"Registration Status",complete:"Complete",registered:"Registered",signedAgreements:"Signed Agreements",cancellationPolicy:"Cancellation Policy",liabilityWaiver:"Liability Waiver",markAsNotPaid:"Mark as Not Paid",markAsPaidBtn:"Mark as Paid",selectYourSeat:"Select Your Seat",selectedSeat:"Selected Seat",vacant:"Vacant",occupied:"Occupied",selected:"Selected",noAvailableSeats:"No available seats",personalInformation:"Personal Information",digitalSignature:"Digital Signature",registrationSuccessful:"Registration Successful!",thankYouMessage:"Thank you for registering for",confirmationEmailMessage:"You will receive a confirmation email shortly with your signed waiver.",yourSeat:"Your Seat",loadingTripInfo:"Loading trip information...",tripNotFound:"Trip Not Found",tripNotFoundMessage:"This trip link may be invalid or expired.",tripId:"Trip ID",contactOrganizer:"If you believe this is an error, please contact the trip organizer.",cancellationPolicyTitle:"Cancellation Policy",waiverTitle:"Waiver of Liability",agreeToCancellationPolicy:"I have read and agree to the cancellation policy",agreeToWaiver:"I have read, understand, and agree to the waiver of liability",deleteConfirm:"Are you sure you want to delete this trip? This action cannot be undone.",failedToDelete:"Failed to delete trip. Please try again.",failedToUpdate:"Failed to update trip. Please try again.",failedToAdd:"Failed to add participant. Please try again.",failedToUpdatePayment:"Failed to update payment status",failedToSubmit:"Failed to submit registration. Please try again.",pleasSelectSeat:"Please select a seat",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",phoneRequired:"Phone number is required",seatRequired:"Please select a seat",cancellationPolicyRequired:"You must agree to the cancellation policy",waiverRequired:"You must sign the waiver",signatureRequired:"Signature is required",tripTitlePlaceholder:"e.g., Beach Trip, Museum Visit",driverNamePlaceholder:"e.g., John Smith",whatsappPlaceholder:"https://chat.whatsapp.com/..."},ru:{dashboard:"  ",dashboardShort:"",irviTours:"IVRI Tours",tripManagement:"  ",adminPortal:" ",logout:"",backToDashboard:"  ",tripsFor:" ",allTrips:" ",all:"",currentTrips:" ",current:"",oldTrips:" ",old:"",createTrip:" ",loadingTrips:" ...",noUpcomingTrips:"  .",noPastTrips:"   .",noTripsForDate:"    .",createFirstTrip:"   ",whatsapp:"WhatsApp",share:"",copied:"!",view:"",edit:"",delete:"",deleting:"...",joinWhatsappGroup:"   WhatsApp",linkCopied:" !",shareTripLink:"   ",viewTripDetails:"  ",editTrip:" ",deleteTrip:" ",createNewTrip:"  ",showAllTrips:"  ",showCurrentTrips:"  ",showOldTrips:"  ",mercedesSprinterBlack:"Mercedes Sprinter  (14 )",mercedesSprinterWhite:"Mercedes Sprinter  (11 )",toyotaHighlander:"Toyota Highlander (7 )",driver:"",calendar:"",createNewTripTitle:"  ",editTripTitle:" ",addParticipant:" ",participantDetails:" ",tripTitle:" ",date:"",driverName:" ",vehicleType:" ",whatsappGroupLink:"   WhatsApp ()",whatsappGroupLinkHelp:"    WhatsApp   ",firstName:"",lastName:"",email:" ",phoneNumber:" ",seatNumber:" ",selectSeat:" ",paymentMethod:" ",payWithCard:" ",payWithCardDesc:"  / ",payOnTrip:"  ",payOnTripDesc:" /   ",markAsPaid:"  ",markAsPaidDesc:",    ",cancel:"",close:"",updateTrip:" ",updating:"...",creating:"...",addParticipantBtn:" ",adding:"...",completeRegistration:" ",submitting:"...",clearSignature:" ",participants:"",add:"",noRegistrations:"  ",name:"",phone:"",seat:" ",paymentStatus:" ",paid:"",notPaid:" ",registrationStatus:" ",complete:"",registered:"",signedAgreements:" ",cancellationPolicy:" ",liabilityWaiver:"  ",markAsNotPaid:"   ",markAsPaidBtn:"  ",selectYourSeat:"  ",selectedSeat:" ",vacant:"",occupied:"",selected:"",noAvailableSeats:"  ",personalInformation:" ",digitalSignature:" ",registrationSuccessful:" !",thankYouMessage:"   ",confirmationEmailMessage:"         .",yourSeat:" ",loadingTripInfo:"   ...",tripNotFound:"  ",tripNotFoundMessage:"        .",tripId:"ID ",contactOrganizer:"  ,   , ,    .",cancellationPolicyTitle:" ",waiverTitle:"  ",agreeToCancellationPolicy:" ()  ()   ",agreeToWaiver:" (),   ()    ",deleteConfirm:" ,     ?    .",failedToDelete:"   . ,  .",failedToUpdate:"   . ,  .",failedToAdd:"   . ,  .",failedToUpdatePayment:"    ",failedToSubmit:"   . ,  .",pleasSelectSeat:",  ",firstNameRequired:" ",lastNameRequired:" ",emailRequired:"  ",emailInvalid:"   ",phoneRequired:"  ",seatRequired:",  ",cancellationPolicyRequired:"     ",waiverRequired:"     ",signatureRequired:" ",tripTitlePlaceholder:",   ,  ",driverNamePlaceholder:",  ",whatsappPlaceholder:"https://chat.whatsapp.com/..."}},s9=({tripId:t,onClose:e})=>{var k;const{language:n}=qu(),r=Kv[n],[i,a]=D.useState(null),[s,o]=D.useState([]),[u,c]=D.useState(!0),[h,m]=D.useState(!1),[p,y]=D.useState(null),[S,N]=D.useState(null),[C,v]=D.useState({}),[_,A]=D.useState(null);D.useEffect(()=>{O();const w=z();return()=>w&&w()},[t]);const O=async()=>{try{const w=await uC(t);a(w)}catch(w){console.error("Error loading trip:",w)}finally{c(!1)}},z=()=>{const w=Cv(xo(qn,"registrations"),Zh("tripId","==",t));return P3(w,q=>{const L=q.docs.map(G=>({id:G.id,...G.data()}));o(L)})},F=async(w,M)=>{try{await pE(w,{paid:!M})}catch(q){console.error("Error updating payment status:",q),alert(r.failedToUpdatePayment)}},E=async w=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){A(w);try{await t9(w),y(null)}catch(M){console.error("Error deleting participant:",M),alert("Failed to delete participant. Please try again.")}finally{A(null)}}},T=w=>{N(w.id),v({firstName:w.firstName,lastName:w.lastName,email:w.email,phone:w.phone})},x=async w=>{try{await pE(w,C),N(null),v({})}catch(M){console.error("Error updating participant:",M),alert("Failed to update participant. Please try again.")}},R=()=>{N(null),v({})};if(u)return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsx("div",{className:"bg-white rounded-lg p-8",children:d.jsx("div",{className:"text-lg",children:r.loadingTripInfo})})});if(!i)return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:d.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[d.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.tripNotFound}),d.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:r.close})]})});const I=[...s].sort((w,M)=>w.seatNumber-M.seatNumber);return d.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",onClick:e,children:[d.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden border-4 border-teal-400",onClick:w=>w.stopPropagation(),style:{borderColor:W.primary.teal},children:[d.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 sm:px-6 py-4 flex justify-between items-center",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h2",{className:"text-xl sm:text-2xl font-bold truncate",children:i.title}),d.jsx("p",{className:"text-sm text-teal-100",children:(k=i.date)==null?void 0:k.toDate().toLocaleDateString()})]}),d.jsx("button",{onClick:e,className:"flex-shrink-0 ml-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:r.close,children:d.jsx(zf,{className:"w-6 h-6"})})]}),d.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)] p-4 sm:p-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[d.jsx("div",{className:"lg:col-span-2",children:d.jsx(fC,{vehicleType:i.vehicleLayout,registrations:s,driverName:i.driverName})}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-lg p-4 sm:p-6 border-2 border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(UM,{className:"w-5 h-5",style:{color:W.primary.teal}}),d.jsxs("h3",{className:"text-lg sm:text-xl font-bold",style:{color:W.primary.black},children:[r.participants," (",s.length,")"]})]}),d.jsxs("button",{onClick:()=>m(!0),style:{backgroundColor:W.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:r.addParticipant,children:[d.jsx(fA,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:r.add})]})]}),s.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:r.noRegistrations}):d.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:I.map(w=>d.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[d.jsxs("div",{onClick:()=>y(p===w.id?null:w.id),className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[d.jsx("div",{className:"flex-shrink-0 w-8 h-8 text-white rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:W.seat.occupied},children:w.seatNumber}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("p",{className:"font-semibold text-gray-900 truncate",children:[w.firstName," ",w.lastName]}),d.jsx("p",{className:"text-sm text-gray-600 truncate",children:w.email})]}),d.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[w.paid?d.jsx(Ns,{className:"w-5 h-5 text-green-500",title:r.paid}):d.jsx(wb,{className:"w-5 h-5 text-red-500",title:r.notPaid}),p===w.id?d.jsx(uM,{className:"w-5 h-5 text-gray-400"}):d.jsx(oM,{className:"w-5 h-5 text-gray-400"})]})]}),p===w.id&&d.jsx("div",{className:"px-3 pb-3 border-t border-gray-200",children:S===w.id?d.jsxs("div",{className:"space-y-3 pt-3",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:"First Name"}),d.jsx("input",{type:"text",value:C.firstName,onChange:M=>v({...C,firstName:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Last Name"}),d.jsx("input",{type:"text",value:C.lastName,onChange:M=>v({...C,lastName:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Email"}),d.jsx("input",{type:"email",value:C.email,onChange:M=>v({...C,email:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),d.jsx("input",{type:"tel",value:C.phone,onChange:M=>v({...C,phone:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),d.jsxs("div",{className:"flex gap-2 pt-2",children:[d.jsx("button",{onClick:()=>x(w.id),style:{backgroundColor:W.success},className:"flex-1 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Save"}),d.jsx("button",{onClick:R,className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):d.jsxs("div",{className:"space-y-3 pt-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.phone}),d.jsx("p",{className:"text-sm text-gray-900",children:w.phone})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentMethod}),d.jsx("div",{className:"flex items-center gap-2 mt-1",children:w.paymentMethod==="card"?d.jsxs(d.Fragment,{children:[d.jsx(_M,{className:"w-4 h-4 text-blue-600"}),d.jsx("span",{className:"text-sm text-gray-900",children:r.payWithCard})]}):d.jsxs(d.Fragment,{children:[d.jsx(nM,{className:"w-4 h-4 text-green-600"}),d.jsx("span",{className:"text-sm text-gray-900",children:r.payOnTrip})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentStatus}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.paid?d.jsx(Ns,{className:"w-4 h-4 text-green-500"}):d.jsx(wb,{className:"w-4 h-4 text-red-500"}),d.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:w.paid?r.paid:r.notPaid})]})]}),w.registrationDate&&d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.registered}),d.jsx("p",{className:"text-sm text-gray-900",children:new Date(w.registrationDate).toLocaleDateString()})]}),(w.agreedToCancellationPolicy||w.agreedToWaiver)&&d.jsxs("div",{children:[d.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.signedAgreements}),d.jsxs("div",{className:"space-y-1 mt-1",children:[w.agreedToCancellationPolicy&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ns,{className:"w-3 h-3 text-green-500"}),d.jsx("span",{className:"text-xs text-gray-700",children:r.cancellationPolicy})]}),w.agreedToWaiver&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ns,{className:"w-3 h-3 text-green-500"}),d.jsx("span",{className:"text-xs text-gray-700",children:r.liabilityWaiver})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:M=>{M.stopPropagation(),F(w.id,w.paid)},style:{backgroundColor:w.paid?W.button.danger:W.success},className:"w-full px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:w.paid?r.markAsNotPaid:r.markAsPaidBtn}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:M=>{M.stopPropagation(),T(w)},style:{backgroundColor:W.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:[d.jsx(DM,{className:"w-4 h-4"}),d.jsx("span",{children:"Edit"})]}),d.jsxs("button",{onClick:M=>{M.stopPropagation(),E(w.id)},disabled:_===w.id,style:{backgroundColor:W.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(hA,{className:"w-4 h-4"}),d.jsx("span",{children:_===w.id?"Deleting...":"Delete"})]})]})]})]})})]},w.id))})]})})]})})]}),h&&d.jsx(i9,{trip:i,registrations:s,onClose:()=>m(!1),onSuccess:()=>m(!1)})]})},o9=({className:t="",size:e="md"})=>{const n={sm:{width:"80px",fontSize:"14px",subSize:"10px"},md:{width:"120px",fontSize:"20px",subSize:"12px"},lg:{width:"160px",fontSize:"28px",subSize:"16px"}},r=n[e]||n.md;return d.jsx("div",{className:`flex items-center gap-3 ${t}`,children:d.jsx("div",{style:{backgroundColor:W.primary.teal,width:r.width,aspectRatio:"1",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 188, 212, 0.3)"},children:d.jsxs("div",{style:{textAlign:"center",color:W.primary.white},children:[d.jsx("div",{style:{fontSize:r.fontSize,fontWeight:"bold",letterSpacing:"2px",lineHeight:"1"},children:"IVRI"}),d.jsx("div",{style:{fontSize:r.subSize,letterSpacing:"1px",marginTop:"4px",opacity:.9},children:"TOURS"})]})})})},l9=()=>{const{language:t,setLanguage:e}=qu();return d.jsx("div",{className:"relative",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(wM,{className:"w-4 h-4 text-gray-600"}),d.jsxs("select",{value:t,onChange:n=>e(n.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:W.primary.teal},children:[d.jsx("option",{value:"en",children:"English (CA)"}),d.jsx("option",{value:"ru",children:""})]})]})})},mC=({showBackButton:t=!1,title:e="",subtitle:n="",showLogout:r=!0})=>{const i=xu(),a=Hr(),{language:s}=qu(),o=Kv[s],u=async()=>{try{await Uj(Yv),i("/login")}catch(p){console.error("Error logging out:",p)}},c=()=>{i("/")},h=a.pathname==="/",m=a.pathname.includes("/register/");return d.jsx("div",{className:"bg-white shadow",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsxs("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t&&d.jsx("button",{onClick:c,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:o.backToDashboard,children:d.jsx(eM,{className:"w-6 h-6"})}),d.jsx(o9,{size:"md"}),d.jsx("div",{className:"min-w-0 flex-1",children:h?d.jsxs(d.Fragment,{children:[d.jsxs("h1",{className:"text-base sm:text-2xl font-bold text-gray-900 truncate",children:[d.jsx("span",{className:"hidden sm:inline",children:o.dashboard}),d.jsx("span",{className:"sm:hidden",children:o.dashboardShort})]}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:o.irviTours})]}):e?d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e}),n&&d.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:n})]}):d.jsxs(d.Fragment,{children:[d.jsx("h1",{className:"text-base sm:text-2xl font-bold text-gray-900 truncate",children:o.irviTours}),d.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:o.tripManagement})]})})]}),d.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[d.jsx(l9,{}),r&&!m&&d.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:o.logout,children:[d.jsx(RM,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:o.logout})]})]})]})})})},u9=()=>{const{language:t}=qu(),e=Kv[t],[n,r]=D.useState(new Date),[i,a]=D.useState([]),[s,o]=D.useState(!1),[u,c]=D.useState(null),[h,m]=D.useState(!1),[p,y]=D.useState("date"),[S,N]=D.useState("all"),[C,v]=D.useState(null),[_,A]=D.useState(null),[O,z]=D.useState(null);D.useEffect(()=>{F()},[n,p]);const F=async()=>{m(!0);try{let M;p==="date"?M=await XU(n):M=await QU(),a(M)}catch(M){console.error("Error loading trips:",M)}finally{m(!1)}},E=async M=>{try{await WU(M),o(!1),F()}catch(q){console.error("Error creating trip:",q)}},T=M=>{const q=`${window.location.origin}/PlanYourTripNow/register/${M}`;navigator.clipboard.writeText(q),c(M),setTimeout(()=>c(null),2e3)},x=async M=>{if(confirm(e.deleteConfirm)){v(M);try{await ZU(M),F()}catch(q){console.error("Error deleting trip:",q),alert(e.failedToDelete)}finally{v(null)}}},R=async(M,q)=>{try{await JU(M,q),A(null),F()}catch(L){console.error("Error updating trip:",L),alert(e.failedToUpdate)}},k=(()=>{const M=new Date;M.setHours(0,0,0,0);let q=i;return p==="date"?q=i:p==="upcoming"?q=i.filter(L=>{var K,X;const G=((X=(K=L.date)==null?void 0:K.toDate)==null?void 0:X.call(K))||new Date(L.date);return G.setHours(0,0,0,0),G>=M}):p==="past"&&(q=i.filter(L=>{var K,X;const G=((X=(K=L.date)==null?void 0:K.toDate)==null?void 0:X.call(K))||new Date(L.date);return G.setHours(0,0,0,0),G<M})),S!=="all"&&(q=q.filter(L=>L.status===S)),q})(),w=M=>{switch(M){case"planned":return{bg:"#FEF3C7",text:"#92400E",label:"Planned"};case"scheduled":return{bg:"#E9D5FF",text:"#6B21A8",label:"Scheduled"};case"done":return{bg:"#D1FAE5",text:"#065F46",label:"Done"};default:return{bg:"#FEF3C7",text:"#92400E",label:"Planned"}}};return d.jsxs("div",{className:"min-h-screen bg-gray-100",children:[d.jsx(mC,{}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==="date"?`${e.tripsFor} ${n.toLocaleDateString()}`:p==="all"?e.allTrips:p==="upcoming"?e.currentTrips:e.oldTrips}),d.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[d.jsxs("button",{onClick:()=>y("date"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="date"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="date"?{backgroundColor:W.primary.teal}:{},title:`${e.tripsFor} ${n.toLocaleDateString()}`,children:[d.jsx(ll,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:n.toLocaleDateString()})]}),d.jsxs("button",{onClick:()=>y("all"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="all"?{backgroundColor:W.primary.teal}:{},title:e.showAllTrips,children:[d.jsx(ll,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.allTrips})]}),d.jsxs("button",{onClick:()=>y("upcoming"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="upcoming"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="upcoming"?{backgroundColor:W.primary.teal}:{},title:e.showCurrentTrips,children:[d.jsx(ll,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.currentTrips})]}),d.jsxs("button",{onClick:()=>y("past"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="past"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="past"?{backgroundColor:W.primary.teal}:{},title:e.showOldTrips,children:[d.jsx(Jk,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.oldTrips})]})]}),d.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[d.jsxs("button",{onClick:()=>N("all"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="all"?{backgroundColor:W.primary.teal}:{},title:"Show all statuses",children:[d.jsx(ll,{className:"w-4 h-4"}),d.jsx("span",{className:"sm:hidden",children:"A"}),d.jsx("span",{className:"hidden sm:inline",children:"All Status"})]}),d.jsxs("button",{onClick:()=>N("planned"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="planned"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="planned"?{backgroundColor:"#92400E"}:{},title:"Show planned trips",children:[d.jsx(pM,{className:"w-4 h-4"}),d.jsx("span",{className:"sm:hidden",children:"P"}),d.jsx("span",{className:"hidden sm:inline",children:"Planned"})]}),d.jsxs("button",{onClick:()=>N("scheduled"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="scheduled"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="scheduled"?{backgroundColor:"#6B21A8"}:{},title:"Show scheduled trips",children:[d.jsx(ll,{className:"w-4 h-4"}),d.jsx("span",{className:"sm:hidden",children:"S"}),d.jsx("span",{className:"hidden sm:inline",children:"Scheduled"})]}),d.jsxs("button",{onClick:()=>N("done"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="done"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="done"?{backgroundColor:"#065F46"}:{},title:"Show completed trips",children:[d.jsx(Ns,{className:"w-4 h-4"}),d.jsx("span",{className:"sm:hidden",children:"D"}),d.jsx("span",{className:"hidden sm:inline",children:"Done"})]})]})]}),d.jsxs("button",{onClick:()=>o(!0),style:{backgroundColor:W.primary.teal},className:"flex items-center gap-2 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity",title:e.createNewTrip,children:[d.jsx(kM,{className:"w-5 h-5"}),d.jsx("span",{className:"hidden sm:inline",children:e.createTrip})]})]}),h?d.jsx("div",{className:"text-center py-12",children:d.jsx("div",{className:"text-gray-500",children:e.loadingTrips})}):k.length===0?d.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[d.jsxs("p",{className:"text-gray-500",children:[p==="date"&&e.noTripsForDate,p==="upcoming"&&e.noUpcomingTrips,p==="past"&&e.noPastTrips,p==="all"&&"No trips found"]}),d.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstTrip})]}):d.jsx("div",{className:"space-y-3",children:k.map(M=>{var q,L;return d.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.title}),d.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:w(M.status).bg,color:w(M.status).text},children:w(M.status).label})]}),d.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((L=(q=M.date)==null?void 0:q.toDate)==null?void 0:L.call(q).toLocaleDateString())||new Date(M.date).toLocaleDateString()," - ",M.vehicleLayout==="sprinter_15"?e.mercedesSprinterBlack:M.vehicleLayout==="bus_30"?e.mercedesSprinterWhite:M.vehicleLayout==="highlander_7"?e.toyotaHighlander:M.vehicleLayout]}),M.driverName&&d.jsxs("p",{className:"text-sm mt-1",style:{color:"#00BCD4"},children:[e.driver,": ",M.driverName]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.whatsappGroupLink&&d.jsxs("a",{href:M.whatsappGroupLink,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#25D366"},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.joinWhatsappGroup,children:[d.jsx(NM,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.whatsapp})]}),d.jsx("button",{onClick:()=>T(M.id),className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:u===M.id?W.success:W.primary.teal},title:u===M.id?e.linkCopied:e.shareTripLink,children:u===M.id?d.jsxs(d.Fragment,{children:[d.jsx(aM,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.copied})]}):d.jsxs(d.Fragment,{children:[d.jsx(yM,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.share})]})}),d.jsxs("button",{onClick:()=>z(M.id),style:{backgroundColor:W.primary.black},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.viewTripDetails,children:[d.jsx(TM,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.view})]}),d.jsxs("button",{onClick:()=>A(M),style:{backgroundColor:W.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.editTrip,children:[d.jsx(PM,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:e.edit})]}),d.jsxs("button",{onClick:()=>x(M.id),disabled:C===M.id,style:{backgroundColor:W.button.danger},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteTrip,children:[d.jsx(hA,{className:"w-4 h-4"}),d.jsx("span",{className:"hidden sm:inline",children:C===M.id?e.deleting:e.delete})]})]})]})},M.id)})})]}),d.jsx("div",{className:"lg:col-span-1",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-4 sticky top-4",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.calendar}),d.jsx(Gk,{onChange:M=>{r(M),y("date")},value:n,className:"border-0 w-full"})]})})]})}),s&&d.jsx(n9,{selectedDate:n,onClose:()=>o(!1),onCreate:E}),_&&d.jsx(r9,{trip:_,onClose:()=>A(null),onUpdate:R}),O&&d.jsx(s9,{tripId:O,onClose:()=>z(null)})]})};function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bg.apply(null,arguments)}function c9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function h9(t,e){if(t==null)return{};var n,r,i=c9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function f9(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function d9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eg(t,e){return Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Eg(t,e)}function m9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eg(t,e)}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hf(t)}function pC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pC=function(){return!!t})()}function p9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g9(t,e){if(e&&(Tg(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p9(t)}function y9(t){var e=pC();return function(){var n,r=hf(t);if(e){var i=hf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g9(this,n)}}var gC={exports:{}},v9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_9=v9,b9=_9;function yC(){}function vC(){}vC.resetWarningCache=yC;var T9=function(){function t(r,i,a,s,o,u){if(u!==b9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:vC,resetWarningCache:yC};return n.PropTypes=n,n};gC.exports=T9();var E9=gC.exports;const Zt=wg(E9);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function ja(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}ja.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};ja.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};ja.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function Wv(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}Wv.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,i=0;i<=t;i+=1){var a=i/t,s=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var u=s-n,c=o-r;e+=Math.sqrt(u*u+c*c)}n=s,r=o}return e};Wv.prototype._point=function(t,e,n,r,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t};function w9(t,e,n){var r,i,a,s=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:Date.now(),s=null,a=t.apply(r,i),s||(r=i=null)};return function(){var c=Date.now();!o&&n.leading===!1&&(o=c);var h=e-(c-o);return r=this,i=arguments,h<=0||h>e?(s&&(clearTimeout(s),s=null),o=c,a=t.apply(r,i),s||(r=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(u,h)),a}}function xe(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=w9(xe.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=xe.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var a=i.changedTouches[0];n._strokeBegin(a)}},this._handleTouchMove=function(i){i.preventDefault();var a=i.targetTouches[0];n._strokeMoveUpdate(a)},this._handleTouchEnd=function(i){var a=i.target===n._canvas;a&&(i.preventDefault(),n._strokeEnd(i))},this.on()}xe.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};xe.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/i,s=n.height||this._canvas.height/i;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,a,s)},this._isEmpty=!1};xe.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};xe.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};xe.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};xe.prototype.isEmpty=function(){return this._isEmpty};xe.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};xe.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),i=this._data[this._data.length-1],a=i&&i[i.length-1],s=a&&r.distanceTo(a)<this.minDistance;if(!(a&&s)){var o=this._addPoint(r),u=o.curve,c=o.widths;u&&c&&this._drawCurve(u,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};xe.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],i=r[r.length-1];n.equals(i)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};xe.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};xe.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};xe.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};xe.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new ja(t-r.left,e-r.top,n||new Date().getTime())};xe.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var i=n.c1,a=new Wv(e[1],r,i,e[2]),s=this._calculateCurveWidths(a);return e.shift(),{curve:a,widths:s}}return{}};xe.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,a=e.x-n.x,s=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c=Math.sqrt(r*r+i*i),h=Math.sqrt(a*a+s*s),m=o.x-u.x,p=o.y-u.y,y=h/(c+h),S={x:u.x+m*y,y:u.y+p*y},N=e.x-S.x,C=e.y-S.y;return{c1:new ja(o.x+N,o.y+C),c2:new ja(u.x+N,u.y+C)}};xe.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(i);return r.start=this._lastWidth,r.end=a,this._lastVelocity=i,this._lastWidth=a,r};xe.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};xe.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};xe.prototype._drawCurve=function(t,e,n){var r=this._ctx,i=n-e,a=Math.floor(t.length());r.beginPath();for(var s=0;s<a;s+=1){var o=s/a,u=o*o,c=u*o,h=1-o,m=h*h,p=m*h,y=p*t.startPoint.x;y+=3*m*o*t.control1.x,y+=3*h*u*t.control2.x,y+=c*t.endPoint.x;var S=p*t.startPoint.y;S+=3*m*o*t.control1.y,S+=3*h*u*t.control2.y,S+=c*t.endPoint.y;var N=e+c*i;this._drawPoint(y,S,N)}r.closePath(),r.fill()};xe.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};xe.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var i=t[r];if(i.length>1)for(var a=0;a<i.length;a+=1){var s=i[a],o=new ja(s.x,s.y,s.time),u=s.color;if(a===0)this.penColor=u,this._reset(),this._addPoint(o);else if(a!==i.length-1){var c=this._addPoint(o),h=c.curve,m=c.widths;h&&m&&e(h,m,u)}}else{this._reset();var p=i[0];n(p)}}};xe.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,a=0,s=n.width/r,o=n.height/r,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(e,function(v,_,A){var O=document.createElement("path");if(!isNaN(v.control1.x)&&!isNaN(v.control1.y)&&!isNaN(v.control2.x)&&!isNaN(v.control2.y)){var z="M "+v.startPoint.x.toFixed(3)+","+v.startPoint.y.toFixed(3)+" "+("C "+v.control1.x.toFixed(3)+","+v.control1.y.toFixed(3)+" ")+(v.control2.x.toFixed(3)+","+v.control2.y.toFixed(3)+" ")+(v.endPoint.x.toFixed(3)+","+v.endPoint.y.toFixed(3));O.setAttribute("d",z),O.setAttribute("stroke-width",(_.end*2.25).toFixed(3)),O.setAttribute("stroke",A),O.setAttribute("fill","none"),O.setAttribute("stroke-linecap","round"),u.appendChild(O)}},function(v){var _=document.createElement("circle"),A=typeof t.dotSize=="function"?t.dotSize():t.dotSize;_.setAttribute("r",A),_.setAttribute("cx",v.x),_.setAttribute("cy",v.y),_.setAttribute("fill",v.color),u.appendChild(_)});var c="data:image/svg+xml;base64,",h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+a+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",m=u.innerHTML;if(m===void 0){var p=document.createElement("dummy"),y=u.childNodes;p.innerHTML="";for(var S=0;S<y.length;S+=1)p.appendChild(y[S].cloneNode(!0));m=p.innerHTML}var N="</svg>",C=h+m+N;return c+btoa(C)};xe.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};xe.prototype.toData=function(){return this._data};var _C={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(VC,function(){return function(n){function r(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r){function i(c){var h=c.getContext("2d"),m=c.width,p=c.height,y=h.getImageData(0,0,m,p).data,S=o(!0,m,p,y),N=o(!1,m,p,y),C=u(!0,m,p,y),v=u(!1,m,p,y),_=v-C+1,A=N-S+1,O=h.getImageData(C,S,_,A);return c.width=_,c.height=A,h.clearRect(0,0,_,A),h.putImageData(O,0,0),c}function a(c,h,m,p){return{red:p[4*(m*h+c)],green:p[4*(m*h+c)+1],blue:p[4*(m*h+c)+2],alpha:p[4*(m*h+c)+3]}}function s(c,h,m,p){return a(c,h,m,p).alpha}function o(c,h,m,p){for(var y=c?1:-1,S=c?0:m-1,N=S;c?N<m:N>-1;N+=y)for(var C=0;C<h;C++)if(s(C,N,h,p))return N;return null}function u(c,h,m,p){for(var y=c?1:-1,S=c?0:h-1,N=S;c?N<h:N>-1;N+=y)for(var C=0;C<m;C++)if(s(N,C,h,p))return N;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})})(_C);var S9=_C.exports;const A9=wg(S9);var x9=["canvasProps","clearOnResize"],pd=function(t){m9(n,t);var e=y9(n);function n(){var r;d9(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var u=h9(o,x9);return u},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new xe(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),u=document.createElement("canvas");return u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),A9(u)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,u,c=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},h=c.width,m=c.height;if(!(typeof h<"u"&&typeof m<"u")){var p=r.getCanvas(),y=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof h>"u"&&(p.width=p.offsetWidth*y),typeof m>"u"&&(p.height=p.offsetHeight*y),p.getContext("2d").scale(y,y),r.clear()}},r.render=function(){var o=r.props.canvasProps;return tN.createElement("canvas",bg({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,u){return r.getSignaturePad().fromDataURL(o,u)},r.toDataURL=function(o,u){return r.getSignaturePad().toDataURL(o,u)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return f9(n)}(D.Component);pd.propTypes={velocityFilterWeight:Zt.number,minWidth:Zt.number,maxWidth:Zt.number,minDistance:Zt.number,dotSize:Zt.oneOfType([Zt.number,Zt.func]),penColor:Zt.string,throttle:Zt.number,onEnd:Zt.func,onBegin:Zt.func,canvasProps:Zt.object,clearOnResize:Zt.bool};pd.defaultProps={clearOnResize:!0};pd.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const R9=`CANCELLATION POLICY

1. Cancellations made 30 days or more before the trip date will receive a full refund.
2. Cancellations made 15-29 days before the trip date will receive a 50% refund.
3. Cancellations made less than 15 days before the trip date are non-refundable.
4. No-shows on the trip date are non-refundable.
5. Trip organizers reserve the right to cancel trips due to weather, safety concerns, or insufficient participation, in which case full refunds will be provided.`,C9=`WAIVER OF LIABILITY AND ASSUMPTION OF RISK

I, the undersigned, hereby acknowledge that I am voluntarily participating in this trip and related activities. I understand that such participation involves inherent risks, including but not limited to personal injury, property damage, or death.

In consideration of being permitted to participate in this trip, I hereby:

1. WAIVE, RELEASE, AND DISCHARGE the trip organizers, their officers, employees, and agents from any and all liability for any loss, damage, injury, or death that may occur during my participation.

2. ASSUME ALL RISKS associated with participation in this trip, whether known or unknown.

3. AGREE TO INDEMNIFY AND HOLD HARMLESS the trip organizers from any claims, actions, or losses arising from my participation.

4. CONSENT to receive emergency medical treatment if necessary.

I have read this waiver, fully understand its terms, and sign it freely and voluntarily.`,N9=()=>{var k,w;const{tripId:t}=yD();xu();const e=D.useRef(null),{language:n}=qu(),[r,i]=D.useState(null),[a,s]=D.useState([]),[o,u]=D.useState(!0),[c,h]=D.useState(!1),[m,p]=D.useState(!1),[y,S]=D.useState(1),[N,C]=D.useState([]),[v,_]=D.useState([{firstName:"",lastName:"",email:"",phone:"",seatNumber:null}]),[A,O]=D.useState("on-trip"),[z,F]=D.useState({cancellationPolicy:!1,waiver:!1}),[E,T]=D.useState({});D.useEffect(()=>{x()},[t]),D.useEffect(()=>{const M=Array.from({length:y},(q,L)=>v[L]||{firstName:"",lastName:"",email:"",phone:"",seatNumber:null});_(M),C(M.map(q=>q.seatNumber).filter(Boolean))},[y]);const x=async()=>{try{console.log("Loading trip with ID:",t);const[M,q]=await Promise.all([uC(t),e9(t)]);console.log("Trip data loaded:",M),console.log("Registrations loaded:",q),i(M),s(q)}catch(M){console.error("Error loading trip data:",M),alert("Error loading trip: "+M.message)}finally{u(!1)}},R=()=>{var q;const M={};return v.forEach((L,G)=>{L.firstName.trim()||(M[`passenger${G}FirstName`]="First name is required"),L.lastName.trim()||(M[`passenger${G}LastName`]="Last name is required"),L.email.trim()?/\S+@\S+\.\S+/.test(L.email)||(M[`passenger${G}Email`]="Email is invalid"):M[`passenger${G}Email`]="Email is required",L.phone.trim()||(M[`passenger${G}Phone`]="Phone number is required"),L.seatNumber||(M[`passenger${G}Seat`]="Please select a seat")}),z.cancellationPolicy||(M.cancellationPolicy="You must agree to the cancellation policy"),z.waiver||(M.waiver="You must sign the waiver"),(q=e.current)!=null&&q.isEmpty()&&(M.signature="Signature is required"),T(M),Object.keys(M).length===0},I=async M=>{if(M.preventDefault(),!!R()){h(!0);try{const q=e.current.toDataURL();for(const L of v)await cC({tripId:t,firstName:L.firstName,lastName:L.lastName,email:L.email,phone:L.phone,seatNumber:L.seatNumber,paymentMethod:A,paid:!1,signatureData:q,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,adminEmail:"barpupco@gmail.com",registrationDate:new Date().toISOString()});p(!0)}catch(q){console.error("Error submitting registration:",q),T({submit:"Failed to submit registration. Please try again."})}finally{h(!1)}}};return o?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"text-lg",children:"Loading trip information..."})}):r?m?d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[d.jsx(Ns,{className:"w-16 h-16 mx-auto mb-4",style:{color:W.success}}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),d.jsxs("p",{className:"text-gray-600 mb-4",children:["Thank you for registering for ",d.jsx("span",{className:"font-semibold",children:r.title}),"."]}),d.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Confirmation Email Sent!"}),d.jsx("p",{className:"text-xs text-blue-700",children:"A confirmation email with your trip details and signed waiver has been sent to:"}),d.jsx("p",{className:"text-sm font-semibold text-blue-900 mt-1",children:v[0].email}),v.length>1&&d.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Each passenger will receive their own confirmation email."})]})]})}),d.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E0F7FA"},children:[d.jsx("p",{className:"font-semibold mb-2",style:{color:W.primary.teal},children:v.length===1?"Your Seat:":"Your Seats:"}),d.jsx("p",{className:"text-lg font-bold",children:v.map(M=>`#${M.seatNumber}`).join(", ")})]}),d.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[d.jsx("p",{children:"Please check your email inbox and spam folder."}),d.jsx("p",{className:"mt-2",children:"If you don't receive the email within 10 minutes, please contact support."})]})]})}):d.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:[d.jsx(mC,{showLogout:!1,title:r.title,subtitle:(k=r.date)==null?void 0:k.toDate().toLocaleDateString(n==="ru"?"ru-RU":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),d.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:d.jsxs("form",{onSubmit:I,className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Number of Seats"}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many seats do you need? *"}),d.jsx("select",{value:y,onChange:M=>S(parseInt(M.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(M=>d.jsxs("option",{value:M,children:[M," ",M===1?"seat":"seats"]},M))})]})]}),v.map((M,q)=>d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Passenger ",q+1," Information"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),d.jsx("input",{type:"text",value:M.firstName,onChange:L=>{const G=[...v];G[q].firstName=L.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}FirstName`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}FirstName`]&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}FirstName`]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),d.jsx("input",{type:"text",value:M.lastName,onChange:L=>{const G=[...v];G[q].lastName=L.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}LastName`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}LastName`]&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}LastName`]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),d.jsx("input",{type:"email",value:M.email,onChange:L=>{const G=[...v];G[q].email=L.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}Email`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}Email`]&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}Email`]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),d.jsx("input",{type:"tel",value:M.phone,onChange:L=>{const G=[...v];G[q].phone=L.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}Phone`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}Phone`]&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}Phone`]})]})]})]},q)),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Method"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:A==="card"?W.primary.teal:"#D1D5DB"},children:[d.jsx("input",{type:"radio",value:"card",checked:A==="card",onChange:M=>O(M.target.value),className:"mr-3",style:{accentColor:W.primary.teal}}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),d.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),d.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:A==="on-trip"?W.primary.teal:"#D1D5DB"},children:[d.jsx("input",{type:"radio",value:"on-trip",checked:A==="on-trip",onChange:M=>O(M.target.value),className:"mr-3",style:{accentColor:W.primary.teal}}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),d.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Seats to Passengers *"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a seat for each passenger from the dropdown below."}),v.map((M,q)=>{const L=r.vehicleLayout,G=L==="sprinter_15"?14:L==="bus_30"?11:7;return d.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Seat for Passenger ",q+1,": ",M.firstName||"(Not entered)"," ",M.lastName||""," *"]}),d.jsxs("select",{value:M.seatNumber||"",onChange:K=>{const X=[...v];X[q].seatNumber=K.target.value?parseInt(K.target.value):null,_(X)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}Seat`]?"border-red-500":"border-gray-300"}`,children:[d.jsx("option",{value:"",children:"Select a seat"}),Array.from({length:G},(K,X)=>X+1).map(K=>{const X=a.some(ht=>ht.seatNumber===K),se=v.some((ht,zt)=>zt!==q&&ht.seatNumber===K),ct=X||se;return d.jsxs("option",{value:K,disabled:ct,children:["Seat #",K," ",X?"(Occupied)":se?"(Selected for another passenger)":""]},K)})]}),E[`passenger${q}Seat`]&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}Seat`]})]},q)}),d.jsxs("div",{className:"mt-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seating Map - Click to Select Seats"}),d.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tap on available (gray) seats to assign them to your passengers"}),v.some(M=>!M.seatNumber)&&d.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:d.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: Select seat for Passenger ",v.findIndex(M=>!M.seatNumber)+1,((w=v[v.findIndex(M=>!M.seatNumber)])==null?void 0:w.firstName)&&` (${v[v.findIndex(M=>!M.seatNumber)].firstName})`]})}),d.jsx(fC,{vehicleType:r.vehicleLayout,registrations:a,driverName:r.driverName,selectedSeat:null,onSeatClick:M=>{const q=v.findIndex(L=>!L.seatNumber);if(q!==-1){const L=[...v];L[q].seatNumber=M,_(L)}},reservedSeats:v.map(M=>M.seatNumber).filter(Boolean)}),v.some(M=>M.seatNumber)&&d.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Seats:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((M,q)=>M.seatNumber&&d.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded-full text-sm",children:[d.jsxs("span",{className:"font-semibold",children:["#",M.seatNumber]}),d.jsx("span",{className:"text-gray-600",children:M.firstName||`Passenger ${q+1}`}),d.jsx("button",{type:"button",onClick:()=>{const L=[...v];L[q].seatNumber=null,_(L)},className:"text-red-500 hover:text-red-700",children:""})]},q))})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation Policy"}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto mb-4",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:R9})}),d.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:z.cancellationPolicy,onChange:M=>F({...z,cancellationPolicy:M.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the cancellation policy *"})]}),E.cancellationPolicy&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:E.cancellationPolicy})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Waiver of Liability"}),d.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto mb-4",children:d.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:C9})}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digital Signature *"}),d.jsx("div",{className:`border-2 rounded-lg ${E.signature?"border-red-500":"border-gray-300"}`,children:d.jsx(pd,{ref:e,canvasProps:{className:"w-full h-40 bg-white rounded-lg"}})}),d.jsx("button",{type:"button",onClick:()=>{var M;return(M=e.current)==null?void 0:M.clear()},className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Clear Signature"}),E.signature&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.signature})]}),d.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:z.waiver,onChange:M=>F({...z,waiver:M.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),d.jsx("span",{className:"text-sm text-gray-700",children:"I have read, understand, and agree to the waiver of liability *"})]}),E.waiver&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:E.waiver})]}),E.submit&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:E.submit}),d.jsx("button",{type:"submit",disabled:c,style:{backgroundColor:W.primary.teal},className:"w-full text-white py-4 rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Complete Registration"})]})})]}):d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:d.jsxs("div",{className:"text-center max-w-md",children:[d.jsx(hM,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"This trip link may be invalid or expired."}),d.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[d.jsxs("p",{className:"text-sm text-gray-700",children:[d.jsx("strong",{children:"Trip ID:"})," ",t]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If you believe this is an error, please contact the trip organizer."})]})]})})},I9=()=>{const[t,e]=D.useState(""),[n,r]=D.useState(""),[i,a]=D.useState(""),[s,o]=D.useState(!1),u=xu(),c=async h=>{h.preventDefault(),a(""),o(!0);try{await Pj(Yv,t,n),u("/")}catch(m){a("Invalid email or password"),console.error(m)}finally{o(!1)}};return d.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:W.gradient.primary},children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[d.jsx("div",{className:"flex items-center justify-center mb-8",children:d.jsx(AM,{className:"w-12 h-12",style:{color:W.primary.teal}})}),d.jsx("h1",{className:"text-3xl font-bold text-center mb-8",style:{color:W.primary.black},children:"Admin Login"}),d.jsxs("form",{onSubmit:c,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),d.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),d.jsx("input",{type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),i&&d.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:i}),d.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:W.primary.teal},className:"w-full text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function D9(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(h){try{c(r.next(h))}catch(m){s(m)}}function u(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?a(h.value):i(h.value).then(o,u)}c((r=r.apply(t,[])).next())})}function O9(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ds=function(){return Ds=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ds.apply(this,arguments)},bC=function(t){return{loading:t==null,value:t}},k9=function(){return function(t,e){switch(e.type){case"error":return Ds(Ds({},t),{error:e.error,loading:!1,value:void 0});case"reset":return bC(e.defaultValue);case"value":return Ds(Ds({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},M9=function(t){var e=t?t():void 0,n=D.useReducer(k9(),bC(e)),r=n[0],i=n[1],a=D.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),s=D.useCallback(function(u){i({type:"error",error:u})},[]),o=D.useCallback(function(u){i({type:"value",value:u})},[]);return D.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:s,setValue:o,value:r.value}},[r.error,r.loading,a,s,o,r.value])},P9=function(t,e){var n=M9(function(){return t.currentUser}),r=n.error,i=n.loading,a=n.setError,s=n.setValue,o=n.value;return D.useEffect(function(){var u=jj(t,function(c){return D9(void 0,void 0,void 0,function(){var h;return O9(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return m.sent(),[3,4];case 3:return h=m.sent(),a(h),[3,4];case 4:return s(c),[2]}})})},a);return function(){u()}},[t]),[o,i,r]};const V9=({children:t})=>{const[e,n]=P9(Yv);return n?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:d.jsx(DD,{to:"/login"})};function L9(){return d.jsx(a9,{children:d.jsx(rO,{basename:"/PlanYourTripNow",children:d.jsxs(kD,{children:[d.jsx(Yc,{path:"/login",element:d.jsx(I9,{})}),d.jsx(Yc,{path:"/register/:tripId",element:d.jsx(N9,{})}),d.jsx(Yc,{path:"/",element:d.jsx(V9,{children:d.jsx(u9,{})})})]})})})}MI.createRoot(document.getElementById("root")).render(d.jsx(D.StrictMode,{children:d.jsx(L9,{})}));
