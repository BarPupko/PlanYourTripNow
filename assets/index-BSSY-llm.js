(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var GI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function af(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $E={exports:{}},sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YI=Symbol.for("react.transitional.element"),WI=Symbol.for("react.fragment");function qE(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var a in e)a!=="key"&&(n[a]=e[a])}else n=e;return e=n.ref,{$$typeof:YI,type:t,key:r,ref:e!==void 0?e:null,props:n}}sf.Fragment=WI;sf.jsx=qE;sf.jsxs=qE;$E.exports=sf;var l=$E.exports,HE={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=Symbol.for("react.transitional.element"),KI=Symbol.for("react.portal"),QI=Symbol.for("react.fragment"),XI=Symbol.for("react.strict_mode"),JI=Symbol.for("react.profiler"),ZI=Symbol.for("react.consumer"),eD=Symbol.for("react.context"),tD=Symbol.for("react.forward_ref"),nD=Symbol.for("react.suspense"),rD=Symbol.for("react.memo"),GE=Symbol.for("react.lazy"),aD=Symbol.for("react.activity"),j1=Symbol.iterator;function iD(t){return t===null||typeof t!="object"?null:(t=j1&&t[j1]||t["@@iterator"],typeof t=="function"?t:null)}var YE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WE=Object.assign,KE={};function Uo(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||YE}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QE(){}QE.prototype=Uo.prototype;function Wy(t,e,n){this.props=t,this.context=e,this.refs=KE,this.updater=n||YE}var Ky=Wy.prototype=new QE;Ky.constructor=Wy;WE(Ky,Uo.prototype);Ky.isPureReactComponent=!0;var k1=Array.isArray;function Jp(){}var Ue={H:null,A:null,T:null,S:null},XE=Object.prototype.hasOwnProperty;function Qy(t,e,n){var r=n.ref;return{$$typeof:Yy,type:t,key:e,ref:r!==void 0?r:null,props:n}}function sD(t,e){return Qy(t.type,e,t.props)}function Xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yy}function oD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var M1=/\/+/g;function Vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oD(""+t.key):e.toString(36)}function lD(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Jp,Jp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ms(t,e,n,r,a){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Yy:case KI:s=!0;break;case GE:return s=t._init,Ms(s(t._payload),e,n,r,a)}}if(s)return a=a(t),s=r===""?"."+Vm(t,0):r,k1(a)?(n="",s!=null&&(n=s.replace(M1,"$&/")+"/"),Ms(a,e,n,"",function(h){return h})):a!=null&&(Xy(a)&&(a=sD(a,n+(a.key==null||t&&t.key===a.key?"":(""+a.key).replace(M1,"$&/")+"/")+s)),e.push(a)),1;s=0;var o=r===""?".":r+":";if(k1(t))for(var u=0;u<t.length;u++)r=t[u],i=o+Vm(r,u),s+=Ms(r,e,n,i,a);else if(u=iD(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,i=o+Vm(r,u++),s+=Ms(r,e,n,i,a);else if(i==="object"){if(typeof t.then=="function")return Ms(lD(t),e,n,r,a);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Yu(t,e,n){if(t==null)return t;var r=[],a=0;return Ms(t,r,"","",function(i){return e.call(n,i,a++)}),r}function cD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var P1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},uD={map:Yu,forEach:function(t,e,n){Yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Yu(t,function(){e++}),e},toArray:function(t){return Yu(t,function(e){return e})||[]},only:function(t){if(!Xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Activity=aD;se.Children=uD;se.Component=Uo;se.Fragment=QI;se.Profiler=JI;se.PureComponent=Wy;se.StrictMode=XI;se.Suspense=nD;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ue;se.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ue.H.useMemoCache(t)}};se.cache=function(t){return function(){return t.apply(null,arguments)}};se.cacheSignal=function(){return null};se.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=WE({},t.props),a=t.key;if(e!=null)for(i in e.key!==void 0&&(a=""+e.key),e)!XE.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(r[i]=e[i]);var i=arguments.length-2;if(i===1)r.children=n;else if(1<i){for(var s=Array(i),o=0;o<i;o++)s[o]=arguments[o+2];r.children=s}return Qy(t.type,a,r)};se.createContext=function(t){return t={$$typeof:eD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:ZI,_context:t},t};se.createElement=function(t,e,n){var r,a={},i=null;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)XE.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(a[r]=e[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];a.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return Qy(t,i,a)};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:tD,render:t}};se.isValidElement=Xy;se.lazy=function(t){return{$$typeof:GE,_payload:{_status:-1,_result:t},_init:cD}};se.memo=function(t,e){return{$$typeof:rD,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Ue.T,n={};Ue.T=n;try{var r=t(),a=Ue.S;a!==null&&a(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Jp,P1)}catch(i){P1(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ue.T=e}};se.unstable_useCacheRefresh=function(){return Ue.H.useCacheRefresh()};se.use=function(t){return Ue.H.use(t)};se.useActionState=function(t,e,n){return Ue.H.useActionState(t,e,n)};se.useCallback=function(t,e){return Ue.H.useCallback(t,e)};se.useContext=function(t){return Ue.H.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t,e){return Ue.H.useDeferredValue(t,e)};se.useEffect=function(t,e){return Ue.H.useEffect(t,e)};se.useEffectEvent=function(t){return Ue.H.useEffectEvent(t)};se.useId=function(){return Ue.H.useId()};se.useImperativeHandle=function(t,e,n){return Ue.H.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Ue.H.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Ue.H.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Ue.H.useMemo(t,e)};se.useOptimistic=function(t,e){return Ue.H.useOptimistic(t,e)};se.useReducer=function(t,e,n){return Ue.H.useReducer(t,e,n)};se.useRef=function(t){return Ue.H.useRef(t)};se.useState=function(t){return Ue.H.useState(t)};se.useSyncExternalStore=function(t,e,n){return Ue.H.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Ue.H.useTransition()};se.version="19.2.3";HE.exports=se;var R=HE.exports;const hD=af(R);var JE={exports:{}},of={},ZE={exports:{}},eT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,U){var $=k.length;k.push(U);e:for(;0<$;){var Y=$-1>>>1,X=k[Y];if(0<a(X,U))k[Y]=U,k[$]=X,$=Y;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var U=k[0],$=k.pop();if($!==U){k[0]=$;e:for(var Y=0,X=k.length,be=X>>>1;Y<be;){var H=2*(Y+1)-1,ne=k[H],Ae=H+1,Te=k[Ae];if(0>a(ne,$))Ae<X&&0>a(Te,ne)?(k[Y]=Te,k[Ae]=$,Y=Ae):(k[Y]=ne,k[H]=$,Y=H);else if(Ae<X&&0>a(Te,$))k[Y]=Te,k[Ae]=$,Y=Ae;else break e}}return U}function a(k,U){var $=k.sortIndex-U.sortIndex;return $!==0?$:k.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],h=[],d=1,m=null,p=3,v=!1,x=!1,N=!1,A=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function D(k){for(var U=n(h);U!==null;){if(U.callback===null)r(h);else if(U.startTime<=k)r(h),U.sortIndex=U.expirationTime,e(u,U);else break;U=n(h)}}function V(k){if(N=!1,D(k),!x)if(n(u)!==null)x=!0,q||(q=!0,j());else{var U=n(h);U!==null&&re(V,U.startTime-k)}}var q=!1,S=-1,T=5,b=-1;function C(){return A?!0:!(t.unstable_now()-b<T)}function O(){if(A=!1,q){var k=t.unstable_now();b=k;var U=!0;try{e:{x=!1,N&&(N=!1,_(S),S=-1),v=!0;var $=p;try{t:{for(D(k),m=n(u);m!==null&&!(m.expirationTime>k&&C());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,p=m.priorityLevel;var X=Y(m.expirationTime<=k);if(k=t.unstable_now(),typeof X=="function"){m.callback=X,D(k),U=!0;break t}m===n(u)&&r(u),D(k)}else r(u);m=n(u)}if(m!==null)U=!0;else{var be=n(h);be!==null&&re(V,be.startTime-k),U=!1}}break e}finally{m=null,p=$,v=!1}U=void 0}}finally{U?j():q=!1}}}var j;if(typeof w=="function")j=function(){w(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,G=I.port2;I.port1.onmessage=O,j=function(){G.postMessage(null)}}else j=function(){y(O,0)};function re(k,U){S=y(function(){k(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(k){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var $=p;p=U;try{return k()}finally{p=$}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(k,U){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=p;p=k;try{return U()}finally{p=$}},t.unstable_scheduleCallback=function(k,U,$){var Y=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,k={id:d++,callback:U,priorityLevel:k,startTime:$,expirationTime:X,sortIndex:-1},$>Y?(k.sortIndex=$,e(h,k),n(u)===null&&k===n(h)&&(N?(_(S),S=-1):N=!0,re(V,$-Y))):(k.sortIndex=X,e(u,k),x||v||(x=!0,q||(q=!0,j()))),k},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(k){var U=p;return function(){var $=p;p=U;try{return k.apply(this,arguments)}finally{p=$}}}})(eT);ZE.exports=eT;var dD=ZE.exports,tT={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fD=R;function nT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pa(){}var $t={d:{f:pa,r:function(){throw Error(nT(522))},D:pa,C:pa,L:pa,m:pa,X:pa,S:pa,M:pa},p:0,findDOMNode:null},mD=Symbol.for("react.portal");function pD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mD,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var ic=fD.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function lf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$t;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(nT(299));return pD(t,e,null,n)};Ht.flushSync=function(t){var e=ic.T,n=$t.p;try{if(ic.T=null,$t.p=2,t)return t()}finally{ic.T=e,$t.p=n,$t.d.f()}};Ht.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,$t.d.C(t,e))};Ht.prefetchDNS=function(t){typeof t=="string"&&$t.d.D(t)};Ht.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=lf(n,e.crossOrigin),a=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?$t.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:i}):n==="script"&&$t.d.X(t,{crossOrigin:r,integrity:a,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ht.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=lf(e.as,e.crossOrigin);$t.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&$t.d.M(t)};Ht.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=lf(n,e.crossOrigin);$t.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ht.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=lf(e.as,e.crossOrigin);$t.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else $t.d.m(t)};Ht.requestFormReset=function(t){$t.d.r(t)};Ht.unstable_batchedUpdates=function(t,e){return t(e)};Ht.useFormState=function(t,e,n){return ic.H.useFormState(t,e,n)};Ht.useFormStatus=function(){return ic.H.useHostTransitionStatus()};Ht.version="19.2.3";function rT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rT)}catch(t){console.error(t)}}rT(),tT.exports=Ht;var gD=tT.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=dD,aT=R,yD=gD;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function iT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function oT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function L1(t){if(Jc(t)!==t)throw Error(z(188))}function vD(t){var e=t.alternate;if(!e){if(e=Jc(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return L1(a),t;if(i===r)return L1(a),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function lT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=lT(t),e!==null)return e;t=t.sibling}return null}var Be=Object.assign,_D=Symbol.for("react.element"),Wu=Symbol.for("react.transitional.element"),Gl=Symbol.for("react.portal"),$s=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),Zp=Symbol.for("react.profiler"),uT=Symbol.for("react.consumer"),kr=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),Zy=Symbol.for("react.memo"),va=Symbol.for("react.lazy"),ng=Symbol.for("react.activity"),bD=Symbol.for("react.memo_cache_sentinel"),V1=Symbol.iterator;function kl(t){return t===null||typeof t!="object"?null:(t=V1&&t[V1]||t["@@iterator"],typeof t=="function"?t:null)}var xD=Symbol.for("react.client.reference");function rg(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===xD?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $s:return"Fragment";case Zp:return"Profiler";case cT:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList";case ng:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Gl:return"Portal";case kr:return t.displayName||"Context";case uT:return(t._context.displayName||"Context")+".Consumer";case Jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zy:return e=t.displayName||null,e!==null?e:rg(t.type)||"Memo";case va:e=t._payload,t=t._init;try{return rg(t(e))}catch{}}return null}var Yl=Array.isArray,te=aT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=yD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Bi={pending:!1,data:null,method:null,action:null},ag=[],qs=-1;function xr(t){return{current:t}}function wt(t){0>qs||(t.current=ag[qs],ag[qs]=null,qs--)}function ke(t,e){qs++,ag[qs]=t.current,t.current=e}var dr=xr(null),Sc=xr(null),ka=xr(null),td=xr(null);function nd(t,e){switch(ke(ka,e),ke(Sc,t),ke(dr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?qb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=qb(e),t=I2(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}wt(dr),ke(dr,t)}function vo(){wt(dr),wt(Sc),wt(ka)}function ig(t){t.memoizedState!==null&&ke(td,t);var e=dr.current,n=I2(e,t.type);e!==n&&(ke(Sc,t),ke(dr,n))}function rd(t){Sc.current===t&&(wt(dr),wt(Sc)),td.current===t&&(wt(td),Pc._currentValue=Bi)}var Um,U1;function Oi(t){if(Um===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Um=e&&e[1]||"",U1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Um+t+U1}var Bm=!1;function zm(t,e){if(!t||Bm)return"";Bm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(v){var p=v}Reflect.construct(t,[],m)}else{try{m.call()}catch(v){p=v}t.call(m.prototype)}}else{try{throw Error()}catch(v){p=v}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(v){if(v&&p&&typeof v.stack=="string")return[v.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),s=i[0],o=i[1];if(s&&o){var u=s.split(`
`),h=o.split(`
`);for(a=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;if(r===u.length||a===h.length)for(r=u.length-1,a=h.length-1;1<=r&&0<=a&&u[r]!==h[a];)a--;for(;1<=r&&0<=a;r--,a--)if(u[r]!==h[a]){if(r!==1||a!==1)do if(r--,a--,0>a||u[r]!==h[a]){var d=`
`+u[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=a);break}}}finally{Bm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Oi(n):""}function wD(t,e){switch(t.tag){case 26:case 27:case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return t.child!==e&&e!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return zm(t.type,!1);case 11:return zm(t.type.render,!1);case 1:return zm(t.type,!0);case 31:return Oi("Activity");default:return""}}function B1(t){try{var e="",n=null;do e+=wD(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var sg=Object.prototype.hasOwnProperty,e0=gt.unstable_scheduleCallback,Fm=gt.unstable_cancelCallback,ED=gt.unstable_shouldYield,TD=gt.unstable_requestPaint,pn=gt.unstable_now,SD=gt.unstable_getCurrentPriorityLevel,hT=gt.unstable_ImmediatePriority,dT=gt.unstable_UserBlockingPriority,ad=gt.unstable_NormalPriority,ND=gt.unstable_LowPriority,fT=gt.unstable_IdlePriority,AD=gt.log,CD=gt.unstable_setDisableYieldValue,Zc=null,gn=null;function Ca(t){if(typeof AD=="function"&&CD(t),gn&&typeof gn.setStrictMode=="function")try{gn.setStrictMode(Zc,t)}catch{}}var yn=Math.clz32?Math.clz32:DD,RD=Math.log,ID=Math.LN2;function DD(t){return t>>>=0,t===0?32:31-(RD(t)/ID|0)|0}var Ku=256,Qu=262144,Xu=4194304;function ji(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function cf(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var a=0,i=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~i,r!==0?a=ji(r):(s&=o,s!==0?a=ji(s):n||(n=o&~t,n!==0&&(a=ji(n))))):(o=r&~i,o!==0?a=ji(o):s!==0?a=ji(s):n||(n=r&~t,n!==0&&(a=ji(n)))),a===0?0:e!==0&&e!==a&&!(e&i)&&(i=a&-a,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:a}function eu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function OD(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mT(){var t=Xu;return Xu<<=1,!(Xu&62914560)&&(Xu=4194304),t}function $m(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function jD(t,e,n,r,a,i){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,h=t.hiddenUpdates;for(n=s&~n;0<n;){var d=31-yn(n),m=1<<d;o[d]=0,u[d]=-1;var p=h[d];if(p!==null)for(h[d]=null,d=0;d<p.length;d++){var v=p[d];v!==null&&(v.lane&=-536870913)}n&=~m}r!==0&&pT(t,r,0),i!==0&&a===0&&t.tag!==0&&(t.suspendedLanes|=i&~(s&~e))}function pT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-yn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function gT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),a=1<<r;a&e|t[r]&e&&(t[r]|=e),n&=~a}}function yT(t,e){var n=e&-e;return n=n&42?1:t0(n),n&(t.suspendedLanes|e)?0:n}function t0(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function n0(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function vT(){var t=we.p;return t!==0?t:(t=window.event,t===void 0?32:z2(t.type))}function z1(t,e){var n=we.p;try{return we.p=t,e()}finally{we.p=n}}var oi=Math.random().toString(36).slice(2),At="__reactFiber$"+oi,nn="__reactProps$"+oi,Bo="__reactContainer$"+oi,og="__reactEvents$"+oi,kD="__reactListeners$"+oi,MD="__reactHandles$"+oi,F1="__reactResources$"+oi,nu="__reactMarker$"+oi;function r0(t){delete t[At],delete t[nn],delete t[og],delete t[kD],delete t[MD]}function Hs(t){var e=t[At];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bo]||n[At]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kb(t);t!==null;){if(n=t[At])return n;t=Kb(t)}return e}t=n,n=t.parentNode}return null}function zo(t){if(t=t[At]||t[Bo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Wl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function io(t){var e=t[F1];return e||(e=t[F1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xt(t){t[nu]=!0}var _T=new Set,bT={};function ss(t,e){_o(t,e),_o(t+"Capture",e)}function _o(t,e){for(bT[t]=e,t=0;t<e.length;t++)_T.add(e[t])}var PD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$1={},q1={};function LD(t){return sg.call(q1,t)?!0:sg.call($1,t)?!1:PD.test(t)?q1[t]=!0:($1[t]=!0,!1)}function Nh(t,e,n){if(LD(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Ju(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ar(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VD(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function lg(t){if(!t._valueTracker){var e=xT(t)?"checked":"value";t._valueTracker=VD(t,e,""+t[e])}}function wT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var UD=/[\n"\\]/g;function Cn(t){return t.replace(UD,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function cg(t,e,n,r,a,i,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Sn(e)):t.value!==""+Sn(e)&&(t.value=""+Sn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?ug(t,s,Sn(e)):n!=null?ug(t,s,Sn(n)):r!=null&&t.removeAttribute("value"),a==null&&i!=null&&(t.defaultChecked=!!i),a!=null&&(t.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Sn(o):t.removeAttribute("name")}function ET(t,e,n,r,a,i,s,o){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){lg(t);return}n=n!=null?""+Sn(n):"",e=e!=null?""+Sn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??a,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),lg(t)}function ug(t,e,n){e==="number"&&id(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function so(t,e,n,r){if(t=t.options,e){e={};for(var a=0;a<n.length;a++)e["$"+n[a]]=!0;for(n=0;n<t.length;n++)a=e.hasOwnProperty("$"+t[n].value),t[n].selected!==a&&(t[n].selected=a),a&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Sn(n),e=null,a=0;a<t.length;a++){if(t[a].value===n){t[a].selected=!0,r&&(t[a].defaultSelected=!0);return}e!==null||t[a].disabled||(e=t[a])}e!==null&&(e.selected=!0)}}function TT(t,e,n){if(e!=null&&(e=""+Sn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Sn(n):""}function ST(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(z(92));if(Yl(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Sn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),lg(t)}function bo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var BD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function H1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||BD.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function NT(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var a in e)r=e[a],e.hasOwnProperty(a)&&n[a]!==r&&H1(t,a,r)}else for(var i in e)e.hasOwnProperty(i)&&H1(t,i,e[i])}function a0(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ah(t){return FD.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Mr(){}var hg=null;function i0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gs=null,oo=null;function G1(t){var e=zo(t);if(e&&(t=e.stateNode)){var n=t[nn]||null;e:switch(t=e.stateNode,e.type){case"input":if(cg(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Cn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var a=r[nn]||null;if(!a)throw Error(z(90));cg(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&wT(r)}break e;case"textarea":TT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&so(t,!!n.multiple,e,!1)}}}var qm=!1;function AT(t,e,n){if(qm)return t(e,n);qm=!0;try{var r=t(e);return r}finally{if(qm=!1,(Gs!==null||oo!==null)&&(xf(),Gs&&(e=Gs,t=oo,oo=Gs=null,G1(e),t)))for(e=0;e<t.length;e++)G1(t[e])}}function Nc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[nn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=!1;if(Gr)try{var Ml={};Object.defineProperty(Ml,"passive",{get:function(){dg=!0}}),window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{dg=!1}var Ra=null,s0=null,Ch=null;function CT(){if(Ch)return Ch;var t,e=s0,n=e.length,r,a="value"in Ra?Ra.value:Ra.textContent,i=a.length;for(t=0;t<n&&e[t]===a[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===a[i-r];r++);return Ch=a.slice(t,1<r?1-r:void 0)}function Rh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zu(){return!0}function Y1(){return!1}function rn(t){function e(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zu:Y1,this.isPropagationStopped=Y1,this}return Be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zu)},persist:function(){},isPersistent:Zu}),e}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=rn(os),ru=Be({},os,{view:0,detail:0}),$D=rn(ru),Hm,Gm,Pl,hf=Be({},ru,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pl&&(Pl&&t.type==="mousemove"?(Hm=t.screenX-Pl.screenX,Gm=t.screenY-Pl.screenY):Gm=Hm=0,Pl=t),Hm)},movementY:function(t){return"movementY"in t?t.movementY:Gm}}),W1=rn(hf),qD=Be({},hf,{dataTransfer:0}),HD=rn(qD),GD=Be({},ru,{relatedTarget:0}),Ym=rn(GD),YD=Be({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),WD=rn(YD),KD=Be({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QD=rn(KD),XD=Be({},os,{data:0}),K1=rn(XD),JD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eO[t])?!!e[t]:!1}function o0(){return tO}var nO=Be({},ru,{key:function(t){if(t.key){var e=JD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(t){return t.type==="keypress"?Rh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rO=rn(nO),aO=Be({},hf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q1=rn(aO),iO=Be({},ru,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),sO=rn(iO),oO=Be({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),lO=rn(oO),cO=Be({},hf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uO=rn(cO),hO=Be({},os,{newState:0,oldState:0}),dO=rn(hO),fO=[9,13,27,32],l0=Gr&&"CompositionEvent"in window,sc=null;Gr&&"documentMode"in document&&(sc=document.documentMode);var mO=Gr&&"TextEvent"in window&&!sc,RT=Gr&&(!l0||sc&&8<sc&&11>=sc),X1=" ",J1=!1;function IT(t,e){switch(t){case"keyup":return fO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function pO(t,e){switch(t){case"compositionend":return DT(e);case"keypress":return e.which!==32?null:(J1=!0,X1);case"textInput":return t=e.data,t===X1&&J1?null:t;default:return null}}function gO(t,e){if(Ys)return t==="compositionend"||!l0&&IT(t,e)?(t=CT(),Ch=s0=Ra=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return RT&&e.locale!=="ko"?null:e.data;default:return null}}var yO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yO[t.type]:e==="textarea"}function OT(t,e,n,r){Gs?oo?oo.push(r):oo=[r]:Gs=r,e=Ed(e,"onChange"),0<e.length&&(n=new uf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var oc=null,Ac=null;function vO(t){A2(t,0)}function df(t){var e=Wl(t);if(wT(e))return t}function eb(t,e){if(t==="change")return e}var jT=!1;if(Gr){var Wm;if(Gr){var Km="oninput"in document;if(!Km){var tb=document.createElement("div");tb.setAttribute("oninput","return;"),Km=typeof tb.oninput=="function"}Wm=Km}else Wm=!1;jT=Wm&&(!document.documentMode||9<document.documentMode)}function nb(){oc&&(oc.detachEvent("onpropertychange",kT),Ac=oc=null)}function kT(t){if(t.propertyName==="value"&&df(Ac)){var e=[];OT(e,Ac,t,i0(t)),AT(vO,e)}}function _O(t,e,n){t==="focusin"?(nb(),oc=e,Ac=n,oc.attachEvent("onpropertychange",kT)):t==="focusout"&&nb()}function bO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return df(Ac)}function xO(t,e){if(t==="click")return df(e)}function wO(t,e){if(t==="input"||t==="change")return df(e)}function EO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:EO;function Cc(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!sg.call(e,a)||!bn(t[a],e[a]))return!1}return!0}function rb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ab(t,e){var n=rb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rb(n)}}function MT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?MT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=id(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=id(t.document)}return e}function c0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var TO=Gr&&"documentMode"in document&&11>=document.documentMode,Ws=null,fg=null,lc=null,mg=!1;function ib(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;mg||Ws==null||Ws!==id(r)||(r=Ws,"selectionStart"in r&&c0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lc&&Cc(lc,r)||(lc=r,r=Ed(fg,"onSelect"),0<r.length&&(e=new uf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ws)))}function Di(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ks={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionrun:Di("Transition","TransitionRun"),transitionstart:Di("Transition","TransitionStart"),transitioncancel:Di("Transition","TransitionCancel"),transitionend:Di("Transition","TransitionEnd")},Qm={},LT={};Gr&&(LT=document.createElement("div").style,"AnimationEvent"in window||(delete Ks.animationend.animation,delete Ks.animationiteration.animation,delete Ks.animationstart.animation),"TransitionEvent"in window||delete Ks.transitionend.transition);function ls(t){if(Qm[t])return Qm[t];if(!Ks[t])return t;var e=Ks[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LT)return Qm[t]=e[n];return t}var VT=ls("animationend"),UT=ls("animationiteration"),BT=ls("animationstart"),SO=ls("transitionrun"),NO=ls("transitionstart"),AO=ls("transitioncancel"),zT=ls("transitionend"),FT=new Map,pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pg.push("scrollEnd");function Jn(t,e){FT.set(t,e),ss(e,[t])}var sd=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Tn=[],Qs=0,u0=0;function ff(){for(var t=Qs,e=u0=Qs=0;e<t;){var n=Tn[e];Tn[e++]=null;var r=Tn[e];Tn[e++]=null;var a=Tn[e];Tn[e++]=null;var i=Tn[e];if(Tn[e++]=null,r!==null&&a!==null){var s=r.pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}i!==0&&$T(n,a,i)}}function mf(t,e,n,r){Tn[Qs++]=t,Tn[Qs++]=e,Tn[Qs++]=n,Tn[Qs++]=r,u0|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function h0(t,e,n,r){return mf(t,e,n,r),od(t)}function cs(t,e){return mf(t,null,null,e),od(t)}function $T(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var a=!1,i=t.return;i!==null;)i.childLanes|=n,r=i.alternate,r!==null&&(r.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(a=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,a&&e!==null&&(a=31-yn(n),t=i.hiddenUpdates,r=t[a],r===null?t[a]=[e]:r.push(e),e.lane=n|536870912),i):null}function od(t){if(50<yc)throw yc=0,Pg=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Xs={};function CO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(t,e,n,r){return new CO(t,e,n,r)}function d0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Br(t,e){var n=t.alternate;return n===null?(n=hn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function qT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ih(t,e,n,r,a,i){var s=0;if(r=t,typeof t=="function")d0(t)&&(s=1);else if(typeof t=="string")s=jj(t,n,dr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ng:return t=hn(31,n,e,a),t.elementType=ng,t.lanes=i,t;case $s:return zi(n.children,a,i,e);case cT:s=8,a|=24;break;case Zp:return t=hn(12,n,e,a|2),t.elementType=Zp,t.lanes=i,t;case eg:return t=hn(13,n,e,a),t.elementType=eg,t.lanes=i,t;case tg:return t=hn(19,n,e,a),t.elementType=tg,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kr:s=10;break e;case uT:s=9;break e;case Jy:s=11;break e;case Zy:s=14;break e;case va:s=16,r=null;break e}s=29,n=Error(z(130,t===null?"null":typeof t,"")),r=null}return e=hn(s,n,e,a),e.elementType=t,e.type=r,e.lanes=i,e}function zi(t,e,n,r){return t=hn(7,t,r,e),t.lanes=n,t}function Xm(t,e,n){return t=hn(6,t,null,e),t.lanes=n,t}function HT(t){var e=hn(18,null,null,0);return e.stateNode=t,e}function Jm(t,e,n){return e=hn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var sb=new WeakMap;function Rn(t,e){if(typeof t=="object"&&t!==null){var n=sb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:B1(e)},sb.set(t,e),e)}return{value:t,source:e,stack:B1(e)}}var Js=[],Zs=0,ld=null,Rc=0,Nn=[],An=0,Ka=null,lr=1,cr="";function Or(t,e){Js[Zs++]=Rc,Js[Zs++]=ld,ld=t,Rc=e}function GT(t,e,n){Nn[An++]=lr,Nn[An++]=cr,Nn[An++]=Ka,Ka=t;var r=lr;t=cr;var a=32-yn(r)-1;r&=~(1<<a),n+=1;var i=32-yn(e)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,lr=1<<32-yn(e)+a|n<<a|r,cr=i+t}else lr=1<<i|n<<a|r,cr=t}function f0(t){t.return!==null&&(Or(t,1),GT(t,1,0))}function m0(t){for(;t===ld;)ld=Js[--Zs],Js[Zs]=null,Rc=Js[--Zs],Js[Zs]=null;for(;t===Ka;)Ka=Nn[--An],Nn[An]=null,cr=Nn[--An],Nn[An]=null,lr=Nn[--An],Nn[An]=null}function YT(t,e){Nn[An++]=lr,Nn[An++]=cr,Nn[An++]=Ka,lr=e.id,cr=e.overflow,Ka=t}var Ct=null,Ve=null,ye=!1,Ma=null,In=!1,gg=Error(z(519));function Qa(t){var e=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ic(Rn(e,t)),gg}function ob(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[At]=t,e[nn]=r,n){case"dialog":he("cancel",e),he("close",e);break;case"iframe":case"object":case"embed":he("load",e);break;case"video":case"audio":for(n=0;n<kc.length;n++)he(kc[n],e);break;case"source":he("error",e);break;case"img":case"image":case"link":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"input":he("invalid",e),ET(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",e);break;case"textarea":he("invalid",e),ST(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||R2(e.textContent,n)?(r.popover!=null&&(he("beforetoggle",e),he("toggle",e)),r.onScroll!=null&&he("scroll",e),r.onScrollEnd!=null&&he("scrollend",e),r.onClick!=null&&(e.onclick=Mr),e=!0):e=!1,e||Qa(t,!0)}function lb(t){for(Ct=t.return;Ct;)switch(Ct.tag){case 5:case 31:case 13:In=!1;return;case 27:case 3:In=!0;return;default:Ct=Ct.return}}function Is(t){if(t!==Ct)return!1;if(!ye)return lb(t),ye=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||zg(t.type,t.memoizedProps)),n=!n),n&&Ve&&Qa(t),lb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ve=Wb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));Ve=Wb(t)}else e===27?(e=Ve,li(t.type)?(t=Hg,Hg=null,Ve=t):Ve=e):Ve=Ct?Mn(t.stateNode.nextSibling):null;return!0}function Ki(){Ve=Ct=null,ye=!1}function Zm(){var t=Ma;return t!==null&&(Qt===null?Qt=t:Qt.push.apply(Qt,t),Ma=null),t}function Ic(t){Ma===null?Ma=[t]:Ma.push(t)}var yg=xr(null),us=null,Pr=null;function ba(t,e,n){ke(yg,e._currentValue),e._currentValue=n}function zr(t){t._currentValue=yg.current,wt(yg)}function vg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _g(t,e,n,r){var a=t.child;for(a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){var s=a.child;i=i.firstContext;e:for(;i!==null;){var o=i;i=a;for(var u=0;u<e.length;u++)if(o.context===e[u]){i.lanes|=n,o=i.alternate,o!==null&&(o.lanes|=n),vg(i.return,n,t),r||(s=null);break e}i=o.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(z(341));s.lanes|=n,i=s.alternate,i!==null&&(i.lanes|=n),vg(s,n,t),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Fo(t,e,n,r){t=null;for(var a=e,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=a.type;bn(a.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(a===td.current){if(s=a.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(t!==null?t.push(Pc):t=[Pc])}a=a.return}t!==null&&_g(e,t,n,r),e.flags|=262144}function cd(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qi(t){us=t,Pr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dt(t){return WT(us,t)}function eh(t,e){return us===null&&Qi(t),WT(t,e)}function WT(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Pr===null){if(t===null)throw Error(z(308));Pr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pr=Pr.next=e;return n}var RO=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},IO=gt.unstable_scheduleCallback,DO=gt.unstable_NormalPriority,lt={$$typeof:kr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function p0(){return{controller:new RO,data:new Map,refCount:0}}function au(t){t.refCount--,t.refCount===0&&IO(DO,function(){t.controller.abort()})}var cc=null,bg=0,xo=0,lo=null;function OO(t,e){if(cc===null){var n=cc=[];bg=0,xo=B0(),lo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return bg++,e.then(cb,cb),e}function cb(){if(--bg===0&&cc!==null){lo!==null&&(lo.status="fulfilled");var t=cc;cc=null,xo=0,lo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function jO(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var a=0;a<n.length;a++)(0,n[a])(e)},function(a){for(r.status="rejected",r.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),r}var ub=te.S;te.S=function(t,e){l2=pn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&OO(t,e),ub!==null&&ub(t,e)};var Fi=xr(null);function g0(){var t=Fi.current;return t!==null?t:De.pooledCache}function Dh(t,e){e===null?ke(Fi,Fi.current):ke(Fi,e.pool)}function KT(){var t=g0();return t===null?null:{parent:lt._currentValue,pool:t}}var $o=Error(z(460)),y0=Error(z(474)),pf=Error(z(542)),ud={then:function(){}};function hb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function QT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Mr,Mr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,fb(t),t;default:if(typeof e.status=="string")e.then(Mr,Mr);else{if(t=De,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var a=e;a.status="fulfilled",a.value=r}},function(r){if(e.status==="pending"){var a=e;a.status="rejected",a.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,fb(t),t}throw $i=e,$o}}function ki(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?($i=n,$o):n}}var $i=null;function db(){if($i===null)throw Error(z(459));var t=$i;return $i=null,t}function fb(t){if(t===$o||t===pf)throw Error(z(483))}var co=null,Dc=0;function th(t){var e=Dc;return Dc+=1,co===null&&(co=[]),QT(co,t,e)}function Ll(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function nh(t,e){throw e.$$typeof===_D?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function XT(t){function e(y,_){if(t){var w=y.deletions;w===null?(y.deletions=[_],y.flags|=16):w.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y){for(var _=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function a(y,_){return y=Br(y,_),y.index=0,y.sibling=null,y}function i(y,_,w){return y.index=w,t?(w=y.alternate,w!==null?(w=w.index,w<_?(y.flags|=67108866,_):w):(y.flags|=67108866,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,_,w,D){return _===null||_.tag!==6?(_=Xm(w,y.mode,D),_.return=y,_):(_=a(_,w),_.return=y,_)}function u(y,_,w,D){var V=w.type;return V===$s?d(y,_,w.props.children,D,w.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===va&&ki(V)===_.type)?(_=a(_,w.props),Ll(_,w),_.return=y,_):(_=Ih(w.type,w.key,w.props,null,y.mode,D),Ll(_,w),_.return=y,_)}function h(y,_,w,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=Jm(w,y.mode,D),_.return=y,_):(_=a(_,w.children||[]),_.return=y,_)}function d(y,_,w,D,V){return _===null||_.tag!==7?(_=zi(w,y.mode,D,V),_.return=y,_):(_=a(_,w),_.return=y,_)}function m(y,_,w){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Xm(""+_,y.mode,w),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wu:return w=Ih(_.type,_.key,_.props,null,y.mode,w),Ll(w,_),w.return=y,w;case Gl:return _=Jm(_,y.mode,w),_.return=y,_;case va:return _=ki(_),m(y,_,w)}if(Yl(_)||kl(_))return _=zi(_,y.mode,w,null),_.return=y,_;if(typeof _.then=="function")return m(y,th(_),w);if(_.$$typeof===kr)return m(y,eh(y,_),w);nh(y,_)}return null}function p(y,_,w,D){var V=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return V!==null?null:o(y,_,""+w,D);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wu:return w.key===V?u(y,_,w,D):null;case Gl:return w.key===V?h(y,_,w,D):null;case va:return w=ki(w),p(y,_,w,D)}if(Yl(w)||kl(w))return V!==null?null:d(y,_,w,D,null);if(typeof w.then=="function")return p(y,_,th(w),D);if(w.$$typeof===kr)return p(y,_,eh(y,w),D);nh(y,w)}return null}function v(y,_,w,D,V){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return y=y.get(w)||null,o(_,y,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Wu:return y=y.get(D.key===null?w:D.key)||null,u(_,y,D,V);case Gl:return y=y.get(D.key===null?w:D.key)||null,h(_,y,D,V);case va:return D=ki(D),v(y,_,w,D,V)}if(Yl(D)||kl(D))return y=y.get(w)||null,d(_,y,D,V,null);if(typeof D.then=="function")return v(y,_,w,th(D),V);if(D.$$typeof===kr)return v(y,_,w,eh(_,D),V);nh(_,D)}return null}function x(y,_,w,D){for(var V=null,q=null,S=_,T=_=0,b=null;S!==null&&T<w.length;T++){S.index>T?(b=S,S=null):b=S.sibling;var C=p(y,S,w[T],D);if(C===null){S===null&&(S=b);break}t&&S&&C.alternate===null&&e(y,S),_=i(C,_,T),q===null?V=C:q.sibling=C,q=C,S=b}if(T===w.length)return n(y,S),ye&&Or(y,T),V;if(S===null){for(;T<w.length;T++)S=m(y,w[T],D),S!==null&&(_=i(S,_,T),q===null?V=S:q.sibling=S,q=S);return ye&&Or(y,T),V}for(S=r(S);T<w.length;T++)b=v(S,y,T,w[T],D),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?T:b.key),_=i(b,_,T),q===null?V=b:q.sibling=b,q=b);return t&&S.forEach(function(O){return e(y,O)}),ye&&Or(y,T),V}function N(y,_,w,D){if(w==null)throw Error(z(151));for(var V=null,q=null,S=_,T=_=0,b=null,C=w.next();S!==null&&!C.done;T++,C=w.next()){S.index>T?(b=S,S=null):b=S.sibling;var O=p(y,S,C.value,D);if(O===null){S===null&&(S=b);break}t&&S&&O.alternate===null&&e(y,S),_=i(O,_,T),q===null?V=O:q.sibling=O,q=O,S=b}if(C.done)return n(y,S),ye&&Or(y,T),V;if(S===null){for(;!C.done;T++,C=w.next())C=m(y,C.value,D),C!==null&&(_=i(C,_,T),q===null?V=C:q.sibling=C,q=C);return ye&&Or(y,T),V}for(S=r(S);!C.done;T++,C=w.next())C=v(S,y,T,C.value,D),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),_=i(C,_,T),q===null?V=C:q.sibling=C,q=C);return t&&S.forEach(function(j){return e(y,j)}),ye&&Or(y,T),V}function A(y,_,w,D){if(typeof w=="object"&&w!==null&&w.type===$s&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Wu:e:{for(var V=w.key;_!==null;){if(_.key===V){if(V=w.type,V===$s){if(_.tag===7){n(y,_.sibling),D=a(_,w.props.children),D.return=y,y=D;break e}}else if(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===va&&ki(V)===_.type){n(y,_.sibling),D=a(_,w.props),Ll(D,w),D.return=y,y=D;break e}n(y,_);break}else e(y,_);_=_.sibling}w.type===$s?(D=zi(w.props.children,y.mode,D,w.key),D.return=y,y=D):(D=Ih(w.type,w.key,w.props,null,y.mode,D),Ll(D,w),D.return=y,y=D)}return s(y);case Gl:e:{for(V=w.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){n(y,_.sibling),D=a(_,w.children||[]),D.return=y,y=D;break e}else{n(y,_);break}else e(y,_);_=_.sibling}D=Jm(w,y.mode,D),D.return=y,y=D}return s(y);case va:return w=ki(w),A(y,_,w,D)}if(Yl(w))return x(y,_,w,D);if(kl(w)){if(V=kl(w),typeof V!="function")throw Error(z(150));return w=V.call(w),N(y,_,w,D)}if(typeof w.then=="function")return A(y,_,th(w),D);if(w.$$typeof===kr)return A(y,_,eh(y,w),D);nh(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,_!==null&&_.tag===6?(n(y,_.sibling),D=a(_,w),D.return=y,y=D):(n(y,_),D=Xm(w,y.mode,D),D.return=y,y=D),s(y)):n(y,_)}return function(y,_,w,D){try{Dc=0;var V=A(y,_,w,D);return co=null,V}catch(S){if(S===$o||S===pf)throw S;var q=hn(29,S,null,y.mode);return q.lanes=D,q.return=y,q}finally{}}}var Xi=XT(!0),JT=XT(!1),_a=!1;function v0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function La(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,xe&2){var a=r.pending;return a===null?e.next=e:(e.next=a.next,a.next=e),r.pending=e,e=od(t),$T(t,null,n),e}return mf(t,r,e,n),od(t)}function uc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gT(t,n)}}function ep(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=e:i=i.next=e}else a=i=e;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var wg=!1;function hc(){if(wg){var t=lo;if(t!==null)throw t}}function dc(t,e,n,r){wg=!1;var a=t.updateQueue;_a=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var u=o,h=u.next;u.next=null,s===null?i=h:s.next=h,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=h:o.next=h,d.lastBaseUpdate=u))}if(i!==null){var m=a.baseState;s=0,d=h=u=null,o=i;do{var p=o.lane&-536870913,v=p!==o.lane;if(v?(ge&p)===p:(r&p)===p){p!==0&&p===xo&&(wg=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,N=o;p=e;var A=n;switch(N.tag){case 1:if(x=N.payload,typeof x=="function"){m=x.call(A,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,p=typeof x=="function"?x.call(A,m,p):x,p==null)break e;m=Be({},m,p);break e;case 2:_a=!0}}p=o.callback,p!==null&&(t.flags|=64,v&&(t.flags|=8192),v=a.callbacks,v===null?a.callbacks=[p]:v.push(p))}else v={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(h=d=v,u=m):d=d.next=v,s|=p;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;v=o,o=v.next,v.next=null,a.lastBaseUpdate=v,a.shared.pending=null}}while(!0);d===null&&(u=m),a.baseState=u,a.firstBaseUpdate=h,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Ja|=s,t.lanes=s,t.memoizedState=m}}function ZT(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function eS(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ZT(n[t],e)}var wo=xr(null),hd=xr(0);function mb(t,e){t=Qr,ke(hd,t),ke(wo,e),Qr=t|e.baseLanes}function Eg(){ke(hd,Qr),ke(wo,wo.current)}function _0(){Qr=hd.current,wt(wo),wt(hd)}var xn=xr(null),kn=null;function xa(t){var e=t.alternate;ke(tt,tt.current&1),ke(xn,t),kn===null&&(e===null||wo.current!==null||e.memoizedState!==null)&&(kn=t)}function Tg(t){ke(tt,tt.current),ke(xn,t),kn===null&&(kn=t)}function tS(t){t.tag===22?(ke(tt,tt.current),ke(xn,t),kn===null&&(kn=t)):wa()}function wa(){ke(tt,tt.current),ke(xn,xn.current)}function un(t){wt(xn),kn===t&&(kn=null),wt(tt)}var tt=xr(0);function dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||$g(n)||qg(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yr=0,oe=null,Re=null,st=null,fd=!1,uo=!1,Ji=!1,md=0,Oc=0,ho=null,kO=0;function Je(){throw Error(z(321))}function b0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function x0(t,e,n,r,a,i){return Yr=i,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,te.H=t===null||t.memoizedState===null?OS:O0,Ji=!1,i=n(r,a),Ji=!1,uo&&(i=rS(e,n,r,a)),nS(t),i}function nS(t){te.H=jc;var e=Re!==null&&Re.next!==null;if(Yr=0,st=Re=oe=null,fd=!1,Oc=0,ho=null,e)throw Error(z(300));t===null||ut||(t=t.dependencies,t!==null&&cd(t)&&(ut=!0))}function rS(t,e,n,r){oe=t;var a=0;do{if(uo&&(ho=null),Oc=0,uo=!1,25<=a)throw Error(z(301));if(a+=1,st=Re=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}te.H=jS,i=e(n,r)}while(uo);return i}function MO(){var t=te.H,e=t.useState()[0];return e=typeof e.then=="function"?iu(e):e,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(oe.flags|=1024),e}function w0(){var t=md!==0;return md=0,t}function E0(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function T0(t){if(fd){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}fd=!1}Yr=0,st=Re=oe=null,uo=!1,Oc=md=0,ho=null}function Ft(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?oe.memoizedState=st=t:st=st.next=t,st}function rt(){if(Re===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var e=st===null?oe.memoizedState:st.next;if(e!==null)st=e,Re=t;else{if(t===null)throw oe.alternate===null?Error(z(467)):Error(z(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},st===null?oe.memoizedState=st=t:st=st.next=t}return st}function gf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function iu(t){var e=Oc;return Oc+=1,ho===null&&(ho=[]),t=QT(ho,t,e),e=oe,(st===null?e.memoizedState:st.next)===null&&(e=e.alternate,te.H=e===null||e.memoizedState===null?OS:O0),t}function yf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return iu(t);if(t.$$typeof===kr)return Dt(t)}throw Error(z(438,String(t)))}function S0(t){var e=null,n=oe.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=oe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(a){return a.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=gf(),oe.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=bD;return e.index++,n}function Wr(t,e){return typeof e=="function"?e(t):e}function Oh(t){var e=rt();return N0(e,Re,t)}function N0(t,e,n){var r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var a=t.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}e.baseQueue=a=i,r.pending=null}if(i=t.baseState,a===null)t.memoizedState=i;else{e=a.next;var o=s=null,u=null,h=e,d=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(ge&m)===m:(Yr&m)===m){var p=h.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===xo&&(d=!0);else if((Yr&p)===p){h=h.next,p===xo&&(d=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=m,s=i):u=u.next=m,oe.lanes|=p,Ja|=p;m=h.action,Ji&&n(i,m),i=h.hasEagerState?h.eagerState:n(i,m)}else p={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(o=u=p,s=i):u=u.next=p,oe.lanes|=m,Ja|=m;h=h.next}while(h!==null&&h!==e);if(u===null?s=i:u.next=o,!bn(i,t.memoizedState)&&(ut=!0,d&&(n=lo,n!==null)))throw n;t.memoizedState=i,t.baseState=s,t.baseQueue=u,r.lastRenderedState=i}return a===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function tp(t){var e=rt(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,a=n.pending,i=e.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=t(i,s.action),s=s.next;while(s!==a);bn(i,e.memoizedState)||(ut=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function aS(t,e,n){var r=oe,a=rt(),i=ye;if(i){if(n===void 0)throw Error(z(407));n=n()}else n=e();var s=!bn((Re||a).memoizedState,n);if(s&&(a.memoizedState=n,ut=!0),a=a.queue,A0(oS.bind(null,r,a,t),[t]),a.getSnapshot!==e||s||st!==null&&st.memoizedState.tag&1){if(r.flags|=2048,Eo(9,{destroy:void 0},sS.bind(null,r,a,n,e),null),De===null)throw Error(z(349));i||Yr&127||iS(r,e,n)}return n}function iS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=oe.updateQueue,e===null?(e=gf(),oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sS(t,e,n,r){e.value=n,e.getSnapshot=r,lS(e)&&cS(t)}function oS(t,e,n){return n(function(){lS(e)&&cS(t)})}function lS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function cS(t){var e=cs(t,2);e!==null&&en(e,t,2)}function Sg(t){var e=Ft();if(typeof t=="function"){var n=t;if(t=n(),Ji){Ca(!0);try{n()}finally{Ca(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:t},e}function uS(t,e,n,r){return t.baseState=n,N0(t,Re,typeof r=="function"?r:Wr)}function PO(t,e,n,r,a){if(_f(t))throw Error(z(485));if(t=e.action,t!==null){var i={payload:a,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){i.listeners.push(s)}};te.T!==null?n(!0):i.isTransition=!1,r(i),n=e.pending,n===null?(i.next=e.pending=i,hS(e,i)):(i.next=n.next,e.pending=n.next=i)}}function hS(t,e){var n=e.action,r=e.payload,a=t.state;if(e.isTransition){var i=te.T,s={};te.T=s;try{var o=n(a,r),u=te.S;u!==null&&u(s,o),pb(t,e,o)}catch(h){Ng(t,e,h)}finally{i!==null&&s.types!==null&&(i.types=s.types),te.T=i}}else try{i=n(a,r),pb(t,e,i)}catch(h){Ng(t,e,h)}}function pb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){gb(t,e,r)},function(r){return Ng(t,e,r)}):gb(t,e,n)}function gb(t,e,n){e.status="fulfilled",e.value=n,dS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,hS(t,n)))}function Ng(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,dS(e),e=e.next;while(e!==r)}t.action=null}function dS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function fS(t,e){return e}function yb(t,e){if(ye){var n=De.formState;if(n!==null){e:{var r=oe;if(ye){if(Ve){t:{for(var a=Ve,i=In;a.nodeType!==8;){if(!i){a=null;break t}if(a=Mn(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Ve=Mn(a.nextSibling),r=a.data==="F!";break e}}Qa(r)}r=!1}r&&(e=n[0])}}return n=Ft(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fS,lastRenderedState:e},n.queue=r,n=RS.bind(null,oe,r),r.dispatch=n,r=Sg(!1),i=D0.bind(null,oe,!1,r.queue),r=Ft(),a={state:e,dispatch:null,action:t,pending:null},r.queue=a,n=PO.bind(null,oe,a,i,n),a.dispatch=n,r.memoizedState=t,[e,n,!1]}function vb(t){var e=rt();return mS(e,Re,t)}function mS(t,e,n){if(e=N0(t,e,fS)[0],t=Oh(Wr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=iu(e)}catch(s){throw s===$o?pf:s}else r=e;e=rt();var a=e.queue,i=a.dispatch;return n!==e.memoizedState&&(oe.flags|=2048,Eo(9,{destroy:void 0},LO.bind(null,a,n),null)),[r,i,t]}function LO(t,e){t.action=e}function _b(t){var e=rt(),n=Re;if(n!==null)return mS(e,n,t);rt(),e=e.memoizedState,n=rt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Eo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=oe.updateQueue,e===null&&(e=gf(),oe.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function pS(){return rt().memoizedState}function jh(t,e,n,r){var a=Ft();oe.flags|=t,a.memoizedState=Eo(1|e,{destroy:void 0},n,r===void 0?null:r)}function vf(t,e,n,r){var a=rt();r=r===void 0?null:r;var i=a.memoizedState.inst;Re!==null&&r!==null&&b0(r,Re.memoizedState.deps)?a.memoizedState=Eo(e,i,n,r):(oe.flags|=t,a.memoizedState=Eo(1|e,i,n,r))}function bb(t,e){jh(8390656,8,t,e)}function A0(t,e){vf(2048,8,t,e)}function VO(t){oe.flags|=4;var e=oe.updateQueue;if(e===null)e=gf(),oe.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function gS(t){var e=rt().memoizedState;return VO({ref:e,nextImpl:t}),function(){if(xe&2)throw Error(z(440));return e.impl.apply(void 0,arguments)}}function yS(t,e){return vf(4,2,t,e)}function vS(t,e){return vf(4,4,t,e)}function _S(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bS(t,e,n){n=n!=null?n.concat([t]):null,vf(4,4,_S.bind(null,e,t),n)}function C0(){}function xS(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&b0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wS(t,e){var n=rt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&b0(e,r[1]))return r[0];if(r=t(),Ji){Ca(!0);try{t()}finally{Ca(!1)}}return n.memoizedState=[r,e],r}function R0(t,e,n){return n===void 0||Yr&1073741824&&!(ge&261930)?t.memoizedState=e:(t.memoizedState=n,t=u2(),oe.lanes|=t,Ja|=t,n)}function ES(t,e,n,r){return bn(n,e)?n:wo.current!==null?(t=R0(t,n,r),bn(t,e)||(ut=!0),t):!(Yr&42)||Yr&1073741824&&!(ge&261930)?(ut=!0,t.memoizedState=n):(t=u2(),oe.lanes|=t,Ja|=t,e)}function TS(t,e,n,r,a){var i=we.p;we.p=i!==0&&8>i?i:8;var s=te.T,o={};te.T=o,D0(t,!1,e,n);try{var u=a(),h=te.S;if(h!==null&&h(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=jO(u,r);fc(t,e,d,vn(t))}else fc(t,e,r,vn(t))}catch(m){fc(t,e,{then:function(){},status:"rejected",reason:m},vn())}finally{we.p=i,s!==null&&o.types!==null&&(s.types=o.types),te.T=s}}function UO(){}function Ag(t,e,n,r){if(t.tag!==5)throw Error(z(476));var a=SS(t).queue;TS(t,a,e,Bi,n===null?UO:function(){return NS(t),n(r)})}function SS(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Bi,baseState:Bi,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:Bi},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function NS(t){var e=SS(t);e.next===null&&(e=t.alternate.memoizedState),fc(t,e.next.queue,{},vn())}function I0(){return Dt(Pc)}function AS(){return rt().memoizedState}function CS(){return rt().memoizedState}function BO(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=vn();t=Pa(n);var r=La(e,t,n);r!==null&&(en(r,e,n),uc(r,e,n)),e={cache:p0()},t.payload=e;return}e=e.return}}function zO(t,e,n){var r=vn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},_f(t)?IS(e,n):(n=h0(t,e,n,r),n!==null&&(en(n,t,r),DS(n,e,r)))}function RS(t,e,n){var r=vn();fc(t,e,n,r)}function fc(t,e,n,r){var a={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(_f(t))IS(e,a);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,o=i(s,n);if(a.hasEagerState=!0,a.eagerState=o,bn(o,s))return mf(t,e,a,0),De===null&&ff(),!1}catch{}finally{}if(n=h0(t,e,a,r),n!==null)return en(n,t,r),DS(n,e,r),!0}return!1}function D0(t,e,n,r){if(r={lane:2,revertLane:B0(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},_f(t)){if(e)throw Error(z(479))}else e=h0(t,n,r,2),e!==null&&en(e,t,2)}function _f(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function IS(t,e){uo=fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DS(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,gT(t,n)}}var jc={readContext:Dt,use:yf,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};jc.useEffectEvent=Je;var OS={readContext:Dt,use:yf,useCallback:function(t,e){return Ft().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:bb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,jh(4194308,4,_S.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jh(4194308,4,t,e)},useInsertionEffect:function(t,e){jh(4,2,t,e)},useMemo:function(t,e){var n=Ft();e=e===void 0?null:e;var r=t();if(Ji){Ca(!0);try{t()}finally{Ca(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ft();if(n!==void 0){var a=n(e);if(Ji){Ca(!0);try{n(e)}finally{Ca(!1)}}}else a=e;return r.memoizedState=r.baseState=a,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:a},r.queue=t,t=t.dispatch=zO.bind(null,oe,t),[r.memoizedState,t]},useRef:function(t){var e=Ft();return t={current:t},e.memoizedState=t},useState:function(t){t=Sg(t);var e=t.queue,n=RS.bind(null,oe,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:C0,useDeferredValue:function(t,e){var n=Ft();return R0(n,t,e)},useTransition:function(){var t=Sg(!1);return t=TS.bind(null,oe,t.queue,!0,!1),Ft().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=oe,a=Ft();if(ye){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),De===null)throw Error(z(349));ge&127||iS(r,e,n)}a.memoizedState=n;var i={value:n,getSnapshot:e};return a.queue=i,bb(oS.bind(null,r,i,t),[t]),r.flags|=2048,Eo(9,{destroy:void 0},sS.bind(null,r,i,n,e),null),n},useId:function(){var t=Ft(),e=De.identifierPrefix;if(ye){var n=cr,r=lr;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=md++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=kO++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:I0,useFormState:yb,useActionState:yb,useOptimistic:function(t){var e=Ft();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=D0.bind(null,oe,!0,n),n.dispatch=e,[t,e]},useMemoCache:S0,useCacheRefresh:function(){return Ft().memoizedState=BO.bind(null,oe)},useEffectEvent:function(t){var e=Ft(),n={impl:t};return e.memoizedState=n,function(){if(xe&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},O0={readContext:Dt,use:yf,useCallback:xS,useContext:Dt,useEffect:A0,useImperativeHandle:bS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:wS,useReducer:Oh,useRef:pS,useState:function(){return Oh(Wr)},useDebugValue:C0,useDeferredValue:function(t,e){var n=rt();return ES(n,Re.memoizedState,t,e)},useTransition:function(){var t=Oh(Wr)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:iu(t),e]},useSyncExternalStore:aS,useId:AS,useHostTransitionStatus:I0,useFormState:vb,useActionState:vb,useOptimistic:function(t,e){var n=rt();return uS(n,Re,t,e)},useMemoCache:S0,useCacheRefresh:CS};O0.useEffectEvent=gS;var jS={readContext:Dt,use:yf,useCallback:xS,useContext:Dt,useEffect:A0,useImperativeHandle:bS,useInsertionEffect:yS,useLayoutEffect:vS,useMemo:wS,useReducer:tp,useRef:pS,useState:function(){return tp(Wr)},useDebugValue:C0,useDeferredValue:function(t,e){var n=rt();return Re===null?R0(n,t,e):ES(n,Re.memoizedState,t,e)},useTransition:function(){var t=tp(Wr)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:iu(t),e]},useSyncExternalStore:aS,useId:AS,useHostTransitionStatus:I0,useFormState:_b,useActionState:_b,useOptimistic:function(t,e){var n=rt();return Re!==null?uS(n,Re,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:S0,useCacheRefresh:CS};jS.useEffectEvent=gS;function np(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cg={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),a=Pa(r);a.payload=e,n!=null&&(a.callback=n),e=La(t,a,r),e!==null&&(en(e,t,r),uc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),a=Pa(r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=La(t,a,r),e!==null&&(en(e,t,r),uc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=Pa(n);r.tag=2,e!=null&&(r.callback=e),e=La(t,r,n),e!==null&&(en(e,t,n),uc(e,t,n))}};function xb(t,e,n,r,a,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Cc(n,r)||!Cc(a,i):!0}function wb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cg.enqueueReplaceState(e,e.state,null)}function Zi(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Be({},n));for(var a in t)n[a]===void 0&&(n[a]=t[a])}return n}function kS(t){sd(t)}function MS(t){console.error(t)}function PS(t){sd(t)}function pd(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function Eb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Rg(t,e,n){return n=Pa(n),n.tag=3,n.payload={element:null},n.callback=function(){pd(t,e)},n}function LS(t){return t=Pa(t),t.tag=3,t}function VS(t,e,n,r){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var i=r.value;t.payload=function(){return a(i)},t.callback=function(){Eb(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Eb(e,n,r),typeof a!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function FO(t,e,n,r,a){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Fo(e,n,a,!0),n=xn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?bd():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ud?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),fp(t,r,a)),!1;case 22:return n.flags|=65536,r===ud?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),fp(t,r,a)),!1}throw Error(z(435,n.tag))}return fp(t,r,a),bd(),!1}if(ye)return e=xn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=a,r!==gg&&(t=Error(z(422),{cause:r}),Ic(Rn(t,n)))):(r!==gg&&(e=Error(z(423),{cause:r}),Ic(Rn(e,n))),t=t.current.alternate,t.flags|=65536,a&=-a,t.lanes|=a,r=Rn(r,n),a=Rg(t.stateNode,r,a),ep(t,a),Ze!==4&&(Ze=2)),!1;var i=Error(z(520),{cause:r});if(i=Rn(i,n),gc===null?gc=[i]:gc.push(i),Ze!==4&&(Ze=2),e===null)return!0;r=Rn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=a&-a,n.lanes|=t,t=Rg(n.stateNode,r,t),ep(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Va===null||!Va.has(i))))return n.flags|=65536,a&=-a,n.lanes|=a,a=LS(a),VS(a,t,n,r),ep(n,a),!1}n=n.return}while(n!==null);return!1}var j0=Error(z(461)),ut=!1;function St(t,e,n,r){e.child=t===null?JT(e,null,n,r):Xi(e,t.child,n,r)}function Tb(t,e,n,r,a){n=n.render;var i=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Qi(e),r=x0(t,e,n,s,i,a),o=w0(),t!==null&&!ut?(E0(t,e,a),Kr(t,e,a)):(ye&&o&&f0(e),e.flags|=1,St(t,e,r,a),e.child)}function Sb(t,e,n,r,a){if(t===null){var i=n.type;return typeof i=="function"&&!d0(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,US(t,e,i,r,a)):(t=Ih(n.type,null,r,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!k0(t,a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Cc,n(s,r)&&t.ref===e.ref)return Kr(t,e,a)}return e.flags|=1,t=Br(i,r),t.ref=e.ref,t.return=e,e.child=t}function US(t,e,n,r,a){if(t!==null){var i=t.memoizedProps;if(Cc(i,r)&&t.ref===e.ref)if(ut=!1,e.pendingProps=r=i,k0(t,a))t.flags&131072&&(ut=!0);else return e.lanes=t.lanes,Kr(t,e,a)}return Ig(t,e,n,r,a)}function BS(t,e,n,r){var a=r.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(r=e.child=t.child,a=0;r!==null;)a=a|r.lanes|r.childLanes,r=r.sibling;r=a&~i}else r=0,e.child=null;return Nb(t,e,i,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dh(e,i!==null?i.cachePool:null),i!==null?mb(e,i):Eg(),tS(e);else return r=e.lanes=536870912,Nb(t,e,i!==null?i.baseLanes|n:n,n,r)}else i!==null?(Dh(e,i.cachePool),mb(e,i),wa(),e.memoizedState=null):(t!==null&&Dh(e,null),Eg(),wa());return St(t,e,a,n),e.child}function Kl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function Nb(t,e,n,r,a){var i=g0();return i=i===null?null:{parent:lt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Dh(e,null),Eg(),tS(e),t!==null&&Fo(t,e,r,!0),e.childLanes=a,null}function kh(t,e){return e=gd({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Ab(t,e,n){return Xi(e,t.child,null,n),t=kh(e,e.pendingProps),t.flags|=2,un(e),e.memoizedState=null,t}function $O(t,e,n){var r=e.pendingProps,a=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ye){if(r.mode==="hidden")return t=kh(e,r),e.lanes=536870912,Kl(null,t);if(Tg(e),(t=Ve)?(t=O2(t,In),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ka!==null?{id:lr,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},n=HT(t),n.return=e,e.child=n,Ct=e,Ve=null)):t=null,t===null)throw Qa(e);return e.lanes=536870912,null}return kh(e,r)}var i=t.memoizedState;if(i!==null){var s=i.dehydrated;if(Tg(e),a)if(e.flags&256)e.flags&=-257,e=Ab(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(z(558));else if(ut||Fo(t,e,n,!1),a=(n&t.childLanes)!==0,ut||a){if(r=De,r!==null&&(s=yT(r,n),s!==0&&s!==i.retryLane))throw i.retryLane=s,cs(t,s),en(r,t,s),j0;bd(),e=Ab(t,e,n)}else t=i.treeContext,Ve=Mn(s.nextSibling),Ct=e,ye=!0,Ma=null,In=!1,t!==null&&YT(e,t),e=kh(e,r),e.flags|=4096;return e}return t=Br(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Mh(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Ig(t,e,n,r,a){return Qi(e),n=x0(t,e,n,r,void 0,a),r=w0(),t!==null&&!ut?(E0(t,e,a),Kr(t,e,a)):(ye&&r&&f0(e),e.flags|=1,St(t,e,n,a),e.child)}function Cb(t,e,n,r,a,i){return Qi(e),e.updateQueue=null,n=rS(e,r,n,a),nS(t),r=w0(),t!==null&&!ut?(E0(t,e,i),Kr(t,e,i)):(ye&&r&&f0(e),e.flags|=1,St(t,e,n,i),e.child)}function Rb(t,e,n,r,a){if(Qi(e),e.stateNode===null){var i=Xs,s=n.contextType;typeof s=="object"&&s!==null&&(i=Dt(s)),i=new n(r,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Cg,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=r,i.state=e.memoizedState,i.refs={},v0(e),s=n.contextType,i.context=typeof s=="object"&&s!==null?Dt(s):Xs,i.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(np(e,n,s,r),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Cg.enqueueReplaceState(i,i.state,null),dc(e,r,i,a),hc(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){i=e.stateNode;var o=e.memoizedProps,u=Zi(n,o);i.props=u;var h=i.context,d=n.contextType;s=Xs,typeof d=="object"&&d!==null&&(s=Dt(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o||h!==s)&&wb(e,i,r,s),_a=!1;var p=e.memoizedState;i.state=p,dc(e,r,i,a),hc(),h=e.memoizedState,o||p!==h||_a?(typeof m=="function"&&(np(e,n,m,r),h=e.memoizedState),(u=_a||xb(e,n,u,r,p,h,s))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=h),i.props=r,i.state=h,i.context=s,r=u):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,xg(t,e),s=e.memoizedProps,d=Zi(n,s),i.props=d,m=e.pendingProps,p=i.context,h=n.contextType,u=Xs,typeof h=="object"&&h!==null&&(u=Dt(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==m||p!==u)&&wb(e,i,r,u),_a=!1,p=e.memoizedState,i.state=p,dc(e,r,i,a),hc();var v=e.memoizedState;s!==m||p!==v||_a||t!==null&&t.dependencies!==null&&cd(t.dependencies)?(typeof o=="function"&&(np(e,n,o,r),v=e.memoizedState),(d=_a||xb(e,n,d,r,p,v,u)||t!==null&&t.dependencies!==null&&cd(t.dependencies))?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),i.props=r,i.state=v,i.context=u,r=d):(typeof i.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return i=r,Mh(t,e),r=(e.flags&128)!==0,i||r?(i=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&r?(e.child=Xi(e,t.child,null,a),e.child=Xi(e,null,n,a)):St(t,e,n,a),e.memoizedState=i.state,t=e.child):t=Kr(t,e,a),t}function Ib(t,e,n,r){return Ki(),e.flags|=256,St(t,e,n,r),e.child}var rp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ap(t){return{baseLanes:t,cachePool:KT()}}function ip(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=fn),t}function zS(t,e,n){var r=e.pendingProps,a=!1,i=(e.flags&128)!==0,s;if((s=i)||(s=t!==null&&t.memoizedState===null?!1:(tt.current&2)!==0),s&&(a=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(ye){if(a?xa(e):wa(),(t=Ve)?(t=O2(t,In),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Ka!==null?{id:lr,overflow:cr}:null,retryLane:536870912,hydrationErrors:null},n=HT(t),n.return=e,e.child=n,Ct=e,Ve=null)):t=null,t===null)throw Qa(e);return qg(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,a?(wa(),a=e.mode,o=gd({mode:"hidden",children:o},a),r=zi(r,a,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=ap(n),r.childLanes=ip(t,s,n),e.memoizedState=rp,Kl(null,r)):(xa(e),Dg(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(i)e.flags&256?(xa(e),e.flags&=-257,e=sp(t,e,n)):e.memoizedState!==null?(wa(),e.child=t.child,e.flags|=128,e=null):(wa(),o=r.fallback,a=e.mode,r=gd({mode:"visible",children:r.children},a),o=zi(o,a,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Xi(e,t.child,null,n),r=e.child,r.memoizedState=ap(n),r.childLanes=ip(t,s,n),e.memoizedState=rp,e=Kl(null,r));else if(xa(e),qg(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var h=s.dgst;s=h,r=Error(z(419)),r.stack="",r.digest=s,Ic({value:r,source:null,stack:null}),e=sp(t,e,n)}else if(ut||Fo(t,e,n,!1),s=(n&t.childLanes)!==0,ut||s){if(s=De,s!==null&&(r=yT(s,n),r!==0&&r!==u.retryLane))throw u.retryLane=r,cs(t,r),en(s,t,r),j0;$g(o)||bd(),e=sp(t,e,n)}else $g(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Ve=Mn(o.nextSibling),Ct=e,ye=!0,Ma=null,In=!1,t!==null&&YT(e,t),e=Dg(e,r.children),e.flags|=4096);return e}return a?(wa(),o=r.fallback,a=e.mode,u=t.child,h=u.sibling,r=Br(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,h!==null?o=Br(h,o):(o=zi(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,Kl(null,r),r=e.child,o=t.child.memoizedState,o===null?o=ap(n):(a=o.cachePool,a!==null?(u=lt._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=KT(),o={baseLanes:o.baseLanes|n,cachePool:a}),r.memoizedState=o,r.childLanes=ip(t,s,n),e.memoizedState=rp,Kl(t.child,r)):(xa(e),n=t.child,t=n.sibling,n=Br(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Dg(t,e){return e=gd({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function gd(t,e){return t=hn(22,t,null,e),t.lanes=0,t}function sp(t,e,n){return Xi(e,t.child,null,n),t=Dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Db(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),vg(t.return,e,n)}function op(t,e,n,r,a,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,treeForkCount:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a,s.treeForkCount=i)}function FS(t,e,n){var r=e.pendingProps,a=r.revealOrder,i=r.tail;r=r.children;var s=tt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,ke(tt,s),St(t,e,r,n),r=ye?Rc:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Db(t,n,e);else if(t.tag===19)Db(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(a){case"forwards":for(n=e.child,a=null;n!==null;)t=n.alternate,t!==null&&dd(t)===null&&(a=n),n=n.sibling;n=a,n===null?(a=e.child,e.child=null):(a=n.sibling,n.sibling=null),op(e,!1,a,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,a=e.child,e.child=null;a!==null;){if(t=a.alternate,t!==null&&dd(t)===null){e.child=a;break}t=a.sibling,a.sibling=n,n=a,a=t}op(e,!0,n,null,i,r);break;case"together":op(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ja|=e.lanes,!(n&e.childLanes))if(t!==null){if(Fo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function k0(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&cd(t)))}function qO(t,e,n){switch(e.tag){case 3:nd(e,e.stateNode.containerInfo),ba(e,lt,t.memoizedState.cache),Ki();break;case 27:case 5:ig(e);break;case 4:nd(e,e.stateNode.containerInfo);break;case 10:ba(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Tg(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(xa(e),e.flags|=128,null):n&e.child.childLanes?zS(t,e,n):(xa(e),t=Kr(t,e,n),t!==null?t.sibling:null);xa(e);break;case 19:var a=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Fo(t,e,n,!1),r=(n&e.childLanes)!==0),a){if(r)return FS(t,e,n);e.flags|=128}if(a=e.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ke(tt,tt.current),r)break;return null;case 22:return e.lanes=0,BS(t,e,n,e.pendingProps);case 24:ba(e,lt,t.memoizedState.cache)}return Kr(t,e,n)}function $S(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ut=!0;else{if(!k0(t,n)&&!(e.flags&128))return ut=!1,qO(t,e,n);ut=!!(t.flags&131072)}else ut=!1,ye&&e.flags&1048576&&GT(e,Rc,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=ki(e.elementType),e.type=t,typeof t=="function")d0(t)?(r=Zi(t,r),e.tag=1,e=Rb(null,e,t,r,n)):(e.tag=0,e=Ig(null,e,t,r,n));else{if(t!=null){var a=t.$$typeof;if(a===Jy){e.tag=11,e=Tb(null,e,t,r,n);break e}else if(a===Zy){e.tag=14,e=Sb(null,e,t,r,n);break e}}throw e=rg(t)||t,Error(z(306,e,""))}}return e;case 0:return Ig(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,a=Zi(r,e.pendingProps),Rb(t,e,r,a,n);case 3:e:{if(nd(e,e.stateNode.containerInfo),t===null)throw Error(z(387));r=e.pendingProps;var i=e.memoizedState;a=i.element,xg(t,e),dc(e,r,null,n);var s=e.memoizedState;if(r=s.cache,ba(e,lt,r),r!==i.cache&&_g(e,[lt],n,!0),hc(),r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=Ib(t,e,r,n);break e}else if(r!==a){a=Rn(Error(z(424)),e),Ic(a),e=Ib(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ve=Mn(t.firstChild),Ct=e,ye=!0,Ma=null,In=!0,n=JT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ki(),r===a){e=Kr(t,e,n);break e}St(t,e,r,n)}e=e.child}return e;case 26:return Mh(t,e),t===null?(n=Xb(e.type,null,e.pendingProps,null))?e.memoizedState=n:ye||(n=e.type,t=e.pendingProps,r=Td(ka.current).createElement(n),r[At]=e,r[nn]=t,Ot(r,n,t),xt(r),e.stateNode=r):e.memoizedState=Xb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return ig(e),t===null&&ye&&(r=e.stateNode=j2(e.type,e.pendingProps,ka.current),Ct=e,In=!0,a=Ve,li(e.type)?(Hg=a,Ve=Mn(r.firstChild)):Ve=a),St(t,e,e.pendingProps.children,n),Mh(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ye&&((a=r=Ve)&&(r=bj(r,e.type,e.pendingProps,In),r!==null?(e.stateNode=r,Ct=e,Ve=Mn(r.firstChild),In=!1,a=!0):a=!1),a||Qa(e)),ig(e),a=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,r=i.children,zg(a,i)?r=null:s!==null&&zg(a,s)&&(e.flags|=32),e.memoizedState!==null&&(a=x0(t,e,MO,null,null,n),Pc._currentValue=a),Mh(t,e),St(t,e,r,n),e.child;case 6:return t===null&&ye&&((t=n=Ve)&&(n=xj(n,e.pendingProps,In),n!==null?(e.stateNode=n,Ct=e,Ve=null,t=!0):t=!1),t||Qa(e)),null;case 13:return zS(t,e,n);case 4:return nd(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Xi(e,null,r,n):St(t,e,r,n),e.child;case 11:return Tb(t,e,e.type,e.pendingProps,n);case 7:return St(t,e,e.pendingProps,n),e.child;case 8:return St(t,e,e.pendingProps.children,n),e.child;case 12:return St(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,ba(e,e.type,r.value),St(t,e,r.children,n),e.child;case 9:return a=e.type._context,r=e.pendingProps.children,Qi(e),a=Dt(a),r=r(a),e.flags|=1,St(t,e,r,n),e.child;case 14:return Sb(t,e,e.type,e.pendingProps,n);case 15:return US(t,e,e.type,e.pendingProps,n);case 19:return FS(t,e,n);case 31:return $O(t,e,n);case 22:return BS(t,e,n,e.pendingProps);case 24:return Qi(e),r=Dt(lt),t===null?(a=g0(),a===null&&(a=De,i=p0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=n),a=i),e.memoizedState={parent:r,cache:a},v0(e),ba(e,lt,a)):(t.lanes&n&&(xg(t,e),dc(e,null,null,n),hc()),a=t.memoizedState,i=e.memoizedState,a.parent!==r?(a={parent:r,cache:r},e.memoizedState=a,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=a),ba(e,lt,r)):(r=i.cache,ba(e,lt,r),r!==a.cache&&_g(e,[lt],n,!0))),St(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function Cr(t){t.flags|=4}function lp(t,e,n,r,a){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(a&335544128)===a)if(t.stateNode.complete)t.flags|=8192;else if(f2())t.flags|=8192;else throw $i=ud,y0}else t.flags&=-16777217}function Ob(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!P2(e))if(f2())t.flags|=8192;else throw $i=ud,y0}function rh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?mT():536870912,t.lanes|=e,To|=e)}function Vl(t,e){if(!ye)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Le(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&65011712,r|=a.flags&65011712,a.return=t,a=a.sibling;else for(a=t.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=t,a=a.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function HO(t,e,n){var r=e.pendingProps;switch(m0(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(e),null;case 1:return Le(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),zr(lt),vo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Is(e)?Cr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zm())),Le(e),null;case 26:var a=e.type,i=e.memoizedState;return t===null?(Cr(e),i!==null?(Le(e),Ob(e,i)):(Le(e),lp(e,a,null,r,n))):i?i!==t.memoizedState?(Cr(e),Le(e),Ob(e,i)):(Le(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Cr(e),Le(e),lp(e,a,t,r,n)),null;case 27:if(rd(e),n=ka.current,a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Cr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Le(e),null}t=dr.current,Is(e)?ob(e):(t=j2(a,r,n),e.stateNode=t,Cr(e))}return Le(e),null;case 5:if(rd(e),a=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Cr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Le(e),null}if(i=dr.current,Is(e))ob(e);else{var s=Td(ka.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=s.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i=typeof r.is=="string"?s.createElement(a,{is:r.is}):s.createElement(a)}}i[At]=e,i[nn]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)i.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=i;e:switch(Ot(i,a,r),a){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Cr(e)}}return Le(e),lp(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Cr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=ka.current,Is(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,a=Ct,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}t[At]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||R2(t.nodeValue,n)),t||Qa(e,!0)}else t=Td(t).createTextNode(r),t[At]=e,e.stateNode=t}return Le(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Is(e),n!==null){if(t===null){if(!r)throw Error(z(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(557));t[At]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),t=!1}else n=Zm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(un(e),e):(un(e),null);if(e.flags&128)throw Error(z(558))}return Le(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(a=Is(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(z(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(z(317));a[At]=e}else Ki(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Le(e),a=!1}else a=Zm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),a=!0;if(!a)return e.flags&256?(un(e),e):(un(e),null)}return un(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==a&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),rh(e,e.updateQueue),Le(e),null);case 4:return vo(),t===null&&z0(e.stateNode.containerInfo),Le(e),null;case 10:return zr(e.type),Le(e),null;case 19:if(wt(tt),r=e.memoizedState,r===null)return Le(e),null;if(a=(e.flags&128)!==0,i=r.rendering,i===null)if(a)Vl(r,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=dd(t),i!==null){for(e.flags|=128,Vl(r,!1),t=i.updateQueue,e.updateQueue=t,rh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)qT(n,t),n=n.sibling;return ke(tt,tt.current&1|2),ye&&Or(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&pn()>vd&&(e.flags|=128,a=!0,Vl(r,!1),e.lanes=4194304)}else{if(!a)if(t=dd(i),t!==null){if(e.flags|=128,a=!0,t=t.updateQueue,e.updateQueue=t,rh(e,t),Vl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!i.alternate&&!ye)return Le(e),null}else 2*pn()-r.renderingStartTime>vd&&n!==536870912&&(e.flags|=128,a=!0,Vl(r,!1),e.lanes=4194304);r.isBackwards?(i.sibling=e.child,e.child=i):(t=r.last,t!==null?t.sibling=i:e.child=i,r.last=i)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=pn(),t.sibling=null,n=tt.current,ke(tt,a?n&1|2:n&1),ye&&Or(e,r.treeForkCount),t):(Le(e),null);case 22:case 23:return un(e),_0(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Le(e),e.subtreeFlags&6&&(e.flags|=8192)):Le(e),n=e.updateQueue,n!==null&&rh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&wt(Fi),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),zr(lt),Le(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function GO(t,e){switch(m0(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zr(lt),vo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return rd(e),null;case 31:if(e.memoizedState!==null){if(un(e),e.alternate===null)throw Error(z(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Ki()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(tt),null;case 4:return vo(),null;case 10:return zr(e.type),null;case 22:case 23:return un(e),_0(),t!==null&&wt(Fi),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return zr(lt),null;case 25:return null;default:return null}}function qS(t,e){switch(m0(e),e.tag){case 3:zr(lt),vo();break;case 26:case 27:case 5:rd(e);break;case 4:vo();break;case 31:e.memoizedState!==null&&un(e);break;case 13:un(e);break;case 19:wt(tt);break;case 10:zr(e.type);break;case 22:case 23:un(e),_0(),t!==null&&wt(Fi);break;case 24:zr(lt)}}function su(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var a=r.next;n=a;do{if((n.tag&t)===t){r=void 0;var i=n.create,s=n.inst;r=i(),s.destroy=r}n=n.next}while(n!==a)}}catch(o){Ne(e,e.return,o)}}function Xa(t,e,n){try{var r=e.updateQueue,a=r!==null?r.lastEffect:null;if(a!==null){var i=a.next;r=i;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,a=e;var u=n,h=o;try{h()}catch(d){Ne(a,u,d)}}}r=r.next}while(r!==i)}}catch(d){Ne(e,e.return,d)}}function HS(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{eS(e,n)}catch(r){Ne(t,t.return,r)}}}function GS(t,e,n){n.props=Zi(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ne(t,e,r)}}function mc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(a){Ne(t,e,a)}}function ur(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(a){Ne(t,e,a)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Ne(t,e,a)}else n.current=null}function YS(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(a){Ne(t,t.return,a)}}function cp(t,e,n){try{var r=t.stateNode;mj(r,t.type,n,e),r[nn]=e}catch(a){Ne(t,t.return,a)}}function WS(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&li(t.type)||t.tag===4}function up(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||WS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&li(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Mr));else if(r!==4&&(r===27&&li(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Og(t,e,n),t=t.sibling;t!==null;)Og(t,e,n),t=t.sibling}function yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&li(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(yd(t,e,n),t=t.sibling;t!==null;)yd(t,e,n),t=t.sibling}function KS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,a=e.attributes;a.length;)e.removeAttributeNode(a[0]);Ot(e,r,n),e[At]=t,e[nn]=n}catch(i){Ne(t,t.return,i)}}var jr=!1,ot=!1,hp=!1,jb=typeof WeakSet=="function"?WeakSet:Set,bt=null;function YO(t,e){if(t=t.containerInfo,Ug=Cd,t=PT(t),c0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,h=0,d=0,m=t,p=null;t:for(;;){for(var v;m!==n||a!==0&&m.nodeType!==3||(o=s+a),m!==i||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===n&&++h===a&&(o=s),p===i&&++d===r&&(u=s),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Bg={focusedElem:t,selectionRange:n},Cd=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){switch(e=bt,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)a=t[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,a=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var x=Zi(n.type,a);t=r.getSnapshotBeforeUpdate(x,i),r.__reactInternalSnapshotBeforeUpdate=t}catch(N){Ne(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Fg(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}}function QS(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ir(t,n),r&4&&su(5,n);break;case 1:if(Ir(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ne(n,n.return,s)}else{var a=Zi(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(a,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ne(n,n.return,s)}}r&64&&HS(n),r&512&&mc(n,n.return);break;case 3:if(Ir(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{eS(t,e)}catch(s){Ne(n,n.return,s)}}break;case 27:e===null&&r&4&&KS(n);case 26:case 5:Ir(t,n),e===null&&r&4&&YS(n),r&512&&mc(n,n.return);break;case 12:Ir(t,n);break;case 31:Ir(t,n),r&4&&ZS(t,n);break;case 13:Ir(t,n),r&4&&e2(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=nj.bind(null,n),wj(t,n))));break;case 22:if(r=n.memoizedState!==null||jr,!r){e=e!==null&&e.memoizedState!==null||ot,a=jr;var i=ot;jr=r,(ot=e)&&!i?Dr(t,n,(n.subtreeFlags&8772)!==0):Ir(t,n),jr=a,ot=i}break;case 30:break;default:Ir(t,n)}}function XS(t){var e=t.alternate;e!==null&&(t.alternate=null,XS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&r0(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var $e=null,Kt=!1;function Rr(t,e,n){for(n=n.child;n!==null;)JS(t,e,n),n=n.sibling}function JS(t,e,n){if(gn&&typeof gn.onCommitFiberUnmount=="function")try{gn.onCommitFiberUnmount(Zc,n)}catch{}switch(n.tag){case 26:ot||ur(n,e),Rr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||ur(n,e);var r=$e,a=Kt;li(n.type)&&($e=n.stateNode,Kt=!1),Rr(t,e,n),vc(n.stateNode),$e=r,Kt=a;break;case 5:ot||ur(n,e);case 6:if(r=$e,a=Kt,$e=null,Rr(t,e,n),$e=r,Kt=a,$e!==null)if(Kt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(n.stateNode)}catch(i){Ne(n,e,i)}else try{$e.removeChild(n.stateNode)}catch(i){Ne(n,e,i)}break;case 18:$e!==null&&(Kt?(t=$e,Gb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Co(t)):Gb($e,n.stateNode));break;case 4:r=$e,a=Kt,$e=n.stateNode.containerInfo,Kt=!0,Rr(t,e,n),$e=r,Kt=a;break;case 0:case 11:case 14:case 15:Xa(2,n,e),ot||Xa(4,n,e),Rr(t,e,n);break;case 1:ot||(ur(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&GS(n,e,r)),Rr(t,e,n);break;case 21:Rr(t,e,n);break;case 22:ot=(r=ot)||n.memoizedState!==null,Rr(t,e,n),ot=r;break;default:Rr(t,e,n)}}function ZS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Co(t)}catch(n){Ne(e,e.return,n)}}}function e2(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Co(t)}catch(n){Ne(e,e.return,n)}}function WO(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new jb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new jb),e;default:throw Error(z(435,t.tag))}}function ah(t,e){var n=WO(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var a=rj.bind(null,t,r);r.then(a,a)}})}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],i=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(li(o.type)){$e=o.stateNode,Kt=!1;break e}break;case 5:$e=o.stateNode,Kt=!1;break e;case 3:case 4:$e=o.stateNode.containerInfo,Kt=!0;break e}o=o.return}if($e===null)throw Error(z(160));JS(i,s,a),$e=null,Kt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)t2(e,t),e=e.sibling}var qn=null;function t2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Yt(e,t),Wt(t),r&4&&(Xa(3,t,t.return),su(3,t),Xa(5,t,t.return));break;case 1:Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),r&64&&jr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=qn;if(Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),r&4){var i=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,a=a.ownerDocument||a;t:switch(r){case"title":i=a.getElementsByTagName("title")[0],(!i||i[nu]||i[At]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(r),a.head.insertBefore(i,a.querySelector("head > title"))),Ot(i,r,n),i[At]=t,xt(i),r=i;break e;case"link":var s=Zb("link","href",a).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(i=s[o],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;case"meta":if(s=Zb("meta","content",a).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(i=s[o],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}i=a.createElement(r),Ot(i,r,n),a.head.appendChild(i);break;default:throw Error(z(468,r))}i[At]=t,xt(i),r=i}t.stateNode=r}else ex(a,t.type,t.stateNode);else t.stateNode=Jb(a,r,t.memoizedProps);else i!==r?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,r===null?ex(a,t.type,t.stateNode):Jb(a,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cp(t,t.memoizedProps,n.memoizedProps)}break;case 27:Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),n!==null&&r&4&&cp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Yt(e,t),Wt(t),r&512&&(ot||n===null||ur(n,n.return)),t.flags&32){a=t.stateNode;try{bo(a,"")}catch(x){Ne(t,t.return,x)}}r&4&&t.stateNode!=null&&(a=t.memoizedProps,cp(t,a,n!==null?n.memoizedProps:a)),r&1024&&(hp=!0);break;case 6:if(Yt(e,t),Wt(t),r&4){if(t.stateNode===null)throw Error(z(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(x){Ne(t,t.return,x)}}break;case 3:if(Vh=null,a=qn,qn=Sd(e.containerInfo),Yt(e,t),qn=a,Wt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Co(e.containerInfo)}catch(x){Ne(t,t.return,x)}hp&&(hp=!1,n2(t));break;case 4:r=qn,qn=Sd(t.stateNode.containerInfo),Yt(e,t),Wt(t),qn=r;break;case 12:Yt(e,t),Wt(t);break;case 31:Yt(e,t),Wt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ah(t,r)));break;case 13:Yt(e,t),Wt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bf=pn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ah(t,r)));break;case 22:a=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=jr,d=ot;if(jr=h||a,ot=d||u,Yt(e,t),ot=d,jr=h,Wt(t),r&8192)e:for(e=t.stateNode,e._visibility=a?e._visibility&-2:e._visibility|1,a&&(n===null||u||jr||ot||Mi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(i=u.stateNode,a)s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(x){Ne(u,u.return,x)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=a?"":u.memoizedProps}catch(x){Ne(u,u.return,x)}}}else if(e.tag===18){if(n===null){u=e;try{var v=u.stateNode;a?Yb(v,!0):Yb(u.stateNode,!1)}catch(x){Ne(u,u.return,x)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ah(t,n))));break;case 19:Yt(e,t),Wt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ah(t,r)));break;case 30:break;case 21:break;default:Yt(e,t),Wt(t)}}function Wt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(WS(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var a=n.stateNode,i=up(t);yd(t,i,a);break;case 5:var s=n.stateNode;n.flags&32&&(bo(s,""),n.flags&=-33);var o=up(t);yd(t,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,h=up(t);Og(t,h,u);break;default:throw Error(z(161))}}catch(d){Ne(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function n2(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;n2(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ir(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)QS(t,e.alternate,e),e=e.sibling}function Mi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Xa(4,e,e.return),Mi(e);break;case 1:ur(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&GS(e,e.return,n),Mi(e);break;case 27:vc(e.stateNode);case 26:case 5:ur(e,e.return),Mi(e);break;case 22:e.memoizedState===null&&Mi(e);break;case 30:Mi(e);break;default:Mi(e)}t=t.sibling}}function Dr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,a=t,i=e,s=i.flags;switch(i.tag){case 0:case 11:case 15:Dr(a,i,n),su(4,i);break;case 1:if(Dr(a,i,n),r=i,a=r.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(h){Ne(r,r.return,h)}if(r=i,a=r.updateQueue,a!==null){var o=r.stateNode;try{var u=a.shared.hiddenCallbacks;if(u!==null)for(a.shared.hiddenCallbacks=null,a=0;a<u.length;a++)ZT(u[a],o)}catch(h){Ne(r,r.return,h)}}n&&s&64&&HS(i),mc(i,i.return);break;case 27:KS(i);case 26:case 5:Dr(a,i,n),n&&r===null&&s&4&&YS(i),mc(i,i.return);break;case 12:Dr(a,i,n);break;case 31:Dr(a,i,n),n&&s&4&&ZS(a,i);break;case 13:Dr(a,i,n),n&&s&4&&e2(a,i);break;case 22:i.memoizedState===null&&Dr(a,i,n),mc(i,i.return);break;case 30:break;default:Dr(a,i,n)}e=e.sibling}}function M0(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&au(n))}function P0(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&au(t))}function $n(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)r2(t,e,n,r),e=e.sibling}function r2(t,e,n,r){var a=e.flags;switch(e.tag){case 0:case 11:case 15:$n(t,e,n,r),a&2048&&su(9,e);break;case 1:$n(t,e,n,r);break;case 3:$n(t,e,n,r),a&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&au(t)));break;case 12:if(a&2048){$n(t,e,n,r),t=e.stateNode;try{var i=e.memoizedProps,s=i.id,o=i.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ne(e,e.return,u)}}else $n(t,e,n,r);break;case 31:$n(t,e,n,r);break;case 13:$n(t,e,n,r);break;case 23:break;case 22:i=e.stateNode,s=e.alternate,e.memoizedState!==null?i._visibility&2?$n(t,e,n,r):pc(t,e):i._visibility&2?$n(t,e,n,r):(i._visibility|=2,Ps(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),a&2048&&M0(s,e);break;case 24:$n(t,e,n,r),a&2048&&P0(e.alternate,e);break;default:$n(t,e,n,r)}}function Ps(t,e,n,r,a){for(a=a&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,s=e,o=n,u=r,h=s.flags;switch(s.tag){case 0:case 11:case 15:Ps(i,s,o,u,a),su(8,s);break;case 23:break;case 22:var d=s.stateNode;s.memoizedState!==null?d._visibility&2?Ps(i,s,o,u,a):pc(i,s):(d._visibility|=2,Ps(i,s,o,u,a)),a&&h&2048&&M0(s.alternate,s);break;case 24:Ps(i,s,o,u,a),a&&h&2048&&P0(s.alternate,s);break;default:Ps(i,s,o,u,a)}e=e.sibling}}function pc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,a=r.flags;switch(r.tag){case 22:pc(n,r),a&2048&&M0(r.alternate,r);break;case 24:pc(n,r),a&2048&&P0(r.alternate,r);break;default:pc(n,r)}e=e.sibling}}var Ql=8192;function Ds(t,e,n){if(t.subtreeFlags&Ql)for(t=t.child;t!==null;)a2(t,e,n),t=t.sibling}function a2(t,e,n){switch(t.tag){case 26:Ds(t,e,n),t.flags&Ql&&t.memoizedState!==null&&kj(n,qn,t.memoizedState,t.memoizedProps);break;case 5:Ds(t,e,n);break;case 3:case 4:var r=qn;qn=Sd(t.stateNode.containerInfo),Ds(t,e,n),qn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ql,Ql=16777216,Ds(t,e,n),Ql=r):Ds(t,e,n));break;default:Ds(t,e,n)}}function i2(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ul(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,o2(r,t)}i2(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s2(t),t=t.sibling}function s2(t){switch(t.tag){case 0:case 11:case 15:Ul(t),t.flags&2048&&Xa(9,t,t.return);break;case 3:Ul(t);break;case 12:Ul(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Ph(t)):Ul(t);break;default:Ul(t)}}function Ph(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bt=r,o2(r,t)}i2(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Xa(8,e,e.return),Ph(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Ph(e));break;default:Ph(e)}t=t.sibling}}function o2(t,e){for(;bt!==null;){var n=bt;switch(n.tag){case 0:case 11:case 15:Xa(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:au(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bt=r;else e:for(n=t;bt!==null;){r=bt;var a=r.sibling,i=r.return;if(XS(r),r===n){bt=null;break e}if(a!==null){a.return=i,bt=a;break e}bt=i}}}var KO={getCacheForType:function(t){var e=Dt(lt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Dt(lt).controller.signal}},QO=typeof WeakMap=="function"?WeakMap:Map,xe=0,De=null,de=null,ge=0,Se=0,cn=null,Ia=!1,qo=!1,L0=!1,Qr=0,Ze=0,Ja=0,qi=0,V0=0,fn=0,To=0,gc=null,Qt=null,jg=!1,bf=0,l2=0,vd=1/0,_d=null,Va=null,mt=0,Ua=null,So=null,Fr=0,kg=0,Mg=null,c2=null,yc=0,Pg=null;function vn(){return xe&2&&ge!==0?ge&-ge:te.T!==null?B0():vT()}function u2(){if(fn===0)if(!(ge&536870912)||ye){var t=Qu;Qu<<=1,!(Qu&3932160)&&(Qu=262144),fn=t}else fn=536870912;return t=xn.current,t!==null&&(t.flags|=32),fn}function en(t,e,n){(t===De&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(No(t,0),Da(t,ge,fn,!1)),tu(t,n),(!(xe&2)||t!==De)&&(t===De&&(!(xe&2)&&(qi|=n),Ze===4&&Da(t,ge,fn,!1)),wr(t))}function h2(t,e,n){if(xe&6)throw Error(z(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||eu(t,e),a=r?ZO(t,e):dp(t,e,!0),i=r;do{if(a===0){qo&&!r&&Da(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!XO(n)){a=dp(t,e,!1),i=!1;continue}if(a===2){if(i=e,t.errorRecoveryDisabledLanes&i)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;a=gc;var u=o.current.memoizedState.isDehydrated;if(u&&(No(o,s).flags|=256),s=dp(o,s,!1),s!==2){if(L0&&!u){o.errorRecoveryDisabledLanes|=i,qi|=i,a=4;break e}i=Qt,Qt=a,i!==null&&(Qt===null?Qt=i:Qt.push.apply(Qt,i))}a=s}if(i=!1,a!==2)continue}}if(a===1){No(t,0),Da(t,e,0,!0);break}e:{switch(r=t,i=a,i){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:Da(r,e,fn,!Ia);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(a=bf+300-pn(),10<a)){if(Da(r,e,fn,!Ia),cf(r,0,!0)!==0)break e;Fr=e,r.timeoutHandle=D2(kb.bind(null,r,n,Qt,_d,jg,e,fn,qi,To,Ia,i,"Throttled",-0,0),a);break e}kb(r,n,Qt,_d,jg,e,fn,qi,To,Ia,i,null,-0,0)}}break}while(!0);wr(t)}function kb(t,e,n,r,a,i,s,o,u,h,d,m,p,v){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mr},a2(e,i,m);var x=(i&62914560)===i?bf-pn():(i&4194048)===i?l2-pn():0;if(x=Mj(m,x),x!==null){Fr=i,t.cancelPendingCommit=x(Pb.bind(null,t,e,i,n,r,a,s,o,u,d,m,null,p,v)),Da(t,i,s,!h);return}}Pb(t,e,i,n,r,a,s,o,u)}function XO(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!bn(i(),a))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Da(t,e,n,r){e&=~V0,e&=~qi,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var a=e;0<a;){var i=31-yn(a),s=1<<i;r[i]=-1,a&=~s}n!==0&&pT(t,n,e)}function xf(){return xe&6?!0:(ou(0),!1)}function U0(){if(de!==null){if(Se===0)var t=de.return;else t=de,Pr=us=null,T0(t),co=null,Dc=0,t=de;for(;t!==null;)qS(t.alternate,t),t=t.return;de=null}}function No(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,yj(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Fr=0,U0(),De=t,de=n=Br(t.current,null),ge=e,Se=0,cn=null,Ia=!1,qo=eu(t,e),L0=!1,To=fn=V0=qi=Ja=Ze=0,Qt=gc=null,jg=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var a=31-yn(r),i=1<<a;e|=t[a],r&=~i}return Qr=e,ff(),n}function d2(t,e){oe=null,te.H=jc,e===$o||e===pf?(e=db(),Se=3):e===y0?(e=db(),Se=4):Se=e===j0?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,cn=e,de===null&&(Ze=1,pd(t,Rn(e,t.current)))}function f2(){var t=xn.current;return t===null?!0:(ge&4194048)===ge?kn===null:(ge&62914560)===ge||ge&536870912?t===kn:!1}function m2(){var t=te.H;return te.H=jc,t===null?jc:t}function p2(){var t=te.A;return te.A=KO,t}function bd(){Ze=4,Ia||(ge&4194048)!==ge&&xn.current!==null||(qo=!0),!(Ja&134217727)&&!(qi&134217727)||De===null||Da(De,ge,fn,!1)}function dp(t,e,n){var r=xe;xe|=2;var a=m2(),i=p2();(De!==t||ge!==e)&&(_d=null,No(t,e)),e=!1;var s=Ze;e:do try{if(Se!==0&&de!==null){var o=de,u=cn;switch(Se){case 8:U0(),s=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(e=!0);var h=Se;if(Se=0,cn=null,eo(t,o,u,h),n&&qo){s=0;break e}break;default:h=Se,Se=0,cn=null,eo(t,o,u,h)}}JO(),s=Ze;break}catch(d){d2(t,d)}while(!0);return e&&t.shellSuspendCounter++,Pr=us=null,xe=r,te.H=a,te.A=i,de===null&&(De=null,ge=0,ff()),s}function JO(){for(;de!==null;)g2(de)}function ZO(t,e){var n=xe;xe|=2;var r=m2(),a=p2();De!==t||ge!==e?(_d=null,vd=pn()+500,No(t,e)):qo=eu(t,e);e:do try{if(Se!==0&&de!==null){e=de;var i=cn;t:switch(Se){case 1:Se=0,cn=null,eo(t,e,i,1);break;case 2:case 9:if(hb(i)){Se=0,cn=null,Mb(e);break}e=function(){Se!==2&&Se!==9||De!==t||(Se=7),wr(t)},i.then(e,e);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:hb(i)?(Se=0,cn=null,Mb(e)):(Se=0,cn=null,eo(t,e,i,7));break;case 5:var s=null;switch(de.tag){case 26:s=de.memoizedState;case 5:case 27:var o=de;if(s?P2(s):o.stateNode.complete){Se=0,cn=null;var u=o.sibling;if(u!==null)de=u;else{var h=o.return;h!==null?(de=h,wf(h)):de=null}break t}}Se=0,cn=null,eo(t,e,i,5);break;case 6:Se=0,cn=null,eo(t,e,i,6);break;case 8:U0(),Ze=6;break e;default:throw Error(z(462))}}ej();break}catch(d){d2(t,d)}while(!0);return Pr=us=null,te.H=r,te.A=a,xe=n,de!==null?0:(De=null,ge=0,ff(),Ze)}function ej(){for(;de!==null&&!ED();)g2(de)}function g2(t){var e=$S(t.alternate,t,Qr);t.memoizedProps=t.pendingProps,e===null?wf(t):de=e}function Mb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Cb(n,e,e.pendingProps,e.type,void 0,ge);break;case 11:e=Cb(n,e,e.pendingProps,e.type.render,e.ref,ge);break;case 5:T0(e);default:qS(n,e),e=de=qT(e,Qr),e=$S(n,e,Qr)}t.memoizedProps=t.pendingProps,e===null?wf(t):de=e}function eo(t,e,n,r){Pr=us=null,T0(e),co=null,Dc=0;var a=e.return;try{if(FO(t,a,e,n,ge)){Ze=1,pd(t,Rn(n,t.current)),de=null;return}}catch(i){if(a!==null)throw de=a,i;Ze=1,pd(t,Rn(n,t.current)),de=null;return}e.flags&32768?(ye||r===1?t=!0:qo||ge&536870912?t=!1:(Ia=t=!0,(r===2||r===9||r===3||r===6)&&(r=xn.current,r!==null&&r.tag===13&&(r.flags|=16384))),y2(e,t)):wf(e)}function wf(t){var e=t;do{if(e.flags&32768){y2(e,Ia);return}t=e.return;var n=HO(e.alternate,e,Qr);if(n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);Ze===0&&(Ze=5)}function y2(t,e){do{var n=GO(t.alternate,t);if(n!==null){n.flags&=32767,de=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){de=t;return}de=t=n}while(t!==null);Ze=6,de=null}function Pb(t,e,n,r,a,i,s,o,u){t.cancelPendingCommit=null;do Ef();while(mt!==0);if(xe&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(i=e.lanes|e.childLanes,i|=u0,jD(t,n,i,s,o,u),t===De&&(de=De=null,ge=0),So=e,Ua=t,Fr=n,kg=i,Mg=a,c2=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,aj(ad,function(){return w2(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=te.T,te.T=null,a=we.p,we.p=2,s=xe,xe|=4;try{YO(t,e,n)}finally{xe=s,we.p=a,te.T=r}}mt=1,v2(),_2(),b2()}}function v2(){if(mt===1){mt=0;var t=Ua,e=So,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=te.T,te.T=null;var r=we.p;we.p=2;var a=xe;xe|=4;try{t2(e,t);var i=Bg,s=PT(t.containerInfo),o=i.focusedElem,u=i.selectionRange;if(s!==o&&o&&o.ownerDocument&&MT(o.ownerDocument.documentElement,o)){if(u!==null&&c0(o)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(d,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var v=p.getSelection(),x=o.textContent.length,N=Math.min(u.start,x),A=u.end===void 0?N:Math.min(u.end,x);!v.extend&&N>A&&(s=A,A=N,N=s);var y=ab(o,N),_=ab(o,A);if(y&&_&&(v.rangeCount!==1||v.anchorNode!==y.node||v.anchorOffset!==y.offset||v.focusNode!==_.node||v.focusOffset!==_.offset)){var w=m.createRange();w.setStart(y.node,y.offset),v.removeAllRanges(),N>A?(v.addRange(w),v.extend(_.node,_.offset)):(w.setEnd(_.node,_.offset),v.addRange(w))}}}}for(m=[],v=o;v=v.parentNode;)v.nodeType===1&&m.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var D=m[o];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}Cd=!!Ug,Bg=Ug=null}finally{xe=a,we.p=r,te.T=n}}t.current=e,mt=2}}function _2(){if(mt===2){mt=0;var t=Ua,e=So,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=te.T,te.T=null;var r=we.p;we.p=2;var a=xe;xe|=4;try{QS(t,e.alternate,e)}finally{xe=a,we.p=r,te.T=n}}mt=3}}function b2(){if(mt===4||mt===3){mt=0,TD();var t=Ua,e=So,n=Fr,r=c2;e.subtreeFlags&10256||e.flags&10256?mt=5:(mt=0,So=Ua=null,x2(t,t.pendingLanes));var a=t.pendingLanes;if(a===0&&(Va=null),n0(n),e=e.stateNode,gn&&typeof gn.onCommitFiberRoot=="function")try{gn.onCommitFiberRoot(Zc,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=te.T,a=we.p,we.p=2,te.T=null;try{for(var i=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];i(o.value,{componentStack:o.stack})}}finally{te.T=e,we.p=a}}Fr&3&&Ef(),wr(t),a=t.pendingLanes,n&261930&&a&42?t===Pg?yc++:(yc=0,Pg=t):yc=0,ou(0)}}function x2(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,au(e)))}function Ef(){return v2(),_2(),b2(),w2()}function w2(){if(mt!==5)return!1;var t=Ua,e=kg;kg=0;var n=n0(Fr),r=te.T,a=we.p;try{we.p=32>n?32:n,te.T=null,n=Mg,Mg=null;var i=Ua,s=Fr;if(mt=0,So=Ua=null,Fr=0,xe&6)throw Error(z(331));var o=xe;if(xe|=4,s2(i.current),r2(i,i.current,s,n),xe=o,ou(0,!1),gn&&typeof gn.onPostCommitFiberRoot=="function")try{gn.onPostCommitFiberRoot(Zc,i)}catch{}return!0}finally{we.p=a,te.T=r,x2(t,e)}}function Lb(t,e,n){e=Rn(n,e),e=Rg(t.stateNode,e,2),t=La(t,e,2),t!==null&&(tu(t,2),wr(t))}function Ne(t,e,n){if(t.tag===3)Lb(t,t,n);else for(;e!==null;){if(e.tag===3){Lb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Va===null||!Va.has(r))){t=Rn(n,t),n=LS(2),r=La(e,n,2),r!==null&&(VS(n,r,e,t),tu(r,2),wr(r));break}}e=e.return}}function fp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QO;var a=new Set;r.set(e,a)}else a=r.get(e),a===void 0&&(a=new Set,r.set(e,a));a.has(n)||(L0=!0,a.add(n),t=tj.bind(null,t,e,n),e.then(t,t))}function tj(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,De===t&&(ge&n)===n&&(Ze===4||Ze===3&&(ge&62914560)===ge&&300>pn()-bf?!(xe&2)&&No(t,0):V0|=n,To===ge&&(To=0)),wr(t)}function E2(t,e){e===0&&(e=mT()),t=cs(t,e),t!==null&&(tu(t,e),wr(t))}function nj(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),E2(t,n)}function rj(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,a=t.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(e),E2(t,n)}function aj(t,e){return e0(t,e)}var xd=null,Ls=null,Lg=!1,wd=!1,mp=!1,Oa=0;function wr(t){t!==Ls&&t.next===null&&(Ls===null?xd=Ls=t:Ls=Ls.next=t),wd=!0,Lg||(Lg=!0,sj())}function ou(t,e){if(!mp&&wd){mp=!0;do for(var n=!1,r=xd;r!==null;){if(t!==0){var a=r.pendingLanes;if(a===0)var i=0;else{var s=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-yn(42|t)+1)-1,i&=a&~(s&~o),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,Vb(r,i))}else i=ge,i=cf(r,r===De?i:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(i&3)||eu(r,i)||(n=!0,Vb(r,i));r=r.next}while(n);mp=!1}}function ij(){T2()}function T2(){wd=Lg=!1;var t=0;Oa!==0&&gj()&&(t=Oa);for(var e=pn(),n=null,r=xd;r!==null;){var a=r.next,i=S2(r,e);i===0?(r.next=null,n===null?xd=a:n.next=a,a===null&&(Ls=n)):(n=r,(t!==0||i&3)&&(wd=!0)),r=a}mt!==0&&mt!==5||ou(t),Oa!==0&&(Oa=0)}function S2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,a=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var s=31-yn(i),o=1<<s,u=a[s];u===-1?(!(o&n)||o&r)&&(a[s]=OD(o,e)):u<=e&&(t.expiredLanes|=o),i&=~o}if(e=De,n=ge,n=cf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Fm(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||eu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Fm(r),n0(n)){case 2:case 8:n=dT;break;case 32:n=ad;break;case 268435456:n=fT;break;default:n=ad}return r=N2.bind(null,t),n=e0(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Fm(r),t.callbackPriority=2,t.callbackNode=null,2}function N2(t,e){if(mt!==0&&mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ef()&&t.callbackNode!==n)return null;var r=ge;return r=cf(t,t===De?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(h2(t,r,e),S2(t,pn()),t.callbackNode!=null&&t.callbackNode===n?N2.bind(null,t):null)}function Vb(t,e){if(Ef())return null;h2(t,e,!0)}function sj(){vj(function(){xe&6?e0(hT,ij):T2()})}function B0(){if(Oa===0){var t=xo;t===0&&(t=Ku,Ku<<=1,!(Ku&261888)&&(Ku=256)),Oa=t}return Oa}function Ub(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ah(""+t)}function Bb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function oj(t,e,n,r,a){if(e==="submit"&&n&&n.stateNode===a){var i=Ub((a[nn]||null).action),s=r.submitter;s&&(e=(e=s[nn]||null)?Ub(e.formAction):s.getAttribute("formAction"),e!==null&&(i=e,s=null));var o=new uf("action","action",null,r,a);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Oa!==0){var u=s?Bb(a,s):new FormData(a);Ag(n,{pending:!0,data:u,method:a.method,action:i},null,u)}}else typeof i=="function"&&(o.preventDefault(),u=s?Bb(a,s):new FormData(a),Ag(n,{pending:!0,data:u,method:a.method,action:i},i,u))},currentTarget:a}]})}}for(var pp=0;pp<pg.length;pp++){var gp=pg[pp],lj=gp.toLowerCase(),cj=gp[0].toUpperCase()+gp.slice(1);Jn(lj,"on"+cj)}Jn(VT,"onAnimationEnd");Jn(UT,"onAnimationIteration");Jn(BT,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(SO,"onTransitionRun");Jn(NO,"onTransitionStart");Jn(AO,"onTransitionCancel");Jn(zT,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kc));function A2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],a=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,h=o.currentTarget;if(o=o.listener,u!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=h;try{i(a)}catch(d){sd(d)}a.currentTarget=null,i=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,h=o.currentTarget,o=o.listener,u!==i&&a.isPropagationStopped())break e;i=o,a.currentTarget=h;try{i(a)}catch(d){sd(d)}a.currentTarget=null,i=u}}}}function he(t,e){var n=e[og];n===void 0&&(n=e[og]=new Set);var r=t+"__bubble";n.has(r)||(C2(e,t,2,!1),n.add(r))}function yp(t,e,n){var r=0;e&&(r|=4),C2(n,t,r,e)}var ih="_reactListening"+Math.random().toString(36).slice(2);function z0(t){if(!t[ih]){t[ih]=!0,_T.forEach(function(n){n!=="selectionchange"&&(uj.has(n)||yp(n,!1,t),yp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ih]||(e[ih]=!0,yp("selectionchange",!1,e))}}function C2(t,e,n,r){switch(z2(e)){case 2:var a=Vj;break;case 8:a=Uj;break;default:a=H0}n=a.bind(null,e,n,t),a=void 0,!dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(a=!0),r?a!==void 0?t.addEventListener(e,n,{capture:!0,passive:a}):t.addEventListener(e,n,!0):a!==void 0?t.addEventListener(e,n,{passive:a}):t.addEventListener(e,n,!1)}function vp(t,e,n,r,a){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===a)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===a)return;s=s.return}for(;o!==null;){if(s=Hs(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=i=s;continue e}o=o.parentNode}}r=r.return}AT(function(){var h=i,d=i0(n),m=[];e:{var p=FT.get(t);if(p!==void 0){var v=uf,x=t;switch(t){case"keypress":if(Rh(n)===0)break e;case"keydown":case"keyup":v=rO;break;case"focusin":x="focus",v=Ym;break;case"focusout":x="blur",v=Ym;break;case"beforeblur":case"afterblur":v=Ym;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=W1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=HD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=sO;break;case VT:case UT:case BT:v=WD;break;case zT:v=lO;break;case"scroll":case"scrollend":v=$D;break;case"wheel":v=uO;break;case"copy":case"cut":case"paste":v=QD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Q1;break;case"toggle":case"beforetoggle":v=dO}var N=(e&4)!==0,A=!N&&(t==="scroll"||t==="scrollend"),y=N?p!==null?p+"Capture":null:p;N=[];for(var _=h,w;_!==null;){var D=_;if(w=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||w===null||y===null||(D=Nc(_,y),D!=null&&N.push(Mc(_,D,w))),A)break;_=_.return}0<N.length&&(p=new v(p,x,null,n,d),m.push({event:p,listeners:N}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==hg&&(x=n.relatedTarget||n.fromElement)&&(Hs(x)||x[Bo]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=h,x=x?Hs(x):null,x!==null&&(A=Jc(x),N=x.tag,x!==A||N!==5&&N!==27&&N!==6)&&(x=null)):(v=null,x=h),v!==x)){if(N=W1,D="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(N=Q1,D="onPointerLeave",y="onPointerEnter",_="pointer"),A=v==null?p:Wl(v),w=x==null?p:Wl(x),p=new N(D,_+"leave",v,n,d),p.target=A,p.relatedTarget=w,D=null,Hs(d)===h&&(N=new N(y,_+"enter",x,n,d),N.target=w,N.relatedTarget=A,D=N),A=D,v&&x)t:{for(N=hj,y=v,_=x,w=0,D=y;D;D=N(D))w++;D=0;for(var V=_;V;V=N(V))D++;for(;0<w-D;)y=N(y),w--;for(;0<D-w;)_=N(_),D--;for(;w--;){if(y===_||_!==null&&y===_.alternate){N=y;break t}y=N(y),_=N(_)}N=null}else N=null;v!==null&&zb(m,p,v,N,!1),x!==null&&A!==null&&zb(m,A,x,N,!0)}}e:{if(p=h?Wl(h):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var q=eb;else if(Z1(p))if(jT)q=wO;else{q=bO;var S=_O}else v=p.nodeName,!v||v.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?h&&a0(h.elementType)&&(q=eb):q=xO;if(q&&(q=q(t,h))){OT(m,q,n,d);break e}S&&S(t,p,h),t==="focusout"&&h&&p.type==="number"&&h.memoizedProps.value!=null&&ug(p,"number",p.value)}switch(S=h?Wl(h):window,t){case"focusin":(Z1(S)||S.contentEditable==="true")&&(Ws=S,fg=h,lc=null);break;case"focusout":lc=fg=Ws=null;break;case"mousedown":mg=!0;break;case"contextmenu":case"mouseup":case"dragend":mg=!1,ib(m,n,d);break;case"selectionchange":if(TO)break;case"keydown":case"keyup":ib(m,n,d)}var T;if(l0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ys?IT(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(RT&&n.locale!=="ko"&&(Ys||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ys&&(T=CT()):(Ra=d,s0="value"in Ra?Ra.value:Ra.textContent,Ys=!0)),S=Ed(h,b),0<S.length&&(b=new K1(b,t,null,n,d),m.push({event:b,listeners:S}),T?b.data=T:(T=DT(n),T!==null&&(b.data=T)))),(T=mO?pO(t,n):gO(t,n))&&(b=Ed(h,"onBeforeInput"),0<b.length&&(S=new K1("onBeforeInput","beforeinput",null,n,d),m.push({event:S,listeners:b}),S.data=T)),oj(m,t,h,n,d)}A2(m,e)})}function Mc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var a=t,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=Nc(t,n),a!=null&&r.unshift(Mc(t,a,i)),a=Nc(t,e),a!=null&&r.push(Mc(t,a,i))),t.tag===3)return r;t=t.return}return[]}function hj(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zb(t,e,n,r,a){for(var i=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,h=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||h===null||(u=h,a?(h=Nc(n,i),h!=null&&s.unshift(Mc(n,h,u))):a||(h=Nc(n,i),h!=null&&s.push(Mc(n,h,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dj=/\r\n?/g,fj=/\u0000|\uFFFD/g;function Fb(t){return(typeof t=="string"?t:""+t).replace(dj,`
`).replace(fj,"")}function R2(t,e){return e=Fb(e),Fb(t)===e}function Ce(t,e,n,r,a,i){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||bo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&bo(t,""+r);break;case"className":Ju(t,"class",r);break;case"tabIndex":Ju(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Ju(t,n,r);break;case"style":NT(t,r,i);break;case"data":if(e!=="object"){Ju(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Ah(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&Ce(t,e,"name",a.name,a,null),Ce(t,e,"formEncType",a.formEncType,a,null),Ce(t,e,"formMethod",a.formMethod,a,null),Ce(t,e,"formTarget",a.formTarget,a,null)):(Ce(t,e,"encType",a.encType,a,null),Ce(t,e,"method",a.method,a,null),Ce(t,e,"target",a.target,a,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Ah(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Mr);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Ah(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":he("beforetoggle",t),he("toggle",t),Nh(t,"popover",r);break;case"xlinkActuate":Ar(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ar(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ar(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ar(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ar(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ar(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ar(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ar(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ar(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Nh(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zD.get(n)||n,Nh(t,n,r))}}function Vg(t,e,n,r,a,i){switch(n){case"style":NT(t,r,i);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof r=="string"?bo(t,r):(typeof r=="number"||typeof r=="bigint")&&bo(t,""+r);break;case"onScroll":r!=null&&he("scroll",t);break;case"onScrollEnd":r!=null&&he("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),e=n.slice(2,a?n.length-7:void 0),i=t[nn]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,a),typeof r=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,a);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Nh(t,n,r)}}}function Ot(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",t),he("load",t);var r=!1,a=!1,i;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(s!=null)switch(i){case"src":r=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Ce(t,e,i,s,n,null)}}a&&Ce(t,e,"srcSet",n.srcSet,n,null),r&&Ce(t,e,"src",n.src,n,null);return;case"input":he("invalid",t);var o=i=s=a=null,u=null,h=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":i=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(z(137,e));break;default:Ce(t,e,r,d,n,null)}}ET(t,i,o,u,h,s,a,!1);return;case"select":he("invalid",t),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ce(t,e,a,o,n,null)}e=i,n=s,t.multiple=!!r,e!=null?so(t,!!r,e,!1):n!=null&&so(t,!!r,n,!0);return;case"textarea":he("invalid",t),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":a=o;break;case"children":i=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:Ce(t,e,s,o,n,null)}ST(t,r,a,i);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ce(t,e,u,r,n,null)}return;case"dialog":he("beforetoggle",t),he("toggle",t),he("cancel",t),he("close",t);break;case"iframe":case"object":he("load",t);break;case"video":case"audio":for(r=0;r<kc.length;r++)he(kc[r],t);break;case"image":he("error",t),he("load",t);break;case"details":he("toggle",t);break;case"embed":case"source":case"link":he("error",t),he("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(r=n[h],r!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:Ce(t,e,h,r,n,null)}return;default:if(a0(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Vg(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ce(t,e,o,r,n,null))}function mj(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,s=null,o=null,u=null,h=null,d=null;for(v in n){var m=n[v];if(n.hasOwnProperty(v)&&m!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(v)||Ce(t,e,v,null,r,m)}}for(var p in r){var v=r[p];if(m=n[p],r.hasOwnProperty(p)&&(v!=null||m!=null))switch(p){case"type":i=v;break;case"name":a=v;break;case"checked":h=v;break;case"defaultChecked":d=v;break;case"value":s=v;break;case"defaultValue":o=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(z(137,e));break;default:v!==m&&Ce(t,e,p,v,r,m)}}cg(t,s,o,u,h,d,i,a);return;case"select":v=s=o=p=null;for(i in n)if(u=n[i],n.hasOwnProperty(i)&&u!=null)switch(i){case"value":break;case"multiple":v=u;default:r.hasOwnProperty(i)||Ce(t,e,i,null,r,u)}for(a in r)if(i=r[a],u=n[a],r.hasOwnProperty(a)&&(i!=null||u!=null))switch(a){case"value":p=i;break;case"defaultValue":o=i;break;case"multiple":s=i;default:i!==u&&Ce(t,e,a,i,r,u)}e=o,n=s,r=v,p!=null?so(t,!!n,p,!1):!!r!=!!n&&(e!=null?so(t,!!n,e,!0):so(t,!!n,n?[]:"",!1));return;case"textarea":v=p=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ce(t,e,o,null,r,a)}for(s in r)if(a=r[s],i=n[s],r.hasOwnProperty(s)&&(a!=null||i!=null))switch(s){case"value":p=a;break;case"defaultValue":v=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(z(91));break;default:a!==i&&Ce(t,e,s,a,r,i)}TT(t,p,v);return;case"option":for(var x in n)if(p=n[x],n.hasOwnProperty(x)&&p!=null&&!r.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:Ce(t,e,x,null,r,p)}for(u in r)if(p=r[u],v=n[u],r.hasOwnProperty(u)&&p!==v&&(p!=null||v!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ce(t,e,u,p,r,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)p=n[N],n.hasOwnProperty(N)&&p!=null&&!r.hasOwnProperty(N)&&Ce(t,e,N,null,r,p);for(h in r)if(p=r[h],v=n[h],r.hasOwnProperty(h)&&p!==v&&(p!=null||v!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,e));break;default:Ce(t,e,h,p,r,v)}return;default:if(a0(e)){for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!==void 0&&!r.hasOwnProperty(A)&&Vg(t,e,A,void 0,r,p);for(d in r)p=r[d],v=n[d],!r.hasOwnProperty(d)||p===v||p===void 0&&v===void 0||Vg(t,e,d,p,r,v);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y)&&Ce(t,e,y,null,r,p);for(m in r)p=r[m],v=n[m],!r.hasOwnProperty(m)||p===v||p==null&&v==null||Ce(t,e,m,p,r,v)}function $b(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pj(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var a=n[r],i=a.transferSize,s=a.initiatorType,o=a.duration;if(i&&o&&$b(s)){for(s=0,o=a.responseEnd,r+=1;r<n.length;r++){var u=n[r],h=u.startTime;if(h>o)break;var d=u.transferSize,m=u.initiatorType;d&&$b(m)&&(u=u.responseEnd,s+=d*(u<o?1:(o-h)/(u-h)))}if(--r,e+=8*(i+s)/(a.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ug=null,Bg=null;function Td(t){return t.nodeType===9?t:t.ownerDocument}function qb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I2(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function zg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _p=null;function gj(){var t=window.event;return t&&t.type==="popstate"?t===_p?!1:(_p=t,!0):(_p=null,!1)}var D2=typeof setTimeout=="function"?setTimeout:void 0,yj=typeof clearTimeout=="function"?clearTimeout:void 0,Hb=typeof Promise=="function"?Promise:void 0,vj=typeof queueMicrotask=="function"?queueMicrotask:typeof Hb<"u"?function(t){return Hb.resolve(null).then(t).catch(_j)}:D2;function _j(t){setTimeout(function(){throw t})}function li(t){return t==="head"}function Gb(t,e){var n=e,r=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(a),Co(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")vc(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,vc(n);for(var i=n.firstChild;i;){var s=i.nextSibling,o=i.nodeName;i[nu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=s}}else n==="body"&&vc(t.ownerDocument.body);n=a}while(n);Co(e)}function Yb(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Fg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Fg(n),r0(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function bj(t,e,n,r){for(;t.nodeType===1;){var a=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[nu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==a.rel||t.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||t.getAttribute("title")!==(a.title==null?null:a.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(a.src==null?null:a.src)||t.getAttribute("type")!==(a.type==null?null:a.type)||t.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function xj(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function O2(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Mn(t.nextSibling),t===null))return null;return t}function $g(t){return t.data==="$?"||t.data==="$~"}function qg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function wj(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Hg=null;function Wb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Mn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Kb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function j2(t,e,n){switch(e=Td(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function vc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);r0(t)}var Ln=new Map,Qb=new Set;function Sd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ra=we.d;we.d={f:Ej,r:Tj,D:Sj,C:Nj,L:Aj,m:Cj,X:Ij,S:Rj,M:Dj};function Ej(){var t=ra.f(),e=xf();return t||e}function Tj(t){var e=zo(t);e!==null&&e.tag===5&&e.type==="form"?NS(e):ra.r(t)}var Ho=typeof document>"u"?null:document;function k2(t,e,n){var r=Ho;if(r&&typeof e=="string"&&e){var a=Cn(e);a='link[rel="'+t+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),Qb.has(a)||(Qb.add(a),t={rel:t,crossOrigin:n,href:e},r.querySelector(a)===null&&(e=r.createElement("link"),Ot(e,"link",t),xt(e),r.head.appendChild(e)))}}function Sj(t){ra.D(t),k2("dns-prefetch",t,null)}function Nj(t,e){ra.C(t,e),k2("preconnect",t,e)}function Aj(t,e,n){ra.L(t,e,n);var r=Ho;if(r&&t&&e){var a='link[rel="preload"][as="'+Cn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+Cn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+Cn(n.imageSizes)+'"]')):a+='[href="'+Cn(t)+'"]';var i=a;switch(e){case"style":i=Ao(t);break;case"script":i=Go(t)}Ln.has(i)||(t=Be({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Ln.set(i,t),r.querySelector(a)!==null||e==="style"&&r.querySelector(lu(i))||e==="script"&&r.querySelector(cu(i))||(e=r.createElement("link"),Ot(e,"link",t),xt(e),r.head.appendChild(e)))}}function Cj(t,e){ra.m(t,e);var n=Ho;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",a='link[rel="modulepreload"][as="'+Cn(r)+'"][href="'+Cn(t)+'"]',i=a;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Go(t)}if(!Ln.has(i)&&(t=Be({rel:"modulepreload",href:t},e),Ln.set(i,t),n.querySelector(a)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cu(i)))return}r=n.createElement("link"),Ot(r,"link",t),xt(r),n.head.appendChild(r)}}}function Rj(t,e,n){ra.S(t,e,n);var r=Ho;if(r&&t){var a=io(r).hoistableStyles,i=Ao(t);e=e||"default";var s=a.get(i);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(lu(i)))o.loading=5;else{t=Be({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Ln.get(i))&&F0(t,n);var u=s=r.createElement("link");xt(u),Ot(u,"link",t),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Lh(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},a.set(i,s)}}}function Ij(t,e){ra.X(t,e);var n=Ho;if(n&&t){var r=io(n).hoistableScripts,a=Go(t),i=r.get(a);i||(i=n.querySelector(cu(a)),i||(t=Be({src:t,async:!0},e),(e=Ln.get(a))&&$0(t,e),i=n.createElement("script"),xt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function Dj(t,e){ra.M(t,e);var n=Ho;if(n&&t){var r=io(n).hoistableScripts,a=Go(t),i=r.get(a);i||(i=n.querySelector(cu(a)),i||(t=Be({src:t,async:!0,type:"module"},e),(e=Ln.get(a))&&$0(t,e),i=n.createElement("script"),xt(i),Ot(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(a,i))}}function Xb(t,e,n,r){var a=(a=ka.current)?Sd(a):null;if(!a)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Ao(n.href),n=io(a).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Ao(n.href);var i=io(a).hoistableStyles,s=i.get(t);if(s||(a=a.ownerDocument||a,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,s),(i=a.querySelector(lu(t)))&&!i._p&&(s.instance=i,s.state.loading=5),Ln.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ln.set(t,n),i||Oj(a,t,n,s.state))),e&&r===null)throw Error(z(528,""));return s}if(e&&r!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Go(n),n=io(a).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function Ao(t){return'href="'+Cn(t)+'"'}function lu(t){return'link[rel="stylesheet"]['+t+"]"}function M2(t){return Be({},t,{"data-precedence":t.precedence,precedence:null})}function Oj(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ot(e,"link",n),xt(e),t.head.appendChild(e))}function Go(t){return'[src="'+Cn(t)+'"]'}function cu(t){return"script[async]"+t}function Jb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Cn(n.href)+'"]');if(r)return e.instance=r,xt(r),r;var a=Be({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),xt(r),Ot(r,"style",a),Lh(r,n.precedence,t),e.instance=r;case"stylesheet":a=Ao(n.href);var i=t.querySelector(lu(a));if(i)return e.state.loading|=4,e.instance=i,xt(i),i;r=M2(n),(a=Ln.get(a))&&F0(r,a),i=(t.ownerDocument||t).createElement("link"),xt(i);var s=i;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ot(i,"link",r),e.state.loading|=4,Lh(i,n.precedence,t),e.instance=i;case"script":return i=Go(n.src),(a=t.querySelector(cu(i)))?(e.instance=a,xt(a),a):(r=n,(a=Ln.get(i))&&(r=Be({},n),$0(r,a)),t=t.ownerDocument||t,a=t.createElement("script"),xt(a),Ot(a,"link",r),t.head.appendChild(a),e.instance=a);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Lh(r,n.precedence,t));return e.instance}function Lh(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=r.length?r[r.length-1]:null,i=a,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)i=o;else if(i!==a)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function F0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function $0(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Vh=null;function Zb(t,e,n){if(Vh===null){var r=new Map,a=Vh=new Map;a.set(n,r)}else a=Vh,r=a.get(n),r||(r=new Map,a.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),a=0;a<n.length;a++){var i=n[a];if(!(i[nu]||i[At]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var s=i.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(i):r.set(s,[i])}}return r}function ex(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function jj(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function P2(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function kj(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var a=Ao(r.href),i=e.querySelector(lu(a));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Nd.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,xt(i);return}i=e.ownerDocument||e,r=M2(r),(a=Ln.get(a))&&F0(r,a),i=i.createElement("link"),xt(i);var s=i;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Ot(i,"link",r),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Nd.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var bp=0;function Mj(t,e){return t.stylesheets&&t.count===0&&Uh(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Uh(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&bp===0&&(bp=62500*pj());var a=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uh(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>bp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(a)}}:null}function Nd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ad=null;function Uh(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ad=new Map,e.forEach(Pj,t),Ad=null,Nd.call(t))}function Pj(t,e){if(!(e.state.loading&4)){var n=Ad.get(t);if(n)var r=n.get(null);else{n=new Map,Ad.set(t,n);for(var a=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var s=a[i];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}a=e.instance,s=a.getAttribute("data-precedence"),i=n.get(s)||r,i===r&&n.set(null,a),n.set(s,a),this.count++,r=Nd.bind(this),a.addEventListener("load",r),a.addEventListener("error",r),i?i.parentNode.insertBefore(a,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(a,t.firstChild)),e.state.loading|=4}}var Pc={$$typeof:kr,Provider:null,Consumer:null,_currentValue:Bi,_currentValue2:Bi,_threadCount:0};function Lj(t,e,n,r,a,i,s,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$m(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$m(0),this.hiddenUpdates=$m(null),this.identifierPrefix=r,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function L2(t,e,n,r,a,i,s,o,u,h,d,m){return t=new Lj(t,e,n,s,u,h,d,m,o),e=1,i===!0&&(e|=24),i=hn(3,null,null,e),t.current=i,i.stateNode=t,e=p0(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:e},v0(i),t}function V2(t){return t?(t=Xs,t):Xs}function U2(t,e,n,r,a,i){a=V2(a),r.context===null?r.context=a:r.pendingContext=a,r=Pa(e),r.payload={element:n},i=i===void 0?null:i,i!==null&&(r.callback=i),n=La(t,r,e),n!==null&&(en(n,t,e),uc(n,t,e))}function tx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q0(t,e){tx(t,e),(t=t.alternate)&&tx(t,e)}function B2(t){if(t.tag===13||t.tag===31){var e=cs(t,67108864);e!==null&&en(e,t,67108864),q0(t,67108864)}}function nx(t){if(t.tag===13||t.tag===31){var e=vn();e=t0(e);var n=cs(t,e);n!==null&&en(n,t,e),q0(t,e)}}var Cd=!0;function Vj(t,e,n,r){var a=te.T;te.T=null;var i=we.p;try{we.p=2,H0(t,e,n,r)}finally{we.p=i,te.T=a}}function Uj(t,e,n,r){var a=te.T;te.T=null;var i=we.p;try{we.p=8,H0(t,e,n,r)}finally{we.p=i,te.T=a}}function H0(t,e,n,r){if(Cd){var a=Gg(r);if(a===null)vp(t,e,r,Rd,n),rx(t,r);else if(zj(a,t,e,n,r))r.stopPropagation();else if(rx(t,r),e&4&&-1<Bj.indexOf(t)){for(;a!==null;){var i=zo(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var s=ji(i.pendingLanes);if(s!==0){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-yn(s);o.entanglements[1]|=u,s&=~u}wr(i),!(xe&6)&&(vd=pn()+500,ou(0))}}break;case 31:case 13:o=cs(i,2),o!==null&&en(o,i,2),xf(),q0(i,2)}if(i=Gg(r),i===null&&vp(t,e,r,Rd,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else vp(t,e,r,null,n)}}function Gg(t){return t=i0(t),G0(t)}var Rd=null;function G0(t){if(Rd=null,t=Hs(t),t!==null){var e=Jc(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=sT(e),t!==null)return t;t=null}else if(n===31){if(t=oT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Rd=t,null}function z2(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(SD()){case hT:return 2;case dT:return 8;case ad:case ND:return 32;case fT:return 268435456;default:return 32}default:return 32}}var Yg=!1,Ba=null,za=null,Fa=null,Lc=new Map,Vc=new Map,Ea=[],Bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rx(t,e){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":Lc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vc.delete(e.pointerId)}}function Bl(t,e,n,r,a,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},e!==null&&(e=zo(e),e!==null&&B2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,a!==null&&e.indexOf(a)===-1&&e.push(a),t)}function zj(t,e,n,r,a){switch(e){case"focusin":return Ba=Bl(Ba,t,e,n,r,a),!0;case"dragenter":return za=Bl(za,t,e,n,r,a),!0;case"mouseover":return Fa=Bl(Fa,t,e,n,r,a),!0;case"pointerover":var i=a.pointerId;return Lc.set(i,Bl(Lc.get(i)||null,t,e,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Vc.set(i,Bl(Vc.get(i)||null,t,e,n,r,a)),!0}return!1}function F2(t){var e=Hs(t.target);if(e!==null){var n=Jc(e);if(n!==null){if(e=n.tag,e===13){if(e=sT(n),e!==null){t.blockedOn=e,z1(t.priority,function(){nx(n)});return}}else if(e===31){if(e=oT(n),e!==null){t.blockedOn=e,z1(t.priority,function(){nx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gg(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hg=r,n.target.dispatchEvent(r),hg=null}else return e=zo(n),e!==null&&B2(e),t.blockedOn=n,!1;e.shift()}return!0}function ax(t,e,n){Bh(t)&&n.delete(e)}function Fj(){Yg=!1,Ba!==null&&Bh(Ba)&&(Ba=null),za!==null&&Bh(za)&&(za=null),Fa!==null&&Bh(Fa)&&(Fa=null),Lc.forEach(ax),Vc.forEach(ax)}function sh(t,e){t.blockedOn===e&&(t.blockedOn=null,Yg||(Yg=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Fj)))}var oh=null;function ix(t){oh!==t&&(oh=t,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],a=t[e+2];if(typeof r!="function"){if(G0(r||n)===null)continue;break}var i=zo(n);i!==null&&(t.splice(e,3),e-=3,Ag(i,{pending:!0,data:a,method:n.method,action:r},r,a))}}))}function Co(t){function e(u){return sh(u,t)}Ba!==null&&sh(Ba,t),za!==null&&sh(za,t),Fa!==null&&sh(Fa,t),Lc.forEach(e),Vc.forEach(e);for(var n=0;n<Ea.length;n++){var r=Ea[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ea.length&&(n=Ea[0],n.blockedOn===null);)F2(n),n.blockedOn===null&&Ea.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var a=n[r],i=n[r+1],s=a[nn]||null;if(typeof i=="function")s||ix(n);else if(s){var o=null;if(i&&i.hasAttribute("formAction")){if(a=i,s=i[nn]||null)o=s.formAction;else if(G0(a)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),ix(n)}}}function $2(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(s){return a=s})},focusReset:"manual",scroll:"manual"})}function e(){a!==null&&(a(),a=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,a=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),a!==null&&(a(),a=null)}}}function Y0(t){this._internalRoot=t}Tf.prototype.render=Y0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,r=vn();U2(n,r,t,e,null,null)};Tf.prototype.unmount=Y0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;U2(t.current,2,null,t,null,null),xf(),e[Bo]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=vT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ea.length&&e!==0&&e<Ea[n].priority;n++);Ea.splice(n,0,t),n===0&&F2(t)}};var sx=aT.version;if(sx!=="19.2.3")throw Error(z(527,sx,"19.2.3"));we.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=vD(e),t=t!==null?lT(t):null,t=t===null?null:t.stateNode,t};var $j={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{Zc=lh.inject($j),gn=lh}catch{}}of.createRoot=function(t,e){if(!iT(t))throw Error(z(299));var n=!1,r="",a=kS,i=MS,s=PS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(a=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=L2(t,1,!1,null,null,n,r,null,a,i,s,$2),t[Bo]=e.current,z0(t),new Y0(e)};of.hydrateRoot=function(t,e,n){if(!iT(t))throw Error(z(299));var r=!1,a="",i=kS,s=MS,o=PS,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=L2(t,1,!0,e,n??null,r,a,u,i,s,o,$2),e.context=V2(null),n=e.current,r=vn(),r=t0(r),a=Pa(r),a.callback=null,La(n,a,r),n=r,e.current.lanes=n,tu(e,n),wr(e),t[Bo]=e.current,z0(t),new Tf(e)};of.version="19.2.3";function q2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(q2)}catch(t){console.error(t)}}q2(),JE.exports=of;var qj=JE.exports;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ox="popstate";function Hj(t={}){function e(r,a){let{pathname:i,search:s,hash:o}=r.location;return Wg("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Uc(a)}return Yj(e,n,null,t)}function qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gj(){return Math.random().toString(36).substring(2,10)}function lx(t,e){return{usr:t.state,key:t.key,idx:e}}function Wg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yo(e):e,state:n,key:e&&e.key||r||Gj()}}function Uc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Yj(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,o="POP",u=null,h=d();h==null&&(h=0,s.replaceState({...s.state,idx:h},""));function d(){return(s.state||{idx:null}).idx}function m(){o="POP";let A=d(),y=A==null?null:A-h;h=A,u&&u({action:o,location:N.location,delta:y})}function p(A,y){o="PUSH";let _=Wg(N.location,A,y);h=d()+1;let w=lx(_,h),D=N.createHref(_);try{s.pushState(w,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;a.location.assign(D)}i&&u&&u({action:o,location:N.location,delta:1})}function v(A,y){o="REPLACE";let _=Wg(N.location,A,y);h=d();let w=lx(_,h),D=N.createHref(_);s.replaceState(w,"",D),i&&u&&u({action:o,location:N.location,delta:0})}function x(A){return Wj(A)}let N={get action(){return o},get location(){return t(a,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return a.addEventListener(ox,m),u=A,()=>{a.removeEventListener(ox,m),u=null}},createHref(A){return e(a,A)},createURL:x,encodeLocation(A){let y=x(A);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:v,go(A){return s.go(A)}};return N}function Wj(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qe(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Uc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function H2(t,e,n="/"){return Kj(t,e,n,!1)}function Kj(t,e,n,r){let a=typeof e=="string"?Yo(e):e,i=Xr(a.pathname||"/",n);if(i==null)return null;let s=G2(t);Qj(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let h=ok(i);o=ik(s[u],h,r)}return o}function G2(t,e=[],n=[],r="",a=!1){let i=(s,o,u=a,h)=>{let d={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&u)return;qe(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let m=$r([r,d.relativePath]),p=n.concat(d);s.children&&s.children.length>0&&(qe(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),G2(s.children,e,p,m,u)),!(s.path==null&&!s.index)&&e.push({path:m,score:rk(m,s.index),routesMeta:p})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let h of Y2(s.path))i(s,o,!0,h)}),e}function Y2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=Y2(r.join("/")),o=[];return o.push(...s.map(u=>u===""?i:[i,u].join("/"))),a&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function Qj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ak(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Xj=/^:[\w-]+$/,Jj=3,Zj=2,ek=1,tk=10,nk=-2,cx=t=>t==="*";function rk(t,e){let n=t.split("/"),r=n.length;return n.some(cx)&&(r+=nk),e&&(r+=Zj),n.filter(a=>!cx(a)).reduce((a,i)=>a+(Xj.test(i)?Jj:i===""?ek:tk),r)}function ak(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function ik(t,e,n=!1){let{routesMeta:r}=t,a={},i="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],h=o===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",m=Id({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),p=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Id({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:$r([i,m.pathname]),pathnameBase:hk($r([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=$r([i,m.pathnameBase]))}return s}function Id(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:r.reduce((h,{paramName:d,isOptional:m},p)=>{if(d==="*"){let x=o[p]||"";s=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=o[p];return m&&!v?h[d]=void 0:h[d]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:s,pattern:t}}function sk(t,e=!1,n=!0){Vn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function ok(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lk=t=>W2.test(t);function ck(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Yo(t):t,i;if(n)if(lk(n))i=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Vn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?i=ux(n.substring(1),"/"):i=ux(n,e)}else i=e;return{pathname:i,search:dk(r),hash:fk(a)}}function ux(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function xp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W0(t){let e=uk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function K0(t,e,n,r=!1){let a;typeof t=="string"?a=Yo(t):(a={...t},qe(!a.pathname||!a.pathname.includes("?"),xp("?","pathname","search",a)),qe(!a.pathname||!a.pathname.includes("#"),xp("#","pathname","hash",a)),qe(!a.search||!a.search.includes("#"),xp("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;a.pathname=p.join("/")}o=m>=0?e[m]:"/"}let u=ck(a,o),h=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}var $r=t=>t.join("/").replace(/\/\/+/g,"/"),hk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),dk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,mk=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function pk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function gk(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var K2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Q2(t,e){let n=t;if(typeof n!="string"||!W2.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(K2)try{let i=new URL(window.location.href),s=n.startsWith("//")?new URL(i.protocol+n):new URL(n),o=Xr(s.pathname,e);s.origin===i.origin&&o!=null?n=o+s.search+s.hash:a=!0}catch{Vn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var X2=["POST","PUT","PATCH","DELETE"];new Set(X2);var yk=["GET",...X2];new Set(yk);var Wo=R.createContext(null);Wo.displayName="DataRouter";var Sf=R.createContext(null);Sf.displayName="DataRouterState";var vk=R.createContext(!1),J2=R.createContext({isTransitioning:!1});J2.displayName="ViewTransition";var _k=R.createContext(new Map);_k.displayName="Fetchers";var bk=R.createContext(null);bk.displayName="Await";var wn=R.createContext(null);wn.displayName="Navigation";var uu=R.createContext(null);uu.displayName="Location";var Zn=R.createContext({outlet:null,matches:[],isDataRoute:!1});Zn.displayName="Route";var Q0=R.createContext(null);Q0.displayName="RouteError";var Z2="REACT_ROUTER_ERROR",xk="REDIRECT",wk="ROUTE_ERROR_RESPONSE";function Ek(t){if(t.startsWith(`${Z2}:${xk}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Tk(t){if(t.startsWith(`${Z2}:${wk}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new mk(e.status,e.statusText,e.data)}catch{}}function Sk(t,{relative:e}={}){qe(Ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(wn),{hash:a,pathname:i,search:s}=hu(t,{relative:e}),o=i;return n!=="/"&&(o=i==="/"?n:$r([n,i])),r.createHref({pathname:o,search:s,hash:a})}function Ko(){return R.useContext(uu)!=null}function aa(){return qe(Ko(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(uu).location}var eN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tN(t){R.useContext(wn).static||R.useLayoutEffect(t)}function hs(){let{isDataRoute:t}=R.useContext(Zn);return t?Vk():Nk()}function Nk(){qe(Ko(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(Wo),{basename:e,navigator:n}=R.useContext(wn),{matches:r}=R.useContext(Zn),{pathname:a}=aa(),i=JSON.stringify(W0(r)),s=R.useRef(!1);return tN(()=>{s.current=!0}),R.useCallback((u,h={})=>{if(Vn(s.current,eN),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=K0(u,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:$r([e,d.pathname])),(h.replace?n.replace:n.push)(d,h.state,h)},[e,n,i,a,t])}R.createContext(null);function nN(){let{matches:t}=R.useContext(Zn),e=t[t.length-1];return e?e.params:{}}function hu(t,{relative:e}={}){let{matches:n}=R.useContext(Zn),{pathname:r}=aa(),a=JSON.stringify(W0(n));return R.useMemo(()=>K0(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Ak(t,e){return rN(t,e)}function rN(t,e,n,r,a){var _;qe(Ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(wn),{matches:s}=R.useContext(Zn),o=s[s.length-1],u=o?o.params:{},h=o?o.pathname:"/",d=o?o.pathnameBase:"/",m=o&&o.route;{let w=m&&m.path||"";iN(h,!m||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=aa(),v;if(e){let w=typeof e=="string"?Yo(e):e;qe(d==="/"||((_=w.pathname)==null?void 0:_.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${w.pathname}" was given in the \`location\` prop.`),v=w}else v=p;let x=v.pathname||"/",N=x;if(d!=="/"){let w=d.replace(/^\//,"").split("/");N="/"+x.replace(/^\//,"").split("/").slice(w.length).join("/")}let A=H2(t,{pathname:N});Vn(m||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Vn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let y=Ok(A&&A.map(w=>Object.assign({},w,{params:Object.assign({},u,w.params),pathname:$r([d,i.encodeLocation?i.encodeLocation(w.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?d:$r([d,i.encodeLocation?i.encodeLocation(w.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:w.pathnameBase])})),s,n,r,a);return e&&y?R.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},y):y}function Ck(){let t=Lk(),e=pk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:i},"ErrorBoundary")," or"," ",R.createElement("code",{style:i},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:a},n):null,s)}var Rk=R.createElement(Ck,null),aN=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Tk(t.digest);n&&(t=n)}let e=t!==void 0?R.createElement(Zn.Provider,{value:this.props.routeContext},R.createElement(Q0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?R.createElement(Ik,{error:t},e):e}};aN.contextType=vk;var wp=new WeakMap;function Ik({children:t,error:e}){let{basename:n}=R.useContext(wn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Ek(e.digest);if(r){let a=wp.get(e);if(a)throw a;let i=Q2(r.location,n);if(K2&&!wp.get(e))if(i.isExternal||r.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:r.replace}));throw wp.set(e,s),s}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function Dk({routeContext:t,match:e,children:n}){let r=R.useContext(Wo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Zn.Provider,{value:t},n)}function Ok(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,s=n==null?void 0:n.errors;if(s!=null){let d=i.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);qe(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,u=-1;if(n)for(let d=0;d<i.length;d++){let m=i[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:p,errors:v}=n,x=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let h=n&&r?(d,m)=>{var p,v;r(d,{location:n.location,params:((v=(p=n.matches)==null?void 0:p[0])==null?void 0:v.params)??{},unstable_pattern:gk(n.matches),errorInfo:m})}:void 0;return i.reduceRight((d,m,p)=>{let v,x=!1,N=null,A=null;n&&(v=s&&m.route.id?s[m.route.id]:void 0,N=m.route.errorElement||Rk,o&&(u<0&&p===0?(iN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):u===p&&(x=!0,A=m.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,p+1)),_=()=>{let w;return v?w=N:x?w=A:m.route.Component?w=R.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=d,R.createElement(Dk,{match:m,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?R.createElement(aN,{location:n.location,revalidation:n.revalidation,component:N,error:v,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:h}):_()},null)}function X0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jk(t){let e=R.useContext(Wo);return qe(e,X0(t)),e}function kk(t){let e=R.useContext(Sf);return qe(e,X0(t)),e}function Mk(t){let e=R.useContext(Zn);return qe(e,X0(t)),e}function J0(t){let e=Mk(t),n=e.matches[e.matches.length-1];return qe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Pk(){return J0("useRouteId")}function Lk(){var r;let t=R.useContext(Q0),e=kk("useRouteError"),n=J0("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Vk(){let{router:t}=jk("useNavigate"),e=J0("useNavigate"),n=R.useRef(!1);return tN(()=>{n.current=!0}),R.useCallback(async(a,i={})=>{Vn(n.current,eN),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var hx={};function iN(t,e,n){!e&&!hx[t]&&(hx[t]=!0,Vn(!1,n))}R.memo(Uk);function Uk({routes:t,future:e,state:n,onError:r}){return rN(t,void 0,n,r,e)}function Bk({to:t,replace:e,state:n,relative:r}){qe(Ko(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=R.useContext(wn);Vn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=R.useContext(Zn),{pathname:s}=aa(),o=hs(),u=K0(t,W0(i),s,r==="path"),h=JSON.stringify(u);return R.useEffect(()=>{o(JSON.parse(h),{replace:e,state:n,relative:r})},[o,h,r,e,n]),null}function ya(t){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:i=!1,unstable_useTransitions:s}){qe(!Ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=R.useMemo(()=>({basename:o,navigator:a,static:i,unstable_useTransitions:s,future:{}}),[o,a,i,s]);typeof n=="string"&&(n=Yo(n));let{pathname:h="/",search:d="",hash:m="",state:p=null,key:v="default"}=n,x=R.useMemo(()=>{let N=Xr(h,o);return N==null?null:{location:{pathname:N,search:d,hash:m,state:p,key:v},navigationType:r}},[o,h,d,m,p,v,r]);return Vn(x!=null,`<Router basename="${o}"> is not able to match the URL "${h}${d}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:R.createElement(wn.Provider,{value:u},R.createElement(uu.Provider,{children:e,value:x}))}function Fk({children:t,location:e}){return Ak(Kg(t),e)}function Kg(t,e=[]){let n=[];return R.Children.forEach(t,(r,a)=>{if(!R.isValidElement(r))return;let i=[...e,a];if(r.type===R.Fragment){n.push.apply(n,Kg(r.props.children,i));return}qe(r.type===ya,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Kg(r.props.children,i)),n.push(s)}),n}var zh="get",Fh="application/x-www-form-urlencoded";function Nf(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function $k(t){return Nf(t)&&t.tagName.toLowerCase()==="button"}function qk(t){return Nf(t)&&t.tagName.toLowerCase()==="form"}function Hk(t){return Nf(t)&&t.tagName.toLowerCase()==="input"}function Gk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Yk(t,e){return t.button===0&&(!e||e==="_self")&&!Gk(t)}var ch=null;function Wk(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var Kk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ep(t){return t!=null&&!Kk.has(t)?(Vn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fh}"`),null):t}function Qk(t,e){let n,r,a,i,s;if(qk(t)){let o=t.getAttribute("action");r=o?Xr(o,e):null,n=t.getAttribute("method")||zh,a=Ep(t.getAttribute("enctype"))||Fh,i=new FormData(t)}else if($k(t)||Hk(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?Xr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||zh,a=Ep(t.getAttribute("formenctype"))||Ep(o.getAttribute("enctype"))||Fh,i=new FormData(o,t),!Wk()){let{name:h,type:d,value:m}=t;if(d==="image"){let p=h?`${h}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else h&&i.append(h,m)}}else{if(Nf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=zh,r=null,a=Fh,s=t}return i&&a==="text/plain"&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Z0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xk(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Xr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Jk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function e4(t,e,n){let r=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let s=await Jk(i,n);return s.links?s.links():[]}return[]}));return a4(r.flat(1).filter(Zk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function dx(t,e,n,r,a,i){let s=(u,h)=>n[h]?u.route.id!==n[h].route.id:!0,o=(u,h)=>{var d;return n[h].pathname!==u.pathname||((d=n[h].route.path)==null?void 0:d.endsWith("*"))&&n[h].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,h)=>s(u,h)||o(u,h)):i==="data"?e.filter((u,h)=>{var m;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,h)||o(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function t4(t,e,{includeHydrateFallback:n}={}){return n4(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function n4(t){return[...new Set(t)]}function r4(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function a4(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let i=JSON.stringify(r4(a));return n.has(i)||(n.add(i),r.push({key:i,link:a})),r},[])}function sN(){let t=R.useContext(Wo);return Z0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function i4(){let t=R.useContext(Sf);return Z0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ev=R.createContext(void 0);ev.displayName="FrameworkContext";function oN(){let t=R.useContext(ev);return Z0(t,"You must render this element inside a <HydratedRouter> element"),t}function s4(t,e){let n=R.useContext(ev),[r,a]=R.useState(!1),[i,s]=R.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:h,onMouseLeave:d,onTouchStart:m}=e,p=R.useRef(null);R.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let N=y=>{y.forEach(_=>{s(_.isIntersecting)})},A=new IntersectionObserver(N,{threshold:.5});return p.current&&A.observe(p.current),()=>{A.disconnect()}}},[t]),R.useEffect(()=>{if(r){let N=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(N)}}},[r]);let v=()=>{a(!0)},x=()=>{a(!1),s(!1)};return n?t!=="intent"?[i,p,{}]:[i,p,{onFocus:zl(o,v),onBlur:zl(u,x),onMouseEnter:zl(h,v),onMouseLeave:zl(d,x),onTouchStart:zl(m,v)}]:[!1,p,{}]}function zl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function o4({page:t,...e}){let{router:n}=sN(),r=R.useMemo(()=>H2(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(c4,{page:t,matches:r,...e}):null}function l4(t){let{manifest:e,routeModules:n}=oN(),[r,a]=R.useState([]);return R.useEffect(()=>{let i=!1;return e4(t,e,n).then(s=>{i||a(s)}),()=>{i=!0}},[t,e,n]),r}function c4({page:t,matches:e,...n}){let r=aa(),{manifest:a,routeModules:i}=oN(),{basename:s}=sN(),{loaderData:o,matches:u}=i4(),h=R.useMemo(()=>dx(t,e,u,a,r,"data"),[t,e,u,a,r]),d=R.useMemo(()=>dx(t,e,u,a,r,"assets"),[t,e,u,a,r]),m=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let x=new Set,N=!1;if(e.forEach(y=>{var w;let _=a.routes[y.route.id];!_||!_.hasLoader||(!h.some(D=>D.route.id===y.route.id)&&y.route.id in o&&((w=i[y.route.id])!=null&&w.shouldRevalidate)||_.hasClientLoader?N=!0:x.add(y.route.id))}),x.size===0)return[];let A=Xk(t,s,"data");return N&&x.size>0&&A.searchParams.set("_routes",e.filter(y=>x.has(y.route.id)).map(y=>y.route.id).join(",")),[A.pathname+A.search]},[s,o,r,a,h,e,t,i]),p=R.useMemo(()=>t4(d,a),[d,a]),v=l4(d);return R.createElement(R.Fragment,null,m.map(x=>R.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),p.map(x=>R.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:N})=>R.createElement("link",{key:x,nonce:n.nonce,...N})))}function u4(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var h4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h4&&(window.__reactRouterVersion="7.11.0")}catch{}function d4({basename:t,children:e,unstable_useTransitions:n,window:r}){let a=R.useRef();a.current==null&&(a.current=Hj({window:r,v5Compat:!0}));let i=a.current,[s,o]=R.useState({action:i.action,location:i.location}),u=R.useCallback(h=>{n===!1?o(h):R.startTransition(()=>o(h))},[n]);return R.useLayoutEffect(()=>i.listen(u),[i,u]),R.createElement(zk,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:i,unstable_useTransitions:n})}var lN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cN=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:i,replace:s,state:o,target:u,to:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},x){let{basename:N,unstable_useTransitions:A}=R.useContext(wn),y=typeof h=="string"&&lN.test(h),_=Q2(h,N);h=_.to;let w=Sk(h,{relative:a}),[D,V,q]=s4(r,v),S=g4(h,{replace:s,state:o,target:u,preventScrollReset:d,relative:a,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:A});function T(C){e&&e(C),C.defaultPrevented||S(C)}let b=R.createElement("a",{...v,...q,href:_.absoluteURL||w,onClick:_.isExternal||i?e:T,ref:u4(x,V),target:u,"data-discover":!y&&n==="render"?"true":void 0});return D&&!y?R.createElement(R.Fragment,null,b,R.createElement(o4,{page:w})):b});cN.displayName="Link";var f4=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:i,to:s,viewTransition:o,children:u,...h},d){let m=hu(s,{relative:h.relative}),p=aa(),v=R.useContext(Sf),{navigator:x,basename:N}=R.useContext(wn),A=v!=null&&x4(m)&&o===!0,y=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,_=p.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(_=_.toLowerCase(),w=w?w.toLowerCase():null,y=y.toLowerCase()),w&&N&&(w=Xr(w,N)||w);const D=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let V=_===y||!a&&_.startsWith(y)&&_.charAt(D)==="/",q=w!=null&&(w===y||!a&&w.startsWith(y)&&w.charAt(y.length)==="/"),S={isActive:V,isPending:q,isTransitioning:A},T=V?e:void 0,b;typeof r=="function"?b=r(S):b=[r,V?"active":null,q?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(S):i;return R.createElement(cN,{...h,"aria-current":T,className:b,ref:d,style:C,to:s,viewTransition:o},typeof u=="function"?u(S):u)});f4.displayName="NavLink";var m4=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:i,method:s=zh,action:o,onSubmit:u,relative:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p,...v},x)=>{let{unstable_useTransitions:N}=R.useContext(wn),A=_4(),y=b4(o,{relative:h}),_=s.toLowerCase()==="get"?"get":"post",w=typeof o=="string"&&lN.test(o),D=V=>{if(u&&u(V),V.defaultPrevented)return;V.preventDefault();let q=V.nativeEvent.submitter,S=(q==null?void 0:q.getAttribute("formmethod"))||s,T=()=>A(q||V.currentTarget,{fetcherKey:e,method:S,navigate:n,replace:a,state:i,relative:h,preventScrollReset:d,viewTransition:m,unstable_defaultShouldRevalidate:p});N&&n!==!1?R.startTransition(()=>T()):T()};return R.createElement("form",{ref:x,method:_,action:y,onSubmit:r?u:D,...v,"data-discover":!w&&t==="render"?"true":void 0})});m4.displayName="Form";function p4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uN(t){let e=R.useContext(Wo);return qe(e,p4(t)),e}function g4(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let h=hs(),d=aa(),m=hu(t,{relative:i});return R.useCallback(p=>{if(Yk(p,e)){p.preventDefault();let v=n!==void 0?n:Uc(d)===Uc(m),x=()=>h(t,{replace:v,state:r,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:o});u?R.startTransition(()=>x()):x()}},[d,h,m,n,r,e,t,a,i,s,o,u])}var y4=0,v4=()=>`__${String(++y4)}__`;function _4(){let{router:t}=uN("useSubmit"),{basename:e}=R.useContext(wn),n=Pk(),r=t.fetch,a=t.navigate;return R.useCallback(async(i,s={})=>{let{action:o,method:u,encType:h,formData:d,body:m}=Qk(i,e);if(s.navigate===!1){let p=s.fetcherKey||v4();await r(p,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||h,flushSync:s.flushSync})}else await a(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:d,body:m,formMethod:s.method||u,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,a,e,n])}function b4(t,{relative:e}={}){let{basename:n}=R.useContext(wn),r=R.useContext(Zn);qe(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),i={...hu(t||".",{relative:e})},s=aa();if(t==null){i.search=s.search;let o=new URLSearchParams(i.search),u=o.getAll("index");if(u.some(d=>d==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let d=o.toString();i.search=d?`?${d}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:$r([n,i.pathname])),Uc(i)}function x4(t,{relative:e}={}){let n=R.useContext(J2);qe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=uN("useViewTransitionState"),a=hu(t,{relative:e});if(!n.isTransitioning)return!1;let i=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Id(a.pathname,s)!=null||Id(a.pathname,i)!=null}const hN=R.createContext(),ci=()=>{const t=R.useContext(hN);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},w4=({children:t})=>{const[e,n]=R.useState("en"),a={language:e,setLanguage:n,changeLanguage:i=>{n(i)}};return l.jsx(hN.Provider,{value:a,children:t})};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T4=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fx=t=>{const e=T4(t);return e.charAt(0).toUpperCase()+e.slice(1)},dN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),S4=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var N4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:i,iconNode:s,...o},u)=>R.createElement("svg",{ref:u,...N4,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:dN("lucide",a),...!i&&!S4(o)&&{"aria-hidden":"true"},...o},[...s.map(([h,d])=>R.createElement(h,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const n=R.forwardRef(({className:r,...a},i)=>R.createElement(A4,{ref:i,iconNode:e,className:dN(`lucide-${E4(fx(t))}`,`lucide-${t}`,r),...a}));return n.displayName=fx(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],R4=le("archive",C4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mx=le("arrow-left",I4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],fN=le("banknote",D4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Li=le("calendar",O4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Af=le("check",j4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],M4=le("chevron-down",k4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],L4=le("chevron-up",P4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],U4=le("circle-alert",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Lr=le("circle-check",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Qg=le("circle-x",z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mN=le("clock",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],uh=le("cloud-rain",$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],H4=le("cloud-snow",q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Fl=le("cloud",G4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],tv=le("copy",Y4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nv=le("credit-card",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Cf=le("dollar-sign",K4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],X4=le("external-link",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Z4=le("facebook",J4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Yn=le("gift",eM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pN=le("globe",tM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],rM=le("instagram",nM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],iM=le("loader",aM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],oM=le("log-in",sM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cM=le("log-out",lM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],px=le("mail",uM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gx=le("map-pin",hM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],gN=le("message-circle",dM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],yN=le("message-square",fM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],pM=le("party-popper",mM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],vN=le("pen",gM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_N=le("plus",yM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yx=le("search",vM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],vx=le("sparkles",_M);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],xM=le("square-pen",bM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],EM=le("sun",wM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rf=le("trash-2",TM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bN=le("user-plus",SM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ro=le("user",NM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xN=le("users",AM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],_x=le("wind",CM);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Qo=le("x",RM),L={primary:{teal:"#00BCD4",black:"#2B2B2B",white:"#FFFFFF"},success:"#10b981",seat:{vacant:"#E5E7EB",occupied:"#10b981",selected:"#00BCD4"},button:{danger:"#ef4444"},gradient:{primary:"linear-gradient(135deg, #00BCD4 0%, #26C6DA 100%)"}},IM=()=>{const t=hs(),{language:e,changeLanguage:n}=ci(),[r,a]=R.useState(!1),[i,s]=R.useState({name:"",email:"",phone:"",destination:"",message:""});R.useEffect(()=>{sessionStorage.getItem("hasVisitedLanding")||(a(!0),sessionStorage.setItem("hasVisitedLanding","true"))},[]);const u={en:{welcome:"Welcome to IVRI Tours!",welcomeMsg:"Discover breathtaking destinations with expert tour guides in multiple languages. Your adventure begins here!",getStarted:"Get Started",heroTitle:"Explore North America with IVRI Tours",heroSubtitle:"Professional guided tours in English, Hebrew, and Russian",destinationsTitle:"Our Amazing Destinations",multiLang:"Multi-language Tours",duration:"Duration",groupSize:"Group Size",highlights:"Highlights",testimonialsTitle:"What People Say About Us",socialTitle:"Follow Our Adventures",socialDesc:"Stay connected with our latest tours, photos, and travel tips on social media!",visitFacebook:"Visit Facebook",visitInstagram:"Visit Instagram",contactTitle:"Contact Us",nameLabel:"Name",emailLabel:"Email",phoneLabel:"Phone",destinationLabel:"Preferred Destination",messageLabel:"Message",submitBtn:"Send Message",footerText:"All rights reserved. Explore the world with us!",adminLogin:"Admin Login",destinations:{toronto:{title:"Toronto Downtown",desc:"Explore Canada's largest and most diverse city! Experience the iconic CN Tower with breathtaking 360 views, stroll along the beautiful harbourfront, discover the historic Distillery District, visit the Royal Ontario Museum, and immerse yourself in vibrant multicultural neighborhoods like Kensington Market and Chinatown.",duration:"8-10 hours",groupSize:"12-20 people",highlights:["CN Tower & Views","Harbourfront Walk","Distillery District","ROM Museum","Kensington Market"]},niagara:{title:"Niagara Falls",desc:"Witness the raw power and beauty of one of the world's most spectacular natural wonders! Get up close with the Hornblower boat tour, walk behind the falls at Journey Behind the Falls, enjoy panoramic views from Skylon Tower, explore the charming town of Niagara-on-the-Lake, and taste world-class wines at local vineyards.",duration:"Full Day (10-12 hours)",groupSize:"15-25 people",highlights:["Hornblower Boat Tour","Journey Behind Falls","Skylon Tower","Niagara-on-the-Lake","Wine Tasting"]},tremblant:{title:"mont-tremblant",desc:"Discover Quebec's premier four-season resort destination! Experience world-class skiing and snowboarding in winter, enjoy scenic gondola rides with stunning Laurentian views, explore the charming European-style pedestrian village, try exciting outdoor activities like hiking and zip-lining, and relax in the beautiful natural surroundings.",duration:"2-3 Days",groupSize:"10-18 people",highlights:["Skiing & Snowboarding","Scenic Gondola","Village Pedestrian","Outdoor Activities","Spa & Relaxation"]},quebec:{title:"Quebec City",desc:"Step into Europe without leaving North America! Wander through the UNESCO World Heritage Old Quebec with its cobblestone streets, visit the majestic Chteau Frontenac, explore the historic Citadelle fortification, discover the charming Quartier Petit Champlain, and savor authentic French-Canadian cuisine and culture.",duration:"2-3 Days",groupSize:"12-20 people",highlights:["Old Quebec UNESCO Site","Chteau Frontenac","Citadelle Tour","Petit Champlain","French Cuisine"]},barrie:{title:"Barrie & Lake Simcoe",desc:"Experience Ontario's beautiful lakeside gem! Enjoy stunning waterfront parks and beaches along Lake Simcoe, explore the historic downtown with unique shops and restaurants, visit Spirit Catcher sculpture and Centennial Park, experience seasonal activities like swimming in summer or ice fishing in winter.",duration:"6-8 hours",groupSize:"10-15 people",highlights:["Lake Simcoe Beach","Waterfront Parks","Downtown Shopping","Spirit Catcher","Seasonal Activities"]},detroit:{title:"Detroit",desc:"Discover the Motor City's incredible transformation! Visit the Henry Ford Museum and Greenfield Village, explore the stunning Detroit Institute of Arts, walk along the beautiful RiverWalk, tour the historic Fox Theatre, experience the vibrant Eastern Market, and learn about Motown's musical legacy.",duration:"Full Day (10-12 hours)",groupSize:"15-20 people",highlights:["Henry Ford Museum","DIA Art Museum","Detroit RiverWalk","Motown Museum","Eastern Market"]},chicago:{title:"Chicago",desc:"Experience the magnificent Windy City! Marvel at world-famous architecture on a river cruise, visit Millennium Park and the iconic Cloud Gate (Bean), explore Navy Pier and Lake Michigan shoreline, enjoy deep-dish pizza, discover Art Institute treasures, and take in breathtaking views from Willis Tower Skydeck.",duration:"2-3 Days",groupSize:"15-25 people",highlights:["Architecture River Cruise","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck","Deep-Dish Pizza"]}},testimonials:[{text:"Amazing experience! The tour guide was knowledgeable and friendly. Seeing Niagara Falls was a dream come true!",author:"Sarah M."},{text:"The multi-language support made everything so comfortable for our family. Highly recommend IVRI Tours!",author:"David L."},{text:"Quebec City tour was magical! Our guide shared fascinating stories and insider tips. Best vacation ever!",author:"Rachel K."},{text:"Professional, organized, and fun! The Chicago architecture tour exceeded all expectations. Thank you IVRI Tours!",author:"Michael R."}]},he:{welcome:"  -IVRI Tours!",welcomeMsg:"         .    !",getStarted:" ",heroTitle:"     IVRI Tours",heroSubtitle:"   ,  ",destinationsTitle:"  ",multiLang:"  ",duration:"",groupSize:" ",highlights:"",testimonialsTitle:"  ",socialTitle:"   ",socialDesc:"    ,    !",visitFacebook:" ",visitInstagram:" ",contactTitle:" ",nameLabel:"",emailLabel:"",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .    !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN    360  ,    ,     ,        - .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN "," "," "," ROM"," "]},niagara:{title:" ",desc:"         !     Hornblower,   ,     Skylon,     Niagara-on-the-Lake    .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower","  "," Skylon","Niagara-on-the-Lake"," "]},tremblant:{title:" ",desc:"        !      ,        ,           .",duration:"2-3 ",groupSize:"10-18 ",highlights:[" "," ","  "," "," "]},quebec:{title:" ",desc:'      !         "   ,    ,       - .',duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," "," "," "," "]},barrie:{title:"  ",desc:"     !        ,         ,   Spirit Catcher  Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," "," ","Spirit Catcher"," "]},detroit:{title:"",desc:"      !    ,       ,   -RiverWalk ,   Fox      .",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  "," DIA","Detroit RiverWalk"," ","Eastern Market"]},chicago:{title:"",desc:"    !     ,    -Cloud Gate ,   Navy Pier   ,         Willis.",duration:"2-3 ",groupSize:"15-25 ",highlights:["  ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .       !",author:" ."},{text:" -        .    IVRI Tours!",author:" ."},{text:"    !       .     !",author:" ."},{text:",  !       .  IVRI Tours!",author:" ."}]},ru:{welcome:"   IVRI Tours!",welcomeMsg:"           .    !",getStarted:"",heroTitle:"    IVRI Tours",heroSubtitle:"   ,    ",destinationsTitle:"  ",multiLang:" ",duration:"",groupSize:" ",highlights:" ",testimonialsTitle:"   ",socialTitle:"   ",socialDesc:"     ,      !",visitFacebook:" Facebook",visitInstagram:" Instagram",contactTitle:"  ",nameLabel:"",emailLabel:" ",phoneLabel:"",destinationLabel:" ",messageLabel:"",submitBtn:" ",footerText:"  .     !",adminLogin:" ",destinations:{toronto:{title:" ",desc:"      !    CN     360,    ,      Distillery,          .",duration:"8-10 ",groupSize:"12-20 ",highlights:[" CN  ","  "," Distillery"," ROM"," "]},niagara:{title:" ",desc:"          !     Hornblower,     Journey Behind the Falls,      Skylon,    ---     .",duration:"  (10-12 )",groupSize:"15-25 ",highlights:["  Hornblower"," "," Skylon","---"," "]},tremblant:{title:"-",desc:"      !       ,          ,              .",duration:"2-3 ",groupSize:"10-18 ",highlights:["  "," "," "," ","  "]},quebec:{title:"-",desc:"  ,    !    ,    ,    ,    ,   ,      -    - .",duration:"2-3 ",groupSize:"12-20 ",highlights:["  "," ","  ","-"," "]},barrie:{title:"   ",desc:"      !         ,         ,   Spirit Catcher   Centennial.",duration:"6-8 ",groupSize:"10-15 ",highlights:["  "," ","  ","Spirit Catcher"," "]},detroit:{title:"",desc:"     -!      -,     ,     RiverWalk,      Fox      Motown.",duration:"  (10-12 )",groupSize:"15-20 ",highlights:["  ","  DIA","Detroit RiverWalk"," Motown","Eastern Market"]},chicago:{title:"",desc:"   !        ,  -   Cloud Gate (Bean),  Navy Pier     ,         Willis Tower Skydeck.",duration:"2-3 ",groupSize:"15-25 ",highlights:[" ","Cloud Gate (Bean)","Navy Pier","Willis Tower Skydeck"," "]}},testimonials:[{text:" !     .      !",author:" ."},{text:"        .   IVRI Tours!",author:" ."},{text:"    !        .    !",author:" ."},{text:",   !       .  IVRI Tours!",author:" ."}]}}[e],d={en:{giftCardTitle:"Give the Gift of Travel",giftCardDesc:"Share unforgettable experiences with IVRI Tours gift cards",purchaseGiftCard:"Purchase Gift Card"},he:{giftCardTitle:"    ",giftCardDesc:"        IVRI Tours",purchaseGiftCard:"  "},ru:{giftCardTitle:" ",giftCardDesc:"      IVRI Tours",purchaseGiftCard:"  "}}[e],m=[{key:"toronto",image:"https://images.unsplash.com/photo-1517935706615-2717063c2225?w=800&q=80"},{key:"niagara",image:"https://images.unsplash.com/photo-1489447068241-b3490214e879?w=800&q=80"},{key:"tremblant",image:"https://images.unsplash.com/photo-1729477458908-0a59d8026ed8?q=80&w=1170&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{key:"quebec",image:"https://images.unsplash.com/photo-1519451241324-20b4ea2c4220?w=800&q=80"},{key:"barrie",image:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&q=80"},{key:"detroit",image:"https://images.unsplash.com/photo-1590859808308-3d2d9c515b1a?w=800&q=80"},{key:"chicago",image:"https://images.unsplash.com/photo-1494522358652-f30e61a60313?w=800&q=80"}],p=["https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&q=80","https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=200&q=80","https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=200&q=80","https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200&q=80"],v=x=>{x.preventDefault(),alert({en:"Thank you for your message! We will contact you soon.",he:"  !    .",ru:"   !     ."}[e]),s({name:"",email:"",phone:"",destination:"",message:""})};return l.jsxs("div",{className:"min-h-screen bg-white",dir:e==="he"?"rtl":"ltr",children:[r&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 px-4 animate-fadeIn",children:l.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-lg w-full text-center shadow-2xl animate-slideDown",children:[l.jsx("div",{className:"text-6xl mb-4",children:""}),l.jsx("h2",{className:"text-3xl font-bold mb-4",style:{color:L.primary.teal},children:u.welcome}),l.jsx("p",{className:"text-lg text-gray-600 mb-6",children:u.welcomeMsg}),l.jsx("button",{onClick:()=>a(!1),className:"px-8 py-3 text-white rounded-lg text-lg font-semibold hover:opacity-90 transition-opacity",style:{backgroundColor:L.primary.teal},children:u.getStarted})]})}),l.jsx("nav",{className:"bg-white shadow-md sticky top-0 z-40",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:L.primary.teal},children:"IVRI Tours"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>n("en"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="en"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="en"?{backgroundColor:L.primary.teal}:{},children:"English"}),l.jsx("button",{onClick:()=>n("he"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="he"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="he"?{backgroundColor:L.primary.teal}:{},children:""}),l.jsx("button",{onClick:()=>n("ru"),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${e==="ru"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:e==="ru"?{backgroundColor:L.primary.teal}:{},children:""})]})]})})}),l.jsx("section",{className:"py-20 px-4 text-center text-white",style:{background:`linear-gradient(135deg, ${L.primary.teal} 0%, #0097A7 100%)`},children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold mb-6",children:u.heroTitle}),l.jsx("p",{className:"text-xl sm:text-2xl opacity-95 mb-8",children:u.heroSubtitle}),l.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-2xl p-6 max-w-md mx-auto",children:[l.jsx(Yn,{className:"w-12 h-12 mx-auto mb-3"}),l.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.giftCardTitle}),l.jsx("p",{className:"text-lg opacity-90 mb-4",children:d.giftCardDesc}),l.jsx("button",{onClick:()=>t("/gift-card-purchase"),className:"bg-white px-8 py-3 rounded-lg font-bold text-lg hover:shadow-xl transition-all",style:{color:L.primary.teal},children:d.purchaseGiftCard})]})]})}),l.jsxs("section",{className:"py-16 px-4 max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:L.primary.teal},children:u.destinationsTitle}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map(x=>l.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2",children:[l.jsx("div",{className:"h-64 bg-cover bg-center",style:{backgroundImage:`url(${x.image})`}}),l.jsxs("div",{className:"p-6",children:[l.jsx("h3",{className:"text-2xl font-bold mb-3",style:{color:L.primary.teal},children:u.destinations[x.key].title}),l.jsx("p",{className:"text-gray-600 leading-relaxed mb-4 text-sm",children:u.destinations[x.key].desc}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(mN,{className:"w-4 h-4",style:{color:L.primary.teal}}),l.jsxs("span",{className:"font-semibold",children:[u.duration,":"]})," ",u.destinations[x.key].duration]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[l.jsx(xN,{className:"w-4 h-4",style:{color:L.primary.teal}}),l.jsxs("span",{className:"font-semibold",children:[u.groupSize,":"]})," ",u.destinations[x.key].groupSize]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("p",{className:"text-xs font-semibold text-gray-700 mb-2",children:[u.highlights,":"]}),l.jsx("div",{className:"flex flex-wrap gap-1",children:u.destinations[x.key].highlights.map((N,A)=>l.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-white text-xs",style:{backgroundColor:L.primary.teal},children:N},A))})]}),l.jsxs("span",{className:"inline-block px-4 py-2 rounded-full text-white text-sm font-medium mt-2",style:{backgroundColor:L.primary.teal},children:[" ",u.multiLang]})]})]},x.key))})]}),l.jsx("section",{className:"py-16 px-4 bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:L.primary.teal},children:u.testimonialsTitle}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.testimonials.map((x,N)=>l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full mx-auto mb-4 bg-cover bg-center",style:{backgroundImage:`url(${p[N]})`,border:`3px solid ${L.primary.teal}`}}),l.jsxs("p",{className:"text-gray-600 italic mb-4 leading-relaxed",children:['"',x.text,'"']}),l.jsx("h4",{className:"font-bold",style:{color:L.primary.teal},children:x.author})]},N))})]})}),l.jsx("section",{className:"py-16 px-4 bg-white",children:l.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[l.jsx("h2",{className:"text-4xl font-bold mb-4",style:{color:L.primary.teal},children:u.socialTitle}),l.jsx("p",{className:"text-xl text-gray-600 mb-8",children:u.socialDesc}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center mb-12",children:[l.jsxs("a",{href:"https://www.facebook.com/Ivritours/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{backgroundColor:"#1877F2"},children:[l.jsx(Z4,{className:"w-6 h-6"}),u.visitFacebook]}),l.jsxs("a",{href:"https://www.instagram.com/ivritours_ca/",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center gap-2 px-8 py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity shadow-lg",style:{background:"linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%)"},children:[l.jsx(rM,{className:"w-6 h-6"}),u.visitInstagram]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-8 shadow-inner",children:[l.jsxs("div",{className:"text-gray-500 mb-6",children:[l.jsx("p",{className:"text-lg font-semibold mb-2",children:"Connect with us:"}),l.jsx("p",{className:"mb-1",children:"Facebook: @Ivritours"}),l.jsx("p",{children:"Instagram: @ivritours_ca"})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:L.primary.teal},children:"1000+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Happy Travelers"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:L.primary.teal},children:"100+"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Tours Completed"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:L.primary.teal},children:"7"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Destinations"})]}),l.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[l.jsx("div",{className:"text-3xl font-bold",style:{color:L.primary.teal},children:"3"}),l.jsx("div",{className:"text-sm text-gray-600",children:"Languages"})]})]})]})]})}),l.jsxs("section",{className:"py-16 px-4 max-w-4xl mx-auto",children:[l.jsx("h2",{className:"text-4xl font-bold text-center mb-12",style:{color:L.primary.teal},children:u.contactTitle}),l.jsxs("form",{onSubmit:v,className:"bg-white rounded-xl shadow-lg p-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.nameLabel," *"]}),l.jsx("input",{type:"text",value:i.name,onChange:x=>s({...i,name:x.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.emailLabel," *"]}),l.jsx("input",{type:"email",value:i.email,onChange:x=>s({...i,email:x.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:u.phoneLabel}),l.jsx("input",{type:"tel",value:i.phone,onChange:x=>s({...i,phone:x.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-gray-700 font-semibold mb-2",children:u.destinationLabel}),l.jsx("input",{type:"text",value:i.destination,onChange:x=>s({...i,destination:x.target.value}),className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-gray-700 font-semibold mb-2",children:[u.messageLabel," *"]}),l.jsx("textarea",{value:i.message,onChange:x=>s({...i,message:x.target.value}),rows:"6",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:border-[#00BCD4] focus:outline-none transition-colors resize-vertical",required:!0})]}),l.jsx("button",{type:"submit",className:"w-full py-4 text-white text-lg font-bold rounded-lg hover:opacity-90 transition-opacity",style:{backgroundColor:L.primary.teal},children:u.submitBtn})]})]}),l.jsx("footer",{className:"bg-gray-900 text-white py-8 px-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[l.jsx("div",{className:"text-2xl font-bold mb-4",style:{color:L.primary.teal},children:"IVRI Tours"}),l.jsxs("p",{className:"text-gray-400 mb-4",children:[" 2025 IVRI Tours. ",u.footerText]}),l.jsx("button",{onClick:()=>t("/login"),className:"text-sm hover:underline",style:{color:L.primary.teal},children:u.adminLogin})]})}),l.jsx("style",{children:`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideDown { from { transform: translateY(-50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .animate-fadeIn { animation: fadeIn 0.3s ease-out; }
        .animate-slideDown { animation: slideDown 0.5s ease-out; }
      `})]})};function wN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=wN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function If(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=wN(t))&&(r&&(r+=" "),r+=e);return r}const DM=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const a=Object.getOwnPropertyDescriptor(t,n),i=Object.getOwnPropertyDescriptor(e,n);!OM(a,i)&&r||Object.defineProperty(t,n,i)},OM=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},jM=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},kM=(t,e)=>`/* Wrapped ${t}*/
${e}`,MM=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),PM=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),LM=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,a=kM.bind(null,r,e.toString());Object.defineProperty(a,"name",PM);const{writable:i,enumerable:s,configurable:o}=MM;Object.defineProperty(t,"toString",{value:a,writable:i,enumerable:s,configurable:o})};function VM(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const a of Reflect.ownKeys(e))DM(t,e,a,n);return jM(t,e),LM(t,e,r),t}const hh=2147483647,UM=new WeakMap,Tp=new WeakMap,BM=new WeakMap;function zM(t,e){const n=t.get(e);if(n){if(n.maxAge<=Date.now()){t.delete(e);return}return n}}function EN(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"&&Number.isFinite(r)){if(r>hh)throw new TypeError(`The \`maxAge\` option cannot exceed ${hh}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const a=function(...i){var d;const s=e?e(i):i[0],o=zM(n,s);if(o)return o.data;const u=t.apply(this,i),h=typeof r=="function"?r(...i):r;if(h!==void 0&&h!==Number.POSITIVE_INFINITY){if(!Number.isFinite(h))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(h<=0)return u;if(h>hh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${hh}.`)}if(n.set(s,{data:u,maxAge:h===void 0||h===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+h}),h!==void 0&&h!==Number.POSITIVE_INFINITY){const m=setTimeout(()=>{var v;n.delete(s),(v=Tp.get(a))==null||v.delete(m)},h);(d=m.unref)==null||d.call(m);const p=Tp.get(a)??new Set;p.add(m),Tp.set(a,p)}return u};return VM(a,t,{ignoreNonConfigurable:!0}),UM.set(a,n),BM.set(a,e??(i=>i[0])),a}function FM(t){return typeof t=="string"}function $M(t,e,n){return n.indexOf(t)===e}function qM(t){return t.toLowerCase()===t}function bx(t){return t.indexOf(",")===-1?t:t.split(",")}function Xg(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Xg(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return Xg(n)}if(t.indexOf("-")===-1||!qM(t))return t;var a=t.split("-"),i=a[0],s=a[1],o=s===void 0?"":s;return"".concat(i,"-").concat(o.toUpperCase())}function HM(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,a=e.fallbackLocale,i=a===void 0?"en-US":a,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],u=[],h=0,d=o;h<d.length;h++){var m=d[h];u=u.concat(bx(m))}var p=navigator.language,v=p&&bx(p);s=s.concat(u,v)}return r&&s.push(i),s.filter(FM).map(Xg).filter($M)}var GM=EN(HM,{cacheKey:JSON.stringify});function YM(t){return GM(t)[0]||null}var TN=EN(YM,{cacheKey:JSON.stringify});function ia(t,e,n){return function(a,i=n){const s=t(a)+i;return e(s)}}function du(t){return function(n){return new Date(t(n).getTime()-1)}}function fu(t,e){return function(r){return[t(r),e(r)]}}function He(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function ui(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Df(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Xo(t){const e=He(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const WM=ia(He,Xo,-100),SN=ia(He,Xo,100),rv=du(SN),KM=ia(He,rv,-100),NN=fu(Xo,rv);function hi(t){const e=He(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const AN=ia(He,hi,-10),av=ia(He,hi,10),Of=du(av),CN=ia(He,Of,-10),RN=fu(hi,Of);function Jo(t){const e=He(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const IN=ia(He,Jo,-1),iv=ia(He,Jo,1),jf=du(iv),DN=ia(He,jf,-1),QM=fu(Jo,jf);function sv(t,e){return function(r,a=e){const i=He(r),s=ui(r)+a,o=new Date;return o.setFullYear(i,s,1),o.setHours(0,0,0,0),t(o)}}function ds(t){const e=He(t),n=ui(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const ON=sv(ds,-1),ov=sv(ds,1),mu=du(ov),jN=sv(mu,-1),XM=fu(ds,mu);function JM(t,e){return function(r,a=e){const i=He(r),s=ui(r),o=Df(r)+a,u=new Date;return u.setFullYear(i,s,o),u.setHours(0,0,0,0),t(u)}}function pu(t){const e=He(t),n=ui(t),r=Df(t),a=new Date;return a.setFullYear(e,n,r),a.setHours(0,0,0,0),a}const ZM=JM(pu,1),lv=du(ZM),eP=fu(pu,lv);function kN(t){return Df(mu(t))}var Rt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},tP={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},cv=[0,1,2,3,4,5,6],Sp=new Map;function nP(t){return function(n,r){var a=n||TN();Sp.has(a)||Sp.set(a,new Map);var i=Sp.get(a);return i.has(t)||i.set(t,new Intl.DateTimeFormat(a||void 0,t).format),i.get(t)(r)}}function rP(t){var e=new Date(t);return new Date(e.setHours(12))}function fs(t){return function(e,n){return nP(t)(e,rP(n))}}var aP={day:"numeric"},iP={day:"numeric",month:"long",year:"numeric"},sP={month:"long"},oP={month:"long",year:"numeric"},lP={weekday:"short"},cP={weekday:"long"},uP={year:"numeric"},hP=fs(aP),dP=fs(iP),fP=fs(sP),MN=fs(oP),mP=fs(lP),pP=fs(cP),kf=fs(uP),gP=cv[0],yP=cv[5],xx=cv[6];function Bc(t,e){e===void 0&&(e=Rt.ISO_8601);var n=t.getDay();switch(e){case Rt.ISO_8601:return(n+6)%7;case Rt.ISLAMIC:return(n+1)%7;case Rt.HEBREW:case Rt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function vP(t){var e=Xo(t);return He(e)}function _P(t){var e=hi(t);return He(e)}function Jg(t,e){e===void 0&&(e=Rt.ISO_8601);var n=He(t),r=ui(t),a=t.getDate()-Bc(t,e);return new Date(n,r,a)}function bP(t,e){e===void 0&&(e=Rt.ISO_8601);var n=e===Rt.GREGORY?Rt.GREGORY:Rt.ISO_8601,r=Jg(t,e),a=He(t)+1,i,s;do i=new Date(a,0,n===Rt.ISO_8601?4:1),s=Jg(i,e),a-=1;while(t<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function Hi(t,e){switch(t){case"century":return Xo(e);case"decade":return hi(e);case"year":return Jo(e);case"month":return ds(e);case"day":return pu(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function xP(t,e){switch(t){case"century":return WM(e);case"decade":return AN(e);case"year":return IN(e);case"month":return ON(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function PN(t,e){switch(t){case"century":return SN(e);case"decade":return av(e);case"year":return iv(e);case"month":return ov(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function wP(t,e){switch(t){case"decade":return AN(e,-100);case"year":return IN(e,-10);case"month":return ON(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function EP(t,e){switch(t){case"decade":return av(e,100);case"year":return iv(e,10);case"month":return ov(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function LN(t,e){switch(t){case"century":return rv(e);case"decade":return Of(e);case"year":return jf(e);case"month":return mu(e);case"day":return lv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function TP(t,e){switch(t){case"century":return KM(e);case"decade":return CN(e);case"year":return DN(e);case"month":return jN(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function SP(t,e){switch(t){case"decade":return CN(e,-100);case"year":return DN(e,-10);case"month":return jN(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function wx(t,e){switch(t){case"century":return NN(e);case"decade":return RN(e);case"year":return QM(e);case"month":return XM(e);case"day":return eP(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function NP(t,e,n){var r=[e,n].sort(function(a,i){return a.getTime()-i.getTime()});return[Hi(t,r[0]),LN(t,r[1])]}function VN(t,e,n){return n.map(function(r){return(e||kf)(t,r)}).join("  ")}function AP(t,e,n){return VN(t,e,NN(n))}function UN(t,e,n){return VN(t,e,RN(n))}function CP(t){return t.getDay()===new Date().getDay()}function BN(t,e){e===void 0&&(e=Rt.ISO_8601);var n=t.getDay();switch(e){case Rt.ISLAMIC:case Rt.HEBREW:return n===yP||n===xx;case Rt.ISO_8601:case Rt.GREGORY:return n===xx||n===gP;default:throw new Error("Unsupported calendar type.")}}var sr="react-calendar__navigation";function RP(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,a=r===void 0?MN:r,i=t.formatYear,s=i===void 0?kf:i,o=t.locale,u=t.maxDate,h=t.minDate,d=t.navigationAriaLabel,m=d===void 0?"":d,p=t.navigationAriaLive,v=t.navigationLabel,x=t.next2AriaLabel,N=x===void 0?"":x,A=t.next2Label,y=A===void 0?"":A,_=t.nextAriaLabel,w=_===void 0?"":_,D=t.nextLabel,V=D===void 0?"":D,q=t.prev2AriaLabel,S=q===void 0?"":q,T=t.prev2Label,b=T===void 0?"":T,C=t.prevAriaLabel,O=C===void 0?"":C,j=t.prevLabel,I=j===void 0?"":j,G=t.setActiveStartDate,re=t.showDoubleView,k=t.view,U=t.views,$=U.indexOf(k)>0,Y=k!=="century",X=xP(k,e),be=Y?wP(k,e):void 0,H=PN(k,e),ne=Y?EP(k,e):void 0,Ae=function(){if(X.getFullYear()<0)return!0;var Qe=TP(k,e);return h&&h>=Qe}(),Te=Y&&function(){if(be.getFullYear()<0)return!0;var Qe=SP(k,e);return h&&h>=Qe}(),zt=u&&u<H,Tr=Y&&u&&u<ne;function Sr(){G(X,"prev")}function Fn(){G(be,"prev2")}function ul(){G(H,"next")}function hl(){G(ne,"next2")}function _i(Qe){var xi=function(){switch(k){case"century":return AP(o,s,Qe);case"decade":return UN(o,s,Qe);case"year":return s(o,Qe);case"month":return a(o,Qe);default:throw new Error("Invalid view: ".concat(k,"."))}}();return v?v({date:Qe,label:xi,locale:o||TN()||void 0,view:k}):xi}function bi(){var Qe="".concat(sr,"__label");return l.jsxs("button",{"aria-label":m,"aria-live":p,className:Qe,disabled:!$,onClick:n,style:{flexGrow:1},type:"button",children:[l.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--from"),children:_i(e)}),re?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"".concat(Qe,"__divider"),children:"  "}),l.jsx("span",{className:"".concat(Qe,"__labelText ").concat(Qe,"__labelText--to"),children:_i(H)})]}):null]})}return l.jsxs("div",{className:sr,children:[b!==null&&Y?l.jsx("button",{"aria-label":S,className:"".concat(sr,"__arrow ").concat(sr,"__prev2-button"),disabled:Te,onClick:Fn,type:"button",children:b}):null,I!==null&&l.jsx("button",{"aria-label":O,className:"".concat(sr,"__arrow ").concat(sr,"__prev-button"),disabled:Ae,onClick:Sr,type:"button",children:I}),bi(),V!==null&&l.jsx("button",{"aria-label":w,className:"".concat(sr,"__arrow ").concat(sr,"__next-button"),disabled:zt,onClick:ul,type:"button",children:V}),y!==null&&Y?l.jsx("button",{"aria-label":N,className:"".concat(sr,"__arrow ").concat(sr,"__next2-button"),disabled:Tr,onClick:hl,type:"button",children:y}):null]})}var to=function(){return to=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},to.apply(this,arguments)},IP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function Ex(t){return"".concat(t,"%")}function uv(t){var e=t.children,n=t.className,r=t.count,a=t.direction,i=t.offset,s=t.style,o=t.wrap,u=IP(t,["children","className","count","direction","offset","style","wrap"]);return l.jsx("div",to({className:n,style:to({display:"flex",flexDirection:a,flexWrap:o?"wrap":"nowrap"},s)},u,{children:R.Children.map(e,function(h,d){var m=i&&d===0?Ex(100*i/r):null;return R.cloneElement(h,to(to({},h.props),{style:{flexBasis:Ex(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))})}))}function DP(t,e,n){return e&&e>t?e:n&&n<t?n:t}function zc(t,e){return e[0]<=t&&e[1]>=t}function OP(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function zN(t,e){return zc(t[0],e)||zc(t[1],e)}function Tx(t,e,n){var r=zN(e,t),a=[];if(r){a.push(n);var i=zc(t[0],e),s=zc(t[1],e);i&&a.push("".concat(n,"Start")),s&&a.push("".concat(n,"End")),i&&s&&a.push("".concat(n,"BothEnds"))}return a}function jP(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function kP(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,a="react-calendar__tile",i=[a];if(!n)return i;var s=new Date,o=function(){if(Array.isArray(n))return n;var v=t.dateType;if(!v)throw new Error("dateType is required when date is not an array of two dates");return wx(v,n)}();if(zc(s,o)&&i.push("".concat(a,"--now")),!e||!jP(e))return i;var u=function(){if(Array.isArray(e))return e;var v=t.valueType;if(!v)throw new Error("valueType is required when value is not an array of two dates");return wx(v,e)}();OP(u,o)?i.push("".concat(a,"--active")):zN(u,o)&&i.push("".concat(a,"--hasActive"));var h=Tx(u,o,"".concat(a,"--range"));i.push.apply(i,h);var d=Array.isArray(e)?e:[e];if(r&&d.length===1){var m=r>u[0]?[u[0],r]:[r,u[0]],p=Tx(m,o,"".concat(a,"--hover"));i.push.apply(i,p)}return i}function Mf(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,a=t.dateTransform,i=t.dateType,s=t.end,o=t.hover,u=t.offset,h=t.renderTile,d=t.start,m=t.step,p=m===void 0?1:m,v=t.value,x=t.valueType,N=[],A=d;A<=s;A+=p){var y=a(A);N.push(h({classes:kP({date:y,dateType:i,hover:o,value:v,valueType:x}),date:y}))}return l.jsx(uv,{className:e,count:r,offset:u,wrap:!0,children:N})}function Pf(t){var e=t.activeStartDate,n=t.children,r=t.classes,a=t.date,i=t.formatAbbr,s=t.locale,o=t.maxDate,u=t.maxDateTransform,h=t.minDate,d=t.minDateTransform,m=t.onClick,p=t.onMouseOver,v=t.style,x=t.tileClassName,N=t.tileContent,A=t.tileDisabled,y=t.view,_=R.useMemo(function(){var D={activeStartDate:e,date:a,view:y};return typeof x=="function"?x(D):x},[e,a,x,y]),w=R.useMemo(function(){var D={activeStartDate:e,date:a,view:y};return typeof N=="function"?N(D):N},[e,a,N,y]);return l.jsxs("button",{className:If(r,_),disabled:h&&d(h)>a||o&&u(o)<a||(A==null?void 0:A({activeStartDate:e,date:a,view:y})),onClick:m?function(D){return m(a,D)}:void 0,onFocus:p?function(){return p(a)}:void 0,onMouseOver:p?function(){return p(a)}:void 0,style:v,type:"button",children:[i?l.jsx("abbr",{"aria-label":i(s,a),children:n}):n,w]})}var Zg=function(){return Zg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Zg.apply(this,arguments)},MP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Sx="react-calendar__century-view__decades__decade";function PP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,a=t.formatYear,i=a===void 0?kf:a,s=MP(t,["classes","currentCentury","formatYear"]),o=s.date,u=s.locale,h=[];return n&&h.push.apply(h,n),h.push(Sx),Xo(o).getFullYear()!==r&&h.push("".concat(Sx,"--neighboringCentury")),l.jsx(Pf,Zg({},s,{classes:h,maxDateTransform:Of,minDateTransform:hi,view:"century",children:UN(u,i,o)}))}var ey=function(){return ey=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ey.apply(this,arguments)},Nx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function LP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,a=t.value,i=t.valueType,s=Nx(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=vP(e),u=o+(r?119:99);return l.jsx(Mf,{className:"react-calendar__century-view__decades",dateTransform:hi,dateType:"decade",end:u,hover:n,renderTile:function(h){var d=h.date,m=Nx(h,["date"]);return l.jsx(PP,ey({},s,m,{activeStartDate:e,currentCentury:o,date:d}),d.getTime())},start:o,step:10,value:a,valueType:i})}var ty=function(){return ty=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ty.apply(this,arguments)};function VP(t){function e(){return l.jsx(LP,ty({},t))}return l.jsx("div",{className:"react-calendar__century-view",children:e()})}var ny=function(){return ny=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ny.apply(this,arguments)},UP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Ax="react-calendar__decade-view__years__year";function BP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,a=t.formatYear,i=a===void 0?kf:a,s=UP(t,["classes","currentDecade","formatYear"]),o=s.date,u=s.locale,h=[];return n&&h.push.apply(h,n),h.push(Ax),hi(o).getFullYear()!==r&&h.push("".concat(Ax,"--neighboringDecade")),l.jsx(Pf,ny({},s,{classes:h,maxDateTransform:jf,minDateTransform:Jo,view:"decade",children:i(u,o)}))}var ry=function(){return ry=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ry.apply(this,arguments)},Cx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function zP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,a=t.value,i=t.valueType,s=Cx(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=_P(e),u=o+(r?11:9);return l.jsx(Mf,{className:"react-calendar__decade-view__years",dateTransform:Jo,dateType:"year",end:u,hover:n,renderTile:function(h){var d=h.date,m=Cx(h,["date"]);return l.jsx(BP,ry({},s,m,{activeStartDate:e,currentDecade:o,date:d}),d.getTime())},start:o,value:a,valueType:i})}var ay=function(){return ay=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ay.apply(this,arguments)};function FP(t){function e(){return l.jsx(zP,ay({},t))}return l.jsx("div",{className:"react-calendar__decade-view",children:e()})}var iy=function(){return iy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},iy.apply(this,arguments)},$P=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Rx=function(t,e,n){if(n||arguments.length===2)for(var r=0,a=e.length,i;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},qP="react-calendar__year-view__months__month";function HP(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,a=r===void 0?fP:r,i=t.formatMonthYear,s=i===void 0?MN:i,o=$P(t,["classes","formatMonth","formatMonthYear"]),u=o.date,h=o.locale;return l.jsx(Pf,iy({},o,{classes:Rx(Rx([],n,!0),[qP],!1),formatAbbr:s,maxDateTransform:mu,minDateTransform:ds,view:"year",children:a(h,u)}))}var sy=function(){return sy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},sy.apply(this,arguments)},Ix=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function GP(t){var e=t.activeStartDate,n=t.hover,r=t.value,a=t.valueType,i=Ix(t,["activeStartDate","hover","value","valueType"]),s=0,o=11,u=He(e);return l.jsx(Mf,{className:"react-calendar__year-view__months",dateTransform:function(h){var d=new Date;return d.setFullYear(u,h,1),ds(d)},dateType:"month",end:o,hover:n,renderTile:function(h){var d=h.date,m=Ix(h,["date"]);return l.jsx(HP,sy({},i,m,{activeStartDate:e,date:d}),d.getTime())},start:s,value:r,valueType:a})}var oy=function(){return oy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},oy.apply(this,arguments)};function YP(t){function e(){return l.jsx(GP,oy({},t))}return l.jsx("div",{className:"react-calendar__year-view",children:e()})}var ly=function(){return ly=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ly.apply(this,arguments)},WP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},Np="react-calendar__month-view__days__day";function KP(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,a=t.currentMonthIndex,i=t.formatDay,s=i===void 0?hP:i,o=t.formatLongDate,u=o===void 0?dP:o,h=WP(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=h.date,m=h.locale,p=[];return r&&p.push.apply(p,r),p.push(Np),BN(d,e)&&p.push("".concat(Np,"--weekend")),d.getMonth()!==a&&p.push("".concat(Np,"--neighboringMonth")),l.jsx(Pf,ly({},h,{classes:p,formatAbbr:u,maxDateTransform:lv,minDateTransform:pu,view:"month",children:s(m,d)}))}var cy=function(){return cy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},cy.apply(this,arguments)},Dx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function QP(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,a=t.showFixedNumberOfWeeks,i=t.showNeighboringMonth,s=t.value,o=t.valueType,u=Dx(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),h=He(e),d=ui(e),m=a||i,p=Bc(e,n),v=m?0:p,x=(m?-p:0)+1,N=function(){if(a)return x+6*7-1;var A=kN(e);if(i){var y=new Date;y.setFullYear(h,d,A),y.setHours(0,0,0,0);var _=7-Bc(y,n)-1;return A+_}return A}();return l.jsx(Mf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(A){var y=new Date;return y.setFullYear(h,d,A),pu(y)},dateType:"day",hover:r,end:N,renderTile:function(A){var y=A.date,_=Dx(A,["date"]);return l.jsx(KP,cy({},u,_,{activeStartDate:e,calendarType:n,currentMonthIndex:d,date:y}),y.getTime())},offset:v,start:x,value:s,valueType:o})}var FN="react-calendar__month-view__weekdays",Ap="".concat(FN,"__weekday");function XP(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?mP:n,a=t.formatWeekday,i=a===void 0?pP:a,s=t.locale,o=t.onMouseLeave,u=new Date,h=ds(u),d=He(h),m=ui(h),p=[],v=1;v<=7;v+=1){var x=new Date(d,m,v-Bc(h,e)),N=i(s,x);p.push(l.jsx("div",{className:If(Ap,CP(x)&&"".concat(Ap,"--current"),BN(x,e)&&"".concat(Ap,"--weekend")),children:l.jsx("abbr",{"aria-label":N,title:N,children:r(s,x).replace(".","")})},v))}return l.jsx(uv,{className:FN,count:7,onFocus:o,onMouseOver:o,children:p})}var Dd=function(){return Dd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},Dd.apply(this,arguments)},Ox=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},jx="react-calendar__tile";function JP(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=l.jsx("span",{children:n});if(e){var a=t.date,i=t.onClickWeekNumber,s=t.weekNumber,o=Ox(t,["date","onClickWeekNumber","weekNumber"]);return l.jsx("button",Dd({},o,{className:jx,onClick:function(u){return i(s,a,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=Ox(t,["date","onClickWeekNumber","weekNumber"]);return l.jsx("div",Dd({},o,{className:jx,children:r}))}}function ZP(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,a=t.onMouseLeave,i=t.showFixedNumberOfWeeks,s=function(){if(i)return 6;var h=kN(e),d=Bc(e,n),m=h-(7-d);return 1+Math.ceil(m/7)}(),o=function(){for(var h=He(e),d=ui(e),m=Df(e),p=[],v=0;v<s;v+=1)p.push(Jg(new Date(h,d,m+v*7),n));return p}(),u=o.map(function(h){return bP(h,n)});return l.jsx(uv,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:a,onMouseOver:a,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(h,d){var m=o[d];if(!m)throw new Error("date is not defined");return l.jsx(JP,{date:m,onClickWeekNumber:r,weekNumber:h},h)})})}var uy=function(){return uy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},uy.apply(this,arguments)},e3=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n};function t3(t){if(t)for(var e=0,n=Object.entries(tP);e<n.length;e++){var r=n[e],a=r[0],i=r[1];if(i.includes(t))return a}return Rt.ISO_8601}function n3(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,a=t.showFixedNumberOfWeeks,i=t.calendarType,s=i===void 0?t3(n):i,o=t.formatShortWeekday,u=t.formatWeekday,h=t.onClickWeekNumber,d=t.showWeekNumbers,m=e3(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return l.jsx(XP,{calendarType:s,formatShortWeekday:o,formatWeekday:u,locale:n,onMouseLeave:r})}function v(){return d?l.jsx(ZP,{activeStartDate:e,calendarType:s,onClickWeekNumber:h,onMouseLeave:r,showFixedNumberOfWeeks:a}):null}function x(){return l.jsx(QP,uy({calendarType:s},m))}var N="react-calendar__month-view";return l.jsx("div",{className:If(N,d?"".concat(N,"--weekNumbers"):""),children:l.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[v(),l.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),x()]})]})})}var no=function(){return no=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},no.apply(this,arguments)},dh="react-calendar",$h=["century","decade","year","month"],r3=["decade","year","month","day"],hv=new Date;hv.setFullYear(1,0,1);hv.setHours(0,0,0,0);var a3=new Date(864e13);function Xl(t){return t instanceof Date?t:new Date(t)}function $N(t,e){return $h.slice($h.indexOf(t),$h.indexOf(e)+1)}function i3(t,e,n){var r=$N(e,n);return r.indexOf(t)!==-1}function dv(t,e,n){return t&&i3(t,e,n)?t:n}function qN(t){var e=$h.indexOf(t);return r3[e]}function s3(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Xl(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function HN(t,e){var n=t.value,r=t.minDate,a=t.maxDate,i=t.maxDetail,s=s3(n,e);if(!s)return null;var o=qN(i),u=function(){switch(e){case 0:return Hi(o,s);case 1:return LN(o,s);default:throw new Error("Invalid index value: ".concat(e))}}();return DP(u,r,a)}var fv=function(t){return HN(t,0)},GN=function(t){return HN(t,1)},o3=function(t){return[fv,GN].map(function(e){return e(t)})};function YN(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,a=t.minDetail,i=t.value,s=t.view,o=dv(s,a,n),u=fv({value:i,minDate:r,maxDate:e,maxDetail:n})||new Date;return Hi(o,u)}function l3(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,a=t.defaultView,i=t.maxDate,s=t.maxDetail,o=t.minDate,u=t.minDetail,h=t.value,d=t.view,m=dv(d,u,s),p=e||n;return p?Hi(m,p):YN({maxDate:i,maxDetail:s,minDate:o,minDetail:u,value:h||r,view:d||a})}function Cp(t){return t&&(!Array.isArray(t)||t.length===1)}function fh(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var c3=R.forwardRef(function(e,n){var r=e.activeStartDate,a=e.allowPartialRange,i=e.calendarType,s=e.className,o=e.defaultActiveStartDate,u=e.defaultValue,h=e.defaultView,d=e.formatDay,m=e.formatLongDate,p=e.formatMonth,v=e.formatMonthYear,x=e.formatShortWeekday,N=e.formatWeekday,A=e.formatYear,y=e.goToRangeStartOnSelect,_=y===void 0?!0:y,w=e.inputRef,D=e.locale,V=e.maxDate,q=V===void 0?a3:V,S=e.maxDetail,T=S===void 0?"month":S,b=e.minDate,C=b===void 0?hv:b,O=e.minDetail,j=O===void 0?"century":O,I=e.navigationAriaLabel,G=e.navigationAriaLive,re=e.navigationLabel,k=e.next2AriaLabel,U=e.next2Label,$=e.nextAriaLabel,Y=e.nextLabel,X=e.onActiveStartDateChange,be=e.onChange,H=e.onClickDay,ne=e.onClickDecade,Ae=e.onClickMonth,Te=e.onClickWeekNumber,zt=e.onClickYear,Tr=e.onDrillDown,Sr=e.onDrillUp,Fn=e.onViewChange,ul=e.prev2AriaLabel,hl=e.prev2Label,_i=e.prevAriaLabel,bi=e.prevLabel,Qe=e.returnValue,xi=Qe===void 0?"start":Qe,kt=e.selectRange,sa=e.showDoubleView,dl=e.showFixedNumberOfWeeks,dt=e.showNavigation,Et=dt===void 0?!0:dt,Es=e.showNeighboringCentury,Nm=e.showNeighboringDecade,fl=e.showNeighboringMonth,Am=fl===void 0?!0:fl,wi=e.showWeekNumbers,Ou=e.tileClassName,ju=e.tileContent,ml=e.tileDisabled,pl=e.value,ku=e.view,gl=R.useState(o),Mu=gl[0],er=gl[1],Ts=R.useState(null),yl=Ts[0],tr=Ts[1],vl=R.useState(Array.isArray(u)?u.map(function(ue){return ue!==null?Xl(ue):null}):u!=null?Xl(u):null),oa=vl[0],Pu=vl[1],la=R.useState(h),Lu=la[0],yt=la[1],Tt=r||Mu||l3({activeStartDate:r,defaultActiveStartDate:o,defaultValue:u,defaultView:h,maxDate:q,maxDetail:T,minDate:C,minDetail:j,value:pl,view:ku}),at=function(){var ue=function(){return kt&&Cp(oa)?oa:pl!==void 0?pl:oa}();return ue?Array.isArray(ue)?ue.map(function(Fe){return Fe!==null?Xl(Fe):null}):ue!==null?Xl(ue):null:null}(),nr=qN(T),Me=dv(ku||Lu,j,T),En=$N(j,T),ca=kt?yl:null,_l=En.indexOf(Me)<En.length-1,Vu=En.indexOf(Me)>0,Ei=R.useCallback(function(ue){var Fe=function(){switch(xi){case"start":return fv;case"end":return GN;case"range":return o3;default:throw new Error("Invalid returnValue.")}}();return Fe({maxDate:q,maxDetail:T,minDate:C,value:ue})},[q,T,C,xi]),Ss=R.useCallback(function(ue,Fe){er(ue);var Ge={action:Fe,activeStartDate:ue,value:at,view:Me};X&&!fh(Tt,ue)&&X(Ge)},[Tt,X,at,Me]),Ti=R.useCallback(function(ue,Fe){var Ge=function(){switch(Me){case"century":return ne;case"decade":return zt;case"year":return Ae;case"month":return H;default:throw new Error("Invalid view: ".concat(Me,"."))}}();Ge&&Ge(ue,Fe)},[H,ne,Ae,zt,Me]),Si=R.useCallback(function(ue,Fe){if(_l){Ti(ue,Fe);var Ge=En[En.indexOf(Me)+1];if(!Ge)throw new Error("Attempted to drill down from the lowest view.");er(ue),yt(Ge);var an={action:"drillDown",activeStartDate:ue,value:at,view:Ge};X&&!fh(Tt,ue)&&X(an),Fn&&Me!==Ge&&Fn(an),Tr&&Tr(an)}},[Tt,_l,X,Ti,Tr,Fn,at,Me,En]),Nr=R.useCallback(function(){if(Vu){var ue=En[En.indexOf(Me)-1];if(!ue)throw new Error("Attempted to drill up from the highest view.");var Fe=Hi(ue,Tt);er(Fe),yt(ue);var Ge={action:"drillUp",activeStartDate:Fe,value:at,view:ue};X&&!fh(Tt,Fe)&&X(Ge),Fn&&Me!==ue&&Fn(Ge),Sr&&Sr(Ge)}},[Tt,Vu,X,Sr,Fn,at,Me,En]),bl=R.useCallback(function(ue,Fe){var Ge=at;Ti(ue,Fe);var an=kt&&!Cp(Ge),Mt;if(kt)if(an)Mt=Hi(nr,ue);else{if(!Ge)throw new Error("previousValue is required");if(Array.isArray(Ge))throw new Error("previousValue must not be an array");Mt=NP(nr,Ge,ue)}else Mt=Ei(ue);var As=!kt||an||_?YN({maxDate:q,maxDetail:T,minDate:C,minDetail:j,value:Mt,view:Me}):null;Fe.persist(),er(As),Pu(Mt);var Tl={action:"onChange",activeStartDate:As,value:Mt,view:Me};if(X&&!fh(Tt,As)&&X(Tl),be)if(kt){var Ni=Cp(Mt);if(!Ni)be(Mt||null,Fe);else if(a){if(Array.isArray(Mt))throw new Error("value must not be an array");be([Mt||null,null],Fe)}}else be(Mt||null,Fe)},[Tt,a,Ei,_,q,T,C,j,X,be,Ti,kt,at,nr,Me]);function rr(ue){tr(ue)}function Ns(){tr(null)}R.useImperativeHandle(n,function(){return{activeStartDate:Tt,drillDown:Si,drillUp:Nr,onChange:bl,setActiveStartDate:Ss,value:at,view:Me}},[Tt,Si,Nr,bl,Ss,at,Me]);function xl(ue){var Fe=ue?PN(Me,Tt):Hi(Me,Tt),Ge=_l?Si:bl,an={activeStartDate:Fe,hover:ca,locale:D,maxDate:q,minDate:C,onClick:Ge,onMouseOver:kt?rr:void 0,tileClassName:Ou,tileContent:ju,tileDisabled:ml,value:at,valueType:nr};switch(Me){case"century":return l.jsx(VP,no({formatYear:A,showNeighboringCentury:Es},an));case"decade":return l.jsx(FP,no({formatYear:A,showNeighboringDecade:Nm},an));case"year":return l.jsx(YP,no({formatMonth:p,formatMonthYear:v},an));case"month":return l.jsx(n3,no({calendarType:i,formatDay:d,formatLongDate:m,formatShortWeekday:x,formatWeekday:N,onClickWeekNumber:Te,onMouseLeave:kt?Ns:void 0,showFixedNumberOfWeeks:typeof dl<"u"?dl:sa,showNeighboringMonth:Am,showWeekNumbers:wi},an));default:throw new Error("Invalid view: ".concat(Me,"."))}}function wl(){return Et?l.jsx(RP,{activeStartDate:Tt,drillUp:Nr,formatMonthYear:v,formatYear:A,locale:D,maxDate:q,minDate:C,navigationAriaLabel:I,navigationAriaLive:G,navigationLabel:re,next2AriaLabel:k,next2Label:U,nextAriaLabel:$,nextLabel:Y,prev2AriaLabel:ul,prev2Label:hl,prevAriaLabel:_i,prevLabel:bi,setActiveStartDate:Ss,showDoubleView:sa,view:Me,views:En}):null}var El=Array.isArray(at)?at:[at];return l.jsxs("div",{className:If(dh,kt&&El.length===1&&"".concat(dh,"--selectRange"),sa&&"".concat(dh,"--doubleView"),s),ref:w,children:[wl(),l.jsxs("div",{className:"".concat(dh,"__viewContainer"),onBlur:kt?Ns:void 0,onMouseLeave:kt?Ns:void 0,children:[xl(),sa?xl(!0):null]})]})});const u3=()=>{};var kx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},h3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const i=t[n++];e[r++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=t[n++],s=t[n++],o=t[n++],u=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return e.join("")},KN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const i=t[a],s=a+1<t.length,o=s?t[a+1]:0,u=a+2<t.length,h=u?t[a+2]:0,d=i>>2,m=(i&3)<<4|o>>4;let p=(o&15)<<2|h>>6,v=h&63;u||(v=64,s||(p=64)),r.push(n[d],n[m],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):h3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const i=n[t.charAt(a++)],o=a<t.length?n[t.charAt(a)]:0;++a;const h=a<t.length?n[t.charAt(a)]:64;++a;const m=a<t.length?n[t.charAt(a)]:64;if(++a,i==null||o==null||h==null||m==null)throw new d3;const p=i<<2|o>>4;if(r.push(p),h!==64){const v=o<<4&240|h>>2;if(r.push(v),m!==64){const x=h<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class d3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f3=function(t){const e=WN(t);return KN.encodeByteArray(e,!0)},Od=function(t){return f3(t).replace(/\./g,"")},QN=function(t){try{return KN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=()=>m3().__FIREBASE_DEFAULTS__,g3=()=>{if(typeof process>"u"||typeof kx>"u")return;const t=kx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},y3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&QN(t[1]);return e&&JSON.parse(e)},Lf=()=>{try{return u3()||p3()||g3()||y3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},XN=t=>{var e,n;return(n=(e=Lf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},JN=t=>{const e=XN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ZN=()=>{var t;return(t=Lf())==null?void 0:t.config},eA=t=>{var e;return(e=Lf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Od(JSON.stringify(n)),Od(JSON.stringify(s)),""].join(".")}const _c={};function _3(){const t={prod:[],emulator:[]};for(const e of Object.keys(_c))_c[e]?t.emulator.push(e):t.prod.push(e);return t}function b3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Mx=!1;function pv(t,e){if(typeof window>"u"||typeof document>"u"||!ms(window.location.host)||_c[t]===e||_c[t]||Mx)return;_c[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=_3().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,v){p.setAttribute("width","24"),p.setAttribute("id",v),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function h(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Mx=!0,s()},p}function d(p,v){p.setAttribute("id",v),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=b3(r),v=n("text"),x=document.getElementById(v)||document.createElement("span"),N=n("learnmore"),A=document.getElementById(N)||document.createElement("a"),y=n("preprendIcon"),_=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;o(w),d(A,N);const D=h();u(_,y),w.append(_,x,A,D),document.body.appendChild(w)}i?(x.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function w3(){var e;const t=(e=Lf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function E3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function S3(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N3(){return!w3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var i;e(((i=a.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function A3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=C3,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ps.prototype.create)}}class ps{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,i=this.errors[e],s=i?R3(i,r):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Bn(a,o,r)}}function R3(t,e){return t.replace(I3,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const I3=/\{\$([^}]+)}/g;function D3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Za(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const i=t[a],s=e[a];if(Px(i)&&Px(s)){if(!Za(i,s))return!1}else if(i!==s)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Px(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Jl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,i]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(i)}}),e}function Zl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function O3(t,e){const n=new j3(t,e);return n.subscribe.bind(n)}class j3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");k3(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Rp),a.error===void 0&&(a.error=Rp),a.complete===void 0&&(a.complete=Rp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function k3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=1e3,P3=2,L3=4*60*60*1e3,V3=.5;function Lx(t,e=M3,n=P3){const r=e*Math.pow(n,t),a=Math.round(V3*r*(Math.random()-.5)*2);return Math.min(L3,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class Un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new v3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z3(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:a});r.resolve(i)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);r===o&&s.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const i=this.instances.get(r);return i&&e(i,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B3(t){return t===Pi?void 0:t}function z3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(fe||(fe={}));const $3={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},q3=fe.INFO,H3={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},G3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=H3[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Vf{constructor(e){this.name=e,this._logLevel=q3,this._logHandler=G3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}}const Y3=(t,e)=>e.some(n=>t instanceof n);let Vx,Ux;function W3(){return Vx||(Vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K3(){return Ux||(Ux=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iA=new WeakMap,hy=new WeakMap,sA=new WeakMap,Ip=new WeakMap,gv=new WeakMap;function Q3(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n($a(t.result)),a()},s=()=>{r(t.error),a()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&iA.set(n,t)}).catch(()=>{}),gv.set(e,t),e}function X3(t){if(hy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),a()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});hy.set(t,e)}let dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $a(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J3(t){dy=t(dy)}function Z3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dp(this),e,...n);return sA.set(r,e.sort?e.sort():[e]),$a(r)}:K3().includes(t)?function(...e){return t.apply(Dp(this),e),$a(iA.get(this))}:function(...e){return $a(t.apply(Dp(this),e))}}function e6(t){return typeof t=="function"?Z3(t):(t instanceof IDBTransaction&&X3(t),Y3(t,W3())?new Proxy(t,dy):t)}function $a(t){if(t instanceof IDBRequest)return Q3(t);if(Ip.has(t))return Ip.get(t);const e=e6(t);return e!==t&&(Ip.set(t,e),gv.set(e,t)),e}const Dp=t=>gv.get(t);function oA(t,e,{blocked:n,upgrade:r,blocking:a,terminated:i}={}){const s=indexedDB.open(t,e),o=$a(s);return r&&s.addEventListener("upgradeneeded",u=>{r($a(s.result),u.oldVersion,u.newVersion,$a(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{i&&u.addEventListener("close",()=>i()),a&&u.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const t6=["get","getKey","getAll","getAllKeys","count"],n6=["put","add","delete","clear"],Op=new Map;function Bx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Op.get(e))return Op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=n6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||t6.includes(n)))return;const i=async function(s,...o){const u=this.transaction(s,a?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),a&&u.done]))[0]};return Op.set(e,i),i}J3(t=>({...t,get:(e,n,r)=>Bx(e,n)||t.get(e,n,r),has:(e,n)=>!!Bx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(a6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function a6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fy="@firebase/app",zx="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Vf("@firebase/app"),i6="@firebase/app-compat",s6="@firebase/analytics-compat",o6="@firebase/analytics",l6="@firebase/app-check-compat",c6="@firebase/app-check",u6="@firebase/auth",h6="@firebase/auth-compat",d6="@firebase/database",f6="@firebase/data-connect",m6="@firebase/database-compat",p6="@firebase/functions",g6="@firebase/functions-compat",y6="@firebase/installations",v6="@firebase/installations-compat",_6="@firebase/messaging",b6="@firebase/messaging-compat",x6="@firebase/performance",w6="@firebase/performance-compat",E6="@firebase/remote-config",T6="@firebase/remote-config-compat",S6="@firebase/storage",N6="@firebase/storage-compat",A6="@firebase/firestore",C6="@firebase/ai",R6="@firebase/firestore-compat",I6="firebase",D6="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="[DEFAULT]",O6={[fy]:"fire-core",[i6]:"fire-core-compat",[o6]:"fire-analytics",[s6]:"fire-analytics-compat",[c6]:"fire-app-check",[l6]:"fire-app-check-compat",[u6]:"fire-auth",[h6]:"fire-auth-compat",[d6]:"fire-rtdb",[f6]:"fire-data-connect",[m6]:"fire-rtdb-compat",[p6]:"fire-fn",[g6]:"fire-fn-compat",[y6]:"fire-iid",[v6]:"fire-iid-compat",[_6]:"fire-fcm",[b6]:"fire-fcm-compat",[x6]:"fire-perf",[w6]:"fire-perf-compat",[E6]:"fire-rc",[T6]:"fire-rc-compat",[S6]:"fire-gcs",[N6]:"fire-gcs-compat",[A6]:"fire-fst",[R6]:"fire-fst-compat",[C6]:"fire-vertex","fire-js":"fire-js",[I6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd=new Map,j6=new Map,py=new Map;function Fx(t,e){try{t.container.addComponent(e)}catch(n){Jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Kn(t){const e=t.name;if(py.has(e))return Jr.debug(`There were multiple attempts to register component ${e}.`),!1;py.set(e,t);for(const n of jd.values())Fx(n,t);for(const n of j6.values())Fx(n,t);return!0}function di(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Dn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qa=new ps("app","Firebase",k6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=D6;function lA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:my,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw qa.create("bad-app-name",{appName:String(a)});if(n||(n=ZN()),!n)throw qa.create("no-options");const i=jd.get(a);if(i){if(Za(n,i.options)&&Za(r,i.config))return i;throw qa.create("duplicate-app",{appName:a})}const s=new F3(a);for(const u of py.values())s.addComponent(u);const o=new M6(n,r,s);return jd.set(a,o),o}function Uf(t=my){const e=jd.get(t);if(!e&&t===my&&ZN())return lA();if(!e)throw qa.create("no-app",{appName:t});return e}function tn(t,e,n){let r=O6[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),i=e.match(/\s|\//);if(a||i){const s=[`Unable to register library "${r}" with version "${e}":`];a&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jr.warn(s.join(" "));return}Kn(new Un(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="firebase-heartbeat-database",L6=1,Fc="firebase-heartbeat-store";let jp=null;function cA(){return jp||(jp=oA(P6,L6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw qa.create("idb-open",{originalErrorMessage:t.message})})),jp}async function V6(t){try{const n=(await cA()).transaction(Fc),r=await n.objectStore(Fc).get(uA(t));return await n.done,r}catch(e){if(e instanceof Bn)Jr.warn(e.message);else{const n=qa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Jr.warn(n.message)}}}async function $x(t,e){try{const r=(await cA()).transaction(Fc,"readwrite");await r.objectStore(Fc).put(e,uA(t)),await r.done}catch(n){if(n instanceof Bn)Jr.warn(n.message);else{const r=qa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Jr.warn(r.message)}}}function uA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=1024,B6=30;class z6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>B6){const s=q6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Jr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qx(),{heartbeatsToSend:r,unsentEntries:a}=F6(this._heartbeatsCache.heartbeats),i=Od(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Jr.warn(n),""}}}function qx(){return new Date().toISOString().substring(0,10)}function F6(t,e=U6){const n=[];let r=t.slice();for(const a of t){const i=n.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),Hx(n)>e){i.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class $6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $x(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return $x(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Hx(t){return Od(JSON.stringify({version:2,heartbeats:t})).length}function q6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(t){Kn(new Un("platform-logger",e=>new r6(e),"PRIVATE")),Kn(new Un("heartbeat",e=>new z6(e),"PRIVATE")),tn(fy,zx,t),tn(fy,zx,"esm2020"),tn("fire-js","")}H6("");var Gx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,hA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function b(){}b.prototype=T.prototype,S.F=T.prototype,S.prototype=new b,S.prototype.constructor=S,S.D=function(C,O,j){for(var I=Array(arguments.length-2),G=2;G<arguments.length;G++)I[G-2]=arguments[G];return T.prototype[O].apply(C,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,T,b){b||(b=0);const C=Array(16);if(typeof T=="string")for(var O=0;O<16;++O)C[O]=T.charCodeAt(b++)|T.charCodeAt(b++)<<8|T.charCodeAt(b++)<<16|T.charCodeAt(b++)<<24;else for(O=0;O<16;++O)C[O]=T[b++]|T[b++]<<8|T[b++]<<16|T[b++]<<24;T=S.g[0],b=S.g[1],O=S.g[2];let j=S.g[3],I;I=T+(j^b&(O^j))+C[0]+3614090360&4294967295,T=b+(I<<7&4294967295|I>>>25),I=j+(O^T&(b^O))+C[1]+3905402710&4294967295,j=T+(I<<12&4294967295|I>>>20),I=O+(b^j&(T^b))+C[2]+606105819&4294967295,O=j+(I<<17&4294967295|I>>>15),I=b+(T^O&(j^T))+C[3]+3250441966&4294967295,b=O+(I<<22&4294967295|I>>>10),I=T+(j^b&(O^j))+C[4]+4118548399&4294967295,T=b+(I<<7&4294967295|I>>>25),I=j+(O^T&(b^O))+C[5]+1200080426&4294967295,j=T+(I<<12&4294967295|I>>>20),I=O+(b^j&(T^b))+C[6]+2821735955&4294967295,O=j+(I<<17&4294967295|I>>>15),I=b+(T^O&(j^T))+C[7]+4249261313&4294967295,b=O+(I<<22&4294967295|I>>>10),I=T+(j^b&(O^j))+C[8]+1770035416&4294967295,T=b+(I<<7&4294967295|I>>>25),I=j+(O^T&(b^O))+C[9]+2336552879&4294967295,j=T+(I<<12&4294967295|I>>>20),I=O+(b^j&(T^b))+C[10]+4294925233&4294967295,O=j+(I<<17&4294967295|I>>>15),I=b+(T^O&(j^T))+C[11]+2304563134&4294967295,b=O+(I<<22&4294967295|I>>>10),I=T+(j^b&(O^j))+C[12]+1804603682&4294967295,T=b+(I<<7&4294967295|I>>>25),I=j+(O^T&(b^O))+C[13]+4254626195&4294967295,j=T+(I<<12&4294967295|I>>>20),I=O+(b^j&(T^b))+C[14]+2792965006&4294967295,O=j+(I<<17&4294967295|I>>>15),I=b+(T^O&(j^T))+C[15]+1236535329&4294967295,b=O+(I<<22&4294967295|I>>>10),I=T+(O^j&(b^O))+C[1]+4129170786&4294967295,T=b+(I<<5&4294967295|I>>>27),I=j+(b^O&(T^b))+C[6]+3225465664&4294967295,j=T+(I<<9&4294967295|I>>>23),I=O+(T^b&(j^T))+C[11]+643717713&4294967295,O=j+(I<<14&4294967295|I>>>18),I=b+(j^T&(O^j))+C[0]+3921069994&4294967295,b=O+(I<<20&4294967295|I>>>12),I=T+(O^j&(b^O))+C[5]+3593408605&4294967295,T=b+(I<<5&4294967295|I>>>27),I=j+(b^O&(T^b))+C[10]+38016083&4294967295,j=T+(I<<9&4294967295|I>>>23),I=O+(T^b&(j^T))+C[15]+3634488961&4294967295,O=j+(I<<14&4294967295|I>>>18),I=b+(j^T&(O^j))+C[4]+3889429448&4294967295,b=O+(I<<20&4294967295|I>>>12),I=T+(O^j&(b^O))+C[9]+568446438&4294967295,T=b+(I<<5&4294967295|I>>>27),I=j+(b^O&(T^b))+C[14]+3275163606&4294967295,j=T+(I<<9&4294967295|I>>>23),I=O+(T^b&(j^T))+C[3]+4107603335&4294967295,O=j+(I<<14&4294967295|I>>>18),I=b+(j^T&(O^j))+C[8]+1163531501&4294967295,b=O+(I<<20&4294967295|I>>>12),I=T+(O^j&(b^O))+C[13]+2850285829&4294967295,T=b+(I<<5&4294967295|I>>>27),I=j+(b^O&(T^b))+C[2]+4243563512&4294967295,j=T+(I<<9&4294967295|I>>>23),I=O+(T^b&(j^T))+C[7]+1735328473&4294967295,O=j+(I<<14&4294967295|I>>>18),I=b+(j^T&(O^j))+C[12]+2368359562&4294967295,b=O+(I<<20&4294967295|I>>>12),I=T+(b^O^j)+C[5]+4294588738&4294967295,T=b+(I<<4&4294967295|I>>>28),I=j+(T^b^O)+C[8]+2272392833&4294967295,j=T+(I<<11&4294967295|I>>>21),I=O+(j^T^b)+C[11]+1839030562&4294967295,O=j+(I<<16&4294967295|I>>>16),I=b+(O^j^T)+C[14]+4259657740&4294967295,b=O+(I<<23&4294967295|I>>>9),I=T+(b^O^j)+C[1]+2763975236&4294967295,T=b+(I<<4&4294967295|I>>>28),I=j+(T^b^O)+C[4]+1272893353&4294967295,j=T+(I<<11&4294967295|I>>>21),I=O+(j^T^b)+C[7]+4139469664&4294967295,O=j+(I<<16&4294967295|I>>>16),I=b+(O^j^T)+C[10]+3200236656&4294967295,b=O+(I<<23&4294967295|I>>>9),I=T+(b^O^j)+C[13]+681279174&4294967295,T=b+(I<<4&4294967295|I>>>28),I=j+(T^b^O)+C[0]+3936430074&4294967295,j=T+(I<<11&4294967295|I>>>21),I=O+(j^T^b)+C[3]+3572445317&4294967295,O=j+(I<<16&4294967295|I>>>16),I=b+(O^j^T)+C[6]+76029189&4294967295,b=O+(I<<23&4294967295|I>>>9),I=T+(b^O^j)+C[9]+3654602809&4294967295,T=b+(I<<4&4294967295|I>>>28),I=j+(T^b^O)+C[12]+3873151461&4294967295,j=T+(I<<11&4294967295|I>>>21),I=O+(j^T^b)+C[15]+530742520&4294967295,O=j+(I<<16&4294967295|I>>>16),I=b+(O^j^T)+C[2]+3299628645&4294967295,b=O+(I<<23&4294967295|I>>>9),I=T+(O^(b|~j))+C[0]+4096336452&4294967295,T=b+(I<<6&4294967295|I>>>26),I=j+(b^(T|~O))+C[7]+1126891415&4294967295,j=T+(I<<10&4294967295|I>>>22),I=O+(T^(j|~b))+C[14]+2878612391&4294967295,O=j+(I<<15&4294967295|I>>>17),I=b+(j^(O|~T))+C[5]+4237533241&4294967295,b=O+(I<<21&4294967295|I>>>11),I=T+(O^(b|~j))+C[12]+1700485571&4294967295,T=b+(I<<6&4294967295|I>>>26),I=j+(b^(T|~O))+C[3]+2399980690&4294967295,j=T+(I<<10&4294967295|I>>>22),I=O+(T^(j|~b))+C[10]+4293915773&4294967295,O=j+(I<<15&4294967295|I>>>17),I=b+(j^(O|~T))+C[1]+2240044497&4294967295,b=O+(I<<21&4294967295|I>>>11),I=T+(O^(b|~j))+C[8]+1873313359&4294967295,T=b+(I<<6&4294967295|I>>>26),I=j+(b^(T|~O))+C[15]+4264355552&4294967295,j=T+(I<<10&4294967295|I>>>22),I=O+(T^(j|~b))+C[6]+2734768916&4294967295,O=j+(I<<15&4294967295|I>>>17),I=b+(j^(O|~T))+C[13]+1309151649&4294967295,b=O+(I<<21&4294967295|I>>>11),I=T+(O^(b|~j))+C[4]+4149444226&4294967295,T=b+(I<<6&4294967295|I>>>26),I=j+(b^(T|~O))+C[11]+3174756917&4294967295,j=T+(I<<10&4294967295|I>>>22),I=O+(T^(j|~b))+C[2]+718787259&4294967295,O=j+(I<<15&4294967295|I>>>17),I=b+(j^(O|~T))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+j&4294967295}r.prototype.v=function(S,T){T===void 0&&(T=S.length);const b=T-this.blockSize,C=this.C;let O=this.h,j=0;for(;j<T;){if(O==0)for(;j<=b;)a(this,S,j),j+=this.blockSize;if(typeof S=="string"){for(;j<T;)if(C[O++]=S.charCodeAt(j++),O==this.blockSize){a(this,C),O=0;break}}else for(;j<T;)if(C[O++]=S[j++],O==this.blockSize){a(this,C),O=0;break}}this.h=O,this.o+=T},r.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var b=S.length-8;b<S.length;++b)S[b]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,b=0;b<4;++b)for(let C=0;C<32;C+=8)S[T++]=this.g[b]>>>C&255;return S};function i(S,T){var b=o;return Object.prototype.hasOwnProperty.call(b,S)?b[S]:b[S]=T(S)}function s(S,T){this.h=T;const b=[];let C=!0;for(let O=S.length-1;O>=0;O--){const j=S[O]|0;C&&j==T||(b[O]=j,C=!1)}this.g=b}var o={};function u(S){return-128<=S&&S<128?i(S,function(T){return new s([T|0],T<0?-1:0)}):new s([S|0],S<0?-1:0)}function h(S){if(isNaN(S)||!isFinite(S))return m;if(S<0)return A(h(-S));const T=[];let b=1;for(let C=0;S>=b;C++)T[C]=S/b|0,b*=4294967296;return new s(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return A(d(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const b=h(Math.pow(T,8));let C=m;for(let j=0;j<S.length;j+=8){var O=Math.min(8,S.length-j);const I=parseInt(S.substring(j,j+O),T);O<8?(O=h(Math.pow(T,O)),C=C.j(O).add(h(I))):(C=C.j(b),C=C.add(h(I)))}return C}var m=u(0),p=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-A(this).m();let S=0,T=1;for(let b=0;b<this.g.length;b++){const C=this.i(b);S+=(C>=0?C:4294967296+C)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(N(this))return"-"+A(this).toString(S);const T=h(Math.pow(S,6));var b=this;let C="";for(;;){const O=D(b,T).g;b=y(b,O.j(T));let j=((b.g.length>0?b.g[0]:b.h)>>>0).toString(S);if(b=O,x(b))return j+C;for(;j.length<6;)j="0"+j;C=j+C}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=y(this,S),N(S)?-1:x(S)?0:1};function A(S){const T=S.g.length,b=[];for(let C=0;C<T;C++)b[C]=~S.g[C];return new s(b,~S.h).add(p)}t.abs=function(){return N(this)?A(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),b=[];let C=0;for(let O=0;O<=T;O++){let j=C+(this.i(O)&65535)+(S.i(O)&65535),I=(j>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);C=I>>>16,j&=65535,I&=65535,b[O]=I<<16|j}return new s(b,b[b.length-1]&-2147483648?-1:0)};function y(S,T){return S.add(A(T))}t.j=function(S){if(x(this)||x(S))return m;if(N(this))return N(S)?A(this).j(A(S)):A(A(this).j(S));if(N(S))return A(this.j(A(S)));if(this.l(v)<0&&S.l(v)<0)return h(this.m()*S.m());const T=this.g.length+S.g.length,b=[];for(var C=0;C<2*T;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(let O=0;O<S.g.length;O++){const j=this.i(C)>>>16,I=this.i(C)&65535,G=S.i(O)>>>16,re=S.i(O)&65535;b[2*C+2*O]+=I*re,_(b,2*C+2*O),b[2*C+2*O+1]+=j*re,_(b,2*C+2*O+1),b[2*C+2*O+1]+=I*G,_(b,2*C+2*O+1),b[2*C+2*O+2]+=j*G,_(b,2*C+2*O+2)}for(S=0;S<T;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=T;S<2*T;S++)b[S]=0;return new s(b,0)};function _(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function w(S,T){this.g=S,this.h=T}function D(S,T){if(x(T))throw Error("division by zero");if(x(S))return new w(m,m);if(N(S))return T=D(A(S),T),new w(A(T.g),A(T.h));if(N(T))return T=D(S,A(T)),new w(A(T.g),T.h);if(S.g.length>30){if(N(S)||N(T))throw Error("slowDivide_ only works with positive integers.");for(var b=p,C=T;C.l(S)<=0;)b=V(b),C=V(C);var O=q(b,1),j=q(C,1);for(C=q(C,2),b=q(b,2);!x(C);){var I=j.add(C);I.l(S)<=0&&(O=O.add(b),j=I),C=q(C,1),b=q(b,1)}return T=y(S,O.j(T)),new w(O,T)}for(O=m;S.l(T)>=0;){for(b=Math.max(1,Math.floor(S.m()/T.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),j=h(b),I=j.j(T);N(I)||I.l(S)>0;)b-=C,j=h(b),I=j.j(T);x(j)&&(j=p),O=O.add(j),S=y(S,I)}return new w(O,S)}t.B=function(S){return D(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),b=[];for(let C=0;C<T;C++)b[C]=this.i(C)&S.i(C);return new s(b,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),b=[];for(let C=0;C<T;C++)b[C]=this.i(C)|S.i(C);return new s(b,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),b=[];for(let C=0;C<T;C++)b[C]=this.i(C)^S.i(C);return new s(b,this.h^S.h)};function V(S){const T=S.g.length+1,b=[];for(let C=0;C<T;C++)b[C]=S.i(C)<<1|S.i(C-1)>>>31;return new s(b,S.h)}function q(S,T){const b=T>>5;T%=32;const C=S.g.length-b,O=[];for(let j=0;j<C;j++)O[j]=T>0?S.i(j+b)>>>T|S.i(j+b+1)<<32-T:S.i(j+b);return new s(O,S.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hA=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=h,s.fromString=d,Ha=s}).apply(typeof Gx<"u"?Gx:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dA,ec,fA,qh,gy,mA,pA,gA;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function a(c,f){if(f)e:{var g=r;c=c.split(".");for(var E=0;E<c.length-1;E++){var M=c[E];if(!(M in g))break e;g=g[M]}c=c[c.length-1],E=g[c],f=f(E),f!=E&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}a("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(c){return c||function(f){var g=[],E;for(E in f)Object.prototype.hasOwnProperty.call(f,E)&&g.push([E,f[E]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},s=this||self;function o(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function u(c,f,g){return c.call.apply(c.bind,arguments)}function h(c,f,g){return h=u,h.apply(null,arguments)}function d(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),c.apply(this,E)}}function m(c,f){function g(){}g.prototype=f.prototype,c.Z=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Ob=function(E,M,P){for(var W=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)W[ce-2]=arguments[ce];return f.prototype[M].apply(E,W)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function v(c){const f=c.length;if(f>0){const g=Array(f);for(let E=0;E<f;E++)g[E]=c[E];return g}return[]}function x(c,f){for(let E=1;E<arguments.length;E++){const M=arguments[E];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=c.length||0;const P=M.length||0;c.length=g+P;for(let W=0;W<P;W++)c[g+W]=M[W]}else c.push(M)}}class N{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function A(c){s.setTimeout(()=>{throw c},0)}function y(){var c=S;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class _{constructor(){this.h=this.g=null}add(f,g){const E=w.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var w=new N(()=>new D,c=>c.reset());class D{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,q=!1,S=new _,T=()=>{const c=Promise.resolve(void 0);V=()=>{c.then(b)}};function b(){for(var c;c=y();){try{c.h.call(c.g)}catch(g){A(g)}var f=w;f.j(c),f.h<100&&(f.h++,c.next=f.g,f.g=c)}q=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const g=()=>{};s.addEventListener("test",g,f),s.removeEventListener("test",g,f)}catch{}return c}();function I(c){return/^[\s\xa0]*$/.test(c)}function G(c,f){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,f)}m(G,O),G.prototype.init=function(c,f){const g=this.type=c.type,E=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget,f||(g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement)),this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),k=0;function U(c,f,g,E,M){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=M,this.key=++k,this.da=this.fa=!1}function $(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Y(c,f,g){for(const E in c)f.call(g,c[E],E,c)}function X(c,f){for(const g in c)f.call(void 0,c[g],g,c)}function be(c){const f={};for(const g in c)f[g]=c[g];return f}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(c,f){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)c[g]=E[g];for(let P=0;P<H.length;P++)g=H[P],Object.prototype.hasOwnProperty.call(E,g)&&(c[g]=E[g])}}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,f,g,E,M){const P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);const W=zt(c,f,E,M);return W>-1?(f=c[W],g||(f.fa=!1)):(f=new U(f,this.src,P,!!E,M),f.fa=g,c.push(f)),f};function Te(c,f){const g=f.type;if(g in c.g){var E=c.g[g],M=Array.prototype.indexOf.call(E,f,void 0),P;(P=M>=0)&&Array.prototype.splice.call(E,M,1),P&&($(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function zt(c,f,g,E){for(let M=0;M<c.length;++M){const P=c[M];if(!P.da&&P.listener==f&&P.capture==!!g&&P.ha==E)return M}return-1}var Tr="closure_lm_"+(Math.random()*1e6|0),Sr={};function Fn(c,f,g,E,M){if(Array.isArray(f)){for(let P=0;P<f.length;P++)Fn(c,f[P],g,E,M);return null}return g=dl(g),c&&c[re]?c.J(f,g,o(E)?!!E.capture:!1,M):ul(c,f,g,!1,E,M)}function ul(c,f,g,E,M,P){if(!f)throw Error("Invalid event type");const W=o(M)?!!M.capture:!!M;let ce=kt(c);if(ce||(c[Tr]=ce=new Ae(c)),g=ce.add(f,g,E,W,P),g.proxy)return g;if(E=hl(),g.proxy=E,E.src=c,E.listener=g,c.addEventListener)j||(M=W),M===void 0&&(M=!1),c.addEventListener(f.toString(),E,M);else if(c.attachEvent)c.attachEvent(Qe(f.toString()),E);else if(c.addListener&&c.removeListener)c.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function hl(){function c(g){return f.call(c.src,c.listener,g)}const f=xi;return c}function _i(c,f,g,E,M){if(Array.isArray(f))for(var P=0;P<f.length;P++)_i(c,f[P],g,E,M);else E=o(E)?!!E.capture:!!E,g=dl(g),c&&c[re]?(c=c.i,P=String(f).toString(),P in c.g&&(f=c.g[P],g=zt(f,g,E,M),g>-1&&($(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete c.g[P],c.h--)))):c&&(c=kt(c))&&(f=c.g[f.toString()],c=-1,f&&(c=zt(f,g,E,M)),(g=c>-1?f[c]:null)&&bi(g))}function bi(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[re])Te(f.i,c);else{var g=c.type,E=c.proxy;f.removeEventListener?f.removeEventListener(g,E,c.capture):f.detachEvent?f.detachEvent(Qe(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=kt(f))?(Te(g,c),g.h==0&&(g.src=null,f[Tr]=null)):$(c)}}}function Qe(c){return c in Sr?Sr[c]:Sr[c]="on"+c}function xi(c,f){if(c.da)c=!0;else{f=new G(f,this);const g=c.listener,E=c.ha||c.src;c.fa&&bi(c),c=g.call(E,f)}return c}function kt(c){return c=c[Tr],c instanceof Ae?c:null}var sa="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(c){return typeof c=="function"?c:(c[sa]||(c[sa]=function(f){return c.handleEvent(f)}),c[sa])}function dt(){C.call(this),this.i=new Ae(this),this.M=this,this.G=null}m(dt,C),dt.prototype[re]=!0,dt.prototype.removeEventListener=function(c,f,g,E){_i(this,c,f,g,E)};function Et(c,f){var g,E=c.G;if(E)for(g=[];E;E=E.G)g.push(E);if(c=c.M,E=f.type||f,typeof f=="string")f=new O(f,c);else if(f instanceof O)f.target=f.target||c;else{var M=f;f=new O(E,c),ne(f,M)}M=!0;let P,W;if(g)for(W=g.length-1;W>=0;W--)P=f.g=g[W],M=Es(P,E,!0,f)&&M;if(P=f.g=c,M=Es(P,E,!0,f)&&M,M=Es(P,E,!1,f)&&M,g)for(W=0;W<g.length;W++)P=f.g=g[W],M=Es(P,E,!1,f)&&M}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var c=this.i;for(const f in c.g){const g=c.g[f];for(let E=0;E<g.length;E++)$(g[E]);delete c.g[f],c.h--}}this.G=null},dt.prototype.J=function(c,f,g,E){return this.i.add(String(c),f,!1,g,E)},dt.prototype.K=function(c,f,g,E){return this.i.add(String(c),f,!0,g,E)};function Es(c,f,g,E){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let P=0;P<f.length;++P){const W=f[P];if(W&&!W.da&&W.capture==g){const ce=W.listener,ft=W.ha||W.src;W.fa&&Te(c.i,W),M=ce.call(ft,E)!==!1&&M}}return M&&!E.defaultPrevented}function Nm(c,f){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=h(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:s.setTimeout(c,f||0)}function fl(c){c.g=Nm(()=>{c.g=null,c.i&&(c.i=!1,fl(c))},c.l);const f=c.h;c.h=null,c.m.apply(null,f)}class Am extends C{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:fl(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(c){C.call(this),this.h=c,this.g={}}m(wi,C);var Ou=[];function ju(c){Y(c.g,function(f,g){this.g.hasOwnProperty(g)&&bi(f)},c),c.g={}}wi.prototype.N=function(){wi.Z.N.call(this),ju(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ml=s.JSON.stringify,pl=s.JSON.parse,ku=class{stringify(c){return s.JSON.stringify(c,void 0)}parse(c){return s.JSON.parse(c,void 0)}};function gl(){}function Mu(){}var er={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ts(){O.call(this,"d")}m(Ts,O);function yl(){O.call(this,"c")}m(yl,O);var tr={},vl=null;function oa(){return vl=vl||new dt}tr.Ia="serverreachability";function Pu(c){O.call(this,tr.Ia,c)}m(Pu,O);function la(c){const f=oa();Et(f,new Pu(f))}tr.STAT_EVENT="statevent";function Lu(c,f){O.call(this,tr.STAT_EVENT,c),this.stat=f}m(Lu,O);function yt(c){const f=oa();Et(f,new Lu(f,c))}tr.Ja="timingevent";function Tt(c,f){O.call(this,tr.Ja,c),this.size=f}m(Tt,O);function at(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){c()},f)}function nr(){this.g=!0}nr.prototype.ua=function(){this.g=!1};function Me(c,f,g,E,M,P){c.info(function(){if(c.g)if(P){var W="",ce=P.split("&");for(let Ie=0;Ie<ce.length;Ie++){var ft=ce[Ie].split("=");if(ft.length>1){const vt=ft[0];ft=ft[1];const ir=vt.split("_");W=ir.length>=2&&ir[1]=="type"?W+(vt+"="+ft+"&"):W+(vt+"=redacted&")}}}else W=null;else W=P;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+g+`
`+W})}function En(c,f,g,E,M,P,W){c.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+g+`
`+P+" "+W})}function ca(c,f,g,E){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Vu(c,g)+(E?" "+E:"")})}function _l(c,f){c.info(function(){return"TIMEOUT: "+f})}nr.prototype.info=function(){};function Vu(c,f){if(!c.g)return f;if(!f)return null;try{const P=JSON.parse(f);if(P){for(c=0;c<P.length;c++)if(Array.isArray(P[c])){var g=P[c];if(!(g.length<2)){var E=g[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let W=1;W<E.length;W++)E[W]=""}}}}return ml(P)}catch{return f}}var Ei={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ss={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ti;function Si(){}m(Si,gl),Si.prototype.g=function(){return new XMLHttpRequest},Ti=new Si;function Nr(c){return encodeURIComponent(String(c))}function bl(c){var f=1;c=c.split(":");const g=[];for(;f>0&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function rr(c,f,g,E){this.j=c,this.i=f,this.l=g,this.S=E||1,this.V=new wi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ns}function Ns(){this.i=null,this.g="",this.h=!1}var xl={},wl={};function El(c,f,g){c.M=1,c.A=Uu(ar(f)),c.u=g,c.R=!0,ue(c,null)}function ue(c,f){c.F=Date.now(),Mt(c),c.B=ar(c.A);var g=c.B,E=c.S;Array.isArray(E)||(E=[String(E)]),h1(g.i,"t",E),c.C=0,g=c.j.L,c.h=new Ns,c.g=R1(c.j,g?f:null,!c.u),c.P>0&&(c.O=new Am(h(c.Y,c,c.g),c.P)),f=c.V,g=c.g,E=c.ba;var M="readystatechange";Array.isArray(M)||(M&&(Ou[0]=M.toString()),M=Ou);for(let P=0;P<M.length;P++){const W=Fn(g,M[P],E||f.handleEvent,!1,f.h||f);if(!W)break;f.g[W.key]=W}f=c.J?be(c.J):{},c.u?(c.v||(c.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,f)):(c.v="GET",c.g.ea(c.B,c.v,null,f)),la(),Me(c.i,c.v,c.B,c.l,c.S,c.u)}rr.prototype.ba=function(c){c=c.target;const f=this.O;f&&da(c)==3?f.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{const ce=da(this.g),ft=this.g.ya(),Ie=this.g.ca();if(!(ce<3)&&(ce!=3||this.g&&(this.h.h||this.g.la()||v1(this.g)))){this.K||ce!=4||ft==7||(ft==8||Ie<=0?la(3):la(2)),Tl(this);var f=this.g.ca();this.X=f;var g=Fe(this);if(this.o=f==200,En(this.i,this.v,this.B,this.l,this.S,ce,f),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(E)){var P=E;break t}}P=null}if(c=P)ca(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Cm(this,c);else{this.o=!1,this.m=3,yt(12),Ai(this),Ni(this);break e}}if(this.R){c=!0;let vt;for(;!this.K&&this.C<g.length;)if(vt=an(this,g),vt==wl){ce==4&&(this.m=4,yt(14),c=!1),ca(this.i,this.l,null,"[Incomplete Response]");break}else if(vt==xl){this.m=4,yt(15),ca(this.i,this.l,g,"[Invalid Chunk]"),c=!1;break}else ca(this.i,this.l,vt,null),Cm(this,vt);if(Ge(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ce!=4||g.length!=0||this.h.h||(this.m=1,yt(16),c=!1),this.o=this.o&&c,!c)ca(this.i,this.l,g,"[Invalid Chunked Response]"),Ai(this),Ni(this);else if(g.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Pm(W),W.P=!0,yt(11))}}else ca(this.i,this.l,g,null),Cm(this,g);ce==4&&Ai(this),this.o&&!this.K&&(ce==4?S1(this.j,this):(this.o=!1,Mt(this)))}else qI(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),Ai(this),Ni(this)}}}catch{}finally{}};function Fe(c){if(!Ge(c))return c.g.la();const f=v1(c.g);if(f==="")return"";let g="";const E=f.length,M=da(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Ai(c),Ni(c),"";c.h.i=new s.TextDecoder}for(let P=0;P<E;P++)c.h.h=!0,g+=c.h.i.decode(f[P],{stream:!(M&&P==E-1)});return f.length=0,c.h.g+=g,c.C=0,c.h.g}function Ge(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function an(c,f){var g=c.C,E=f.indexOf(`
`,g);return E==-1?wl:(g=Number(f.substring(g,E)),isNaN(g)?xl:(E+=1,E+g>f.length?wl:(f=f.slice(E,E+g),c.C=E+g,f)))}rr.prototype.cancel=function(){this.K=!0,Ai(this)};function Mt(c){c.T=Date.now()+c.H,As(c,c.H)}function As(c,f){if(c.D!=null)throw Error("WatchDog timer not null");c.D=at(h(c.aa,c),f)}function Tl(c){c.D&&(s.clearTimeout(c.D),c.D=null)}rr.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(_l(this.i,this.B),this.M!=2&&(la(),yt(17)),Ai(this),this.m=2,Ni(this)):As(this,this.T-c)};function Ni(c){c.j.I==0||c.K||S1(c.j,c)}function Ai(c){Tl(c);var f=c.O;f&&typeof f.dispose=="function"&&f.dispose(),c.O=null,ju(c.V),c.g&&(f=c.g,c.g=null,f.abort(),f.dispose())}function Cm(c,f){try{var g=c.j;if(g.I!=0&&(g.g==c||Rm(g.h,c))){if(!c.L&&Rm(g.h,c)&&g.I==3){try{var E=g.Ba.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<c.F)qu(g),Fu(g);else break e;Mm(g),yt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=at(h(g.Va,g),6e3));r1(g.h)<=1&&g.ta&&(g.ta=void 0)}else Ri(g,11)}else if((c.L||g.g==c)&&qu(g),!I(f))for(M=g.Ba.g.parse(f),f=0;f<M.length;f++){let Ie=M[f];const vt=Ie[0];if(!(vt<=g.K))if(g.K=vt,Ie=Ie[1],g.I==2)if(Ie[0]=="c"){g.M=Ie[1],g.ba=Ie[2];const ir=Ie[3];ir!=null&&(g.ka=ir,g.j.info("VER="+g.ka));const Ii=Ie[4];Ii!=null&&(g.za=Ii,g.j.info("SVER="+g.za));const fa=Ie[5];fa!=null&&typeof fa=="number"&&fa>0&&(E=1.5*fa,g.O=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const ma=c.g;if(ma){const Gu=ma.g?ma.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var P=E.h;P.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Im(P,P.h),P.h=null))}if(E.G){const Lm=ma.g?ma.g.getResponseHeader("X-HTTP-Session-Id"):null;Lm&&(E.wa=Lm,Pe(E.J,E.G,Lm))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-c.F,g.j.info("Handshake RTT: "+g.T+"ms")),E=g;var W=c;if(E.na=C1(E,E.L?E.ba:null,E.W),W.L){a1(E.h,W);var ce=W,ft=E.O;ft&&(ce.H=ft),ce.D&&(Tl(ce),Mt(ce)),E.g=W}else E1(E);g.i.length>0&&$u(g)}else Ie[0]!="stop"&&Ie[0]!="close"||Ri(g,7);else g.I==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Ri(g,7):km(g):Ie[0]!="noop"&&g.l&&g.l.qa(Ie),g.A=0)}}la(4)}catch{}}var DI=class{constructor(c,f){this.g=c,this.map=f}};function t1(c){this.l=c||10,s.PerformanceNavigationTiming?(c=s.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function n1(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function r1(c){return c.h?1:c.g?c.g.size:0}function Rm(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Im(c,f){c.g?c.g.add(f):c.h=f}function a1(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}t1.prototype.cancel=function(){if(this.i=i1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function i1(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let f=c.i;for(const g of c.g.values())f=f.concat(g.G);return f}return v(c.i)}var s1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function OI(c,f){if(c){c=c.split("&");for(let g=0;g<c.length;g++){const E=c[g].indexOf("=");let M,P=null;E>=0?(M=c[g].substring(0,E),P=c[g].substring(E+1)):M=c[g],f(M,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function ua(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;c instanceof ua?(this.l=c.l,Sl(this,c.j),this.o=c.o,this.g=c.g,Nl(this,c.u),this.h=c.h,Dm(this,d1(c.i)),this.m=c.m):c&&(f=String(c).match(s1))?(this.l=!1,Sl(this,f[1]||"",!0),this.o=Al(f[2]||""),this.g=Al(f[3]||"",!0),Nl(this,f[4]),this.h=Al(f[5]||"",!0),Dm(this,f[6]||"",!0),this.m=Al(f[7]||"")):(this.l=!1,this.i=new Rl(null,this.l))}ua.prototype.toString=function(){const c=[];var f=this.j;f&&c.push(Cl(f,o1,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Cl(f,o1,!0),"@"),c.push(Nr(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&c.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Cl(g,g.charAt(0)=="/"?MI:kI,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Cl(g,LI)),c.join("")},ua.prototype.resolve=function(c){const f=ar(this);let g=!!c.j;g?Sl(f,c.j):g=!!c.o,g?f.o=c.o:g=!!c.g,g?f.g=c.g:g=c.u!=null;var E=c.h;if(g)Nl(f,c.u);else if(g=!!c.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=f.h.lastIndexOf("/");M!=-1&&(E=f.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const P=[];for(let W=0;W<M.length;){const ce=M[W++];ce=="."?E&&W==M.length&&P.push(""):ce==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),E&&W==M.length&&P.push("")):(P.push(ce),E=!0)}E=P.join("/")}else E=M}return g?f.h=E:g=c.i.toString()!=="",g?Dm(f,d1(c.i)):g=!!c.m,g&&(f.m=c.m),f};function ar(c){return new ua(c)}function Sl(c,f,g){c.j=g?Al(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Nl(c,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);c.u=f}else c.u=null}function Dm(c,f,g){f instanceof Rl?(c.i=f,VI(c.i,c.l)):(g||(f=Cl(f,PI)),c.i=new Rl(f,c.l))}function Pe(c,f,g){c.i.set(f,g)}function Uu(c){return Pe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Al(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cl(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,jI),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var o1=/[#\/\?@]/g,kI=/[#\?:]/g,MI=/[#\?]/g,PI=/[#\?@]/g,LI=/#/g;function Rl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Ci(c){c.g||(c.g=new Map,c.h=0,c.i&&OI(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Rl.prototype,t.add=function(c,f){Ci(this),this.i=null,c=Cs(this,c);let g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function l1(c,f){Ci(c),f=Cs(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function c1(c,f){return Ci(c),f=Cs(c,f),c.g.has(f)}t.forEach=function(c,f){Ci(this),this.g.forEach(function(g,E){g.forEach(function(M){c.call(f,M,E,this)},this)},this)};function u1(c,f){Ci(c);let g=[];if(typeof f=="string")c1(c,f)&&(g=g.concat(c.g.get(Cs(c,f))));else for(c=Array.from(c.g.values()),f=0;f<c.length;f++)g=g.concat(c[f]);return g}t.set=function(c,f){return Ci(this),this.i=null,c=Cs(this,c),c1(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=u1(this,c),c.length>0?String(c[0]):f):f};function h1(c,f,g){l1(c,f),g.length>0&&(c.i=null,c.g.set(Cs(c,f),v(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],f=Array.from(this.g.keys());for(let E=0;E<f.length;E++){var g=f[E];const M=Nr(g);g=u1(this,g);for(let P=0;P<g.length;P++){let W=M;g[P]!==""&&(W+="="+Nr(g[P])),c.push(W)}}return this.i=c.join("&")};function d1(c){const f=new Rl;return f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),f}function Cs(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function VI(c,f){f&&!c.j&&(Ci(c),c.i=null,c.g.forEach(function(g,E){const M=E.toLowerCase();E!=M&&(l1(this,E),h1(this,M,g))},c)),c.j=f}function UI(c,f){const g=new nr;if(s.Image){const E=new Image;E.onload=d(ha,g,"TestLoadImage: loaded",!0,f,E),E.onerror=d(ha,g,"TestLoadImage: error",!1,f,E),E.onabort=d(ha,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=d(ha,g,"TestLoadImage: timeout",!1,f,E),s.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=c}else f(!1)}function BI(c,f){const g=new nr,E=new AbortController,M=setTimeout(()=>{E.abort(),ha(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:E.signal}).then(P=>{clearTimeout(M),P.ok?ha(g,"TestPingServer: ok",!0,f):ha(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),ha(g,"TestPingServer: error",!1,f)})}function ha(c,f,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function zI(){this.g=new ku}function Om(c){this.i=c.Sb||null,this.h=c.ab||!1}m(Om,gl),Om.prototype.g=function(){return new Bu(this.i,this.h)};function Bu(c,f){dt.call(this),this.H=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Bu,dt),t=Bu.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=f,this.readyState=1,Dl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(f.body=c),(this.H||s).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Il(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Dl(this)),this.g&&(this.readyState=3,Dl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;f1(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function f1(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Il(this):Dl(this),this.readyState==3&&f1(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,Il(this))},t.Na=function(c){this.g&&(this.response=c,Il(this))},t.ga=function(){this.g&&Il(this)};function Il(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Dl(c)}t.setRequestHeader=function(c,f){this.A.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Dl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function m1(c){let f="";return Y(c,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function jm(c,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=m1(g),typeof c=="string"?g!=null&&Nr(g):Pe(c,f,g))}function Xe(c){dt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Xe,dt);var FI=/^https?$/i,$I=["POST","PUT"];t=Xe.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ti.g(),this.g.onreadystatechange=p(h(this.Ca,this));try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){p1(this,P);return}if(c=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const P of E.keys())g.set(P,E.get(P));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(P=>P.toLowerCase()=="content-type"),M=s.FormData&&c instanceof s.FormData,!(Array.prototype.indexOf.call($I,f,void 0)>=0)||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,W]of g)this.g.setRequestHeader(P,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(P){p1(this,P)}};function p1(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.o=5,g1(c),zu(c)}function g1(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Et(this,"complete"),Et(this,"abort"),zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zu(this,!0)),Xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?y1(this):this.Xa())},t.Xa=function(){y1(this)};function y1(c){if(c.h&&typeof i<"u"){if(c.v&&da(c)==4)setTimeout(c.Ca.bind(c),0);else if(Et(c,"readystatechange"),da(c)==4){c.h=!1;try{const P=c.ca();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=P===0){let W=String(c.D).match(s1)[1]||null;!W&&s.self&&s.self.location&&(W=s.self.location.protocol.slice(0,-1)),E=!FI.test(W?W.toLowerCase():"")}g=E}if(g)Et(c,"complete"),Et(c,"success");else{c.o=6;try{var M=da(c)>2?c.g.statusText:""}catch{M=""}c.l=M+" ["+c.ca()+"]",g1(c)}}finally{zu(c)}}}}function zu(c,f){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const g=c.g;c.g=null,f||Et(c,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function da(c){return c.g?c.g.readyState:0}t.ca=function(){try{return da(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),pl(f)}};function v1(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qI(c){const f={};c=(c.g&&da(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<c.length;E++){if(I(c[E]))continue;var g=bl(c[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const P=f[M]||[];f[M]=P,P.push(g)}X(f,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ol(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function _1(c){this.za=0,this.i=[],this.j=new nr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ol("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ol("baseRetryDelayMs",5e3,c),this.Za=Ol("retryDelaySeedMs",1e4,c),this.Ta=Ol("forwardChannelMaxRetries",2,c),this.va=Ol("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new t1(c&&c.concurrentRequestLimit),this.Ba=new zI,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=_1.prototype,t.ka=8,t.I=1,t.connect=function(c,f,g,E){yt(0),this.W=c,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.J=C1(this,null,this.W),$u(this)};function km(c){if(b1(c),c.I==3){var f=c.V++,g=ar(c.J);if(Pe(g,"SID",c.M),Pe(g,"RID",f),Pe(g,"TYPE","terminate"),jl(c,g),f=new rr(c,c.j,f),f.M=2,f.A=Uu(ar(g)),g=!1,s.navigator&&s.navigator.sendBeacon)try{g=s.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&s.Image&&(new Image().src=f.A,g=!0),g||(f.g=R1(f.j,null),f.g.ea(f.A)),f.F=Date.now(),Mt(f)}A1(c)}function Fu(c){c.g&&(Pm(c),c.g.cancel(),c.g=null)}function b1(c){Fu(c),c.v&&(s.clearTimeout(c.v),c.v=null),qu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&s.clearTimeout(c.m),c.m=null)}function $u(c){if(!n1(c.h)&&!c.m){c.m=!0;var f=c.Ea;V||T(),q||(V(),q=!0),S.add(f,c),c.D=0}}function HI(c,f){return r1(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=f.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=at(h(c.Ea,c,f),N1(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const M=new rr(this,this.j,c);let P=this.o;if(this.U&&(P?(P=be(P),ne(P,this.U)):P=this.U),this.u!==null||this.R||(M.J=P,P=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=w1(this,M,f),g=ar(this.J),Pe(g,"RID",c),Pe(g,"CVER",22),this.G&&Pe(g,"X-HTTP-Session-Id",this.G),jl(this,g),P&&(this.R?f="headers="+Nr(m1(P))+"&"+f:this.u&&jm(g,this.u,P)),Im(this.h,M),this.Ra&&Pe(g,"TYPE","init"),this.S?(Pe(g,"$req",f),Pe(g,"SID","null"),M.U=!0,El(M,g,null)):El(M,g,f),this.I=2}}else this.I==3&&(c?x1(this,c):this.i.length==0||n1(this.h)||x1(this))};function x1(c,f){var g;f?g=f.l:g=c.V++;const E=ar(c.J);Pe(E,"SID",c.M),Pe(E,"RID",g),Pe(E,"AID",c.K),jl(c,E),c.u&&c.o&&jm(E,c.u,c.o),g=new rr(c,c.j,g,c.D+1),c.u===null&&(g.J=c.o),f&&(c.i=f.G.concat(c.i)),f=w1(c,g,1e3),g.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Im(c.h,g),El(g,E,f)}function jl(c,f){c.H&&Y(c.H,function(g,E){Pe(f,E,g)}),c.l&&Y({},function(g,E){Pe(f,E,g)})}function w1(c,f,g){g=Math.min(c.i.length,g);const E=c.l?h(c.l.Ka,c.l,c):null;e:{var M=c.i;let ce=-1;for(;;){const ft=["count="+g];ce==-1?g>0?(ce=M[0].g,ft.push("ofs="+ce)):ce=0:ft.push("ofs="+ce);let Ie=!0;for(let vt=0;vt<g;vt++){var P=M[vt].g;const ir=M[vt].map;if(P-=ce,P<0)ce=Math.max(0,M[vt].g-100),Ie=!1;else try{P="req"+P+"_"||"";try{var W=ir instanceof Map?ir:Object.entries(ir);for(const[Ii,fa]of W){let ma=fa;o(fa)&&(ma=ml(fa)),ft.push(P+Ii+"="+encodeURIComponent(ma))}}catch(Ii){throw ft.push(P+"type="+encodeURIComponent("_badmap")),Ii}}catch{E&&E(ir)}}if(Ie){W=ft.join("&");break e}}W=void 0}return c=c.i.splice(0,g),f.G=c,W}function E1(c){if(!c.g&&!c.v){c.Y=1;var f=c.Da;V||T(),q||(V(),q=!0),S.add(f,c),c.A=0}}function Mm(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=at(h(c.Da,c),N1(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,T1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=at(h(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Fu(this),T1(this))};function Pm(c){c.B!=null&&(s.clearTimeout(c.B),c.B=null)}function T1(c){c.g=new rr(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var f=ar(c.na);Pe(f,"RID","rpc"),Pe(f,"SID",c.M),Pe(f,"AID",c.K),Pe(f,"CI",c.F?"0":"1"),!c.F&&c.ia&&Pe(f,"TO",c.ia),Pe(f,"TYPE","xmlhttp"),jl(c,f),c.u&&c.o&&jm(f,c.u,c.o),c.O&&(c.g.H=c.O);var g=c.g;c=c.ba,g.M=1,g.A=Uu(ar(f)),g.u=null,g.R=!0,ue(g,c)}t.Va=function(){this.C!=null&&(this.C=null,Fu(this),Mm(this),yt(19))};function qu(c){c.C!=null&&(s.clearTimeout(c.C),c.C=null)}function S1(c,f){var g=null;if(c.g==f){qu(c),Pm(c),c.g=null;var E=2}else if(Rm(c.h,f))g=f.G,a1(c.h,f),E=1;else return;if(c.I!=0){if(f.o)if(E==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var M=c.D;E=oa(),Et(E,new Tt(E,g)),$u(c)}else E1(c);else if(M=f.m,M==3||M==0&&f.X>0||!(E==1&&HI(c,f)||E==2&&Mm(c)))switch(g&&g.length>0&&(f=c.h,f.i=f.i.concat(g)),M){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function N1(c,f){let g=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(g*=2),g*f}function Ri(c,f){if(c.j.info("Error code "+f),f==2){var g=h(c.bb,c),E=c.Ua;const M=!E;E=new ua(E||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Sl(E,"https"),Uu(E),M?UI(E.toString(),g):BI(E.toString(),g)}else yt(2);c.I=0,c.l&&c.l.pa(f),A1(c),b1(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function A1(c){if(c.I=0,c.ja=[],c.l){const f=i1(c.h);(f.length!=0||c.i.length!=0)&&(x(c.ja,f),x(c.ja,c.i),c.h.i.length=0,v(c.i),c.i.length=0),c.l.oa()}}function C1(c,f,g){var E=g instanceof ua?ar(g):new ua(g);if(E.g!="")f&&(E.g=f+"."+E.g),Nl(E,E.u);else{var M=s.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const P=new ua(null);E&&Sl(P,E),f&&(P.g=f),M&&Nl(P,M),g&&(P.h=g),E=P}return g=c.G,f=c.wa,g&&f&&Pe(E,g,f),Pe(E,"VER",c.ka),jl(c,E),E}function R1(c,f,g){if(f&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Aa&&!c.ma?new Xe(new Om({ab:g})):new Xe(c.ma),f.Fa(c.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function I1(){}t=I1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Hu(){}Hu.prototype.g=function(c,f){return new sn(c,f)};function sn(c,f){dt.call(this),this.g=new _1(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(c?c["X-WebChannel-Client-Profile"]=f.sa:c={"X-WebChannel-Client-Profile":f.sa}),this.g.U=c,(c=f&&f.Qb)&&!I(c)&&(this.g.u=c),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!I(f)&&(this.g.G=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Rs(this)}m(sn,dt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){km(this.g)},sn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.v&&(g={},g.__data__=ml(c),c=g);f.i.push(new DI(f.Ya++,c)),f.I==3&&$u(f)},sn.prototype.N=function(){this.g.l=null,delete this.j,km(this.g),delete this.g,sn.Z.N.call(this)};function D1(c){Ts.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(const g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}m(D1,Ts);function O1(){yl.call(this),this.status=1}m(O1,yl);function Rs(c){this.g=c}m(Rs,I1),Rs.prototype.ra=function(){Et(this.g,"a")},Rs.prototype.qa=function(c){Et(this.g,new D1(c))},Rs.prototype.pa=function(c){Et(this.g,new O1)},Rs.prototype.oa=function(){Et(this.g,"b")},Hu.prototype.createWebChannel=Hu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,gA=function(){return new Hu},pA=function(){return oa()},mA=tr,gy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ei.NO_ERROR=0,Ei.TIMEOUT=8,Ei.HTTP_ERROR=6,qh=Ei,Ss.COMPLETE="complete",fA=Ss,Mu.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",dt.prototype.listen=dt.prototype.J,ec=Mu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,dA=Xe}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const Yx="@firebase/firestore",Wx="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Lt.UNAUTHENTICATED=new Lt(null),Lt.GOOGLE_CREDENTIALS=new Lt("google-credentials-uid"),Lt.FIRST_PARTY=new Lt("first-party-uid"),Lt.MOCK_USER=new Lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new Vf("@firebase/firestore");function Vs(){return es.logLevel}function Q(t,...e){if(es.logLevel<=fe.DEBUG){const n=e.map(yv);es.debug(`Firestore (${Zo}): ${t}`,...n)}}function Zr(t,...e){if(es.logLevel<=fe.ERROR){const n=e.map(yv);es.error(`Firestore (${Zo}): ${t}`,...n)}}function Io(t,...e){if(es.logLevel<=fe.WARN){const n=e.map(yv);es.warn(`Firestore (${Zo}): ${t}`,...n)}}function yv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ee(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yA(t,r,n)}function yA(t,e,n){let r=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function Ee(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||yA(e,a,r)}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Lt.UNAUTHENTICATED))}shutdown(){}}class Y6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W6{constructor(e){this.t=e,this.currentUser=Lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ee(this.o===void 0,42304);let r=this.i;const a=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await a(this.currentUser)})},o=u=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string",31837,{l:r}),new vA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string",2055,{h:e}),new Lt(e)}}class K6{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Lt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Q6{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new K6(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X6{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ee(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const a=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Kx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Kx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=J6(40);for(let i=0;i<a.length;++i)r.length<20&&a[i]<n&&(r+=e.charAt(a[i]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function yy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),i=e.charAt(r);if(a!==i)return kp(a)===kp(i)?me(a,i):kp(a)?1:-1}return me(t.length,e.length)}const Z6=55296,e5=57343;function kp(t){const e=t.charCodeAt(0);return e>=Z6&&e<=e5}function Do(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="__name__";class or{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ee(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const i=or.compareSegments(e.get(a),n.get(a));if(i!==0)return i}return me(e.length,n.length)}static compareSegments(e,n){const r=or.isNumericId(e),a=or.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?or.extractNumericId(e).compare(or.extractNumericId(n)):yy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class je extends or{construct(e,n,r){return new je(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new je(n)}static emptyPath(){return new je([])}}const t5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends or{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return t5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qx}static keyField(){return new It([Qx])}static fromServerFormat(e){const n=[];let r="",a=0;const i=()=>{if(r.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;a<e.length;){const o=e[a];if(o==="\\"){if(a+1===e.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[a+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(r+=o,a++):(i(),a++)}if(i(),s)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(je.fromString(e))}static fromName(e){return new J(je.fromString(e).popFirst(5))}static empty(){return new J(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e,n){if(!n)throw new K(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n5(t,e,n,r){if(e===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xx(t){if(!J.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jx(t){if(J.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee(12329,{type:typeof t})}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bf(t);throw new K(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function yu(t,e){if(!bA(t))throw new K(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(a&&typeof s!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=-62135596800,ew=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ew);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Zx)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ew}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yu(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:ht("string",_e._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new _e(0,0))}static max(){return new ae(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=-1;function r5(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=ae.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new ei(a,J.empty(),e)}function a5(t){return new ei(t.readTime,t.key,$c)}class ei{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ei(ae.min(),J.empty(),$c)}static max(){return new ei(ae.max(),J.empty(),$c)}}function i5(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==s5)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,a)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,a)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let a=0,i=0,s=!1;e.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&n()},u=>r(u))}),s=!0,i===a&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(a=>a?F.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,i)=>{r.push(n.call(this,a,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,a)=>{const i=e.length,s=new Array(i);let o=0;for(let u=0;u<i;u++){const h=u;n(e[h]).next(d=>{s[h]=d,++o,o===i&&r(s)},d=>a(d))}})}static doWhile(e,n){return new F((r,a)=>{const i=()=>{e()===!0?n().next(()=>{i()},a):r()};i()})}}function l5(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function tl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v=-1;function Ff(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function c5(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA="";function u5(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tw(e)),e=h5(t.get(n),e);return tw(e)}function h5(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const i=t.charAt(a);switch(i){case"\0":n+="";break;case xA:n+="";break;default:n+=i}}return n}function tw(t){return t+xA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&a&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,r,a,i){this.key=e,this.value=n,this.color=r??Nt.RED,this.left=a??Nt.EMPTY,this.right=i??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,i){return new Nt(e??this.key,n??this.value,r??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const i=r(e,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(e,n,r),null):i===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Nt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ee(27949);return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw ee(57766)}get value(){throw ee(16141)}get color(){throw ee(16727)}get left(){throw ee(29726)}get right(){throw ee(36894)}copy(e,n,r,a,i){return this}insert(e,n,r){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new rw(this.data.getIterator())}getIteratorFrom(e){return new rw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class rw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new mn([])}unionWith(e){let n=new pt(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new EA("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const d5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(Ee(!!t,39018),typeof t=="string"){let e=0;const n=d5.exec(t);if(Ee(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(t.seconds),nanos:et(t.nanos)}}function et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ni(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="server_timestamp",SA="__type__",NA="__previous_value__",AA="__local_write_time__";function bv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SA])==null?void 0:r.stringValue)===TA}function $f(t){const e=t.mapValue.fields[NA];return bv(e)?$f(e):e}function qc(t){const e=ti(t.mapValue.fields[AA].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,n,r,a,i,s,o,u,h,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=d}}const Md="(default)";class Hc{constructor(e,n){this.projectId=e,this.database=n||Md}static empty(){return new Hc("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof Hc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="__type__",m5="__max__",gh={mapValue:{}},RA="__vector__",Pd="value";function ri(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bv(t)?4:g5(t)?9007199254740991:p5(t)?10:11:ee(28295,{value:t})}function _r(t,e){if(t===e)return!0;const n=ri(t);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qc(t).isEqual(qc(e));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=ti(a.timestampValue),o=ti(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,i){return ni(a.bytesValue).isEqual(ni(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,i){return et(a.geoPointValue.latitude)===et(i.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(i.geoPointValue.longitude)}(t,e);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return et(a.integerValue)===et(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=et(a.doubleValue),o=et(i.doubleValue);return s===o?kd(s)===kd(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Do(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(nw(s)!==nw(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!_r(s[u],o[u])))return!1;return!0}(t,e);default:return ee(52216,{left:t})}}function Gc(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Oo(t,e){if(t===e)return 0;const n=ri(t),r=ri(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=et(i.integerValue||i.doubleValue),u=et(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return aw(t.timestampValue,e.timestampValue);case 4:return aw(qc(t),qc(e));case 5:return yy(t.stringValue,e.stringValue);case 6:return function(i,s){const o=ni(i),u=ni(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let h=0;h<o.length&&h<u.length;h++){const d=me(o[h],u[h]);if(d!==0)return d}return me(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=me(et(i.latitude),et(s.latitude));return o!==0?o:me(et(i.longitude),et(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return iw(t.arrayValue,e.arrayValue);case 10:return function(i,s){var p,v,x,N;const o=i.fields||{},u=s.fields||{},h=(p=o[Pd])==null?void 0:p.arrayValue,d=(v=u[Pd])==null?void 0:v.arrayValue,m=me(((x=h==null?void 0:h.values)==null?void 0:x.length)||0,((N=d==null?void 0:d.values)==null?void 0:N.length)||0);return m!==0?m:iw(h,d)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===gh.mapValue&&s===gh.mapValue)return 0;if(i===gh.mapValue)return 1;if(s===gh.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),h=s.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const p=yy(u[m],d[m]);if(p!==0)return p;const v=Oo(o[u[m]],h[d[m]]);if(v!==0)return v}return me(u.length,d.length)}(t.mapValue,e.mapValue);default:throw ee(23264,{he:n})}}function aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=ti(t),r=ti(e),a=me(n.seconds,r.seconds);return a!==0?a:me(n.nanos,r.nanos)}function iw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const i=Oo(n[a],r[a]);if(i)return i}return me(n.length,r.length)}function jo(t){return vy(t)}function vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ti(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ni(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const i of n.values||[])a?a=!1:r+=",",r+=vy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",i=!0;for(const s of r)i?i=!1:a+=",",a+=`${s}:${vy(n.fields[s])}`;return a+"}"}(t.mapValue):ee(61005,{value:t})}function Hh(t){switch(ri(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$f(t);return e?16+Hh(e):16;case 5:return 2*t.stringValue.length;case 6:return ni(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,i)=>a+Hh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return fi(r.fields,(i,s)=>{a+=i.length+Hh(s)}),a}(t.mapValue);default:throw ee(13486,{value:t})}}function sw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function _y(t){return!!t&&"integerValue"in t}function xv(t){return!!t&&"arrayValue"in t}function ow(t){return!!t&&"nullValue"in t}function lw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gh(t){return!!t&&"mapValue"in t}function p5(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CA])==null?void 0:r.stringValue)===RA}function bc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bc(t.arrayValue.values[n]);return e}return{...t}}function g5(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.value=e}static empty(){return new Zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bc(n)}setAll(e){let n=It.emptyPath(),r={},a=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,a),r={},a=[],n=o.popLast()}s?r[o.lastSegment()]=bc(s):a.push(o.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,a)}delete(e){const n=this.field(e.popLast());Gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Gh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){fi(n,(a,i)=>e[a]=i);for(const a of r)delete e[a]}clone(){return new Zt(bc(this.value))}}function IA(t){const e=[];return fi(t.fields,(n,r)=>{const a=new It([n]);if(Gh(r)){const i=IA(r.mapValue).fields;if(i.length===0)e.push(a);else for(const s of i)e.push(a.child(s))}else e.push(a)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,a,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Vt(e,0,ae.min(),ae.min(),ae.min(),Zt.empty(),0)}static newFoundDocument(e,n,r,a){return new Vt(e,1,n,ae.min(),r,a,0)}static newNoDocument(e,n){return new Vt(e,2,n,ae.min(),ae.min(),Zt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,ae.min(),ae.min(),Zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function cw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const i=e[a],s=t.position[a];if(i.field.isKeyField()?r=J.comparator(J.fromName(s.referenceValue),n.key):r=Oo(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function uw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function y5(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{}class ct extends DA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _5(e,n,r):n==="array-contains"?new w5(e,r):n==="in"?new E5(e,r):n==="not-in"?new T5(e,r):n==="array-contains-any"?new S5(e,r):new ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new b5(e,r):new x5(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oo(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison(Oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qn extends DA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Qn(e,n)}matches(e){return OA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OA(t){return t.op==="and"}function jA(t){return v5(t)&&OA(t)}function v5(t){for(const e of t.filters)if(e instanceof Qn)return!1;return!0}function by(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(jA(t))return t.filters.map(e=>by(e)).join(",");{const e=t.filters.map(n=>by(n)).join(",");return`${t.op}(${e})`}}function kA(t,e){return t instanceof ct?function(r,a){return a instanceof ct&&r.op===a.op&&r.field.isEqual(a.field)&&_r(r.value,a.value)}(t,e):t instanceof Qn?function(r,a){return a instanceof Qn&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((i,s,o)=>i&&kA(s,a.filters[o]),!0):!1}(t,e):void ee(19439)}function MA(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof Qn?function(n){return n.op.toString()+" {"+n.getFilters().map(MA).join(" ,")+"}"}(t):"Filter"}class _5 extends ct{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class b5 extends ct{constructor(e,n){super(e,"in",n),this.keys=PA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class x5 extends ct{constructor(e,n){super(e,"not-in",n),this.keys=PA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function PA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class w5 extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xv(n)&&Gc(n.arrayValue,this.value)}}class E5 extends ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gc(this.value.arrayValue,n)}}class T5 extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gc(this.value.arrayValue,n)}}class S5 extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n=null,r=[],a=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function hw(t,e=null,n=[],r=[],a=null,i=null,s=null){return new N5(t,e,n,r,a,i,s)}function wv(t){const e=ie(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>by(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jo(r)).join(",")),e.Te=n}return e.Te}function Ev(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y5(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uw(t.startAt,e.startAt)&&uw(t.endAt,e.endAt)}function xy(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n=null,r=[],a=[],i=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A5(t,e,n,r,a,i,s,o){return new nl(t,e,n,r,a,i,s,o)}function qf(t){return new nl(t)}function dw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function LA(t){return t.collectionGroup!==null}function xc(t){const e=ie(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new pt(It.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(o=o.add(h.field))})}),o})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Yc(i,r))}),n.has(It.keyField().canonicalString())||e.Ie.push(new Yc(It.keyField(),r))}return e.Ie}function fr(t){const e=ie(t);return e.Ee||(e.Ee=C5(e,xc(t))),e.Ee}function C5(t,e){if(t.limitType==="F")return hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new Yc(a.field,i)});const n=t.endAt?new Ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ld(t.startAt.position,t.startAt.inclusive):null;return hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function wy(t,e){const n=t.filters.concat([e]);return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ey(t,e,n){return new nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hf(t,e){return Ev(fr(t),fr(e))&&t.limitType===e.limitType}function VA(t){return`${wv(fr(t))}|lt:${t.limitType}`}function Us(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>MA(a)).join(", ")}]`),Ff(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>jo(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>jo(a)).join(",")),`Target(${r})`}(fr(t))}; limitType=${t.limitType})`}function Gf(t,e){return e.isFoundDocument()&&function(r,a){const i=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,a){for(const i of xc(r))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const i of r.filters)if(!i.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(s,o,u){const h=cw(s,o,u);return s.inclusive?h<=0:h<0}(r.startAt,xc(r),a)||r.endAt&&!function(s,o,u){const h=cw(s,o,u);return s.inclusive?h>=0:h>0}(r.endAt,xc(r),a))}(t,e)}function R5(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UA(t){return(e,n)=>{let r=!1;for(const a of xc(t)){const i=I5(a,e,n);if(i!==0)return i;r=r||a.field.isKeyField()}return 0}}function I5(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),h=o.data.field(i);return u!==null&&h!==null?Oo(u,h):ee(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,i]of r)if(this.equalsFn(a,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],e))return void(a[i]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(n,r)=>{for(const[a,i]of r)e(a,i)})}isEmpty(){return wA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D5=new Ke(J.comparator);function ea(){return D5}const BA=new Ke(J.comparator);function tc(...t){let e=BA;for(const n of t)e=e.insert(n.key,n);return e}function zA(t){let e=BA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Vi(){return wc()}function FA(){return wc()}function wc(){return new ys(t=>t.toString(),(t,e)=>t.isEqual(e))}const O5=new Ke(J.comparator),j5=new pt(J.comparator);function pe(...t){let e=j5;for(const n of t)e=e.add(n);return e}const k5=new pt(me);function M5(){return k5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function $A(t){return{integerValue:""+t}}function P5(t,e){return c5(e)?$A(e):Tv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(){this._=void 0}}function L5(t,e,n){return t instanceof Vd?function(a,i){const s={fields:{[SA]:{stringValue:TA},[AA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&bv(i)&&(i=$f(i)),i&&(s.fields[NA]=i),{mapValue:s}}(n,e):t instanceof Wc?HA(t,e):t instanceof Kc?GA(t,e):function(a,i){const s=qA(a,i),o=fw(s)+fw(a.Ae);return _y(s)&&_y(a.Ae)?$A(o):Tv(a.serializer,o)}(t,e)}function V5(t,e,n){return t instanceof Wc?HA(t,e):t instanceof Kc?GA(t,e):n}function qA(t,e){return t instanceof Ud?function(r){return _y(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Vd extends Yf{}class Wc extends Yf{constructor(e){super(),this.elements=e}}function HA(t,e){const n=YA(e);for(const r of t.elements)n.some(a=>_r(a,r))||n.push(r);return{arrayValue:{values:n}}}class Kc extends Yf{constructor(e){super(),this.elements=e}}function GA(t,e){let n=YA(e);for(const r of t.elements)n=n.filter(a=>!_r(a,r));return{arrayValue:{values:n}}}class Ud extends Yf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function fw(t){return et(t.integerValue||t.doubleValue)}function YA(t){return xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U5(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Wc&&a instanceof Wc||r instanceof Kc&&a instanceof Kc?Do(r.elements,a.elements,_r):r instanceof Ud&&a instanceof Ud?_r(r.Ae,a.Ae):r instanceof Vd&&a instanceof Vd}(t.transform,e.transform)}class B5{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wf{}function WA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sv(t.key,Wn.none()):new vu(t.key,t.data,Wn.none());{const n=t.data,r=Zt.empty();let a=new pt(It.comparator);for(let i of e.fields)if(!a.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),a=a.add(i)}return new mi(t.key,r,new mn(a.toArray()),Wn.none())}}function z5(t,e,n){t instanceof vu?function(a,i,s){const o=a.value.clone(),u=pw(a.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof mi?function(a,i,s){if(!Yh(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=pw(a.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(KA(a)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof vu?function(i,s,o,u){if(!Yh(i.precondition,s))return o;const h=i.value.clone(),d=gw(i.fieldTransforms,u,s);return h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof mi?function(i,s,o,u){if(!Yh(i.precondition,s))return o;const h=gw(i.fieldTransforms,u,s),d=s.data;return d.setAll(KA(i)),d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,s,o){return Yh(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function F5(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),i=qA(r.transform,a||null);i!=null&&(n===null&&(n=Zt.empty()),n.set(r.field,i))}return n||null}function mw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Do(r,a,(i,s)=>U5(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vu extends Wf{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class mi extends Wf{constructor(e,n,r,a,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function KA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function pw(t,e,n){const r=new Map;Ee(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const i=t[a],s=i.transform,o=e.data.field(i.field);r.set(i.field,V5(s,o,n[a]))}return r}function gw(t,e,n){const r=new Map;for(const a of t){const i=a.transform,s=n.data.field(a.field);r.set(a.field,L5(i,s,e))}return r}class Sv extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $5 extends Wf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(e.key)&&z5(i,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FA();return this.mutations.forEach(a=>{const i=e.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=n.has(a.key)?null:o;const u=WA(s,o);u!==null&&r.set(a.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(n,r)=>mw(n,r))&&Do(this.baseMutations,e.baseMutations,(n,r)=>mw(n,r))}}class Nv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Ee(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=function(){return O5}();const i=e.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,r[s].version);return new Nv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it,ve;function Y5(t){switch(t){case B.OK:return ee(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ee(15467,{code:t})}}function QA(t){if(t===void 0)return Zr("GRPC error has no .code"),B.UNKNOWN;switch(t){case it.OK:return B.OK;case it.CANCELLED:return B.CANCELLED;case it.UNKNOWN:return B.UNKNOWN;case it.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case it.INTERNAL:return B.INTERNAL;case it.UNAVAILABLE:return B.UNAVAILABLE;case it.UNAUTHENTICATED:return B.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case it.NOT_FOUND:return B.NOT_FOUND;case it.ALREADY_EXISTS:return B.ALREADY_EXISTS;case it.PERMISSION_DENIED:return B.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case it.ABORTED:return B.ABORTED;case it.OUT_OF_RANGE:return B.OUT_OF_RANGE;case it.UNIMPLEMENTED:return B.UNIMPLEMENTED;case it.DATA_LOSS:return B.DATA_LOSS;default:return ee(39323,{code:t})}}(ve=it||(it={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=new Ha([4294967295,4294967295],0);function yw(t){const e=W5().encode(t),n=new hA;return n.update(e),new Uint8Array(n.digest())}function vw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ha([n,r],0),new Ha([a,i],0)]}class Av{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new nc(`Invalid padding: ${n}`);if(r<0)throw new nc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new nc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new nc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ha.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ha.fromNumber(r)));return a.compare(K5)===1&&(a=new Ha([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=yw(e),[r,a]=vw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);if(!this.we(s))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Av(i,a,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=yw(e),[r,a]=vw(n);for(let i=0;i<this.hashCount;i++){const s=this.ye(r,a,i);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r,a,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kf(ae.min(),a,new Ke(me),ea(),pe())}}class _u{constructor(e,n,r,a,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new _u(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class XA{constructor(e,n){this.targetId=e,this.Ce=n}}class JA{constructor(e,n,r=jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class _w{constructor(){this.ve=0,this.Fe=bw(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pe(),n=pe(),r=pe();return this.Fe.forEach((a,i)=>{switch(i){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:ee(38017,{changeType:i})}}),new _u(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=bw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ee(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Q5{constructor(e){this.Ge=e,this.ze=new Map,this.je=ea(),this.Je=yh(),this.He=yh(),this.Ye=new Ke(me)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,a)=>{this.rt(a)&&n(a)})}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const i=a.target;if(xy(i))if(r===0){const s=new J(i.path);this.et(n,s,Vt.newNoDocument(s,ae.min()))}else Ee(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),u=o?this.ct(o,e,s):1;if(u!==0){this.it(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:i=0}=n;let s,o;try{s=ni(r).toUint8Array()}catch(u){if(u instanceof EA)return Io("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Av(s,a,i)}catch(u){return Io(u instanceof nc?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(o)||(this.et(n,i,null),a++)}),a}Tt(e){const n=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&xy(o.target)){const u=new J(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Vt.newNoDocument(u,e))}i.Be&&(n.set(s,i.ke()),i.qe())}});let r=pe();this.He.forEach((i,s)=>{let o=!0;s.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(i))}),this.je.forEach((i,s)=>s.setReadTime(e));const a=new Kf(e,n,this.Ye,this.je,r);return this.je=ea(),this.Je=yh(),this.He=yh(),this.Ye=new Ke(me),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new _w,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(me),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(me),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new _w),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yh(){return new Ke(J.comparator)}function bw(){return new Ke(J.comparator)}const X5={asc:"ASCENDING",desc:"DESCENDING"},J5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Z5={and:"AND",or:"OR"};class eL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ty(t,e){return t.useProto3Json||Ff(e)?e:{value:e}}function Bd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tL(t,e){return Bd(t,e.toTimestamp())}function mr(t){return Ee(!!t,49232),ae.fromTimestamp(function(n){const r=ti(n);return new _e(r.seconds,r.nanos)}(t))}function Cv(t,e){return Sy(t,e).canonicalString()}function Sy(t,e){const n=function(a){return new je(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eC(t){const e=je.fromString(t);return Ee(iC(e),10190,{key:e.toString()}),e}function Ny(t,e){return Cv(t.databaseId,e.path)}function Mp(t,e){const n=eC(e);if(n.get(1)!==t.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(nC(n))}function tC(t,e){return Cv(t.databaseId,e)}function nL(t){const e=eC(t);return e.length===4?je.emptyPath():nC(e)}function Ay(t){return new je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nC(t){return Ee(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xw(t,e,n){return{name:Ny(t,e),fields:n.value.mapValue.fields}}function rL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ee(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],i=function(h,d){return h.useProto3Json?(Ee(d===void 0||typeof d=="string",58123),jt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(h){const d=h.code===void 0?B.UNKNOWN:QA(h.code);return new K(d,h.message||"")}(s);n=new JA(r,a,i,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Mp(t,r.document.name),i=mr(r.document.updateTime),s=r.document.createTime?mr(r.document.createTime):ae.min(),o=new Zt({mapValue:{fields:r.document.fields}}),u=Vt.newFoundDocument(a,i,s,o),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Wh(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Mp(t,r.document),i=r.readTime?mr(r.readTime):ae.min(),s=Vt.newNoDocument(a,i),o=r.removedTargetIds||[];n=new Wh([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Mp(t,r.document),i=r.removedTargetIds||[];n=new Wh([],i,a,null)}else{if(!("filter"in e))return ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:i}=r,s=new G5(a,i),o=r.targetId;n=new XA(o,s)}}return n}function aL(t,e){let n;if(e instanceof vu)n={update:xw(t,e.key,e.value)};else if(e instanceof Sv)n={delete:Ny(t,e.key)};else if(e instanceof mi)n={update:xw(t,e.key,e.data),updateMask:fL(e.fieldMask)};else{if(!(e instanceof $5))return ee(16599,{Vt:e.type});n={verify:Ny(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Vd)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Wc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Kc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ud)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ee(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:tL(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ee(27497)}(t,e.precondition)),n}function iL(t,e){return t&&t.length>0?(Ee(e!==void 0,14353),t.map(n=>function(a,i){let s=a.updateTime?mr(a.updateTime):mr(i);return s.isEqual(ae.min())&&(s=mr(i)),new B5(s,a.transformResults||[])}(n,e))):[]}function sL(t,e){return{documents:[tC(t,e.path)]}}function oL(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tC(t,a);const i=function(h){if(h.length!==0)return aC(Qn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(h){if(h.length!==0)return h.map(d=>function(p){return{field:Bs(p.field),direction:uL(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ty(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:n,parent:a}}function lL(t){let e=nL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Ee(r===1,65062);const d=n.from[0];d.allDescendants?a=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(m){const p=rC(m);return p instanceof Qn&&jA(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(x){return new Yc(zs(x.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,Ff(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,v=m.values||[];return new Ld(v,p)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const p=!m.before,v=m.values||[];return new Ld(v,p)}(n.endAt)),A5(e,a,s,i,o,"F",u,h)}function cL(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zs(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=zs(n.unaryFilter.field);return ct.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=zs(n.unaryFilter.field);return ct.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=zs(n.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ee(61313);default:return ee(60726)}}(t):t.fieldFilter!==void 0?function(n){return ct.create(zs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ee(58110);default:return ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Qn.create(n.compositeFilter.filters.map(r=>rC(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ee(1026)}}(n.compositeFilter.op))}(t):ee(30097,{filter:t})}function uL(t){return X5[t]}function hL(t){return J5[t]}function dL(t){return Z5[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function zs(t){return It.fromServerFormat(t.fieldPath)}function aC(t){return t instanceof ct?function(n){if(n.op==="=="){if(lw(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(ow(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lw(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(ow(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:hL(n.op),value:n.value}}}(t):t instanceof Qn?function(n){const r=n.getFilters().map(a=>aC(a));return r.length===1?r[0]:{compositeFilter:{op:dL(n.op),filters:r}}}(t):ee(54877,{filter:t})}function fL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function iC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n,r,a,i=ae.min(),s=ae.min(),o=jt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.yt=e}}function pL(t){const e=lL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ey(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.Cn=new yL}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ei.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class yL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new pt(je.comparator),i=!a.has(r);return this.index[n]=a.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new pt(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sC=41943040;class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(sC,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ko(0)}static cr(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="LruGarbageCollector",vL=1048576;function Tw([t,e],[n,r]){const a=me(t,n);return a===0?me(e,r):a}class _L{constructor(e){this.Ir=e,this.buffer=new pt(Tw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Tw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Q(Ew,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){tl(n)?Q(Ew,"Ignoring IndexedDB error during garbage collection: ",n):await el(n)}await this.Vr(3e5)})}}class xL{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(zf.ce);const r=new _L(n);return this.mr.forEachTarget(e,a=>r.Ar(a.sequenceNumber)).next(()=>this.mr.pr(e,a=>r.Ar(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(ww)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ww):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,i,s,o,u,h;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),a=this.params.maximumSequenceNumbersToCollect):a=m,s=Date.now(),this.nthSequenceNumber(e,a))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Vs()<=fe.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(h-u)+`ms
Total Duration: ${h-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:m})))}}function wL(t,e){return new xL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this.changes=new ys(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Ec(r.mutation,a,mn.empty(),_e.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const a=Vi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(i=>{let s=tc();return i.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const a=[];return r.forEach(i=>{n.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(e,a).next(i=>{i.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,a){let i=ea();const s=wc(),o=function(){return wc()}();return n.forEach((u,h)=>{const d=r.get(h.key);a.has(h.key)&&(d===void 0||d.mutation instanceof mi)?i=i.insert(h.key,h):d!==void 0?(s.set(h.key,d.mutation.getFieldMask()),Ec(d.mutation,h,d.mutation.getFieldMask(),_e.now())):s.set(h.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((h,d)=>s.set(h,d)),n.forEach((h,d)=>o.set(h,new TL(d,s.get(h)??null))),o))}recalculateAndSaveOverlays(e,n){const r=wc();let a=new Ke((s,o)=>s-o),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||mn.empty();d=o.applyToLocalView(h,d),r.set(u,d);const m=(a.get(o.batchId)||pe()).add(u);a=a.insert(o.batchId,m)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),h=u.key,d=u.value,m=FA();d.forEach(p=>{if(!i.has(p)){const v=WA(n.get(p),r.get(p));v!==null&&m.set(p,v),i=i.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,h,m))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(s){return J.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-i.size):F.resolve(Vi());let o=$c,u=i;return s.next(h=>F.forEach(h,(d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,u,h,pe())).next(d=>({batchId:o,changes:zA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let a=tc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const i=n.collectionGroup;let s=tc();return this.indexManager.getCollectionParents(e,i).next(o=>F.forEach(o,u=>{const h=function(m,p){return new nl(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,a).next(d=>{d.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,a){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,a))).next(s=>{i.forEach((u,h)=>{const d=h.getKey();s.get(d)===null&&(s=s.insert(d,Vt.newInvalidDocument(d)))});let o=tc();return s.forEach((u,h)=>{const d=i.get(u);d!==void 0&&Ec(d.mutation,h,mn.empty(),_e.now()),Gf(n,h)&&(o=o.insert(u,h))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:mr(a.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(a){return{name:a.name,query:pL(a.bundledQuery),readTime:mr(a.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.overlays=new Ke(J.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Vi();return F.forEach(n,a=>this.getOverlay(e,a).next(i=>{i!==null&&r.set(a,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,i)=>{this.St(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const a=Vi(),i=n.length+1,s=new J(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&u.largestBatchId>r&&a.set(u.getKey(),u)}return F.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let i=new Ke((h,d)=>h-d);const s=this.overlays.getIterator();for(;s.hasNext();){const h=s.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=i.get(h.largestBatchId);d===null&&(d=Vi(),i=i.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const o=Vi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>o.set(h,d)),!(o.size()>=a)););return F.resolve(o)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new H5(n,r));let i=this.qr.get(n);i===void 0&&(i=pe(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Qr=new pt(_t.$r),this.Ur=new pt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new J(new je([])),r=new _t(n,e),a=new _t(n,e+1),i=[];return this.Ur.forEachInRange([r,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new J(new je([])),r=new _t(n,e),a=new _t(n,e+1);let i=pe();return this.Ur.forEachInRange([r,a],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new _t(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return J.comparator(e.key,n.key)||me(e.Yr,n.Yr)}static Kr(e,n){return me(e.Yr,n.Yr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(_t.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new q5(i,n,r,a);this.mutationQueue.push(s);for(const o of a)this.Zr=this.Zr.add(new _t(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),i=a<0?0:a;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?_v:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),a=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,a],s=>{const o=this.Xr(s.Yr);i.push(o)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(me);return n.forEach(a=>{const i=new _t(a,0),s=new _t(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],o=>{r=r.add(o.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const s=new _t(new J(i),0);let o=new pt(me);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===a&&(o=o.add(u.Yr)),!0)},s),F.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const a=this.Xr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Ee(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,a=>{const i=new _t(a.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new _t(n,0),a=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.ri=e,this.docs=function(){return new Ke(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),i=a?a.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=ea();return n.forEach(a=>{const i=this.docs.get(a);r=r.insert(a,i?i.document.mutableCopy():Vt.newInvalidDocument(a))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let i=ea();const s=n.path,o=new J(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!s.isPrefixOf(h.path))break;h.path.length>s.length+1||i5(a5(d),r)<=0||(a.has(d.key)||Gf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,a){ee(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DL(this)}getSize(e){return F.resolve(this.size)}}class DL extends EL{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e){this.persistence=e,this.si=new ys(n=>wv(n),Ev),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Rv,this.targetCount=0,this.ai=ko.ur()}forEachTarget(e,n){return this.si.forEach((r,a)=>n(a)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let a=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),a++)}),F.waitFor(i).next(()=>a)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,i=[];return a&&n.forEach(s=>{i.push(a.markPotentiallyOrphaned(e,s))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,n){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new CL,this.referenceDelegate=e(this),this.Pi=new OL(this),this.indexManager=new gL,this.remoteDocumentCache=function(a){return new IL(a)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new mL(n),this.Ii=new NL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new RL(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const a=new jL(this.ci.next());return this.referenceDelegate.Ei(),r(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class jL extends o5{constructor(e){super(),this.currentSequenceNumber=e}}class Iv{constructor(e){this.persistence=e,this.Ri=new Rv,this.Vi=null}static mi(e){return new Iv(e)}get fi(){if(this.Vi)return this.Vi;throw ee(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(a=>this.fi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const a=J.fromPath(r);return this.gi(e,a).next(i=>{i||n.removeEntry(a,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zd{constructor(e,n){this.persistence=e,this.pi=new ys(r=>u5(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=wL(this,n)}static mi(e,n){return new zd(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,a)=>this.br(e,r,a).next(i=>i?F.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,i.removeEntry(s,ae.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hh(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return F.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=pe(),a=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Dv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return N3()?8:l5(Ut())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const i={result:null};return this.ys(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(e,n,a,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new kL;return this.Ss(e,n,s).next(o=>{if(i.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>i.result)}bs(e,n,r,a){return r.documentReadCount<this.fs?(Vs()<=fe.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Vs()<=fe.DEBUG&&Q("QueryEngine","Query:",Us(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(Vs()<=fe.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):F.resolve())}ys(e,n){if(dw(n))return F.resolve(null);let r=fr(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ey(n,null,"F"),r=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=pe(...i);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,o);return this.Cs(n,h,s,u.readTime)?this.ys(e,Ey(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,a){return dw(n)||a.isEqual(ae.min())?F.resolve(null):this.ps.getDocuments(e,r).next(i=>{const s=this.Ds(n,i);return this.Cs(n,s,r,a)?F.resolve(null):(Vs()<=fe.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Us(n)),this.vs(e,s,n,r5(a,$c)).next(o=>o))})}Ds(e,n){let r=new pt(UA(e));return n.forEach((a,i)=>{Gf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(e,n,r){return Vs()<=fe.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Us(n)),this.ps.getDocumentsMatchingQuery(e,n,ei.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="LocalStore",PL=3e8;class LL{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new Ke(me),this.xs=new ys(i=>wv(i),Ev),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function VL(t,e,n,r){return new LL(t,e,n,r)}async function lC(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(i=>(a=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],o=[];let u=pe();for(const h of a){s.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of i){o.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:s,addedBatchIds:o}))})})}function UL(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,h,d){const m=h.batch,p=m.keys();let v=F.resolve();return p.forEach(x=>{v=v.next(()=>d.getEntry(u,x)).next(N=>{const A=h.docVersions.get(x);Ee(A!==null,48541),N.version.compareTo(A)<0&&(m.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),d.addEntry(N)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=pe();for(let h=0;h<o.mutationResults.length;++h)o.mutationResults[h].transformResults.length>0&&(u=u.add(o.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function cC(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function BL(t,e){const n=ie(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const o=[];e.targetChanges.forEach((d,m)=>{const p=a.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,m)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken(jt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),a=a.insert(m,v),function(N,A,y){return N.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=PL?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,v,d)&&o.push(n.Pi.updateTargetData(i,v))});let u=ea(),h=pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),o.push(zL(i,s,e.documentUpdates).next(d=>{u=d.ks,h=d.qs})),!r.isEqual(ae.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(m=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));o.push(d)}return F.waitFor(o).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,h)).next(()=>u)}).then(i=>(n.Ms=a,i))}function zL(t,e,n){let r=pe(),a=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=ea();return n.forEach((o,u)=>{const h=i.get(o);u.isFoundDocument()!==h.isFoundDocument()&&(a=a.add(o)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):Q(Ov,"Ignoring outdated watch update for ",o,". Current version:",h.version," Watch version:",u.version)}),{ks:s,qs:a}})}function FL(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=_v),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $L(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Pi.getTargetData(r,e).next(i=>i?(a=i,F.resolve(a)):n.Pi.allocateTargetId(r).next(s=>(a=new ja(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Cy(t,e,n){const r=ie(t),a=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!tl(s))throw s;Q(Ov,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function Sw(t,e,n){const r=ie(t);let a=ae.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,h,d){const m=ie(u),p=m.xs.get(d);return p!==void 0?F.resolve(m.Ms.get(p)):m.Pi.getTargetData(h,d)}(r,s,fr(e)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(u=>{i=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?a:ae.min(),n?i:pe())).next(o=>(qL(r,R5(e),o),{documents:o,Qs:i})))}function qL(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((a,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Nw{constructor(){this.activeTargetIds=M5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HL{constructor(){this.Mo=new Nw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Nw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="ConnectivityMonitor";class Cw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Q(Aw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Q(Aw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function Ry(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="RestConnection",YL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Md?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,i){const s=Ry(),o=this.zo(e,n.toUriEncodedString());Q(Pp,`Sending RPC '${e}' ${s}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,a,i);const{host:h}=new URL(o),d=ms(h);return this.Jo(e,o,u,r,d).then(m=>(Q(Pp,`Received RPC '${e}' ${s}: `,m),m),m=>{throw Io(Pp,`RPC '${e}' ${s} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(e,n,r,a,i,s){return this.Go(e,n,r,a,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,i)=>e[i]=a),r&&r.headers.forEach((a,i)=>e[i]=a)}zo(e,n){const r=YL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pt="WebChannelConnection";class QL extends WL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,i){const s=Ry();return new Promise((o,u)=>{const h=new dA;h.setWithCredentials(!0),h.listenOnce(fA.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case qh.NO_ERROR:const m=h.getResponseJson();Q(Pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case qh.TIMEOUT:Q(Pt,`RPC '${e}' ${s} timed out`),u(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case qh.HTTP_ERROR:const p=h.getStatus();if(Q(Pt,`RPC '${e}' ${s} failed with status:`,p,"response text:",h.getResponseText()),p>0){let v=h.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const N=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_)>=0?_:B.UNKNOWN}(x.status);u(new K(N,x.message))}else u(new K(B.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new K(B.UNAVAILABLE,"Connection failed."));break;default:ee(9055,{l_:e,streamId:s,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Q(Pt,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(a);Q(Pt,`RPC '${e}' ${s} sending request:`,a),h.send(n,"POST",d,r,15)})}T_(e,n,r){const a=Ry(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=gA(),o=pA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");Q(Pt,`Creating RPC '${e}' stream ${a}: ${d}`,u);const m=s.createWebChannel(d,u);this.I_(m);let p=!1,v=!1;const x=new KL({Yo:A=>{v?Q(Pt,`Not sending because RPC '${e}' stream ${a} is closed:`,A):(p||(Q(Pt,`Opening RPC '${e}' stream ${a} transport.`),m.open(),p=!0),Q(Pt,`RPC '${e}' stream ${a} sending:`,A),m.send(A))},Zo:()=>m.close()}),N=(A,y,_)=>{A.listen(y,w=>{try{_(w)}catch(D){setTimeout(()=>{throw D},0)}})};return N(m,ec.EventType.OPEN,()=>{v||(Q(Pt,`RPC '${e}' stream ${a} transport opened.`),x.o_())}),N(m,ec.EventType.CLOSE,()=>{v||(v=!0,Q(Pt,`RPC '${e}' stream ${a} transport closed`),x.a_(),this.E_(m))}),N(m,ec.EventType.ERROR,A=>{v||(v=!0,Io(Pt,`RPC '${e}' stream ${a} transport errored. Name:`,A.name,"Message:",A.message),x.a_(new K(B.UNAVAILABLE,"The operation could not be completed")))}),N(m,ec.EventType.MESSAGE,A=>{var y;if(!v){const _=A.data[0];Ee(!!_,16349);const w=_,D=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(D){Q(Pt,`RPC '${e}' stream ${a} received error:`,D);const V=D.status;let q=function(b){const C=it[b];if(C!==void 0)return QA(C)}(V),S=D.message;q===void 0&&(q=B.INTERNAL,S="Unknown error status: "+V+" with message "+D.message),v=!0,x.a_(new K(q,S)),m.close()}else Q(Pt,`RPC '${e}' stream ${a} received:`,_),x.u_(_)}}),N(o,mA.STAT_EVENT,A=>{A.stat===gy.PROXY?Q(Pt,`RPC '${e}' stream ${a} detected buffering proxy`):A.stat===gy.NOPROXY&&Q(Pt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Lp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return new eL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,r=1e3,a=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&Q("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="PersistentStream";class hC{constructor(e,n,r,a,i,s,o,u){this.Mi=e,this.S_=r,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.D_===n&&this.G_(r,a)},r=>{e(()=>{const a=new K(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{r(()=>this.z_(a))}),this.stream.onMessage(a=>{r(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(Rw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Q(Rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XL extends hC{constructor(e,n,r,a,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rL(this.serializer,e),r=function(i){if(!("targetChange"in i))return ae.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?mr(s.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ay(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;if(o=xy(u)?{documents:sL(i,u)}:{query:oL(i,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=ZA(i,s.resumeToken);const h=Ty(i,s.expectedCount);h!==null&&(o.expectedCount=h)}else if(s.snapshotVersion.compareTo(ae.min())>0){o.readTime=Bd(i,s.snapshotVersion.toTimestamp());const h=Ty(i,s.expectedCount);h!==null&&(o.expectedCount=h)}return o}(this.serializer,e);const r=cL(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ay(this.serializer),n.removeTarget=e,this.q_(n)}}class JL extends hC{constructor(e,n,r,a,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ee(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ee(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ee(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=iL(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ay(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>aL(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{}class eV extends ZL{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(e,Sy(n,r),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(B.UNKNOWN,i.toString())})}Ho(e,n,r,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,Sy(n,r),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(B.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class tV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class nV{constructor(e,n,r,a,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{vs(this)&&(Q(ts,"Restarting streams for network reachability change."),await async function(u){const h=ie(u);h.Ea.add(4),await bu(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Xf(h)}(this))})}),this.Ra=new tV(r,a)}}async function Xf(t){if(vs(t))for(const e of t.da)await e(!0)}async function bu(t){for(const e of t.da)await e(!1)}function dC(t,e){const n=ie(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Pv(n)?Mv(n):rl(n).O_()&&kv(n,e))}function jv(t,e){const n=ie(t),r=rl(n);n.Ia.delete(e),r.O_()&&fC(n,e),n.Ia.size===0&&(r.O_()?r.L_():vs(n)&&n.Ra.set("Unknown"))}function kv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}rl(t).Y_(e)}function fC(t,e){t.Va.Ue(e),rl(t).Z_(e)}function Mv(t){t.Va=new Q5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),rl(t).start(),t.Ra.ua()}function Pv(t){return vs(t)&&!rl(t).x_()&&t.Ia.size>0}function vs(t){return ie(t).Ea.size===0}function mC(t){t.Va=void 0}async function rV(t){t.Ra.set("Online")}async function aV(t){t.Ia.forEach((e,n)=>{kv(t,e)})}async function iV(t,e){mC(t),Pv(t)?(t.Ra.ha(e),Mv(t)):t.Ra.set("Unknown")}async function sV(t,e,n){if(t.Ra.set("Online"),e instanceof JA&&e.state===2&&e.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.Va.removeTarget(o))}(t,e)}catch(r){Q(ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fd(t,r)}else if(e instanceof Wh?t.Va.Ze(e):e instanceof XA?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await cC(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Va.Tt(s);return o.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.Ia.get(h);d&&i.Ia.set(h,d.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,h)=>{const d=i.Ia.get(u);if(!d)return;i.Ia.set(u,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),fC(i,u);const m=new ja(d.target,u,h,d.sequenceNumber);kv(i,m)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){Q(ts,"Failed to raise snapshot:",r),await Fd(t,r)}}async function Fd(t,e,n){if(!tl(e))throw e;t.Ea.add(1),await bu(t),t.Ra.set("Offline"),n||(n=()=>cC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(ts,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Xf(t)})}function pC(t,e){return e().catch(n=>Fd(t,n,e))}async function Jf(t){const e=ie(t),n=ai(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:_v;for(;oV(e);)try{const a=await FL(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,lV(e,a)}catch(a){await Fd(e,a)}gC(e)&&yC(e)}function oV(t){return vs(t)&&t.Ta.length<10}function lV(t,e){t.Ta.push(e);const n=ai(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gC(t){return vs(t)&&!ai(t).x_()&&t.Ta.length>0}function yC(t){ai(t).start()}async function cV(t){ai(t).ra()}async function uV(t){const e=ai(t);for(const n of t.Ta)e.ea(n.mutations)}async function hV(t,e,n){const r=t.Ta.shift(),a=Nv.from(r,e,n);await pC(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Jf(t)}async function dV(t,e){e&&ai(t).X_&&await async function(r,a){if(function(s){return Y5(s)&&s!==B.ABORTED}(a.code)){const i=r.Ta.shift();ai(r).B_(),await pC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Jf(r)}}(t,e),gC(t)&&yC(t)}async function Iw(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),Q(ts,"RemoteStore received new credentials");const r=vs(n);n.Ea.add(3),await bu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Xf(n)}async function fV(t,e){const n=ie(t);e?(n.Ea.delete(2),await Xf(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function rl(t){return t.ma||(t.ma=function(n,r,a){const i=ie(n);return i.sa(),new XL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:rV.bind(null,t),t_:aV.bind(null,t),r_:iV.bind(null,t),H_:sV.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Pv(t)?Mv(t):t.Ra.set("Unknown")):(await t.ma.stop(),mC(t))})),t.ma}function ai(t){return t.fa||(t.fa=function(n,r,a){const i=ie(n);return i.sa(),new JL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:cV.bind(null,t),r_:dV.bind(null,t),ta:uV.bind(null,t),na:hV.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Jf(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(ts,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r,a,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,i){const s=Date.now()+r,o=new Lv(e,n,s,a,i);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vv(t,e){if(Zr("AsyncQueue",`${e}: ${t}`),tl(t))return new K(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=tc(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(){this.ga=new Ke(J.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Mo{constructor(e,n,r,a,i,s,o,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,a,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Mo(e,n,fo.emptySet(n),s,r,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class pV{constructor(){this.queries=Ow(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=ie(n),i=a.queries;a.queries=Ow(),i.forEach((s,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new K(B.ABORTED,"Firestore shutting down"))}}function Ow(){return new ys(t=>VA(t),Hf)}async function Uv(t,e){const n=ie(t);let r=3;const a=e.query;let i=n.queries.get(a);i?!i.ba()&&e.Da()&&(r=2):(i=new mV,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(a,!0);break;case 1:i.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(s){const o=Vv(s,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(o)}n.queries.set(a,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&zv(n)}async function Bv(t,e){const n=ie(t),r=e.query;let a=3;const i=n.queries.get(r);if(i){const s=i.Sa.indexOf(e);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=e.Da()?0:1:!i.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gV(t,e){const n=ie(t);let r=!1;for(const a of e){const i=a.query,s=n.queries.get(i);if(s){for(const o of s.Sa)o.Fa(a)&&(r=!0);s.wa=a}}r&&zv(n)}function yV(t,e,n){const r=ie(t),a=r.queries.get(e);if(a)for(const i of a.Sa)i.onError(n);r.queries.delete(e)}function zv(t){t.Ca.forEach(e=>{e.next()})}var Iy,jw;(jw=Iy||(Iy={})).Ma="default",jw.Cache="cache";class Fv{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Mo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Iy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.key=e}}class _C{constructor(e){this.key=e}}class vV{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=UA(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Dw,a=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,s=a,o=!1;const u=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,h=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((d,m)=>{const p=a.get(d),v=Gf(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let A=!1;p&&v?p.data.isEqual(v.data)?x!==N&&(r.track({type:3,doc:v}),A=!0):this.su(p,v)||(r.track({type:2,doc:v}),A=!0,(u&&this.eu(v,u)>0||h&&this.eu(v,h)<0)&&(o=!0)):!p&&v?(r.track({type:0,doc:v}),A=!0):p&&!v&&(r.track({type:1,doc:p}),A=!0,(u||h)&&(o=!0)),A&&(v?(s=s.add(v),i=N?i.add(d):i.delete(d)):(s=s.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{tu:s,iu:r,Cs:o,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((d,m)=>function(v,x){const N=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee(20277,{Rt:A})}};return N(v)-N(x)}(d.type,m.type)||this.eu(d.doc,m.doc)),this.ou(r),a=a??!1;const o=n&&!a?this._u():[],u=this.Xa.size===0&&this.current&&!a?1:0,h=u!==this.Za;return this.Za=u,s.length!==0||h?{snapshot:new Mo(this.query,e.tu,i,s,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=pe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new _C(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new vC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $v="SyncEngine";class _V{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bV{constructor(e){this.key=e,this.hu=!1}}class xV{constructor(e,n,r,a,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ys(o=>VA(o),Hf),this.Iu=new Map,this.Eu=new Set,this.du=new Ke(J.comparator),this.Au=new Map,this.Ru=new Rv,this.Vu={},this.mu=new Map,this.fu=ko.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function wV(t,e,n=!0){const r=SC(t);let a;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await bC(r,e,n,!0),a}async function EV(t,e){const n=SC(t);await bC(n,e,!0,!1)}async function bC(t,e,n,r){const a=await $L(t.localStore,fr(e)),i=a.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await TV(t,e,i,s==="current",a.resumeToken)),t.isPrimaryClient&&n&&dC(t.remoteStore,a),o}async function TV(t,e,n,r,a){t.pu=(m,p,v)=>async function(N,A,y,_){let w=A.view.ru(y);w.Cs&&(w=await Sw(N.localStore,A.query,!1).then(({documents:S})=>A.view.ru(S,w)));const D=_&&_.targetChanges.get(A.targetId),V=_&&_.targetMismatches.get(A.targetId)!=null,q=A.view.applyChanges(w,N.isPrimaryClient,D,V);return Mw(N,A.targetId,q.au),q.snapshot}(t,m,p,v);const i=await Sw(t.localStore,e,!0),s=new vV(e,i.Qs),o=s.ru(i.documents),u=_u.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),h=s.applyChanges(o,t.isPrimaryClient,u);Mw(t,n,h.au);const d=new _V(e,n,s);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function SV(t,e,n){const r=ie(t),a=r.Tu.get(e),i=r.Iu.get(a.targetId);if(i.length>1)return r.Iu.set(a.targetId,i.filter(s=>!Hf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Cy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&jv(r.remoteStore,a.targetId),Dy(r,a.targetId)}).catch(el)):(Dy(r,a.targetId),await Cy(r.localStore,a.targetId,!0))}async function NV(t,e){const n=ie(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jv(n.remoteStore,r.targetId))}async function AV(t,e,n){const r=kV(t);try{const a=await function(s,o){const u=ie(s),h=_e.now(),d=o.reduce((v,x)=>v.add(x.key),pe());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let x=ea(),N=pe();return u.Ns.getEntries(v,d).next(A=>{x=A,x.forEach((y,_)=>{_.isValidDocument()||(N=N.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,x)).next(A=>{m=A;const y=[];for(const _ of o){const w=F5(_,m.get(_.key).overlayedDocument);w!=null&&y.push(new mi(_.key,w,IA(w.value.mapValue),Wn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,h,y,o)}).next(A=>{p=A;const y=A.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(v,A.batchId,y)})}).then(()=>({batchId:p.batchId,changes:zA(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(s,o,u){let h=s.Vu[s.currentUser.toKey()];h||(h=new Ke(me)),h=h.insert(o,u),s.Vu[s.currentUser.toKey()]=h}(r,a.batchId,n),await xu(r,a.changes),await Jf(r.remoteStore)}catch(a){const i=Vv(a,"Failed to persist write");n.reject(i)}}async function xC(t,e){const n=ie(t);try{const r=await BL(n.localStore,e);e.targetChanges.forEach((a,i)=>{const s=n.Au.get(i);s&&(Ee(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?Ee(s.hu,14607):a.removedDocuments.size>0&&(Ee(s.hu,42227),s.hu=!1))}),await xu(n,r,e)}catch(r){await el(r)}}function kw(t,e,n){const r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach((i,s)=>{const o=s.view.va(e);o.snapshot&&a.push(o.snapshot)}),function(s,o){const u=ie(s);u.onlineState=o;let h=!1;u.queries.forEach((d,m)=>{for(const p of m.Sa)p.va(o)&&(h=!0)}),h&&zv(u)}(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function CV(t,e,n){const r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),i=a&&a.key;if(i){let s=new Ke(J.comparator);s=s.insert(i,Vt.newNoDocument(i,ae.min()));const o=pe().add(i),u=new Kf(ae.min(),new Map,new Ke(me),s,o);await xC(r,u),r.du=r.du.remove(i),r.Au.delete(e),qv(r)}else await Cy(r.localStore,e,!1).then(()=>Dy(r,e,n)).catch(el)}async function RV(t,e){const n=ie(t),r=e.batch.batchId;try{const a=await UL(n.localStore,e);EC(n,r,null),wC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xu(n,a)}catch(a){await el(a)}}async function IV(t,e,n){const r=ie(t);try{const a=await function(s,o){const u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,o).next(m=>(Ee(m!==null,37113),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);EC(r,e,n),wC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xu(r,a)}catch(a){await el(a)}}function wC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function EC(t,e,n){const r=ie(t);let a=r.Vu[r.currentUser.toKey()];if(a){const i=a.get(e);i&&(n?i.reject(n):i.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function Dy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||TC(t,r)})}function TC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),qv(t))}function Mw(t,e,n){for(const r of n)r instanceof vC?(t.Ru.addReference(r.key,e),DV(t,r)):r instanceof _C?(Q($v,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||TC(t,r.key)):ee(19791,{wu:r})}function DV(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Q($v,"New document in limbo: "+n),t.Eu.add(r),qv(t))}function qv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new J(je.fromString(e)),r=t.fu.next();t.Au.set(r,new bV(n)),t.du=t.du.insert(n,r),dC(t.remoteStore,new ja(fr(qf(n.path)),r,"TargetPurposeLimboResolution",zf.ce))}}async function xu(t,e,n){const r=ie(t),a=[],i=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{s.push(r.pu(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){a.push(h);const m=Dv.As(u.targetId,h);i.push(m)}}))}),await Promise.all(s),r.Pu.H_(a),await async function(u,h){const d=ie(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(h,p=>F.forEach(p.Es,v=>d.persistence.referenceDelegate.addReference(m,p.targetId,v)).next(()=>F.forEach(p.ds,v=>d.persistence.referenceDelegate.removeReference(m,p.targetId,v)))))}catch(m){if(!tl(m))throw m;Q(Ov,"Failed to update sequence numbers: "+m)}for(const m of h){const p=m.targetId;if(!m.fromCache){const v=d.Ms.get(p),x=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(p,N)}}}(r.localStore,i))}async function OV(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){Q($v,"User change. New user:",e.toKey());const r=await lC(n.localStore,e);n.currentUser=e,function(i,s){i.mu.forEach(o=>{o.forEach(u=>{u.reject(new K(B.CANCELLED,s))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xu(n,r.Ls)}}function jV(t,e){const n=ie(t),r=n.Au.get(e);if(r&&r.hu)return pe().add(r.key);{let a=pe();const i=n.Iu.get(e);if(!i)return a;for(const s of i){const o=n.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function SC(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=CV.bind(null,e),e.Pu.H_=gV.bind(null,e.eventManager),e.Pu.yu=yV.bind(null,e.eventManager),e}function kV(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IV.bind(null,e),e}class $d{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return VL(this.persistence,new ML,e.initialUser,this.serializer)}Cu(e){return new oC(Iv.mi,this.serializer)}Du(e){return new HL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$d.provider={build:()=>new $d};class MV extends $d{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ee(this.persistence.referenceDelegate instanceof zd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bL(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new oC(r=>zd.mi(r,n),this.serializer)}}class Oy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>kw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OV.bind(null,this.syncEngine),await fV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pV}()}createDatastore(e){const n=Qf(e.databaseInfo.databaseId),r=function(i){return new QL(i)}(e.databaseInfo);return function(i,s,o,u){return new eV(i,s,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,i,s,o){return new nV(r,a,i,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>kw(this.syncEngine,n,0),function(){return Cw.v()?new Cw:new GL}())}createSyncEngine(e,n){return function(a,i,s,o,u,h,d){const m=new xV(a,i,s,o,u,h);return d&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const i=ie(a);Q(ts,"RemoteStore shutting down."),i.Ea.add(5),await bu(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Oy.provider={build:()=>new Oy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii="FirestoreClient";class PV{constructor(e,n,r,a,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Lt.UNAUTHENTICATED,this.clientId=vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async s=>{Q(ii,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Q(ii,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Vv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Vp(t,e){t.asyncQueue.verifyOperationInProgress(),Q(ii,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await lC(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LV(t);Q(ii,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Iw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>Iw(e.remoteStore,a)),t._onlineComponents=e}async function LV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(ii,"Using user provided OfflineComponentProvider");try{await Vp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===B.FAILED_PRECONDITION||a.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Io("Error using user provided cache. Falling back to memory cache: "+n),await Vp(t,new $d)}}else Q(ii,"Using default OfflineComponentProvider"),await Vp(t,new MV(void 0));return t._offlineComponents}async function NC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(ii,"Using user provided OnlineComponentProvider"),await Pw(t,t._uninitializedComponentsProvider._online)):(Q(ii,"Using default OnlineComponentProvider"),await Pw(t,new Oy))),t._onlineComponents}function VV(t){return NC(t).then(e=>e.syncEngine)}async function qd(t){const e=await NC(t),n=e.eventManager;return n.onListen=wV.bind(null,e.syncEngine),n.onUnlisten=SV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=EV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NV.bind(null,e.syncEngine),n}function UV(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,h){const d=new Hv({next:p=>{d.Nu(),s.enqueueAndForget(()=>Bv(i,m));const v=p.docs.has(o);!v&&p.fromCache?h.reject(new K(B.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&u&&u.source==="server"?h.reject(new K(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new Fv(qf(o.path),d,{includeMetadataChanges:!0,qa:!0});return Uv(i,m)}(await qd(t),t.asyncQueue,e,n,r)),r.promise}function BV(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,u,h){const d=new Hv({next:p=>{d.Nu(),s.enqueueAndForget(()=>Bv(i,m)),p.fromCache&&u.source==="server"?h.reject(new K(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),m=new Fv(o,d,{includeMetadataChanges:!0,qa:!0});return Uv(i,m)}(await qd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="firestore.googleapis.com",Vw=!0;class Uw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CC,this.ssl=Vw}else this.host=e.host,this.ssl=e.ssl??Vw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vL)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zf{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new G6;switch(r.type){case"firstParty":return new Q6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Lw.get(n);r&&(Q("ComponentProvider","Removing Datastore"),Lw.delete(n),r.terminate())}(this),Promise.resolve()}}function zV(t,e,n,r={}){var h;t=Pn(t,Zf);const a=ms(e),i=t._getSettings(),s={...i,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;a&&(mv(`https://${o}`),pv("Firestore",!0)),i.host!==CC&&i.host!==o&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:o,ssl:a,emulatorOptions:r};if(!Za(u,s)&&(t._setSettings(u),r.mockUserToken)){let d,m;if(typeof r.mockUserToken=="string")d=r.mockUserToken,m=Lt.MOCK_USER;else{d=tA(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Lt(p)}t._authCredentials=new Y6(new vA(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pi(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yu(n,nt._jsonSchema))return new nt(e,r||null,new J(je.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:ht("string",nt._jsonSchemaVersion),referencePath:ht("string")};class Ga extends pi{constructor(e,n,r){super(e,n,qf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new J(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function gi(t,e,...n){if(t=We(t),_A("collection","path",e),t instanceof Zf){const r=je.fromString(e,...n);return Jx(r),new Ga(t,null,r)}{if(!(t instanceof nt||t instanceof Ga))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return Jx(r),new Ga(t.firestore,null,r)}}function ta(t,e,...n){if(t=We(t),arguments.length===1&&(e=vv.newId()),_A("doc","path",e),t instanceof Zf){const r=je.fromString(e,...n);return Xx(r),new nt(t,null,new J(r))}{if(!(t instanceof nt||t instanceof Ga))throw new K(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(je.fromString(e,...n));return Xx(r),new nt(t.firestore,t instanceof Ga?t.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="AsyncQueue";class zw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uC(this,"async_queue_retry"),this._c=()=>{const r=Lp();r&&Q(Bw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!tl(e))throw e;Q(Bw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",Fw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=Lv.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&ee(47125,{Pc:Fw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Fw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const i of r)if(i in a&&typeof a[i]=="function")return!0;return!1}(t,["next","error","complete"])}class si extends Zf{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new zw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zw(e),this._firestoreClient=void 0,await e}}}function FV(t,e){const n=typeof t=="object"?t:Uf(),r=typeof t=="string"?t:Md,a=di(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const i=JN("firestore");i&&zV(a,...i)}return a}function em(t){if(t._terminated)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$V(t),t._firestoreClient}function $V(t){var r,a,i;const e=t._freezeSettings(),n=function(o,u,h,d){return new f5(o,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,AC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(a=e.localCache)!=null&&a._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(jt.fromBase64String(e))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yu(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:ht("string",On._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pr._jsonSchemaVersion}}static fromJSON(e){if(yu(e,pr._jsonSchema))return new pr(e.latitude,e.longitude)}}pr._jsonSchemaVersion="firestore/geoPoint/1.0",pr._jsonSchema={type:ht("string",pr._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==a[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:gr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yu(e,gr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new gr(e.vectorValues);throw new K(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}gr._jsonSchemaVersion="firestore/vectorValue/1.0",gr._jsonSchema={type:ht("string",gr._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=/^__.*__$/;class HV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}class RC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee(40011,{Ac:t})}}class Yv{constructor(e,n,r,a,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var a;const n=(a=this.path)==null?void 0:a.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Hd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(IC(this.Ac)&&qV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class GV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qf(e)}Cc(e,n,r,a=!1){return new Yv({Ac:e,methodName:n,Dc:r,path:It.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wv(t){const e=t._freezeSettings(),n=Qf(t._databaseId);return new GV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YV(t,e,n,r,a,i={}){const s=t.Cc(i.merge||i.mergeFields?2:0,e,n,a);Kv("Data must be an object, but it was:",s,r);const o=DC(r,s);let u,h;if(i.merge)u=new mn(s.fieldMask),h=s.fieldTransforms;else if(i.mergeFields){const d=[];for(const m of i.mergeFields){const p=jy(e,m,n);if(!s.contains(p))throw new K(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jC(d,p)||d.push(p)}u=new mn(d),h=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=s.fieldTransforms;return new HV(new Zt(o),u,h)}class nm extends Gv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nm}}function WV(t,e,n,r){const a=t.Cc(1,e,n);Kv("Data must be an object, but it was:",a,r);const i=[],s=Zt.empty();fi(r,(u,h)=>{const d=Qv(e,u,n);h=We(h);const m=a.yc(d);if(h instanceof nm)i.push(d);else{const p=wu(h,m);p!=null&&(i.push(d),s.set(d,p))}});const o=new mn(i);return new RC(s,o,a.fieldTransforms)}function KV(t,e,n,r,a,i){const s=t.Cc(1,e,n),o=[jy(e,r,n)],u=[a];if(i.length%2!=0)throw new K(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)o.push(jy(e,i[p])),u.push(i[p+1]);const h=[],d=Zt.empty();for(let p=o.length-1;p>=0;--p)if(!jC(h,o[p])){const v=o[p];let x=u[p];x=We(x);const N=s.yc(v);if(x instanceof nm)h.push(v);else{const A=wu(x,N);A!=null&&(h.push(v),d.set(v,A))}}const m=new mn(h);return new RC(d,m,s.fieldTransforms)}function QV(t,e,n,r=!1){return wu(n,t.Cc(r?4:3,e))}function wu(t,e){if(OC(t=We(t)))return Kv("Unsupported field value:",e,t),DC(t,e);if(t instanceof Gv)return function(r,a){if(!IC(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,a){const i=[];let s=0;for(const o of r){let u=wu(o,a.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,a){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=_e.fromDate(r);return{timestampValue:Bd(a.serializer,i)}}if(r instanceof _e){const i=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bd(a.serializer,i)}}if(r instanceof pr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:ZA(a.serializer,r._byteString)};if(r instanceof nt){const i=a.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof gr)return function(s,o){return{mapValue:{fields:{[CA]:{stringValue:RA},[Pd]:{arrayValue:{values:s.toArray().map(h=>{if(typeof h!="number")throw o.Sc("VectorValues must only contain numeric values.");return Tv(o.serializer,h)})}}}}}}(r,a);throw a.Sc(`Unsupported field value: ${Bf(r)}`)}(t,e)}function DC(t,e){const n={};return wA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(t,(r,a)=>{const i=wu(a,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function OC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof pr||t instanceof On||t instanceof nt||t instanceof Gv||t instanceof gr)}function Kv(t,e,n){if(!OC(n)||!bA(n)){const r=Bf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function jy(t,e,n){if((e=We(e))instanceof tm)return e._internalPath;if(typeof e=="string")return Qv(t,e);throw Hd("Field path arguments must be of type string or ",t,!1,void 0,n)}const XV=new RegExp("[~\\*/\\[\\]]");function Qv(t,e,n){if(e.search(XV)>=0)throw Hd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new tm(...e.split("."))._internalPath}catch{throw Hd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hd(t,e,n,r,a){const i=r&&!r.isEmpty(),s=a!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(i||s)&&(u+=" (found",i&&(u+=` in field ${r}`),s&&(u+=` in document ${a}`),u+=")"),new K(B.INVALID_ARGUMENT,o+t+u)}function jC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,a,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JV extends kC{data(){return super.data()}}function rm(t,e){return typeof e=="string"?Qv(t,e):e instanceof tm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xv{}class PC extends Xv{}function Jv(t,e,...n){let r=[];e instanceof Xv&&r.push(e),r=r.concat(n),function(i){const s=i.filter(u=>u instanceof Zv).length,o=i.filter(u=>u instanceof am).length;if(s>1||s>0&&o>0)throw new K(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class am extends PC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new am(e,n,r)}_apply(e){const n=this._parse(e);return VC(e._query,n),new pi(e.firestore,e.converter,wy(e._query,n))}_parse(e){const n=Wv(e.firestore);return function(i,s,o,u,h,d,m){let p;if(h.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Hw(m,d);const x=[];for(const N of m)x.push(qw(u,i,N));p={arrayValue:{values:x}}}else p=qw(u,i,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Hw(m,d),p=QV(o,s,m,d==="in"||d==="not-in");return ct.create(h,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LC(t,e,n){const r=e,a=rm("where",t);return am._create(a,r,n)}class Zv extends Xv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const u of o)VC(s,u),s=wy(s,u)}(e._query,n),new pi(e.firestore,e.converter,wy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class e_ extends PC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new e_(e,n)}_apply(e){const n=function(a,i,s){if(a.startAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yc(i,s)}(e._query,this._field,this._direction);return new pi(e.firestore,e.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new nl(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function ZV(t,e="asc"){const n=e,r=rm("orderBy",t);return e_._create(r,n)}function qw(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LA(e)&&n.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(je.fromString(n));if(!J.isDocumentKey(r))throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sw(t,new J(r))}if(n instanceof nt)return sw(t,n._key);throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bf(n)}.`)}function Hw(t,e){if(!Array.isArray(t)||t.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VC(t,e){const n=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class e9{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return fi(e,(a,i)=>{r[a]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,a,i;const n=(i=(a=(r=e.fields)==null?void 0:r[Pd].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>et(s.doubleValue));return new gr(n)}convertGeoPoint(e){return new pr(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$f(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qc(e));default:return null}}convertTimestamp(e){const n=ti(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=je.fromString(e);Ee(iC(r),9688,{name:e});const a=new Hc(r.get(1),r.get(3)),i=new J(r.popFirst(5));return a.isEqual(n)||Zr(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class rc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gi extends kC{constructor(e,n,r,a,i,s){super(e,n,r,a,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(rm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gi._jsonSchema={type:ht("string",Gi._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class Kh extends Gi{data(e={}){return super.data(e)}}class Yi{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new rc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kh(this._firestore,this._userDataWriter,r.key,r,new rc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const u=new Kh(a._firestore,a._userDataWriter,o.doc.key,o.doc,new rc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new Kh(a._firestore,a._userDataWriter,o.doc.key,o.doc,new rc(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let h=-1,d=-1;return o.type!==0&&(h=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:n9(o.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function n9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(t){t=Pn(t,nt);const e=Pn(t.firestore,si);return UV(em(e),t._key).then(n=>FC(e,t,n))}Yi._jsonSchemaVersion="firestore/querySnapshot/1.0",Yi._jsonSchema={type:ht("string",Yi._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class t_ extends e9{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}function BC(t){t=Pn(t,pi);const e=Pn(t.firestore,si),n=em(e),r=new t_(e);return MC(t._query),BV(n,t._query).then(a=>new Yi(e,r,t,a))}function n_(t,e,n,...r){t=Pn(t,nt);const a=Pn(t.firestore,si),i=Wv(a);let s;return s=typeof(e=We(e))=="string"||e instanceof tm?KV(i,"updateDoc",t._key,e,n,r):WV(i,"updateDoc",t._key,e),a_(a,[s.toMutation(t._key,Wn.exists(!0))])}function r_(t){return a_(Pn(t.firestore,si),[new Sv(t._key,Wn.none())])}function im(t,e){const n=Pn(t.firestore,si),r=ta(t),a=t9(t.converter,e);return a_(n,[YV(Wv(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function zC(t,...e){var u,h,d;t=We(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||$w(e[r])||(n=e[r++]);const a={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if($w(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(h=m.error)==null?void 0:h.bind(m),e[r+2]=(d=m.complete)==null?void 0:d.bind(m)}let i,s,o;if(t instanceof nt)s=Pn(t.firestore,si),o=qf(t._key.path),i={next:m=>{e[r]&&e[r](FC(s,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Pn(t,pi);s=Pn(m.firestore,si),o=m._query;const p=new t_(s);i={next:v=>{e[r]&&e[r](new Yi(s,p,m,v))},error:e[r+1],complete:e[r+2]},MC(t._query)}return function(p,v,x,N){const A=new Hv(N),y=new Fv(v,A,x);return p.asyncQueue.enqueueAndForget(async()=>Uv(await qd(p),y)),()=>{A.Nu(),p.asyncQueue.enqueueAndForget(async()=>Bv(await qd(p),y))}}(em(s),o,a,i)}function a_(t,e){return function(r,a){const i=new qr;return r.asyncQueue.enqueueAndForget(async()=>AV(await VV(r),a,i)),i.promise}(em(t),e)}function FC(t,e,n){const r=n.docs.get(e._key),a=new t_(t);return new Gi(t,a,e._key,r,new rc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Zo=a})(gs),Kn(new Un("firestore",(r,{instanceIdentifier:a,options:i})=>{const s=r.getProvider("app").getImmediate(),o=new si(new W6(r.getProvider("auth-internal")),new X6(s,r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hc(h.options.projectId,d)}(s,a),s);return i={useFetchStreams:n,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),tn(Yx,Wx,e),tn(Yx,Wx,"esm2020")})();var r9="firebase",a9="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn(r9,a9,"app");function $C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i9=$C,qC=new ps("auth","Firebase",$C());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new Vf("@firebase/auth");function s9(t,...e){Gd.logLevel<=fe.WARN&&Gd.warn(`Auth (${gs}): ${t}`,...e)}function Qh(t,...e){Gd.logLevel<=fe.ERROR&&Gd.error(`Auth (${gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw i_(t,...e)}function yr(t,...e){return i_(t,...e)}function HC(t,e,n){const r={...i9(),[e]:n};return new ps("auth","Firebase",r).create(e,{appName:t.name})}function Ya(t){return HC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function i_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return qC.create(t,...e)}function Z(t,e,...n){if(!t)throw i_(e,...n)}function Vr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function na(t,e){t||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function o9(){return Gw()==="http:"||Gw()==="https:"}function Gw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(o9()||nA()||"connection"in navigator)?navigator.onLine:!0}function c9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,na(n>e,"Short delay should be less than long delay!"),this.isMobile=x3()||T3()}get(){return l9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e){na(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],d9=new Eu(3e4,6e4);function _s(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yi(t,e,n,r,a={}){return YC(t,a,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const o=gu({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:u,...i};return E3()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&ms(t.emulatorConfig.host)&&(h.credentials="include"),GC.fetch()(await WC(t,t.config.apiHost,n,o),h)})}async function YC(t,e,n){t._canInitEmulator=!1;const r={...u9,...e};try{const a=new m9(t),i=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw _h(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[u,h]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw _h(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw _h(t,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw HC(t,d,h);Xn(t,d)}}catch(a){if(a instanceof Bn)throw a;Xn(t,"network-request-failed",{message:String(a)})}}async function sm(t,e,n,r,a={}){const i=await yi(t,e,n,r,a);return"mfaPendingCredential"in i&&Xn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function WC(t,e,n,r){const a=`${e}${n}?${r}`,i=t,s=i.config.emulator?s_(t.config,a):`${t.config.apiScheme}://${a}`;return h9.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function f9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class m9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),d9.get())})}}function _h(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=yr(t,e,r);return a.customData._tokenResponse=n,a}function Yw(t){return t!==void 0&&t.enterprise!==void 0}class p9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return f9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function g9(t,e){return yi(t,"GET","/v2/recaptchaConfig",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t,e){return yi(t,"POST","/v1/accounts:delete",e)}async function Yd(t,e){return yi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function v9(t,e=!1){const n=We(t),r=await n.getIdToken(e),a=o_(r);Z(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:r,authTime:Tc(Up(a.auth_time)),issuedAtTime:Tc(Up(a.iat)),expirationTime:Tc(Up(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Up(t){return Number(t)*1e3}function o_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const a=QN(n);return a?JSON.parse(a):(Qh("Failed to decode base64 JWT payload"),null)}catch(a){return Qh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Ww(t){const e=o_(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&_9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Qc(t,Yd(e,{idToken:n}));Z(r==null?void 0:r.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const i=(m=a.providerUserInfo)!=null&&m.length?KC(a.providerUserInfo):[],s=w9(t.providerData,i),o=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(s!=null&&s.length),h=o?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new My(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function x9(t){const e=We(t);await Wd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function w9(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function KC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){const n=await YC(t,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:i}=t.config,s=await WC(t,a,"/v1/token",`key=${i}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return t.emulatorConfig&&ms(t.emulatorConfig.host)&&(u.credentials="include"),GC.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T9(t,e){return yi(t,"POST","/v2/accounts:revokeToken",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");const n=Ww(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:i}=await E9(e,n);this.updateTokensAndExpiration(r,a,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:i}=n,s=new mo;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),a&&(Z(typeof a=="string","internal-error",{appName:e}),s.accessToken=a),i&&(Z(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new b9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new My(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Qc(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return v9(this,e)}reload(){return x9(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await Qc(this,y9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,i=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:v,providerData:x,stsTokenManager:N}=n;Z(m&&N,e,"internal-error");const A=mo.fromJSON(this.name,N);Z(typeof m=="string",e,"internal-error"),ga(r,e.name),ga(a,e.name),Z(typeof p=="boolean",e,"internal-error"),Z(typeof v=="boolean",e,"internal-error"),ga(i,e.name),ga(s,e.name),ga(o,e.name),ga(u,e.name),ga(h,e.name),ga(d,e.name);const y=new Hn({uid:m,auth:e,email:a,emailVerified:p,displayName:r,isAnonymous:v,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:A,createdAt:h,lastLoginAt:d});return x&&Array.isArray(x)&&(y.providerData=x.map(_=>({..._}))),u&&(y._redirectEventId=u),y}static async _fromIdTokenResponse(e,n,r=!1){const a=new mo;a.updateFromServerResponse(n);const i=new Hn({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Wd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Z(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?KC(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new mo;o.updateFromIdToken(r);const u=new Hn({uid:a.localId,auth:e,stsTokenManager:o,isAnonymous:s}),h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new My(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;function Ur(t){na(t instanceof Function,"Expected a class definition");let e=Kw.get(t);return e?(na(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Kw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QC.type="NONE";const Qw=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(t,e,n){return`firebase:${t}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:i}=this.auth;this.fullUserKey=Xh(this.userKey,a.apiKey,i),this.fullPersistenceKey=Xh("persistence",a.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yd(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(Ur(Qw),e,r);const a=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=a[0]||Ur(Qw);const s=Xh(r,e.config.apiKey,e.name);let o=null;for(const h of n)try{const d=await h._get(s);if(d){let m;if(typeof d=="string"){const p=await Yd(e,{idToken:d}).catch(()=>{});if(!p)break;m=await Hn._fromGetAccountInfoResponse(e,p,d)}else m=Hn._fromJSON(e,d);h!==i&&(o=m),i=h;break}}catch{}const u=a.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new po(i,e,r):(i=u[0],o&&await i._set(s,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(s)}catch{}})),new po(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(XC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nR(e))return"Blackberry";if(rR(e))return"Webos";if(JC(e))return"Safari";if((e.includes("chrome/")||ZC(e))&&!e.includes("edge/"))return"Chrome";if(tR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function XC(t=Ut()){return/firefox\//i.test(t)}function JC(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ZC(t=Ut()){return/crios\//i.test(t)}function eR(t=Ut()){return/iemobile/i.test(t)}function tR(t=Ut()){return/android/i.test(t)}function nR(t=Ut()){return/blackberry/i.test(t)}function rR(t=Ut()){return/webos/i.test(t)}function l_(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function S9(t=Ut()){var e;return l_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function N9(){return S3()&&document.documentMode===10}function aR(t=Ut()){return l_(t)||tR(t)||rR(t)||nR(t)||/windows phone/i.test(t)||eR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t,e=[]){let n;switch(t){case"Browser":n=Xw(Ut());break;case"Worker":n=`${Xw(Ut())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,o)=>{try{const u=e(i);s(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C9(t,e={}){return yi(t,"GET","/v2/passwordPolicy",_s(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=6;class I9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??R9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new A9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=qC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,a,i;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yd(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Dn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&(u!=null&&u.user)&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=c9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(Ya(this));const n=e?We(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await C9(this),n=new I9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ps("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ur(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,a);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=iR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&s9(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function al(t){return We(t)}class Jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=O3(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function O9(t){om=t}function sR(t){return om.loadJS(t)}function j9(){return om.recaptchaEnterpriseScript}function k9(){return om.gapiScript}function M9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class P9{constructor(){this.enterprise=new L9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class L9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const V9="recaptcha-enterprise",oR="NO_RECAPTCHA";class U9{constructor(e){this.type=V9,this.auth=al(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{g9(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const h=new p9(u);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,s(h.siteKey)}}).catch(u=>{o(u)})})}function a(i,s,o){const u=window.grecaptcha;Yw(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(h=>{s(h)}).catch(()=>{s(oR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new P9().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{r(this.auth).then(o=>{if(!n&&Yw(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=j9();u.length!==0&&(u+=o),sR(u).then(()=>{a(o,i,s)}).catch(h=>{s(h)})}}).catch(o=>{s(o)})})}}async function Zw(t,e,n,r=!1,a=!1){const i=new U9(t);let s;if(a)s=oR;else try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,h=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eE(t,e,n,r,a){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Zw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Zw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t,e){const n=di(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),i=n.getOptions();if(Za(i,e??{}))return a;Xn(a,"already-initialized")}return n.initialize({options:e})}function z9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function F9(t,e,n){const r=al(t);Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,i=lR(e),{host:s,port:o}=$9(e),u=o===null?"":`:${o}`,h={url:`${i}//${s}${u}/`},d=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Z(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Z(Za(h,r.config.emulator)&&Za(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,ms(s)?(mv(`${i}//${s}${u}`),pv("Auth",!0)):q9()}function lR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $9(t){const e=lR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const i=a[1];return{host:i,port:tE(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:tE(s)}}}function tE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function q9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,n){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function H9(t,e){return yi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t,e){return sm(t,"POST","/v1/accounts:signInWithPassword",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y9(t,e){return sm(t,"POST","/v1/accounts:signInWithEmailLink",_s(t,e))}async function W9(t,e){return sm(t,"POST","/v1/accounts:signInWithEmailLink",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends c_{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Xc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Xc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eE(e,n,"signInWithPassword",G9);case"emailLink":return Y9(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eE(e,r,"signUpPassword",H9);case"emailLink":return W9(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(t,e){return sm(t,"POST","/v1/accounts:signInWithIdp",_s(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9="http://localhost";class ns extends c_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...i}=n;if(!r||!a)return null;const s=new ns(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:K9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X9(t){const e=Jl(Zl(t)).link,n=e?Jl(Zl(e)).deep_link_id:null,r=Jl(Zl(t)).deep_link_id;return(r?Jl(Zl(r)).link:null)||r||n||e||t}class u_{constructor(e){const n=Jl(Zl(e)),r=n.apiKey??null,a=n.oobCode??null,i=Q9(n.mode??null);Z(r&&a&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=X9(e);try{return new u_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.providerId=il.PROVIDER_ID}static credential(e,n){return Xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=u_.parseLink(n);return Z(r,"argument-error"),Xc._fromEmailAndCode(e,r.code,r.tenantId)}}il.PROVIDER_ID="password";il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends cR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Tu{constructor(){super("facebook.com")}static credential(e){return ns._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ta.credential(e.oauthAccessToken)}catch{return null}}}Ta.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ta.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ns._fromParams({providerId:Sa.PROVIDER_ID,signInMethod:Sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sa.credentialFromTaggedObject(e)}static credentialFromError(e){return Sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sa.credential(n,r)}catch{return null}}}Sa.GOOGLE_SIGN_IN_METHOD="google.com";Sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Tu{constructor(){super("github.com")}static credential(e){return ns._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Tu{constructor(){super("twitter.com")}static credential(e,n){return ns._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Aa.credential(n,r)}catch{return null}}}Aa.TWITTER_SIGN_IN_METHOD="twitter.com";Aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const i=await Hn._fromIdTokenResponse(e,r,a),s=nE(r);return new Po({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=nE(r);return new Po({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function nE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends Bn{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Kd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new Kd(e,n,r,a)}}function uR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Kd._fromErrorAndOperation(t,i,e,r):i})}async function J9(t,e,n=!1){const r=await Qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e,n=!1){const{auth:r}=t;if(Dn(r.app))return Promise.reject(Ya(r));const a="reauthenticate";try{const i=await Qc(t,uR(r,a,e,t),n);Z(i.idToken,r,"internal-error");const s=o_(i.idToken);Z(s,r,"internal-error");const{sub:o}=s;return Z(t.uid===o,r,"user-mismatch"),Po._forOperation(t,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e,n=!1){if(Dn(t.app))return Promise.reject(Ya(t));const r="signIn",a=await uR(t,r,e),i=await Po._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(i.user),i}async function eU(t,e){return hR(al(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t){const e=al(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function nU(t,e,n){return Dn(t.app)?Promise.reject(Ya(t)):eU(We(t),il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&tU(t),r})}function rU(t,e,n,r){return We(t).onIdTokenChanged(e,n,r)}function aU(t,e,n){return We(t).beforeAuthStateChanged(e,n)}function iU(t,e,n,r){return We(t).onAuthStateChanged(e,n,r)}function sU(t){return We(t).signOut()}const Qd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qd,"1"),this.storage.removeItem(Qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=1e3,lU=10;class fR extends dR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);N9()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lU):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},oU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fR.type="LOCAL";const cU=fR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends dR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mR.type="SESSION";const pR=mR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new lm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:i}=n.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const o=Array.from(s).map(async h=>h(n.origin,i)),u=await uU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,u)=>{const h=h_("",20);a.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:a,onMessage(m){const p=m;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(p.data.response);break;default:clearTimeout(d),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function dU(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function fU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function pU(){return gR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="firebaseLocalStorageDb",gU=1,Xd="firebaseLocalStorage",vR="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cm(t,e){return t.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function yU(){const t=indexedDB.deleteDatabase(yR);return new Su(t).toPromise()}function Py(){const t=indexedDB.open(yR,gU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xd,{keyPath:vR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await yU(),e(await Py()))})})}async function rE(t,e,n){const r=cm(t,!0).put({[vR]:e,value:n});return new Su(r).toPromise()}async function vU(t,e){const n=cm(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function aE(t,e){const n=cm(t,!0).delete(e);return new Su(n).toPromise()}const _U=800,bU=3;class _R{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(pU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await fU(),!this.activeServiceWorker)return;this.sender=new hU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Py();return await rE(e,Qd,"1"),await aE(e,Qd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>rE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const i=cm(a,!1).getAll();return new Su(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:i}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_U)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_R.type="LOCAL";const xU=_R;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t,e){return e?Ur(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_ extends c_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EU(t){return hR(t.auth,new d_(t),t.bypassAuthState)}function TU(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),Z9(n,new d_(t),t.bypassAuthState)}async function SU(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),J9(n,new d_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,a,i=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:i,error:s,type:o}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EU;case"linkViaPopup":case"linkViaRedirect":return SU;case"reauthViaPopup":case"reauthViaRedirect":return TU;default:Xn(this.auth,"internal-error")}}resolve(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){na(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=new Eu(2e3,1e4);class ro extends bR{constructor(e,n,r,a,i){super(e,n,a,i),this.provider=r,this.authWindow=null,this.pollId=null,ro.currentPopupAction&&ro.currentPopupAction.cancel(),ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){na(this.filter.length===1,"Popup operations only handle one event");const e=h_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NU.get())};e()}}ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU="pendingRedirect",Jh=new Map;class CU extends bR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Jh.get(this.auth._key());if(!e){try{const r=await RU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jh.set(this.auth._key(),e)}return this.bypassAuthState||Jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RU(t,e){const n=OU(e),r=DU(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function IU(t,e){Jh.set(t._key(),e)}function DU(t){return Ur(t._redirectPersistence)}function OU(t){return Xh(AU,t.config.apiKey,t.name)}async function jU(t,e,n=!1){if(Dn(t.app))return Promise.reject(Ya(t));const r=al(t),a=wU(r,e),s=await new CU(r,a,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=10*60*1e3;class MU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!xR(e)){const a=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kU&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(e))}saveEventToCache(e){this.cachedEventUids.add(iE(e)),this.lastProcessedEventTime=Date.now()}}function iE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(t,e={}){return yi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UU=/^https?/;async function BU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LU(t);for(const n of e)try{if(zU(n))return}catch{}Xn(t,"unauthorized-domain")}function zU(t){const e=ky(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!UU.test(n))return!1;if(VU.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new Eu(3e4,6e4);function sE(){const t=vr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $U(t){return new Promise((e,n)=>{var a,i,s;function r(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(yr(t,"network-request-failed"))},timeout:FU.get()})}if((i=(a=vr().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((s=vr().gapi)!=null&&s.load)r();else{const o=M9("iframefcb");return vr()[o]=()=>{gapi.load?r():n(yr(t,"network-request-failed"))},sR(`${k9()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Zh=null,e})}let Zh=null;function qU(t){return Zh=Zh||$U(t),Zh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU=new Eu(5e3,15e3),GU="__/auth/iframe",YU="emulator/auth/iframe",WU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QU(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?s_(e,YU):`https://${t.config.authDomain}/${GU}`,r={apiKey:e.apiKey,appName:t.name,v:gs},a=KU.get(t.config.apiHost);a&&(r.eid=a);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${gu(r).slice(1)}`}async function XU(t){const e=await qU(t),n=vr().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:QU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WU,dontclear:!0},r=>new Promise(async(a,i)=>{await r.restyle({setHideOnLeave:!1});const s=yr(t,"network-request-failed"),o=vr().setTimeout(()=>{i(s)},HU.get());function u(){vr().clearTimeout(o),a(r)}r.ping(u).then(u,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZU=500,e8=600,t8="_blank",n8="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function r8(t,e,n,r=ZU,a=e8){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...JU,width:r.toString(),height:a.toString(),top:i,left:s},h=Ut().toLowerCase();n&&(o=ZC(h)?t8:n),XC(h)&&(e=e||n8,u.scrollbars="yes");const d=Object.entries(u).reduce((p,[v,x])=>`${p}${v}=${x},`,"");if(S9(h)&&o!=="_self")return a8(e||"",o),new oE(null);const m=window.open(e||"",o,d);Z(m,t,"popup-blocked");try{m.focus()}catch{}return new oE(m)}function a8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8="__/auth/handler",s8="emulator/auth/handler",o8=encodeURIComponent("fac");async function lE(t,e,n,r,a,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:gs,eventId:a};if(e instanceof cR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",D3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))s[d]=m}if(e instanceof Tu){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const u=await t._getAppCheckToken(),h=u?`#${o8}=${encodeURIComponent(u)}`:"";return`${l8(t)}?${gu(o).slice(1)}${h}`}function l8({config:t}){return t.emulator?s_(t,s8):`https://${t.authDomain}/${i8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="webStorageSupport";class c8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pR,this._completeRedirectFn=jU,this._overrideRedirectResult=IU}async _openPopup(e,n,r,a){var s;na((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await lE(e,n,r,ky(),a);return r8(e,i,h_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const i=await lE(e,n,r,ky(),a);return dU(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:i}=this.eventManagers[n];return a?Promise.resolve(a):(na(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XU(e),r=new MU(e);return n.register("authEvent",a=>(Z(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bp,{type:Bp},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[Bp];i!==void 0&&n(!!i),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||JC()||l_()}}const u8=c8;var cE="@firebase/auth",uE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f8(t){Kn(new Un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iR(t)},h=new D9(r,a,i,u);return z9(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Kn(new Un("auth-internal",e=>{const n=al(e.getProvider("auth").getImmediate());return(r=>new h8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),tn(cE,uE,d8(t)),tn(cE,uE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8=5*60,p8=eA("authIdTokenMaxAge")||m8;let hE=null;const g8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p8)return;const a=n==null?void 0:n.token;hE!==a&&(hE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function y8(t=Uf()){const e=di(t,"auth");if(e.isInitialized())return e.getImmediate();const n=B9(t,{popupRedirectResolver:u8,persistence:[xU,cU,pR]}),r=eA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=g8(i.toString());aU(n,s,()=>s(n.currentUser)),rU(n,o=>s(o))}}const a=XN("auth");return a&&F9(n,`http://${a}`),n}function v8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}O9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const i=yr("internal-error");i.customData=a,n(i)},r.type="text/javascript",r.charset="UTF-8",v8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f8("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebasestorage.googleapis.com",_8="storageBucket",b8=2*60*1e3,x8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Bn{constructor(e,n,r=0){super(zp(e),`Firebase Storage: ${n} (${zp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var br;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(br||(br={}));function zp(t){return"storage/"+t}function w8(){const t="An unknown error occurred, please check the error payload for server response.";return new Er(br.UNKNOWN,t)}function E8(){return new Er(br.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T8(){return new Er(br.CANCELED,"User canceled the upload/download.")}function S8(t){return new Er(br.INVALID_URL,"Invalid URL '"+t+"'.")}function N8(t){return new Er(br.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dE(t){return new Er(br.INVALID_ARGUMENT,t)}function ER(){return new Er(br.APP_DELETED,"The Firebase app was deleted.")}function A8(t){return new Er(br.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw N8(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function i(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),u={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${d}/b/${a}/o${p}`,"i"),x={bucket:1,path:3},N=n===wR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A="([^?#]*)",y=new RegExp(`^https?://${N}/${a}/${A}`,"i"),w=[{regex:o,indices:u,postModify:i},{regex:v,indices:x,postModify:h},{regex:y,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<w.length;D++){const V=w[D],q=V.regex.exec(e);if(q){const S=q[V.indices.bucket];let T=q[V.indices.path];T||(T=""),r=new Gn(S,T),V.postModify(r);break}}if(r==null)throw S8(e);return r}}class C8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R8(t,e,n){let r=1,a=null,i=null,s=!1,o=0;function u(){return o===2}let h=!1;function d(...A){h||(h=!0,e.apply(null,A))}function m(A){a=setTimeout(()=>{a=null,t(v,u())},A)}function p(){i&&clearTimeout(i)}function v(A,...y){if(h){p();return}if(A){p(),d.call(null,A,...y);return}if(u()||s){p(),d.call(null,A,...y);return}r<64&&(r*=2);let w;o===1?(o=2,w=0):w=(r+Math.random())*1e3,m(w)}let x=!1;function N(A){x||(x=!0,p(),!h&&(a!==null?(A||(o=2),clearTimeout(a),m(0)):A||(o=1)))}return m(0),i=setTimeout(()=>{s=!0,N(!0)},n),N}function I8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(t){return t!==void 0}function fE(t,e,n,r){if(r<e)throw dE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dE(`Invalid value for '${t}'. Expected ${n} or less.`)}function O8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Jd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Jd||(Jd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k8{constructor(e,n,r,a,i,s,o,u,h,d,m,p=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=h,this.progressCallback_=d,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,N)=>{this.resolve_=x,this.reject_=N,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new bh(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const u=o.loaded,h=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,h)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===Jd.NO_ERROR,u=i.getStatus();if(!o||j8(u,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Jd.ABORT;r(!1,new bh(!1,null,d));return}const h=this.successCodes_.indexOf(u)!==-1;r(!0,new bh(h,i))})},n=(r,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const u=this.callback_(o,o.getResponse());D8(u)?i(u):i()}catch(u){s(u)}else if(o!==null){const u=w8();u.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,u)):s(u)}else if(a.canceled){const u=this.appDelete_?ER():T8();s(u)}else{const u=E8();s(u)}};this.canceled_?n(!1,new bh(!1,null,!0)):this.backoffId_=R8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&I8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function M8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function L8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function V8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function U8(t,e,n,r,a,i,s=!0,o=!1){const u=O8(t.urlParams),h=t.url+u,d=Object.assign({},t.headers);return L8(d,e),M8(d,n),P8(d,i),V8(d,r),new k8(h,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function z8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Zd(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return z8(this._location.path)}get storage(){return this._service}get parent(){const e=B8(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Zd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw A8(e)}}function mE(t,e){const n=e==null?void 0:e[_8];return n==null?null:Gn.makeFromBucketSpec(n,t)}function F8(t,e,n,r={}){t.host=`${e}:${n}`;const a=ms(e);a&&(mv(`https://${t.host}/b`),pv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:tA(i,t.app.options.projectId))}class $8{constructor(e,n,r,a,i,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=wR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b8,this._maxUploadRetryTime=x8,this._requests=new Set,a!=null?this._bucket=Gn.makeFromBucketSpec(a,this._host):this._bucket=mE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=mE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zd(this,e)}_makeRequest(e,n,r,a,i=!0){if(this._deleted)return new C8(ER());{const s=U8(e,this._appId,r,a,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const pE="@firebase/storage",gE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="storage";function q8(t=Uf(),e){t=We(t);const r=di(t,TR).getImmediate({identifier:e}),a=JN("storage");return a&&H8(r,...a),r}function H8(t,e,n,r={}){F8(t,e,n,r)}function G8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new $8(n,r,a,e,gs)}function Y8(){Kn(new Un(TR,G8,"PUBLIC").setMultipleInstances(!0)),tn(pE,gE,""),tn(pE,gE,"esm2020")}Y8();const SR="@firebase/installations",f_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=1e4,AR=`w:${f_}`,CR="FIS_v2",W8="https://firebaseinstallations.googleapis.com/v1",K8=60*60*1e3,Q8="installations",X8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rs=new ps(Q8,X8,J8);function RR(t){return t instanceof Bn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR({projectId:t}){return`${W8}/projects/${t}/installations`}function DR(t){return{token:t.token,requestStatus:2,expiresIn:e7(t.expiresIn),creationTime:Date.now()}}async function OR(t,e){const r=(await e.json()).error;return rs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function jR({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Z8(t,{refreshToken:e}){const n=jR(t);return n.append("Authorization",t7(e)),n}async function kR(t){const e=await t();return e.status>=500&&e.status<600?t():e}function e7(t){return Number(t.replace("s","000"))}function t7(t){return`${CR} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n7({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=IR(t),a=jR(t),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const s={fid:n,authVersion:CR,appId:t.appId,sdkVersion:AR},o={method:"POST",headers:a,body:JSON.stringify(s)},u=await kR(()=>fetch(r,o));if(u.ok){const h=await u.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:DR(h.authToken)}}else throw await OR("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=/^[cdef][\w-]{21}$/,Ly="";function i7(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=s7(t);return a7.test(n)?n:Ly}catch{return Ly}}function s7(t){return r7(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Map;function LR(t,e){const n=um(t);VR(n,e),o7(n,e)}function VR(t,e){const n=PR.get(t);if(n)for(const r of n)r(e)}function o7(t,e){const n=l7();n&&n.postMessage({key:t,fid:e}),c7()}let Ui=null;function l7(){return!Ui&&"BroadcastChannel"in self&&(Ui=new BroadcastChannel("[Firebase] FID Change"),Ui.onmessage=t=>{VR(t.data.key,t.data.fid)}),Ui}function c7(){PR.size===0&&Ui&&(Ui.close(),Ui=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7="firebase-installations-database",h7=1,as="firebase-installations-store";let Fp=null;function m_(){return Fp||(Fp=oA(u7,h7,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(as)}}})),Fp}async function ef(t,e){const n=um(t),a=(await m_()).transaction(as,"readwrite"),i=a.objectStore(as),s=await i.get(n);return await i.put(e,n),await a.done,(!s||s.fid!==e.fid)&&LR(t,e.fid),e}async function UR(t){const e=um(t),r=(await m_()).transaction(as,"readwrite");await r.objectStore(as).delete(e),await r.done}async function hm(t,e){const n=um(t),a=(await m_()).transaction(as,"readwrite"),i=a.objectStore(as),s=await i.get(n),o=e(s);return o===void 0?await i.delete(n):await i.put(o,n),await a.done,o&&(!s||s.fid!==o.fid)&&LR(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p_(t){let e;const n=await hm(t.appConfig,r=>{const a=d7(r),i=f7(t,a);return e=i.registrationPromise,i.installationEntry});return n.fid===Ly?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function d7(t){const e=t||{fid:i7(),registrationStatus:0};return BR(e)}function f7(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(rs.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=m7(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:p7(t)}:{installationEntry:e}}async function m7(t,e){try{const n=await n7(t,e);return ef(t.appConfig,n)}catch(n){throw RR(n)&&n.customData.serverCode===409?await UR(t.appConfig):await ef(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function p7(t){let e=await yE(t.appConfig);for(;e.registrationStatus===1;)await MR(100),e=await yE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await p_(t);return r||n}return e}function yE(t){return hm(t,e=>{if(!e)throw rs.create("installation-not-found");return BR(e)})}function BR(t){return g7(t)?{fid:t.fid,registrationStatus:0}:t}function g7(t){return t.registrationStatus===1&&t.registrationTime+NR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y7({appConfig:t,heartbeatServiceProvider:e},n){const r=v7(t,n),a=Z8(t,n),i=e.getImmediate({optional:!0});if(i){const h=await i.getHeartbeatsHeader();h&&a.append("x-firebase-client",h)}const s={installation:{sdkVersion:AR,appId:t.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},u=await kR(()=>fetch(r,o));if(u.ok){const h=await u.json();return DR(h)}else throw await OR("Generate Auth Token",u)}function v7(t,{fid:e}){return`${IR(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_(t,e=!1){let n;const r=await hm(t.appConfig,i=>{if(!zR(i))throw rs.create("not-registered");const s=i.authToken;if(!e&&x7(s))return i;if(s.requestStatus===1)return n=_7(t,e),i;{if(!navigator.onLine)throw rs.create("app-offline");const o=E7(i);return n=b7(t,o),o}});return n?await n:r.authToken}async function _7(t,e){let n=await vE(t.appConfig);for(;n.authToken.requestStatus===1;)await MR(100),n=await vE(t.appConfig);const r=n.authToken;return r.requestStatus===0?g_(t,e):r}function vE(t){return hm(t,e=>{if(!zR(e))throw rs.create("not-registered");const n=e.authToken;return T7(n)?{...e,authToken:{requestStatus:0}}:e})}async function b7(t,e){try{const n=await y7(t,e),r={...e,authToken:n};return await ef(t.appConfig,r),n}catch(n){if(RR(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await UR(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ef(t.appConfig,r)}throw n}}function zR(t){return t!==void 0&&t.registrationStatus===2}function x7(t){return t.requestStatus===2&&!w7(t)}function w7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+K8}function E7(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function T7(t){return t.requestStatus===1&&t.requestTime+NR<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(t){const e=t,{installationEntry:n,registrationPromise:r}=await p_(e);return r?r.catch(console.error):g_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N7(t,e=!1){const n=t;return await A7(n),(await g_(n,e)).token}async function A7(t){const{registrationPromise:e}=await p_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){if(!t||!t.options)throw $p("App Configuration");if(!t.name)throw $p("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw $p(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function $p(t){return rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="installations",R7="installations-internal",I7=t=>{const e=t.getProvider("app").getImmediate(),n=C7(e),r=di(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},D7=t=>{const e=t.getProvider("app").getImmediate(),n=di(e,FR).getImmediate();return{getId:()=>S7(n),getToken:a=>N7(n,a)}};function O7(){Kn(new Un(FR,I7,"PUBLIC")),Kn(new Un(R7,D7,"PRIVATE"))}O7();tn(SR,f_);tn(SR,f_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="analytics",j7="firebase_id",k7="origin",M7=60*1e3,P7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",y_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt=new Vf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},_n=new ps("analytics","Analytics",L7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){if(!t.startsWith(y_)){const e=_n.create("invalid-gtag-resource",{gtagURL:t});return qt.warn(e.message),""}return t}function $R(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function U7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function B7(t,e){const n=U7("firebase-js-sdk-policy",{createScriptURL:V7}),r=document.createElement("script"),a=`${y_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function z7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function F7(t,e,n,r,a,i){const s=r[a];try{if(s)await e[s];else{const u=(await $R(n)).find(h=>h.measurementId===a);u&&await e[u.appId]}}catch(o){qt.error(o)}t("config",a,i)}async function $7(t,e,n,r,a){try{let i=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const o=await $R(n);for(const u of s){const h=o.find(m=>m.measurementId===u),d=h&&e[h.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,a||{})}catch(i){qt.error(i)}}function q7(t,e,n,r){async function a(i,...s){try{if(i==="event"){const[o,u]=s;await $7(t,e,n,o,u)}else if(i==="config"){const[o,u]=s;await F7(t,e,n,r,o,u)}else if(i==="consent"){const[o,u]=s;t("consent",o,u)}else if(i==="get"){const[o,u,h]=s;t("get",o,u,h)}else if(i==="set"){const[o]=s;t("set",o)}else t(i,...s)}catch(o){qt.error(o)}}return a}function H7(t,e,n,r,a){let i=function(...s){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=q7(i,t,e,n),{gtagCore:i,wrappedGtag:window[a]}}function G7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(y_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y7=30,W7=1e3;class K7{constructor(e={},n=W7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const qR=new K7;function Q7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function X7(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Q7(n)},a=P7.replace("{app-id}",e),i=await fetch(a,r);if(i.status!==200&&i.status!==304){let o="";try{const u=await i.json();(s=u.error)!=null&&s.message&&(o=u.error.message)}catch{}throw _n.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function J7(t,e=qR,n){const{appId:r,apiKey:a,measurementId:i}=t.options;if(!r)throw _n.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:r};throw _n.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new tB;return setTimeout(async()=>{o.abort()},M7),HR({appId:r,apiKey:a,measurementId:i},s,o,e)}async function HR(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=qR){var o;const{appId:i,measurementId:s}=t;try{await Z7(r,e)}catch(u){if(s)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:s};throw u}try{const u=await X7(t);return a.deleteThrottleMetadata(i),u}catch(u){const h=u;if(!eB(h)){if(a.deleteThrottleMetadata(i),s)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:i,measurementId:s};throw u}const d=Number((o=h==null?void 0:h.customData)==null?void 0:o.httpStatus)===503?Lx(n,a.intervalMillis,Y7):Lx(n,a.intervalMillis),m={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return a.setThrottleMetadata(i,m),qt.debug(`Calling attemptFetch again in ${d} millis`),HR(t,m,r,a)}}function Z7(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),i=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(i),r(_n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function eB(t){if(!(t instanceof Bn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class tB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nB(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const i=await e,s={...r,send_to:i};t("event",n,s)}}async function rB(t,e,n,r){if(r&&r.global){const a={};for(const i of Object.keys(n))a[`user_properties.${i}`]=n[i];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aB(){if(rA())try{await aA()}catch(t){return qt.warn(_n.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return qt.warn(_n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iB(t,e,n,r,a,i,s){const o=J7(t);o.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>qt.error(p)),e.push(o);const u=aB().then(p=>{if(p)return r.getId()}),[h,d]=await Promise.all([o,u]);G7(i)||B7(i,h.measurementId),a("js",new Date);const m=(s==null?void 0:s.config)??{};return m[k7]="firebase",m.update=!0,d!=null&&(m[j7]=d),a("config",h.measurementId,m),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e){this.app=e}_delete(){return delete yo[this.app.options.appId],Promise.resolve()}}let yo={},_E=[];const bE={};let qp="dataLayer",oB="gtag",xE,v_,wE=!1;function lB(){const t=[];if(nA()&&t.push("This is a browser extension environment."),A3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=_n.create("invalid-analytics-context",{errorInfo:e});qt.warn(n.message)}}function cB(t,e,n){lB();const r=t.options.appId;if(!r)throw _n.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw _n.create("no-api-key");if(yo[r]!=null)throw _n.create("already-exists",{id:r});if(!wE){z7(qp);const{wrappedGtag:i,gtagCore:s}=H7(yo,_E,bE,qp,oB);v_=i,xE=s,wE=!0}return yo[r]=iB(t,_E,bE,e,xE,qp,n),new sB(t)}function uB(t=Uf()){t=We(t);const e=di(t,tf);return e.isInitialized()?e.getImmediate():hB(t)}function hB(t,e={}){const n=di(t,tf);if(n.isInitialized()){const a=n.getImmediate();if(Za(e,n.getOptions()))return a;throw _n.create("already-initialized")}return n.initialize({options:e})}function dB(t,e,n){t=We(t),rB(v_,yo[t.app.options.appId],e,n).catch(r=>qt.error(r))}function fB(t,e,n,r){t=We(t),nB(v_,yo[t.app.options.appId],e,n,r).catch(a=>qt.error(a))}const EE="@firebase/analytics",TE="0.10.19";function mB(){Kn(new Un(tf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return cB(r,a,n)},"PUBLIC")),Kn(new Un("analytics-internal",t,"PRIVATE")),tn(EE,TE),tn(EE,TE,"esm2020");function t(e){try{const n=e.getProvider(tf).getImmediate();return{logEvent:(r,a,i)=>fB(n,r,a,i),setUserProperties:(r,a)=>dB(n,r,a)}}catch(n){throw _n.create("interop-component-reg-failed",{reason:n})}}}mB();const pB={apiKey:"AIzaSyAriwME6CybqyDw1e3yNTwF6sHk4NUn7oY",authDomain:"planyourtrip-ed010.firebaseapp.com",databaseURL:"https://planyourtrip-ed010-default-rtdb.firebaseio.com",projectId:"planyourtrip-ed010",storageBucket:"planyourtrip-ed010.firebasestorage.app",messagingSenderId:"889865160214",appId:"1:889865160214:web:3cbe594765950e07609737",measurementId:"G-1TY4MKM2D9"},dm=lA(pB),Bt=FV(dm),__=y8(dm);q8(dm);uB(dm);const gB=async t=>{try{return(await im(gi(Bt,"trips"),{...t,createdAt:_e.now()})).id}catch(e){throw console.error("Error creating trip:",e),e}},GR=async t=>{try{const e=ta(Bt,"trips",t),n=await UC(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting trip:",e),e}},yB=async()=>{try{return(await BC(gi(Bt,"trips"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting all trips:",t),t}},vB=async(t,e)=>{try{const n=ta(Bt,"trips",t);await n_(n,e)}catch(n){throw console.error("Error updating trip:",n),n}},_B=async t=>{try{await r_(ta(Bt,"trips",t))}catch(e){throw console.error("Error deleting trip:",e),e}},YR=async t=>{try{return(await im(gi(Bt,"registrations"),{...t,timestamp:_e.now()})).id}catch(e){throw console.error("Error creating registration:",e),e}},bB=async t=>{try{const e=Jv(gi(Bt,"registrations"),LC("tripId","==",t));return(await BC(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting registrations:",e),e}},nf=async(t,e)=>{try{const n=ta(Bt,"registrations",t);await n_(n,e)}catch(n){throw console.error("Error updating registration:",n),n}},WR=async t=>{try{await r_(ta(Bt,"registrations",t))}catch(e){throw console.error("Error deleting registration:",e),e}},xB=({selectedDate:t,onClose:e,onCreate:n})=>{const[r,a]=R.useState({title:"",vehicleLayout:"sprinter_15",driverName:"",whatsappGroupLink:"",status:"planned",date:t,customSeats:[]}),[i,s]=R.useState(!1),[o,u]=R.useState(!1),h=Array.from({length:50},(y,_)=>_+1),d=async y=>{y.preventDefault(),s(!0);try{const _={...r,date:_e.fromDate(r.date)};r.vehicleLayout==="custom"&&r.customSeats.length>0&&(_.vehicleLayout=`custom_${r.customSeats.length}`,_.customSeats=r.customSeats),await n(_)}catch(_){console.error("Error creating trip:",_)}finally{s(!1)}},m=y=>{const _=new Date(y.target.value);a({...r,date:_})},p=y=>{const _=y.getFullYear(),w=String(y.getMonth()+1).padStart(2,"0"),D=String(y.getDate()).padStart(2,"0");return`${_}-${w}-${D}`},v=y=>{const _=y.target.value;a({...r,vehicleLayout:_}),u(_==="custom")},x=y=>{const _=[...r.customSeats],w=_.indexOf(y);w>-1?_.splice(w,1):(_.push(y),_.sort((D,V)=>D-V)),a({...r,customSeats:_})},N=()=>{a({...r,customSeats:[...h]})},A=()=>{a({...r,customSeats:[]})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full border-4 border-teal-400 max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),style:{borderColor:L.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Create New Trip"}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Qo,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),l.jsx("input",{type:"text",value:r.title,onChange:y=>a({...r,title:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{type:"date",value:p(r.date),onChange:m,className:"w-full px-4 py-2 border-2 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent hover:border-[#00BCD4] transition-colors cursor-pointer",style:{borderColor:L.primary.teal},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{type:"text",value:r.driverName,onChange:y=>a({...r,driverName:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),l.jsxs("select",{value:r.vehicleLayout,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),l.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),l.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"}),l.jsx("option",{value:"custom",children:"Custom Seat Selection"})]})]}),o&&l.jsxs("div",{className:"border-2 rounded-lg p-4",style:{borderColor:L.primary.teal},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Select Seats (",r.customSeats.length," selected)"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{type:"button",onClick:N,className:"text-xs px-3 py-1 rounded-lg text-white hover:opacity-90 transition-opacity",style:{backgroundColor:L.primary.teal},children:"Select All"}),l.jsx("button",{type:"button",onClick:A,className:"text-xs px-3 py-1 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition-colors",children:"Clear All"})]})]}),l.jsx("div",{className:"grid grid-cols-10 gap-2 max-h-64 overflow-y-auto p-2 bg-gray-50 rounded",children:h.map(y=>{const _=r.customSeats.includes(y);return l.jsxs("button",{type:"button",onClick:()=>x(y),className:`relative h-10 rounded-lg text-sm font-medium transition-all ${_?"text-white shadow-md":"bg-white border-2 border-gray-300 text-gray-700 hover:border-teal-300"}`,style:_?{backgroundColor:L.primary.teal}:{},children:[y,_&&l.jsx(Af,{className:"w-3 h-3 absolute top-0.5 right-0.5"})]},y)})}),r.customSeats.length===0&&l.jsx("p",{className:"text-xs text-red-600 mt-2",children:"Please select at least one seat"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),l.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:y=>a({...r,whatsappGroupLink:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),l.jsxs("select",{value:r.status,onChange:y=>a({...r,status:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"planned",children:"Planned (Yellow)"}),l.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),l.jsx("option",{value:"done",children:"Done (Green)"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:i||o&&r.customSeats.length===0,style:{backgroundColor:L.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating...":"Create Trip"})]})]})]})})},wB=({trip:t,onClose:e,onUpdate:n})=>{const r=()=>{var h;return(h=t.date)!=null&&h.toDate?t.date.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0]},[a,i]=R.useState({title:t.title||"",date:r(),vehicleLayout:t.vehicleLayout||"sprinter_15",driverName:t.driverName||"",whatsappGroupLink:t.whatsappGroupLink||"",status:t.status||"planned"}),[s,o]=R.useState(!1),u=async h=>{h.preventDefault(),o(!0);try{const d={...a,date:_e.fromDate(new Date(a.date))};await n(t.id,d)}catch(d){console.error("Error updating trip:",d)}finally{o(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:h=>h.stopPropagation(),style:{borderColor:L.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Edit Trip"}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Qo,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),l.jsx("input",{type:"text",value:a.title,onChange:h=>i({...a,title:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{type:"date",value:a.date,onChange:h=>i({...a,date:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),l.jsx("input",{type:"text",value:a.driverName,onChange:h=>i({...a,driverName:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),l.jsxs("select",{value:a.vehicleLayout,onChange:h=>i({...a,vehicleLayout:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),l.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),l.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),l.jsx("input",{type:"url",value:a.whatsappGroupLink,onChange:h=>i({...a,whatsappGroupLink:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),l.jsxs("select",{value:a.status,onChange:h=>i({...a,status:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[l.jsx("option",{value:"planned",children:"Planned (Yellow)"}),l.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),l.jsx("option",{value:"done",children:"Done (Green)"})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:L.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Updating...":"Update Trip"})]})]})]})})},SE={sprinter_15:{name:"Mercedes Sprinter Black (13 Seats)",totalSeats:14,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:60,y:320},{id:9,row:4,position:"center",x:165,y:320},{id:10,row:4,position:"right",x:270,y:320},{id:11,row:5,position:"left",x:40,y:410},{id:12,row:5,position:"center-left",x:130,y:410},{id:13,row:5,position:"center-right",x:220,y:410},{id:14,row:5,position:"right",x:310,y:410}]},bus_30:{name:"Mercedes Sprinter White (10 Seats)",totalSeats:11,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:40,y:320},{id:9,row:4,position:"center-left",x:130,y:320},{id:10,row:4,position:"center-right",x:220,y:320},{id:11,row:4,position:"right",x:310,y:320}]},highlander_7:{name:"Toyota Highlander (7 Seats)",totalSeats:7,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:180},{id:3,row:2,position:"center",x:165,y:180},{id:4,row:2,position:"right",x:270,y:180},{id:5,row:3,position:"left",x:60,y:310},{id:6,row:3,position:"center",x:165,y:310},{id:7,row:3,position:"right",x:270,y:310}]}},KR=t=>SE[t]||SE.sprinter_15,QR=({vehicleType:t,registrations:e,onSeatClick:n,selectedSeat:r,driverName:a,reservedSeats:i=[]})=>{const s=KR(t),o=h=>e==null?void 0:e.find(d=>d.seatNumber===h),u=h=>o(h)||i.includes(h)?L.seat.occupied:r===h?L.seat.selected:L.seat.vacant;return l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:L.primary.teal},children:s.name}),a&&l.jsxs("div",{className:"text-center mb-4 pb-4 border-b",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Driver: "}),l.jsx("span",{className:"font-semibold",style:{color:L.primary.teal},children:a})]}),l.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full max-w-md mx-auto border-2 rounded-lg",style:{borderColor:L.primary.teal},children:[l.jsx("rect",{x:"10",y:"10",width:"380",height:"480",rx:"20",fill:"none",stroke:L.primary.black,strokeWidth:"3"}),l.jsx("line",{x1:"10",y1:"100",x2:"390",y2:"100",stroke:L.primary.black,strokeWidth:"2",strokeDasharray:"5,5"}),l.jsxs("g",{children:[l.jsx("rect",{x:"30",y:"40",width:"50",height:"50",rx:"5",fill:L.primary.black,stroke:L.primary.teal,strokeWidth:"2"}),l.jsx("text",{x:"55",y:"70",textAnchor:"middle",fontSize:"14",fill:"white",fontWeight:"bold",children:"D"}),a&&l.jsx("text",{x:"55",y:"115",textAnchor:"middle",fontSize:"10",fill:L.primary.teal,fontWeight:"600",children:a.split(" ")[0]})]}),s.seats.map(h=>{const d=o(h.id),m=n;return l.jsxs("g",{onClick:()=>m&&n(h.id,d),className:m?"cursor-pointer hover:opacity-80":"",children:[l.jsx("rect",{x:h.x-25,y:h.y-15,width:"50",height:"35",rx:"5",fill:u(h.id),stroke:"#4b5563",strokeWidth:"2"}),l.jsx("text",{x:h.x,y:h.y+5,textAnchor:"middle",fontSize:"14",fill:d||r===h.id?"white":"#1f2937",fontWeight:"bold",children:h.id})]},h.id)})]}),l.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:L.seat.vacant,border:`2px solid ${L.primary.black}`}}),l.jsx("span",{children:"Vacant"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:L.seat.occupied,border:`2px solid ${L.primary.black}`}}),l.jsx("span",{children:"Occupied"})]}),n&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:L.seat.selected,border:`2px solid ${L.primary.black}`}}),l.jsx("span",{children:"Selected"})]})]})]})},EB=({trip:t,registrations:e,preselectedSeat:n=null,onClose:r,onSuccess:a})=>{const[i,s]=R.useState({firstName:"",lastName:"",email:"",phone:"",seatNumber:n,seatCount:1,paymentMethod:"on-trip",paid:!1}),[o,u]=R.useState(!1),[h,d]=R.useState(""),m=KR(t.vehicleLayout),p=e.map(N=>N.seatNumber),v=Array.from({length:m.totalSeats},(N,A)=>A+1).filter(N=>!p.includes(N)),x=async N=>{if(N.preventDefault(),d(""),!i.seatNumber){d("Please select a seat");return}if(i.seatCount>1){const A=i.seatNumber,y=[];for(let w=0;w<i.seatCount;w++)y.push(A+w);if(y.filter(w=>p.includes(w)||w>m.totalSeats).length>0){d(`Not enough consecutive seats available starting from seat ${A}. Please select a different seat.`);return}}u(!0);try{const A=i.seatNumber,y=[];for(let _=0;_<i.seatCount;_++){const w=A+_;y.push(YR({tripId:t.id,firstName:i.firstName,lastName:i.lastName,email:i.email,phone:i.phone,seatNumber:w,paymentMethod:i.paymentMethod,paid:i.paid,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,addedByAdmin:!0,isMultiSeat:i.seatCount>1,seatCount:i.seatCount}))}await Promise.all(y),a(),r()}catch(A){console.error("Error adding participant:",A),d("Failed to add participant. Please try again.")}finally{u(!1)}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:r,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4 border-teal-400",onClick:N=>N.stopPropagation(),style:{borderColor:L.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(bN,{className:"w-6 h-6"}),l.jsx("h2",{className:"text-xl font-bold",children:"Add Participant"})]}),l.jsx("button",{onClick:r,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Qo,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:i.firstName,onChange:N=>s({...i,firstName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{focusRing:L.primary.teal},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:i.lastName,onChange:N=>s({...i,lastName:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:i.email,onChange:N=>s({...i,email:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",value:i.phone,onChange:N=>s({...i,phone:N.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Seats *"}),l.jsx("select",{value:i.seatCount,onChange:N=>s({...i,seatCount:parseInt(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[1,2,3,4,5,6,7,8,9,10].map(N=>l.jsxs("option",{value:N,children:[N," ",N===1?"Seat":"Seats"]},N))}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select how many seats this person needs (consecutive seats starting from the selected seat)"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Starting Seat Number *"}),l.jsxs("select",{value:i.seatNumber||"",onChange:N=>s({...i,seatNumber:parseInt(N.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[l.jsx("option",{value:"",children:"Select starting seat"}),v.map(N=>l.jsxs("option",{value:N,children:["Seat ",N]},N))]}),v.length===0&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available seats"}),i.seatNumber&&i.seatCount>1&&l.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Will book seats ",i.seatNumber," - ",i.seatNumber+i.seatCount-1]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="card"?L.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"card",checked:i.paymentMethod==="card",onChange:N=>s({...i,paymentMethod:N.target.value}),className:"mr-3",style:{accentColor:L.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="on-trip"?L.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"on-trip",checked:i.paymentMethod==="on-trip",onChange:N=>s({...i,paymentMethod:N.target.value}),className:"mr-3",style:{accentColor:L.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),l.jsx("div",{children:l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:i.paid?L.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"checkbox",checked:i.paid,onChange:N=>s({...i,paid:N.target.checked}),className:"w-5 h-5 rounded border-gray-300",style:{accentColor:L.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Mark as Paid"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Check if participant has already paid"})]})]})}),h&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:h}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:o||v.length===0,style:{backgroundColor:L.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Adding...":"Add Participant"})]})]})]})})},Nu={en:{dashboard:"Trip Management Dashboard",dashboardShort:"Dashboard",IVRITours:"IVRI Tours",tripManagement:"Trip Management System",adminPortal:"Admin Portal",logout:"Logout",backToDashboard:"Back to dashboard",tripsFor:"Trips for",allTrips:"All Trips",all:"All",currentTrips:"Current Trips",current:"Current",oldTrips:"Old Trips",old:"Old",createTrip:"Create Trip",loadingTrips:"Loading trips...",noUpcomingTrips:"No upcoming trips scheduled.",noPastTrips:"No past trips found.",noTripsForDate:"No trips scheduled for this date.",createFirstTrip:"Create your first trip",whatsapp:"WhatsApp",share:"Share",copied:"Copied!",view:"View",edit:"Edit",delete:"Delete",deleting:"Deleting...",joinWhatsappGroup:"Join WhatsApp Group",linkCopied:"Link copied!",shareTripLink:"Share trip link",viewTripDetails:"View trip details",editTrip:"Edit trip",deleteTrip:"Delete trip",createNewTrip:"Create new trip",showAllTrips:"Show all trips",showCurrentTrips:"Show current trips",showOldTrips:"Show old trips",mercedesSprinterBlack:"Mercedes Sprinter Black (14 Seats)",mercedesSprinterWhite:"Mercedes Sprinter White (11 Seats)",toyotaHighlander:"Toyota Highlander (7 Seats)",driver:"Driver",calendar:"Calendar",createNewTripTitle:"Create New Trip",editTripTitle:"Edit Trip",addParticipant:"Add Participant",participantDetails:"Participant Details",tripTitle:"Trip Title",date:"Date",driverName:"Driver Name",vehicleType:"Vehicle Type",whatsappGroupLink:"WhatsApp Group Link (Optional)",whatsappGroupLinkHelp:"Add a WhatsApp group link for trip participants to join",firstName:"First Name",lastName:"Last Name",email:"Email",phoneNumber:"Phone Number",seatNumber:"Seat Number",selectSeat:"Select a seat",paymentMethod:"Payment Method",payWithCard:"Pay with Card",payWithCardDesc:"Pay now using credit/debit card",payOnTrip:"Pay on Trip",payOnTripDesc:"Pay cash/card on the day of the trip",markAsPaid:"Mark as Paid",markAsPaidDesc:"Check if participant has already paid",cancel:"Cancel",close:"Close",updateTrip:"Update Trip",updating:"Updating...",creating:"Creating...",addParticipantBtn:"Add Participant",adding:"Adding...",completeRegistration:"Complete Registration",submitting:"Submitting...",clearSignature:"Clear Signature",participants:"Participants",add:"Add",noRegistrations:"No registrations yet",name:"Name",phone:"Phone",seat:"Seat Number",paymentStatus:"Payment Status",paid:"Paid",notPaid:"Not Paid",registrationStatus:"Registration Status",complete:"Complete",registered:"Registered",signedAgreements:"Signed Agreements",cancellationPolicy:"Cancellation Policy",liabilityWaiver:"Liability Waiver",markAsNotPaid:"Mark as Not Paid",markAsPaidBtn:"Mark as Paid",selectYourSeat:"Select Your Seat",selectedSeat:"Selected Seat",vacant:"Vacant",occupied:"Occupied",selected:"Selected",noAvailableSeats:"No available seats",personalInformation:"Personal Information",digitalSignature:"Digital Signature",registrationSuccessful:"Registration Successful!",thankYouMessage:"Thank you for registering for",confirmationEmailMessage:"You will receive a confirmation email shortly with your signed waiver.",yourSeat:"Your Seat",loadingTripInfo:"Loading trip information...",tripNotFound:"Trip Not Found",tripNotFoundMessage:"This trip link may be invalid or expired.",tripId:"Trip ID",contactOrganizer:"If you believe this is an error, please contact the trip organizer.",cancellationPolicyTitle:"Cancellation Policy",waiverTitle:"Waiver of Liability",agreeToCancellationPolicy:"I have read and agree to the cancellation policy",agreeToWaiver:"I have read, understand, and agree to the waiver of liability",deleteConfirm:"Are you sure you want to delete this trip? This action cannot be undone.",failedToDelete:"Failed to delete trip. Please try again.",failedToUpdate:"Failed to update trip. Please try again.",failedToAdd:"Failed to add participant. Please try again.",failedToUpdatePayment:"Failed to update payment status",failedToSubmit:"Failed to submit registration. Please try again.",pleasSelectSeat:"Please select a seat",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",phoneRequired:"Phone number is required",seatRequired:"Please select a seat",cancellationPolicyRequired:"You must agree to the cancellation policy",waiverRequired:"You must sign the waiver",signatureRequired:"Signature is required",tripTitlePlaceholder:"e.g., Beach Trip, Museum Visit",driverNamePlaceholder:"e.g., John Smith",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"Copy for WhatsApp",sendToGroup:"Send to Group",copyAllParticipantDetails:"Copy all participant details for WhatsApp",sendToWhatsAppGroup:"Send to WhatsApp group",viewWeather:"View Weather",weather:"Weather",loadingWeather:"Loading weather...",tryAgain:"Try again",popularLocations:"Popular locations:",enterCityName:"Enter city name...",goButton:"Go",wind:"Wind",humidity:"Humidity",forecastDays:"5-Day Forecast",changeLocation:"Change location",loadingTrip:"Loading trip...",tripNotFoundTitle:"Trip not found",returnToDashboard:"Return to Dashboard",noRegistrationsYet:"No registrations yet",participantDetailsTitle:"Participant Details",cardPayment:"Card Payment",payOnTripMethod:"Pay on Trip",paymentMethodLabel:"Payment Method",seatNumberLabel:"Seat Number",status:"Status",planned:"Planned",scheduled:"Scheduled",done:"Done"},ru:{dashboard:"  ",dashboardShort:"",IVRITours:"IVRI Tours",tripManagement:"  ",adminPortal:" ",logout:"",backToDashboard:"  ",tripsFor:" ",allTrips:" ",all:"",currentTrips:" ",current:"",oldTrips:" ",old:"",createTrip:" ",loadingTrips:" ...",noUpcomingTrips:"  .",noPastTrips:"   .",noTripsForDate:"    .",createFirstTrip:"   ",whatsapp:"WhatsApp",share:"",copied:"!",view:"",edit:"",delete:"",deleting:"...",joinWhatsappGroup:"   WhatsApp",linkCopied:" !",shareTripLink:"   ",viewTripDetails:"  ",editTrip:" ",deleteTrip:" ",createNewTrip:"  ",showAllTrips:"  ",showCurrentTrips:"  ",showOldTrips:"  ",mercedesSprinterBlack:"Mercedes Sprinter  (14 )",mercedesSprinterWhite:"Mercedes Sprinter  (11 )",toyotaHighlander:"Toyota Highlander (7 )",driver:"",calendar:"",createNewTripTitle:"  ",editTripTitle:" ",addParticipant:" ",participantDetails:" ",tripTitle:" ",date:"",driverName:" ",vehicleType:" ",whatsappGroupLink:"   WhatsApp ()",whatsappGroupLinkHelp:"    WhatsApp   ",firstName:"",lastName:"",email:" ",phoneNumber:" ",seatNumber:" ",selectSeat:" ",paymentMethod:" ",payWithCard:" ",payWithCardDesc:"  / ",payOnTrip:"  ",payOnTripDesc:" /   ",markAsPaid:"  ",markAsPaidDesc:",    ",cancel:"",close:"",updateTrip:" ",updating:"...",creating:"...",addParticipantBtn:" ",adding:"...",completeRegistration:" ",submitting:"...",clearSignature:" ",participants:"",add:"",noRegistrations:"  ",name:"",phone:"",seat:" ",paymentStatus:" ",paid:"",notPaid:" ",registrationStatus:" ",complete:"",registered:"",signedAgreements:" ",cancellationPolicy:" ",liabilityWaiver:"  ",markAsNotPaid:"   ",markAsPaidBtn:"  ",selectYourSeat:"  ",selectedSeat:" ",vacant:"",occupied:"",selected:"",noAvailableSeats:"  ",personalInformation:" ",digitalSignature:" ",registrationSuccessful:" !",thankYouMessage:"   ",confirmationEmailMessage:"         .",yourSeat:" ",loadingTripInfo:"   ...",tripNotFound:"  ",tripNotFoundMessage:"        .",tripId:"ID ",contactOrganizer:"  ,   , ,    .",cancellationPolicyTitle:" ",waiverTitle:"  ",agreeToCancellationPolicy:" ()  ()   ",agreeToWaiver:" (),   ()    ",deleteConfirm:" ,     ?    .",failedToDelete:"   . ,  .",failedToUpdate:"   . ,  .",failedToAdd:"   . ,  .",failedToUpdatePayment:"    ",failedToSubmit:"   . ,  .",pleasSelectSeat:",  ",firstNameRequired:" ",lastNameRequired:" ",emailRequired:"  ",emailInvalid:"   ",phoneRequired:"  ",seatRequired:",  ",cancellationPolicyRequired:"     ",waiverRequired:"     ",signatureRequired:" ",tripTitlePlaceholder:",   ,  ",driverNamePlaceholder:",  ",whatsappPlaceholder:"https://chat.whatsapp.com/...",copyForWhatsApp:"  WhatsApp",sendToGroup:"  ",copyAllParticipantDetails:"     WhatsApp",sendToWhatsAppGroup:"   WhatsApp",viewWeather:" ",weather:"",loadingWeather:" ...",tryAgain:" ",popularLocations:" :",enterCityName:"  ...",goButton:"",wind:"",humidity:"",forecastDays:"5- ",changeLocation:" ",loadingTrip:" ...",tripNotFoundTitle:"  ",returnToDashboard:"  ",noRegistrationsYet:"  ",participantDetailsTitle:" ",cardPayment:" ",payOnTripMethod:"  ",paymentMethodLabel:" ",seatNumberLabel:" ",status:"",planned:"",scheduled:"",done:""}},TB=({participant:t,onClose:e,onUpdate:n})=>{const{language:r}=ci(),a=Nu[r],[i,s]=R.useState(!1),[o,u]=R.useState({firstName:t.firstName,lastName:t.lastName,email:t.email,phone:t.phone}),[h,d]=R.useState(!1),[m,p]=R.useState(!1),v=async()=>{d(!0);try{await nf(t.id,o),s(!1),n()}catch(A){console.error("Error updating participant:",A),alert("Failed to update participant. Please try again.")}finally{d(!1)}},x=async()=>{d(!0);try{await nf(t.id,{paid:!t.paid}),n()}catch(A){console.error("Error updating payment status:",A),alert(a.failedToUpdatePayment)}finally{d(!1)}},N=async()=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){p(!0);try{await WR(t.id),e(),n()}catch(A){console.error("Error deleting participant:",A),alert("Failed to delete participant. Please try again.")}finally{p(!1)}}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center p-4 z-[60]",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4",onClick:A=>A.stopPropagation(),style:{borderColor:L.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",children:"Participant Details"}),l.jsxs("p",{className:"text-sm text-teal-100",children:["Seat ",t.seatNumber]})]}),l.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:l.jsx(Qo,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6 space-y-4",children:i?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),l.jsx("input",{type:"text",value:o.firstName,onChange:A=>u({...o,firstName:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),l.jsx("input",{type:"text",value:o.lastName,onChange:A=>u({...o,lastName:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:o.email,onChange:A=>u({...o,email:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{type:"tel",value:o.phone,onChange:A=>u({...o,phone:A.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:v,disabled:h,style:{backgroundColor:L.success},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:h?"Saving...":"Save"}),l.jsx("button",{onClick:()=>s(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Name"}),l.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[t.firstName," ",t.lastName]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-900",children:t.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.phone}),l.jsx("p",{className:"text-sm text-gray-900",children:t.phone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Seat Number"}),l.jsxs("p",{className:"text-sm text-gray-900",children:["Seat ",t.seatNumber]})]}),t.isMultiSeat&&t.seatCount&&l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Multi-Seat Booking:"})," This person has booked ",t.seatCount," seats"]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.paymentMethod}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.paymentMethod==="card"?l.jsxs(l.Fragment,{children:[l.jsx(nv,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:a.payWithCard})]}):l.jsxs(l.Fragment,{children:[l.jsx(fN,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:a.payOnTrip})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.paymentStatus}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:t.paid?l.jsxs(l.Fragment,{children:[l.jsx(Lr,{className:"w-5 h-5 text-green-500"}),l.jsx("span",{className:"text-sm font-semibold text-green-700",children:a.paid})]}):l.jsxs(l.Fragment,{children:[l.jsx(Qg,{className:"w-5 h-5 text-red-500"}),l.jsx("span",{className:"text-sm font-semibold text-red-700",children:a.notPaid})]})})]}),t.registrationDate&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.registered}),l.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.registrationDate).toLocaleDateString()})]}),(t.agreedToCancellationPolicy||t.agreedToWaiver)&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:a.signedAgreements}),l.jsxs("div",{className:"space-y-1 mt-1",children:[t.agreedToCancellationPolicy&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:a.cancellationPolicy})]}),t.agreedToWaiver&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:a.liabilityWaiver})]})]})]}),l.jsxs("div",{className:"space-y-2 pt-2",children:[l.jsx("button",{onClick:x,disabled:h,style:{backgroundColor:t.paid?L.button.danger:L.success},className:"w-full px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:h?"Updating...":t.paid?a.markAsNotPaid:a.markAsPaidBtn}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>s(!0),style:{backgroundColor:L.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium",children:[l.jsx(vN,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:N,disabled:m,style:{backgroundColor:L.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50",children:[l.jsx(Rf,{className:"w-4 h-4"}),l.jsx("span",{children:m?"Deleting...":"Delete"})]})]})]})]})})]})})},SB=({tripId:t,onClose:e})=>{var be;const{language:n}=ci(),r=Nu[n],[a,i]=R.useState(null),[s,o]=R.useState([]),[u,h]=R.useState(!0),[d,m]=R.useState(!1),[p,v]=R.useState(null),[x,N]=R.useState(null),[A,y]=R.useState(null),[_,w]=R.useState({}),[D,V]=R.useState(null),[q,S]=R.useState(!1),[T,b]=R.useState(null);R.useEffect(()=>{C();const H=O();return()=>H&&H()},[t]);const C=async()=>{try{const H=await GR(t);i(H)}catch(H){console.error("Error loading trip:",H)}finally{h(!1)}},O=()=>{const H=Jv(gi(Bt,"registrations"),LC("tripId","==",t));return zC(H,Ae=>{const Te=Ae.docs.map(zt=>({id:zt.id,...zt.data()}));o(Te)})},j=()=>{var Ae;if(!a||s.length===0)return"";let H=` *${a.title}*
`;return H+=` Date: ${(Ae=a.date)==null?void 0:Ae.toDate().toLocaleDateString()}
`,a.driverName&&(H+=` Driver: ${a.driverName}
`),H+=`
 *Participants (${s.length})*
`,H+=`${"=".repeat(40)}

`,[...s].sort((Te,zt)=>Te.seatNumber-zt.seatNumber).forEach((Te,zt)=>{H+=`${zt+1}. *${Te.firstName} ${Te.lastName}*
`,H+=`    Seat: ${Te.seatNumber}
`,H+=`    ${Te.email}
`,H+=`    ${Te.phone}
`,H+=`    ${Te.paid?" Paid":" Not Paid"}
`,H+=`
`}),H+=`${"=".repeat(40)}
`,H+=` Total Participants: ${s.length}
`,H+=` Paid: ${s.filter(Te=>Te.paid).length}
`,H+=` Pending: ${s.filter(Te=>!Te.paid).length}
`,H},I=()=>{const H=j();H&&navigator.clipboard.writeText(H).then(()=>{S(!0),setTimeout(()=>S(!1),2e3)}).catch(ne=>{console.error("Failed to copy:",ne),alert("Failed to copy to clipboard")})},G=()=>{const H=j();if(H)if(a.whatsappGroupLink){const ne=encodeURIComponent(H);window.open(`${a.whatsappGroupLink}?text=${ne}`,"_blank")}else{const ne=encodeURIComponent(H);window.open(`https://wa.me/?text=${ne}`,"_blank")}},re=async(H,ne)=>{try{await nf(H,{paid:!ne})}catch(Ae){console.error("Error updating payment status:",Ae),alert(r.failedToUpdatePayment)}},k=async H=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){V(H);try{await WR(H),N(null)}catch(ne){console.error("Error deleting participant:",ne),alert("Failed to delete participant. Please try again.")}finally{V(null)}}},U=H=>{y(H.id),w({firstName:H.firstName,lastName:H.lastName,email:H.email,phone:H.phone})},$=async H=>{try{await nf(H,_),y(null),w({})}catch(ne){console.error("Error updating participant:",ne),alert("Failed to update participant. Please try again.")}},Y=()=>{y(null),w({})};if(u)return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsx("div",{className:"bg-white rounded-lg p-8",children:l.jsx("div",{className:"text-lg",children:r.loadingTripInfo})})});if(!a)return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:l.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[l.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.tripNotFound}),l.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:r.close})]})});const X=[...s].sort((H,ne)=>H.seatNumber-ne.seatNumber);return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",onClick:e,children:[l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden border-4 border-teal-400",onClick:H=>H.stopPropagation(),style:{borderColor:L.primary.teal},children:[l.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 sm:px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h2",{className:"text-xl sm:text-2xl font-bold truncate",children:a.title}),l.jsx("p",{className:"text-sm text-teal-100",children:(be=a.date)==null?void 0:be.toDate().toLocaleDateString()})]}),l.jsx("button",{onClick:e,className:"flex-shrink-0 ml-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:r.close,children:l.jsx(Qo,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)] p-4 sm:p-6",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[l.jsx("div",{className:"lg:col-span-2",children:l.jsx(QR,{vehicleType:a.vehicleLayout,registrations:s,driverName:a.driverName,onSeatClick:(H,ne)=>{ne?b(ne):(v(H),m(!0))}})}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-lg p-4 sm:p-6 border-2 border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(xN,{className:"w-5 h-5",style:{color:L.primary.teal}}),l.jsxs("h3",{className:"text-lg sm:text-xl font-bold",style:{color:L.primary.black},children:[r.participants," (",s.length,")"]})]}),l.jsxs("button",{onClick:()=>m(!0),style:{backgroundColor:L.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:r.addParticipant,children:[l.jsx(bN,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.add})]})]}),s.length>0&&l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("button",{onClick:I,style:{backgroundColor:q?L.success:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.copyAllParticipantDetails,children:q?l.jsxs(l.Fragment,{children:[l.jsx(Af,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.copied})]}):l.jsxs(l.Fragment,{children:[l.jsx(tv,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.copyForWhatsApp})]})}),l.jsxs("button",{onClick:G,style:{backgroundColor:"#25D366"},className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 text-white rounded-lg hover:opacity-90 transition-all font-medium",title:r.sendToWhatsAppGroup,children:[l.jsx(gN,{className:"w-5 h-5"}),l.jsx("span",{className:"hidden sm:inline",children:r.sendToGroup})]})]}),s.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:r.noRegistrations}):l.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:X.map(H=>l.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[l.jsxs("div",{onClick:()=>N(x===H.id?null:H.id),className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[l.jsx("div",{className:"flex-shrink-0 w-8 h-8 text-white rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:L.seat.occupied},children:H.seatNumber}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("p",{className:"font-semibold text-gray-900 truncate",children:[H.firstName," ",H.lastName]}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:H.email})]}),l.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[H.paid?l.jsx(Lr,{className:"w-5 h-5 text-green-500",title:r.paid}):l.jsx(Qg,{className:"w-5 h-5 text-red-500",title:r.notPaid}),x===H.id?l.jsx(L4,{className:"w-5 h-5 text-gray-400"}):l.jsx(M4,{className:"w-5 h-5 text-gray-400"})]})]}),x===H.id&&l.jsx("div",{className:"px-3 pb-3 border-t border-gray-200",children:A===H.id?l.jsxs("div",{className:"space-y-3 pt-3",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"First Name"}),l.jsx("input",{type:"text",value:_.firstName,onChange:ne=>w({..._,firstName:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Last Name"}),l.jsx("input",{type:"text",value:_.lastName,onChange:ne=>w({..._,lastName:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Email"}),l.jsx("input",{type:"email",value:_.email,onChange:ne=>w({..._,email:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),l.jsx("input",{type:"tel",value:_.phone,onChange:ne=>w({..._,phone:ne.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),l.jsxs("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{onClick:()=>$(H.id),style:{backgroundColor:L.success},className:"flex-1 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Save"}),l.jsx("button",{onClick:Y,className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):l.jsxs("div",{className:"space-y-3 pt-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.phone}),l.jsx("p",{className:"text-sm text-gray-900",children:H.phone})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentMethod}),l.jsx("div",{className:"flex items-center gap-2 mt-1",children:H.paymentMethod==="card"?l.jsxs(l.Fragment,{children:[l.jsx(nv,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:r.payWithCard})]}):l.jsxs(l.Fragment,{children:[l.jsx(fN,{className:"w-4 h-4 text-green-600"}),l.jsx("span",{className:"text-sm text-gray-900",children:r.payOnTrip})]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentStatus}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[H.paid?l.jsx(Lr,{className:"w-4 h-4 text-green-500"}):l.jsx(Qg,{className:"w-4 h-4 text-red-500"}),l.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:H.paid?r.paid:r.notPaid})]})]}),H.registrationDate&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.registered}),l.jsx("p",{className:"text-sm text-gray-900",children:new Date(H.registrationDate).toLocaleDateString()})]}),(H.agreedToCancellationPolicy||H.agreedToWaiver)&&l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.signedAgreements}),l.jsxs("div",{className:"space-y-1 mt-1",children:[H.agreedToCancellationPolicy&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:r.cancellationPolicy})]}),H.agreedToWaiver&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Lr,{className:"w-3 h-3 text-green-500"}),l.jsx("span",{className:"text-xs text-gray-700",children:r.liabilityWaiver})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:ne=>{ne.stopPropagation(),re(H.id,H.paid)},style:{backgroundColor:H.paid?L.button.danger:L.success},className:"w-full px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:H.paid?r.markAsNotPaid:r.markAsPaidBtn}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:ne=>{ne.stopPropagation(),U(H)},style:{backgroundColor:L.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:[l.jsx(vN,{className:"w-4 h-4"}),l.jsx("span",{children:"Edit"})]}),l.jsxs("button",{onClick:ne=>{ne.stopPropagation(),k(H.id)},disabled:D===H.id,style:{backgroundColor:L.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Rf,{className:"w-4 h-4"}),l.jsx("span",{children:D===H.id?"Deleting...":"Delete"})]})]})]})]})})]},H.id))})]})})]})})]}),d&&l.jsx(EB,{trip:a,registrations:s,preselectedSeat:p,onClose:()=>{m(!1),v(null)},onSuccess:()=>{m(!1),v(null)}}),T&&l.jsx(TB,{participant:T,onClose:()=>b(null),onUpdate:()=>{b(null)}})]})},NE=({className:t="",size:e="md"})=>{const n={xs:{width:"50px",fontSize:"10px",subSize:"7px"},sm:{width:"80px",fontSize:"14px",subSize:"10px"},md:{width:"120px",fontSize:"20px",subSize:"12px"},lg:{width:"160px",fontSize:"28px",subSize:"16px"}},r=n[e]||n.md;return l.jsx("div",{className:`flex items-center gap-3 ${t}`,children:l.jsx("div",{style:{backgroundColor:L.primary.teal,width:r.width,aspectRatio:"1",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 188, 212, 0.3)"},children:l.jsxs("div",{style:{textAlign:"center",color:L.primary.white},children:[l.jsx("div",{style:{fontSize:r.fontSize,fontWeight:"bold",letterSpacing:"2px",lineHeight:"1"},children:"IVRI"}),l.jsx("div",{style:{fontSize:r.subSize,letterSpacing:"1px",marginTop:"4px",opacity:.9},children:"TOURS"})]})})})},NB=()=>{const{language:t,setLanguage:e}=ci(),n=[{code:"en",flag:"",name:"English (CA)"},{code:"ru",flag:"",name:""}];return l.jsx("div",{className:"relative",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"sm:hidden px-2 py-1.5 border border-gray-300 rounded-lg text-lg focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:L.primary.teal},children:n.map(r=>l.jsx("option",{value:r.code,children:r.flag},r.code))}),l.jsx("select",{value:t,onChange:r=>e(r.target.value),className:"hidden sm:block px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:L.primary.teal},children:n.map(r=>l.jsxs("option",{value:r.code,children:[r.flag," ",r.name]},r.code))})]})})},AB=({compact:t=!1})=>{const{language:e}=ci(),n=Nu[e],[r,a]=R.useState("New York"),[i,s]=R.useState(""),[o,u]=R.useState(null),[h,d]=R.useState([]),[m,p]=R.useState(!1),[v,x]=R.useState(null),[N,A]=R.useState(!1),[y,_]=R.useState(!1),w=["Toronto","Ottawa","Barrie","Montreal","mont-tremblant","Chicago","New York","Miami","Boston"];R.useEffect(()=>{D(r)},[r]);const D=async b=>{p(!0),x(null);try{const O=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(b)}&count=1&language=en&format=json`)).json();if(!O.results||O.results.length===0){x("Location not found"),p(!1);return}const{latitude:j,longitude:I,name:G,country:re}=O.results[0],U=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${j}&longitude=${I}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&temperature_unit=celsius&wind_speed_unit=mph&timezone=auto&forecast_days=5`)).json();u({city:G,country:re,temperature:Math.round(U.current.temperature_2m),humidity:U.current.relative_humidity_2m,windSpeed:Math.round(U.current.wind_speed_10m),weatherCode:U.current.weather_code});const $=U.daily.time.map((Y,X)=>({date:new Date(Y).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),maxTemp:Math.round(U.daily.temperature_2m_max[X]),minTemp:Math.round(U.daily.temperature_2m_min[X]),weatherCode:U.daily.weather_code[X]}));d($)}catch(C){console.error("Error fetching weather:",C),x("Failed to load weather data")}finally{p(!1)}},V=b=>{a(b),A(!1),s("")},q=b=>{b.preventDefault(),i.trim()&&V(i.trim())},S=b=>b===0||b===1?l.jsx(EM,{className:"w-8 h-8",style:{color:"#FCD34D"}}):b===2||b===3?l.jsx(Fl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}):b>=51&&b<=67?l.jsx(uh,{className:"w-8 h-8",style:{color:"#60A5FA"}}):b>=71&&b<=77?l.jsx(H4,{className:"w-8 h-8",style:{color:"#93C5FD"}}):b>=80?l.jsx(uh,{className:"w-8 h-8",style:{color:"#3B82F6"}}):l.jsx(Fl,{className:"w-8 h-8",style:{color:"#9CA3AF"}}),T=b=>b===0?"Clear sky":b===1?"Mainly clear":b===2?"Partly cloudy":b===3?"Overcast":b>=51&&b<=67?"Rainy":b>=71&&b<=77?"Snowy":b>=80?"Rain showers":"Cloudy";return t?l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>_(!0),className:"bg-white rounded-full shadow-lg p-3 hover:shadow-xl transition-all",title:n.viewWeather,children:o&&!m&&!v?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:S(o.weatherCode)}),l.jsxs("div",{className:"text-sm font-bold text-gray-900",children:[o.temperature,"C"]})]}):l.jsx(Fl,{className:"w-6 h-6",style:{color:L.primary.teal}})}),y&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-start justify-end p-4 animate-fadeIn",onClick:()=>_(!1),children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm mt-16 mr-0 animate-slideInRight",onClick:b=>b.stopPropagation(),children:[l.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Fl,{className:"w-5 h-5",style:{color:L.primary.teal}}),n.weather]}),l.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:l.jsx("span",{className:"text-2xl text-gray-600",children:""})})]}),l.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:[m&&l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"text-gray-500 text-sm",children:n.loadingWeather})}),v&&!m&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-500 text-sm",children:v}),l.jsx("button",{onClick:()=>D(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:n.tryAgain})]}),o&&!m&&!v&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gx,{className:"w-4 h-4",style:{color:L.primary.teal}}),l.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[o.city,", ",o.country]})]}),l.jsx("button",{onClick:()=>A(!N),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:l.jsx(yx,{className:"w-4 h-4 text-gray-600"})})]}),N&&l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("form",{onSubmit:q,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),l.jsx("button",{type:"submit",style:{backgroundColor:L.primary.teal},className:"px-4 py-2 text-white rounded-lg text-sm",children:"Go"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(b=>l.jsx("button",{onClick:()=>V(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700",children:b},b))})]})]}),l.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg p-4 mb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:T(o.weatherCode)})]}),l.jsx("div",{children:S(o.weatherCode)})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_x,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uh,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),l.jsx("div",{className:"space-y-2",children:h.map((b,C)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:S(b.weatherCode)}),l.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},C))})]})]})]})]})}),l.jsx("style",{jsx:!0,children:`
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
          .animate-fadeIn {
            animation: fadeIn 0.2s ease-out;
          }
          .animate-slideInRight {
            animation: slideInRight 0.3s ease-out;
          }
        `})]}):l.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[l.jsx(Fl,{className:"w-5 h-5",style:{color:L.primary.teal}}),"Weather"]}),l.jsx("button",{onClick:()=>A(!N),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:l.jsx(yx,{className:"w-5 h-5 text-gray-600"})})]}),N&&l.jsxs("div",{className:"mb-4 space-y-3",children:[l.jsxs("form",{onSubmit:q,className:"flex gap-2",children:[l.jsx("input",{type:"text",value:i,onChange:b=>s(b.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),l.jsx("button",{type:"submit",style:{backgroundColor:L.primary.teal},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:"Search"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(b=>l.jsx("button",{onClick:()=>V(b),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700 transition-colors",children:b},b))})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(gx,{className:"w-4 h-4",style:{color:L.primary.teal}}),l.jsx("span",{className:"text-sm font-medium text-gray-700",children:o?`${o.city}, ${o.country}`:r})]}),m&&l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"text-gray-500 text-sm",children:"Loading weather..."})}),v&&!m&&l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-red-500 text-sm",children:v}),l.jsx("button",{onClick:()=>D(r),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Try again"})]}),o&&!m&&!v&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[o.temperature,"C"]}),l.jsx("div",{className:"text-sm text-gray-600 mt-1",children:T(o.weatherCode)})]}),l.jsx("div",{children:S(o.weatherCode)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_x,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.windSpeed," mph"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uh,{className:"w-4 h-4 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[o.humidity,"%"]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),l.jsx("div",{className:"space-y-2",children:h.map((b,C)=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"scale-75",children:S(b.weatherCode)}),l.jsx("span",{className:"text-xs text-gray-700",children:b.date})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[b.maxTemp,""]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[b.minTemp,""]})]})]},C))})]})]})]})},fm=({showBackButton:t=!1,title:e="",subtitle:n="",showLogout:r=!0})=>{const a=hs(),i=aa(),{language:s}=ci(),o=Nu[s],u=async()=>{try{await sU(__),a("/login")}catch(v){console.error("Error logging out:",v)}},h=()=>{a("/admin")},d=i.pathname==="/admin",m=i.pathname==="/gift-cards",p=i.pathname.includes("/register/");return l.jsx("div",{className:"bg-white shadow",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:l.jsxs("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t&&l.jsx("button",{onClick:h,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:o.backToDashboard,children:l.jsx(mx,{className:"w-6 h-6"})}),l.jsx("div",{className:"hidden sm:block",children:l.jsx(NE,{size:"md"})}),l.jsx("div",{className:"sm:hidden",children:l.jsx(NE,{size:"xs"})}),l.jsx("div",{className:"min-w-0 flex-1",children:d?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(AB,{compact:!0}),l.jsx("p",{className:"hidden sm:block text-sm text-gray-500",children:o.IVRITours})]})}):e?l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:e}),n&&l.jsx("p",{className:"hidden sm:block text-sm text-gray-600",children:n})]}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{className:"text-sm sm:text-2xl font-bold text-gray-900 truncate",children:o.IVRITours}),l.jsx("p",{className:"hidden sm:block text-sm text-gray-500 mt-1",children:o.tripManagement})]})})]}),l.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.jsx(NB,{}),!p&&l.jsxs(l.Fragment,{children:[d&&l.jsxs("button",{onClick:()=>a("/gift-cards"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:L.primary.teal},title:"Gift Cards",children:[l.jsx(Yn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Gift Cards"})]}),m&&l.jsxs("button",{onClick:()=>a("/admin"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:L.primary.teal},title:"Dashboard",children:[l.jsx(mx,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]}),r&&!p&&l.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:o.logout,children:[l.jsx(cM,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:o.logout})]})]})]})})})},CB=()=>{const{language:t}=ci(),e=Nu[t],[n,r]=R.useState(new Date),[a,i]=R.useState([]),[s,o]=R.useState(!1),[u,h]=R.useState(null),[d,m]=R.useState(!1),[p,v]=R.useState("upcoming"),[x,N]=R.useState("all"),[A,y]=R.useState(null),[_,w]=R.useState(null),[D,V]=R.useState(null);R.useEffect(()=>{q()},[n,p]);const q=async()=>{m(!0);try{const G=await yB();i(G)}catch(G){console.error("Error loading trips:",G)}finally{m(!1)}},S=async G=>{try{await gB(G),o(!1),q()}catch(re){console.error("Error creating trip:",re)}},T=G=>{const re=`${window.location.origin}/PlanYourTripNow/register/${G}`;navigator.clipboard.writeText(re),h(G),setTimeout(()=>h(null),2e3)},b=async G=>{if(confirm(e.deleteConfirm)){y(G);try{await _B(G),q()}catch(re){console.error("Error deleting trip:",re),alert(e.failedToDelete)}finally{y(null)}}},C=async(G,re)=>{try{await vB(G,re),w(null),q()}catch(k){console.error("Error updating trip:",k),alert(e.failedToUpdate)}},j=(()=>{const G=new Date;G.setHours(0,0,0,0);let re=a;return p==="date"?re=a.filter(k=>{var Y,X;const U=((X=(Y=k.date)==null?void 0:Y.toDate)==null?void 0:X.call(Y))||new Date(k.date);U.setHours(0,0,0,0);const $=new Date(n);return $.setHours(0,0,0,0),U.getTime()===$.getTime()}):p==="upcoming"?re=a.filter(k=>{var $,Y;const U=((Y=($=k.date)==null?void 0:$.toDate)==null?void 0:Y.call($))||new Date(k.date);return U.setHours(0,0,0,0),U>=G}):p==="past"&&(re=a.filter(k=>{var $,Y;const U=((Y=($=k.date)==null?void 0:$.toDate)==null?void 0:Y.call($))||new Date(k.date);return U.setHours(0,0,0,0),U<G})),x!=="all"&&(re=re.filter(k=>(k.status||"planned")===x)),re})(),I=G=>{switch(G||"planned"){case"planned":return{bg:"#FEF3C7",text:"#92400E",label:"Planned"};case"scheduled":return{bg:"#E9D5FF",text:"#6B21A8",label:"Scheduled"};case"done":return{bg:"#D1FAE5",text:"#065F46",label:"Done"};default:return{bg:"#FEF3C7",text:"#92400E",label:"Planned"}}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(fm,{}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start gap-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex justify-between items-start gap-4",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==="date"?`${e.tripsOn||"Trips on"} ${n.toLocaleDateString()}`:p==="all"?e.allTrips:p==="upcoming"?e.currentTrips:e.oldTrips})]})}),l.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[l.jsxs("button",{onClick:()=>v("all"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="all"?{backgroundColor:L.primary.teal}:{},title:e.showAllTrips,children:[l.jsx(Li,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.allTrips}),l.jsx("span",{className:"sm:hidden",children:"All"})]}),l.jsxs("button",{onClick:()=>v("upcoming"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="upcoming"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="upcoming"?{backgroundColor:L.primary.teal}:{},title:e.showCurrentTrips,children:[l.jsx(Li,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.currentTrips}),l.jsx("span",{className:"sm:hidden",children:"Upcoming"})]}),l.jsxs("button",{onClick:()=>v("past"),className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-colors whitespace-nowrap ${p==="past"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="past"?{backgroundColor:L.primary.teal}:{},title:e.showOldTrips,children:[l.jsx(R4,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.oldTrips}),l.jsx("span",{className:"sm:hidden",children:"Past"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap overflow-x-auto",children:[l.jsxs("button",{onClick:()=>N("all"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${x==="all"?"text-white":"text-gray-700 hover:opacity-100"}`,style:x==="all"?{backgroundColor:L.primary.teal}:{backgroundColor:L.primary.teal,opacity:.3},title:"Show all statuses",children:[l.jsx(Li,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"A"}),l.jsx("span",{className:"hidden sm:inline",children:"All Status"})]}),l.jsxs("button",{onClick:()=>N("planned"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${x==="planned"?"text-white":"text-gray-700 hover:opacity-100"}`,style:x==="planned"?{backgroundColor:"#92400E"}:{backgroundColor:"#FEF3C7",color:"#92400E"},title:"Show planned trips",children:[l.jsx(mN,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"P"}),l.jsx("span",{className:"hidden sm:inline",children:"Planned"})]}),l.jsxs("button",{onClick:()=>N("scheduled"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${x==="scheduled"?"text-white":"text-gray-700 hover:opacity-100"}`,style:x==="scheduled"?{backgroundColor:"#6B21A8"}:{backgroundColor:"#E9D5FF",color:"#6B21A8"},title:"Show scheduled trips",children:[l.jsx(Li,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"S"}),l.jsx("span",{className:"hidden sm:inline",children:"Scheduled"})]}),l.jsxs("button",{onClick:()=>N("done"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-xs sm:text-sm font-medium transition-all whitespace-nowrap ${x==="done"?"text-white":"text-gray-700 hover:opacity-100"}`,style:x==="done"?{backgroundColor:"#065F46"}:{backgroundColor:"#D1FAE5",color:"#065F46"},title:"Show completed trips",children:[l.jsx(Lr,{className:"w-3 h-3 sm:w-4 sm:h-4"}),l.jsx("span",{className:"sm:hidden",children:"D"}),l.jsx("span",{className:"hidden sm:inline",children:"Done"})]})]})]}),l.jsxs("button",{onClick:()=>o(!0),style:{backgroundColor:L.primary.teal},className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm sm:text-base whitespace-nowrap",title:e.createNewTrip,children:[l.jsx(_N,{className:"w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("span",{className:"hidden sm:inline",children:e.createTrip}),l.jsx("span",{className:"sm:hidden",children:"New"})]})]}),d?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:e.loadingTrips})}):j.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[l.jsxs("p",{className:"text-gray-500",children:[p==="upcoming"&&e.noUpcomingTrips,p==="past"&&e.noPastTrips,p==="all"&&"No trips found"]}),l.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstTrip})]}):l.jsx("div",{className:"space-y-3",children:j.map(G=>{var re,k;return l.jsx("div",{onClick:()=>V(G.id),className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-900",children:G.title}),l.jsx("span",{className:"px-2 py-1 rounded-full text-[10px] sm:text-xs font-semibold",style:{backgroundColor:I(G.status).bg,color:I(G.status).text},children:I(G.status).label})]}),l.jsxs("p",{className:"text-[10px] sm:text-sm text-gray-600 mt-1",children:[((k=(re=G.date)==null?void 0:re.toDate)==null?void 0:k.call(re).toLocaleDateString())||new Date(G.date).toLocaleDateString()," - ",G.vehicleLayout==="sprinter_15"?e.mercedesSprinterBlack:G.vehicleLayout==="bus_30"?e.mercedesSprinterWhite:G.vehicleLayout==="highlander_7"?e.toyotaHighlander:G.vehicleLayout]}),G.driverName&&l.jsxs("p",{className:"text-[10px] sm:text-sm mt-1",style:{color:"#00BCD4"},children:[e.driver,": ",G.driverName]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",onClick:U=>U.stopPropagation(),children:[G.whatsappGroupLink&&l.jsxs("a",{href:G.whatsappGroupLink,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#25D366"},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.joinWhatsappGroup,children:[l.jsx(gN,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.whatsapp})]}),l.jsx("button",{onClick:()=>T(G.id),className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:u===G.id?L.success:L.primary.teal},title:u===G.id?e.linkCopied:e.shareTripLink,children:u===G.id?l.jsxs(l.Fragment,{children:[l.jsx(Af,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.copied})]}):l.jsxs(l.Fragment,{children:[l.jsx(tv,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.share})]})}),l.jsxs("button",{onClick:()=>w(G),style:{backgroundColor:L.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.editTrip,children:[l.jsx(xM,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:e.edit})]}),l.jsxs("button",{onClick:()=>b(G.id),disabled:A===G.id,style:{backgroundColor:L.button.danger},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteTrip,children:[l.jsx(Rf,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:A===G.id?e.deleting:e.delete})]})]})]})},G.id)})})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsx("div",{className:"space-y-4 sticky top-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.calendar}),l.jsx(c3,{onChange:G=>{r(G),v("date")},value:n,className:"border-0 w-full",tileClassName:({date:G,view:re})=>{if(re==="month"){const k=a.filter(U=>{var Y,X;const $=((X=(Y=U.date)==null?void 0:Y.toDate)==null?void 0:X.call(Y))||new Date(U.date);return $.getFullYear()===G.getFullYear()&&$.getMonth()===G.getMonth()&&$.getDate()===G.getDate()});if(k.length>0)return k.length===1?"has-one-trip":k.length===2?"has-two-trips":"has-many-trips"}return null}}),l.jsx("style",{children:`
                  .has-one-trip {
                    background-color: #b2ebf2 !important;
                    color: #006064 !important;
                    font-weight: 600;
                  }
                  .has-one-trip:hover {
                    background-color: #80deea !important;
                  }
                  .has-two-trips {
                    background-color: #4dd0e1 !important;
                    color: #004d56 !important;
                    font-weight: 700;
                  }
                  .has-two-trips:hover {
                    background-color: #26c6da !important;
                  }
                  .has-many-trips {
                    background-color: #00bcd4 !important;
                    color: white !important;
                    font-weight: 800;
                  }
                  .has-many-trips:hover {
                    background-color: #00acc1 !important;
                  }
                `})]})})})]})}),s&&l.jsx(xB,{selectedDate:n,onClose:()=>o(!1),onCreate:S}),_&&l.jsx(wB,{trip:_,onClose:()=>w(null),onUpdate:C}),D&&l.jsx(SB,{tripId:D,onClose:()=>V(null)})]})};function Vy(){return Vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vy.apply(null,arguments)}function RB(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function IB(t,e){if(t==null)return{};var n,r,a=RB(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function DB(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function OB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function By(t,e){return By=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},By(t,e)}function jB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&By(t,e)}function rf(t){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rf(t)}function XR(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XR=function(){return!!t})()}function kB(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MB(t,e){if(e&&(Uy(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kB(t)}function PB(t){var e=XR();return function(){var n,r=rf(t);if(e){var a=rf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return MB(this,n)}}var JR={exports:{}},LB="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VB=LB,UB=VB;function ZR(){}function eI(){}eI.resetWarningCache=ZR;var BB=function(){function t(r,a,i,s,o,u){if(u!==UB){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:eI,resetWarningCache:ZR};return n.PropTypes=n,n};JR.exports=BB();var tI=JR.exports;const on=af(tI);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function is(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}is.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};is.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};is.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function b_(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}b_.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,a=0;a<=t;a+=1){var i=a/t,s=this._point(i,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(i,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(a>0){var u=s-n,h=o-r;e+=Math.sqrt(u*u+h*h)}n=s,r=o}return e};b_.prototype._point=function(t,e,n,r,a){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+a*t*t*t};function zB(t,e,n){var r,a,i,s=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,a),s||(r=a=null)};return function(){var h=Date.now();!o&&n.leading===!1&&(o=h);var d=e-(h-o);return r=this,a=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),o=h,i=t.apply(r,a),s||(r=a=null)):!s&&n.trailing!==!1&&(s=setTimeout(u,d)),i}}function Oe(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=zB(Oe.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Oe.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(a){a.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(a))},this._handleMouseMove=function(a){n._mouseButtonDown&&n._strokeMoveUpdate(a)},this._handleMouseUp=function(a){a.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(a))},this._handleTouchStart=function(a){if(a.targetTouches.length===1){var i=a.changedTouches[0];n._strokeBegin(i)}},this._handleTouchMove=function(a){a.preventDefault();var i=a.targetTouches[0];n._strokeMoveUpdate(i)},this._handleTouchEnd=function(a){var i=a.target===n._canvas;i&&(a.preventDefault(),n._strokeEnd(a))},this.on()}Oe.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};Oe.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,a=n.ratio||window.devicePixelRatio||1,i=n.width||this._canvas.width/a,s=n.height||this._canvas.height/a;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,i,s)},this._isEmpty=!1};Oe.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};Oe.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Oe.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Oe.prototype.isEmpty=function(){return this._isEmpty};Oe.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};Oe.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),a=this._data[this._data.length-1],i=a&&a[a.length-1],s=i&&r.distanceTo(i)<this.minDistance;if(!(i&&s)){var o=this._addPoint(r),u=o.curve,h=o.widths;u&&h&&this._drawCurve(u,h.start,h.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};Oe.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],a=r[r.length-1];n.equals(a)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};Oe.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Oe.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Oe.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Oe.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new is(t-r.left,e-r.top,n||new Date().getTime())};Oe.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var a=n.c1,i=new b_(e[1],r,a,e[2]),s=this._calculateCurveWidths(i);return e.shift(),{curve:i,widths:s}}return{}};Oe.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,a=t.y-e.y,i=e.x-n.x,s=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},h=Math.sqrt(r*r+a*a),d=Math.sqrt(i*i+s*s),m=o.x-u.x,p=o.y-u.y,v=d/(h+d),x={x:u.x+m*v,y:u.y+p*v},N=e.x-x.x,A=e.y-x.y;return{c1:new is(o.x+N,o.y+A),c2:new is(u.x+N,u.y+A)}};Oe.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},a=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,i=this._strokeWidth(a);return r.start=this._lastWidth,r.end=i,this._lastVelocity=a,this._lastWidth=i,r};Oe.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};Oe.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};Oe.prototype._drawCurve=function(t,e,n){var r=this._ctx,a=n-e,i=Math.floor(t.length());r.beginPath();for(var s=0;s<i;s+=1){var o=s/i,u=o*o,h=u*o,d=1-o,m=d*d,p=m*d,v=p*t.startPoint.x;v+=3*m*o*t.control1.x,v+=3*d*u*t.control2.x,v+=h*t.endPoint.x;var x=p*t.startPoint.y;x+=3*m*o*t.control1.y,x+=3*d*u*t.control2.y,x+=h*t.endPoint.y;var N=e+h*a;this._drawPoint(v,x,N)}r.closePath(),r.fill()};Oe.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};Oe.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var a=t[r];if(a.length>1)for(var i=0;i<a.length;i+=1){var s=a[i],o=new is(s.x,s.y,s.time),u=s.color;if(i===0)this.penColor=u,this._reset(),this._addPoint(o);else if(i!==a.length-1){var h=this._addPoint(o),d=h.curve,m=h.widths;d&&m&&e(d,m,u)}}else{this._reset();var p=a[0];n(p)}}};Oe.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),a=0,i=0,s=n.width/r,o=n.height/r,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(e,function(y,_,w){var D=document.createElement("path");if(!isNaN(y.control1.x)&&!isNaN(y.control1.y)&&!isNaN(y.control2.x)&&!isNaN(y.control2.y)){var V="M "+y.startPoint.x.toFixed(3)+","+y.startPoint.y.toFixed(3)+" "+("C "+y.control1.x.toFixed(3)+","+y.control1.y.toFixed(3)+" ")+(y.control2.x.toFixed(3)+","+y.control2.y.toFixed(3)+" ")+(y.endPoint.x.toFixed(3)+","+y.endPoint.y.toFixed(3));D.setAttribute("d",V),D.setAttribute("stroke-width",(_.end*2.25).toFixed(3)),D.setAttribute("stroke",w),D.setAttribute("fill","none"),D.setAttribute("stroke-linecap","round"),u.appendChild(D)}},function(y){var _=document.createElement("circle"),w=typeof t.dotSize=="function"?t.dotSize():t.dotSize;_.setAttribute("r",w),_.setAttribute("cx",y.x),_.setAttribute("cy",y.y),_.setAttribute("fill",y.color),u.appendChild(_)});var h="data:image/svg+xml;base64,",d='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+a+" "+i+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",m=u.innerHTML;if(m===void 0){var p=document.createElement("dummy"),v=u.childNodes;p.innerHTML="";for(var x=0;x<v.length;x+=1)p.appendChild(v[x].cloneNode(!0));m=p.innerHTML}var N="</svg>",A=d+m+N;return h+btoa(A)};Oe.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};Oe.prototype.toData=function(){return this._data};var nI={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(GI,function(){return function(n){function r(i){if(a[i])return a[i].exports;var s=a[i]={exports:{},id:i,loaded:!1};return n[i].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var a={};return r.m=n,r.c=a,r.p="",r(0)}([function(n,r){function a(h){var d=h.getContext("2d"),m=h.width,p=h.height,v=d.getImageData(0,0,m,p).data,x=o(!0,m,p,v),N=o(!1,m,p,v),A=u(!0,m,p,v),y=u(!1,m,p,v),_=y-A+1,w=N-x+1,D=d.getImageData(A,x,_,w);return h.width=_,h.height=w,d.clearRect(0,0,_,w),d.putImageData(D,0,0),h}function i(h,d,m,p){return{red:p[4*(m*d+h)],green:p[4*(m*d+h)+1],blue:p[4*(m*d+h)+2],alpha:p[4*(m*d+h)+3]}}function s(h,d,m,p){return i(h,d,m,p).alpha}function o(h,d,m,p){for(var v=h?1:-1,x=h?0:m-1,N=x;h?N<m:N>-1;N+=v)for(var A=0;A<d;A++)if(s(A,N,d,p))return N;return null}function u(h,d,m,p){for(var v=h?1:-1,x=h?0:d-1,N=x;h?N<d:N>-1;N+=v)for(var A=0;A<m;A++)if(s(N,A,d,p))return N;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=a}])})})(nI);var FB=nI.exports;const $B=af(FB);var qB=["canvasProps","clearOnResize"],mm=function(t){jB(n,t);var e=PB(n);function n(){var r;OB(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var u=IB(o,qB);return u},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new Oe(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),u=document.createElement("canvas");return u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),$B(u)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,u,h=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},d=h.width,m=h.height;if(!(typeof d<"u"&&typeof m<"u")){var p=r.getCanvas(),v=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof d>"u"&&(p.width=p.offsetWidth*v),typeof m>"u"&&(p.height=p.offsetHeight*v),p.getContext("2d").scale(v,v),r.clear()}},r.render=function(){var o=r.props.canvasProps;return hD.createElement("canvas",Vy({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,u){return r.getSignaturePad().fromDataURL(o,u)},r.toDataURL=function(o,u){return r.getSignaturePad().toDataURL(o,u)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return DB(n)}(R.Component);mm.propTypes={velocityFilterWeight:on.number,minWidth:on.number,maxWidth:on.number,minDistance:on.number,dotSize:on.oneOfType([on.number,on.func]),penColor:on.string,throttle:on.number,onEnd:on.func,onBegin:on.func,canvasProps:on.object,clearOnResize:on.bool};mm.defaultProps={clearOnResize:!0};mm.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const HB=`CANCELLATION POLICY

1. Cancellations made 30 days or more before the trip date will receive a full refund.
2. Cancellations made 15-29 days before the trip date will receive a 50% refund.
3. Cancellations made less than 15 days before the trip date are non-refundable.
4. No-shows on the trip date are non-refundable.
5. Trip organizers reserve the right to cancel trips due to weather, safety concerns, or insufficient participation, in which case full refunds will be provided.`,GB=`WAIVER OF LIABILITY AND ASSUMPTION OF RISK

I, the undersigned, hereby acknowledge that I am voluntarily participating in this trip and related activities. I understand that such participation involves inherent risks, including but not limited to personal injury, property damage, or death.

In consideration of being permitted to participate in this trip, I hereby:

1. WAIVE, RELEASE, AND DISCHARGE the trip organizers, their officers, employees, and agents from any and all liability for any loss, damage, injury, or death that may occur during my participation.

2. ASSUME ALL RISKS associated with participation in this trip, whether known or unknown.

3. AGREE TO INDEMNIFY AND HOLD HARMLESS the trip organizers from any claims, actions, or losses arising from my participation.

4. CONSENT to receive emergency medical treatment if necessary.

I have read this waiver, fully understand its terms, and sign it freely and voluntarily.`,YB=()=>{var G,re;const{tripId:t}=nN();hs();const e=R.useRef(null),{language:n}=ci(),[r,a]=R.useState(null),[i,s]=R.useState([]),[o,u]=R.useState(!0),[h,d]=R.useState(!1),[m,p]=R.useState(!1),[v,x]=R.useState(1),[N,A]=R.useState([]),[y,_]=R.useState([{firstName:"",lastName:"",email:"",phone:"",seatNumber:null}]),[w,D]=R.useState("on-trip"),[V,q]=R.useState(!1),[S,T]=R.useState({cancellationPolicy:!1,waiver:!1}),[b,C]=R.useState({});R.useEffect(()=>{O()},[t]),R.useEffect(()=>{const k=Array.from({length:v},(U,$)=>y[$]||{firstName:"",lastName:"",email:"",phone:"",seatNumber:null});_(k),A(k.map(U=>U.seatNumber).filter(Boolean))},[v]);const O=async()=>{try{console.log("Loading trip with ID:",t);const[k,U]=await Promise.all([GR(t),bB(t)]);console.log("Trip data loaded:",k),console.log("Registrations loaded:",U),a(k),s(U)}catch(k){console.error("Error loading trip data:",k),alert("Error loading trip: "+k.message)}finally{u(!1)}},j=()=>{var U;const k={};return y.forEach(($,Y)=>{$.firstName.trim()||(k[`passenger${Y}FirstName`]="First name is required"),$.lastName.trim()||(k[`passenger${Y}LastName`]="Last name is required"),$.email.trim()?/\S+@\S+\.\S+/.test($.email)||(k[`passenger${Y}Email`]="Email is invalid"):k[`passenger${Y}Email`]="Email is required",$.phone.trim()||(k[`passenger${Y}Phone`]="Phone number is required"),$.seatNumber||(k[`passenger${Y}Seat`]="Please select a seat")}),S.cancellationPolicy||(k.cancellationPolicy="You must agree to the cancellation policy"),S.waiver||(k.waiver="You must sign the waiver"),(U=e.current)!=null&&U.isEmpty()&&(k.signature="Signature is required"),C(k),Object.keys(k).length===0},I=async k=>{if(k.preventDefault(),!!j()){d(!0);try{const U=e.current.toDataURL();for(const $ of y)await YR({tripId:t,firstName:$.firstName,lastName:$.lastName,email:$.email,phone:$.phone,seatNumber:$.seatNumber,paymentMethod:w,paid:!1,signatureData:U,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,adminEmail:"barpupco@gmail.com",registrationDate:new Date().toISOString()});p(!0)}catch(U){console.error("Error submitting registration:",U),C({submit:"Failed to submit registration. Please try again."})}finally{d(!1)}}};return o?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"text-lg",children:"Loading trip information..."})}):r?m?l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[l.jsx(Lr,{className:"w-16 h-16 mx-auto mb-4",style:{color:L.success}}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),l.jsxs("p",{className:"text-gray-600 mb-4",children:["Thank you for registering for ",l.jsx("span",{className:"font-semibold",children:r.title}),"."]}),l.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Confirmation Email Sent!"}),l.jsx("p",{className:"text-xs text-blue-700",children:"A confirmation email with your trip details and signed waiver has been sent to:"}),l.jsx("p",{className:"text-sm font-semibold text-blue-900 mt-1",children:y[0].email}),y.length>1&&l.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Each passenger will receive their own confirmation email."})]})]})}),l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E0F7FA"},children:[l.jsx("p",{className:"font-semibold mb-2",style:{color:L.primary.teal},children:y.length===1?"Your Seat:":"Your Seats:"}),l.jsx("p",{className:"text-lg font-bold",children:y.map(k=>`#${k.seatNumber}`).join(", ")})]}),l.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[l.jsx("p",{children:"Please check your email inbox and spam folder."}),l.jsx("p",{className:"mt-2",children:"If you don't receive the email within 10 minutes, please contact support."})]})]})}):l.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:[l.jsx(fm,{showLogout:!1,title:r.title,subtitle:(G=r.date)==null?void 0:G.toDate().toLocaleDateString(n==="ru"?"ru-RU":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),l.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:l.jsxs("form",{onSubmit:I,className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Number of Seats"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many seats do you need? *"}),l.jsx("select",{value:v,onChange:k=>x(parseInt(k.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(k=>l.jsxs("option",{value:k,children:[k," ",k===1?"seat":"seats"]},k))})]})]}),y.map((k,U)=>l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Passenger ",U+1," Information"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),l.jsx("input",{type:"text",value:k.firstName,onChange:$=>{const Y=[...y];Y[U].firstName=$.target.value,_(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}FirstName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}FirstName`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}FirstName`]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),l.jsx("input",{type:"text",value:k.lastName,onChange:$=>{const Y=[...y];Y[U].lastName=$.target.value,_(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}LastName`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}LastName`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}LastName`]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),l.jsx("input",{type:"email",value:U===0||!V?k.email:y[0].email,onChange:$=>{const Y=[...y];Y[U].email=$.target.value,_(Y),U===0&&V&&(Y.forEach((X,be)=>{be>0&&(X.email=$.target.value)}),_(Y))},disabled:U>0&&V,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Email`]?"border-red-500":"border-gray-300"} ${U>0&&V?"bg-gray-100":""}`}),b[`passenger${U}Email`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Email`]}),U===0&&v>1&&l.jsxs("label",{className:"flex items-center mt-2 text-sm text-gray-600",children:[l.jsx("input",{type:"checkbox",checked:V,onChange:$=>{if(q($.target.checked),$.target.checked){const Y=[...y],X=y[0].email;Y.forEach((be,H)=>{H>0&&(be.email=X)}),_(Y)}},className:"mr-2",style:{accentColor:L.primary.teal}}),"Use this email for all passengers"]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),l.jsx("input",{type:"tel",value:k.phone,onChange:$=>{const Y=[...y];Y[U].phone=$.target.value,_(Y)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Phone`]?"border-red-500":"border-gray-300"}`}),b[`passenger${U}Phone`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Phone`]})]})]})]},U)),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Method"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:w==="card"?L.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"card",checked:w==="card",onChange:k=>D(k.target.value),className:"mr-3",style:{accentColor:L.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),l.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:w==="on-trip"?L.primary.teal:"#D1D5DB"},children:[l.jsx("input",{type:"radio",value:"on-trip",checked:w==="on-trip",onChange:k=>D(k.target.value),className:"mr-3",style:{accentColor:L.primary.teal}}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),l.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Seats to Passengers *"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a seat for each passenger from the dropdown below."}),y.map((k,U)=>{const $=r.vehicleLayout,Y=$==="sprinter_15"?14:$==="bus_30"?11:7;return l.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Seat for Passenger ",U+1,": ",k.firstName||"(Not entered)"," ",k.lastName||""," *"]}),l.jsxs("select",{value:k.seatNumber||"",onChange:X=>{const be=[...y];be[U].seatNumber=X.target.value?parseInt(X.target.value):null,_(be)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${b[`passenger${U}Seat`]?"border-red-500":"border-gray-300"}`,children:[l.jsx("option",{value:"",children:"Select a seat"}),Array.from({length:Y},(X,be)=>be+1).map(X=>{const be=i.some(Ae=>Ae.seatNumber===X),H=y.some((Ae,Te)=>Te!==U&&Ae.seatNumber===X),ne=be||H;return l.jsxs("option",{value:X,disabled:ne,children:["Seat #",X," ",be?"(Occupied)":H?"(Selected for another passenger)":""]},X)})]}),b[`passenger${U}Seat`]&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b[`passenger${U}Seat`]})]},U)}),l.jsxs("div",{className:"mt-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seating Map - Click to Select Seats"}),l.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tap on available (gray) seats to assign them to your passengers"}),y.some(k=>!k.seatNumber)&&l.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:l.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: Select seat for Passenger ",y.findIndex(k=>!k.seatNumber)+1,((re=y[y.findIndex(k=>!k.seatNumber)])==null?void 0:re.firstName)&&` (${y[y.findIndex(k=>!k.seatNumber)].firstName})`]})}),l.jsx(QR,{vehicleType:r.vehicleLayout,registrations:i,driverName:r.driverName,selectedSeat:null,onSeatClick:k=>{const U=y.findIndex($=>!$.seatNumber);if(U!==-1){const $=[...y];$[U].seatNumber=k,_($)}},reservedSeats:y.map(k=>k.seatNumber).filter(Boolean)}),y.some(k=>k.seatNumber)&&l.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Seats:"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((k,U)=>k.seatNumber&&l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded-full text-sm",children:[l.jsxs("span",{className:"font-semibold",children:["#",k.seatNumber]}),l.jsx("span",{className:"text-gray-600",children:k.firstName||`Passenger ${U+1}`}),l.jsx("button",{type:"button",onClick:()=>{const $=[...y];$[U].seatNumber=null,_($)},className:"text-red-500 hover:text-red-700",children:""})]},U))})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation Policy"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto mb-4",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:HB})}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.cancellationPolicy,onChange:k=>T({...S,cancellationPolicy:k.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the cancellation policy *"})]}),b.cancellationPolicy&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.cancellationPolicy})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Waiver of Liability"}),l.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto mb-4",children:l.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:GB})}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digital Signature *"}),l.jsx("div",{className:`border-2 rounded-lg ${b.signature?"border-red-500":"border-gray-300"}`,children:l.jsx(mm,{ref:e,canvasProps:{className:"w-full h-40 bg-white rounded-lg"}})}),l.jsx("button",{type:"button",onClick:()=>{var k;return(k=e.current)==null?void 0:k.clear()},className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Clear Signature"}),b.signature&&l.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.signature})]}),l.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:S.waiver,onChange:k=>T({...S,waiver:k.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("span",{className:"text-sm text-gray-700",children:"I have read, understand, and agree to the waiver of liability *"})]}),b.waiver&&l.jsx("p",{className:"text-red-500 text-sm mt-2",children:b.waiver})]}),b.submit&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:b.submit}),l.jsx("button",{type:"submit",disabled:h,style:{backgroundColor:L.primary.teal},className:"w-full text-white py-4 rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Submitting...":"Complete Registration"})]})})]}):l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"text-center max-w-md",children:[l.jsx(U4,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"This trip link may be invalid or expired."}),l.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[l.jsxs("p",{className:"text-sm text-gray-700",children:[l.jsx("strong",{children:"Trip ID:"})," ",t]}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If you believe this is an error, please contact the trip organizer."})]})]})})},WB=()=>{const[t,e]=R.useState(""),[n,r]=R.useState(""),[a,i]=R.useState(""),[s,o]=R.useState(!1),u=hs(),h=async d=>{d.preventDefault(),i(""),o(!0);try{await nU(__,t,n),u("/admin")}catch(m){i("Invalid email or password"),console.error(m)}finally{o(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:L.gradient.primary},children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[l.jsx("div",{className:"flex items-center justify-center mb-8",children:l.jsx(oM,{className:"w-12 h-12",style:{color:L.primary.teal}})}),l.jsx("h1",{className:"text-3xl font-bold text-center mb-8",style:{color:L.primary.black},children:"Admin Login"}),l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",value:t,onChange:d=>e(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsx("input",{type:"password",value:n,onChange:d=>r(d.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),a&&l.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:a}),l.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:L.primary.teal},className:"w-full text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]})]})})};var x_={},pm={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});function KB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var QB=function t(e,n){KB(this,t),this.data=e,this.text=n.text||e,this.options=n};Gt.default=QB;Object.defineProperty(pm,"__esModule",{value:!0});pm.CODE39=void 0;var XB=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),JB=Gt,ZB=ez(JB);function ez(t){return t&&t.__esModule?t:{default:t}}function tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function rz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var az=function(t){rz(e,t);function e(n,r){return tz(this,e),n=n.toUpperCase(),r.mod43&&(n+=oz(lz(n))),nz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return XB(e,[{key:"encode",value:function(){for(var r=Hp("*"),a=0;a<this.data.length;a++)r+=Hp(this.data[a])+"0";return r+=Hp("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(ZB.default),rI=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],iz=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Hp(t){return sz(aI(t))}function sz(t){return iz[t].toString(2)}function oz(t){return rI[t]}function aI(t){return rI.indexOf(t)}function lz(t){for(var e=0,n=0;n<t.length;n++)e+=aI(t[n]);return e=e%43,e}pm.CODE39=az;var hr={},w_={},sl={},ze={};Object.defineProperty(ze,"__esModule",{value:!0});var $l;function Gp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var iI=ze.SET_A=0,sI=ze.SET_B=1,oI=ze.SET_C=2;ze.SHIFT=98;var cz=ze.START_A=103,uz=ze.START_B=104,hz=ze.START_C=105;ze.MODULO=103;ze.STOP=106;ze.FNC1=207;ze.SET_BY_CODE=($l={},Gp($l,cz,iI),Gp($l,uz,sI),Gp($l,hz,oI),$l);ze.SWAP={101:iI,100:sI,99:oI};ze.A_START_CHAR="";ze.B_START_CHAR="";ze.C_START_CHAR="";ze.A_CHARS="[\0-_-]";ze.B_CHARS="[ --]";ze.C_CHARS="(*[0-9]{2}*)";ze.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(sl,"__esModule",{value:!0});var dz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),fz=Gt,mz=pz(fz),ln=ze;function pz(t){return t&&t.__esModule?t:{default:t}}function gz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _z=function(t){vz(e,t);function e(n,r){gz(this,e);var a=yz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return a.bytes=n.split("").map(function(i){return i.charCodeAt(0)}),a}return dz(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,a=r.shift()-105,i=ln.SET_BY_CODE[a];if(i===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(ln.FNC1);var s=e.next(r,1,i);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(a)+s.result+e.getBar((s.checksum+a)%ln.MODULO)+e.getBar(ln.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return ln.BARS[r]?ln.BARS[r].toString():""}},{key:"correctIndex",value:function(r,a){if(a===ln.SET_A){var i=r.shift();return i<32?i+64:i-32}else return a===ln.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,a,i){if(!r.length)return{result:"",checksum:0};var s=void 0,o=void 0;if(r[0]>=200){o=r.shift()-105;var u=ln.SWAP[o];u!==void 0?s=e.next(r,a+1,u):((i===ln.SET_A||i===ln.SET_B)&&o===ln.SHIFT&&(r[0]=i===ln.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,a+1,i))}else o=e.correctIndex(r,i),s=e.next(r,a+1,i);var h=e.getBar(o),d=o*a;return{result:h+s.result,checksum:d+s.checksum}}}]),e}(mz.default);sl.default=_z;var E_={};Object.defineProperty(E_,"__esModule",{value:!0});var Wa=ze,lI=function(e){return e.match(new RegExp("^"+Wa.A_CHARS+"*"))[0].length},cI=function(e){return e.match(new RegExp("^"+Wa.B_CHARS+"*"))[0].length},uI=function(e){return e.match(new RegExp("^"+Wa.C_CHARS+"*"))[0]};function T_(t,e){var n=e?Wa.A_CHARS:Wa.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+hI(t.substring(r[1].length));var a=t.match(new RegExp("^"+n+"+"))[0];return a.length===t.length?t:a+String.fromCharCode(e?205:206)+T_(t.substring(a.length),!e)}function hI(t){var e=uI(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=lI(t)>=cI(t);return e+String.fromCharCode(r?206:205)+T_(t,r)}E_.default=function(t){var e=void 0,n=uI(t).length;if(n>=2)e=Wa.C_START_CHAR+hI(t);else{var r=lI(t)>cI(t);e=(r?Wa.A_START_CHAR:Wa.B_START_CHAR)+T_(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,i){return""+i})};Object.defineProperty(w_,"__esModule",{value:!0});var bz=sl,xz=dI(bz),wz=E_,Ez=dI(wz);function dI(t){return t&&t.__esModule?t:{default:t}}function Tz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nz=function(t){Sz(e,t);function e(n,r){if(Tz(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=Yp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Ez.default)(n),r));else var a=Yp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return Yp(a)}return e}(xz.default);w_.default=Nz;var S_={};Object.defineProperty(S_,"__esModule",{value:!0});var Az=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Cz=sl,Rz=Iz(Cz),AE=ze;function Iz(t){return t&&t.__esModule?t:{default:t}}function Dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kz=function(t){jz(e,t);function e(n,r){return Dz(this,e),Oz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,AE.A_START_CHAR+n,r))}return Az(e,[{key:"valid",value:function(){return new RegExp("^"+AE.A_CHARS+"+$").test(this.data)}}]),e}(Rz.default);S_.default=kz;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});var Mz=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Pz=sl,Lz=Vz(Pz),CE=ze;function Vz(t){return t&&t.__esModule?t:{default:t}}function Uz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fz=function(t){zz(e,t);function e(n,r){return Uz(this,e),Bz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,CE.B_START_CHAR+n,r))}return Mz(e,[{key:"valid",value:function(){return new RegExp("^"+CE.B_CHARS+"+$").test(this.data)}}]),e}(Lz.default);N_.default=Fz;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});var $z=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qz=sl,Hz=Gz(qz),RE=ze;function Gz(t){return t&&t.__esModule?t:{default:t}}function Yz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Kz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Qz=function(t){Kz(e,t);function e(n,r){return Yz(this,e),Wz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,RE.C_START_CHAR+n,r))}return $z(e,[{key:"valid",value:function(){return new RegExp("^"+RE.C_CHARS+"+$").test(this.data)}}]),e}(Hz.default);A_.default=Qz;Object.defineProperty(hr,"__esModule",{value:!0});hr.CODE128C=hr.CODE128B=hr.CODE128A=hr.CODE128=void 0;var Xz=w_,Jz=gm(Xz),Zz=S_,eF=gm(Zz),tF=N_,nF=gm(tF),rF=A_,aF=gm(rF);function gm(t){return t&&t.__esModule?t:{default:t}}hr.CODE128=Jz.default;hr.CODE128A=eF.default;hr.CODE128B=nF.default;hr.CODE128C=aF.default;var Jt={},C_={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});zn.SIDE_BIN="101";zn.MIDDLE_BIN="01010";zn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};zn.EAN2_STRUCTURE=["LL","LG","GL","GG"];zn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];zn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var ym={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});var iF=zn,sF=function(e,n,r){var a=e.split("").map(function(s,o){return iF.BINARIES[n[o]]}).map(function(s,o){return s?s[e[o]]:""});if(r){var i=e.length-1;a=a.map(function(s,o){return o<i?s+r:s})}return a.join("")};bs.default=sF;Object.defineProperty(ym,"__esModule",{value:!0});var oF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Os=zn,lF=bs,IE=fI(lF),cF=Gt,uF=fI(cF);function fI(t){return t&&t.__esModule?t:{default:t}}function hF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mF=function(t){fF(e,t);function e(n,r){hF(this,e);var a=dF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return oF(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,a){return this.text.substr(r,a)}},{key:"leftEncode",value:function(r,a){return(0,IE.default)(r,a)}},{key:"rightText",value:function(r,a){return this.text.substr(r,a)}},{key:"rightEncode",value:function(r,a){return(0,IE.default)(r,a)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},a={height:this.guardHeight};return[{data:Os.SIDE_BIN,options:a},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Os.MIDDLE_BIN,options:a},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Os.SIDE_BIN,options:a}]}},{key:"encodeFlat",value:function(){var r=[Os.SIDE_BIN,this.leftEncode(),Os.MIDDLE_BIN,this.rightEncode(),Os.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(uF.default);ym.default=mF;Object.defineProperty(C_,"__esModule",{value:!0});var pF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ql=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},gF=zn,yF=ym,vF=_F(yF);function _F(t){return t&&t.__esModule?t:{default:t}}function bF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var DE=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*3:r+a},0);return(10-n%10)%10},EF=function(t){wF(e,t);function e(n,r){bF(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=DE(n));var a=xF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.lastChar=r.lastChar,a}return pF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===DE(this.data)}},{key:"leftText",value:function(){return ql(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),a=gF.EAN13_STRUCTURE[this.data[0]];return ql(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,a)}},{key:"rightText",value:function(){return ql(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return ql(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=ql(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(vF.default);C_.default=EF;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});var TF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),xh=function t(e,n,r){e===null&&(e=Function.prototype);var a=Object.getOwnPropertyDescriptor(e,n);if(a===void 0){var i=Object.getPrototypeOf(e);return i===null?void 0:t(i,n,r)}else{if("value"in a)return a.value;var s=a.get;return s===void 0?void 0:s.call(r)}},SF=ym,NF=AF(SF);function AF(t){return t&&t.__esModule?t:{default:t}}function CF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function IF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var OE=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a:r+a*3},0);return(10-n%10)%10},DF=function(t){IF(e,t);function e(n,r){return CF(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=OE(n)),RF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return TF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===OE(this.data)}},{key:"leftText",value:function(){return xh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return xh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return xh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return xh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(NF.default);R_.default=DF;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});var OF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),jF=zn,kF=bs,MF=mI(kF),PF=Gt,LF=mI(PF);function mI(t){return t&&t.__esModule?t:{default:t}}function VF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function BF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zF=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,a,i){return i%2?r+a*9:r+a*3},0);return n%10},FF=function(t){BF(e,t);function e(n,r){return VF(this,e),UF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return OF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=jF.EAN5_STRUCTURE[zF(this.data)];return{data:"1011"+(0,MF.default)(this.data,r,"01"),text:this.text}}}]),e}(LF.default);I_.default=FF;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});var $F=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),qF=zn,HF=bs,GF=pI(HF),YF=Gt,WF=pI(YF);function pI(t){return t&&t.__esModule?t:{default:t}}function KF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function XF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var JF=function(t){XF(e,t);function e(n,r){return KF(this,e),QF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return $F(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=qF.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,GF.default)(this.data,r,"01"),text:this.text}}}]),e}(WF.default);D_.default=JF;var Au={};Object.defineProperty(Au,"__esModule",{value:!0});var ZF=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Au.checksum=zy;var e$=bs,js=gI(e$),t$=Gt,n$=gI(t$);function gI(t){return t&&t.__esModule?t:{default:t}}function r$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function i$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s$=function(t){i$(e,t);function e(n,r){r$(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=zy(n));var a=a$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return ZF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==zy(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,js.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,js.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,js.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,js.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,js.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,js.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(n$.default);function zy(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}Au.default=s$;var O_={};Object.defineProperty(O_,"__esModule",{value:!0});var o$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l$=bs,c$=yI(l$),u$=Gt,h$=yI(u$),d$=Au;function yI(t){return t&&t.__esModule?t:{default:t}}function f$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function m$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p$=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],g$=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],y$=function(t){m$(e,t);function e(n,r){f$(this,e);var a=Wp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(a.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)a.middleDigits=n,a.upcA=jE(n,"0"),a.text=r.text||""+a.upcA[0]+n+a.upcA[a.upcA.length-1],a.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(a.middleDigits=n.substring(1,n.length-1),a.upcA=jE(a.middleDigits,n[0]),a.upcA[a.upcA.length-1]===n[n.length-1])a.isValid=!0;else return Wp(a);else return Wp(a);return a.displayValue=r.displayValue,r.fontSize>r.width*10?a.fontSize=r.width*10:a.fontSize=r.fontSize,a.guardHeight=r.height+a.fontSize/2+r.textMargin,a}return o$(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],a=this.upcA[this.upcA.length-1],i=g$[parseInt(a)][parseInt(r)];return(0,c$.default)(this.middleDigits,i)}}]),e}(h$.default);function jE(t,e){for(var n=parseInt(t[t.length-1]),r=p$[n],a="",i=0,s=0;s<r.length;s++){var o=r[s];o==="X"?a+=t[i++]:a+=o}return a=""+e+a,""+a+(0,d$.checksum)(a)}O_.default=y$;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.UPCE=Jt.UPC=Jt.EAN2=Jt.EAN5=Jt.EAN8=Jt.EAN13=void 0;var v$=C_,_$=ol(v$),b$=R_,x$=ol(b$),w$=I_,E$=ol(w$),T$=D_,S$=ol(T$),N$=Au,A$=ol(N$),C$=O_,R$=ol(C$);function ol(t){return t&&t.__esModule?t:{default:t}}Jt.EAN13=_$.default;Jt.EAN8=x$.default;Jt.EAN5=E$.default;Jt.EAN2=S$.default;Jt.UPC=A$.default;Jt.UPCE=R$.default;var Lo={},vm={},Cu={};Object.defineProperty(Cu,"__esModule",{value:!0});Cu.START_BIN="1010";Cu.END_BIN="11101";Cu.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(vm,"__esModule",{value:!0});var I$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wh=Cu,D$=Gt,O$=j$(D$);function j$(t){return t&&t.__esModule?t:{default:t}}function k$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function P$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var L$=function(t){P$(e,t);function e(){return k$(this,e),M$(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return I$(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,a=this.data.match(/.{2}/g).map(function(i){return r.encodePair(i)}).join("");return{data:wh.START_BIN+a+wh.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var a=wh.BINARIES[r[1]];return wh.BINARIES[r[0]].split("").map(function(i,s){return(i==="1"?"111":"1")+(a[s]==="1"?"000":"0")}).join("")}}]),e}(O$.default);vm.default=L$;var j_={};Object.defineProperty(j_,"__esModule",{value:!0});var V$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),U$=vm,B$=z$(U$);function z$(t){return t&&t.__esModule?t:{default:t}}function F$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function q$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kE=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,a,i){return r+a*(3-i%2*2)},0);return Math.ceil(n/10)*10-n},H$=function(t){q$(e,t);function e(n,r){return F$(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=kE(n)),$$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return V$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===kE(this.data)}}]),e}(B$.default);j_.default=H$;Object.defineProperty(Lo,"__esModule",{value:!0});Lo.ITF14=Lo.ITF=void 0;var G$=vm,Y$=vI(G$),W$=j_,K$=vI(W$);function vI(t){return t&&t.__esModule?t:{default:t}}Lo.ITF=Y$.default;Lo.ITF14=K$.default;var jn={},xs={};Object.defineProperty(xs,"__esModule",{value:!0});var Q$=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),X$=Gt,J$=Z$(X$);function Z$(t){return t&&t.__esModule?t:{default:t}}function eq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rq=function(t){nq(e,t);function e(n,r){return eq(this,e),tq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return Q$(e,[{key:"encode",value:function(){for(var r="110",a=0;a<this.data.length;a++){var i=parseInt(this.data[a]),s=i.toString(2);s=aq(s,4-s.length);for(var o=0;o<s.length;o++)r+=s[o]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(J$.default);function aq(t,e){for(var n=0;n<e;n++)t="0"+t;return t}xs.default=rq;var k_={},ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.mod10=iq;ws.mod11=sq;function iq(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function sq(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var a=parseInt(t[t.length-1-r]);e+=n[r%n.length]*a}return(11-e%11)%11}Object.defineProperty(k_,"__esModule",{value:!0});var oq=xs,lq=uq(oq),cq=ws;function uq(t){return t&&t.__esModule?t:{default:t}}function hq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var mq=function(t){fq(e,t);function e(n,r){return hq(this,e),dq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,cq.mod10)(n),r))}return e}(lq.default);k_.default=mq;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});var pq=xs,gq=vq(pq),yq=ws;function vq(t){return t&&t.__esModule?t:{default:t}}function _q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function xq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var wq=function(t){xq(e,t);function e(n,r){return _q(this,e),bq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,yq.mod11)(n),r))}return e}(gq.default);M_.default=wq;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});var Eq=xs,Tq=Sq(Eq),ME=ws;function Sq(t){return t&&t.__esModule?t:{default:t}}function Nq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Aq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rq=function(t){Cq(e,t);function e(n,r){return Nq(this,e),n+=(0,ME.mod10)(n),n+=(0,ME.mod10)(n),Aq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Tq.default);P_.default=Rq;var L_={};Object.defineProperty(L_,"__esModule",{value:!0});var Iq=xs,Dq=Oq(Iq),PE=ws;function Oq(t){return t&&t.__esModule?t:{default:t}}function jq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pq=function(t){Mq(e,t);function e(n,r){return jq(this,e),n+=(0,PE.mod11)(n),n+=(0,PE.mod10)(n),kq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Dq.default);L_.default=Pq;Object.defineProperty(jn,"__esModule",{value:!0});jn.MSI1110=jn.MSI1010=jn.MSI11=jn.MSI10=jn.MSI=void 0;var Lq=xs,Vq=Ru(Lq),Uq=k_,Bq=Ru(Uq),zq=M_,Fq=Ru(zq),$q=P_,qq=Ru($q),Hq=L_,Gq=Ru(Hq);function Ru(t){return t&&t.__esModule?t:{default:t}}jn.MSI=Vq.default;jn.MSI10=Bq.default;jn.MSI11=Fq.default;jn.MSI1010=qq.default;jn.MSI1110=Gq.default;var _m={};Object.defineProperty(_m,"__esModule",{value:!0});_m.pharmacode=void 0;var Yq=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Wq=Gt,Kq=Qq(Wq);function Qq(t){return t&&t.__esModule?t:{default:t}}function Xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eH=function(t){Zq(e,t);function e(n,r){Xq(this,e);var a=Jq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return a.number=parseInt(n,10),a}return Yq(e,[{key:"encode",value:function(){for(var r=this.number,a="";!isNaN(r)&&r!=0;)r%2===0?(a="11100"+a,r=(r-2)/2):(a="100"+a,r=(r-1)/2);return a=a.slice(0,-2),{data:a,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(Kq.default);_m.pharmacode=eH;var bm={};Object.defineProperty(bm,"__esModule",{value:!0});bm.codabar=void 0;var tH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),nH=Gt,rH=aH(nH);function aH(t){return t&&t.__esModule?t:{default:t}}function iH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function oH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var lH=function(t){oH(e,t);function e(n,r){iH(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var a=sH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return tH(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],a=this.getEncodings(),i=0;i<this.data.length;i++)r.push(a[this.data.charAt(i)]),i!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(rH.default);bm.codabar=lH;var Vo={},xm={},Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});Iu.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Iu.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Iu.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(xm,"__esModule",{value:!0});var cH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Eh=Iu,uH=Gt,hH=dH(uH);function dH(t){return t&&t.__esModule?t:{default:t}}function fH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gH=function(t){pH(e,t);function e(n,r){return fH(this,e),mH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return cH(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(o){return Eh.MULTI_SYMBOLS[o]||o}),a=r.map(function(o){return e.getEncoding(o)}).join(""),i=e.checksum(r,20),s=e.checksum(r.concat(i),15);return{text:this.text,data:e.getEncoding("")+a+e.getEncoding(i)+e.getEncoding(s)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return Eh.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return Eh.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return Eh.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,a){var i=r.slice().reverse().reduce(function(s,o,u){var h=u%a+1;return s+e.symbolValue(o)*h},0);return e.getSymbol(i%47)}}]),e}(hH.default);xm.default=gH;var V_={};Object.defineProperty(V_,"__esModule",{value:!0});var yH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),vH=xm,_H=bH(vH);function bH(t){return t&&t.__esModule?t:{default:t}}function xH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function EH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TH=function(t){EH(e,t);function e(n,r){return xH(this,e),wH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return yH(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(_H.default);V_.default=TH;Object.defineProperty(Vo,"__esModule",{value:!0});Vo.CODE93FullASCII=Vo.CODE93=void 0;var SH=xm,NH=_I(SH),AH=V_,CH=_I(AH);function _I(t){return t&&t.__esModule?t:{default:t}}Vo.CODE93=NH.default;Vo.CODE93FullASCII=CH.default;var wm={};Object.defineProperty(wm,"__esModule",{value:!0});wm.GenericBarcode=void 0;var RH=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),IH=Gt,DH=OH(IH);function OH(t){return t&&t.__esModule?t:{default:t}}function jH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function MH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var PH=function(t){MH(e,t);function e(n,r){return jH(this,e),kH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return RH(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(DH.default);wm.GenericBarcode=PH;Object.defineProperty(x_,"__esModule",{value:!0});var LH=pm,Th=hr,ks=Jt,LE=Lo,Hl=jn,VH=_m,UH=bm,VE=Vo,BH=wm;x_.default={CODE39:LH.CODE39,CODE128:Th.CODE128,CODE128A:Th.CODE128A,CODE128B:Th.CODE128B,CODE128C:Th.CODE128C,EAN13:ks.EAN13,EAN8:ks.EAN8,EAN5:ks.EAN5,EAN2:ks.EAN2,UPC:ks.UPC,UPCE:ks.UPCE,ITF14:LE.ITF14,ITF:LE.ITF,MSI:Hl.MSI,MSI10:Hl.MSI10,MSI11:Hl.MSI11,MSI1010:Hl.MSI1010,MSI1110:Hl.MSI1110,pharmacode:VH.pharmacode,codabar:UH.codabar,CODE93:VE.CODE93,CODE93FullASCII:VE.CODE93FullASCII,GenericBarcode:BH.GenericBarcode};var ll={};Object.defineProperty(ll,"__esModule",{value:!0});var zH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};ll.default=function(t,e){return zH({},t,e)};var U_={};Object.defineProperty(U_,"__esModule",{value:!0});U_.default=FH;function FH(t){var e=[];function n(r){if(Array.isArray(r))for(var a=0;a<r.length;a++)n(r[a]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var B_={};Object.defineProperty(B_,"__esModule",{value:!0});B_.default=$H;function $H(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var z_={},F_={},Em={};Object.defineProperty(Em,"__esModule",{value:!0});Em.default=qH;function qH(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var Tm={};Object.defineProperty(Tm,"__esModule",{value:!0});var HH={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};Tm.default=HH;Object.defineProperty(F_,"__esModule",{value:!0});var GH=Em,YH=bI(GH),WH=Tm,UE=bI(WH);function bI(t){return t&&t.__esModule?t:{default:t}}function KH(t){var e={};for(var n in UE.default)UE.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,YH.default)(e),e}F_.default=KH;var $_={},q_={},dn={};Object.defineProperty(dn,"__esModule",{value:!0});dn.getTotalWidthOfEncodings=dn.calculateEncodingAttributes=dn.getBarcodePadding=dn.getEncodingHeight=dn.getMaximumHeightOfEncodings=void 0;var QH=ll,XH=JH(QH);function JH(t){return t&&t.__esModule?t:{default:t}}function xI(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function wI(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function ZH(t,e,n){for(var r=0;r<t.length;r++){var a=t[r],i=(0,XH.default)(e,a.options),s;i.displayValue?s=nG(a.text,i,n):s=0;var o=a.data.length*i.width;a.width=Math.ceil(Math.max(s,o)),a.height=xI(a,i),a.barcodePadding=wI(s,o,i)}}function eG(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function tG(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function nG(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var a=r.measureText(t);if(!a)return 0;var i=a.width;return i}dn.getMaximumHeightOfEncodings=tG;dn.getEncodingHeight=xI;dn.getBarcodePadding=wI;dn.calculateEncodingAttributes=ZH;dn.getTotalWidthOfEncodings=eG;Object.defineProperty(q_,"__esModule",{value:!0});var rG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),aG=ll,iG=sG(aG),Kp=dn;function sG(t){return t&&t.__esModule?t:{default:t}}function oG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var lG=function(){function t(e,n,r){oG(this,t),this.canvas=e,this.encodings=n,this.options=r}return rG(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,iG.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,Kp.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,Kp.getTotalWidthOfEncodings)(this.encodings),a=(0,Kp.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=a,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var a=this.canvas.getContext("2d"),i=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,a.fillStyle=n.lineColor;for(var o=0;o<i.length;o++){var u=o*n.width+r.barcodePadding;i[o]==="1"?a.fillRect(u,s,n.width,n.height):i[o]&&a.fillRect(u,s,n.width,n.height*i[o])}}},{key:"drawCanvasText",value:function(n,r){var a=this.canvas.getContext("2d"),i=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,o;n.textPosition=="top"?o=n.marginTop+n.fontSize-n.textMargin:o=n.height+n.textMargin+n.marginTop+n.fontSize,a.font=i,n.textAlign=="left"||r.barcodePadding>0?(s=0,a.textAlign="left"):n.textAlign=="right"?(s=r.width-1,a.textAlign="right"):(s=r.width/2,a.textAlign="center"),a.fillText(r.text,s,o)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();q_.default=lG;var H_={};Object.defineProperty(H_,"__esModule",{value:!0});var cG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),uG=ll,hG=dG(uG),Qp=dn;function dG(t){return t&&t.__esModule?t:{default:t}}function fG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Sh="http://www.w3.org/2000/svg",mG=function(){function t(e,n,r){fG(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return cG(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var a=this.encodings[r],i=(0,hG.default)(this.options,a.options),s=this.createGroup(n,i.marginTop,this.svg);this.setGroupOptions(s,i),this.drawSvgBarcode(s,i,a),this.drawSVGText(s,i,a),n+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Qp.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Qp.getTotalWidthOfEncodings)(this.encodings),r=(0,Qp.getMaximumHeightOfEncodings)(this.encodings),a=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,r),this.options.background&&this.drawRect(0,0,a,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,a){var i=a.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var o=0,u=0,h=0;h<i.length;h++)u=h*r.width+a.barcodePadding,i[h]==="1"?o++:o>0&&(this.drawRect(u-r.width*o,s,r.width*o,r.height,n),o=0);o>0&&this.drawRect(u-r.width*(o-1),s,r.width*o,r.height,n)}},{key:"drawSVGText",value:function(n,r,a){var i=this.document.createElementNS(Sh,"text");if(r.displayValue){var s,o;i.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?o=r.fontSize-r.textMargin:o=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||a.barcodePadding>0?(s=0,i.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=a.width-1,i.setAttribute("text-anchor","end")):(s=a.width/2,i.setAttribute("text-anchor","middle")),i.setAttribute("x",s),i.setAttribute("y",o),i.appendChild(this.document.createTextNode(a.text)),n.appendChild(i)}}},{key:"setSvgAttributes",value:function(n,r){var a=this.svg;a.setAttribute("width",n+"px"),a.setAttribute("height",r+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+n+" "+r),a.setAttribute("xmlns",Sh),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,a){var i=this.document.createElementNS(Sh,"g");return i.setAttribute("transform","translate("+n+", "+r+")"),a.appendChild(i),i}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,a,i,s){var o=this.document.createElementNS(Sh,"rect");return o.setAttribute("x",n),o.setAttribute("y",r),o.setAttribute("width",a),o.setAttribute("height",i),s.appendChild(o),o}}]),t}();H_.default=mG;var G_={};Object.defineProperty(G_,"__esModule",{value:!0});var pG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function gG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var yG=function(){function t(e,n,r){gG(this,t),this.object=e,this.encodings=n,this.options=r}return pG(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();G_.default=yG;Object.defineProperty($_,"__esModule",{value:!0});var vG=q_,_G=Y_(vG),bG=H_,xG=Y_(bG),wG=G_,EG=Y_(wG);function Y_(t){return t&&t.__esModule?t:{default:t}}$_.default={CanvasRenderer:_G.default,SVGRenderer:xG.default,ObjectRenderer:EG.default};var cl={};Object.defineProperty(cl,"__esModule",{value:!0});function W_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Q_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var TG=function(t){Q_(e,t);function e(n,r){W_(this,e);var a=K_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return a.name="InvalidInputException",a.symbology=n,a.input=r,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return e}(Error),SG=function(t){Q_(e,t);function e(){W_(this,e);var n=K_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),NG=function(t){Q_(e,t);function e(){W_(this,e);var n=K_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);cl.InvalidInputException=TG;cl.InvalidElementException=SG;cl.NoElementException=NG;Object.defineProperty(z_,"__esModule",{value:!0});var AG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CG=F_,Fy=EI(CG),RG=$_,ac=EI(RG),IG=cl;function EI(t){return t&&t.__esModule?t:{default:t}}function X_(t){if(typeof t=="string")return DG(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(X_(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return OG(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,Fy.default)(t),renderer:ac.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,Fy.default)(t),renderer:ac.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:ac.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":AG(t))==="object"&&!t.nodeName)return{element:t,renderer:ac.default.ObjectRenderer};throw new IG.InvalidElementException}}function DG(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(X_(e[r]));return n}}function OG(t){var e=document.createElement("canvas");return{element:e,options:(0,Fy.default)(t),renderer:ac.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}z_.default=X_;var J_={};Object.defineProperty(J_,"__esModule",{value:!0});var jG=function(){function t(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function kG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var MG=function(){function t(e){kG(this,t),this.api=e}return jG(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(a){return this.handleCatch(a),this.api}}}]),t}();J_.default=MG;var PG=x_,Wi=vi(PG),LG=ll,Du=vi(LG),VG=U_,TI=vi(VG),UG=B_,BE=vi(UG),BG=z_,zG=vi(BG),FG=Em,$G=vi(FG),qG=J_,HG=vi(qG),SI=cl,GG=Tm,NI=vi(GG);function vi(t){return t&&t.__esModule?t:{default:t}}var Hr=function(){},Sm=function(e,n,r){var a=new Hr;if(typeof e>"u")throw Error("No element to render on was provided.");return a._renderProperties=(0,zG.default)(e),a._encodings=[],a._options=NI.default,a._errorHandler=new HG.default(a),typeof n<"u"&&(r=r||{},r.format||(r.format=CI()),a.options(r)[r.format](n,r).render()),a};Sm.getModule=function(t){return Wi.default[t]};for(var zE in Wi.default)Wi.default.hasOwnProperty(zE)&&YG(Wi.default,zE);function YG(t,e){Hr.prototype[e]=Hr.prototype[e.toUpperCase()]=Hr.prototype[e.toLowerCase()]=function(n,r){var a=this;return a._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var i=(0,Du.default)(a._options,r);i=(0,$G.default)(i);var s=t[e],o=AI(n,s,i);return a._encodings.push(o),a})}}function AI(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new SI.InvalidInputException(r.constructor.name,t);var a=r.encode();a=(0,TI.default)(a);for(var i=0;i<a.length;i++)a[i].options=(0,Du.default)(n,a[i].options);return a}function CI(){return Wi.default.CODE128?"CODE128":Object.keys(Wi.default)[0]}Hr.prototype.options=function(t){return this._options=(0,Du.default)(this._options,t),this};Hr.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Hr.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Du.default)(this._options,t.options);n.format=="auto"&&(n.format=CI()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,a=Wi.default[n.format.toUpperCase()],i=AI(r,a,n);$y(t,i,n)})}}};Hr.prototype.render=function(){if(!this._renderProperties)throw new SI.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)$y(this._renderProperties[t],this._encodings,this._options);else $y(this._renderProperties,this._encodings,this._options);return this};Hr.prototype._defaults=NI.default;function $y(t,e,n){e=(0,TI.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Du.default)(n,e[r].options),(0,BE.default)(e[r].options);(0,BE.default)(n);var a=t.renderer,i=new a(t.element,e,n);i.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=Sm);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),Sm(n,t,e)});var WG=Sm;function ed(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ed=function(n){return typeof n}:ed=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ed(t)}var Fs=Z_(R),KG=Z_(WG),Ye=Z_(tI);function Z_(t){return t&&t.__esModule?t:{default:t}}function QG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function JG(t,e,n){return e&&XG(t.prototype,e),t}function ZG(t,e){return e&&(ed(e)==="object"||typeof e=="function")?e:RI(t)}function qy(t){return qy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},qy(t)}function RI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hy(t,e)}function Hy(t,e){return Hy=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Hy(t,e)}var Gy,Xp=Fs.default.version.split(/[.-]/);Xp[0]==="0"&&(Xp[1]==="13"||Xp[1]==="12")?Gy=function(e){return e.getDOMNode()}:Gy=function(e){return e};var e1=function(t){eY(e,t);function e(n){var r;return QG(this,e),r=ZG(this,qy(e).call(this,n)),r.renderElementRef=Fs.default.createRef(),r.update=r.update.bind(RI(r)),r}return JG(e,[{key:"shouldComponentUpdate",value:function(r){var a=this;return Object.keys(e.propTypes).some(function(i){return a.props[i]!==r[i]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=Gy(this.renderElementRef.current);try{new KG.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(a){window.console.error(a)}}},{key:"render",value:function(){var r=this.props,a=r.id,i=r.className;if(this.props.renderer==="svg")return Fs.default.createElement("svg",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="canvas")return Fs.default.createElement("canvas",{ref:this.renderElementRef,id:a,className:i});if(this.props.renderer==="img")return Fs.default.createElement("img",{ref:this.renderElementRef,id:a,className:i})}}]),e}(Fs.default.Component);e1.propTypes={value:Ye.default.string.isRequired,text:Ye.default.string,renderer:Ye.default.string,format:Ye.default.string,width:Ye.default.number,height:Ye.default.number,displayValue:Ye.default.bool,fontOptions:Ye.default.string,font:Ye.default.string,textAlign:Ye.default.string,textPosition:Ye.default.string,textMargin:Ye.default.number,fontSize:Ye.default.number,background:Ye.default.string,lineColor:Ye.default.string,margin:Ye.default.number,marginTop:Ye.default.number,marginBottom:Ye.default.number,marginLeft:Ye.default.number,marginRight:Ye.default.number,id:Ye.default.string,className:Ye.default.string,ean128:Ye.default.bool};e1.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var tY=e1;const nY=af(tY),rY=({onClose:t})=>{const[e,n]=R.useState({recipientName:"",senderName:"",amount:"",message:"",expiryDate:""}),[r,a]=R.useState(!1),[i,s]=R.useState(!1),[o,u]=R.useState(""),h=(p,v)=>{n(x=>({...x,[p]:v}))},d=()=>{const p="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let v="GC";for(let x=0;x<10;x++)v+=p.charAt(Math.floor(Math.random()*p.length));return v},m=async p=>{if(p.preventDefault(),!e.recipientName||!e.senderName||!e.amount||!e.expiryDate){alert("Please fill in all required fields");return}a(!0);try{const v=d(),x={recipientName:e.recipientName,senderName:e.senderName,amount:parseFloat(e.amount),message:e.message||"Wishing you wonderful adventures!",expiryDate:_e.fromDate(new Date(e.expiryDate)),createdAt:_e.now(),redeemed:!1,barcodeId:v};await im(gi(Bt,"giftCards"),x),u(v),s(!0),setTimeout(()=>{t()},3e3)}catch(v){console.error("Error creating gift card:",v),alert("Failed to create gift card. Please try again."),a(!1)}};return i?l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 text-center",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Yn,{className:"w-8 h-8 text-green-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gift Card Created!"}),l.jsx("p",{className:"text-gray-600",children:"Your gift card has been generated successfully"})]}),l.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-4",children:l.jsx(nY,{value:o,width:2,height:80,fontSize:14,background:"#F9FAFB"})}),l.jsx("p",{className:"text-sm text-gray-500",children:"Closing in a moment..."})]})}):l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Yn,{className:"w-6 h-6",style:{color:L.primary.teal}}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Gift Card"})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(Qo,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:m,className:"p-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Ro,{className:"w-4 h-4"}),"Recipient Name *"]}),l.jsx("input",{type:"text",value:e.recipientName,onChange:p=>h("recipientName",p.target.value),placeholder:"Who is this gift card for?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Ro,{className:"w-4 h-4"}),"Your Name (Sender) *"]}),l.jsx("input",{type:"text",value:e.senderName,onChange:p=>h("senderName",p.target.value),placeholder:"Your name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Cf,{className:"w-4 h-4"}),"Gift Card Amount *"]}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),l.jsx("input",{type:"number",min:"1",step:"0.01",value:e.amount,onChange:p=>h("amount",p.target.value),placeholder:"100.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(yN,{className:"w-4 h-4"}),"Personal Message (Optional)"]}),l.jsx("textarea",{value:e.message,onChange:p=>h("message",p.target.value),placeholder:"Write a personalized message for the recipient...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[l.jsx(Li,{className:"w-4 h-4"}),"Expiry Date *"]}),l.jsx("input",{type:"date",value:e.expiryDate,onChange:p=>h("expiryDate",p.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," A unique barcode will be generated for this gift card. The recipient will receive a shareable link with a beautiful reveal animation."]})})]}),l.jsxs("div",{className:"flex gap-3 mt-8",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:r,style:{backgroundColor:L.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:r?l.jsxs(l.Fragment,{children:[l.jsx(iM,{className:"w-5 h-5 animate-spin"}),l.jsx("span",{children:"Creating..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Yn,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Gift Card"})]})})]})]})]})})},aY=()=>{const[t,e]=R.useState([]),[n,r]=R.useState(!1),[a,i]=R.useState(!0),[s,o]=R.useState(null),[u,h]=R.useState(null),[d,m]=R.useState("all");R.useEffect(()=>{const y=Jv(gi(Bt,"giftCards"),ZV("createdAt","desc")),_=zC(y,w=>{const D=w.docs.map(V=>({id:V.id,...V.data()}));e(D),i(!1)});return()=>_()},[]);const p=y=>{const _=`${window.location.origin}/PlanYourTripNow/gift/${y}`;navigator.clipboard.writeText(_),o(y),setTimeout(()=>o(null),2e3)},v=async y=>{if(confirm("Are you sure you want to delete this gift card? This action cannot be undone.")){h(y);try{await r_(ta(Bt,"giftCards",y))}catch(_){console.error("Error deleting gift card:",_),alert("Failed to delete gift card. Please try again.")}finally{h(null)}}},N=(()=>{const y=new Date;return d==="all"?t:t.filter(_=>{var D,V;const w=((V=(D=_.expiryDate)==null?void 0:D.toDate)==null?void 0:V.call(D))||new Date(_.expiryDate);return d==="redeemed"?_.redeemed:d==="expired"?!_.redeemed&&w<y:d==="active"?!_.redeemed&&w>=y:!0})})(),A=y=>{var D,V;return y.redeemed?{bg:"#D1FAE5",text:"#065F46",label:"Redeemed"}:(((V=(D=y.expiryDate)==null?void 0:D.toDate)==null?void 0:V.call(D))||new Date(y.expiryDate))<new Date?{bg:"#FEE2E2",text:"#991B1B",label:"Expired"}:{bg:"#DBEAFE",text:"#1E40AF",label:"Active"}};return l.jsxs("div",{className:"min-h-screen bg-gray-100",children:[l.jsx(fm,{}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[l.jsx(Yn,{className:"w-8 h-8",style:{color:L.primary.teal}}),"Gift Cards"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage gift cards for your trips"})]}),l.jsxs("button",{onClick:()=>r(!0),style:{backgroundColor:L.primary.teal},className:"flex items-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity shadow-lg",children:[l.jsx(_N,{className:"w-5 h-5"}),l.jsx("span",{children:"Create Gift Card"})]})]}),l.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","active","redeemed","expired"].map(y=>l.jsx("button",{onClick:()=>m(y),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${d===y?"text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,style:d===y?{backgroundColor:L.primary.teal}:{},children:y.charAt(0).toUpperCase()+y.slice(1)},y))}),a?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"text-gray-500",children:"Loading gift cards..."})}):N.length===0?l.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[l.jsx(Yn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),l.jsx("p",{className:"text-gray-500 text-lg mb-4",children:d==="all"?"No gift cards created yet":`No ${d} gift cards found`}),l.jsx("button",{onClick:()=>r(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Create your first gift card"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(y=>{var w,D;const _=A(y);return l.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-2",style:{borderColor:L.primary.teal},children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-1",children:y.recipientName}),l.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:_.bg,color:_.text},children:_.label})]}),l.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:y.message}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Cf,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:[l.jsxs("span",{className:"font-semibold",children:["$",y.amount]})," value"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Li,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:["Expires: ",((D=(w=y.expiryDate)==null?void 0:w.toDate)==null?void 0:D.call(w).toLocaleDateString())||new Date(y.expiryDate).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Ro,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"text-gray-700",children:["From: ",y.senderName]})]})]}),y.redeemed&&l.jsx("div",{className:"mb-4 p-2 bg-green-50 rounded-lg",children:l.jsxs("p",{className:"text-xs text-green-700",children:["Redeemed on ",new Date(y.redeemedAt).toLocaleDateString()]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>p(y.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:s===y.id?L.success:L.primary.teal},children:s===y.id?l.jsxs(l.Fragment,{children:[l.jsx(Af,{className:"w-4 h-4"}),l.jsx("span",{children:"Copied!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(tv,{className:"w-4 h-4"}),l.jsx("span",{children:"Share"})]})}),l.jsxs("a",{href:`/PlanYourTripNow/gift/${y.id}`,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:L.primary.black},className:"flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:[l.jsx(X4,{className:"w-4 h-4"}),l.jsx("span",{children:"View"})]}),l.jsx("button",{onClick:()=>v(y.id),disabled:u===y.id,style:{backgroundColor:L.button.danger},className:"flex items-center justify-center px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(Rf,{className:"w-4 h-4"})})]})]},y.id)})})]}),n&&l.jsx(rY,{onClose:()=>r(!1)})]})},iY=()=>{var _,w;const{giftCardId:t}=nN(),[e,n]=R.useState(null),[r,a]=R.useState(!0),[i,s]=R.useState(null),[o,u]=R.useState(!1),[h,d]=R.useState(!1),[m,p]=R.useState("en"),x={en:{loadingGift:"Loading your gift...",oops:"Oops!",youGotGift:"You've Got a Gift!",clickToReveal:"Click the gift box to reveal your surprise",congratulations:"Congratulations!",receivedGiftCard:"You've received a gift card",dear:"Dear",from:"From",expires:"Expires",giftCardCode:"Gift Card Code",presentCode:"Present this code when booking your trip",expired:"This gift card has expired",revealed:"Gift card revealed! Contact us to redeem.",readyToUse:"Ready to use! Contact us to book your amazing trip.",contactInfo:"Contact: 647-302-6849 or visit www.ivritours.com"},ru:{loadingGift:"  ...",oops:"!",youGotGift:"   !",clickToReveal:"   ,   ",congratulations:"!",receivedGiftCard:"   ",dear:"",from:"",expires:" ",giftCardCode:"  ",presentCode:"      ",expired:"     ",revealed:"  !   ,  .",readyToUse:"  !   ,     .",contactInfo:": 647-302-6849   www.ivritours.com"}}[m];R.useEffect(()=>{(async()=>{try{const V=ta(Bt,"giftCards",t),q=await UC(V);q.exists()?n({id:q.id,...q.data()}):s("Gift card not found")}catch(V){console.error("Error fetching gift card:",V),s("Failed to load gift card")}finally{a(!1)}})()},[t]);const N=async()=>{if(u(!0),d(!0),e&&!e.redeemed)try{const D=ta(Bt,"giftCards",t);await n_(D,{redeemed:!0,redeemedAt:_e.now()}),n(V=>({...V,redeemed:!0,redeemedAt:new Date}))}catch(D){console.error("Error marking gift card as redeemed:",D)}setTimeout(()=>d(!1),5e3)};if(r)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Yn,{className:"w-16 h-16 mx-auto mb-4 text-purple-600 animate-pulse"}),l.jsx("p",{className:"text-xl text-gray-700",children:x.loadingGift})]})});if(i)return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Yn,{className:"w-10 h-10 text-red-600"})}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:x.oops}),l.jsx("p",{className:"text-gray-600",children:i})]})});const A=((w=(_=e.expiryDate)==null?void 0:_.toDate)==null?void 0:w.call(_))||new Date(e.expiryDate),y=A<new Date;return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-4 right-4 z-50",children:l.jsxs("button",{onClick:()=>p(m==="en"?"ru":"en"),className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-lg hover:shadow-xl transition-all",style:{color:L.primary.teal},children:[l.jsx(pN,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:m==="en"?"RU":"EN"})]})}),h&&l.jsx("div",{className:"confetti-container",children:[...Array(50)].map((D,V)=>l.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*5)]}},V))}),o?l.jsx("div",{className:"gift-card-reveal max-w-2xl w-full",children:l.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"p-8 text-white text-center relative overflow-hidden",style:{backgroundColor:L.primary.teal},children:[l.jsx("div",{className:"absolute inset-0 opacity-10",children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent"})}),l.jsxs("div",{className:"relative z-10",children:[l.jsx(pM,{className:"w-16 h-16 mx-auto mb-4"}),l.jsx("h1",{className:"text-4xl font-bold mb-2",children:x.congratulations}),l.jsx("p",{className:"text-xl opacity-90",children:x.receivedGiftCard})]})]}),l.jsxs("div",{className:"p-8",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("p",{className:"text-gray-600 mb-2",children:x.dear}),l.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:e.recipientName}),l.jsxs("div",{className:"inline-block px-8 py-4 rounded-2xl text-white mb-6",style:{backgroundColor:L.primary.teal},children:[l.jsx(Cf,{className:"w-8 h-8 inline-block mb-1"}),l.jsx("span",{className:"text-5xl font-bold",children:e.amount})]})]}),e.message&&l.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-8",children:[l.jsxs("p",{className:"text-gray-700 text-lg italic text-center leading-relaxed",children:['"',e.message,'"']}),l.jsxs("p",{className:"text-gray-600 text-right mt-4",children:["- ",e.senderName]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[l.jsx(Ro,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:x.from}),l.jsx("p",{className:"font-semibold text-gray-900",children:e.senderName})]})]}),l.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[l.jsx(Li,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500",children:x.expires}),l.jsx("p",{className:"font-semibold text-gray-900",children:A.toLocaleDateString()})]})]})]}),l.jsx("div",{className:"bg-white border-4 rounded-2xl p-4 mb-6",style:{borderColor:L.primary.teal},children:l.jsx("img",{src:"https://i.imgur.com/sKV03aE.jpg",alt:"IVRI Tours - Best Tours in Canada",className:"w-full rounded-lg shadow-lg"})}),l.jsxs("div",{className:"bg-gradient-to-r from-teal-50 to-cyan-50 border-2 rounded-2xl p-6 text-center",style:{borderColor:L.primary.teal},children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:x.giftCardCode}),l.jsx("p",{className:"text-3xl font-bold tracking-wider mb-3",style:{color:L.primary.teal},children:e.barcodeId}),l.jsx("p",{className:"text-xs text-gray-600",children:x.presentCode})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-sm font-medium text-gray-700",children:x.contactInfo})}),y&&l.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-red-700 font-medium",children:x.expired})}),e.redeemed&&!y&&l.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-green-700 font-medium",children:x.revealed})}),!y&&!e.redeemed&&l.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:l.jsx("p",{className:"text-blue-700 font-medium",children:x.readyToUse})})]})]})}):l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"gift-box-container mb-8",onClick:N,children:l.jsxs("div",{className:"gift-box",children:[l.jsx("div",{className:"gift-box-lid",children:l.jsx("div",{className:"gift-ribbon-horizontal"})}),l.jsx("div",{className:"gift-box-body",children:l.jsx("div",{className:"gift-ribbon-vertical"})})]})}),l.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[l.jsx(vx,{className:"w-8 h-8 text-yellow-500"}),x.youGotGift,l.jsx(vx,{className:"w-8 h-8 text-yellow-500"})]}),l.jsx("p",{className:"text-xl text-gray-700 mb-8",children:x.clickToReveal}),l.jsx("div",{className:"animate-bounce",children:l.jsx(Yn,{className:"w-12 h-12 mx-auto text-purple-600"})})]})]})},sY=()=>{const t=hs(),[e,n]=R.useState("en"),[r,a]=R.useState(1),[i,s]=R.useState(!1),[o,u]=R.useState({amount:"100",recipientName:"",recipientEmail:"",senderName:"",senderEmail:"",message:"",paymentMethod:"credit-card"}),d={en:{title:"Purchase Gift Card",subtitle:"Give the gift of amazing travel experiences",step1:"Gift Details",step2:"Payment",amount:"Gift Card Amount",recipientName:"Recipient's Name",recipientEmail:"Recipient's Email",senderName:"Your Name",senderEmail:"Your Email",message:"Personal Message (Optional)",messagePlaceholder:"Write a personal message for the recipient...",paymentMethod:"Payment Method",creditCard:"Credit / Debit Card",paypal:"PayPal",back:"Back",continue:"Continue",purchaseNow:"Purchase Gift Card",processing:"Processing...",customAmount:"Custom Amount",presetAmounts:"Preset Amounts",cardDetails:"Card Details",cardNumber:"Card Number",expiryDate:"Expiry Date",cvv:"CVV",billingAddress:"Billing Address",fullName:"Full Name on Card",country:"Country",zipCode:"ZIP / Postal Code",paypalInfo:"You will be redirected to PayPal to complete your purchase",securePayment:"Secure Payment Processing",terms:"By purchasing, you agree to our terms and conditions"},ru:{title:"  ",subtitle:"  ",step1:" ",step2:"",amount:"  ",recipientName:" ",recipientEmail:"Email ",senderName:" ",senderEmail:" Email",message:"  ()",messagePlaceholder:"    ...",paymentMethod:" ",creditCard:" /  ",paypal:"PayPal",back:"",continue:"",purchaseNow:"  ",processing:"...",customAmount:" ",presetAmounts:" ",cardDetails:" ",cardNumber:" ",expiryDate:" ",cvv:"CVV",billingAddress:" ",fullName:"   ",country:"",zipCode:" ",paypalInfo:"    PayPal   ",securePayment:"  ",terms:" ,     "}}[e],m=[50,100,150,200,300,500],p=x=>{x.preventDefault(),a(2)},v=async x=>{x.preventDefault(),s(!0);try{const N=`IVRI${Date.now()}${Math.random().toString(36).substr(2,9).toUpperCase()}`,A=new Date;A.setFullYear(A.getFullYear()+1);const y={amount:parseFloat(o.amount),recipientName:o.recipientName,recipientEmail:o.recipientEmail,senderName:o.senderName,senderEmail:o.senderEmail,message:o.message,barcodeId:N,expiryDate:_e.fromDate(A),redeemed:!1,createdAt:_e.now(),paymentMethod:o.paymentMethod},_=await im(gi(Bt,"giftCards"),y);alert(`Gift card created! Link: ${window.location.origin}/PlanYourTripNow/gift/${_.id}

In production, this would be emailed to the recipient.`),t(`/gift/${_.id}`)}catch(N){console.error("Error creating gift card:",N),alert("Failed to create gift card. Please try again.")}finally{s(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100",children:[l.jsx(fm,{showBackButton:!1,showLogout:!1}),l.jsx("div",{className:"absolute top-4 right-4 z-50",children:l.jsxs("button",{onClick:()=>n(e==="en"?"ru":"en"),className:"flex items-center gap-2 px-4 py-2 bg-white rounded-lg shadow-lg hover:shadow-xl transition-all",style:{color:L.primary.teal},children:[l.jsx(pN,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:e==="en"?"RU":"EN"})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"inline-block p-4 bg-white rounded-full shadow-lg mb-4",children:l.jsx(Yn,{className:"w-16 h-16",style:{color:L.primary.teal}})}),l.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:d.title}),l.jsx("p",{className:"text-xl text-gray-600",children:d.subtitle})]}),l.jsx("div",{className:"flex items-center justify-center mb-12",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:`flex items-center gap-2 px-6 py-3 rounded-lg ${r===1?"text-white":"bg-white text-gray-600"}`,style:r===1?{backgroundColor:L.primary.teal}:{},children:[l.jsx("span",{className:"font-bold",children:"1"}),l.jsx("span",{children:d.step1})]}),l.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded"}),l.jsxs("div",{className:`flex items-center gap-2 px-6 py-3 rounded-lg ${r===2?"text-white":"bg-white text-gray-600"}`,style:r===2?{backgroundColor:L.primary.teal}:{},children:[l.jsx("span",{className:"font-bold",children:"2"}),l.jsx("span",{children:d.step2})]})]})}),l.jsx("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:r===1?l.jsxs("form",{onSubmit:p,className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:L.primary.teal},children:d.step1}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:d.amount}),l.jsx("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-3 mb-4",children:m.map(x=>l.jsxs("button",{type:"button",onClick:()=>u({...o,amount:x.toString()}),className:`py-3 px-4 rounded-lg font-semibold transition-all ${o.amount===x.toString()?"text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,style:o.amount===x.toString()?{backgroundColor:L.primary.teal}:{},children:["$",x]},x))}),l.jsxs("div",{className:"relative",children:[l.jsx(Cf,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"number",value:o.amount,onChange:x=>u({...o,amount:x.target.value}),min:"10",className:"w-full pl-12 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:d.customAmount,required:!0})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recipient Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.recipientName}),l.jsxs("div",{className:"relative",children:[l.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:o.recipientName,onChange:x=>u({...o,recipientName:x.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.recipientEmail}),l.jsxs("div",{className:"relative",children:[l.jsx(px,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"email",value:o.recipientEmail,onChange:x=>u({...o,recipientEmail:x.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.senderName}),l.jsxs("div",{className:"relative",children:[l.jsx(Ro,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",value:o.senderName,onChange:x=>u({...o,senderName:x.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.senderEmail}),l.jsxs("div",{className:"relative",children:[l.jsx(px,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"email",value:o.senderEmail,onChange:x=>u({...o,senderEmail:x.target.value}),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.message}),l.jsxs("div",{className:"relative",children:[l.jsx(yN,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),l.jsx("textarea",{value:o.message,onChange:x=>u({...o,message:x.target.value}),rows:4,className:"w-full pl-10 pr-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent resize-none",placeholder:d.messagePlaceholder})]})]}),l.jsx("button",{type:"submit",className:"w-full py-4 text-white rounded-lg font-semibold text-lg hover:opacity-90 transition-opacity",style:{backgroundColor:L.primary.teal},children:d.continue})]}):l.jsxs("form",{onSubmit:v,className:"p-8",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6",style:{color:L.primary.teal},children:d.step2}),l.jsxs("div",{className:"mb-8",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-4",children:d.paymentMethod}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("button",{type:"button",onClick:()=>u({...o,paymentMethod:"credit-card"}),className:`p-6 rounded-xl border-2 transition-all ${o.paymentMethod==="credit-card"?"border-teal-500 bg-teal-50":"border-gray-300 bg-white hover:border-gray-400"}`,children:[l.jsx(nv,{className:"w-8 h-8 mx-auto mb-3",style:{color:L.primary.teal}}),l.jsx("p",{className:"font-semibold text-gray-900",children:d.creditCard})]}),l.jsxs("button",{type:"button",onClick:()=>u({...o,paymentMethod:"paypal"}),className:`p-6 rounded-xl border-2 transition-all ${o.paymentMethod==="paypal"?"border-teal-500 bg-teal-50":"border-gray-300 bg-white hover:border-gray-400"}`,children:[l.jsx("svg",{className:"w-8 h-8 mx-auto mb-3",viewBox:"0 0 24 24",fill:"#00457C",children:l.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944 3.24a.77.77 0 0 1 .758-.64h8.433c2.767 0 4.608.617 5.473 1.833.838 1.182.896 2.844.175 5.083-.841 2.622-2.354 4.327-4.502 5.073-1.015.352-2.27.545-3.735.575l-.813.01c-.672 0-.988.275-1.069.861l-.022.104-.675 4.28-.031.163a.37.37 0 0 1-.363.306zm7.723-10.07c.112-.726.184-1.204.216-1.434.165-1.194-.003-1.988-.495-2.361-.563-.426-1.549-.639-2.931-.639H8.858c-.341 0-.635.24-.692.565l-1.445 9.157h2.079c.672 0 .988-.275 1.069-.861l.022-.104.675-4.28.031-.163a.77.77 0 0 1 .758-.64h.477c1.971 0 3.444-.798 4.417-2.391.445-.728.729-1.545.85-2.449z"})}),l.jsx("p",{className:"font-semibold text-gray-900",children:d.paypal})]})]})]}),o.paymentMethod==="credit-card"?l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Note:"})," This is a demo interface. In production, you would integrate with Stripe, Square, or another payment processor for secure credit card processing."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.cardNumber}),l.jsx("input",{type:"text",placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.expiryDate}),l.jsx("input",{type:"text",placeholder:"MM/YY",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.cvv}),l.jsx("input",{type:"text",placeholder:"123",maxLength:"4",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.fullName}),l.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.country}),l.jsxs("select",{className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[l.jsx("option",{value:"CA",children:"Canada"}),l.jsx("option",{value:"US",children:"United States"}),l.jsx("option",{value:"RU",children:"Russia"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.zipCode}),l.jsx("input",{type:"text",placeholder:"M5V 3A8",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]})]})]}):l.jsxs("div",{className:"bg-gray-50 border-2 border-gray-300 rounded-xl p-8 text-center",children:[l.jsx("svg",{className:"w-16 h-16 mx-auto mb-4",viewBox:"0 0 24 24",fill:"#00457C",children:l.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944 3.24a.77.77 0 0 1 .758-.64h8.433c2.767 0 4.608.617 5.473 1.833.838 1.182.896 2.844.175 5.083-.841 2.622-2.354 4.327-4.502 5.073-1.015.352-2.27.545-3.735.575l-.813.01c-.672 0-.988.275-1.069.861l-.022.104-.675 4.28-.031.163a.37.37 0 0 1-.363.306zm7.723-10.07c.112-.726.184-1.204.216-1.434.165-1.194-.003-1.988-.495-2.361-.563-.426-1.549-.639-2.931-.639H8.858c-.341 0-.635.24-.692.565l-1.445 9.157h2.079c.672 0 .988-.275 1.069-.861l.022-.104.675-4.28.031-.163a.77.77 0 0 1 .758-.64h.477c1.971 0 3.444-.798 4.417-2.391.445-.728.729-1.545.85-2.449z"})}),l.jsx("p",{className:"text-lg text-gray-700",children:d.paypalInfo}),l.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:[l.jsx("strong",{children:"Note:"})," In production, this would integrate with PayPal's API"]})]}),l.jsxs("div",{className:"mt-8 bg-gradient-to-br from-teal-50 to-cyan-50 rounded-xl p-6 border-2",style:{borderColor:L.primary.teal},children:[l.jsx("h3",{className:"font-bold text-lg mb-4",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"Gift Card Amount:"}),l.jsxs("span",{className:"font-semibold",children:["$",o.amount]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"To:"}),l.jsx("span",{className:"font-semibold",children:o.recipientName})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700",children:"From:"}),l.jsx("span",{className:"font-semibold",children:o.senderName})]})]}),l.jsx("div",{className:"border-t-2 border-teal-200 pt-4 mt-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xl font-bold",children:"Total:"}),l.jsxs("span",{className:"text-3xl font-bold",style:{color:L.primary.teal},children:["$",o.amount]})]})})]}),l.jsxs("div",{className:"flex gap-4 mt-8",children:[l.jsx("button",{type:"button",onClick:()=>a(1),className:"flex-1 py-4 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold text-lg hover:bg-gray-50 transition-colors",children:d.back}),l.jsx("button",{type:"submit",disabled:i,className:"flex-1 py-4 text-white rounded-lg font-semibold text-lg hover:opacity-90 transition-opacity disabled:opacity-50",style:{backgroundColor:L.primary.teal},children:i?d.processing:d.purchaseNow})]}),l.jsxs("p",{className:"text-xs text-gray-500 text-center mt-6",children:[d.securePayment,"  ",d.terms]})]})})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oY(t,e,n,r){function a(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function o(d){try{h(r.next(d))}catch(m){s(m)}}function u(d){try{h(r.throw(d))}catch(m){s(m)}}function h(d){d.done?i(d.value):a(d.value).then(o,u)}h((r=r.apply(t,[])).next())})}function lY(t,e){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,a,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(h){return function(d){return u([h,d])}}function u(h){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(i=h[0]&2?a.return:h[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,h[1])).done)return i;switch(a=0,i&&(h=[h[0]&2,i.value]),h[0]){case 0:case 1:i=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,a=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!i||h[1]>i[0]&&h[1]<i[3])){n.label=h[1];break}if(h[0]===6&&n.label<i[1]){n.label=i[1],i=h;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(h);break}i[2]&&n.ops.pop(),n.trys.pop();continue}h=e.call(t,n)}catch(d){h=[6,d],a=0}finally{r=i=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ao=function(){return ao=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ao.apply(this,arguments)},II=function(t){return{loading:t==null,value:t}},cY=function(){return function(t,e){switch(e.type){case"error":return ao(ao({},t),{error:e.error,loading:!1,value:void 0});case"reset":return II(e.defaultValue);case"value":return ao(ao({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},uY=function(t){var e=t?t():void 0,n=R.useReducer(cY(),II(e)),r=n[0],a=n[1],i=R.useCallback(function(){var u=t?t():void 0;a({type:"reset",defaultValue:u})},[t]),s=R.useCallback(function(u){a({type:"error",error:u})},[]),o=R.useCallback(function(u){a({type:"value",value:u})},[]);return R.useMemo(function(){return{error:r.error,loading:r.loading,reset:i,setError:s,setValue:o,value:r.value}},[r.error,r.loading,i,s,o,r.value])},hY=function(t,e){var n=uY(function(){return t.currentUser}),r=n.error,a=n.loading,i=n.setError,s=n.setValue,o=n.value;return R.useEffect(function(){var u=iU(t,function(h){return oY(void 0,void 0,void 0,function(){var d;return lY(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return m.sent(),[3,4];case 3:return d=m.sent(),i(d),[3,4];case 4:return s(h),[2]}})})},i);return function(){u()}},[t]),[o,a,r]};const FE=({children:t})=>{const[e,n]=hY(__);return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:l.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:l.jsx(Bk,{to:"/login"})};function dY(){return l.jsx(w4,{children:l.jsx(d4,{basename:"/PlanYourTripNow",children:l.jsxs(Fk,{children:[l.jsx(ya,{path:"/",element:l.jsx(IM,{})}),l.jsx(ya,{path:"/admin",element:l.jsx(FE,{children:l.jsx(CB,{})})}),l.jsx(ya,{path:"/login",element:l.jsx(WB,{})}),l.jsx(ya,{path:"/register/:tripId",element:l.jsx(YB,{})}),l.jsx(ya,{path:"/gift/:giftCardId",element:l.jsx(iY,{})}),l.jsx(ya,{path:"/gift-card-purchase",element:l.jsx(sY,{})}),l.jsx(ya,{path:"/gift-cards",element:l.jsx(FE,{children:l.jsx(aY,{})})})]})})})}qj.createRoot(document.getElementById("root")).render(l.jsx(R.StrictMode,{children:l.jsx(dY,{})}));
