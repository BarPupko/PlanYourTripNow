(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var LN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _E={exports:{}},ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN=Symbol.for("react.transitional.element"),zN=Symbol.for("react.fragment");function bE(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:UN,type:t,key:r,ref:e!==void 0?e:null,props:n}}ff.Fragment=zN;ff.jsx=bE;ff.jsxs=bE;_E.exports=ff;var f=_E.exports,TE={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag=Symbol.for("react.transitional.element"),BN=Symbol.for("react.portal"),FN=Symbol.for("react.fragment"),qN=Symbol.for("react.strict_mode"),HN=Symbol.for("react.profiler"),GN=Symbol.for("react.consumer"),$N=Symbol.for("react.context"),YN=Symbol.for("react.forward_ref"),KN=Symbol.for("react.suspense"),WN=Symbol.for("react.memo"),EE=Symbol.for("react.lazy"),QN=Symbol.for("react.activity"),I_=Symbol.iterator;function XN(t){return t===null||typeof t!="object"?null:(t=I_&&t[I_]||t["@@iterator"],typeof t=="function"?t:null)}var wE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},SE=Object.assign,xE={};function lo(t,e,n){this.props=t,this.context=e,this.refs=xE,this.updater=n||wE}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function AE(){}AE.prototype=lo.prototype;function Cg(t,e,n){this.props=t,this.context=e,this.refs=xE,this.updater=n||wE}var Ng=Cg.prototype=new AE;Ng.constructor=Cg;SE(Ng,lo.prototype);Ng.isPureReactComponent=!0;var D_=Array.isArray;function jm(){}var Me={H:null,A:null,T:null,S:null},CE=Object.prototype.hasOwnProperty;function Rg(t,e,n){var r=n.ref;return{$$typeof:Ag,type:t,key:e,ref:r!==void 0?r:null,props:n}}function JN(t,e){return Rg(t.type,e,t.props)}function Ig(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ag}function ZN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var O_=/\/+/g;function Nd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZN(""+t.key):e.toString(36)}function eR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(jm,jm):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ls(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Ag:case BN:s=!0;break;case EE:return s=t._init,ls(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+Nd(t,0):r,D_(i)?(n="",s!=null&&(n=s.replace(O_,"$&/")+"/"),ls(i,e,n,"",function(c){return c})):i!=null&&(Ig(i)&&(i=JN(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(O_,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(D_(t))for(var u=0;u<t.length;u++)r=t[u],a=o+Nd(r,u),s+=ls(r,e,n,a,i);else if(u=XN(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,a=o+Nd(r,u++),s+=ls(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return ls(eR(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function ac(t,e,n){if(t==null)return t;var r=[],i=0;return ls(t,r,"","",function(a){return e.call(n,a,i++)}),r}function tR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var k_=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nR={map:ac,forEach:function(t,e,n){ac(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ac(t,function(){e++}),e},toArray:function(t){return ac(t,function(e){return e})||[]},only:function(t){if(!Ig(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Activity=QN;re.Children=nR;re.Component=lo;re.Fragment=FN;re.Profiler=HN;re.PureComponent=Cg;re.StrictMode=qN;re.Suspense=KN;re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me;re.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Me.H.useMemoCache(t)}};re.cache=function(t){return function(){return t.apply(null,arguments)}};re.cacheSignal=function(){return null};re.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=SE({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!CE.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return Rg(t.type,i,r)};re.createContext=function(t){return t={$$typeof:$N,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:GN,_context:t},t};re.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)CE.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return Rg(t,a,i)};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:YN,render:t}};re.isValidElement=Ig;re.lazy=function(t){return{$$typeof:EE,_payload:{_status:-1,_result:t},_init:tR}};re.memo=function(t,e){return{$$typeof:WN,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=Me.T,n={};Me.T=n;try{var r=t(),i=Me.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(jm,k_)}catch(a){k_(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Me.T=e}};re.unstable_useCacheRefresh=function(){return Me.H.useCacheRefresh()};re.use=function(t){return Me.H.use(t)};re.useActionState=function(t,e,n){return Me.H.useActionState(t,e,n)};re.useCallback=function(t,e){return Me.H.useCallback(t,e)};re.useContext=function(t){return Me.H.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t,e){return Me.H.useDeferredValue(t,e)};re.useEffect=function(t,e){return Me.H.useEffect(t,e)};re.useEffectEvent=function(t){return Me.H.useEffectEvent(t)};re.useId=function(){return Me.H.useId()};re.useImperativeHandle=function(t,e,n){return Me.H.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Me.H.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Me.H.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Me.H.useMemo(t,e)};re.useOptimistic=function(t,e){return Me.H.useOptimistic(t,e)};re.useReducer=function(t,e,n){return Me.H.useReducer(t,e,n)};re.useRef=function(t){return Me.H.useRef(t)};re.useState=function(t){return Me.H.useState(t)};re.useSyncExternalStore=function(t,e,n){return Me.H.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Me.H.useTransition()};re.version="19.2.3";TE.exports=re;var O=TE.exports;const rR=xg(O);var NE={exports:{}},df={},RE={exports:{}},IE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,G){var W=j.length;j.push(G);e:for(;0<W;){var X=W-1>>>1,se=j[X];if(0<i(se,G))j[X]=G,j[W]=se,W=X;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],W=j.pop();if(W!==G){j[0]=W;e:for(var X=0,se=j.length,ct=se>>>1;X<ct;){var ht=2*(X+1)-1,zt=j[ht],vt=ht+1,mn=j[vt];if(0>i(zt,W))vt<se&&0>i(mn,zt)?(j[X]=mn,j[vt]=W,X=vt):(j[X]=zt,j[ht]=W,X=ht);else if(vt<se&&0>i(mn,W))j[X]=mn,j[vt]=W,X=vt;else break e}}return G}function i(j,G){var W=j.sortIndex-G.sortIndex;return W!==0?W:j.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],h=1,m=null,p=3,y=!1,S=!1,I=!1,R=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=j)r(c),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(c)}}function L(j){if(I=!1,N(j),!S)if(n(u)!==null)S=!0,F||(F=!0,k());else{var G=n(c);G!==null&&q(L,G.startTime-j)}}var F=!1,E=-1,T=5,A=-1;function C(){return R?!0:!(t.unstable_now()-A<T)}function D(){if(R=!1,F){var j=t.unstable_now();A=j;var G=!0;try{e:{S=!1,I&&(I=!1,_(E),E=-1),y=!0;var W=p;try{t:{for(N(j),m=n(u);m!==null&&!(m.expirationTime>j&&C());){var X=m.callback;if(typeof X=="function"){m.callback=null,p=m.priorityLevel;var se=X(m.expirationTime<=j);if(j=t.unstable_now(),typeof se=="function"){m.callback=se,N(j),G=!0;break t}m===n(u)&&r(u),N(j)}else r(u);m=n(u)}if(m!==null)G=!0;else{var ct=n(c);ct!==null&&q(L,ct.startTime-j),G=!1}}break e}finally{m=null,p=W,y=!1}G=void 0}}finally{G?k():F=!1}}}var k;if(typeof x=="function")k=function(){x(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,M=w.port2;w.port1.onmessage=D,k=function(){M.postMessage(null)}}else k=function(){v(D,0)};function q(j,G){E=v(function(){j(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var W=p;p=G;try{return j()}finally{p=W}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=p;p=j;try{return G()}finally{p=W}},t.unstable_scheduleCallback=function(j,G,W){var X=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,j){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=W+se,j={id:h++,callback:G,priorityLevel:j,startTime:W,expirationTime:se,sortIndex:-1},W>X?(j.sortIndex=W,e(c,j),n(u)===null&&j===n(c)&&(I?(_(E),E=-1):I=!0,q(L,W-X))):(j.sortIndex=se,e(u,j),S||y||(S=!0,F||(F=!0,k()))),j},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(j){var G=p;return function(){var W=p;p=G;try{return j.apply(this,arguments)}finally{p=W}}}})(IE);RE.exports=IE;var iR=RE.exports,DE={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=O;function OE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ni(){}var jt={d:{f:ni,r:function(){throw Error(OE(522))},D:ni,C:ni,L:ni,m:ni,X:ni,S:ni,M:ni},p:0,findDOMNode:null},sR=Symbol.for("react.portal");function oR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sR,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Tl=aR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=jt;Ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(OE(299));return oR(t,e,null,n)};Ut.flushSync=function(t){var e=Tl.T,n=jt.p;try{if(Tl.T=null,jt.p=2,t)return t()}finally{Tl.T=e,jt.p=n,jt.d.f()}};Ut.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,jt.d.C(t,e))};Ut.prefetchDNS=function(t){typeof t=="string"&&jt.d.D(t)};Ut.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=mf(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?jt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&jt.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ut.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=mf(e.as,e.crossOrigin);jt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&jt.d.M(t)};Ut.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=mf(n,e.crossOrigin);jt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ut.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=mf(e.as,e.crossOrigin);jt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else jt.d.m(t)};Ut.requestFormReset=function(t){jt.d.r(t)};Ut.unstable_batchedUpdates=function(t,e){return t(e)};Ut.useFormState=function(t,e,n){return Tl.H.useFormState(t,e,n)};Ut.useFormStatus=function(){return Tl.H.useHostTransitionStatus()};Ut.version="19.2.3";function kE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kE)}catch(t){console.error(t)}}kE(),DE.exports=Ut;var lR=DE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=iR,ME=O,uR=lR;function z(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function PE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function du(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jE(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M_(t){if(du(t)!==t)throw Error(z(188))}function cR(t){var e=t.alternate;if(!e){if(e=du(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return M_(i),t;if(a===r)return M_(i),e;a=a.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function LE(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=LE(t),e!==null)return e;t=t.sibling}return null}var Pe=Object.assign,hR=Symbol.for("react.element"),sc=Symbol.for("react.transitional.element"),ul=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),UE=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),zE=Symbol.for("react.consumer"),wr=Symbol.for("react.context"),Dg=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),zm=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),Bm=Symbol.for("react.activity"),fR=Symbol.for("react.memo_cache_sentinel"),P_=Symbol.iterator;function el(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var dR=Symbol.for("react.client.reference");function Fm(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===dR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ps:return"Fragment";case Lm:return"Profiler";case UE:return"StrictMode";case Um:return"Suspense";case zm:return"SuspenseList";case Bm:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ul:return"Portal";case wr:return t.displayName||"Context";case zE:return(t._context.displayName||"Context")+".Consumer";case Dg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Og:return e=t.displayName||null,e!==null?e:Fm(t.type)||"Memo";case ii:e=t._payload,t=t._init;try{return Fm(t(e))}catch{}}return null}var cl=Array.isArray,ee=ME.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=uR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ba={pending:!1,data:null,method:null,action:null},qm=[],gs=-1;function cr(t){return{current:t}}function yt(t){0>gs||(t.current=qm[gs],qm[gs]=null,gs--)}function Re(t,e){gs++,qm[gs]=t.current,t.current=e}var tr=cr(null),Bl=cr(null),bi=cr(null),oh=cr(null);function lh(t,e){switch(Re(bi,e),Re(Bl,t),Re(tr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?B0(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=B0(e),t=sS(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}yt(tr),Re(tr,t)}function Hs(){yt(tr),yt(Bl),yt(bi)}function Hm(t){t.memoizedState!==null&&Re(oh,t);var e=tr.current,n=sS(e,t.type);e!==n&&(Re(Bl,t),Re(tr,n))}function uh(t){Bl.current===t&&(yt(tr),yt(Bl)),oh.current===t&&(yt(oh),Jl._currentValue=ba)}var Rd,V_;function da(t){if(Rd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Rd=e&&e[1]||"",V_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rd+t+V_}var Id=!1;function Dd(t,e){if(!t||Id)return"";Id=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){p=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var h=`
`+u[r].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=r&&0<=i);break}}}finally{Id=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?da(n):""}function mR(t,e){switch(t.tag){case 26:case 27:case 5:return da(t.type);case 16:return da("Lazy");case 13:return t.child!==e&&e!==null?da("Suspense Fallback"):da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return Dd(t.type,!1);case 11:return Dd(t.type.render,!1);case 1:return Dd(t.type,!0);case 31:return da("Activity");default:return""}}function j_(t){try{var e="",n=null;do e+=mR(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Gm=Object.prototype.hasOwnProperty,kg=ut.unstable_scheduleCallback,Od=ut.unstable_cancelCallback,pR=ut.unstable_shouldYield,gR=ut.unstable_requestPaint,sn=ut.unstable_now,yR=ut.unstable_getCurrentPriorityLevel,BE=ut.unstable_ImmediatePriority,FE=ut.unstable_UserBlockingPriority,ch=ut.unstable_NormalPriority,vR=ut.unstable_LowPriority,qE=ut.unstable_IdlePriority,_R=ut.log,bR=ut.unstable_setDisableYieldValue,mu=null,on=null;function mi(t){if(typeof _R=="function"&&bR(t),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(mu,t)}catch{}}var ln=Math.clz32?Math.clz32:wR,TR=Math.log,ER=Math.LN2;function wR(t){return t>>>=0,t===0?32:31-(TR(t)/ER|0)|0}var oc=256,lc=262144,uc=4194304;function ma(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pf(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=ma(r):(s&=o,s!==0?i=ma(s):n||(n=o&~t,n!==0&&(i=ma(n))))):(o=r&~a,o!==0?i=ma(o):s!==0?i=ma(s):n||(n=r&~t,n!==0&&(i=ma(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function pu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function SR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HE(){var t=uc;return uc<<=1,!(uc&62914560)&&(uc=4194304),t}function kd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function gu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xR(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var h=31-ln(n),m=1<<h;o[h]=0,u[h]=-1;var p=c[h];if(p!==null)for(c[h]=null,h=0;h<p.length;h++){var y=p[h];y!==null&&(y.lane&=-536870913)}n&=~m}r!==0&&GE(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function GE(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-ln(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function $E(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function YE(t,e){var n=e&-e;return n=n&42?1:Mg(n),n&(t.suspendedLanes|e)?0:n}function Mg(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pg(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function KE(){var t=ve.p;return t!==0?t:(t=window.event,t===void 0?32:yS(t.type))}function L_(t,e){var n=ve.p;try{return ve.p=t,e()}finally{ve.p=n}}var $i=Math.random().toString(36).slice(2),wt="__reactFiber$"+$i,Wt="__reactProps$"+$i,uo="__reactContainer$"+$i,$m="__reactEvents$"+$i,AR="__reactListeners$"+$i,CR="__reactHandles$"+$i,U_="__reactResources$"+$i,yu="__reactMarker$"+$i;function Vg(t){delete t[wt],delete t[Wt],delete t[$m],delete t[AR],delete t[CR]}function ys(t){var e=t[wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[uo]||n[wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$0(t);t!==null;){if(n=t[wt])return n;t=$0(t)}return e}t=n,n=t.parentNode}return null}function co(t){if(t=t[wt]||t[uo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function hl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(z(33))}function Os(t){var e=t[U_];return e||(e=t[U_]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function gt(t){t[yu]=!0}var WE=new Set,QE={};function Ua(t,e){Gs(t,e),Gs(t+"Capture",e)}function Gs(t,e){for(QE[t]=e,t=0;t<e.length;t++)WE.add(e[t])}var NR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),z_={},B_={};function RR(t){return Gm.call(B_,t)?!0:Gm.call(z_,t)?!1:NR.test(t)?B_[t]=!0:(z_[t]=!0,!1)}function Oc(t,e,n){if(RR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function cc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IR(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ym(t){if(!t._valueTracker){var e=XE(t)?"checked":"value";t._valueTracker=IR(t,e,""+t[e])}}function JE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function hh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var DR=/[\n"\\]/g;function bn(t){return t.replace(DR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Km(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+yn(e)):t.value!==""+yn(e)&&(t.value=""+yn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Wm(t,s,yn(e)):n!=null?Wm(t,s,yn(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+yn(o):t.removeAttribute("name")}function ZE(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){Ym(t);return}n=n!=null?""+yn(n):"",e=e!=null?""+yn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),Ym(t)}function Wm(t,e,n){e==="number"&&hh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ew(t,e,n){if(e!=null&&(e=""+yn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+yn(n):""}function tw(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(z(92));if(cl(r)){if(1<r.length)throw Error(z(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=yn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),Ym(t)}function $s(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var OR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function F_(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||OR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function nw(t,e,n){if(e!=null&&typeof e!="object")throw Error(z(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&F_(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&F_(t,a,e[a])}function jg(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),MR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kc(t){return MR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sr(){}var Qm=null;function Lg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,Ms=null;function q_(t){var e=co(t);if(e&&(t=e.stateNode)){var n=t[Wt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Km(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Wt]||null;if(!i)throw Error(z(90));Km(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&JE(r)}break e;case"textarea":ew(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}}}var Md=!1;function rw(t,e,n){if(Md)return t(e,n);Md=!0;try{var r=t(e);return r}finally{if(Md=!1,(vs!==null||Ms!==null)&&(Cf(),vs&&(e=vs,t=Ms,Ms=vs=null,q_(e),t)))for(e=0;e<t.length;e++)q_(t[e])}}function Fl(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Wt]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=!1;if(kr)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Xm=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Xm=!1}var pi=null,Ug=null,Mc=null;function iw(){if(Mc)return Mc;var t,e=Ug,n=e.length,r,i="value"in pi?pi.value:pi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Mc=i.slice(t,1<r?1-r:void 0)}function Pc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hc(){return!0}function H_(){return!1}function Qt(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?hc:H_,this.isPropagationStopped=H_,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hc)},persist:function(){},isPersistent:hc}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Qt(za),vu=Pe({},za,{view:0,detail:0}),PR=Qt(vu),Pd,Vd,nl,yf=Pe({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(Pd=t.screenX-nl.screenX,Vd=t.screenY-nl.screenY):Vd=Pd=0,nl=t),Pd)},movementY:function(t){return"movementY"in t?t.movementY:Vd}}),G_=Qt(yf),VR=Pe({},yf,{dataTransfer:0}),jR=Qt(VR),LR=Pe({},vu,{relatedTarget:0}),jd=Qt(LR),UR=Pe({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),zR=Qt(UR),BR=Pe({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FR=Qt(BR),qR=Pe({},za,{data:0}),$_=Qt(qR),HR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$R={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$R[t])?!!e[t]:!1}function zg(){return YR}var KR=Pe({},vu,{key:function(t){if(t.key){var e=HR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Pc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?GR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zg,charCode:function(t){return t.type==="keypress"?Pc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),WR=Qt(KR),QR=Pe({},yf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y_=Qt(QR),XR=Pe({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zg}),JR=Qt(XR),ZR=Pe({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),e2=Qt(ZR),t2=Pe({},yf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),n2=Qt(t2),r2=Pe({},za,{newState:0,oldState:0}),i2=Qt(r2),a2=[9,13,27,32],Bg=kr&&"CompositionEvent"in window,El=null;kr&&"documentMode"in document&&(El=document.documentMode);var s2=kr&&"TextEvent"in window&&!El,aw=kr&&(!Bg||El&&8<El&&11>=El),K_=" ",W_=!1;function sw(t,e){switch(t){case"keyup":return a2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ow(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _s=!1;function o2(t,e){switch(t){case"compositionend":return ow(e);case"keypress":return e.which!==32?null:(W_=!0,K_);case"textInput":return t=e.data,t===K_&&W_?null:t;default:return null}}function l2(t,e){if(_s)return t==="compositionend"||!Bg&&sw(t,e)?(t=iw(),Mc=Ug=pi=null,_s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aw&&e.locale!=="ko"?null:e.data;default:return null}}var u2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u2[t.type]:e==="textarea"}function lw(t,e,n,r){vs?Ms?Ms.push(r):Ms=[r]:vs=r,e=Rh(e,"onChange"),0<e.length&&(n=new gf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wl=null,ql=null;function c2(t){rS(t,0)}function vf(t){var e=hl(t);if(JE(e))return t}function X_(t,e){if(t==="change")return e}var uw=!1;if(kr){var Ld;if(kr){var Ud="oninput"in document;if(!Ud){var J_=document.createElement("div");J_.setAttribute("oninput","return;"),Ud=typeof J_.oninput=="function"}Ld=Ud}else Ld=!1;uw=Ld&&(!document.documentMode||9<document.documentMode)}function Z_(){wl&&(wl.detachEvent("onpropertychange",cw),ql=wl=null)}function cw(t){if(t.propertyName==="value"&&vf(ql)){var e=[];lw(e,ql,t,Lg(t)),rw(c2,e)}}function h2(t,e,n){t==="focusin"?(Z_(),wl=e,ql=n,wl.attachEvent("onpropertychange",cw)):t==="focusout"&&Z_()}function f2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vf(ql)}function d2(t,e){if(t==="click")return vf(e)}function m2(t,e){if(t==="input"||t==="change")return vf(e)}function p2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hn=typeof Object.is=="function"?Object.is:p2;function Hl(t,e){if(hn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Gm.call(e,i)||!hn(t[i],e[i]))return!1}return!0}function e0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function t0(t,e){var n=e0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=e0(n)}}function hw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fw(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=hh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=hh(t.document)}return e}function Fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var g2=kr&&"documentMode"in document&&11>=document.documentMode,bs=null,Jm=null,Sl=null,Zm=!1;function n0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zm||bs==null||bs!==hh(r)||(r=bs,"selectionStart"in r&&Fg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&Hl(Sl,r)||(Sl=r,r=Rh(Jm,"onSelect"),0<r.length&&(e=new gf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bs)))}function fa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ts={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},zd={},dw={};kr&&(dw=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function Ba(t){if(zd[t])return zd[t];if(!Ts[t])return t;var e=Ts[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dw)return zd[t]=e[n];return t}var mw=Ba("animationend"),pw=Ba("animationiteration"),gw=Ba("animationstart"),y2=Ba("transitionrun"),v2=Ba("transitionstart"),_2=Ba("transitioncancel"),yw=Ba("transitionend"),vw=new Map,ep="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ep.push("scrollEnd");function Bn(t,e){vw.set(t,e),Ua(e,[t])}var fh=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},gn=[],Es=0,qg=0;function _f(){for(var t=Es,e=qg=Es=0;e<t;){var n=gn[e];gn[e++]=null;var r=gn[e];gn[e++]=null;var i=gn[e];gn[e++]=null;var a=gn[e];if(gn[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&_w(n,i,a)}}function bf(t,e,n,r){gn[Es++]=t,gn[Es++]=e,gn[Es++]=n,gn[Es++]=r,qg|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Hg(t,e,n,r){return bf(t,e,n,r),dh(t)}function Fa(t,e){return bf(t,null,null,e),dh(t)}function _w(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-ln(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function dh(t){if(50<kl)throw kl=0,Tp=null,Error(z(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ws={};function b2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new b2(t,e,n,r)}function Gg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nr(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function bw(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Vc(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")Gg(t)&&(s=1);else if(typeof t=="string")s=xI(t,n,tr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Bm:return t=nn(31,n,e,i),t.elementType=Bm,t.lanes=a,t;case ps:return Ta(n.children,i,a,e);case UE:s=8,i|=24;break;case Lm:return t=nn(12,n,e,i|2),t.elementType=Lm,t.lanes=a,t;case Um:return t=nn(13,n,e,i),t.elementType=Um,t.lanes=a,t;case zm:return t=nn(19,n,e,i),t.elementType=zm,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wr:s=10;break e;case zE:s=9;break e;case Dg:s=11;break e;case Og:s=14;break e;case ii:s=16,r=null;break e}s=29,n=Error(z(130,t===null?"null":typeof t,"")),r=null}return e=nn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ta(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function Bd(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Tw(t){var e=nn(18,null,null,0);return e.stateNode=t,e}function Fd(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var r0=new WeakMap;function Tn(t,e){if(typeof t=="object"&&t!==null){var n=r0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:j_(e)},r0.set(t,e),e)}return{value:t,source:e,stack:j_(e)}}var Ss=[],xs=0,mh=null,Gl=0,vn=[],_n=0,Mi=null,Jn=1,Zn="";function Tr(t,e){Ss[xs++]=Gl,Ss[xs++]=mh,mh=t,Gl=e}function Ew(t,e,n){vn[_n++]=Jn,vn[_n++]=Zn,vn[_n++]=Mi,Mi=t;var r=Jn;t=Zn;var i=32-ln(r)-1;r&=~(1<<i),n+=1;var a=32-ln(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Jn=1<<32-ln(e)+i|n<<i|r,Zn=a+t}else Jn=1<<a|n<<i|r,Zn=t}function $g(t){t.return!==null&&(Tr(t,1),Ew(t,1,0))}function Yg(t){for(;t===mh;)mh=Ss[--xs],Ss[xs]=null,Gl=Ss[--xs],Ss[xs]=null;for(;t===Mi;)Mi=vn[--_n],vn[_n]=null,Zn=vn[--_n],vn[_n]=null,Jn=vn[--_n],vn[_n]=null}function ww(t,e){vn[_n++]=Jn,vn[_n++]=Zn,vn[_n++]=Mi,Jn=e.id,Zn=e.overflow,Mi=t}var St=null,ke=null,me=!1,Ti=null,En=!1,tp=Error(z(519));function Pi(t){var e=Error(z(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $l(Tn(e,t)),tp}function i0(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[wt]=t,e[Wt]=r,n){case"dialog":le("cancel",e),le("close",e);break;case"iframe":case"object":case"embed":le("load",e);break;case"video":case"audio":for(n=0;n<Ql.length;n++)le(Ql[n],e);break;case"source":le("error",e);break;case"img":case"image":case"link":le("error",e),le("load",e);break;case"details":le("toggle",e);break;case"input":le("invalid",e),ZE(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":le("invalid",e);break;case"textarea":le("invalid",e),tw(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||aS(e.textContent,n)?(r.popover!=null&&(le("beforetoggle",e),le("toggle",e)),r.onScroll!=null&&le("scroll",e),r.onScrollEnd!=null&&le("scrollend",e),r.onClick!=null&&(e.onclick=Sr),e=!0):e=!1,e||Pi(t,!0)}function a0(t){for(St=t.return;St;)switch(St.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:St=St.return}}function ss(t){if(t!==St)return!1;if(!me)return a0(t),me=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Ap(t.type,t.memoizedProps)),n=!n),n&&ke&&Pi(t),a0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));ke=G0(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));ke=G0(t)}else e===27?(e=ke,Yi(t.type)?(t=Ip,Ip=null,ke=t):ke=e):ke=St?An(t.stateNode.nextSibling):null;return!0}function Na(){ke=St=null,me=!1}function qd(){var t=Ti;return t!==null&&(Ht===null?Ht=t:Ht.push.apply(Ht,t),Ti=null),t}function $l(t){Ti===null?Ti=[t]:Ti.push(t)}var np=cr(null),qa=null,xr=null;function si(t,e,n){Re(np,e._currentValue),e._currentValue=n}function Rr(t){t._currentValue=np.current,yt(np)}function rp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ip(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var u=0;u<e.length;u++)if(o.context===e[u]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),rp(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(z(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),rp(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function ho(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(z(387));if(s=s.memoizedProps,s!==null){var o=i.type;hn(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===oh.current){if(s=i.alternate,s===null)throw Error(z(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Jl):t=[Jl])}i=i.return}t!==null&&ip(e,t,n,r),e.flags|=262144}function ph(t){for(t=t.firstContext;t!==null;){if(!hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ra(t){qa=t,xr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return Sw(qa,t)}function fc(t,e){return qa===null&&Ra(t),Sw(t,e)}function Sw(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},xr===null){if(t===null)throw Error(z(308));xr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else xr=xr.next=e;return n}var T2=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},E2=ut.unstable_scheduleCallback,w2=ut.unstable_NormalPriority,tt={$$typeof:wr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kg(){return{controller:new T2,data:new Map,refCount:0}}function _u(t){t.refCount--,t.refCount===0&&E2(w2,function(){t.controller.abort()})}var xl=null,ap=0,Ys=0,Ps=null;function S2(t,e){if(xl===null){var n=xl=[];ap=0,Ys=_y(),Ps={status:"pending",value:void 0,then:function(r){n.push(r)}}}return ap++,e.then(s0,s0),e}function s0(){if(--ap===0&&xl!==null){Ps!==null&&(Ps.status="fulfilled");var t=xl;xl=null,Ys=0,Ps=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function x2(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var o0=ee.S;ee.S=function(t,e){L1=sn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&S2(t,e),o0!==null&&o0(t,e)};var Ea=cr(null);function Wg(){var t=Ea.current;return t!==null?t:Ae.pooledCache}function jc(t,e){e===null?Re(Ea,Ea.current):Re(Ea,e.pool)}function xw(){var t=Wg();return t===null?null:{parent:tt._currentValue,pool:t}}var fo=Error(z(460)),Qg=Error(z(474)),Tf=Error(z(542)),gh={then:function(){}};function l0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Aw(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Sr,Sr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,c0(t),t;default:if(typeof e.status=="string")e.then(Sr,Sr);else{if(t=Ae,t!==null&&100<t.shellSuspendCounter)throw Error(z(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,c0(t),t}throw wa=e,fo}}function pa(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(wa=n,fo):n}}var wa=null;function u0(){if(wa===null)throw Error(z(459));var t=wa;return wa=null,t}function c0(t){if(t===fo||t===Tf)throw Error(z(483))}var Vs=null,Yl=0;function dc(t){var e=Yl;return Yl+=1,Vs===null&&(Vs=[]),Aw(Vs,t,e)}function rl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function mc(t,e){throw e.$$typeof===hR?Error(z(525)):(t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Cw(t){function e(v,_){if(t){var x=v.deletions;x===null?(v.deletions=[_],v.flags|=16):x.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v){for(var _=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(v,_){return v=Nr(v,_),v.index=0,v.sibling=null,v}function a(v,_,x){return v.index=x,t?(x=v.alternate,x!==null?(x=x.index,x<_?(v.flags|=67108866,_):x):(v.flags|=67108866,_)):(v.flags|=1048576,_)}function s(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,_,x,N){return _===null||_.tag!==6?(_=Bd(x,v.mode,N),_.return=v,_):(_=i(_,x),_.return=v,_)}function u(v,_,x,N){var L=x.type;return L===ps?h(v,_,x.props.children,N,x.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ii&&pa(L)===_.type)?(_=i(_,x.props),rl(_,x),_.return=v,_):(_=Vc(x.type,x.key,x.props,null,v.mode,N),rl(_,x),_.return=v,_)}function c(v,_,x,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Fd(x,v.mode,N),_.return=v,_):(_=i(_,x.children||[]),_.return=v,_)}function h(v,_,x,N,L){return _===null||_.tag!==7?(_=Ta(x,v.mode,N,L),_.return=v,_):(_=i(_,x),_.return=v,_)}function m(v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Bd(""+_,v.mode,x),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sc:return x=Vc(_.type,_.key,_.props,null,v.mode,x),rl(x,_),x.return=v,x;case ul:return _=Fd(_,v.mode,x),_.return=v,_;case ii:return _=pa(_),m(v,_,x)}if(cl(_)||el(_))return _=Ta(_,v.mode,x,null),_.return=v,_;if(typeof _.then=="function")return m(v,dc(_),x);if(_.$$typeof===wr)return m(v,fc(v,_),x);mc(v,_)}return null}function p(v,_,x,N){var L=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return L!==null?null:o(v,_,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case sc:return x.key===L?u(v,_,x,N):null;case ul:return x.key===L?c(v,_,x,N):null;case ii:return x=pa(x),p(v,_,x,N)}if(cl(x)||el(x))return L!==null?null:h(v,_,x,N,null);if(typeof x.then=="function")return p(v,_,dc(x),N);if(x.$$typeof===wr)return p(v,_,fc(v,x),N);mc(v,x)}return null}function y(v,_,x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return v=v.get(x)||null,o(_,v,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case sc:return v=v.get(N.key===null?x:N.key)||null,u(_,v,N,L);case ul:return v=v.get(N.key===null?x:N.key)||null,c(_,v,N,L);case ii:return N=pa(N),y(v,_,x,N,L)}if(cl(N)||el(N))return v=v.get(x)||null,h(_,v,N,L,null);if(typeof N.then=="function")return y(v,_,x,dc(N),L);if(N.$$typeof===wr)return y(v,_,x,fc(_,N),L);mc(_,N)}return null}function S(v,_,x,N){for(var L=null,F=null,E=_,T=_=0,A=null;E!==null&&T<x.length;T++){E.index>T?(A=E,E=null):A=E.sibling;var C=p(v,E,x[T],N);if(C===null){E===null&&(E=A);break}t&&E&&C.alternate===null&&e(v,E),_=a(C,_,T),F===null?L=C:F.sibling=C,F=C,E=A}if(T===x.length)return n(v,E),me&&Tr(v,T),L;if(E===null){for(;T<x.length;T++)E=m(v,x[T],N),E!==null&&(_=a(E,_,T),F===null?L=E:F.sibling=E,F=E);return me&&Tr(v,T),L}for(E=r(E);T<x.length;T++)A=y(E,v,T,x[T],N),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?T:A.key),_=a(A,_,T),F===null?L=A:F.sibling=A,F=A);return t&&E.forEach(function(D){return e(v,D)}),me&&Tr(v,T),L}function I(v,_,x,N){if(x==null)throw Error(z(151));for(var L=null,F=null,E=_,T=_=0,A=null,C=x.next();E!==null&&!C.done;T++,C=x.next()){E.index>T?(A=E,E=null):A=E.sibling;var D=p(v,E,C.value,N);if(D===null){E===null&&(E=A);break}t&&E&&D.alternate===null&&e(v,E),_=a(D,_,T),F===null?L=D:F.sibling=D,F=D,E=A}if(C.done)return n(v,E),me&&Tr(v,T),L;if(E===null){for(;!C.done;T++,C=x.next())C=m(v,C.value,N),C!==null&&(_=a(C,_,T),F===null?L=C:F.sibling=C,F=C);return me&&Tr(v,T),L}for(E=r(E);!C.done;T++,C=x.next())C=y(E,v,T,C.value,N),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?T:C.key),_=a(C,_,T),F===null?L=C:F.sibling=C,F=C);return t&&E.forEach(function(k){return e(v,k)}),me&&Tr(v,T),L}function R(v,_,x,N){if(typeof x=="object"&&x!==null&&x.type===ps&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case sc:e:{for(var L=x.key;_!==null;){if(_.key===L){if(L=x.type,L===ps){if(_.tag===7){n(v,_.sibling),N=i(_,x.props.children),N.return=v,v=N;break e}}else if(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===ii&&pa(L)===_.type){n(v,_.sibling),N=i(_,x.props),rl(N,x),N.return=v,v=N;break e}n(v,_);break}else e(v,_);_=_.sibling}x.type===ps?(N=Ta(x.props.children,v.mode,N,x.key),N.return=v,v=N):(N=Vc(x.type,x.key,x.props,null,v.mode,N),rl(N,x),N.return=v,v=N)}return s(v);case ul:e:{for(L=x.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(v,_.sibling),N=i(_,x.children||[]),N.return=v,v=N;break e}else{n(v,_);break}else e(v,_);_=_.sibling}N=Fd(x,v.mode,N),N.return=v,v=N}return s(v);case ii:return x=pa(x),R(v,_,x,N)}if(cl(x))return S(v,_,x,N);if(el(x)){if(L=el(x),typeof L!="function")throw Error(z(150));return x=L.call(x),I(v,_,x,N)}if(typeof x.then=="function")return R(v,_,dc(x),N);if(x.$$typeof===wr)return R(v,_,fc(v,x),N);mc(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,_!==null&&_.tag===6?(n(v,_.sibling),N=i(_,x),N.return=v,v=N):(n(v,_),N=Bd(x,v.mode,N),N.return=v,v=N),s(v)):n(v,_)}return function(v,_,x,N){try{Yl=0;var L=R(v,_,x,N);return Vs=null,L}catch(E){if(E===fo||E===Tf)throw E;var F=nn(29,E,null,v.mode);return F.lanes=N,F.return=v,F}finally{}}}var Ia=Cw(!0),Nw=Cw(!1),ai=!1;function Xg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ei(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=dh(t),_w(t,null,n),e}return bf(t,r,e,n),dh(t)}function Al(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$E(t,n)}}function Hd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var op=!1;function Cl(){if(op){var t=Ps;if(t!==null)throw t}}function Nl(t,e,n,r){op=!1;var i=t.updateQueue;ai=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==s&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;s=0,h=c=u=null,o=a;do{var p=o.lane&-536870913,y=p!==o.lane;if(y?(de&p)===p:(r&p)===p){p!==0&&p===Ys&&(op=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,I=o;p=e;var R=n;switch(I.tag){case 1:if(S=I.payload,typeof S=="function"){m=S.call(R,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=I.payload,p=typeof S=="function"?S.call(R,m,p):S,p==null)break e;m=Pe({},m,p);break e;case 2:ai=!0}}p=o.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[p]:y.push(p))}else y={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=y,u=m):h=h.next=y,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,a===null&&(i.shared.lanes=0),ji|=s,t.lanes=s,t.memoizedState=m}}function Rw(t,e){if(typeof t!="function")throw Error(z(191,t));t.call(e)}function Iw(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)Rw(n[t],e)}var Ks=cr(null),yh=cr(0);function h0(t,e){t=jr,Re(yh,t),Re(Ks,e),jr=t|e.baseLanes}function lp(){Re(yh,jr),Re(Ks,Ks.current)}function Jg(){jr=yh.current,yt(Ks),yt(yh)}var fn=cr(null),xn=null;function oi(t){var e=t.alternate;Re(Ke,Ke.current&1),Re(fn,t),xn===null&&(e===null||Ks.current!==null||e.memoizedState!==null)&&(xn=t)}function up(t){Re(Ke,Ke.current),Re(fn,t),xn===null&&(xn=t)}function Dw(t){t.tag===22?(Re(Ke,Ke.current),Re(fn,t),xn===null&&(xn=t)):li()}function li(){Re(Ke,Ke.current),Re(fn,fn.current)}function tn(t){yt(fn),xn===t&&(xn=null),yt(Ke)}var Ke=cr(0);function vh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Np(n)||Rp(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mr=0,ie=null,Se=null,Ze=null,_h=!1,js=!1,Da=!1,bh=0,Kl=0,Ls=null,A2=0;function Ge(){throw Error(z(321))}function Zg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hn(t[n],e[n]))return!1;return!0}function ey(t,e,n,r,i,a){return Mr=a,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ee.H=t===null||t.memoizedState===null?l1:hy,Da=!1,a=n(r,i),Da=!1,js&&(a=kw(e,n,r,i)),Ow(t),a}function Ow(t){ee.H=Wl;var e=Se!==null&&Se.next!==null;if(Mr=0,Ze=Se=ie=null,_h=!1,Kl=0,Ls=null,e)throw Error(z(300));t===null||rt||(t=t.dependencies,t!==null&&ph(t)&&(rt=!0))}function kw(t,e,n,r){ie=t;var i=0;do{if(js&&(Ls=null),Kl=0,js=!1,25<=i)throw Error(z(301));if(i+=1,Ze=Se=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ee.H=u1,a=e(n,r)}while(js);return a}function C2(){var t=ee.H,e=t.useState()[0];return e=typeof e.then=="function"?bu(e):e,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(ie.flags|=1024),e}function ty(){var t=bh!==0;return bh=0,t}function ny(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ry(t){if(_h){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}_h=!1}Mr=0,Ze=Se=ie=null,js=!1,Kl=bh=0,Ls=null}function Vt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ie.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Qe(){if(Se===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=Ze===null?ie.memoizedState:Ze.next;if(e!==null)Ze=e,Se=t;else{if(t===null)throw ie.alternate===null?Error(z(467)):Error(z(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ze===null?ie.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(t){var e=Kl;return Kl+=1,Ls===null&&(Ls=[]),t=Aw(Ls,t,e),e=ie,(Ze===null?e.memoizedState:Ze.next)===null&&(e=e.alternate,ee.H=e===null||e.memoizedState===null?l1:hy),t}function wf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return bu(t);if(t.$$typeof===wr)return Ct(t)}throw Error(z(438,String(t)))}function iy(t){var e=null,n=ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ie.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ef(),ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=fR;return e.index++,n}function Pr(t,e){return typeof e=="function"?e(t):e}function Lc(t){var e=Qe();return ay(e,Se,t)}function ay(t,e,n){var r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,u=null,c=e,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(de&m)===m:(Mr&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Ys&&(h=!0);else if((Mr&p)===p){c=c.next,p===Ys&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=a):u=u.next=m,ie.lanes|=p,ji|=p;m=c.action,Da&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=p,s=a):u=u.next=p,ie.lanes|=m,ji|=m;c=c.next}while(c!==null&&c!==e);if(u===null?s=a:u.next=o,!hn(a,t.memoizedState)&&(rt=!0,h&&(n=Ps,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=u,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Gd(t){var e=Qe(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);hn(a,e.memoizedState)||(rt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Mw(t,e,n){var r=ie,i=Qe(),a=me;if(a){if(n===void 0)throw Error(z(407));n=n()}else n=e();var s=!hn((Se||i).memoizedState,n);if(s&&(i.memoizedState=n,rt=!0),i=i.queue,sy(jw.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||Ze!==null&&Ze.memoizedState.tag&1){if(r.flags|=2048,Ws(9,{destroy:void 0},Vw.bind(null,r,i,n,e),null),Ae===null)throw Error(z(349));a||Mr&127||Pw(r,e,n)}return n}function Pw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e=Ef(),ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vw(t,e,n,r){e.value=n,e.getSnapshot=r,Lw(e)&&Uw(t)}function jw(t,e,n){return n(function(){Lw(e)&&Uw(t)})}function Lw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hn(t,n)}catch{return!0}}function Uw(t){var e=Fa(t,2);e!==null&&Yt(e,t,2)}function cp(t){var e=Vt();if(typeof t=="function"){var n=t;if(t=n(),Da){mi(!0);try{n()}finally{mi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:t},e}function zw(t,e,n,r){return t.baseState=n,ay(t,Se,typeof r=="function"?r:Pr)}function N2(t,e,n,r,i){if(xf(t))throw Error(z(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ee.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,Bw(e,a)):(a.next=n.next,e.pending=n.next=a)}}function Bw(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=ee.T,s={};ee.T=s;try{var o=n(i,r),u=ee.S;u!==null&&u(s,o),f0(t,e,o)}catch(c){hp(t,e,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),ee.T=a}}else try{a=n(i,r),f0(t,e,a)}catch(c){hp(t,e,c)}}function f0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){d0(t,e,r)},function(r){return hp(t,e,r)}):d0(t,e,n)}function d0(t,e,n){e.status="fulfilled",e.value=n,Fw(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,Bw(t,n)))}function hp(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,Fw(e),e=e.next;while(e!==r)}t.action=null}function Fw(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function qw(t,e){return e}function m0(t,e){if(me){var n=Ae.formState;if(n!==null){e:{var r=ie;if(me){if(ke){t:{for(var i=ke,a=En;i.nodeType!==8;){if(!a){i=null;break t}if(i=An(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){ke=An(i.nextSibling),r=i.data==="F!";break e}}Pi(r)}r=!1}r&&(e=n[0])}}return n=Vt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qw,lastRenderedState:e},n.queue=r,n=a1.bind(null,ie,r),r.dispatch=n,r=cp(!1),a=cy.bind(null,ie,!1,r.queue),r=Vt(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=N2.bind(null,ie,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function p0(t){var e=Qe();return Hw(e,Se,t)}function Hw(t,e,n){if(e=ay(t,e,qw)[0],t=Lc(Pr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=bu(e)}catch(s){throw s===fo?Tf:s}else r=e;e=Qe();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ie.flags|=2048,Ws(9,{destroy:void 0},R2.bind(null,i,n),null)),[r,a,t]}function R2(t,e){t.action=e}function g0(t){var e=Qe(),n=Se;if(n!==null)return Hw(e,n,t);Qe(),e=e.memoizedState,n=Qe();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ws(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ie.updateQueue,e===null&&(e=Ef(),ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Gw(){return Qe().memoizedState}function Uc(t,e,n,r){var i=Vt();ie.flags|=t,i.memoizedState=Ws(1|e,{destroy:void 0},n,r===void 0?null:r)}function Sf(t,e,n,r){var i=Qe();r=r===void 0?null:r;var a=i.memoizedState.inst;Se!==null&&r!==null&&Zg(r,Se.memoizedState.deps)?i.memoizedState=Ws(e,a,n,r):(ie.flags|=t,i.memoizedState=Ws(1|e,a,n,r))}function y0(t,e){Uc(8390656,8,t,e)}function sy(t,e){Sf(2048,8,t,e)}function I2(t){ie.flags|=4;var e=ie.updateQueue;if(e===null)e=Ef(),ie.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function $w(t){var e=Qe().memoizedState;return I2({ref:e,nextImpl:t}),function(){if(ye&2)throw Error(z(440));return e.impl.apply(void 0,arguments)}}function Yw(t,e){return Sf(4,2,t,e)}function Kw(t,e){return Sf(4,4,t,e)}function Ww(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qw(t,e,n){n=n!=null?n.concat([t]):null,Sf(4,4,Ww.bind(null,e,t),n)}function oy(){}function Xw(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Zg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jw(t,e){var n=Qe();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Zg(e,r[1]))return r[0];if(r=t(),Da){mi(!0);try{t()}finally{mi(!1)}}return n.memoizedState=[r,e],r}function ly(t,e,n){return n===void 0||Mr&1073741824&&!(de&261930)?t.memoizedState=e:(t.memoizedState=n,t=z1(),ie.lanes|=t,ji|=t,n)}function Zw(t,e,n,r){return hn(n,e)?n:Ks.current!==null?(t=ly(t,n,r),hn(t,e)||(rt=!0),t):!(Mr&42)||Mr&1073741824&&!(de&261930)?(rt=!0,t.memoizedState=n):(t=z1(),ie.lanes|=t,ji|=t,e)}function e1(t,e,n,r,i){var a=ve.p;ve.p=a!==0&&8>a?a:8;var s=ee.T,o={};ee.T=o,cy(t,!1,e,n);try{var u=i(),c=ee.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=x2(u,r);Rl(t,e,h,un(t))}else Rl(t,e,r,un(t))}catch(m){Rl(t,e,{then:function(){},status:"rejected",reason:m},un())}finally{ve.p=a,s!==null&&o.types!==null&&(s.types=o.types),ee.T=s}}function D2(){}function fp(t,e,n,r){if(t.tag!==5)throw Error(z(476));var i=t1(t).queue;e1(t,i,e,ba,n===null?D2:function(){return n1(t),n(r)})}function t1(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ba,baseState:ba,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:ba},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function n1(t){var e=t1(t);e.next===null&&(e=t.alternate.memoizedState),Rl(t,e.next.queue,{},un())}function uy(){return Ct(Jl)}function r1(){return Qe().memoizedState}function i1(){return Qe().memoizedState}function O2(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=un();t=Ei(n);var r=wi(e,t,n);r!==null&&(Yt(r,e,n),Al(r,e,n)),e={cache:Kg()},t.payload=e;return}e=e.return}}function k2(t,e,n){var r=un();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},xf(t)?s1(e,n):(n=Hg(t,e,n,r),n!==null&&(Yt(n,t,r),o1(n,e,r)))}function a1(t,e,n){var r=un();Rl(t,e,n,r)}function Rl(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(xf(t))s1(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,hn(o,s))return bf(t,e,i,0),Ae===null&&_f(),!1}catch{}finally{}if(n=Hg(t,e,i,r),n!==null)return Yt(n,t,r),o1(n,e,r),!0}return!1}function cy(t,e,n,r){if(r={lane:2,revertLane:_y(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xf(t)){if(e)throw Error(z(479))}else e=Hg(t,n,r,2),e!==null&&Yt(e,t,2)}function xf(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function s1(t,e){js=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function o1(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$E(t,n)}}var Wl={readContext:Ct,use:wf,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};Wl.useEffectEvent=Ge;var l1={readContext:Ct,use:wf,useCallback:function(t,e){return Vt().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:y0,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Uc(4194308,4,Ww.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uc(4194308,4,t,e)},useInsertionEffect:function(t,e){Uc(4,2,t,e)},useMemo:function(t,e){var n=Vt();e=e===void 0?null:e;var r=t();if(Da){mi(!0);try{t()}finally{mi(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Vt();if(n!==void 0){var i=n(e);if(Da){mi(!0);try{n(e)}finally{mi(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=k2.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=Vt();return t={current:t},e.memoizedState=t},useState:function(t){t=cp(t);var e=t.queue,n=a1.bind(null,ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:oy,useDeferredValue:function(t,e){var n=Vt();return ly(n,t,e)},useTransition:function(){var t=cp(!1);return t=e1.bind(null,ie,t.queue,!0,!1),Vt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ie,i=Vt();if(me){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ae===null)throw Error(z(349));de&127||Pw(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,y0(jw.bind(null,r,a,t),[t]),r.flags|=2048,Ws(9,{destroy:void 0},Vw.bind(null,r,a,n,e),null),n},useId:function(){var t=Vt(),e=Ae.identifierPrefix;if(me){var n=Zn,r=Jn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=bh++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=A2++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:uy,useFormState:m0,useActionState:m0,useOptimistic:function(t){var e=Vt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=cy.bind(null,ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:iy,useCacheRefresh:function(){return Vt().memoizedState=O2.bind(null,ie)},useEffectEvent:function(t){var e=Vt(),n={impl:t};return e.memoizedState=n,function(){if(ye&2)throw Error(z(440));return n.impl.apply(void 0,arguments)}}},hy={readContext:Ct,use:wf,useCallback:Xw,useContext:Ct,useEffect:sy,useImperativeHandle:Qw,useInsertionEffect:Yw,useLayoutEffect:Kw,useMemo:Jw,useReducer:Lc,useRef:Gw,useState:function(){return Lc(Pr)},useDebugValue:oy,useDeferredValue:function(t,e){var n=Qe();return Zw(n,Se.memoizedState,t,e)},useTransition:function(){var t=Lc(Pr)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:bu(t),e]},useSyncExternalStore:Mw,useId:r1,useHostTransitionStatus:uy,useFormState:p0,useActionState:p0,useOptimistic:function(t,e){var n=Qe();return zw(n,Se,t,e)},useMemoCache:iy,useCacheRefresh:i1};hy.useEffectEvent=$w;var u1={readContext:Ct,use:wf,useCallback:Xw,useContext:Ct,useEffect:sy,useImperativeHandle:Qw,useInsertionEffect:Yw,useLayoutEffect:Kw,useMemo:Jw,useReducer:Gd,useRef:Gw,useState:function(){return Gd(Pr)},useDebugValue:oy,useDeferredValue:function(t,e){var n=Qe();return Se===null?ly(n,t,e):Zw(n,Se.memoizedState,t,e)},useTransition:function(){var t=Gd(Pr)[0],e=Qe().memoizedState;return[typeof t=="boolean"?t:bu(t),e]},useSyncExternalStore:Mw,useId:r1,useHostTransitionStatus:uy,useFormState:g0,useActionState:g0,useOptimistic:function(t,e){var n=Qe();return Se!==null?zw(n,Se,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:iy,useCacheRefresh:i1};u1.useEffectEvent=$w;function $d(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dp={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),i=Ei(r);i.payload=e,n!=null&&(i.callback=n),e=wi(t,i,r),e!==null&&(Yt(e,t,r),Al(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),i=Ei(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=wi(t,i,r),e!==null&&(Yt(e,t,r),Al(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=Ei(n);r.tag=2,e!=null&&(r.callback=e),e=wi(t,r,n),e!==null&&(Yt(e,t,n),Al(e,t,n))}};function v0(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!Hl(n,r)||!Hl(i,a):!0}function _0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dp.enqueueReplaceState(e,e.state,null)}function Oa(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Pe({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function c1(t){fh(t)}function h1(t){console.error(t)}function f1(t){fh(t)}function Th(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function b0(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function mp(t,e,n){return n=Ei(n),n.tag=3,n.payload={element:null},n.callback=function(){Th(t,e)},n}function d1(t){return t=Ei(t),t.tag=3,t}function m1(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){b0(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){b0(e,n,r),typeof i!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function M2(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&ho(e,n,i,!0),n=fn.current,n!==null){switch(n.tag){case 31:case 13:return xn===null?Ah():n.alternate===null&&$e===0&&($e=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===gh?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),rm(t,r,i)),!1;case 22:return n.flags|=65536,r===gh?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),rm(t,r,i)),!1}throw Error(z(435,n.tag))}return rm(t,r,i),Ah(),!1}if(me)return e=fn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==tp&&(t=Error(z(422),{cause:r}),$l(Tn(t,n)))):(r!==tp&&(e=Error(z(423),{cause:r}),$l(Tn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Tn(r,n),i=mp(t.stateNode,r,i),Hd(t,i),$e!==4&&($e=2)),!1;var a=Error(z(520),{cause:r});if(a=Tn(a,n),Ol===null?Ol=[a]:Ol.push(a),$e!==4&&($e=2),e===null)return!0;r=Tn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=mp(n.stateNode,r,t),Hd(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=d1(i),m1(i,t,n,r),Hd(n,i),!1}n=n.return}while(n!==null);return!1}var fy=Error(z(461)),rt=!1;function Tt(t,e,n,r){e.child=t===null?Nw(e,null,n,r):Ia(e,t.child,n,r)}function T0(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Ra(e),r=ey(t,e,n,s,a,i),o=ty(),t!==null&&!rt?(ny(t,e,i),Vr(t,e,i)):(me&&o&&$g(e),e.flags|=1,Tt(t,e,r,i),e.child)}function E0(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Gg(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,p1(t,e,a,r,i)):(t=Vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!dy(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Hl,n(s,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=Nr(a,r),t.ref=e.ref,t.return=e,e.child=t}function p1(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Hl(a,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=a,dy(t,i))t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return pp(t,e,n,r,i)}function g1(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return w0(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&jc(e,a!==null?a.cachePool:null),a!==null?h0(e,a):lp(),Dw(e);else return r=e.lanes=536870912,w0(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(jc(e,a.cachePool),h0(e,a),li(),e.memoizedState=null):(t!==null&&jc(e,null),lp(),li());return Tt(t,e,i,n),e.child}function fl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function w0(t,e,n,r,i){var a=Wg();return a=a===null?null:{parent:tt._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&jc(e,null),lp(),Dw(e),t!==null&&ho(t,e,r,!0),e.childLanes=i,null}function zc(t,e){return e=Eh({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function S0(t,e,n){return Ia(e,t.child,null,n),t=zc(e,e.pendingProps),t.flags|=2,tn(e),e.memoizedState=null,t}function P2(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(me){if(r.mode==="hidden")return t=zc(e,r),e.lanes=536870912,fl(null,t);if(up(e),(t=ke)?(t=lS(t,En),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Tw(t),n.return=e,e.child=n,St=e,ke=null)):t=null,t===null)throw Pi(e);return e.lanes=536870912,null}return zc(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(up(e),i)if(e.flags&256)e.flags&=-257,e=S0(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(z(558));else if(rt||ho(t,e,n,!1),i=(n&t.childLanes)!==0,rt||i){if(r=Ae,r!==null&&(s=YE(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Fa(t,s),Yt(r,t,s),fy;Ah(),e=S0(t,e,n)}else t=a.treeContext,ke=An(s.nextSibling),St=e,me=!0,Ti=null,En=!1,t!==null&&ww(e,t),e=zc(e,r),e.flags|=4096;return e}return t=Nr(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Bc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(z(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function pp(t,e,n,r,i){return Ra(e),n=ey(t,e,n,r,void 0,i),r=ty(),t!==null&&!rt?(ny(t,e,i),Vr(t,e,i)):(me&&r&&$g(e),e.flags|=1,Tt(t,e,n,i),e.child)}function x0(t,e,n,r,i,a){return Ra(e),e.updateQueue=null,n=kw(e,r,n,i),Ow(t),r=ty(),t!==null&&!rt?(ny(t,e,a),Vr(t,e,a)):(me&&r&&$g(e),e.flags|=1,Tt(t,e,n,a),e.child)}function A0(t,e,n,r,i){if(Ra(e),e.stateNode===null){var a=ws,s=n.contextType;typeof s=="object"&&s!==null&&(a=Ct(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=dp,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},Xg(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Ct(s):ws,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&($d(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&dp.enqueueReplaceState(a,a.state,null),Nl(e,r,a,i),Cl(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,u=Oa(n,o);a.props=u;var c=a.context,h=n.contextType;s=ws,typeof h=="object"&&h!==null&&(s=Ct(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&_0(e,a,r,s),ai=!1;var p=e.memoizedState;a.state=p,Nl(e,r,a,i),Cl(),c=e.memoizedState,o||p!==c||ai?(typeof m=="function"&&($d(e,n,m,r),c=e.memoizedState),(u=ai||v0(e,n,u,r,p,c,s))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,sp(t,e),s=e.memoizedProps,h=Oa(n,s),a.props=h,m=e.pendingProps,p=a.context,c=n.contextType,u=ws,typeof c=="object"&&c!==null&&(u=Ct(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||p!==u)&&_0(e,a,r,u),ai=!1,p=e.memoizedState,a.state=p,Nl(e,r,a,i),Cl();var y=e.memoizedState;s!==m||p!==y||ai||t!==null&&t.dependencies!==null&&ph(t.dependencies)?(typeof o=="function"&&($d(e,n,o,r),y=e.memoizedState),(h=ai||v0(e,n,h,r,p,y,u)||t!==null&&t.dependencies!==null&&ph(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Bc(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Ia(e,t.child,null,i),e.child=Ia(e,null,n,i)):Tt(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Vr(t,e,i),t}function C0(t,e,n,r){return Na(),e.flags|=256,Tt(t,e,n,r),e.child}var Yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kd(t){return{baseLanes:t,cachePool:xw()}}function Wd(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=rn),t}function y1(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Ke.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(me){if(i?oi(e):li(),(t=ke)?(t=lS(t,En),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Mi!==null?{id:Jn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},n=Tw(t),n.return=e,e.child=n,St=e,ke=null)):t=null,t===null)throw Pi(e);return Rp(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(li(),i=e.mode,o=Eh({mode:"hidden",children:o},i),r=Ta(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Kd(n),r.childLanes=Wd(t,s,n),e.memoizedState=Yd,fl(null,r)):(oi(e),gp(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(a)e.flags&256?(oi(e),e.flags&=-257,e=Qd(t,e,n)):e.memoizedState!==null?(li(),e.child=t.child,e.flags|=128,e=null):(li(),o=r.fallback,i=e.mode,r=Eh({mode:"visible",children:r.children},i),o=Ta(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Ia(e,t.child,null,n),r=e.child,r.memoizedState=Kd(n),r.childLanes=Wd(t,s,n),e.memoizedState=Yd,e=fl(null,r));else if(oi(e),Rp(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(z(419)),r.stack="",r.digest=s,$l({value:r,source:null,stack:null}),e=Qd(t,e,n)}else if(rt||ho(t,e,n,!1),s=(n&t.childLanes)!==0,rt||s){if(s=Ae,s!==null&&(r=YE(s,n),r!==0&&r!==u.retryLane))throw u.retryLane=r,Fa(t,r),Yt(s,t,r),fy;Np(o)||Ah(),e=Qd(t,e,n)}else Np(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,ke=An(o.nextSibling),St=e,me=!0,Ti=null,En=!1,t!==null&&ww(e,t),e=gp(e,r.children),e.flags|=4096);return e}return i?(li(),o=r.fallback,i=e.mode,u=t.child,c=u.sibling,r=Nr(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=Nr(c,o):(o=Ta(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,fl(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Kd(n):(i=o.cachePool,i!==null?(u=tt._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=xw(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Wd(t,s,n),e.memoizedState=Yd,fl(t.child,r)):(oi(e),n=t.child,t=n.sibling,n=Nr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function gp(t,e){return e=Eh({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Eh(t,e){return t=nn(22,t,null,e),t.lanes=0,t}function Qd(t,e,n){return Ia(e,t.child,null,n),t=gp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function N0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),rp(t.return,e,n)}function Xd(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function v1(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Ke.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Re(Ke,s),Tt(t,e,r,n),r=me?Gl:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N0(t,n,e);else if(t.tag===19)N0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xd(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xd(e,!0,n,null,a,r);break;case"together":Xd(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ji|=e.lanes,!(n&e.childLanes))if(t!==null){if(ho(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dy(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&ph(t)))}function V2(t,e,n){switch(e.tag){case 3:lh(e,e.stateNode.containerInfo),si(e,tt,t.memoizedState.cache),Na();break;case 27:case 5:Hm(e);break;case 4:lh(e,e.stateNode.containerInfo);break;case 10:si(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,up(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(oi(e),e.flags|=128,null):n&e.child.childLanes?y1(t,e,n):(oi(e),t=Vr(t,e,n),t!==null?t.sibling:null);oi(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(ho(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return v1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Ke,Ke.current),r)break;return null;case 22:return e.lanes=0,g1(t,e,n,e.pendingProps);case 24:si(e,tt,t.memoizedState.cache)}return Vr(t,e,n)}function _1(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)rt=!0;else{if(!dy(t,n)&&!(e.flags&128))return rt=!1,V2(t,e,n);rt=!!(t.flags&131072)}else rt=!1,me&&e.flags&1048576&&Ew(e,Gl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=pa(e.elementType),e.type=t,typeof t=="function")Gg(t)?(r=Oa(t,r),e.tag=1,e=A0(null,e,t,r,n)):(e.tag=0,e=pp(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===Dg){e.tag=11,e=T0(null,e,t,r,n);break e}else if(i===Og){e.tag=14,e=E0(null,e,t,r,n);break e}}throw e=Fm(t)||t,Error(z(306,e,""))}}return e;case 0:return pp(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Oa(r,e.pendingProps),A0(t,e,r,i,n);case 3:e:{if(lh(e,e.stateNode.containerInfo),t===null)throw Error(z(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,sp(t,e),Nl(e,r,null,n);var s=e.memoizedState;if(r=s.cache,si(e,tt,r),r!==a.cache&&ip(e,[tt],n,!0),Cl(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=C0(t,e,r,n);break e}else if(r!==i){i=Tn(Error(z(424)),e),$l(i),e=C0(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ke=An(t.firstChild),St=e,me=!0,Ti=null,En=!0,n=Nw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Na(),r===i){e=Vr(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 26:return Bc(t,e),t===null?(n=K0(e.type,null,e.pendingProps,null))?e.memoizedState=n:me||(n=e.type,t=e.pendingProps,r=Ih(bi.current).createElement(n),r[wt]=e,r[Wt]=t,Nt(r,n,t),gt(r),e.stateNode=r):e.memoizedState=K0(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Hm(e),t===null&&me&&(r=e.stateNode=uS(e.type,e.pendingProps,bi.current),St=e,En=!0,i=ke,Yi(e.type)?(Ip=i,ke=An(r.firstChild)):ke=i),Tt(t,e,e.pendingProps.children,n),Bc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&me&&((i=r=ke)&&(r=fI(r,e.type,e.pendingProps,En),r!==null?(e.stateNode=r,St=e,ke=An(r.firstChild),En=!1,i=!0):i=!1),i||Pi(e)),Hm(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,Ap(i,a)?r=null:s!==null&&Ap(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=ey(t,e,C2,null,null,n),Jl._currentValue=i),Bc(t,e),Tt(t,e,r,n),e.child;case 6:return t===null&&me&&((t=n=ke)&&(n=dI(n,e.pendingProps,En),n!==null?(e.stateNode=n,St=e,ke=null,t=!0):t=!1),t||Pi(e)),null;case 13:return y1(t,e,n);case 4:return lh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return T0(t,e,e.type,e.pendingProps,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,si(e,e.type,r.value),Tt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Ra(e),i=Ct(i),r=r(i),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return E0(t,e,e.type,e.pendingProps,n);case 15:return p1(t,e,e.type,e.pendingProps,n);case 19:return v1(t,e,n);case 31:return P2(t,e,n);case 22:return g1(t,e,n,e.pendingProps);case 24:return Ra(e),r=Ct(tt),t===null?(i=Wg(),i===null&&(i=Ae,a=Kg(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},Xg(e),si(e,tt,i)):(t.lanes&n&&(sp(t,e),Nl(e,null,null,n),Cl()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),si(e,tt,r)):(r=a.cache,si(e,tt,r),r!==i.cache&&ip(e,[tt],n,!0))),Tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(z(156,e.tag))}function yr(t){t.flags|=4}function Jd(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(q1())t.flags|=8192;else throw wa=gh,Qg}else t.flags&=-16777217}function R0(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!fS(e))if(q1())t.flags|=8192;else throw wa=gh,Qg}function pc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?HE():536870912,t.lanes|=e,Qs|=e)}function il(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Oe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function j2(t,e,n){var r=e.pendingProps;switch(Yg(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(e),null;case 1:return Oe(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Rr(tt),Hs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ss(e)?yr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qd())),Oe(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(yr(e),a!==null?(Oe(e),R0(e,a)):(Oe(e),Jd(e,i,null,r,n))):a?a!==t.memoizedState?(yr(e),Oe(e),R0(e,a)):(Oe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&yr(e),Oe(e),Jd(e,i,t,r,n)),null;case 27:if(uh(e),n=bi.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Oe(e),null}t=tr.current,ss(e)?i0(e):(t=uS(i,r,n),e.stateNode=t,yr(e))}return Oe(e),null;case 5:if(uh(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Oe(e),null}if(a=tr.current,ss(e))i0(e);else{var s=Ih(bi.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[wt]=e,a[Wt]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(Nt(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&yr(e)}}return Oe(e),Jd(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&yr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(t=bi.current,ss(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=St,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[wt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||aS(t.nodeValue,n)),t||Pi(e,!0)}else t=Ih(t).createTextNode(r),t[wt]=e,e.stateNode=t}return Oe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=ss(e),n!==null){if(t===null){if(!r)throw Error(z(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(557));t[wt]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),t=!1}else n=qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(tn(e),e):(tn(e),null);if(e.flags&128)throw Error(z(558))}return Oe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=ss(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[wt]=e}else Na(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Oe(e),i=!1}else i=qd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(tn(e),e):(tn(e),null)}return tn(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),pc(e,e.updateQueue),Oe(e),null);case 4:return Hs(),t===null&&by(e.stateNode.containerInfo),Oe(e),null;case 10:return Rr(e.type),Oe(e),null;case 19:if(yt(Ke),r=e.memoizedState,r===null)return Oe(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)il(r,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=vh(t),a!==null){for(e.flags|=128,il(r,!1),t=a.updateQueue,e.updateQueue=t,pc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)bw(n,t),n=n.sibling;return Re(Ke,Ke.current&1|2),me&&Tr(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&sn()>Sh&&(e.flags|=128,i=!0,il(r,!1),e.lanes=4194304)}else{if(!i)if(t=vh(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,pc(e,t),il(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!me)return Oe(e),null}else 2*sn()-r.renderingStartTime>Sh&&n!==536870912&&(e.flags|=128,i=!0,il(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=sn(),t.sibling=null,n=Ke.current,Re(Ke,i?n&1|2:n&1),me&&Tr(e,r.treeForkCount),t):(Oe(e),null);case 22:case 23:return tn(e),Jg(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Oe(e),e.subtreeFlags&6&&(e.flags|=8192)):Oe(e),n=e.updateQueue,n!==null&&pc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&yt(Ea),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Rr(tt),Oe(e),null;case 25:return null;case 30:return null}throw Error(z(156,e.tag))}function L2(t,e){switch(Yg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rr(tt),Hs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uh(e),null;case 31:if(e.memoizedState!==null){if(tn(e),e.alternate===null)throw Error(z(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(tn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));Na()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Ke),null;case 4:return Hs(),null;case 10:return Rr(e.type),null;case 22:case 23:return tn(e),Jg(),t!==null&&yt(Ea),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Rr(tt),null;case 25:return null;default:return null}}function b1(t,e){switch(Yg(e),e.tag){case 3:Rr(tt),Hs();break;case 26:case 27:case 5:uh(e);break;case 4:Hs();break;case 31:e.memoizedState!==null&&tn(e);break;case 13:tn(e);break;case 19:yt(Ke);break;case 10:Rr(e.type);break;case 22:case 23:tn(e),Jg(),t!==null&&yt(Ea);break;case 24:Rr(tt)}}function Tu(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Ee(e,e.return,o)}}function Vi(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var u=n,c=o;try{c()}catch(h){Ee(i,u,h)}}}r=r.next}while(r!==a)}}catch(h){Ee(e,e.return,h)}}function T1(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Iw(e,n)}catch(r){Ee(t,t.return,r)}}}function E1(t,e,n){n.props=Oa(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ee(t,e,r)}}function Il(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ee(t,e,i)}}function er(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ee(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ee(t,e,i)}else n.current=null}function w1(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ee(t,t.return,i)}}function Zd(t,e,n){try{var r=t.stateNode;sI(r,t.type,n,e),r[Wt]=e}catch(i){Ee(t,t.return,i)}}function S1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Yi(t.type)||t.tag===4}function em(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||S1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Yi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sr));else if(r!==4&&(r===27&&Yi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}function wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Yi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(wh(t,e,n),t=t.sibling;t!==null;)wh(t,e,n),t=t.sibling}function x1(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Nt(e,r,n),e[wt]=t,e[Wt]=n}catch(a){Ee(t,t.return,a)}}var Er=!1,et=!1,tm=!1,I0=typeof WeakSet=="function"?WeakSet:Set,pt=null;function U2(t,e){if(t=t.containerInfo,Sp=Mh,t=fw(t),Fg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,c=0,h=0,m=t,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(o=s+i),m!==a||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++c===i&&(o=s),p===a&&++h===r&&(u=s),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xp={focusedElem:t,selectionRange:n},Mh=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){switch(e=pt,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var S=Oa(n.type,i);t=r.getSnapshotBeforeUpdate(S,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(I){Ee(n,n.return,I)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Cp(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Cp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(z(163))}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}}function A1(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:_r(t,n),r&4&&Tu(5,n);break;case 1:if(_r(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ee(n,n.return,s)}else{var i=Oa(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ee(n,n.return,s)}}r&64&&T1(n),r&512&&Il(n,n.return);break;case 3:if(_r(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Iw(t,e)}catch(s){Ee(n,n.return,s)}}break;case 27:e===null&&r&4&&x1(n);case 26:case 5:_r(t,n),e===null&&r&4&&w1(n),r&512&&Il(n,n.return);break;case 12:_r(t,n);break;case 31:_r(t,n),r&4&&R1(t,n);break;case 13:_r(t,n),r&4&&I1(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=K2.bind(null,n),mI(t,n))));break;case 22:if(r=n.memoizedState!==null||Er,!r){e=e!==null&&e.memoizedState!==null||et,i=Er;var a=et;Er=r,(et=e)&&!a?br(t,n,(n.subtreeFlags&8772)!==0):_r(t,n),Er=i,et=a}break;case 30:break;default:_r(t,n)}}function C1(t){var e=t.alternate;e!==null&&(t.alternate=null,C1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Vg(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var je=null,qt=!1;function vr(t,e,n){for(n=n.child;n!==null;)N1(t,e,n),n=n.sibling}function N1(t,e,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 26:et||er(n,e),vr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:et||er(n,e);var r=je,i=qt;Yi(n.type)&&(je=n.stateNode,qt=!1),vr(t,e,n),Ml(n.stateNode),je=r,qt=i;break;case 5:et||er(n,e);case 6:if(r=je,i=qt,je=null,vr(t,e,n),je=r,qt=i,je!==null)if(qt)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(n.stateNode)}catch(a){Ee(n,e,a)}else try{je.removeChild(n.stateNode)}catch(a){Ee(n,e,a)}break;case 18:je!==null&&(qt?(t=je,q0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),eo(t)):q0(je,n.stateNode));break;case 4:r=je,i=qt,je=n.stateNode.containerInfo,qt=!0,vr(t,e,n),je=r,qt=i;break;case 0:case 11:case 14:case 15:Vi(2,n,e),et||Vi(4,n,e),vr(t,e,n);break;case 1:et||(er(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&E1(n,e,r)),vr(t,e,n);break;case 21:vr(t,e,n);break;case 22:et=(r=et)||n.memoizedState!==null,vr(t,e,n),et=r;break;default:vr(t,e,n)}}function R1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(n){Ee(e,e.return,n)}}}function I1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(n){Ee(e,e.return,n)}}function z2(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new I0),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new I0),e;default:throw Error(z(435,t.tag))}}function gc(t,e){var n=z2(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=W2.bind(null,t,r);r.then(i,i)}})}function Bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Yi(o.type)){je=o.stateNode,qt=!1;break e}break;case 5:je=o.stateNode,qt=!1;break e;case 3:case 4:je=o.stateNode.containerInfo,qt=!0;break e}o=o.return}if(je===null)throw Error(z(160));N1(a,s,i),je=null,qt=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)D1(e,t),e=e.sibling}var Mn=null;function D1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(e,t),Ft(t),r&4&&(Vi(3,t,t.return),Tu(3,t),Vi(5,t,t.return));break;case 1:Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),r&64&&Er&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Mn;if(Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[yu]||a[wt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Nt(a,r,n),a[wt]=t,gt(a),r=a;break e;case"link":var s=Q0("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Nt(a,r,n),i.head.appendChild(a);break;case"meta":if(s=Q0("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Nt(a,r,n),i.head.appendChild(a);break;default:throw Error(z(468,r))}a[wt]=t,gt(a),r=a}t.stateNode=r}else X0(i,t.type,t.stateNode);else t.stateNode=W0(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?X0(i,t.type,t.stateNode):W0(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Zd(t,t.memoizedProps,n.memoizedProps)}break;case 27:Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),n!==null&&r&4&&Zd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Bt(e,t),Ft(t),r&512&&(et||n===null||er(n,n.return)),t.flags&32){i=t.stateNode;try{$s(i,"")}catch(S){Ee(t,t.return,S)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Zd(t,i,n!==null?n.memoizedProps:i)),r&1024&&(tm=!0);break;case 6:if(Bt(e,t),Ft(t),r&4){if(t.stateNode===null)throw Error(z(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(S){Ee(t,t.return,S)}}break;case 3:if(Hc=null,i=Mn,Mn=Dh(e.containerInfo),Bt(e,t),Mn=i,Ft(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{eo(e.containerInfo)}catch(S){Ee(t,t.return,S)}tm&&(tm=!1,O1(t));break;case 4:r=Mn,Mn=Dh(t.stateNode.containerInfo),Bt(e,t),Ft(t),Mn=r;break;case 12:Bt(e,t),Ft(t);break;case 31:Bt(e,t),Ft(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gc(t,r)));break;case 13:Bt(e,t),Ft(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Af=sn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gc(t,r)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Er,h=et;if(Er=c||i,et=h||u,Bt(e,t),et=h,Er=c,Ft(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||Er||et||ga(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(a=u.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(S){Ee(u,u.return,S)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(S){Ee(u,u.return,S)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;i?H0(y,!0):H0(u.stateNode,!1)}catch(S){Ee(u,u.return,S)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,gc(t,n))));break;case 19:Bt(e,t),Ft(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gc(t,r)));break;case 30:break;case 21:break;default:Bt(e,t),Ft(t)}}function Ft(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(S1(r)){n=r;break}r=r.return}if(n==null)throw Error(z(160));switch(n.tag){case 27:var i=n.stateNode,a=em(t);wh(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&($s(s,""),n.flags&=-33);var o=em(t);wh(t,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=em(t);yp(t,c,u);break;default:throw Error(z(161))}}catch(h){Ee(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;O1(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function _r(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)A1(t,e.alternate,e),e=e.sibling}function ga(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Vi(4,e,e.return),ga(e);break;case 1:er(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&E1(e,e.return,n),ga(e);break;case 27:Ml(e.stateNode);case 26:case 5:er(e,e.return),ga(e);break;case 22:e.memoizedState===null&&ga(e);break;case 30:ga(e);break;default:ga(e)}t=t.sibling}}function br(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:br(i,a,n),Tu(4,a);break;case 1:if(br(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ee(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)Rw(u[i],o)}catch(c){Ee(r,r.return,c)}}n&&s&64&&T1(a),Il(a,a.return);break;case 27:x1(a);case 26:case 5:br(i,a,n),n&&r===null&&s&4&&w1(a),Il(a,a.return);break;case 12:br(i,a,n);break;case 31:br(i,a,n),n&&s&4&&R1(i,a);break;case 13:br(i,a,n),n&&s&4&&I1(i,a);break;case 22:a.memoizedState===null&&br(i,a,n),Il(a,a.return);break;case 30:break;default:br(i,a,n)}e=e.sibling}}function my(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&_u(n))}function py(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_u(t))}function kn(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)k1(t,e,n,r),e=e.sibling}function k1(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:kn(t,e,n,r),i&2048&&Tu(9,e);break;case 1:kn(t,e,n,r);break;case 3:kn(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&_u(t)));break;case 12:if(i&2048){kn(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ee(e,e.return,u)}}else kn(t,e,n,r);break;case 31:kn(t,e,n,r);break;case 13:kn(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?kn(t,e,n,r):Dl(t,e):a._visibility&2?kn(t,e,n,r):(a._visibility|=2,us(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&my(s,e);break;case 24:kn(t,e,n,r),i&2048&&py(e.alternate,e);break;default:kn(t,e,n,r)}}function us(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,u=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:us(a,s,o,u,i),Tu(8,s);break;case 23:break;case 22:var h=s.stateNode;s.memoizedState!==null?h._visibility&2?us(a,s,o,u,i):Dl(a,s):(h._visibility|=2,us(a,s,o,u,i)),i&&c&2048&&my(s.alternate,s);break;case 24:us(a,s,o,u,i),i&&c&2048&&py(s.alternate,s);break;default:us(a,s,o,u,i)}e=e.sibling}}function Dl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Dl(n,r),i&2048&&my(r.alternate,r);break;case 24:Dl(n,r),i&2048&&py(r.alternate,r);break;default:Dl(n,r)}e=e.sibling}}var dl=8192;function os(t,e,n){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)M1(t,e,n),t=t.sibling}function M1(t,e,n){switch(t.tag){case 26:os(t,e,n),t.flags&dl&&t.memoizedState!==null&&AI(n,Mn,t.memoizedState,t.memoizedProps);break;case 5:os(t,e,n);break;case 3:case 4:var r=Mn;Mn=Dh(t.stateNode.containerInfo),os(t,e,n),Mn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=dl,dl=16777216,os(t,e,n),dl=r):os(t,e,n));break;default:os(t,e,n)}}function P1(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function al(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];pt=r,j1(r,t)}P1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)V1(t),t=t.sibling}function V1(t){switch(t.tag){case 0:case 11:case 15:al(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:al(t);break;case 12:al(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Fc(t)):al(t);break;default:al(t)}}function Fc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];pt=r,j1(r,t)}P1(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Vi(8,e,e.return),Fc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Fc(e));break;default:Fc(e)}t=t.sibling}}function j1(t,e){for(;pt!==null;){var n=pt;switch(n.tag){case 0:case 11:case 15:Vi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:_u(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,pt=r;else e:for(n=t;pt!==null;){r=pt;var i=r.sibling,a=r.return;if(C1(r),r===n){pt=null;break e}if(i!==null){i.return=a,pt=i;break e}pt=a}}}var B2={getCacheForType:function(t){var e=Ct(tt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ct(tt).controller.signal}},F2=typeof WeakMap=="function"?WeakMap:Map,ye=0,Ae=null,ue=null,de=0,Te=0,en=null,gi=!1,mo=!1,gy=!1,jr=0,$e=0,ji=0,Sa=0,yy=0,rn=0,Qs=0,Ol=null,Ht=null,vp=!1,Af=0,L1=0,Sh=1/0,xh=null,Si=null,ot=0,xi=null,Xs=null,Ir=0,_p=0,bp=null,U1=null,kl=0,Tp=null;function un(){return ye&2&&de!==0?de&-de:ee.T!==null?_y():KE()}function z1(){if(rn===0)if(!(de&536870912)||me){var t=lc;lc<<=1,!(lc&3932160)&&(lc=262144),rn=t}else rn=536870912;return t=fn.current,t!==null&&(t.flags|=32),rn}function Yt(t,e,n){(t===Ae&&(Te===2||Te===9)||t.cancelPendingCommit!==null)&&(Js(t,0),yi(t,de,rn,!1)),gu(t,n),(!(ye&2)||t!==Ae)&&(t===Ae&&(!(ye&2)&&(Sa|=n),$e===4&&yi(t,de,rn,!1)),hr(t))}function B1(t,e,n){if(ye&6)throw Error(z(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||pu(t,e),i=r?G2(t,e):nm(t,e,!0),a=r;do{if(i===0){mo&&!r&&yi(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!q2(n)){i=nm(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Ol;var u=o.current.memoizedState.isDehydrated;if(u&&(Js(o,s).flags|=256),s=nm(o,s,!1),s!==2){if(gy&&!u){o.errorRecoveryDisabledLanes|=a,Sa|=a,i=4;break e}a=Ht,Ht=i,a!==null&&(Ht===null?Ht=a:Ht.push.apply(Ht,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Js(t,0),yi(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(z(345));case 4:if((e&4194048)!==e)break;case 6:yi(r,e,rn,!gi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(z(329))}if((e&62914560)===e&&(i=Af+300-sn(),10<i)){if(yi(r,e,rn,!gi),pf(r,0,!0)!==0)break e;Ir=e,r.timeoutHandle=oS(D0.bind(null,r,n,Ht,xh,vp,e,rn,Sa,Qs,gi,a,"Throttled",-0,0),i);break e}D0(r,n,Ht,xh,vp,e,rn,Sa,Qs,gi,a,null,-0,0)}}break}while(!0);hr(t)}function D0(t,e,n,r,i,a,s,o,u,c,h,m,p,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sr},M1(e,a,m);var S=(a&62914560)===a?Af-sn():(a&4194048)===a?L1-sn():0;if(S=CI(m,S),S!==null){Ir=a,t.cancelPendingCommit=S(k0.bind(null,t,e,a,n,r,i,s,o,u,h,m,null,p,y)),yi(t,a,s,!c);return}}k0(t,e,a,n,r,i,s,o,u)}function q2(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!hn(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yi(t,e,n,r){e&=~yy,e&=~Sa,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-ln(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&GE(t,n,e)}function Cf(){return ye&6?!0:(Eu(0),!1)}function vy(){if(ue!==null){if(Te===0)var t=ue.return;else t=ue,xr=qa=null,ry(t),Vs=null,Yl=0,t=ue;for(;t!==null;)b1(t.alternate,t),t=t.return;ue=null}}function Js(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,uI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ir=0,vy(),Ae=t,ue=n=Nr(t.current,null),de=e,Te=0,en=null,gi=!1,mo=pu(t,e),gy=!1,Qs=rn=yy=Sa=ji=$e=0,Ht=Ol=null,vp=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-ln(r),a=1<<i;e|=t[i],r&=~a}return jr=e,_f(),n}function F1(t,e){ie=null,ee.H=Wl,e===fo||e===Tf?(e=u0(),Te=3):e===Qg?(e=u0(),Te=4):Te=e===fy?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,en=e,ue===null&&($e=1,Th(t,Tn(e,t.current)))}function q1(){var t=fn.current;return t===null?!0:(de&4194048)===de?xn===null:(de&62914560)===de||de&536870912?t===xn:!1}function H1(){var t=ee.H;return ee.H=Wl,t===null?Wl:t}function G1(){var t=ee.A;return ee.A=B2,t}function Ah(){$e=4,gi||(de&4194048)!==de&&fn.current!==null||(mo=!0),!(ji&134217727)&&!(Sa&134217727)||Ae===null||yi(Ae,de,rn,!1)}function nm(t,e,n){var r=ye;ye|=2;var i=H1(),a=G1();(Ae!==t||de!==e)&&(xh=null,Js(t,e)),e=!1;var s=$e;e:do try{if(Te!==0&&ue!==null){var o=ue,u=en;switch(Te){case 8:vy(),s=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(e=!0);var c=Te;if(Te=0,en=null,As(t,o,u,c),n&&mo){s=0;break e}break;default:c=Te,Te=0,en=null,As(t,o,u,c)}}H2(),s=$e;break}catch(h){F1(t,h)}while(!0);return e&&t.shellSuspendCounter++,xr=qa=null,ye=r,ee.H=i,ee.A=a,ue===null&&(Ae=null,de=0,_f()),s}function H2(){for(;ue!==null;)$1(ue)}function G2(t,e){var n=ye;ye|=2;var r=H1(),i=G1();Ae!==t||de!==e?(xh=null,Sh=sn()+500,Js(t,e)):mo=pu(t,e);e:do try{if(Te!==0&&ue!==null){e=ue;var a=en;t:switch(Te){case 1:Te=0,en=null,As(t,e,a,1);break;case 2:case 9:if(l0(a)){Te=0,en=null,O0(e);break}e=function(){Te!==2&&Te!==9||Ae!==t||(Te=7),hr(t)},a.then(e,e);break e;case 3:Te=7;break e;case 4:Te=5;break e;case 7:l0(a)?(Te=0,en=null,O0(e)):(Te=0,en=null,As(t,e,a,7));break;case 5:var s=null;switch(ue.tag){case 26:s=ue.memoizedState;case 5:case 27:var o=ue;if(s?fS(s):o.stateNode.complete){Te=0,en=null;var u=o.sibling;if(u!==null)ue=u;else{var c=o.return;c!==null?(ue=c,Nf(c)):ue=null}break t}}Te=0,en=null,As(t,e,a,5);break;case 6:Te=0,en=null,As(t,e,a,6);break;case 8:vy(),$e=6;break e;default:throw Error(z(462))}}$2();break}catch(h){F1(t,h)}while(!0);return xr=qa=null,ee.H=r,ee.A=i,ye=n,ue!==null?0:(Ae=null,de=0,_f(),$e)}function $2(){for(;ue!==null&&!pR();)$1(ue)}function $1(t){var e=_1(t.alternate,t,jr);t.memoizedProps=t.pendingProps,e===null?Nf(t):ue=e}function O0(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=x0(n,e,e.pendingProps,e.type,void 0,de);break;case 11:e=x0(n,e,e.pendingProps,e.type.render,e.ref,de);break;case 5:ry(e);default:b1(n,e),e=ue=bw(e,jr),e=_1(n,e,jr)}t.memoizedProps=t.pendingProps,e===null?Nf(t):ue=e}function As(t,e,n,r){xr=qa=null,ry(e),Vs=null,Yl=0;var i=e.return;try{if(M2(t,i,e,n,de)){$e=1,Th(t,Tn(n,t.current)),ue=null;return}}catch(a){if(i!==null)throw ue=i,a;$e=1,Th(t,Tn(n,t.current)),ue=null;return}e.flags&32768?(me||r===1?t=!0:mo||de&536870912?t=!1:(gi=t=!0,(r===2||r===9||r===3||r===6)&&(r=fn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Y1(e,t)):Nf(e)}function Nf(t){var e=t;do{if(e.flags&32768){Y1(e,gi);return}t=e.return;var n=j2(e.alternate,e,jr);if(n!==null){ue=n;return}if(e=e.sibling,e!==null){ue=e;return}ue=e=t}while(e!==null);$e===0&&($e=5)}function Y1(t,e){do{var n=L2(t.alternate,t);if(n!==null){n.flags&=32767,ue=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ue=t;return}ue=t=n}while(t!==null);$e=6,ue=null}function k0(t,e,n,r,i,a,s,o,u){t.cancelPendingCommit=null;do Rf();while(ot!==0);if(ye&6)throw Error(z(327));if(e!==null){if(e===t.current)throw Error(z(177));if(a=e.lanes|e.childLanes,a|=qg,xR(t,n,a,s,o,u),t===Ae&&(ue=Ae=null,de=0),Xs=e,xi=t,Ir=n,_p=a,bp=i,U1=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Q2(ch,function(){return J1(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ee.T,ee.T=null,i=ve.p,ve.p=2,s=ye,ye|=4;try{U2(t,e,n)}finally{ye=s,ve.p=i,ee.T=r}}ot=1,K1(),W1(),Q1()}}function K1(){if(ot===1){ot=0;var t=xi,e=Xs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ee.T,ee.T=null;var r=ve.p;ve.p=2;var i=ye;ye|=4;try{D1(e,t);var a=xp,s=fw(t.containerInfo),o=a.focusedElem,u=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&hw(o.ownerDocument.documentElement,o)){if(u!==null&&Fg(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),S=o.textContent.length,I=Math.min(u.start,S),R=u.end===void 0?I:Math.min(u.end,S);!y.extend&&I>R&&(s=R,R=I,I=s);var v=t0(o,I),_=t0(o,R);if(v&&_&&(y.rangeCount!==1||y.anchorNode!==v.node||y.anchorOffset!==v.offset||y.focusNode!==_.node||y.focusOffset!==_.offset)){var x=m.createRange();x.setStart(v.node,v.offset),y.removeAllRanges(),I>R?(y.addRange(x),y.extend(_.node,_.offset)):(x.setEnd(_.node,_.offset),y.addRange(x))}}}}for(m=[],y=o;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var N=m[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Mh=!!Sp,xp=Sp=null}finally{ye=i,ve.p=r,ee.T=n}}t.current=e,ot=2}}function W1(){if(ot===2){ot=0;var t=xi,e=Xs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ee.T,ee.T=null;var r=ve.p;ve.p=2;var i=ye;ye|=4;try{A1(t,e.alternate,e)}finally{ye=i,ve.p=r,ee.T=n}}ot=3}}function Q1(){if(ot===4||ot===3){ot=0,gR();var t=xi,e=Xs,n=Ir,r=U1;e.subtreeFlags&10256||e.flags&10256?ot=5:(ot=0,Xs=xi=null,X1(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Si=null),Pg(n),e=e.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(mu,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ee.T,i=ve.p,ve.p=2,ee.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ee.T=e,ve.p=i}}Ir&3&&Rf(),hr(t),i=t.pendingLanes,n&261930&&i&42?t===Tp?kl++:(kl=0,Tp=t):kl=0,Eu(0)}}function X1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,_u(e)))}function Rf(){return K1(),W1(),Q1(),J1()}function J1(){if(ot!==5)return!1;var t=xi,e=_p;_p=0;var n=Pg(Ir),r=ee.T,i=ve.p;try{ve.p=32>n?32:n,ee.T=null,n=bp,bp=null;var a=xi,s=Ir;if(ot=0,Xs=xi=null,Ir=0,ye&6)throw Error(z(331));var o=ye;if(ye|=4,V1(a.current),k1(a,a.current,s,n),ye=o,Eu(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(mu,a)}catch{}return!0}finally{ve.p=i,ee.T=r,X1(t,e)}}function M0(t,e,n){e=Tn(n,e),e=mp(t.stateNode,e,2),t=wi(t,e,2),t!==null&&(gu(t,2),hr(t))}function Ee(t,e,n){if(t.tag===3)M0(t,t,n);else for(;e!==null;){if(e.tag===3){M0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=Tn(n,t),n=d1(2),r=wi(e,n,2),r!==null&&(m1(n,r,e,t),gu(r,2),hr(r));break}}e=e.return}}function rm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new F2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(gy=!0,i.add(n),t=Y2.bind(null,t,e,n),e.then(t,t))}function Y2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ae===t&&(de&n)===n&&($e===4||$e===3&&(de&62914560)===de&&300>sn()-Af?!(ye&2)&&Js(t,0):yy|=n,Qs===de&&(Qs=0)),hr(t)}function Z1(t,e){e===0&&(e=HE()),t=Fa(t,e),t!==null&&(gu(t,e),hr(t))}function K2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z1(t,n)}function W2(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(z(314))}r!==null&&r.delete(e),Z1(t,n)}function Q2(t,e){return kg(t,e)}var Ch=null,cs=null,Ep=!1,Nh=!1,im=!1,vi=0;function hr(t){t!==cs&&t.next===null&&(cs===null?Ch=cs=t:cs=cs.next=t),Nh=!0,Ep||(Ep=!0,J2())}function Eu(t,e){if(!im&&Nh){im=!0;do for(var n=!1,r=Ch;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-ln(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,P0(r,a))}else a=de,a=pf(r,r===Ae?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||pu(r,a)||(n=!0,P0(r,a));r=r.next}while(n);im=!1}}function X2(){eS()}function eS(){Nh=Ep=!1;var t=0;vi!==0&&lI()&&(t=vi);for(var e=sn(),n=null,r=Ch;r!==null;){var i=r.next,a=tS(r,e);a===0?(r.next=null,n===null?Ch=i:n.next=i,i===null&&(cs=n)):(n=r,(t!==0||a&3)&&(Nh=!0)),r=i}ot!==0&&ot!==5||Eu(t),vi!==0&&(vi=0)}function tS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-ln(a),o=1<<s,u=i[s];u===-1?(!(o&n)||o&r)&&(i[s]=SR(o,e)):u<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ae,n=de,n=pf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Te===2||Te===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Od(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||pu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Od(r),Pg(n)){case 2:case 8:n=FE;break;case 32:n=ch;break;case 268435456:n=qE;break;default:n=ch}return r=nS.bind(null,t),n=kg(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Od(r),t.callbackPriority=2,t.callbackNode=null,2}function nS(t,e){if(ot!==0&&ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Rf()&&t.callbackNode!==n)return null;var r=de;return r=pf(t,t===Ae?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(B1(t,r,e),tS(t,sn()),t.callbackNode!=null&&t.callbackNode===n?nS.bind(null,t):null)}function P0(t,e){if(Rf())return null;B1(t,e,!0)}function J2(){cI(function(){ye&6?kg(BE,X2):eS()})}function _y(){if(vi===0){var t=Ys;t===0&&(t=oc,oc<<=1,!(oc&261888)&&(oc=256)),vi=t}return vi}function V0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kc(""+t)}function j0(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function Z2(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=V0((i[Wt]||null).action),s=r.submitter;s&&(e=(e=s[Wt]||null)?V0(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new gf("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(vi!==0){var u=s?j0(i,s):new FormData(i);fp(n,{pending:!0,data:u,method:i.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=s?j0(i,s):new FormData(i),fp(n,{pending:!0,data:u,method:i.method,action:a},a,u))},currentTarget:i}]})}}for(var am=0;am<ep.length;am++){var sm=ep[am],eI=sm.toLowerCase(),tI=sm[0].toUpperCase()+sm.slice(1);Bn(eI,"on"+tI)}Bn(mw,"onAnimationEnd");Bn(pw,"onAnimationIteration");Bn(gw,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(y2,"onTransitionRun");Bn(v2,"onTransitionStart");Bn(_2,"onTransitionCancel");Bn(yw,"onTransitionEnd");Gs("onMouseEnter",["mouseout","mouseover"]);Gs("onMouseLeave",["mouseout","mouseover"]);Gs("onPointerEnter",["pointerout","pointerover"]);Gs("onPointerLeave",["pointerout","pointerover"]);Ua("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ua("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ua("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ua("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ua("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function rS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(h){fh(h)}i.currentTarget=null,a=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(h){fh(h)}i.currentTarget=null,a=u}}}}function le(t,e){var n=e[$m];n===void 0&&(n=e[$m]=new Set);var r=t+"__bubble";n.has(r)||(iS(e,t,2,!1),n.add(r))}function om(t,e,n){var r=0;e&&(r|=4),iS(n,t,r,e)}var yc="_reactListening"+Math.random().toString(36).slice(2);function by(t){if(!t[yc]){t[yc]=!0,WE.forEach(function(n){n!=="selectionchange"&&(nI.has(n)||om(n,!1,t),om(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yc]||(e[yc]=!0,om("selectionchange",!1,e))}}function iS(t,e,n,r){switch(yS(e)){case 2:var i=II;break;case 8:i=DI;break;default:i=Sy}n=i.bind(null,e,n,t),i=void 0,!Xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lm(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=ys(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=a=s;continue e}o=o.parentNode}}r=r.return}rw(function(){var c=a,h=Lg(n),m=[];e:{var p=vw.get(t);if(p!==void 0){var y=gf,S=t;switch(t){case"keypress":if(Pc(n)===0)break e;case"keydown":case"keyup":y=WR;break;case"focusin":S="focus",y=jd;break;case"focusout":S="blur",y=jd;break;case"beforeblur":case"afterblur":y=jd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=G_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=jR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=JR;break;case mw:case pw:case gw:y=zR;break;case yw:y=e2;break;case"scroll":case"scrollend":y=PR;break;case"wheel":y=n2;break;case"copy":case"cut":case"paste":y=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Y_;break;case"toggle":case"beforetoggle":y=i2}var I=(e&4)!==0,R=!I&&(t==="scroll"||t==="scrollend"),v=I?p!==null?p+"Capture":null:p;I=[];for(var _=c,x;_!==null;){var N=_;if(x=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||x===null||v===null||(N=Fl(_,v),N!=null&&I.push(Xl(_,N,x))),R)break;_=_.return}0<I.length&&(p=new y(p,S,null,n,h),m.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Qm&&(S=n.relatedTarget||n.fromElement)&&(ys(S)||S[uo]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(S=n.relatedTarget||n.toElement,y=c,S=S?ys(S):null,S!==null&&(R=du(S),I=S.tag,S!==R||I!==5&&I!==27&&I!==6)&&(S=null)):(y=null,S=c),y!==S)){if(I=G_,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=Y_,N="onPointerLeave",v="onPointerEnter",_="pointer"),R=y==null?p:hl(y),x=S==null?p:hl(S),p=new I(N,_+"leave",y,n,h),p.target=R,p.relatedTarget=x,N=null,ys(h)===c&&(I=new I(v,_+"enter",S,n,h),I.target=x,I.relatedTarget=R,N=I),R=N,y&&S)t:{for(I=rI,v=y,_=S,x=0,N=v;N;N=I(N))x++;N=0;for(var L=_;L;L=I(L))N++;for(;0<x-N;)v=I(v),x--;for(;0<N-x;)_=I(_),N--;for(;x--;){if(v===_||_!==null&&v===_.alternate){I=v;break t}v=I(v),_=I(_)}I=null}else I=null;y!==null&&L0(m,p,y,I,!1),S!==null&&R!==null&&L0(m,R,S,I,!0)}}e:{if(p=c?hl(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var F=X_;else if(Q_(p))if(uw)F=m2;else{F=f2;var E=h2}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&jg(c.elementType)&&(F=X_):F=d2;if(F&&(F=F(t,c))){lw(m,F,n,h);break e}E&&E(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Wm(p,"number",p.value)}switch(E=c?hl(c):window,t){case"focusin":(Q_(E)||E.contentEditable==="true")&&(bs=E,Jm=c,Sl=null);break;case"focusout":Sl=Jm=bs=null;break;case"mousedown":Zm=!0;break;case"contextmenu":case"mouseup":case"dragend":Zm=!1,n0(m,n,h);break;case"selectionchange":if(g2)break;case"keydown":case"keyup":n0(m,n,h)}var T;if(Bg)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else _s?sw(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(aw&&n.locale!=="ko"&&(_s||A!=="onCompositionStart"?A==="onCompositionEnd"&&_s&&(T=iw()):(pi=h,Ug="value"in pi?pi.value:pi.textContent,_s=!0)),E=Rh(c,A),0<E.length&&(A=new $_(A,t,null,n,h),m.push({event:A,listeners:E}),T?A.data=T:(T=ow(n),T!==null&&(A.data=T)))),(T=s2?o2(t,n):l2(t,n))&&(A=Rh(c,"onBeforeInput"),0<A.length&&(E=new $_("onBeforeInput","beforeinput",null,n,h),m.push({event:E,listeners:A}),E.data=T)),Z2(m,t,c,n,h)}rS(m,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Fl(t,n),i!=null&&r.unshift(Xl(t,i,a)),i=Fl(t,e),i!=null&&r.push(Xl(t,i,a))),t.tag===3)return r;t=t.return}return[]}function rI(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function L0(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||c===null||(u=c,i?(c=Fl(n,a),c!=null&&s.unshift(Xl(n,c,u))):i||(c=Fl(n,a),c!=null&&s.push(Xl(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var iI=/\r\n?/g,aI=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(iI,`
`).replace(aI,"")}function aS(t,e){return e=U0(e),U0(t)===e}function we(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||$s(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&$s(t,""+r);break;case"className":cc(t,"class",r);break;case"tabIndex":cc(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":cc(t,n,r);break;case"style":nw(t,r,a);break;case"data":if(e!=="object"){cc(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=kc(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&we(t,e,"name",i.name,i,null),we(t,e,"formEncType",i.formEncType,i,null),we(t,e,"formMethod",i.formMethod,i,null),we(t,e,"formTarget",i.formTarget,i,null)):(we(t,e,"encType",i.encType,i,null),we(t,e,"method",i.method,i,null),we(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=kc(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Sr);break;case"onScroll":r!=null&&le("scroll",t);break;case"onScrollEnd":r!=null&&le("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=kc(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":le("beforetoggle",t),le("toggle",t),Oc(t,"popover",r);break;case"xlinkActuate":gr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Oc(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=kR.get(n)||n,Oc(t,n,r))}}function wp(t,e,n,r,i,a){switch(n){case"style":nw(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(z(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(z(60));t.innerHTML=n}}break;case"children":typeof r=="string"?$s(t,r):(typeof r=="number"||typeof r=="bigint")&&$s(t,""+r);break;case"onScroll":r!=null&&le("scroll",t);break;case"onScrollEnd":r!=null&&le("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Sr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!QE.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Wt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Oc(t,n,r)}}}function Nt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":le("error",t),le("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:we(t,e,a,s,n,null)}}i&&we(t,e,"srcSet",n.srcSet,n,null),r&&we(t,e,"src",n.src,n,null);return;case"input":le("invalid",t);var o=a=s=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":s=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(z(137,e));break;default:we(t,e,r,h,n,null)}}ZE(t,a,o,u,c,s,i,!1);return;case"select":le("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:we(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?ks(t,!!r,e,!1):n!=null&&ks(t,!!r,n,!0);return;case"textarea":le("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(z(91));break;default:we(t,e,s,o,n,null)}tw(t,r,i,a);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:we(t,e,u,r,n,null)}return;case"dialog":le("beforetoggle",t),le("toggle",t),le("cancel",t),le("close",t);break;case"iframe":case"object":le("load",t);break;case"video":case"audio":for(r=0;r<Ql.length;r++)le(Ql[r],t);break;case"image":le("error",t),le("load",t);break;case"details":le("toggle",t);break;case"embed":case"source":case"link":le("error",t),le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(z(137,e));default:we(t,e,c,r,n,null)}return;default:if(jg(e)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&wp(t,e,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&we(t,e,o,r,n,null))}function sI(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,u=null,c=null,h=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(y)||we(t,e,y,null,r,m)}}for(var p in r){var y=r[p];if(m=n[p],r.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":a=y;break;case"name":i=y;break;case"checked":c=y;break;case"defaultChecked":h=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(z(137,e));break;default:y!==m&&we(t,e,p,y,r,m)}}Km(t,s,o,u,c,h,a,i);return;case"select":y=s=o=p=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":y=u;default:r.hasOwnProperty(a)||we(t,e,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(a!=null||u!=null))switch(i){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==u&&we(t,e,i,a,r,u)}e=o,n=s,r=y,p!=null?ks(t,!!n,p,!1):!!r!=!!n&&(e!=null?ks(t,!!n,e,!0):ks(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:we(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":p=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(z(91));break;default:i!==a&&we(t,e,s,i,r,a)}ew(t,p,y);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!r.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:we(t,e,S,null,r,p)}for(u in r)if(p=r[u],y=n[u],r.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:we(t,e,u,p,r,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)p=n[I],n.hasOwnProperty(I)&&p!=null&&!r.hasOwnProperty(I)&&we(t,e,I,null,r,p);for(c in r)if(p=r[c],y=n[c],r.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(z(137,e));break;default:we(t,e,c,p,r,y)}return;default:if(jg(e)){for(var R in n)p=n[R],n.hasOwnProperty(R)&&p!==void 0&&!r.hasOwnProperty(R)&&wp(t,e,R,void 0,r,p);for(h in r)p=r[h],y=n[h],!r.hasOwnProperty(h)||p===y||p===void 0&&y===void 0||wp(t,e,h,p,r,y);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&we(t,e,v,null,r,p);for(m in r)p=r[m],y=n[m],!r.hasOwnProperty(m)||p===y||p==null&&y==null||we(t,e,m,p,r,y)}function z0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oI(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&z0(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var u=n[r],c=u.startTime;if(c>o)break;var h=u.transferSize,m=u.initiatorType;h&&z0(m)&&(u=u.responseEnd,s+=h*(u<o?1:(o-c)/(u-c)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Sp=null,xp=null;function Ih(t){return t.nodeType===9?t:t.ownerDocument}function B0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sS(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Ap(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var um=null;function lI(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var oS=typeof setTimeout=="function"?setTimeout:void 0,uI=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,cI=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(t){return F0.resolve(null).then(t).catch(hI)}:oS;function hI(t){setTimeout(function(){throw t})}function Yi(t){return t==="head"}function q0(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),eo(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Ml(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ml(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[yu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Ml(t.ownerDocument.body);n=i}while(n);eo(e)}function H0(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Cp(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Cp(n),Vg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function fI(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[yu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=An(t.nextSibling),t===null)break}return null}function dI(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=An(t.nextSibling),t===null))return null;return t}function lS(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=An(t.nextSibling),t===null))return null;return t}function Np(t){return t.data==="$?"||t.data==="$~"}function Rp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mI(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function An(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Ip=null;function G0(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return An(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function $0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function uS(t,e,n){switch(e=Ih(n),t){case"html":if(t=e.documentElement,!t)throw Error(z(452));return t;case"head":if(t=e.head,!t)throw Error(z(453));return t;case"body":if(t=e.body,!t)throw Error(z(454));return t;default:throw Error(z(451))}}function Ml(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Vg(t)}var Nn=new Map,Y0=new Set;function Dh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qr=ve.d;ve.d={f:pI,r:gI,D:yI,C:vI,L:_I,m:bI,X:EI,S:TI,M:wI};function pI(){var t=qr.f(),e=Cf();return t||e}function gI(t){var e=co(t);e!==null&&e.tag===5&&e.type==="form"?n1(e):qr.r(t)}var po=typeof document>"u"?null:document;function cS(t,e,n){var r=po;if(r&&typeof e=="string"&&e){var i=bn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Y0.has(i)||(Y0.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Nt(e,"link",t),gt(e),r.head.appendChild(e)))}}function yI(t){qr.D(t),cS("dns-prefetch",t,null)}function vI(t,e){qr.C(t,e),cS("preconnect",t,e)}function _I(t,e,n){qr.L(t,e,n);var r=po;if(r&&t&&e){var i='link[rel="preload"][as="'+bn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+bn(n.imageSizes)+'"]')):i+='[href="'+bn(t)+'"]';var a=i;switch(e){case"style":a=Zs(t);break;case"script":a=go(t)}Nn.has(a)||(t=Pe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Nn.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(wu(a))||e==="script"&&r.querySelector(Su(a))||(e=r.createElement("link"),Nt(e,"link",t),gt(e),r.head.appendChild(e)))}}function bI(t,e){qr.m(t,e);var n=po;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+bn(r)+'"][href="'+bn(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=go(t)}if(!Nn.has(a)&&(t=Pe({rel:"modulepreload",href:t},e),Nn.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Su(a)))return}r=n.createElement("link"),Nt(r,"link",t),gt(r),n.head.appendChild(r)}}}function TI(t,e,n){qr.S(t,e,n);var r=po;if(r&&t){var i=Os(r).hoistableStyles,a=Zs(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(wu(a)))o.loading=5;else{t=Pe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Nn.get(a))&&Ty(t,n);var u=s=r.createElement("link");gt(u),Nt(u,"link",t),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,qc(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function EI(t,e){qr.X(t,e);var n=po;if(n&&t){var r=Os(n).hoistableScripts,i=go(t),a=r.get(i);a||(a=n.querySelector(Su(i)),a||(t=Pe({src:t,async:!0},e),(e=Nn.get(i))&&Ey(t,e),a=n.createElement("script"),gt(a),Nt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function wI(t,e){qr.M(t,e);var n=po;if(n&&t){var r=Os(n).hoistableScripts,i=go(t),a=r.get(i);a||(a=n.querySelector(Su(i)),a||(t=Pe({src:t,async:!0,type:"module"},e),(e=Nn.get(i))&&Ey(t,e),a=n.createElement("script"),gt(a),Nt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function K0(t,e,n,r){var i=(i=bi.current)?Dh(i):null;if(!i)throw Error(z(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Zs(n.href),n=Os(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Zs(n.href);var a=Os(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(wu(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Nn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(t,n),a||SI(i,t,n,s.state))),e&&r===null)throw Error(z(528,""));return s}if(e&&r!==null)throw Error(z(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=go(n),n=Os(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(z(444,t))}}function Zs(t){return'href="'+bn(t)+'"'}function wu(t){return'link[rel="stylesheet"]['+t+"]"}function hS(t){return Pe({},t,{"data-precedence":t.precedence,precedence:null})}function SI(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Nt(e,"link",n),gt(e),t.head.appendChild(e))}function go(t){return'[src="'+bn(t)+'"]'}function Su(t){return"script[async]"+t}function W0(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+bn(n.href)+'"]');if(r)return e.instance=r,gt(r),r;var i=Pe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),gt(r),Nt(r,"style",i),qc(r,n.precedence,t),e.instance=r;case"stylesheet":i=Zs(n.href);var a=t.querySelector(wu(i));if(a)return e.state.loading|=4,e.instance=a,gt(a),a;r=hS(n),(i=Nn.get(i))&&Ty(r,i),a=(t.ownerDocument||t).createElement("link"),gt(a);var s=a;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Nt(a,"link",r),e.state.loading|=4,qc(a,n.precedence,t),e.instance=a;case"script":return a=go(n.src),(i=t.querySelector(Su(a)))?(e.instance=i,gt(i),i):(r=n,(i=Nn.get(a))&&(r=Pe({},n),Ey(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),gt(i),Nt(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(z(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,qc(r,n.precedence,t));return e.instance}function qc(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ty(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Ey(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Hc=null;function Q0(t,e,n){if(Hc===null){var r=new Map,i=Hc=new Map;i.set(n,r)}else i=Hc,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[yu]||a[wt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function X0(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function xI(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function fS(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function AI(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Zs(r.href),a=e.querySelector(wu(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Oh.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,gt(a);return}a=e.ownerDocument||e,r=hS(r),(i=Nn.get(i))&&Ty(r,i),a=a.createElement("link"),gt(a);var s=a;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),Nt(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Oh.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var cm=0;function CI(t,e){return t.stylesheets&&t.count===0&&Gc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&cm===0&&(cm=62500*oI());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Gc(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>cm?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Oh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kh=null;function Gc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kh=new Map,e.forEach(NI,t),kh=null,Oh.call(t))}function NI(t,e){if(!(e.state.loading&4)){var n=kh.get(t);if(n)var r=n.get(null);else{n=new Map,kh.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Jl={$$typeof:wr,Provider:null,Consumer:null,_currentValue:ba,_currentValue2:ba,_threadCount:0};function RI(t,e,n,r,i,a,s,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kd(0),this.hiddenUpdates=kd(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function dS(t,e,n,r,i,a,s,o,u,c,h,m){return t=new RI(t,e,n,s,u,c,h,m,o),e=1,a===!0&&(e|=24),a=nn(3,null,null,e),t.current=a,a.stateNode=t,e=Kg(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},Xg(a),t}function mS(t){return t?(t=ws,t):ws}function pS(t,e,n,r,i,a){i=mS(i),r.context===null?r.context=i:r.pendingContext=i,r=Ei(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=wi(t,r,e),n!==null&&(Yt(n,t,e),Al(n,t,e))}function J0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wy(t,e){J0(t,e),(t=t.alternate)&&J0(t,e)}function gS(t){if(t.tag===13||t.tag===31){var e=Fa(t,67108864);e!==null&&Yt(e,t,67108864),wy(t,67108864)}}function Z0(t){if(t.tag===13||t.tag===31){var e=un();e=Mg(e);var n=Fa(t,e);n!==null&&Yt(n,t,e),wy(t,e)}}var Mh=!0;function II(t,e,n,r){var i=ee.T;ee.T=null;var a=ve.p;try{ve.p=2,Sy(t,e,n,r)}finally{ve.p=a,ee.T=i}}function DI(t,e,n,r){var i=ee.T;ee.T=null;var a=ve.p;try{ve.p=8,Sy(t,e,n,r)}finally{ve.p=a,ee.T=i}}function Sy(t,e,n,r){if(Mh){var i=Dp(r);if(i===null)lm(t,e,r,Ph,n),eb(t,r);else if(kI(i,t,e,n,r))r.stopPropagation();else if(eb(t,r),e&4&&-1<OI.indexOf(t)){for(;i!==null;){var a=co(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=ma(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-ln(s);o.entanglements[1]|=u,s&=~u}hr(a),!(ye&6)&&(Sh=sn()+500,Eu(0))}}break;case 31:case 13:o=Fa(a,2),o!==null&&Yt(o,a,2),Cf(),wy(a,2)}if(a=Dp(r),a===null&&lm(t,e,r,Ph,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else lm(t,e,r,null,n)}}function Dp(t){return t=Lg(t),xy(t)}var Ph=null;function xy(t){if(Ph=null,t=ys(t),t!==null){var e=du(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===31){if(t=jE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ph=t,null}function yS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yR()){case BE:return 2;case FE:return 8;case ch:case vR:return 32;case qE:return 268435456;default:return 32}default:return 32}}var Op=!1,Ai=null,Ci=null,Ni=null,Zl=new Map,eu=new Map,ui=[],OI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eb(t,e){switch(t){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":eu.delete(e.pointerId)}}function sl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=co(e),e!==null&&gS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kI(t,e,n,r,i){switch(e){case"focusin":return Ai=sl(Ai,t,e,n,r,i),!0;case"dragenter":return Ci=sl(Ci,t,e,n,r,i),!0;case"mouseover":return Ni=sl(Ni,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Zl.set(a,sl(Zl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,eu.set(a,sl(eu.get(a)||null,t,e,n,r,i)),!0}return!1}function vS(t){var e=ys(t.target);if(e!==null){var n=du(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,L_(t.priority,function(){Z0(n)});return}}else if(e===31){if(e=jE(n),e!==null){t.blockedOn=e,L_(t.priority,function(){Z0(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Dp(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qm=r,n.target.dispatchEvent(r),Qm=null}else return e=co(n),e!==null&&gS(e),t.blockedOn=n,!1;e.shift()}return!0}function tb(t,e,n){$c(t)&&n.delete(e)}function MI(){Op=!1,Ai!==null&&$c(Ai)&&(Ai=null),Ci!==null&&$c(Ci)&&(Ci=null),Ni!==null&&$c(Ni)&&(Ni=null),Zl.forEach(tb),eu.forEach(tb)}function vc(t,e){t.blockedOn===e&&(t.blockedOn=null,Op||(Op=!0,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,MI)))}var _c=null;function nb(t){_c!==t&&(_c=t,ut.unstable_scheduleCallback(ut.unstable_NormalPriority,function(){_c===t&&(_c=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(xy(r||n)===null)continue;break}var a=co(n);a!==null&&(t.splice(e,3),e-=3,fp(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function eo(t){function e(u){return vc(u,t)}Ai!==null&&vc(Ai,t),Ci!==null&&vc(Ci,t),Ni!==null&&vc(Ni,t),Zl.forEach(e),eu.forEach(e);for(var n=0;n<ui.length;n++){var r=ui[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)vS(n),n.blockedOn===null&&ui.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Wt]||null;if(typeof a=="function")s||nb(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Wt]||null)o=s.formAction;else if(xy(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),nb(n)}}}function _S(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Ay(t){this._internalRoot=t}If.prototype.render=Ay.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));var n=e.current,r=un();pS(n,r,t,e,null,null)};If.prototype.unmount=Ay.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pS(t.current,2,null,t,null,null),Cf(),e[uo]=null}};function If(t){this._internalRoot=t}If.prototype.unstable_scheduleHydration=function(t){if(t){var e=KE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&vS(t)}};var rb=ME.version;if(rb!=="19.2.3")throw Error(z(527,rb,"19.2.3"));ve.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=cR(e),t=t!==null?LE(t):null,t=t===null?null:t.stateNode,t};var PI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{mu=bc.inject(PI),on=bc}catch{}}df.createRoot=function(t,e){if(!PE(t))throw Error(z(299));var n=!1,r="",i=c1,a=h1,s=f1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=dS(t,1,!1,null,null,n,r,null,i,a,s,_S),t[uo]=e.current,by(t),new Ay(e)};df.hydrateRoot=function(t,e,n){if(!PE(t))throw Error(z(299));var r=!1,i="",a=c1,s=h1,o=f1,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=dS(t,1,!0,e,n??null,r,i,u,a,s,o,_S),e.context=mS(null),n=e.current,r=un(),r=Mg(r),i=Ei(r),i.callback=null,wi(n,i,r),n=r,e.current.lanes=n,gu(e,n),hr(e),t[uo]=e.current,by(t),new If(e)};df.version="19.2.3";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(t){console.error(t)}}bS(),NE.exports=df;var VI=NE.exports;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ib="popstate";function jI(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return kp("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tu(i)}return UI(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LI(){return Math.random().toString(36).substring(2,10)}function ab(t,e){return{usr:t.state,key:t.key,idx:e}}function kp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||r||LI()}}function tu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function UI(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",u=null,c=h();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function h(){return(s.state||{idx:null}).idx}function m(){o="POP";let R=h(),v=R==null?null:R-c;c=R,u&&u({action:o,location:I.location,delta:v})}function p(R,v){o="PUSH";let _=kp(I.location,R,v);c=h()+1;let x=ab(_,c),N=I.createHref(_);try{s.pushState(x,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(N)}a&&u&&u({action:o,location:I.location,delta:1})}function y(R,v){o="REPLACE";let _=kp(I.location,R,v);c=h();let x=ab(_,c),N=I.createHref(_);s.replaceState(x,"",N),a&&u&&u({action:o,location:I.location,delta:0})}function S(R){return zI(R)}let I={get action(){return o},get location(){return t(i,s)},listen(R){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(ib,m),u=R,()=>{i.removeEventListener(ib,m),u=null}},createHref(R){return e(i,R)},createURL:S,encodeLocation(R){let v=S(R);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(R){return s.go(R)}};return I}function zI(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Le(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:tu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function TS(t,e,n="/"){return BI(t,e,n,!1)}function BI(t,e,n,r){let i=typeof e=="string"?yo(e):e,a=Lr(i.pathname||"/",n);if(a==null)return null;let s=ES(t);FI(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=ZI(a);o=XI(s[u],c,r)}return o}function ES(t,e=[],n=[],r="",i=!1){let a=(s,o,u=i,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&u)return;Le(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let m=Dr([r,h.relativePath]),p=n.concat(h);s.children&&s.children.length>0&&(Le(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ES(s.children,e,p,m,u)),!(s.path==null&&!s.index)&&e.push({path:m,score:WI(m,s.index),routesMeta:p})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,o);else for(let c of wS(s.path))a(s,o,!0,c)}),e}function wS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=wS(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function FI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var qI=/^:[\w-]+$/,HI=3,GI=2,$I=1,YI=10,KI=-2,sb=t=>t==="*";function WI(t,e){let n=t.split("/"),r=n.length;return n.some(sb)&&(r+=KI),e&&(r+=GI),n.filter(i=>!sb(i)).reduce((i,a)=>i+(qI.test(a)?HI:a===""?$I:YI),r)}function QI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function XI(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=Vh({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Vh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Dr([a,m.pathname]),pathnameBase:rD(Dr([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=Dr([a,m.pathnameBase]))}return s}function Vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=JI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:m},p)=>{if(h==="*"){let S=o[p]||"";s=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const y=o[p];return m&&!y?c[h]=void 0:c[h]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function JI(t,e=!1,n=!0){Rn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function ZI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Lr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var SS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eD=t=>SS.test(t);function tD(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?yo(t):t,a;if(n)if(eD(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Rn(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=ob(n.substring(1),"/"):a=ob(n,e)}else a=e;return{pathname:a,search:iD(r),hash:aD(i)}}function ob(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hm(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cy(t){let e=nD(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ny(t,e,n,r=!1){let i;typeof t=="string"?i=yo(t):(i={...t},Le(!i.pathname||!i.pathname.includes("?"),hm("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),hm("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),hm("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}o=m>=0?e[m]:"/"}let u=tD(i,o),c=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var Dr=t=>t.join("/").replace(/\/\/+/g,"/"),rD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),iD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,sD=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function oD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function lD(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AS(t,e){let n=t;if(typeof n!="string"||!SS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(xS)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=Lr(s.pathname,e);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{Rn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CS=["POST","PUT","PATCH","DELETE"];new Set(CS);var uD=["GET",...CS];new Set(uD);var vo=O.createContext(null);vo.displayName="DataRouter";var Df=O.createContext(null);Df.displayName="DataRouterState";var cD=O.createContext(!1),NS=O.createContext({isTransitioning:!1});NS.displayName="ViewTransition";var hD=O.createContext(new Map);hD.displayName="Fetchers";var fD=O.createContext(null);fD.displayName="Await";var dn=O.createContext(null);dn.displayName="Navigation";var xu=O.createContext(null);xu.displayName="Location";var Fn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Fn.displayName="Route";var Ry=O.createContext(null);Ry.displayName="RouteError";var RS="REACT_ROUTER_ERROR",dD="REDIRECT",mD="ROUTE_ERROR_RESPONSE";function pD(t){if(t.startsWith(`${RS}:${dD}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function gD(t){if(t.startsWith(`${RS}:${mD}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new sD(e.status,e.statusText,e.data)}catch{}}function yD(t,{relative:e}={}){Le(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(dn),{hash:i,pathname:a,search:s}=Cu(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Dr([n,a])),r.createHref({pathname:o,search:s,hash:i})}function _o(){return O.useContext(xu)!=null}function Hr(){return Le(_o(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(xu).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DS(t){O.useContext(dn).static||O.useLayoutEffect(t)}function Au(){let{isDataRoute:t}=O.useContext(Fn);return t?DD():vD()}function vD(){Le(_o(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(vo),{basename:e,navigator:n}=O.useContext(dn),{matches:r}=O.useContext(Fn),{pathname:i}=Hr(),a=JSON.stringify(Cy(r)),s=O.useRef(!1);return DS(()=>{s.current=!0}),O.useCallback((u,c={})=>{if(Rn(s.current,IS),!s.current)return;if(typeof u=="number"){n.go(u);return}let h=Ny(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Dr([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,i,t])}O.createContext(null);function _D(){let{matches:t}=O.useContext(Fn),e=t[t.length-1];return e?e.params:{}}function Cu(t,{relative:e}={}){let{matches:n}=O.useContext(Fn),{pathname:r}=Hr(),i=JSON.stringify(Cy(n));return O.useMemo(()=>Ny(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function bD(t,e){return OS(t,e)}function OS(t,e,n,r,i){var _;Le(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(dn),{matches:s}=O.useContext(Fn),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",h=o?o.pathnameBase:"/",m=o&&o.route;{let x=m&&m.path||"";MS(c,!m||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let p=Hr(),y;if(e){let x=typeof e=="string"?yo(e):e;Le(h==="/"||((_=x.pathname)==null?void 0:_.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${x.pathname}" was given in the \`location\` prop.`),y=x}else y=p;let S=y.pathname||"/",I=S;if(h!=="/"){let x=h.replace(/^\//,"").split("/");I="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let R=TS(t,{pathname:I});Rn(m||R!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Rn(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=xD(R&&R.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:Dr([h,a.encodeLocation?a.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?h:Dr([h,a.encodeLocation?a.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),s,n,r,i);return e&&v?O.createElement(xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function TD(){let t=ID(),e=oD(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,s)}var ED=O.createElement(TD,null),kS=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=gD(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(Fn.Provider,{value:this.props.routeContext},O.createElement(Ry.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(wD,{error:t},e):e}};kS.contextType=cD;var fm=new WeakMap;function wD({children:t,error:e}){let{basename:n}=O.useContext(dn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=pD(e.digest);if(r){let i=fm.get(e);if(i)throw i;let a=AS(r.location,n);if(xS&&!fm.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw fm.set(e,s),s}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function SD({routeContext:t,match:e,children:n}){let r=O.useContext(vo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Fn.Provider,{value:t},n)}function xD(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let h=a.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Le(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let o=!1,u=-1;if(n)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:p,errors:y}=n,S=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||S){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&r?(h,m)=>{var p,y;r(h,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:lD(n.matches),errorInfo:m})}:void 0;return a.reduceRight((h,m,p)=>{let y,S=!1,I=null,R=null;n&&(y=s&&m.route.id?s[m.route.id]:void 0,I=m.route.errorElement||ED,o&&(u<0&&p===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):u===p&&(S=!0,R=m.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,p+1)),_=()=>{let x;return y?x=I:S?x=R:m.route.Component?x=O.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=h,O.createElement(SD,{match:m,routeContext:{outlet:h,matches:v,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?O.createElement(kS,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:c}):_()},null)}function Iy(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AD(t){let e=O.useContext(vo);return Le(e,Iy(t)),e}function CD(t){let e=O.useContext(Df);return Le(e,Iy(t)),e}function ND(t){let e=O.useContext(Fn);return Le(e,Iy(t)),e}function Dy(t){let e=ND(t),n=e.matches[e.matches.length-1];return Le(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function RD(){return Dy("useRouteId")}function ID(){var r;let t=O.useContext(Ry),e=CD("useRouteError"),n=Dy("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function DD(){let{router:t}=AD("useNavigate"),e=Dy("useNavigate"),n=O.useRef(!1);return DS(()=>{n.current=!0}),O.useCallback(async(i,a={})=>{Rn(n.current,IS),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var lb={};function MS(t,e,n){!e&&!lb[t]&&(lb[t]=!0,Rn(!1,n))}O.memo(OD);function OD({routes:t,future:e,state:n,onError:r}){return OS(t,void 0,n,r,e)}function kD({to:t,replace:e,state:n,relative:r}){Le(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(dn);Rn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Fn),{pathname:s}=Hr(),o=Au(),u=Ny(t,Cy(a),s,r==="path"),c=JSON.stringify(u);return O.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function Yc(t){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Le(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=yo(n));let{pathname:c="/",search:h="",hash:m="",state:p=null,key:y="default"}=n,S=O.useMemo(()=>{let I=Lr(c,o);return I==null?null:{location:{pathname:I,search:h,hash:m,state:p,key:y},navigationType:r}},[o,c,h,m,p,y,r]);return Rn(S!=null,`<Router basename="${o}"> is not able to match the URL "${c}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:O.createElement(dn.Provider,{value:u},O.createElement(xu.Provider,{children:e,value:S}))}function PD({children:t,location:e}){return bD(Mp(t),e)}function Mp(t,e=[]){let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let a=[...e,i];if(r.type===O.Fragment){n.push.apply(n,Mp(r.props.children,a));return}Le(r.type===Yc,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Mp(r.props.children,a)),n.push(s)}),n}var Kc="get",Wc="application/x-www-form-urlencoded";function Of(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function VD(t){return Of(t)&&t.tagName.toLowerCase()==="button"}function jD(t){return Of(t)&&t.tagName.toLowerCase()==="form"}function LD(t){return Of(t)&&t.tagName.toLowerCase()==="input"}function UD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zD(t,e){return t.button===0&&(!e||e==="_self")&&!UD(t)}var Tc=null;function BD(){if(Tc===null)try{new FormData(document.createElement("form"),0),Tc=!1}catch{Tc=!0}return Tc}var FD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dm(t){return t!=null&&!FD.has(t)?(Rn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wc}"`),null):t}function qD(t,e){let n,r,i,a,s;if(jD(t)){let o=t.getAttribute("action");r=o?Lr(o,e):null,n=t.getAttribute("method")||Kc,i=dm(t.getAttribute("enctype"))||Wc,a=new FormData(t)}else if(VD(t)||LD(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?Lr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Kc,i=dm(t.getAttribute("formenctype"))||dm(o.getAttribute("enctype"))||Wc,a=new FormData(o,t),!BD()){let{name:c,type:h,value:m}=t;if(h==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,m)}}else{if(Of(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kc,r=null,i=Wc,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Oy(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function HD(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Lr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function GD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $D(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function YD(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await GD(a,n);return s.links?s.links():[]}return[]}));return XD(r.flat(1).filter($D).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ub(t,e,n,r,i,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?e.filter((u,c)=>{var m;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function KD(t,e,{includeHydrateFallback:n}={}){return WD(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function WD(t){return[...new Set(t)]}function QD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function XD(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(QD(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function PS(){let t=O.useContext(vo);return Oy(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function JD(){let t=O.useContext(Df);return Oy(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var ky=O.createContext(void 0);ky.displayName="FrameworkContext";function VS(){let t=O.useContext(ky);return Oy(t,"You must render this element inside a <HydratedRouter> element"),t}function ZD(t,e){let n=O.useContext(ky),[r,i]=O.useState(!1),[a,s]=O.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:m}=e,p=O.useRef(null);O.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let I=v=>{v.forEach(_=>{s(_.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return p.current&&R.observe(p.current),()=>{R.disconnect()}}},[t]),O.useEffect(()=>{if(r){let I=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(I)}}},[r]);let y=()=>{i(!0)},S=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,p,{}]:[a,p,{onFocus:ol(o,y),onBlur:ol(u,S),onMouseEnter:ol(c,y),onMouseLeave:ol(h,S),onTouchStart:ol(m,y)}]:[!1,p,{}]}function ol(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function eO({page:t,...e}){let{router:n}=PS(),r=O.useMemo(()=>TS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(nO,{page:t,matches:r,...e}):null}function tO(t){let{manifest:e,routeModules:n}=VS(),[r,i]=O.useState([]);return O.useEffect(()=>{let a=!1;return YD(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function nO({page:t,matches:e,...n}){let r=Hr(),{manifest:i,routeModules:a}=VS(),{basename:s}=PS(),{loaderData:o,matches:u}=JD(),c=O.useMemo(()=>ub(t,e,u,i,r,"data"),[t,e,u,i,r]),h=O.useMemo(()=>ub(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,I=!1;if(e.forEach(v=>{var x;let _=i.routes[v.route.id];!_||!_.hasLoader||(!c.some(N=>N.route.id===v.route.id)&&v.route.id in o&&((x=a[v.route.id])!=null&&x.shouldRevalidate)||_.hasClientLoader?I=!0:S.add(v.route.id))}),S.size===0)return[];let R=HD(t,s,"data");return I&&S.size>0&&R.searchParams.set("_routes",e.filter(v=>S.has(v.route.id)).map(v=>v.route.id).join(",")),[R.pathname+R.search]},[s,o,r,i,c,e,t,a]),p=O.useMemo(()=>KD(h,i),[h,i]),y=tO(h);return O.createElement(O.Fragment,null,m.map(S=>O.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),p.map(S=>O.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),y.map(({key:S,link:I})=>O.createElement("link",{key:S,nonce:n.nonce,...I})))}function rO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iO&&(window.__reactRouterVersion="7.11.0")}catch{}function aO({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=O.useRef();i.current==null&&(i.current=jI({window:r,v5Compat:!0}));let a=i.current,[s,o]=O.useState({action:a.action,location:a.location}),u=O.useCallback(c=>{n===!1?o(c):O.startTransition(()=>o(c))},[n]);return O.useLayoutEffect(()=>a.listen(u),[a,u]),O.createElement(MD,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var jS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LS=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},S){let{basename:I,unstable_useTransitions:R}=O.useContext(dn),v=typeof c=="string"&&jS.test(c),_=AS(c,I);c=_.to;let x=yD(c,{relative:i}),[N,L,F]=ZD(r,y),E=uO(c,{replace:s,state:o,target:u,preventScrollReset:h,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:R});function T(C){e&&e(C),C.defaultPrevented||E(C)}let A=O.createElement("a",{...y,...F,href:_.absoluteURL||x,onClick:_.isExternal||a?e:T,ref:rO(S,L),target:u,"data-discover":!v&&n==="render"?"true":void 0});return N&&!v?O.createElement(O.Fragment,null,A,O.createElement(eO,{page:x})):A});LS.displayName="Link";var sO=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:u,...c},h){let m=Cu(s,{relative:c.relative}),p=Hr(),y=O.useContext(Df),{navigator:S,basename:I}=O.useContext(dn),R=y!=null&&mO(m)&&o===!0,v=S.encodeLocation?S.encodeLocation(m).pathname:m.pathname,_=p.pathname,x=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&I&&(x=Lr(x,I)||x);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let L=_===v||!i&&_.startsWith(v)&&_.charAt(N)==="/",F=x!=null&&(x===v||!i&&x.startsWith(v)&&x.charAt(v.length)==="/"),E={isActive:L,isPending:F,isTransitioning:R},T=L?e:void 0,A;typeof r=="function"?A=r(E):A=[r,L?"active":null,F?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(E):a;return O.createElement(LS,{...c,"aria-current":T,className:A,ref:h,style:C,to:s,viewTransition:o},typeof u=="function"?u(E):u)});sO.displayName="NavLink";var oO=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Kc,action:o,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},S)=>{let{unstable_useTransitions:I}=O.useContext(dn),R=fO(),v=dO(o,{relative:c}),_=s.toLowerCase()==="get"?"get":"post",x=typeof o=="string"&&jS.test(o),N=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let F=L.nativeEvent.submitter,E=(F==null?void 0:F.getAttribute("formmethod"))||s,T=()=>R(F||L.currentTarget,{fetcherKey:e,method:E,navigate:n,replace:i,state:a,relative:c,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:p});I&&n!==!1?O.startTransition(()=>T()):T()};return O.createElement("form",{ref:S,method:_,action:v,onSubmit:r?u:N,...y,"data-discover":!x&&t==="render"?"true":void 0})});oO.displayName="Form";function lO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(t){let e=O.useContext(vo);return Le(e,lO(t)),e}function uO(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let c=Au(),h=Hr(),m=Cu(t,{relative:a});return O.useCallback(p=>{if(zD(p,e)){p.preventDefault();let y=n!==void 0?n:tu(h)===tu(m),S=()=>c(t,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});u?O.startTransition(()=>S()):S()}},[h,c,m,n,r,e,t,i,a,s,o,u])}var cO=0,hO=()=>`__${String(++cO)}__`;function fO(){let{router:t}=US("useSubmit"),{basename:e}=O.useContext(dn),n=RD(),r=t.fetch,i=t.navigate;return O.useCallback(async(a,s={})=>{let{action:o,method:u,encType:c,formData:h,body:m}=qD(a,e);if(s.navigate===!1){let p=s.fetcherKey||hO();await r(p,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function dO(t,{relative:e}={}){let{basename:n}=O.useContext(dn),r=O.useContext(Fn);Le(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Cu(t||".",{relative:e})},s=Hr();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(h=>h==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let h=o.toString();a.search=h?`?${h}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Dr([n,a.pathname])),tu(a)}function mO(t,{relative:e}={}){let n=O.useContext(NS);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=US("useViewTransitionState"),i=Cu(t,{relative:e});if(!n.isTransitioning)return!1;let a=Lr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Lr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vh(i.pathname,s)!=null||Vh(i.pathname,a)!=null}function zS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=zS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kf(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=zS(t))&&(r&&(r+=" "),r+=e);return r}const pO=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),a=Object.getOwnPropertyDescriptor(e,n);!gO(i,a)&&r||Object.defineProperty(t,n,a)},gO=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},yO=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},vO=(t,e)=>`/* Wrapped ${t}*/
${e}`,_O=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),bO=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),TO=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=vO.bind(null,r,e.toString());Object.defineProperty(i,"name",bO);const{writable:a,enumerable:s,configurable:o}=_O;Object.defineProperty(t,"toString",{value:i,writable:a,enumerable:s,configurable:o})};function EO(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))pO(t,e,i,n);return yO(t,e),TO(t,e,r),t}const Ec=2147483647,wO=new WeakMap,mm=new WeakMap,SO=new WeakMap;function xO(t,e){const n=t.get(e);if(n){if(n.maxAge<=Date.now()){t.delete(e);return}return n}}function BS(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"&&Number.isFinite(r)){if(r>Ec)throw new TypeError(`The \`maxAge\` option cannot exceed ${Ec}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...a){var h;const s=e?e(a):a[0],o=xO(n,s);if(o)return o.data;const u=t.apply(this,a),c=typeof r=="function"?r(...a):r;if(c!==void 0&&c!==Number.POSITIVE_INFINITY){if(!Number.isFinite(c))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(c<=0)return u;if(c>Ec)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Ec}.`)}if(n.set(s,{data:u,maxAge:c===void 0||c===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+c}),c!==void 0&&c!==Number.POSITIVE_INFINITY){const m=setTimeout(()=>{var y;n.delete(s),(y=mm.get(i))==null||y.delete(m)},c);(h=m.unref)==null||h.call(m);const p=mm.get(i)??new Set;p.add(m),mm.set(i,p)}return u};return EO(i,t,{ignoreNonConfigurable:!0}),wO.set(i,n),SO.set(i,e??(a=>a[0])),i}function AO(t){return typeof t=="string"}function CO(t,e,n){return n.indexOf(t)===e}function NO(t){return t.toLowerCase()===t}function cb(t){return t.indexOf(",")===-1?t:t.split(",")}function Pp(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Pp(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return Pp(n)}if(t.indexOf("-")===-1||!NO(t))return t;var i=t.split("-"),a=i[0],s=i[1],o=s===void 0?"":s;return"".concat(a,"-").concat(o.toUpperCase())}function RO(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,a=i===void 0?"en-US":i,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],u=[],c=0,h=o;c<h.length;c++){var m=h[c];u=u.concat(cb(m))}var p=navigator.language,y=p&&cb(p);s=s.concat(u,y)}return r&&s.push(a),s.filter(AO).map(Pp).filter(CO)}var IO=BS(RO,{cacheKey:JSON.stringify});function DO(t){return IO(t)[0]||null}var FS=BS(DO,{cacheKey:JSON.stringify});function Gr(t,e,n){return function(i,a=n){const s=t(i)+a;return e(s)}}function Nu(t){return function(n){return new Date(t(n).getTime()-1)}}function Ru(t,e){return function(r){return[t(r),e(r)]}}function Ue(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function Ki(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Mf(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function bo(t){const e=Ue(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const OO=Gr(Ue,bo,-100),qS=Gr(Ue,bo,100),My=Nu(qS),kO=Gr(Ue,My,-100),HS=Ru(bo,My);function Wi(t){const e=Ue(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const GS=Gr(Ue,Wi,-10),Py=Gr(Ue,Wi,10),Pf=Nu(Py),$S=Gr(Ue,Pf,-10),YS=Ru(Wi,Pf);function To(t){const e=Ue(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const KS=Gr(Ue,To,-1),Vy=Gr(Ue,To,1),Vf=Nu(Vy),WS=Gr(Ue,Vf,-1),MO=Ru(To,Vf);function jy(t,e){return function(r,i=e){const a=Ue(r),s=Ki(r)+i,o=new Date;return o.setFullYear(a,s,1),o.setHours(0,0,0,0),t(o)}}function Ha(t){const e=Ue(t),n=Ki(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const QS=jy(Ha,-1),Ly=jy(Ha,1),Iu=Nu(Ly),XS=jy(Iu,-1),PO=Ru(Ha,Iu);function VO(t,e){return function(r,i=e){const a=Ue(r),s=Ki(r),o=Mf(r)+i,u=new Date;return u.setFullYear(a,s,o),u.setHours(0,0,0,0),t(u)}}function Du(t){const e=Ue(t),n=Ki(t),r=Mf(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const jO=VO(Du,1),Uy=Nu(jO),LO=Ru(Du,Uy);function JS(t){return Mf(Iu(t))}var xt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},UO={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},zy=[0,1,2,3,4,5,6],pm=new Map;function zO(t){return function(n,r){var i=n||FS();pm.has(i)||pm.set(i,new Map);var a=pm.get(i);return a.has(t)||a.set(t,new Intl.DateTimeFormat(i||void 0,t).format),a.get(t)(r)}}function BO(t){var e=new Date(t);return new Date(e.setHours(12))}function Ga(t){return function(e,n){return zO(t)(e,BO(n))}}var FO={day:"numeric"},qO={day:"numeric",month:"long",year:"numeric"},HO={month:"long"},GO={month:"long",year:"numeric"},$O={weekday:"short"},YO={weekday:"long"},KO={year:"numeric"},WO=Ga(FO),QO=Ga(qO),XO=Ga(HO),ZS=Ga(GO),JO=Ga($O),ZO=Ga(YO),jf=Ga(KO),ek=zy[0],tk=zy[5],hb=zy[6];function nu(t,e){e===void 0&&(e=xt.ISO_8601);var n=t.getDay();switch(e){case xt.ISO_8601:return(n+6)%7;case xt.ISLAMIC:return(n+1)%7;case xt.HEBREW:case xt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function nk(t){var e=bo(t);return Ue(e)}function rk(t){var e=Wi(t);return Ue(e)}function Vp(t,e){e===void 0&&(e=xt.ISO_8601);var n=Ue(t),r=Ki(t),i=t.getDate()-nu(t,e);return new Date(n,r,i)}function ik(t,e){e===void 0&&(e=xt.ISO_8601);var n=e===xt.GREGORY?xt.GREGORY:xt.ISO_8601,r=Vp(t,e),i=Ue(t)+1,a,s;do a=new Date(i,0,n===xt.ISO_8601?4:1),s=Vp(a,e),i-=1;while(t<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function xa(t,e){switch(t){case"century":return bo(e);case"decade":return Wi(e);case"year":return To(e);case"month":return Ha(e);case"day":return Du(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ak(t,e){switch(t){case"century":return OO(e);case"decade":return GS(e);case"year":return KS(e);case"month":return QS(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ex(t,e){switch(t){case"century":return qS(e);case"decade":return Py(e);case"year":return Vy(e);case"month":return Ly(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function sk(t,e){switch(t){case"decade":return GS(e,-100);case"year":return KS(e,-10);case"month":return QS(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ok(t,e){switch(t){case"decade":return Py(e,100);case"year":return Vy(e,10);case"month":return Ly(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function tx(t,e){switch(t){case"century":return My(e);case"decade":return Pf(e);case"year":return Vf(e);case"month":return Iu(e);case"day":return Uy(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function lk(t,e){switch(t){case"century":return kO(e);case"decade":return $S(e);case"year":return WS(e);case"month":return XS(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function uk(t,e){switch(t){case"decade":return $S(e,-100);case"year":return WS(e,-10);case"month":return XS(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function fb(t,e){switch(t){case"century":return HS(e);case"decade":return YS(e);case"year":return MO(e);case"month":return PO(e);case"day":return LO(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function ck(t,e,n){var r=[e,n].sort(function(i,a){return i.getTime()-a.getTime()});return[xa(t,r[0]),tx(t,r[1])]}function nx(t,e,n){return n.map(function(r){return(e||jf)(t,r)}).join("  ")}function hk(t,e,n){return nx(t,e,HS(n))}function rx(t,e,n){return nx(t,e,YS(n))}function fk(t){return t.getDay()===new Date().getDay()}function ix(t,e){e===void 0&&(e=xt.ISO_8601);var n=t.getDay();switch(e){case xt.ISLAMIC:case xt.HEBREW:return n===tk||n===hb;case xt.ISO_8601:case xt.GREGORY:return n===hb||n===ek;default:throw new Error("Unsupported calendar type.")}}var Qn="react-calendar__navigation";function dk(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?ZS:r,a=t.formatYear,s=a===void 0?jf:a,o=t.locale,u=t.maxDate,c=t.minDate,h=t.navigationAriaLabel,m=h===void 0?"":h,p=t.navigationAriaLive,y=t.navigationLabel,S=t.next2AriaLabel,I=S===void 0?"":S,R=t.next2Label,v=R===void 0?"":R,_=t.nextAriaLabel,x=_===void 0?"":_,N=t.nextLabel,L=N===void 0?"":N,F=t.prev2AriaLabel,E=F===void 0?"":F,T=t.prev2Label,A=T===void 0?"":T,C=t.prevAriaLabel,D=C===void 0?"":C,k=t.prevLabel,w=k===void 0?"":k,M=t.setActiveStartDate,q=t.showDoubleView,j=t.view,G=t.views,W=G.indexOf(j)>0,X=j!=="century",se=ak(j,e),ct=X?sk(j,e):void 0,ht=ex(j,e),zt=X?ok(j,e):void 0,vt=function(){if(se.getFullYear()<0)return!0;var qe=lk(j,e);return c&&c>=qe}(),mn=X&&function(){if(ct.getFullYear()<0)return!0;var qe=uk(j,e);return c&&c>=qe}(),$r=u&&u<ht,dr=X&&u&&u<zt;function mr(){M(se,"prev")}function On(){M(ct,"prev2")}function Io(){M(ht,"next")}function Do(){M(zt,"next2")}function ea(qe){var na=function(){switch(j){case"century":return hk(o,s,qe);case"decade":return rx(o,s,qe);case"year":return s(o,qe);case"month":return i(o,qe);default:throw new Error("Invalid view: ".concat(j,"."))}}();return y?y({date:qe,label:na,locale:o||FS()||void 0,view:j}):na}function ta(){var qe="".concat(Qn,"__label");return f.jsxs("button",{"aria-label":m,"aria-live":p,className:qe,disabled:!W,onClick:n,style:{flexGrow:1},type:"button",children:[f.jsx("span",{className:"".concat(qe,"__labelText ").concat(qe,"__labelText--from"),children:ea(e)}),q?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"".concat(qe,"__divider"),children:"  "}),f.jsx("span",{className:"".concat(qe,"__labelText ").concat(qe,"__labelText--to"),children:ea(ht)})]}):null]})}return f.jsxs("div",{className:Qn,children:[A!==null&&X?f.jsx("button",{"aria-label":E,className:"".concat(Qn,"__arrow ").concat(Qn,"__prev2-button"),disabled:mn,onClick:On,type:"button",children:A}):null,w!==null&&f.jsx("button",{"aria-label":D,className:"".concat(Qn,"__arrow ").concat(Qn,"__prev-button"),disabled:vt,onClick:mr,type:"button",children:w}),ta(),L!==null&&f.jsx("button",{"aria-label":x,className:"".concat(Qn,"__arrow ").concat(Qn,"__next-button"),disabled:$r,onClick:Io,type:"button",children:L}),v!==null&&X?f.jsx("button",{"aria-label":I,className:"".concat(Qn,"__arrow ").concat(Qn,"__next2-button"),disabled:dr,onClick:Do,type:"button",children:v}):null]})}var Cs=function(){return Cs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cs.apply(this,arguments)},mk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function db(t){return"".concat(t,"%")}function By(t){var e=t.children,n=t.className,r=t.count,i=t.direction,a=t.offset,s=t.style,o=t.wrap,u=mk(t,["children","className","count","direction","offset","style","wrap"]);return f.jsx("div",Cs({className:n,style:Cs({display:"flex",flexDirection:i,flexWrap:o?"wrap":"nowrap"},s)},u,{children:O.Children.map(e,function(c,h){var m=a&&h===0?db(100*a/r):null;return O.cloneElement(c,Cs(Cs({},c.props),{style:{flexBasis:db(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))})}))}function pk(t,e,n){return e&&e>t?e:n&&n<t?n:t}function ru(t,e){return e[0]<=t&&e[1]>=t}function gk(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function ax(t,e){return ru(t[0],e)||ru(t[1],e)}function mb(t,e,n){var r=ax(e,t),i=[];if(r){i.push(n);var a=ru(t[0],e),s=ru(t[1],e);a&&i.push("".concat(n,"Start")),s&&i.push("".concat(n,"End")),a&&s&&i.push("".concat(n,"BothEnds"))}return i}function yk(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function vk(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",a=[i];if(!n)return a;var s=new Date,o=function(){if(Array.isArray(n))return n;var y=t.dateType;if(!y)throw new Error("dateType is required when date is not an array of two dates");return fb(y,n)}();if(ru(s,o)&&a.push("".concat(i,"--now")),!e||!yk(e))return a;var u=function(){if(Array.isArray(e))return e;var y=t.valueType;if(!y)throw new Error("valueType is required when value is not an array of two dates");return fb(y,e)}();gk(u,o)?a.push("".concat(i,"--active")):ax(u,o)&&a.push("".concat(i,"--hasActive"));var c=mb(u,o,"".concat(i,"--range"));a.push.apply(a,c);var h=Array.isArray(e)?e:[e];if(r&&h.length===1){var m=r>u[0]?[u[0],r]:[r,u[0]],p=mb(m,o,"".concat(i,"--hover"));a.push.apply(a,p)}return a}function Lf(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,a=t.dateType,s=t.end,o=t.hover,u=t.offset,c=t.renderTile,h=t.start,m=t.step,p=m===void 0?1:m,y=t.value,S=t.valueType,I=[],R=h;R<=s;R+=p){var v=i(R);I.push(c({classes:vk({date:v,dateType:a,hover:o,value:y,valueType:S}),date:v}))}return f.jsx(By,{className:e,count:r,offset:u,wrap:!0,children:I})}function Uf(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,a=t.formatAbbr,s=t.locale,o=t.maxDate,u=t.maxDateTransform,c=t.minDate,h=t.minDateTransform,m=t.onClick,p=t.onMouseOver,y=t.style,S=t.tileClassName,I=t.tileContent,R=t.tileDisabled,v=t.view,_=O.useMemo(function(){var N={activeStartDate:e,date:i,view:v};return typeof S=="function"?S(N):S},[e,i,S,v]),x=O.useMemo(function(){var N={activeStartDate:e,date:i,view:v};return typeof I=="function"?I(N):I},[e,i,I,v]);return f.jsxs("button",{className:kf(r,_),disabled:c&&h(c)>i||o&&u(o)<i||(R==null?void 0:R({activeStartDate:e,date:i,view:v})),onClick:m?function(N){return m(i,N)}:void 0,onFocus:p?function(){return p(i)}:void 0,onMouseOver:p?function(){return p(i)}:void 0,style:y,type:"button",children:[a?f.jsx("abbr",{"aria-label":a(s,i),children:n}):n,x]})}var jp=function(){return jp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jp.apply(this,arguments)},_k=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},pb="react-calendar__century-view__decades__decade";function bk(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,a=i===void 0?jf:i,s=_k(t,["classes","currentCentury","formatYear"]),o=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),c.push(pb),bo(o).getFullYear()!==r&&c.push("".concat(pb,"--neighboringCentury")),f.jsx(Uf,jp({},s,{classes:c,maxDateTransform:Pf,minDateTransform:Wi,view:"century",children:rx(u,a,o)}))}var Lp=function(){return Lp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Lp.apply(this,arguments)},gb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Tk(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,a=t.valueType,s=gb(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=nk(e),u=o+(r?119:99);return f.jsx(Lf,{className:"react-calendar__century-view__decades",dateTransform:Wi,dateType:"decade",end:u,hover:n,renderTile:function(c){var h=c.date,m=gb(c,["date"]);return f.jsx(bk,Lp({},s,m,{activeStartDate:e,currentCentury:o,date:h}),h.getTime())},start:o,step:10,value:i,valueType:a})}var Up=function(){return Up=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Up.apply(this,arguments)};function Ek(t){function e(){return f.jsx(Tk,Up({},t))}return f.jsx("div",{className:"react-calendar__century-view",children:e()})}var zp=function(){return zp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},zp.apply(this,arguments)},wk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},yb="react-calendar__decade-view__years__year";function Sk(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,a=i===void 0?jf:i,s=wk(t,["classes","currentDecade","formatYear"]),o=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),c.push(yb),Wi(o).getFullYear()!==r&&c.push("".concat(yb,"--neighboringDecade")),f.jsx(Uf,zp({},s,{classes:c,maxDateTransform:Vf,minDateTransform:To,view:"decade",children:a(u,o)}))}var Bp=function(){return Bp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Bp.apply(this,arguments)},vb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function xk(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,a=t.valueType,s=vb(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=rk(e),u=o+(r?11:9);return f.jsx(Lf,{className:"react-calendar__decade-view__years",dateTransform:To,dateType:"year",end:u,hover:n,renderTile:function(c){var h=c.date,m=vb(c,["date"]);return f.jsx(Sk,Bp({},s,m,{activeStartDate:e,currentDecade:o,date:h}),h.getTime())},start:o,value:i,valueType:a})}var Fp=function(){return Fp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fp.apply(this,arguments)};function Ak(t){function e(){return f.jsx(xk,Fp({},t))}return f.jsx("div",{className:"react-calendar__decade-view",children:e()})}var qp=function(){return qp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qp.apply(this,arguments)},Ck=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},_b=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},Nk="react-calendar__year-view__months__month";function Rk(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?XO:r,a=t.formatMonthYear,s=a===void 0?ZS:a,o=Ck(t,["classes","formatMonth","formatMonthYear"]),u=o.date,c=o.locale;return f.jsx(Uf,qp({},o,{classes:_b(_b([],n,!0),[Nk],!1),formatAbbr:s,maxDateTransform:Iu,minDateTransform:Ha,view:"year",children:i(c,u)}))}var Hp=function(){return Hp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hp.apply(this,arguments)},bb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Ik(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,a=bb(t,["activeStartDate","hover","value","valueType"]),s=0,o=11,u=Ue(e);return f.jsx(Lf,{className:"react-calendar__year-view__months",dateTransform:function(c){var h=new Date;return h.setFullYear(u,c,1),Ha(h)},dateType:"month",end:o,hover:n,renderTile:function(c){var h=c.date,m=bb(c,["date"]);return f.jsx(Rk,Hp({},a,m,{activeStartDate:e,date:h}),h.getTime())},start:s,value:r,valueType:i})}var Gp=function(){return Gp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Gp.apply(this,arguments)};function Dk(t){function e(){return f.jsx(Ik,Gp({},t))}return f.jsx("div",{className:"react-calendar__year-view",children:e()})}var $p=function(){return $p=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},$p.apply(this,arguments)},Ok=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},gm="react-calendar__month-view__days__day";function kk(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,a=t.formatDay,s=a===void 0?WO:a,o=t.formatLongDate,u=o===void 0?QO:o,c=Ok(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),h=c.date,m=c.locale,p=[];return r&&p.push.apply(p,r),p.push(gm),ix(h,e)&&p.push("".concat(gm,"--weekend")),h.getMonth()!==i&&p.push("".concat(gm,"--neighboringMonth")),f.jsx(Uf,$p({},c,{classes:p,formatAbbr:u,maxDateTransform:Uy,minDateTransform:Du,view:"month",children:s(m,h)}))}var Yp=function(){return Yp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yp.apply(this,arguments)},Tb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Mk(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,a=t.showNeighboringMonth,s=t.value,o=t.valueType,u=Tb(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=Ue(e),h=Ki(e),m=i||a,p=nu(e,n),y=m?0:p,S=(m?-p:0)+1,I=function(){if(i)return S+6*7-1;var R=JS(e);if(a){var v=new Date;v.setFullYear(c,h,R),v.setHours(0,0,0,0);var _=7-nu(v,n)-1;return R+_}return R}();return f.jsx(Lf,{className:"react-calendar__month-view__days",count:7,dateTransform:function(R){var v=new Date;return v.setFullYear(c,h,R),Du(v)},dateType:"day",hover:r,end:I,renderTile:function(R){var v=R.date,_=Tb(R,["date"]);return f.jsx(kk,Yp({},u,_,{activeStartDate:e,calendarType:n,currentMonthIndex:h,date:v}),v.getTime())},offset:y,start:S,value:s,valueType:o})}var sx="react-calendar__month-view__weekdays",ym="".concat(sx,"__weekday");function Pk(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?JO:n,i=t.formatWeekday,a=i===void 0?ZO:i,s=t.locale,o=t.onMouseLeave,u=new Date,c=Ha(u),h=Ue(c),m=Ki(c),p=[],y=1;y<=7;y+=1){var S=new Date(h,m,y-nu(c,e)),I=a(s,S);p.push(f.jsx("div",{className:kf(ym,fk(S)&&"".concat(ym,"--current"),ix(S,e)&&"".concat(ym,"--weekend")),children:f.jsx("abbr",{"aria-label":I,title:I,children:r(s,S).replace(".","")})},y))}return f.jsx(By,{className:sx,count:7,onFocus:o,onMouseOver:o,children:p})}var jh=function(){return jh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},jh.apply(this,arguments)},Eb=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},wb="react-calendar__tile";function Vk(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=f.jsx("span",{children:n});if(e){var i=t.date,a=t.onClickWeekNumber,s=t.weekNumber,o=Eb(t,["date","onClickWeekNumber","weekNumber"]);return f.jsx("button",jh({},o,{className:wb,onClick:function(u){return a(s,i,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=Eb(t,["date","onClickWeekNumber","weekNumber"]);return f.jsx("div",jh({},o,{className:wb,children:r}))}}function jk(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,a=t.showFixedNumberOfWeeks,s=function(){if(a)return 6;var c=JS(e),h=nu(e,n),m=c-(7-h);return 1+Math.ceil(m/7)}(),o=function(){for(var c=Ue(e),h=Ki(e),m=Mf(e),p=[],y=0;y<s;y+=1)p.push(Vp(new Date(c,h,m+y*7),n));return p}(),u=o.map(function(c){return ik(c,n)});return f.jsx(By,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(c,h){var m=o[h];if(!m)throw new Error("date is not defined");return f.jsx(Vk,{date:m,onClickWeekNumber:r,weekNumber:c},c)})})}var Kp=function(){return Kp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kp.apply(this,arguments)},Lk=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Uk(t){if(t)for(var e=0,n=Object.entries(UO);e<n.length;e++){var r=n[e],i=r[0],a=r[1];if(a.includes(t))return i}return xt.ISO_8601}function zk(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,a=t.calendarType,s=a===void 0?Uk(n):a,o=t.formatShortWeekday,u=t.formatWeekday,c=t.onClickWeekNumber,h=t.showWeekNumbers,m=Lk(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return f.jsx(Pk,{calendarType:s,formatShortWeekday:o,formatWeekday:u,locale:n,onMouseLeave:r})}function y(){return h?f.jsx(jk,{activeStartDate:e,calendarType:s,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function S(){return f.jsx(Mk,Kp({calendarType:s},m))}var I="react-calendar__month-view";return f.jsx("div",{className:kf(I,h?"".concat(I,"--weekNumbers"):""),children:f.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[y(),f.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),S()]})]})})}var Ns=function(){return Ns=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ns.apply(this,arguments)},wc="react-calendar",Qc=["century","decade","year","month"],Bk=["decade","year","month","day"],Fy=new Date;Fy.setFullYear(1,0,1);Fy.setHours(0,0,0,0);var Fk=new Date(864e13);function ml(t){return t instanceof Date?t:new Date(t)}function ox(t,e){return Qc.slice(Qc.indexOf(t),Qc.indexOf(e)+1)}function qk(t,e,n){var r=ox(e,n);return r.indexOf(t)!==-1}function qy(t,e,n){return t&&qk(t,e,n)?t:n}function lx(t){var e=Qc.indexOf(t);return Bk[e]}function Hk(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=ml(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function ux(t,e){var n=t.value,r=t.minDate,i=t.maxDate,a=t.maxDetail,s=Hk(n,e);if(!s)return null;var o=lx(a),u=function(){switch(e){case 0:return xa(o,s);case 1:return tx(o,s);default:throw new Error("Invalid index value: ".concat(e))}}();return pk(u,r,i)}var Hy=function(t){return ux(t,0)},cx=function(t){return ux(t,1)},Gk=function(t){return[Hy,cx].map(function(e){return e(t)})};function hx(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,a=t.value,s=t.view,o=qy(s,i,n),u=Hy({value:a,minDate:r,maxDate:e,maxDetail:n})||new Date;return xa(o,u)}function $k(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,a=t.maxDate,s=t.maxDetail,o=t.minDate,u=t.minDetail,c=t.value,h=t.view,m=qy(h,u,s),p=e||n;return p?xa(m,p):hx({maxDate:a,maxDetail:s,minDate:o,minDetail:u,value:c||r,view:h||i})}function vm(t){return t&&(!Array.isArray(t)||t.length===1)}function Sc(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var Yk=O.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,s=e.className,o=e.defaultActiveStartDate,u=e.defaultValue,c=e.defaultView,h=e.formatDay,m=e.formatLongDate,p=e.formatMonth,y=e.formatMonthYear,S=e.formatShortWeekday,I=e.formatWeekday,R=e.formatYear,v=e.goToRangeStartOnSelect,_=v===void 0?!0:v,x=e.inputRef,N=e.locale,L=e.maxDate,F=L===void 0?Fk:L,E=e.maxDetail,T=E===void 0?"month":E,A=e.minDate,C=A===void 0?Fy:A,D=e.minDetail,k=D===void 0?"century":D,w=e.navigationAriaLabel,M=e.navigationAriaLive,q=e.navigationLabel,j=e.next2AriaLabel,G=e.next2Label,W=e.nextAriaLabel,X=e.nextLabel,se=e.onActiveStartDateChange,ct=e.onChange,ht=e.onClickDay,zt=e.onClickDecade,vt=e.onClickMonth,mn=e.onClickWeekNumber,$r=e.onClickYear,dr=e.onDrillDown,mr=e.onDrillUp,On=e.onViewChange,Io=e.prev2AriaLabel,Do=e.prev2Label,ea=e.prevAriaLabel,ta=e.prevLabel,qe=e.returnValue,na=qe===void 0?"start":qe,It=e.selectRange,Yr=e.showDoubleView,Oo=e.showFixedNumberOfWeeks,at=e.showNavigation,_t=at===void 0?!0:at,Za=e.showNeighboringCentury,gd=e.showNeighboringDecade,ko=e.showNeighboringMonth,yd=ko===void 0?!0:ko,ra=e.showWeekNumbers,Hu=e.tileClassName,Gu=e.tileContent,Mo=e.tileDisabled,Po=e.value,$u=e.view,Vo=O.useState(o),Yu=Vo[0],Hn=Vo[1],es=O.useState(null),jo=es[0],Gn=es[1],Lo=O.useState(Array.isArray(u)?u.map(function(oe){return oe!==null?ml(oe):null}):u!=null?ml(u):null),Kr=Lo[0],Ku=Lo[1],Wr=O.useState(c),Wu=Wr[0],ft=Wr[1],bt=r||Yu||$k({activeStartDate:r,defaultActiveStartDate:o,defaultValue:u,defaultView:c,maxDate:F,maxDetail:T,minDate:C,minDetail:k,value:Po,view:$u}),Xe=function(){var oe=function(){return It&&vm(Kr)?Kr:Po!==void 0?Po:Kr}();return oe?Array.isArray(oe)?oe.map(function(Ve){return Ve!==null?ml(Ve):null}):oe!==null?ml(oe):null:null}(),$n=lx(T),Ie=qy($u||Wu,k,T),pn=ox(k,T),Qr=It?jo:null,Uo=pn.indexOf(Ie)<pn.length-1,Qu=pn.indexOf(Ie)>0,ia=O.useCallback(function(oe){var Ve=function(){switch(na){case"start":return Hy;case"end":return cx;case"range":return Gk;default:throw new Error("Invalid returnValue.")}}();return Ve({maxDate:F,maxDetail:T,minDate:C,value:oe})},[F,T,C,na]),ts=O.useCallback(function(oe,Ve){Hn(oe);var ze={action:Ve,activeStartDate:oe,value:Xe,view:Ie};se&&!Sc(bt,oe)&&se(ze)},[bt,se,Xe,Ie]),aa=O.useCallback(function(oe,Ve){var ze=function(){switch(Ie){case"century":return zt;case"decade":return $r;case"year":return vt;case"month":return ht;default:throw new Error("Invalid view: ".concat(Ie,"."))}}();ze&&ze(oe,Ve)},[ht,zt,vt,$r,Ie]),sa=O.useCallback(function(oe,Ve){if(Uo){aa(oe,Ve);var ze=pn[pn.indexOf(Ie)+1];if(!ze)throw new Error("Attempted to drill down from the lowest view.");Hn(oe),ft(ze);var Xt={action:"drillDown",activeStartDate:oe,value:Xe,view:ze};se&&!Sc(bt,oe)&&se(Xt),On&&Ie!==ze&&On(Xt),dr&&dr(Xt)}},[bt,Uo,se,aa,dr,On,Xe,Ie,pn]),pr=O.useCallback(function(){if(Qu){var oe=pn[pn.indexOf(Ie)-1];if(!oe)throw new Error("Attempted to drill up from the highest view.");var Ve=xa(oe,bt);Hn(Ve),ft(oe);var ze={action:"drillUp",activeStartDate:Ve,value:Xe,view:oe};se&&!Sc(bt,Ve)&&se(ze),On&&Ie!==oe&&On(ze),mr&&mr(ze)}},[bt,Qu,se,mr,On,Xe,Ie,pn]),zo=O.useCallback(function(oe,Ve){var ze=Xe;aa(oe,Ve);var Xt=It&&!vm(ze),Dt;if(It)if(Xt)Dt=xa($n,oe);else{if(!ze)throw new Error("previousValue is required");if(Array.isArray(ze))throw new Error("previousValue must not be an array");Dt=ck($n,ze,oe)}else Dt=ia(oe);var rs=!It||Xt||_?hx({maxDate:F,maxDetail:T,minDate:C,minDetail:k,value:Dt,view:Ie}):null;Ve.persist(),Hn(rs),Ku(Dt);var Ho={action:"onChange",activeStartDate:rs,value:Dt,view:Ie};if(se&&!Sc(bt,rs)&&se(Ho),ct)if(It){var oa=vm(Dt);if(!oa)ct(Dt||null,Ve);else if(i){if(Array.isArray(Dt))throw new Error("value must not be an array");ct([Dt||null,null],Ve)}}else ct(Dt||null,Ve)},[bt,i,ia,_,F,T,C,k,se,ct,aa,It,Xe,$n,Ie]);function Yn(oe){Gn(oe)}function ns(){Gn(null)}O.useImperativeHandle(n,function(){return{activeStartDate:bt,drillDown:sa,drillUp:pr,onChange:zo,setActiveStartDate:ts,value:Xe,view:Ie}},[bt,sa,pr,zo,ts,Xe,Ie]);function Bo(oe){var Ve=oe?ex(Ie,bt):xa(Ie,bt),ze=Uo?sa:zo,Xt={activeStartDate:Ve,hover:Qr,locale:N,maxDate:F,minDate:C,onClick:ze,onMouseOver:It?Yn:void 0,tileClassName:Hu,tileContent:Gu,tileDisabled:Mo,value:Xe,valueType:$n};switch(Ie){case"century":return f.jsx(Ek,Ns({formatYear:R,showNeighboringCentury:Za},Xt));case"decade":return f.jsx(Ak,Ns({formatYear:R,showNeighboringDecade:gd},Xt));case"year":return f.jsx(Dk,Ns({formatMonth:p,formatMonthYear:y},Xt));case"month":return f.jsx(zk,Ns({calendarType:a,formatDay:h,formatLongDate:m,formatShortWeekday:S,formatWeekday:I,onClickWeekNumber:mn,onMouseLeave:It?ns:void 0,showFixedNumberOfWeeks:typeof Oo<"u"?Oo:Yr,showNeighboringMonth:yd,showWeekNumbers:ra},Xt));default:throw new Error("Invalid view: ".concat(Ie,"."))}}function Fo(){return _t?f.jsx(dk,{activeStartDate:bt,drillUp:pr,formatMonthYear:y,formatYear:R,locale:N,maxDate:F,minDate:C,navigationAriaLabel:w,navigationAriaLive:M,navigationLabel:q,next2AriaLabel:j,next2Label:G,nextAriaLabel:W,nextLabel:X,prev2AriaLabel:Io,prev2Label:Do,prevAriaLabel:ea,prevLabel:ta,setActiveStartDate:ts,showDoubleView:Yr,view:Ie,views:pn}):null}var qo=Array.isArray(Xe)?Xe:[Xe];return f.jsxs("div",{className:kf(wc,It&&qo.length===1&&"".concat(wc,"--selectRange"),Yr&&"".concat(wc,"--doubleView"),s),ref:x,children:[Fo(),f.jsxs("div",{className:"".concat(wc,"__viewContainer"),onBlur:It?ns:void 0,onMouseLeave:It?ns:void 0,children:[Bo(),Yr?Bo(!0):null]})]})});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wk=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Sb=t=>{const e=Wk(t);return e.charAt(0).toUpperCase()+e.slice(1)},fx=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Qk=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},u)=>O.createElement("svg",{ref:u,...Xk,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fx("lucide",i),...!a&&!Qk(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,h])=>O.createElement(c,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement(Jk,{ref:a,iconNode:e,className:fx(`lucide-${Kk(Sb(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Sb(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],e4=ge("archive",Zk);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],n4=ge("arrow-left",t4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],i4=ge("banknote",r4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ll=ge("calendar",a4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],o4=ge("check",s4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],u4=ge("chevron-down",l4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],h4=ge("chevron-up",c4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],d4=ge("circle-alert",f4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rs=ge("circle-check",m4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xb=ge("circle-x",p4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],y4=ge("clock",g4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],_m=ge("cloud-rain",v4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],b4=ge("cloud-snow",_4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],bm=ge("cloud",T4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],w4=ge("copy",E4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],x4=ge("credit-card",S4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],C4=ge("external-link",A4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],R4=ge("globe",N4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],D4=ge("log-in",I4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],k4=ge("log-out",O4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],P4=ge("map-pin",M4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],j4=ge("message-circle",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],U4=ge("pen",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],B4=ge("plus",z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q4=ge("search",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],G4=ge("square-pen",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Y4=ge("sun",$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],dx=ge("trash-2",K4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],mx=ge("user-plus",W4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],X4=ge("users",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],Z4=ge("wind",J4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],zf=ge("x",eM),tM=()=>{};var Ab={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},nM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=a>>2,m=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,y=c&63;u||(y=64,s||(p=64)),r.push(n[h],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(px(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||m==null)throw new rM;const p=a<<2|o>>4;if(r.push(p),c!==64){const y=o<<4&240|c>>2;if(r.push(y),m!==64){const S=c<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iM=function(t){const e=px(t);return gx.encodeByteArray(e,!0)},Lh=function(t){return iM(t).replace(/\./g,"")},yx=function(t){try{return gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=()=>aM().__FIREBASE_DEFAULTS__,oM=()=>{if(typeof process>"u"||typeof Ab>"u")return;const t=Ab.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yx(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return tM()||sM()||oM()||lM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vx=t=>{var e,n;return(n=(e=Bf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},_x=t=>{const e=vx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},bx=()=>{var t;return(t=Bf())==null?void 0:t.config},Tx=t=>{var e;return(e=Bf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gy(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Lh(JSON.stringify(n)),Lh(JSON.stringify(s)),""].join(".")}const Pl={};function cM(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?t.emulator.push(e):t.prod.push(e);return t}function hM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cb=!1;function $y(t,e){if(typeof window>"u"||typeof document>"u"||!$a(window.location.host)||Pl[t]===e||Pl[t]||Cb)return;Pl[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=cM().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Cb=!0,s()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=hM(r),y=n("text"),S=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),R=document.getElementById(I)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;o(x),h(R,I);const N=c();u(_,v),x.append(_,S,R,N),document.body.appendChild(x)}a?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function dM(){var e;const t=(e=Bf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gM(){const t=Pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yM(){return!dM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sx(){try{return typeof indexedDB=="object"}catch{return!1}}function xx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function vM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M="FirebaseError";class Dn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_M,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?bM(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Dn(i,o,r)}}function bM(t,e){return t.replace(TM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TM=/\{\$([^}]+)}/g;function EM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Li(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(Nb(a)&&Nb(s)){if(!Li(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Nb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function gl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wM(t,e){const n=new SM(t,e);return n.subscribe.bind(n)}class SM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tm),i.error===void 0&&(i.error=Tm),i.complete===void 0&&(i.complete=Tm);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=1e3,CM=2,NM=4*60*60*1e3,RM=.5;function Rb(t,e=AM,n=CM){const r=e*Math.pow(n,t),i=Math.round(RM*r*(Math.random()-.5)*2);return Math.min(NM,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t){return t&&t._delegate?t._delegate:t}class In{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new uM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(OM(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DM(t){return t===ya?void 0:t}function OM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const MM={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},PM=ce.INFO,VM={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},jM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ff{constructor(e){this.name=e,this._logLevel=PM,this._logHandler=jM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const LM=(t,e)=>e.some(n=>t instanceof n);let Ib,Db;function UM(){return Ib||(Ib=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zM(){return Db||(Db=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ax=new WeakMap,Wp=new WeakMap,Cx=new WeakMap,Em=new WeakMap,Yy=new WeakMap;function BM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(Ri(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Ax.set(n,t)}).catch(()=>{}),Yy.set(e,t),e}function FM(t){if(Wp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});Wp.set(t,e)}let Qp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Cx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qM(t){Qp=t(Qp)}function HM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(wm(this),e,...n);return Cx.set(r,e.sort?e.sort():[e]),Ri(r)}:zM().includes(t)?function(...e){return t.apply(wm(this),e),Ri(Ax.get(this))}:function(...e){return Ri(t.apply(wm(this),e))}}function GM(t){return typeof t=="function"?HM(t):(t instanceof IDBTransaction&&FM(t),LM(t,UM())?new Proxy(t,Qp):t)}function Ri(t){if(t instanceof IDBRequest)return BM(t);if(Em.has(t))return Em.get(t);const e=GM(t);return e!==t&&(Em.set(t,e),Yy.set(e,t)),e}const wm=t=>Yy.get(t);function Nx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Ri(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ri(s.result),u.oldVersion,u.newVersion,Ri(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const $M=["get","getKey","getAll","getAllKeys","count"],YM=["put","add","delete","clear"],Sm=new Map;function Ob(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$M.includes(n)))return;const a=async function(s,...o){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&u.done]))[0]};return Sm.set(e,a),a}qM(t=>({...t,get:(e,n,r)=>Ob(e,n)||t.get(e,n,r),has:(e,n)=>!!Ob(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xp="@firebase/app",kb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Ff("@firebase/app"),QM="@firebase/app-compat",XM="@firebase/analytics-compat",JM="@firebase/analytics",ZM="@firebase/app-check-compat",eP="@firebase/app-check",tP="@firebase/auth",nP="@firebase/auth-compat",rP="@firebase/database",iP="@firebase/data-connect",aP="@firebase/database-compat",sP="@firebase/functions",oP="@firebase/functions-compat",lP="@firebase/installations",uP="@firebase/installations-compat",cP="@firebase/messaging",hP="@firebase/messaging-compat",fP="@firebase/performance",dP="@firebase/performance-compat",mP="@firebase/remote-config",pP="@firebase/remote-config-compat",gP="@firebase/storage",yP="@firebase/storage-compat",vP="@firebase/firestore",_P="@firebase/ai",bP="@firebase/firestore-compat",TP="firebase",EP="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",wP={[Xp]:"fire-core",[QM]:"fire-core-compat",[JM]:"fire-analytics",[XM]:"fire-analytics-compat",[eP]:"fire-app-check",[ZM]:"fire-app-check-compat",[tP]:"fire-auth",[nP]:"fire-auth-compat",[rP]:"fire-rtdb",[iP]:"fire-data-connect",[aP]:"fire-rtdb-compat",[sP]:"fire-fn",[oP]:"fire-fn-compat",[lP]:"fire-iid",[uP]:"fire-iid-compat",[cP]:"fire-fcm",[hP]:"fire-fcm-compat",[fP]:"fire-perf",[dP]:"fire-perf-compat",[mP]:"fire-rc",[pP]:"fire-rc-compat",[gP]:"fire-gcs",[yP]:"fire-gcs-compat",[vP]:"fire-fst",[bP]:"fire-fst-compat",[_P]:"fire-vertex","fire-js":"fire-js",[TP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,SP=new Map,Zp=new Map;function Mb(t,e){try{t.container.addComponent(e)}catch(n){Ur.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ln(t){const e=t.name;if(Zp.has(e))return Ur.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of Uh.values())Mb(n,t);for(const n of SP.values())Mb(n,t);return!0}function Qi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Ya("app","Firebase",xP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new In("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=EP;function Rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Jp,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=bx()),!n)throw Ii.create("no-options");const a=Uh.get(i);if(a){if(Li(n,a.options)&&Li(r,a.config))return a;throw Ii.create("duplicate-app",{appName:i})}const s=new kM(i);for(const u of Zp.values())s.addComponent(u);const o=new AP(n,r,s);return Uh.set(i,o),o}function qf(t=Jp){const e=Uh.get(t);if(!e&&t===Jp&&bx())return Rx();if(!e)throw Ii.create("no-app",{appName:t});return e}function Kt(t,e,n){let r=wP[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ur.warn(s.join(" "));return}Ln(new In(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="firebase-heartbeat-database",NP=1,iu="firebase-heartbeat-store";let xm=null;function Ix(){return xm||(xm=Nx(CP,NP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),xm}async function RP(t){try{const n=(await Ix()).transaction(iu),r=await n.objectStore(iu).get(Dx(t));return await n.done,r}catch(e){if(e instanceof Dn)Ur.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ur.warn(n.message)}}}async function Pb(t,e){try{const r=(await Ix()).transaction(iu,"readwrite");await r.objectStore(iu).put(e,Dx(t)),await r.done}catch(n){if(n instanceof Dn)Ur.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ur.warn(r.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=1024,DP=30;class OP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Vb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>DP){const s=PP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ur.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vb(),{heartbeatsToSend:r,unsentEntries:i}=kP(this._heartbeatsCache.heartbeats),a=Lh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Ur.warn(n),""}}}function Vb(){return new Date().toISOString().substring(0,10)}function kP(t,e=IP){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),jb(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sx()?xx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Pb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jb(t){return Lh(JSON.stringify({version:2,heartbeats:t})).length}function PP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){Ln(new In("platform-logger",e=>new KM(e),"PRIVATE")),Ln(new In("heartbeat",e=>new OP(e),"PRIVATE")),Kt(Xp,kb,t),Kt(Xp,kb,"esm2020"),Kt("fire-js","")}VP("");var Lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,Ox;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,T){function A(){}A.prototype=T.prototype,E.F=T.prototype,E.prototype=new A,E.prototype.constructor=E,E.D=function(C,D,k){for(var w=Array(arguments.length-2),M=2;M<arguments.length;M++)w[M-2]=arguments[M];return T.prototype[D].apply(C,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,T,A){A||(A=0);const C=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)C[D]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(D=0;D<16;++D)C[D]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=E.g[0],A=E.g[1],D=E.g[2];let k=E.g[3],w;w=T+(k^A&(D^k))+C[0]+3614090360&4294967295,T=A+(w<<7&4294967295|w>>>25),w=k+(D^T&(A^D))+C[1]+3905402710&4294967295,k=T+(w<<12&4294967295|w>>>20),w=D+(A^k&(T^A))+C[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=A+(T^D&(k^T))+C[3]+3250441966&4294967295,A=D+(w<<22&4294967295|w>>>10),w=T+(k^A&(D^k))+C[4]+4118548399&4294967295,T=A+(w<<7&4294967295|w>>>25),w=k+(D^T&(A^D))+C[5]+1200080426&4294967295,k=T+(w<<12&4294967295|w>>>20),w=D+(A^k&(T^A))+C[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=A+(T^D&(k^T))+C[7]+4249261313&4294967295,A=D+(w<<22&4294967295|w>>>10),w=T+(k^A&(D^k))+C[8]+1770035416&4294967295,T=A+(w<<7&4294967295|w>>>25),w=k+(D^T&(A^D))+C[9]+2336552879&4294967295,k=T+(w<<12&4294967295|w>>>20),w=D+(A^k&(T^A))+C[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=A+(T^D&(k^T))+C[11]+2304563134&4294967295,A=D+(w<<22&4294967295|w>>>10),w=T+(k^A&(D^k))+C[12]+1804603682&4294967295,T=A+(w<<7&4294967295|w>>>25),w=k+(D^T&(A^D))+C[13]+4254626195&4294967295,k=T+(w<<12&4294967295|w>>>20),w=D+(A^k&(T^A))+C[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=A+(T^D&(k^T))+C[15]+1236535329&4294967295,A=D+(w<<22&4294967295|w>>>10),w=T+(D^k&(A^D))+C[1]+4129170786&4294967295,T=A+(w<<5&4294967295|w>>>27),w=k+(A^D&(T^A))+C[6]+3225465664&4294967295,k=T+(w<<9&4294967295|w>>>23),w=D+(T^A&(k^T))+C[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=A+(k^T&(D^k))+C[0]+3921069994&4294967295,A=D+(w<<20&4294967295|w>>>12),w=T+(D^k&(A^D))+C[5]+3593408605&4294967295,T=A+(w<<5&4294967295|w>>>27),w=k+(A^D&(T^A))+C[10]+38016083&4294967295,k=T+(w<<9&4294967295|w>>>23),w=D+(T^A&(k^T))+C[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=A+(k^T&(D^k))+C[4]+3889429448&4294967295,A=D+(w<<20&4294967295|w>>>12),w=T+(D^k&(A^D))+C[9]+568446438&4294967295,T=A+(w<<5&4294967295|w>>>27),w=k+(A^D&(T^A))+C[14]+3275163606&4294967295,k=T+(w<<9&4294967295|w>>>23),w=D+(T^A&(k^T))+C[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=A+(k^T&(D^k))+C[8]+1163531501&4294967295,A=D+(w<<20&4294967295|w>>>12),w=T+(D^k&(A^D))+C[13]+2850285829&4294967295,T=A+(w<<5&4294967295|w>>>27),w=k+(A^D&(T^A))+C[2]+4243563512&4294967295,k=T+(w<<9&4294967295|w>>>23),w=D+(T^A&(k^T))+C[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=A+(k^T&(D^k))+C[12]+2368359562&4294967295,A=D+(w<<20&4294967295|w>>>12),w=T+(A^D^k)+C[5]+4294588738&4294967295,T=A+(w<<4&4294967295|w>>>28),w=k+(T^A^D)+C[8]+2272392833&4294967295,k=T+(w<<11&4294967295|w>>>21),w=D+(k^T^A)+C[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=A+(D^k^T)+C[14]+4259657740&4294967295,A=D+(w<<23&4294967295|w>>>9),w=T+(A^D^k)+C[1]+2763975236&4294967295,T=A+(w<<4&4294967295|w>>>28),w=k+(T^A^D)+C[4]+1272893353&4294967295,k=T+(w<<11&4294967295|w>>>21),w=D+(k^T^A)+C[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=A+(D^k^T)+C[10]+3200236656&4294967295,A=D+(w<<23&4294967295|w>>>9),w=T+(A^D^k)+C[13]+681279174&4294967295,T=A+(w<<4&4294967295|w>>>28),w=k+(T^A^D)+C[0]+3936430074&4294967295,k=T+(w<<11&4294967295|w>>>21),w=D+(k^T^A)+C[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=A+(D^k^T)+C[6]+76029189&4294967295,A=D+(w<<23&4294967295|w>>>9),w=T+(A^D^k)+C[9]+3654602809&4294967295,T=A+(w<<4&4294967295|w>>>28),w=k+(T^A^D)+C[12]+3873151461&4294967295,k=T+(w<<11&4294967295|w>>>21),w=D+(k^T^A)+C[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=A+(D^k^T)+C[2]+3299628645&4294967295,A=D+(w<<23&4294967295|w>>>9),w=T+(D^(A|~k))+C[0]+4096336452&4294967295,T=A+(w<<6&4294967295|w>>>26),w=k+(A^(T|~D))+C[7]+1126891415&4294967295,k=T+(w<<10&4294967295|w>>>22),w=D+(T^(k|~A))+C[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=A+(k^(D|~T))+C[5]+4237533241&4294967295,A=D+(w<<21&4294967295|w>>>11),w=T+(D^(A|~k))+C[12]+1700485571&4294967295,T=A+(w<<6&4294967295|w>>>26),w=k+(A^(T|~D))+C[3]+2399980690&4294967295,k=T+(w<<10&4294967295|w>>>22),w=D+(T^(k|~A))+C[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=A+(k^(D|~T))+C[1]+2240044497&4294967295,A=D+(w<<21&4294967295|w>>>11),w=T+(D^(A|~k))+C[8]+1873313359&4294967295,T=A+(w<<6&4294967295|w>>>26),w=k+(A^(T|~D))+C[15]+4264355552&4294967295,k=T+(w<<10&4294967295|w>>>22),w=D+(T^(k|~A))+C[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=A+(k^(D|~T))+C[13]+1309151649&4294967295,A=D+(w<<21&4294967295|w>>>11),w=T+(D^(A|~k))+C[4]+4149444226&4294967295,T=A+(w<<6&4294967295|w>>>26),w=k+(A^(T|~D))+C[11]+3174756917&4294967295,k=T+(w<<10&4294967295|w>>>22),w=D+(T^(k|~A))+C[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=A+(k^(D|~T))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+T&4294967295,E.g[1]=E.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+D&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.v=function(E,T){T===void 0&&(T=E.length);const A=T-this.blockSize,C=this.C;let D=this.h,k=0;for(;k<T;){if(D==0)for(;k<=A;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<T;)if(C[D++]=E.charCodeAt(k++),D==this.blockSize){i(this,C),D=0;break}}else for(;k<T;)if(C[D++]=E[k++],D==this.blockSize){i(this,C),D=0;break}}this.h=D,this.o+=T},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var T=1;T<E.length-8;++T)E[T]=0;T=this.o*8;for(var A=E.length-8;A<E.length;++A)E[A]=T&255,T/=256;for(this.v(E),E=Array(16),T=0,A=0;A<4;++A)for(let C=0;C<32;C+=8)E[T++]=this.g[A]>>>C&255;return E};function a(E,T){var A=o;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=T(E)}function s(E,T){this.h=T;const A=[];let C=!0;for(let D=E.length-1;D>=0;D--){const k=E[D]|0;C&&k==T||(A[D]=k,C=!1)}this.g=A}var o={};function u(E){return-128<=E&&E<128?a(E,function(T){return new s([T|0],T<0?-1:0)}):new s([E|0],E<0?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return R(c(-E));const T=[];let A=1;for(let C=0;E>=A;C++)T[C]=E/A|0,A*=4294967296;return new s(T,0)}function h(E,T){if(E.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E.charAt(0)=="-")return R(h(E.substring(1),T));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=c(Math.pow(T,8));let C=m;for(let k=0;k<E.length;k+=8){var D=Math.min(8,E.length-k);const w=parseInt(E.substring(k,k+D),T);D<8?(D=c(Math.pow(T,D)),C=C.j(D).add(c(w))):(C=C.j(A),C=C.add(c(w)))}return C}var m=u(0),p=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(I(this))return-R(this).m();let E=0,T=1;for(let A=0;A<this.g.length;A++){const C=this.i(A);E+=(C>=0?C:4294967296+C)*T,T*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(I(this))return"-"+R(this).toString(E);const T=c(Math.pow(E,6));var A=this;let C="";for(;;){const D=N(A,T).g;A=v(A,D.j(T));let k=((A.g.length>0?A.g[0]:A.h)>>>0).toString(E);if(A=D,S(A))return k+C;for(;k.length<6;)k="0"+k;C=k+C}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(let T=0;T<E.g.length;T++)if(E.g[T]!=0)return!1;return!0}function I(E){return E.h==-1}t.l=function(E){return E=v(this,E),I(E)?-1:S(E)?0:1};function R(E){const T=E.g.length,A=[];for(let C=0;C<T;C++)A[C]=~E.g[C];return new s(A,~E.h).add(p)}t.abs=function(){return I(this)?R(this):this},t.add=function(E){const T=Math.max(this.g.length,E.g.length),A=[];let C=0;for(let D=0;D<=T;D++){let k=C+(this.i(D)&65535)+(E.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(E.i(D)>>>16);C=w>>>16,k&=65535,w&=65535,A[D]=w<<16|k}return new s(A,A[A.length-1]&-2147483648?-1:0)};function v(E,T){return E.add(R(T))}t.j=function(E){if(S(this)||S(E))return m;if(I(this))return I(E)?R(this).j(R(E)):R(R(this).j(E));if(I(E))return R(this.j(R(E)));if(this.l(y)<0&&E.l(y)<0)return c(this.m()*E.m());const T=this.g.length+E.g.length,A=[];for(var C=0;C<2*T;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(let D=0;D<E.g.length;D++){const k=this.i(C)>>>16,w=this.i(C)&65535,M=E.i(D)>>>16,q=E.i(D)&65535;A[2*C+2*D]+=w*q,_(A,2*C+2*D),A[2*C+2*D+1]+=k*q,_(A,2*C+2*D+1),A[2*C+2*D+1]+=w*M,_(A,2*C+2*D+1),A[2*C+2*D+2]+=k*M,_(A,2*C+2*D+2)}for(E=0;E<T;E++)A[E]=A[2*E+1]<<16|A[2*E];for(E=T;E<2*T;E++)A[E]=0;return new s(A,0)};function _(E,T){for(;(E[T]&65535)!=E[T];)E[T+1]+=E[T]>>>16,E[T]&=65535,T++}function x(E,T){this.g=E,this.h=T}function N(E,T){if(S(T))throw Error("division by zero");if(S(E))return new x(m,m);if(I(E))return T=N(R(E),T),new x(R(T.g),R(T.h));if(I(T))return T=N(E,R(T)),new x(R(T.g),T.h);if(E.g.length>30){if(I(E)||I(T))throw Error("slowDivide_ only works with positive integers.");for(var A=p,C=T;C.l(E)<=0;)A=L(A),C=L(C);var D=F(A,1),k=F(C,1);for(C=F(C,2),A=F(A,2);!S(C);){var w=k.add(C);w.l(E)<=0&&(D=D.add(A),k=w),C=F(C,1),A=F(A,1)}return T=v(E,D.j(T)),new x(D,T)}for(D=m;E.l(T)>=0;){for(A=Math.max(1,Math.floor(E.m()/T.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=C<=48?1:Math.pow(2,C-48),k=c(A),w=k.j(T);I(w)||w.l(E)>0;)A-=C,k=c(A),w=k.j(T);S(k)&&(k=p),D=D.add(k),E=v(E,w)}return new x(D,E)}t.B=function(E){return N(this,E).h},t.and=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let C=0;C<T;C++)A[C]=this.i(C)&E.i(C);return new s(A,this.h&E.h)},t.or=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let C=0;C<T;C++)A[C]=this.i(C)|E.i(C);return new s(A,this.h|E.h)},t.xor=function(E){const T=Math.max(this.g.length,E.g.length),A=[];for(let C=0;C<T;C++)A[C]=this.i(C)^E.i(C);return new s(A,this.h^E.h)};function L(E){const T=E.g.length+1,A=[];for(let C=0;C<T;C++)A[C]=E.i(C)<<1|E.i(C-1)>>>31;return new s(A,E.h)}function F(E,T){const A=T>>5;T%=32;const C=E.g.length-A,D=[];for(let k=0;k<C;k++)D[k]=T>0?E.i(k+A)>>>T|E.i(k+A+1)<<32-T:E.i(k+A);return new s(D,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Ox=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Di=s}).apply(typeof Lb<"u"?Lb:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kx,yl,Mx,Xc,eg,Px,Vx,jx;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var P=l[b];if(!(P in g))break e;g=g[P]}l=l[l.length-1],b=g[l],d=d(b),d!=b&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(d){var g=[],b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&g.push([b,d[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,g){return l.call.apply(l.bind,arguments)}function c(l,d,g){return c=u,c.apply(null,arguments)}function h(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function m(l,d){function g(){}g.prototype=d.prototype,l.Z=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(b,P,V){for(var H=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)H[ae-2]=arguments[ae];return d.prototype[P].apply(b,H)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const d=l.length;if(d>0){const g=Array(d);for(let b=0;b<d;b++)g[b]=l[b];return g}return[]}function S(l,d){for(let b=1;b<arguments.length;b++){const P=arguments[b];var g=typeof P;if(g=g!="object"?g:P?Array.isArray(P)?"array":g:"null",g=="array"||g=="object"&&typeof P.length=="number"){g=l.length||0;const V=P.length||0;l.length=g+V;for(let H=0;H<V;H++)l[g+H]=P[H]}else l.push(P)}}class I{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function R(l){s.setTimeout(()=>{throw l},0)}function v(){var l=E;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class _{constructor(){this.h=this.g=null}add(d,g){const b=x.get();b.set(d,g),this.h?this.h.next=b:this.g=b,this.h=b}}var x=new I(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,E=new _,T=()=>{const l=Promise.resolve(void 0);L=()=>{l.then(A)}};function A(){for(var l;l=v();){try{l.h.call(l.g)}catch(g){R(g)}var d=x;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}F=!1}function C(){this.u=this.u,this.C=this.C}C.prototype.u=!1,C.prototype.dispose=function(){this.u||(this.u=!0,this.N())},C.prototype[Symbol.dispose]=function(){this.dispose()},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};s.addEventListener("test",g,d),s.removeEventListener("test",g,d)}catch{}return l}();function w(l){return/^[\s\xa0]*$/.test(l)}function M(l,d){D.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}m(M,D),M.prototype.init=function(l,d){const g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var q="closure_listenable_"+(Math.random()*1e6|0),j=0;function G(l,d,g,b,P){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!b,this.ha=P,this.key=++j,this.da=this.fa=!1}function W(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function X(l,d,g){for(const b in l)d.call(g,l[b],b,l)}function se(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function ct(l){const d={};for(const g in l)d[g]=l[g];return d}const ht="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zt(l,d){let g,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(g in b)l[g]=b[g];for(let V=0;V<ht.length;V++)g=ht[V],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function vt(l){this.src=l,this.g={},this.h=0}vt.prototype.add=function(l,d,g,b,P){const V=l.toString();l=this.g[V],l||(l=this.g[V]=[],this.h++);const H=$r(l,d,b,P);return H>-1?(d=l[H],g||(d.fa=!1)):(d=new G(d,this.src,V,!!b,P),d.fa=g,l.push(d)),d};function mn(l,d){const g=d.type;if(g in l.g){var b=l.g[g],P=Array.prototype.indexOf.call(b,d,void 0),V;(V=P>=0)&&Array.prototype.splice.call(b,P,1),V&&(W(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function $r(l,d,g,b){for(let P=0;P<l.length;++P){const V=l[P];if(!V.da&&V.listener==d&&V.capture==!!g&&V.ha==b)return P}return-1}var dr="closure_lm_"+(Math.random()*1e6|0),mr={};function On(l,d,g,b,P){if(Array.isArray(d)){for(let V=0;V<d.length;V++)On(l,d[V],g,b,P);return null}return g=Oo(g),l&&l[q]?l.J(d,g,o(b)?!!b.capture:!1,P):Io(l,d,g,!1,b,P)}function Io(l,d,g,b,P,V){if(!d)throw Error("Invalid event type");const H=o(P)?!!P.capture:!!P;let ae=It(l);if(ae||(l[dr]=ae=new vt(l)),g=ae.add(d,g,b,H,V),g.proxy)return g;if(b=Do(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)k||(P=H),P===void 0&&(P=!1),l.addEventListener(d.toString(),b,P);else if(l.attachEvent)l.attachEvent(qe(d.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Do(){function l(g){return d.call(l.src,l.listener,g)}const d=na;return l}function ea(l,d,g,b,P){if(Array.isArray(d))for(var V=0;V<d.length;V++)ea(l,d[V],g,b,P);else b=o(b)?!!b.capture:!!b,g=Oo(g),l&&l[q]?(l=l.i,V=String(d).toString(),V in l.g&&(d=l.g[V],g=$r(d,g,b,P),g>-1&&(W(d[g]),Array.prototype.splice.call(d,g,1),d.length==0&&(delete l.g[V],l.h--)))):l&&(l=It(l))&&(d=l.g[d.toString()],l=-1,d&&(l=$r(d,g,b,P)),(g=l>-1?d[l]:null)&&ta(g))}function ta(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[q])mn(d.i,l);else{var g=l.type,b=l.proxy;d.removeEventListener?d.removeEventListener(g,b,l.capture):d.detachEvent?d.detachEvent(qe(g),b):d.addListener&&d.removeListener&&d.removeListener(b),(g=It(d))?(mn(g,l),g.h==0&&(g.src=null,d[dr]=null)):W(l)}}}function qe(l){return l in mr?mr[l]:mr[l]="on"+l}function na(l,d){if(l.da)l=!0;else{d=new M(d,this);const g=l.listener,b=l.ha||l.src;l.fa&&ta(l),l=g.call(b,d)}return l}function It(l){return l=l[dr],l instanceof vt?l:null}var Yr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(l){return typeof l=="function"?l:(l[Yr]||(l[Yr]=function(d){return l.handleEvent(d)}),l[Yr])}function at(){C.call(this),this.i=new vt(this),this.M=this,this.G=null}m(at,C),at.prototype[q]=!0,at.prototype.removeEventListener=function(l,d,g,b){ea(this,l,d,g,b)};function _t(l,d){var g,b=l.G;if(b)for(g=[];b;b=b.G)g.push(b);if(l=l.M,b=d.type||d,typeof d=="string")d=new D(d,l);else if(d instanceof D)d.target=d.target||l;else{var P=d;d=new D(b,l),zt(d,P)}P=!0;let V,H;if(g)for(H=g.length-1;H>=0;H--)V=d.g=g[H],P=Za(V,b,!0,d)&&P;if(V=d.g=l,P=Za(V,b,!0,d)&&P,P=Za(V,b,!1,d)&&P,g)for(H=0;H<g.length;H++)V=d.g=g[H],P=Za(V,b,!1,d)&&P}at.prototype.N=function(){if(at.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const g=l.g[d];for(let b=0;b<g.length;b++)W(g[b]);delete l.g[d],l.h--}}this.G=null},at.prototype.J=function(l,d,g,b){return this.i.add(String(l),d,!1,g,b)},at.prototype.K=function(l,d,g,b){return this.i.add(String(l),d,!0,g,b)};function Za(l,d,g,b){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let P=!0;for(let V=0;V<d.length;++V){const H=d[V];if(H&&!H.da&&H.capture==g){const ae=H.listener,st=H.ha||H.src;H.fa&&mn(l.i,H),P=ae.call(st,b)!==!1&&P}}return P&&!b.defaultPrevented}function gd(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(l,d||0)}function ko(l){l.g=gd(()=>{l.g=null,l.i&&(l.i=!1,ko(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class yd extends C{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ko(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(l){C.call(this),this.h=l,this.g={}}m(ra,C);var Hu=[];function Gu(l){X(l.g,function(d,g){this.g.hasOwnProperty(g)&&ta(d)},l),l.g={}}ra.prototype.N=function(){ra.Z.N.call(this),Gu(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mo=s.JSON.stringify,Po=s.JSON.parse,$u=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function Vo(){}function Yu(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function es(){D.call(this,"d")}m(es,D);function jo(){D.call(this,"c")}m(jo,D);var Gn={},Lo=null;function Kr(){return Lo=Lo||new at}Gn.Ia="serverreachability";function Ku(l){D.call(this,Gn.Ia,l)}m(Ku,D);function Wr(l){const d=Kr();_t(d,new Ku(d))}Gn.STAT_EVENT="statevent";function Wu(l,d){D.call(this,Gn.STAT_EVENT,l),this.stat=d}m(Wu,D);function ft(l){const d=Kr();_t(d,new Wu(d,l))}Gn.Ja="timingevent";function bt(l,d){D.call(this,Gn.Ja,l),this.size=d}m(bt,D);function Xe(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},d)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Ie(l,d,g,b,P,V){l.info(function(){if(l.g)if(V){var H="",ae=V.split("&");for(let xe=0;xe<ae.length;xe++){var st=ae[xe].split("=");if(st.length>1){const dt=st[0];st=st[1];const Wn=dt.split("_");H=Wn.length>=2&&Wn[1]=="type"?H+(dt+"="+st+"&"):H+(dt+"=redacted&")}}}else H=null;else H=V;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+d+`
`+g+`
`+H})}function pn(l,d,g,b,P,V,H){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+d+`
`+g+`
`+V+" "+H})}function Qr(l,d,g,b){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Qu(l,g)+(b?" "+b:"")})}function Uo(l,d){l.info(function(){return"TIMEOUT: "+d})}$n.prototype.info=function(){};function Qu(l,d){if(!l.g)return d;if(!d)return null;try{const V=JSON.parse(d);if(V){for(l=0;l<V.length;l++)if(Array.isArray(V[l])){var g=V[l];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let H=1;H<b.length;H++)b[H]=""}}}}return Mo(V)}catch{return d}}var ia={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ts={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},aa;function sa(){}m(sa,Vo),sa.prototype.g=function(){return new XMLHttpRequest},aa=new sa;function pr(l){return encodeURIComponent(String(l))}function zo(l){var d=1;l=l.split(":");const g=[];for(;d>0&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function Yn(l,d,g,b){this.j=l,this.i=d,this.l=g,this.S=b||1,this.V=new ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ns}function ns(){this.i=null,this.g="",this.h=!1}var Bo={},Fo={};function qo(l,d,g){l.M=1,l.A=Xu(Kn(d)),l.u=g,l.R=!0,oe(l,null)}function oe(l,d){l.F=Date.now(),Dt(l),l.B=Kn(l.A);var g=l.B,b=l.S;Array.isArray(b)||(b=[String(b)]),l_(g.i,"t",b),l.C=0,g=l.j.L,l.h=new ns,l.g=A_(l.j,g?d:null,!l.u),l.P>0&&(l.O=new yd(c(l.Y,l,l.g),l.P)),d=l.V,g=l.g,b=l.ba;var P="readystatechange";Array.isArray(P)||(P&&(Hu[0]=P.toString()),P=Hu);for(let V=0;V<P.length;V++){const H=On(g,P[V],b||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=l.J?ct(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),Wr(),Ie(l.i,l.v,l.B,l.l,l.S,l.u)}Yn.prototype.ba=function(l){l=l.target;const d=this.O;d&&Zr(l)==3?d.j():this.Y(l)},Yn.prototype.Y=function(l){try{if(l==this.g)e:{const ae=Zr(this.g),st=this.g.ya(),xe=this.g.ca();if(!(ae<3)&&(ae!=3||this.g&&(this.h.h||this.g.la()||p_(this.g)))){this.K||ae!=4||st==7||(st==8||xe<=0?Wr(3):Wr(2)),Ho(this);var d=this.g.ca();this.X=d;var g=Ve(this);if(this.o=d==200,pn(this.i,this.v,this.B,this.l,this.S,ae,d),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var V=b;break t}}V=null}if(l=V)Qr(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vd(this,l);else{this.o=!1,this.m=3,ft(12),la(this),oa(this);break e}}if(this.R){l=!0;let dt;for(;!this.K&&this.C<g.length;)if(dt=Xt(this,g),dt==Fo){ae==4&&(this.m=4,ft(14),l=!1),Qr(this.i,this.l,null,"[Incomplete Response]");break}else if(dt==Bo){this.m=4,ft(15),Qr(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Qr(this.i,this.l,dt,null),vd(this,dt);if(ze(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ae!=4||g.length!=0||this.h.h||(this.m=1,ft(16),l=!1),this.o=this.o&&l,!l)Qr(this.i,this.l,g,"[Invalid Chunked Response]"),la(this),oa(this);else if(g.length>0&&!this.W){this.W=!0;var H=this.j;H.g==this&&H.aa&&!H.P&&(H.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Ad(H),H.P=!0,ft(11))}}else Qr(this.i,this.l,g,null),vd(this,g);ae==4&&la(this),this.o&&!this.K&&(ae==4?E_(this.j,this):(this.o=!1,Dt(this)))}else VN(this.g),d==400&&g.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),la(this),oa(this)}}}catch{}finally{}};function Ve(l){if(!ze(l))return l.g.la();const d=p_(l.g);if(d==="")return"";let g="";const b=d.length,P=Zr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return la(l),oa(l),"";l.h.i=new s.TextDecoder}for(let V=0;V<b;V++)l.h.h=!0,g+=l.h.i.decode(d[V],{stream:!(P&&V==b-1)});return d.length=0,l.h.g+=g,l.C=0,l.h.g}function ze(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function Xt(l,d){var g=l.C,b=d.indexOf(`
`,g);return b==-1?Fo:(g=Number(d.substring(g,b)),isNaN(g)?Bo:(b+=1,b+g>d.length?Fo:(d=d.slice(b,b+g),l.C=b+g,d)))}Yn.prototype.cancel=function(){this.K=!0,la(this)};function Dt(l){l.T=Date.now()+l.H,rs(l,l.H)}function rs(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Xe(c(l.aa,l),d)}function Ho(l){l.D&&(s.clearTimeout(l.D),l.D=null)}Yn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(Uo(this.i,this.B),this.M!=2&&(Wr(),ft(17)),la(this),this.m=2,oa(this)):rs(this,this.T-l)};function oa(l){l.j.I==0||l.K||E_(l.j,l)}function la(l){Ho(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,Gu(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function vd(l,d){try{var g=l.j;if(g.I!=0&&(g.g==l||_d(g.h,l))){if(!l.L&&_d(g.h,l)&&g.I==3){try{var b=g.Ba.g.parse(d)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)nc(g),ec(g);else break e;xd(g),ft(18)}}else g.xa=P[1],0<g.xa-g.K&&P[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Xe(c(g.Va,g),6e3));e_(g.h)<=1&&g.ta&&(g.ta=void 0)}else ca(g,11)}else if((l.L||g.g==l)&&nc(g),!w(d))for(P=g.Ba.g.parse(d),d=0;d<P.length;d++){let xe=P[d];const dt=xe[0];if(!(dt<=g.K))if(g.K=dt,xe=xe[1],g.I==2)if(xe[0]=="c"){g.M=xe[1],g.ba=xe[2];const Wn=xe[3];Wn!=null&&(g.ka=Wn,g.j.info("VER="+g.ka));const ha=xe[4];ha!=null&&(g.za=ha,g.j.info("SVER="+g.za));const ei=xe[5];ei!=null&&typeof ei=="number"&&ei>0&&(b=1.5*ei,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const ti=l.g;if(ti){const ic=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ic){var V=b.h;V.g||ic.indexOf("spdy")==-1&&ic.indexOf("quic")==-1&&ic.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(bd(V,V.h),V.h=null))}if(b.G){const Cd=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;Cd&&(b.wa=Cd,De(b.J,b.G,Cd))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var H=l;if(b.na=x_(b,b.L?b.ba:null,b.W),H.L){t_(b.h,H);var ae=H,st=b.O;st&&(ae.H=st),ae.D&&(Ho(ae),Dt(ae)),b.g=H}else b_(b);g.i.length>0&&tc(g)}else xe[0]!="stop"&&xe[0]!="close"||ca(g,7);else g.I==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?ca(g,7):Sd(g):xe[0]!="noop"&&g.l&&g.l.qa(xe),g.A=0)}}Wr(4)}catch{}}var wN=class{constructor(l,d){this.g=l,this.map=d}};function Jv(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function e_(l){return l.h?1:l.g?l.g.size:0}function _d(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function bd(l,d){l.g?l.g.add(d):l.h=d}function t_(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Jv.prototype.cancel=function(){if(this.i=n_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function n_(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.G);return d}return y(l.i)}var r_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SN(l,d){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const b=l[g].indexOf("=");let P,V=null;b>=0?(P=l[g].substring(0,b),V=l[g].substring(b+1)):P=l[g],d(P,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Xr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof Xr?(this.l=l.l,Go(this,l.j),this.o=l.o,this.g=l.g,$o(this,l.u),this.h=l.h,Td(this,u_(l.i)),this.m=l.m):l&&(d=String(l).match(r_))?(this.l=!1,Go(this,d[1]||"",!0),this.o=Yo(d[2]||""),this.g=Yo(d[3]||"",!0),$o(this,d[4]),this.h=Yo(d[5]||"",!0),Td(this,d[6]||"",!0),this.m=Yo(d[7]||"")):(this.l=!1,this.i=new Wo(null,this.l))}Xr.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(Ko(d,i_,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ko(d,i_,!0),"@"),l.push(pr(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Ko(g,g.charAt(0)=="/"?CN:AN,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Ko(g,RN)),l.join("")},Xr.prototype.resolve=function(l){const d=Kn(this);let g=!!l.j;g?Go(d,l.j):g=!!l.o,g?d.o=l.o:g=!!l.g,g?d.g=l.g:g=l.u!=null;var b=l.h;if(g)$o(d,l.u);else if(g=!!l.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=d.h.lastIndexOf("/");P!=-1&&(b=d.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const V=[];for(let H=0;H<P.length;){const ae=P[H++];ae=="."?b&&H==P.length&&V.push(""):ae==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),b&&H==P.length&&V.push("")):(V.push(ae),b=!0)}b=V.join("/")}else b=P}return g?d.h=b:g=l.i.toString()!=="",g?Td(d,u_(l.i)):g=!!l.m,g&&(d.m=l.m),d};function Kn(l){return new Xr(l)}function Go(l,d,g){l.j=g?Yo(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function $o(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function Td(l,d,g){d instanceof Wo?(l.i=d,IN(l.i,l.l)):(g||(d=Ko(d,NN)),l.i=new Wo(d,l.l))}function De(l,d,g){l.i.set(d,g)}function Xu(l){return De(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Yo(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ko(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,xN),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function xN(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var i_=/[#\/\?@]/g,AN=/[#\?:]/g,CN=/[#\?]/g,NN=/[#\?@]/g,RN=/#/g;function Wo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function ua(l){l.g||(l.g=new Map,l.h=0,l.i&&SN(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=Wo.prototype,t.add=function(l,d){ua(this),this.i=null,l=is(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function a_(l,d){ua(l),d=is(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function s_(l,d){return ua(l),d=is(l,d),l.g.has(d)}t.forEach=function(l,d){ua(this),this.g.forEach(function(g,b){g.forEach(function(P){l.call(d,P,b,this)},this)},this)};function o_(l,d){ua(l);let g=[];if(typeof d=="string")s_(l,d)&&(g=g.concat(l.g.get(is(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)g=g.concat(l[d]);return g}t.set=function(l,d){return ua(this),this.i=null,l=is(this,l),s_(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=o_(this,l),l.length>0?String(l[0]):d):d};function l_(l,d,g){a_(l,d),g.length>0&&(l.i=null,l.g.set(is(l,d),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let b=0;b<d.length;b++){var g=d[b];const P=pr(g);g=o_(this,g);for(let V=0;V<g.length;V++){let H=P;g[V]!==""&&(H+="="+pr(g[V])),l.push(H)}}return this.i=l.join("&")};function u_(l){const d=new Wo;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function is(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function IN(l,d){d&&!l.j&&(ua(l),l.i=null,l.g.forEach(function(g,b){const P=b.toLowerCase();b!=P&&(a_(this,b),l_(this,P,g))},l)),l.j=d}function DN(l,d){const g=new $n;if(s.Image){const b=new Image;b.onload=h(Jr,g,"TestLoadImage: loaded",!0,d,b),b.onerror=h(Jr,g,"TestLoadImage: error",!1,d,b),b.onabort=h(Jr,g,"TestLoadImage: abort",!1,d,b),b.ontimeout=h(Jr,g,"TestLoadImage: timeout",!1,d,b),s.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else d(!1)}function ON(l,d){const g=new $n,b=new AbortController,P=setTimeout(()=>{b.abort(),Jr(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:b.signal}).then(V=>{clearTimeout(P),V.ok?Jr(g,"TestPingServer: ok",!0,d):Jr(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),Jr(g,"TestPingServer: error",!1,d)})}function Jr(l,d,g,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(g)}catch{}}function kN(){this.g=new $u}function Ed(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Ed,Vo),Ed.prototype.g=function(){return new Ju(this.i,this.h)};function Ju(l,d){at.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ju,at),t=Ju.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,Xo(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Xo(this)),this.g&&(this.readyState=3,Xo(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;c_(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function c_(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Qo(this):Xo(this),this.readyState==3&&c_(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Qo(this))},t.Na=function(l){this.g&&(this.response=l,Qo(this))},t.ga=function(){this.g&&Qo(this)};function Qo(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Xo(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Xo(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ju.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function h_(l){let d="";return X(l,function(g,b){d+=b,d+=":",d+=g,d+=`\r
`}),d}function wd(l,d,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=h_(g),typeof l=="string"?g!=null&&pr(g):De(l,d,g))}function He(l){at.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(He,at);var MN=/^https?$/i,PN=["POST","PUT"];t=He.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():aa.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(V){f_(this,V);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)g.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())g.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(V=>V.toLowerCase()=="content-type"),P=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(PN,d,void 0)>=0)||b||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of g)this.g.setRequestHeader(V,H);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(V){f_(this,V)}};function f_(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,d_(l),Zu(l)}function d_(l){l.A||(l.A=!0,_t(l,"complete"),_t(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,_t(this,"complete"),_t(this,"abort"),Zu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zu(this,!0)),He.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?m_(this):this.Xa())},t.Xa=function(){m_(this)};function m_(l){if(l.h&&typeof a<"u"){if(l.v&&Zr(l)==4)setTimeout(l.Ca.bind(l),0);else if(_t(l,"readystatechange"),Zr(l)==4){l.h=!1;try{const V=l.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var b;if(b=V===0){let H=String(l.D).match(r_)[1]||null;!H&&s.self&&s.self.location&&(H=s.self.location.protocol.slice(0,-1)),b=!MN.test(H?H.toLowerCase():"")}g=b}if(g)_t(l,"complete"),_t(l,"success");else{l.o=6;try{var P=Zr(l)>2?l.g.statusText:""}catch{P=""}l.l=P+" ["+l.ca()+"]",d_(l)}}finally{Zu(l)}}}}function Zu(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,d||_t(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Zr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),Po(d)}};function p_(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function VN(l){const d={};l=(l.g&&Zr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(w(l[b]))continue;var g=zo(l[b]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const V=d[P]||[];d[P]=V,V.push(g)}se(d,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function g_(l){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jo("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jo("baseRetryDelayMs",5e3,l),this.Za=Jo("retryDelaySeedMs",1e4,l),this.Ta=Jo("forwardChannelMaxRetries",2,l),this.va=Jo("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Jv(l&&l.concurrentRequestLimit),this.Ba=new kN,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=g_.prototype,t.ka=8,t.I=1,t.connect=function(l,d,g,b){ft(0),this.W=l,this.H=d||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=x_(this,null,this.W),tc(this)};function Sd(l){if(y_(l),l.I==3){var d=l.V++,g=Kn(l.J);if(De(g,"SID",l.M),De(g,"RID",d),De(g,"TYPE","terminate"),Zo(l,g),d=new Yn(l,l.j,d),d.M=2,d.A=Xu(Kn(g)),g=!1,s.navigator&&s.navigator.sendBeacon)try{g=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!g&&s.Image&&(new Image().src=d.A,g=!0),g||(d.g=A_(d.j,null),d.g.ea(d.A)),d.F=Date.now(),Dt(d)}S_(l)}function ec(l){l.g&&(Ad(l),l.g.cancel(),l.g=null)}function y_(l){ec(l),l.v&&(s.clearTimeout(l.v),l.v=null),nc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function tc(l){if(!Zv(l.h)&&!l.m){l.m=!0;var d=l.Ea;L||T(),F||(L(),F=!0),E.add(d,l),l.D=0}}function jN(l,d){return e_(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Xe(c(l.Ea,l,d),w_(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const P=new Yn(this,this.j,l);let V=this.o;if(this.U&&(V?(V=ct(V),zt(V,this.U)):V=this.U),this.u!==null||this.R||(P.J=V,V=null),this.S)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(d+=b,d>4096){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=__(this,P,d),g=Kn(this.J),De(g,"RID",l),De(g,"CVER",22),this.G&&De(g,"X-HTTP-Session-Id",this.G),Zo(this,g),V&&(this.R?d="headers="+pr(h_(V))+"&"+d:this.u&&wd(g,this.u,V)),bd(this.h,P),this.Ra&&De(g,"TYPE","init"),this.S?(De(g,"$req",d),De(g,"SID","null"),P.U=!0,qo(P,g,null)):qo(P,g,d),this.I=2}}else this.I==3&&(l?v_(this,l):this.i.length==0||Zv(this.h)||v_(this))};function v_(l,d){var g;d?g=d.l:g=l.V++;const b=Kn(l.J);De(b,"SID",l.M),De(b,"RID",g),De(b,"AID",l.K),Zo(l,b),l.u&&l.o&&wd(b,l.u,l.o),g=new Yn(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),d&&(l.i=d.G.concat(l.i)),d=__(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),bd(l.h,g),qo(g,b,d)}function Zo(l,d){l.H&&X(l.H,function(g,b){De(d,b,g)}),l.l&&X({},function(g,b){De(d,b,g)})}function __(l,d,g){g=Math.min(l.i.length,g);const b=l.l?c(l.l.Ka,l.l,l):null;e:{var P=l.i;let ae=-1;for(;;){const st=["count="+g];ae==-1?g>0?(ae=P[0].g,st.push("ofs="+ae)):ae=0:st.push("ofs="+ae);let xe=!0;for(let dt=0;dt<g;dt++){var V=P[dt].g;const Wn=P[dt].map;if(V-=ae,V<0)ae=Math.max(0,P[dt].g-100),xe=!1;else try{V="req"+V+"_"||"";try{var H=Wn instanceof Map?Wn:Object.entries(Wn);for(const[ha,ei]of H){let ti=ei;o(ei)&&(ti=Mo(ei)),st.push(V+ha+"="+encodeURIComponent(ti))}}catch(ha){throw st.push(V+"type="+encodeURIComponent("_badmap")),ha}}catch{b&&b(Wn)}}if(xe){H=st.join("&");break e}}H=void 0}return l=l.i.splice(0,g),d.G=l,H}function b_(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;L||T(),F||(L(),F=!0),E.add(d,l),l.A=0}}function xd(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Xe(c(l.Da,l),w_(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,T_(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Xe(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),ec(this),T_(this))};function Ad(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function T_(l){l.g=new Yn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=Kn(l.na);De(d,"RID","rpc"),De(d,"SID",l.M),De(d,"AID",l.K),De(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&De(d,"TO",l.ia),De(d,"TYPE","xmlhttp"),Zo(l,d),l.u&&l.o&&wd(d,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Xu(Kn(d)),g.u=null,g.R=!0,oe(g,l)}t.Va=function(){this.C!=null&&(this.C=null,ec(this),xd(this),ft(19))};function nc(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function E_(l,d){var g=null;if(l.g==d){nc(l),Ad(l),l.g=null;var b=2}else if(_d(l.h,d))g=d.G,t_(l.h,d),b=1;else return;if(l.I!=0){if(d.o)if(b==1){g=d.u?d.u.length:0,d=Date.now()-d.F;var P=l.D;b=Kr(),_t(b,new bt(b,g)),tc(l)}else b_(l);else if(P=d.m,P==3||P==0&&d.X>0||!(b==1&&jN(l,d)||b==2&&xd(l)))switch(g&&g.length>0&&(d=l.h,d.i=d.i.concat(g)),P){case 1:ca(l,5);break;case 4:ca(l,10);break;case 3:ca(l,6);break;default:ca(l,2)}}}function w_(l,d){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*d}function ca(l,d){if(l.j.info("Error code "+d),d==2){var g=c(l.bb,l),b=l.Ua;const P=!b;b=new Xr(b||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Go(b,"https"),Xu(b),P?DN(b.toString(),g):ON(b.toString(),g)}else ft(2);l.I=0,l.l&&l.l.pa(d),S_(l),y_(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function S_(l){if(l.I=0,l.ja=[],l.l){const d=n_(l.h);(d.length!=0||l.i.length!=0)&&(S(l.ja,d),S(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function x_(l,d,g){var b=g instanceof Xr?Kn(g):new Xr(g);if(b.g!="")d&&(b.g=d+"."+b.g),$o(b,b.u);else{var P=s.location;b=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;const V=new Xr(null);b&&Go(V,b),d&&(V.g=d),P&&$o(V,P),g&&(V.h=g),b=V}return g=l.G,d=l.wa,g&&d&&De(b,g,d),De(b,"VER",l.ka),Zo(l,b),b}function A_(l,d,g){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new He(new Ed({ab:g})):new He(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function C_(){}t=C_.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function rc(){}rc.prototype.g=function(l,d){return new Jt(l,d)};function Jt(l,d){at.call(this),this.g=new g_(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!w(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!w(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new as(this)}m(Jt,at),Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){Sd(this.g)},Jt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Mo(l),l=g);d.i.push(new wN(d.Ya++,l)),d.I==3&&tc(d)},Jt.prototype.N=function(){this.g.l=null,delete this.j,Sd(this.g),delete this.g,Jt.Z.N.call(this)};function N_(l){es.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}m(N_,es);function R_(){jo.call(this),this.status=1}m(R_,jo);function as(l){this.g=l}m(as,C_),as.prototype.ra=function(){_t(this.g,"a")},as.prototype.qa=function(l){_t(this.g,new N_(l))},as.prototype.pa=function(l){_t(this.g,new R_)},as.prototype.oa=function(){_t(this.g,"b")},rc.prototype.createWebChannel=rc.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,jx=function(){return new rc},Vx=function(){return Kr()},Px=Gn,eg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ia.NO_ERROR=0,ia.TIMEOUT=8,ia.HTTP_ERROR=6,Xc=ia,ts.COMPLETE="complete",Mx=ts,Yu.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",at.prototype.listen=at.prototype.J,yl=Yu,He.prototype.listenOnce=He.prototype.K,He.prototype.getLastError=He.prototype.Ha,He.prototype.getLastErrorCode=He.prototype.ya,He.prototype.getStatus=He.prototype.ca,He.prototype.getResponseJson=He.prototype.La,He.prototype.getResponseText=He.prototype.la,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Fa,kx=He}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Ub="@firebase/firestore",zb="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Ff("@firebase/firestore");function hs(){return ka.logLevel}function K(t,...e){if(ka.logLevel<=ce.DEBUG){const n=e.map(Ky);ka.debug(`Firestore (${Eo}): ${t}`,...n)}}function zr(t,...e){if(ka.logLevel<=ce.ERROR){const n=e.map(Ky);ka.error(`Firestore (${Eo}): ${t}`,...n)}}function to(t,...e){if(ka.logLevel<=ce.WARN){const n=e.map(Ky);ka.warn(`Firestore (${Eo}): ${t}`,...n)}}function Ky(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Lx(t,r,n)}function Lx(t,e,n){let r=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zr(r),new Error(r)}function be(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||Lx(e,i,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Dn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class LP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UP{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Or,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Or)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string",31837,{l:r}),new Ux(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new kt(e)}}class zP{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BP{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new zP(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FP{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){be(this.o===void 0,3512);const r=a=>{a.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Bb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Bb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function tg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Am(i)===Am(a)?he(i,a):Am(i)?1:-1}return he(t.length,e.length)}const HP=55296,GP=57343;function Am(t){const e=t.charCodeAt(0);return e>=HP&&e<=GP}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="__name__";class Xn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Xn.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return he(e.length,n.length)}static compareSegments(e,n){const r=Xn.isNumericId(e),i=Xn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xn.extractNumericId(e).compare(Xn.extractNumericId(n)):tg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}}class Ne extends Xn{construct(e,n,r){return new Ne(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const $P=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Xn{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return $P.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fb}static keyField(){return new At([Fb])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new $(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new $(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new $(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ne.fromString(e))}static fromName(e){return new Q(Ne.fromString(e).popFirst(5))}static empty(){return new Q(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ne(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e,n){if(!n)throw new $(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function YP(t,e,n,r){if(e===!0&&r===!0)throw new $(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qb(t){if(!Q.isDocumentKey(t))throw new $(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hb(t){if(Q.isDocumentKey(t))throw new $(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bx(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hf(t);throw new $(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e){const n={typeString:t};return e&&(n.value=e),n}function ku(t,e){if(!Bx(t))throw new $(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new $(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb=-62135596800,$b=1e6;class _e{static now(){return _e.fromMillis(Date.now())}static fromDate(e){return _e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*$b);return new _e(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gb)throw new $(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$b}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:_e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ku(e,_e._jsonSchema))return new _e(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}_e._jsonSchemaVersion="firestore/timestamp/1.0",_e._jsonSchema={type:it("string",_e._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new _e(0,0))}static max(){return new te(new _e(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=-1;function KP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new _e(n+1,0):new _e(n,r));return new Ui(i,Q.empty(),e)}function WP(t){return new Ui(t.readTime,t.key,au)}class Ui{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ui(te.min(),Q.empty(),au)}static max(){return new Ui(te.max(),Q.empty(),au)}}function QP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==XP)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},u=>r(u))}),s=!0,a===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++o,o===a&&r(s)},h=>i(h))}})}static doWhile(e,n){return new B((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function ZP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=-1;function $f(t){return t==null}function zh(t){return t===0&&1/t==-1/0}function eV(t){return typeof t=="number"&&Number.isInteger(t)&&!zh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="";function tV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Yb(e)),e=nV(t.get(n),e);return Yb(e)}function nV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case Fx:n+="";break;default:n+=a}}return n}function Yb(t){return t+Fx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,n){this.comparator=e,this.root=n||Et.EMPTY}insert(e,n){return new Fe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Et.BLACK,null,null))}remove(e){return new Fe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ac(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ac(this.root,e,this.comparator,!0)}}class Ac{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Et{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Et.RED,this.left=i??Et.EMPTY,this.right=a??Et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Et(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}Et.EMPTY=null,Et.RED=!0,Et.BLACK=!1;Et.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new Fe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wb(this.data.getIterator())}getIteratorFrom(e){return new Wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new lt(this.comparator);return n.data=e,n}}class Wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new an([])}unionWith(e){let n=new lt(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Hx("Invalid base64 string: "+a):a}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const rV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zi(t){if(be(!!t,39018),typeof t=="string"){let e=0;const n=rV.exec(t);if(be(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bi(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="server_timestamp",$x="__type__",Yx="__previous_value__",Kx="__local_write_time__";function Xy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$x])==null?void 0:r.stringValue)===Gx}function Yf(t){const e=t.mapValue.fields[Yx];return Xy(e)?Yf(e):e}function su(t){const e=zi(t.mapValue.fields[Kx].timestampValue);return new _e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e,n,r,i,a,s,o,u,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const Bh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Bh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Bh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx="__type__",aV="__max__",Cc={mapValue:{}},Qx="__vector__",Fh="value";function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xy(t)?4:oV(t)?9007199254740991:sV(t)?10:11:Z(28295,{value:t})}function lr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=zi(i.timestampValue),o=zi(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Bi(i.bytesValue).isEqual(Bi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Ye(i.geoPointValue.latitude)===Ye(a.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ye(i.integerValue)===Ye(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ye(i.doubleValue),o=Ye(a.doubleValue);return s===o?zh(s)===zh(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],lr);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(Kb(s)!==Kb(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!lr(s[u],o[u])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function lu(t,e){return(t.values||[]).find(n=>lr(n,e))!==void 0}function ro(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Ye(a.integerValue||a.doubleValue),u=Ye(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return Qb(t.timestampValue,e.timestampValue);case 4:return Qb(su(t),su(e));case 5:return tg(t.stringValue,e.stringValue);case 6:return function(a,s){const o=Bi(a),u=Bi(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),u=s.split("/");for(let c=0;c<o.length&&c<u.length;c++){const h=he(o[c],u[c]);if(h!==0)return h}return he(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=he(Ye(a.latitude),Ye(s.latitude));return o!==0?o:he(Ye(a.longitude),Ye(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Xb(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,y,S,I;const o=a.fields||{},u=s.fields||{},c=(p=o[Fh])==null?void 0:p.arrayValue,h=(y=u[Fh])==null?void 0:y.arrayValue,m=he(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((I=h==null?void 0:h.values)==null?void 0:I.length)||0);return m!==0?m:Xb(c,h)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Cc.mapValue&&s===Cc.mapValue)return 0;if(a===Cc.mapValue)return 1;if(s===Cc.mapValue)return-1;const o=a.fields||{},u=Object.keys(o),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=tg(u[m],h[m]);if(p!==0)return p;const y=ro(o[u[m]],c[h[m]]);if(y!==0)return y}return he(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function Qb(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=zi(t),r=zi(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Xb(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ro(n[i],r[i]);if(a)return a}return he(n.length,r.length)}function io(t){return ng(t)}function ng(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Bi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=ng(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${ng(n.fields[s])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function Jc(t){switch(Fi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yf(t);return e?16+Jc(e):16;case 5:return 2*t.stringValue.length;case 6:return Bi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Jc(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Xi(r.fields,(a,s)=>{i+=a.length+Jc(s)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function Jb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rg(t){return!!t&&"integerValue"in t}function Jy(t){return!!t&&"arrayValue"in t}function Zb(t){return!!t&&"nullValue"in t}function eT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zc(t){return!!t&&"mapValue"in t}function sV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Wx])==null?void 0:r.stringValue)===Qx}function Vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return{...t}}function oV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===aV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.value=e}static empty(){return new $t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=Vl(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Zc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Xi(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new $t(Vl(this.value))}}function Xx(t){const e=[];return Xi(t.fields,(n,r)=>{const i=new At([n]);if(Zc(r)){const a=Xx(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Mt(e,0,te.min(),te.min(),te.min(),$t.empty(),0)}static newFoundDocument(e,n,r,i){return new Mt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new Mt(e,2,n,te.min(),te.min(),$t.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,te.min(),te.min(),$t.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$t.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$t.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function tT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=ro(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function nT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n="asc"){this.field=e,this.dir=n}}function lV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{}class nt extends Jx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cV(e,n,r):n==="array-contains"?new dV(e,r):n==="in"?new mV(e,r):n==="not-in"?new pV(e,r):n==="array-contains-any"?new gV(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hV(e,r):new fV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends Jx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Un(e,n)}matches(e){return Zx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Zx(t){return t.op==="and"}function eA(t){return uV(t)&&Zx(t)}function uV(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function ig(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+io(t.value);if(eA(t))return t.filters.map(e=>ig(e)).join(",");{const e=t.filters.map(n=>ig(n)).join(",");return`${t.op}(${e})`}}function tA(t,e){return t instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&lr(r.value,i.value)}(t,e):t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&tA(s,i.filters[o]),!0):!1}(t,e):void Z(19439)}function nA(t){return t instanceof nt?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(nA).join(" ,")+"}"}(t):"Filter"}class cV extends nt{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class hV extends nt{constructor(e,n){super(e,"in",n),this.keys=rA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fV extends nt{constructor(e,n){super(e,"not-in",n),this.keys=rA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class dV extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jy(n)&&lu(n.arrayValue,this.value)}}class mV extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class pV extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class gV extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function rT(t,e=null,n=[],r=[],i=null,a=null,s=null){return new yV(t,e,n,r,i,a,s)}function Zy(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ig(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),$f(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.Te=n}return e.Te}function ev(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nT(t.startAt,e.startAt)&&nT(t.endAt,e.endAt)}function ag(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vV(t,e,n,r,i,a,s,o){return new Mu(t,e,n,r,i,a,s,o)}function Kf(t){return new Mu(t)}function iT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iA(t){return t.collectionGroup!==null}function jl(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new lt(At.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Hh(a,r))}),n.has(At.keyField().canonicalString())||e.Ie.push(new Hh(At.keyField(),r))}return e.Ie}function nr(t){const e=ne(t);return e.Ee||(e.Ee=_V(e,jl(t))),e.Ee}function _V(t,e){if(t.limitType==="F")return rT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Hh(i.field,a)});const n=t.endAt?new qh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qh(t.startAt.position,t.startAt.inclusive):null;return rT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sg(t,e){const n=t.filters.concat([e]);return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function og(t,e,n){return new Mu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wf(t,e){return ev(nr(t),nr(e))&&t.limitType===e.limitType}function aA(t){return`${Zy(nr(t))}|lt:${t.limitType}`}function fs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nA(i)).join(", ")}]`),$f(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(nr(t))}; limitType=${t.limitType})`}function Qf(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Q.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of jl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,u){const c=tT(s,o,u);return s.inclusive?c<=0:c<0}(r.startAt,jl(r),i)||r.endAt&&!function(s,o,u){const c=tT(s,o,u);return s.inclusive?c>=0:c>0}(r.endAt,jl(r),i))}(t,e)}function bV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sA(t){return(e,n)=>{let r=!1;for(const i of jl(t)){const a=TV(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function TV(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(a,s,o){const u=s.data.field(a),c=o.data.field(a);return u!==null&&c!==null?ro(u,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return qx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV=new Fe(Q.comparator);function Br(){return EV}const oA=new Fe(Q.comparator);function vl(...t){let e=oA;for(const n of t)e=e.insert(n.key,n);return e}function lA(t){let e=oA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function va(){return Ll()}function uA(){return Ll()}function Ll(){return new Wa(t=>t.toString(),(t,e)=>t.isEqual(e))}const wV=new Fe(Q.comparator),SV=new lt(Q.comparator);function fe(...t){let e=SV;for(const n of t)e=e.add(n);return e}const xV=new lt(he);function AV(){return xV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zh(e)?"-0":e}}function cA(t){return{integerValue:""+t}}function CV(t,e){return eV(e)?cA(e):tv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(){this._=void 0}}function NV(t,e,n){return t instanceof Gh?function(i,a){const s={fields:{[$x]:{stringValue:Gx},[Kx]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Xy(a)&&(a=Yf(a)),a&&(s.fields[Yx]=a),{mapValue:s}}(n,e):t instanceof uu?fA(t,e):t instanceof cu?dA(t,e):function(i,a){const s=hA(i,a),o=aT(s)+aT(i.Ae);return rg(s)&&rg(i.Ae)?cA(o):tv(i.serializer,o)}(t,e)}function RV(t,e,n){return t instanceof uu?fA(t,e):t instanceof cu?dA(t,e):n}function hA(t,e){return t instanceof $h?function(r){return rg(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Gh extends Xf{}class uu extends Xf{constructor(e){super(),this.elements=e}}function fA(t,e){const n=mA(e);for(const r of t.elements)n.some(i=>lr(i,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends Xf{constructor(e){super(),this.elements=e}}function dA(t,e){let n=mA(e);for(const r of t.elements)n=n.filter(i=>!lr(i,r));return{arrayValue:{values:n}}}class $h extends Xf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aT(t){return Ye(t.integerValue||t.doubleValue)}function mA(t){return Jy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function IV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof uu&&i instanceof uu||r instanceof cu&&i instanceof cu?no(r.elements,i.elements,lr):r instanceof $h&&i instanceof $h?lr(r.Ae,i.Ae):r instanceof Gh&&i instanceof Gh}(t.transform,e.transform)}class DV{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jf{}function pA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new nv(t.key,jn.none()):new Pu(t.key,t.data,jn.none());{const n=t.data,r=$t.empty();let i=new lt(At.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new Ji(t.key,r,new an(i.toArray()),jn.none())}}function OV(t,e,n){t instanceof Pu?function(i,a,s){const o=i.value.clone(),u=oT(i.fieldTransforms,a,s.transformResults);o.setAll(u),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ji?function(i,a,s){if(!eh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=oT(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(gA(i)),u.setAll(o),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ul(t,e,n,r){return t instanceof Pu?function(a,s,o,u){if(!eh(a.precondition,s))return o;const c=a.value.clone(),h=lT(a.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ji?function(a,s,o,u){if(!eh(a.precondition,s))return o;const c=lT(a.fieldTransforms,u,s),h=s.data;return h.setAll(gA(a)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(a,s,o){return eh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function kV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=hA(r.transform,i||null);a!=null&&(n===null&&(n=$t.empty()),n.set(r.field,a))}return n||null}function sT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(a,s)=>IV(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Pu extends Jf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ji extends Jf{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function oT(t,e,n){const r=new Map;be(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,RV(s,o,n[i]))}return r}function lT(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,NV(a,s,e))}return r}class nv extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MV extends Jf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&OV(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=uA();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const u=pA(s,o);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>sT(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>sT(n,r))}}class rv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return wV}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new rv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je,pe;function LV(t){switch(t){case U.OK:return Z(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function yA(t){if(t===void 0)return zr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Je.OK:return U.OK;case Je.CANCELLED:return U.CANCELLED;case Je.UNKNOWN:return U.UNKNOWN;case Je.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Je.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Je.INTERNAL:return U.INTERNAL;case Je.UNAVAILABLE:return U.UNAVAILABLE;case Je.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Je.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Je.NOT_FOUND:return U.NOT_FOUND;case Je.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Je.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Je.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Je.ABORTED:return U.ABORTED;case Je.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Je.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Je.DATA_LOSS:return U.DATA_LOSS;default:return Z(39323,{code:t})}}(pe=Je||(Je={}))[pe.OK=0]="OK",pe[pe.CANCELLED=1]="CANCELLED",pe[pe.UNKNOWN=2]="UNKNOWN",pe[pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pe[pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pe[pe.NOT_FOUND=5]="NOT_FOUND",pe[pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",pe[pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",pe[pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",pe[pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pe[pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pe[pe.ABORTED=10]="ABORTED",pe[pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",pe[pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",pe[pe.INTERNAL=13]="INTERNAL",pe[pe.UNAVAILABLE=14]="UNAVAILABLE",pe[pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=new Di([4294967295,4294967295],0);function uT(t){const e=UV().encode(t),n=new Ox;return n.update(e),new Uint8Array(n.digest())}function cT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Di([n,r],0),new Di([i,a],0)]}class iv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Di.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Di.fromNumber(r)));return i.compare(zV)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uT(e),[r,i]=cT(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new iv(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=uT(e),[r,i]=cT(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zf(te.min(),i,new Fe(he),Br(),fe())}}class Vu{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,fe(),fe(),fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class vA{constructor(e,n){this.targetId=e,this.Ce=n}}class _A{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hT{constructor(){this.ve=0,this.Fe=fT(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=fe(),n=fe(),r=fe();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:a})}}),new Vu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=fT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class BV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Br(),this.Je=Nc(),this.He=Nc(),this.Ye=new Fe(he)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(ag(a))if(r===0){const s=new Q(a.path);this.et(n,s,Mt.newNoDocument(s,te.min()))}else be(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),u=o?this.ct(o,e,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=Bi(r).toUint8Array()}catch(u){if(u instanceof Hx)return to("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new iv(s,i,a)}catch(u){return to(u instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&ag(o.target)){const u=new Q(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,Mt.newNoDocument(u,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=fe();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Zf(e,n,this.Ye,this.je,r);return this.je=Br(),this.Je=Nc(),this.He=Nc(),this.Ye=new Fe(he),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new hT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new lt(he),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new lt(he),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new hT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Nc(){return new Fe(Q.comparator)}function fT(){return new Fe(Q.comparator)}const FV={asc:"ASCENDING",desc:"DESCENDING"},qV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HV={and:"AND",or:"OR"};class GV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lg(t,e){return t.useProto3Json||$f(e)?e:{value:e}}function Yh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function $V(t,e){return Yh(t,e.toTimestamp())}function rr(t){return be(!!t,49232),te.fromTimestamp(function(n){const r=zi(n);return new _e(r.seconds,r.nanos)}(t))}function av(t,e){return ug(t,e).canonicalString()}function ug(t,e){const n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function TA(t){const e=Ne.fromString(t);return be(AA(e),10190,{key:e.toString()}),e}function cg(t,e){return av(t.databaseId,e.path)}function Cm(t,e){const n=TA(e);if(n.get(1)!==t.databaseId.projectId)throw new $(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(wA(n))}function EA(t,e){return av(t.databaseId,e)}function YV(t){const e=TA(t);return e.length===4?Ne.emptyPath():wA(e)}function hg(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wA(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dT(t,e,n){return{name:cg(t,e),fields:n.value.mapValue.fields}}function KV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,h){return c.useProto3Json?(be(h===void 0||typeof h=="string",58123),Rt.fromBase64String(h||"")):(be(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Rt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const h=c.code===void 0?U.UNKNOWN:yA(c.code);return new $(h,c.message||"")}(s);n=new _A(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cm(t,r.document.name),a=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):te.min(),o=new $t({mapValue:{fields:r.document.fields}}),u=Mt.newFoundDocument(i,a,s,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new th(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cm(t,r.document),a=r.readTime?rr(r.readTime):te.min(),s=Mt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new th([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cm(t,r.document),a=r.removedTargetIds||[];n=new th([],a,i,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new jV(i,a),o=r.targetId;n=new vA(o,s)}}return n}function WV(t,e){let n;if(e instanceof Pu)n={update:dT(t,e.key,e.value)};else if(e instanceof nv)n={delete:cg(t,e.key)};else if(e instanceof Ji)n={update:dT(t,e.key,e.data),updateMask:ij(e.fieldMask)};else{if(!(e instanceof MV))return Z(16599,{Vt:e.type});n={verify:cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof Gh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof uu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof cu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof $h)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:$V(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Z(27497)}(t,e.precondition)),n}function QV(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?rr(i.updateTime):rr(a);return s.isEqual(te.min())&&(s=rr(a)),new DV(s,i.transformResults||[])}(n,e))):[]}function XV(t,e){return{documents:[EA(t,e.path)]}}function JV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EA(t,i);const a=function(c){if(c.length!==0)return xA(Un.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:ds(p.field),direction:tj(p.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=lg(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function ZV(t){let e=YV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let a=[];n.where&&(a=function(m){const p=SA(m);return p instanceof Un&&eA(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(S){return new Hh(ms(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,$f(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new qh(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,y=m.values||[];return new qh(y,p)}(n.endAt)),vV(e,i,s,a,o,"F",u,c)}function ej(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ms(n.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ms(n.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ms(n.unaryFilter.field);return nt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ms(n.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return nt.create(ms(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>SA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function tj(t){return FV[t]}function nj(t){return qV[t]}function rj(t){return HV[t]}function ds(t){return{fieldPath:t.canonicalString()}}function ms(t){return At.fromServerFormat(t.fieldPath)}function xA(t){return t instanceof nt?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NAN"}};if(Zb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NAN"}};if(Zb(n.value))return{unaryFilter:{field:ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ds(n.field),op:nj(n.op),value:n.value}}}(t):t instanceof Un?function(n){const r=n.getFilters().map(i=>xA(i));return r.length===1?r[0]:{compositeFilter:{op:rj(n.op),filters:r}}}(t):Z(54877,{filter:t})}function ij(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function AA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r,i,a=te.min(),s=te.min(),o=Rt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new _i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e){this.yt=e}}function sj(t){const e=ZV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?og(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.Cn=new lj}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ui.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class lj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(Ne.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CA=41943040;class Gt{static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(CA,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="LruGarbageCollector",uj=1048576;function gT([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class cj{constructor(e){this.Ir=e,this.buffer=new lt(gT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){K(pT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?K(pT,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Vr(3e5)})}}class fj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Gf.ce);const r=new cj(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(mT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),hs()<=ce.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function dj(t,e){return new fj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.changes=new Wa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ul(r.mutation,i,an.empty(),_e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){const i=va();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=vl();return a.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=va();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Br();const s=Ll(),o=function(){return Ll()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Ji)?a=a.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Ul(h.mutation,c,h.mutation.getFieldMask(),_e.now())):s.set(c.key,an.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>o.set(c,new pj(h,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Ll();let i=new Fe((s,o)=>s-o),a=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||an.empty();h=o.applyToLocalView(c,h),r.set(u,h);const m=(i.get(o.batchId)||fe()).add(u);i=i.insert(o.batchId,m)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,h=u.value,m=uA();h.forEach(p=>{if(!a.has(p)){const y=pA(n.get(p),r.get(p));y!==null&&m.set(p,y),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):B.resolve(va());let o=au,u=a;return s.next(c=>B.forEach(c,(h,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),a.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,fe())).next(h=>({batchId:o,changes:lA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=vl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=vl();return this.indexManager.getCollectionParents(e,a).next(o=>B.forEach(o,u=>{const c=function(m,p){return new Mu(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Mt.newInvalidDocument(h)))});let o=vl();return s.forEach((u,c)=>{const h=a.get(u);h!==void 0&&Ul(h.mutation,c,an.empty(),_e.now()),Qf(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:rr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:sj(i.bundledQuery),readTime:rr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.overlays=new Fe(Q.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=va();return B.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=va(),a=n.length+1,s=new Q(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Fe((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=a.get(c.largestBatchId);h===null&&(h=va(),a=a.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=va(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return B.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new VV(n,r));let a=this.qr.get(n);a===void 0&&(a=fe(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(){this.Qr=new lt(mt.$r),this.Ur=new lt(mt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new mt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new mt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Ne([])),r=new mt(n,e),i=new mt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Ne([])),r=new mt(n,e),i=new mt(n,e+1);let a=fe();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new mt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class mt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||he(e.Yr,n.Yr)}static Kr(e,n){return he(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new lt(mt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new PV(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new mt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Qy:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mt(n,0),i=new mt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(he);return n.forEach(i=>{const a=new mt(i,0),s=new mt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Q.isDocumentKey(a)||(a=a.child(""));const s=new mt(new Q(a),0);let o=new lt(he);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(u.Yr)),!0)},s),B.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const a=new mt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new mt(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.ri=e,this.docs=function(){return new Fe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let r=Br();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Mt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Br();const s=n.path,o=new Q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||QP(WP(h),r)<=0||(i.has(h.key)||Qf(n,h))&&(a=a.insert(h.key,h.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ej(this)}getSize(e){return B.resolve(this.size)}}class Ej extends mj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.persistence=e,this.si=new Wa(n=>Zy(n),ev),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.oi=0,this._i=new sv,this.targetCount=0,this.ai=ao.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ao(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(a).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gf(0),this.li=!1,this.li=!0,this.hi=new _j,this.referenceDelegate=e(this),this.Pi=new wj(this),this.indexManager=new oj,this.remoteDocumentCache=function(i){return new Tj(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new aj(n),this.Ii=new yj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new bj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Sj(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Sj extends JP{constructor(e){super(),this.currentSequenceNumber=e}}class ov{constructor(e){this.persistence=e,this.Ri=new sv,this.Vi=null}static mi(e){return new ov(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,te.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.pi=new Wa(r=>tV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=dj(this,n)}static mi(e,n){return new Kh(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,te.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Jc(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=fe(),i=fe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new lv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return yM()?8:ZP(Pt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new xj;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(hs()<=ce.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",fs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(hs()<=ce.DEBUG&&K("QueryEngine","Query:",fs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(hs()<=ce.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",fs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(n))):B.resolve())}ys(e,n){if(iT(n))return B.resolve(null);let r=nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=og(n,null,"F"),r=nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=fe(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,o);return this.Cs(n,c,s,u.readTime)?this.ys(e,og(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return iT(n)||i.isEqual(te.min())?B.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?B.resolve(null):(hs()<=ce.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fs(n)),this.vs(e,s,n,KP(i,au)).next(o=>o))})}Ds(e,n){let r=new lt(sA(e));return n.forEach((i,a)=>{Qf(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return hs()<=ce.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",fs(n)),this.ps.getDocumentsMatchingQuery(e,n,Ui.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="LocalStore",Cj=3e8;class Nj{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Fe(he),this.xs=new Wa(a=>Zy(a),ev),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function Rj(t,e,n,r){return new Nj(t,e,n,r)}async function RA(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let u=fe();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of a){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function Ij(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,c,h){const m=c.batch,p=m.keys();let y=B.resolve();return p.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(I=>{const R=c.docVersions.get(S);be(R!==null,48541),I.version.compareTo(R)<0&&(m.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),h.addEntry(I)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=fe();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IA(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Dj(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((h,m)=>{const p=i.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(a,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(a,h.addedDocuments,m)));let y=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Rt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),function(I,R,v){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=Cj?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,h)&&o.push(n.Pi.updateTargetData(a,y))});let u=Br(),c=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,h))}),o.push(Oj(a,s,e.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(te.min())){const h=n.Pi.getLastRemoteSnapshotVersion(a).next(m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(h)}return B.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ms=i,a))}function Oj(t,e,n){let r=fe(),i=fe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Br();return n.forEach((o,u)=>{const c=a.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):K(uv,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{ks:s,qs:i}})}function kj(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Qy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Mj(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,B.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new _i(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function fg(t,e,n){const r=ne(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!So(s))throw s;K(uv,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function yT(t,e,n){const r=ne(t);let i=te.min(),a=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const m=ne(u),p=m.xs.get(h);return p!==void 0?B.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,h)}(r,s,nr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(u=>{a=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?a:fe())).next(o=>(Pj(r,bV(e),o),{documents:o,Qs:a})))}function Pj(t,e,n){let r=t.Os.get(e)||te.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class vT{constructor(){this.activeTargetIds=AV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Vj{constructor(){this.Mo=new vT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="ConnectivityMonitor";class bT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(_T,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){K(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function dg(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",Lj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Bh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=dg(),o=this.zo(e,n.toUriEncodedString());K(Nm,`Sending RPC '${e}' ${s}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:c}=new URL(o),h=$a(c);return this.Jo(e,o,u,r,h).then(m=>(K(Nm,`Received RPC '${e}' ${s}: `,m),m),m=>{throw to(Nm,`RPC '${e}' ${s} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=Lj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class Bj extends Uj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=dg();return new Promise((o,u)=>{const c=new kx;c.setWithCredentials(!0),c.listenOnce(Mx.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xc.NO_ERROR:const m=c.getResponseJson();K(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case Xc.TIMEOUT:K(Ot,`RPC '${e}' ${s} timed out`),u(new $(U.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const p=c.getStatus();if(K(Ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const S=y==null?void 0:y.error;if(S&&S.status&&S.message){const I=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(S.status);u(new $(I,S.message))}else u(new $(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new $(U.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(Ot,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);K(Ot,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(e,n,r){const i=dg(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jx(),o=Vx(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=a.join("");K(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);const m=s.createWebChannel(h,u);this.I_(m);let p=!1,y=!1;const S=new zj({Yo:R=>{y?K(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(K(Ot,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),K(Ot,`RPC '${e}' stream ${i} sending:`,R),m.send(R))},Zo:()=>m.close()}),I=(R,v,_)=>{R.listen(v,x=>{try{_(x)}catch(N){setTimeout(()=>{throw N},0)}})};return I(m,yl.EventType.OPEN,()=>{y||(K(Ot,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),I(m,yl.EventType.CLOSE,()=>{y||(y=!0,K(Ot,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(m))}),I(m,yl.EventType.ERROR,R=>{y||(y=!0,to(Ot,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.a_(new $(U.UNAVAILABLE,"The operation could not be completed")))}),I(m,yl.EventType.MESSAGE,R=>{var v;if(!y){const _=R.data[0];be(!!_,16349);const x=_,N=(x==null?void 0:x.error)||((v=x[0])==null?void 0:v.error);if(N){K(Ot,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let F=function(A){const C=Je[A];if(C!==void 0)return yA(C)}(L),E=N.message;F===void 0&&(F=U.INTERNAL,E="Unknown error status: "+L+" with message "+N.message),y=!0,S.a_(new $(F,E)),m.close()}else K(Ot,`RPC '${e}' stream ${i} received:`,_),S.u_(_)}}),I(o,Px.STAT_EVENT,R=>{R.stat===eg.PROXY?K(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===eg.NOPROXY&&K(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){return new GV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="PersistentStream";class OA{constructor(e,n,r,i,a,s,o,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new DA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return K(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(K(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Fj extends OA{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=KV(this.serializer,e),r=function(a){if(!("targetChange"in a))return te.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?rr(s.readTime):te.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=hg(this.serializer),n.addTarget=function(a,s){let o;const u=s.target;if(o=ag(u)?{documents:XV(a,u)}:{query:JV(a,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=bA(a,s.resumeToken);const c=lg(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(te.min())>0){o.readTime=Yh(a,s.snapshotVersion.toTimestamp());const c=lg(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=ej(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=hg(this.serializer),n.removeTarget=e,this.q_(n)}}class qj extends OA{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QV(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=hg(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{}class Gj extends Hj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,ug(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $(U.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,ug(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(U.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class $j{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="RemoteStore";class Yj{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{Qa(this)&&(K(Ma,"Restarting streams for network reachability change."),await async function(u){const c=ne(u);c.Ea.add(4),await ju(c),c.Ra.set("Unknown"),c.Ea.delete(4),await td(c)}(this))})}),this.Ra=new $j(r,i)}}async function td(t){if(Qa(t))for(const e of t.da)await e(!0)}async function ju(t){for(const e of t.da)await e(!1)}function kA(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),dv(n)?fv(n):xo(n).O_()&&hv(n,e))}function cv(t,e){const n=ne(t),r=xo(n);n.Ia.delete(e),r.O_()&&MA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Qa(n)&&n.Ra.set("Unknown"))}function hv(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(t).Y_(e)}function MA(t,e){t.Va.Ue(e),xo(t).Z_(e)}function fv(t){t.Va=new BV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xo(t).start(),t.Ra.ua()}function dv(t){return Qa(t)&&!xo(t).x_()&&t.Ia.size>0}function Qa(t){return ne(t).Ea.size===0}function PA(t){t.Va=void 0}async function Kj(t){t.Ra.set("Online")}async function Wj(t){t.Ia.forEach((e,n)=>{hv(t,e)})}async function Qj(t,e){PA(t),dv(t)?(t.Ra.ha(e),fv(t)):t.Ra.set("Unknown")}async function Xj(t,e,n){if(t.Ra.set("Online"),e instanceof _A&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){K(Ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(t,r)}else if(e instanceof th?t.Va.Ze(e):e instanceof vA?t.Va.st(e):t.Va.tt(e),!n.isEqual(te.min()))try{const r=await IA(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=a.Ia.get(c);h&&a.Ia.set(c,h.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,c)=>{const h=a.Ia.get(u);if(!h)return;a.Ia.set(u,h.withResumeToken(Rt.EMPTY_BYTE_STRING,h.snapshotVersion)),MA(a,u);const m=new _i(h.target,u,c,h.sequenceNumber);hv(a,m)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){K(Ma,"Failed to raise snapshot:",r),await Wh(t,r)}}async function Wh(t,e,n){if(!So(e))throw e;t.Ea.add(1),await ju(t),t.Ra.set("Offline"),n||(n=()=>IA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K(Ma,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await td(t)})}function VA(t,e){return e().catch(n=>Wh(t,n,e))}async function nd(t){const e=ne(t),n=qi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Qy;for(;Jj(e);)try{const i=await kj(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Zj(e,i)}catch(i){await Wh(e,i)}jA(e)&&LA(e)}function Jj(t){return Qa(t)&&t.Ta.length<10}function Zj(t,e){t.Ta.push(e);const n=qi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function jA(t){return Qa(t)&&!qi(t).x_()&&t.Ta.length>0}function LA(t){qi(t).start()}async function eL(t){qi(t).ra()}async function tL(t){const e=qi(t);for(const n of t.Ta)e.ea(n.mutations)}async function nL(t,e,n){const r=t.Ta.shift(),i=rv.from(r,e,n);await VA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nd(t)}async function rL(t,e){e&&qi(t).X_&&await async function(r,i){if(function(s){return LV(s)&&s!==U.ABORTED}(i.code)){const a=r.Ta.shift();qi(r).B_(),await VA(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await nd(r)}}(t,e),jA(t)&&LA(t)}async function ET(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),K(Ma,"RemoteStore received new credentials");const r=Qa(n);n.Ea.add(3),await ju(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await td(n)}async function iL(t,e){const n=ne(t);e?(n.Ea.delete(2),await td(n)):e||(n.Ea.add(2),await ju(n),n.Ra.set("Unknown"))}function xo(t){return t.ma||(t.ma=function(n,r,i){const a=ne(n);return a.sa(),new Fj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Kj.bind(null,t),t_:Wj.bind(null,t),r_:Qj.bind(null,t),H_:Xj.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),dv(t)?fv(t):t.Ra.set("Unknown")):(await t.ma.stop(),PA(t))})),t.ma}function qi(t){return t.fa||(t.fa=function(n,r,i){const a=ne(n);return a.sa(),new qj(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:eL.bind(null,t),r_:rL.bind(null,t),ta:tL.bind(null,t),na:nL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await nd(t)):(await t.fa.stop(),t.Ta.length>0&&(K(Ma,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new mv(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pv(t,e){if(zr("AsyncQueue",`${e}: ${t}`),So(t))return new $(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=vl(),this.sortedSet=new Fe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Us;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.ga=new Fe(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class so{constructor(e,n,r,i,a,s,o,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new so(e,n,Us.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class sL{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ne(n),a=i.queries;i.queries=ST(),a.forEach((s,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new $(U.ABORTED,"Firestore shutting down"))}}function ST(){return new Wa(t=>aA(t),Wf)}async function gv(t,e){const n=ne(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new aL,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=pv(s,`Initialization of query '${fs(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&vv(n)}async function yv(t,e){const n=ne(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oL(t,e){const n=ne(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&vv(n)}function lL(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function vv(t){t.Ca.forEach(e=>{e.next()})}var mg,xT;(xT=mg||(mg={})).Ma="default",xT.Cache="cache";class _v{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.key=e}}class zA{constructor(e){this.key=e}}class uL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=fe(),this.mutatedKeys=fe(),this.eu=sA(e),this.tu=new Us(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new wT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const p=i.get(h),y=Qf(this.query,m)?m:null,S=!!p&&this.mutatedKeys.has(p.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;p&&y?p.data.isEqual(y.data)?S!==I&&(r.track({type:3,doc:y}),R=!0):this.su(p,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(o=!0)):!p&&y?(r.track({type:0,doc:y}),R=!0):p&&!y&&(r.track({type:1,doc:p}),R=!0,(u||c)&&(o=!0)),R&&(y?(s=s.add(y),a=I?a.add(h):a.delete(h)):(s=s.delete(h),a=a.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),a=a.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((h,m)=>function(y,S){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:R})}};return I(y)-I(S)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,s.length!==0||c?{snapshot:new so(this.query,e.tu,a,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=fe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new zA(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new UA(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=fe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bv="SyncEngine";class cL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hL{constructor(e){this.key=e,this.hu=!1}}class fL{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Wa(o=>aA(o),Wf),this.Iu=new Map,this.Eu=new Set,this.du=new Fe(Q.comparator),this.Au=new Map,this.Ru=new sv,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function dL(t,e,n=!0){const r=$A(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await BA(r,e,n,!0),i}async function mL(t,e){const n=$A(t);await BA(n,e,!0,!1)}async function BA(t,e,n,r){const i=await Mj(t.localStore,nr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await pL(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kA(t.remoteStore,i),o}async function pL(t,e,n,r,i){t.pu=(m,p,y)=>async function(I,R,v,_){let x=R.view.ru(v);x.Cs&&(x=await yT(I.localStore,R.query,!1).then(({documents:E})=>R.view.ru(E,x)));const N=_&&_.targetChanges.get(R.targetId),L=_&&_.targetMismatches.get(R.targetId)!=null,F=R.view.applyChanges(x,I.isPrimaryClient,N,L);return CT(I,R.targetId,F.au),F.snapshot}(t,m,p,y);const a=await yT(t.localStore,e,!0),s=new uL(e,a.Qs),o=s.ru(a.documents),u=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,u);CT(t,n,c.au);const h=new cL(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function gL(t,e,n){const r=ne(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Wf(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&cv(r.remoteStore,i.targetId),pg(r,i.targetId)}).catch(wo)):(pg(r,i.targetId),await fg(r.localStore,i.targetId,!0))}async function yL(t,e){const n=ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),cv(n.remoteStore,r.targetId))}async function vL(t,e,n){const r=xL(t);try{const i=await function(s,o){const u=ne(s),c=_e.now(),h=o.reduce((y,S)=>y.add(S.key),fe());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Br(),I=fe();return u.Ns.getEntries(y,h).next(R=>{S=R,S.forEach((v,_)=>{_.isValidDocument()||(I=I.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{m=R;const v=[];for(const _ of o){const x=kV(_,m.get(_.key).overlayedDocument);x!=null&&v.push(new Ji(_.key,x,Xx(x.value.mapValue),jn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,v,o)}).next(R=>{p=R;const v=R.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(y,R.batchId,v)})}).then(()=>({batchId:p.batchId,changes:lA(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let c=s.Vu[s.currentUser.toKey()];c||(c=new Fe(he)),c=c.insert(o,u),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Lu(r,i.changes),await nd(r.remoteStore)}catch(i){const a=pv(i,"Failed to persist write");n.reject(a)}}async function FA(t,e){const n=ne(t);try{const r=await Dj(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?be(s.hu,14607):i.removedDocuments.size>0&&(be(s.hu,42227),s.hu=!1))}),await Lu(n,r,e)}catch(r){await wo(r)}}function AT(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const u=ne(s);u.onlineState=o;let c=!1;u.queries.forEach((h,m)=>{for(const p of m.Sa)p.va(o)&&(c=!0)}),c&&vv(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _L(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new Fe(Q.comparator);s=s.insert(a,Mt.newNoDocument(a,te.min()));const o=fe().add(a),u=new Zf(te.min(),new Map,new Fe(he),s,o);await FA(r,u),r.du=r.du.remove(a),r.Au.delete(e),Tv(r)}else await fg(r.localStore,e,!1).then(()=>pg(r,e,n)).catch(wo)}async function bL(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await Ij(n.localStore,e);HA(n,r,null),qA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lu(n,i)}catch(i){await wo(i)}}async function TL(t,e,n){const r=ne(t);try{const i=await function(s,o){const u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,o).next(m=>(be(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);HA(r,e,n),qA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Lu(r,i)}catch(i){await wo(i)}}function qA(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function HA(t,e,n){const r=ne(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function pg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||GA(t,r)})}function GA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(cv(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Tv(t))}function CT(t,e,n){for(const r of n)r instanceof UA?(t.Ru.addReference(r.key,e),EL(t,r)):r instanceof zA?(K(bv,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||GA(t,r.key)):Z(19791,{wu:r})}function EL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(K(bv,"New document in limbo: "+n),t.Eu.add(r),Tv(t))}function Tv(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Ne.fromString(e)),r=t.fu.next();t.Au.set(r,new hL(n)),t.du=t.du.insert(n,r),kA(t.remoteStore,new _i(nr(Kf(n.path)),r,"TargetPurposeLimboResolution",Gf.ce))}}async function Lu(t,e,n){const r=ne(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{s.push(r.pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=lv.As(u.targetId,c);a.push(m)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(u,c){const h=ne(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(c,p=>B.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>B.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!So(m))throw m;K(uv,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const y=h.Ms.get(p),S=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(p,I)}}}(r.localStore,a))}async function wL(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){K(bv,"User change. New user:",e.toKey());const r=await RA(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(u=>{u.reject(new $(U.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Lu(n,r.Ls)}}function SL(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return fe().add(r.key);{let i=fe();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function $A(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_L.bind(null,e),e.Pu.H_=oL.bind(null,e.eventManager),e.Pu.yu=lL.bind(null,e.eventManager),e}function xL(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TL.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Rj(this.persistence,new Aj,e.initialUser,this.serializer)}Cu(e){return new NA(ov.mi,this.serializer)}Du(e){return new Vj}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class AL extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){be(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new NA(r=>Kh.mi(r,n),this.serializer)}}class gg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),await iL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sL}()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),r=function(a){return new Bj(a)}(e.databaseInfo);return function(a,s,o,u){return new Gj(a,s,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new Yj(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>AT(this.syncEngine,n,0),function(){return bT.v()?new bT:new jj}())}createSyncEngine(e,n){return function(i,a,s,o,u,c,h){const m=new fL(i,a,s,o,u,c);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ne(i);K(Ma,"RemoteStore shutting down."),a.Ea.add(5),await ju(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}gg.provider={build:()=>new gg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="FirestoreClient";class CL{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Wy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{K(Hi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K(Hi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Im(t,e){t.asyncQueue.verifyOperationInProgress(),K(Hi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RA(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function NT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NL(t);K(Hi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ET(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ET(e.remoteStore,i)),t._onlineComponents=e}async function NL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K(Hi,"Using user provided OfflineComponentProvider");try{await Im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await Im(t,new Qh)}}else K(Hi,"Using default OfflineComponentProvider"),await Im(t,new AL(void 0));return t._offlineComponents}async function YA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K(Hi,"Using user provided OnlineComponentProvider"),await NT(t,t._uninitializedComponentsProvider._online)):(K(Hi,"Using default OnlineComponentProvider"),await NT(t,new gg))),t._onlineComponents}function RL(t){return YA(t).then(e=>e.syncEngine)}async function Xh(t){const e=await YA(t),n=e.eventManager;return n.onListen=dL.bind(null,e.syncEngine),n.onUnlisten=gL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yL.bind(null,e.syncEngine),n}function IL(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const h=new Ev({next:p=>{h.Nu(),s.enqueueAndForget(()=>yv(a,m));const y=p.docs.has(o);!y&&p.fromCache?c.reject(new $(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?c.reject(new $(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new _v(Kf(o.path),h,{includeMetadataChanges:!0,qa:!0});return gv(a,m)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}function DL(t,e,n={}){const r=new Or;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const h=new Ev({next:p=>{h.Nu(),s.enqueueAndForget(()=>yv(a,m)),p.fromCache&&u.source==="server"?c.reject(new $(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new _v(o,h,{includeMetadataChanges:!0,qa:!0});return gv(a,m)}(await Xh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firestore.googleapis.com",IT=!0;class DT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WA,this.ssl=IT}else this.host=e.host,this.ssl=e.ssl??IT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uj)throw new $(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}YP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KA(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jP;switch(r.type){case"firstParty":return new BP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=RT.get(n);r&&(K("ComponentProvider","Removing Datastore"),RT.delete(n),r.terminate())}(this),Promise.resolve()}}function OL(t,e,n,r={}){var c;t=Cn(t,rd);const i=$a(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(Gy(`https://${o}`),$y("Firestore",!0)),a.host!==WA&&a.host!==o&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:o,ssl:i,emulatorOptions:r};if(!Li(u,s)&&(t._setSettings(u),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=kt.MOCK_USER;else{h=Ex(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new $(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new kt(p)}t._authCredentials=new LP(new Ux(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xa(this.firestore,e,this._query)}}class We{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new We(this.firestore,e,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ku(n,We._jsonSchema))return new We(e,r||null,new Q(Ne.fromString(n.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:it("string",We._jsonSchemaVersion),referencePath:it("string")};class Oi extends Xa{constructor(e,n,r){super(e,n,Kf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new We(this.firestore,null,new Q(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function Ao(t,e,...n){if(t=Be(t),zx("collection","path",e),t instanceof rd){const r=Ne.fromString(e,...n);return Hb(r),new Oi(t,null,r)}{if(!(t instanceof We||t instanceof Oi))throw new $(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return Hb(r),new Oi(t.firestore,null,r)}}function Co(t,e,...n){if(t=Be(t),arguments.length===1&&(e=Wy.newId()),zx("doc","path",e),t instanceof rd){const r=Ne.fromString(e,...n);return qb(r),new We(t,null,new Q(r))}{if(!(t instanceof We||t instanceof Oi))throw new $(U.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ne.fromString(e,...n));return qb(r),new We(t.firestore,t instanceof Oi?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="AsyncQueue";class kT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new DA(this,"async_queue_retry"),this._c=()=>{const r=Rm();r&&K(OT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Or;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!So(e))throw e;K(OT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,zr("INTERNAL UNHANDLED ERROR: ",MT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=mv.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:MT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function MT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class Gi extends rd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new kT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new kT(e),this._firestoreClient=void 0,await e}}}function kL(t,e){const n=typeof t=="object"?t:qf(),r=typeof t=="string"?t:Bh,i=Qi(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=_x("firestore");a&&OL(i,...a)}return i}function id(t){if(t._terminated)throw new $(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ML(t),t._firestoreClient}function ML(t){var r,i,a;const e=t._freezeSettings(),n=function(o,u,c,h){return new iV(o,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new CL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sn(Rt.fromBase64String(e))}catch(n){throw new $(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sn(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ku(e,Sn._jsonSchema))return Sn.fromBase64String(e.bytes)}}Sn._jsonSchemaVersion="firestore/bytes/1.0",Sn._jsonSchema={type:it("string",Sn._jsonSchemaVersion),bytes:it("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ir._jsonSchemaVersion}}static fromJSON(e){if(ku(e,ir._jsonSchema))return new ir(e.latitude,e.longitude)}}ir._jsonSchemaVersion="firestore/geoPoint/1.0",ir._jsonSchema={type:it("string",ir._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ar._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ku(e,ar._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new ar(e.vectorValues);throw new $(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ar._jsonSchemaVersion="firestore/vectorValue/1.0",ar._jsonSchema={type:it("string",ar._jsonSchemaVersion),vectorValues:it("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL=/^__.*__$/;class VL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class QA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class Sv{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XA(this.Ac)&&PL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class jL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ed(e)}Cc(e,n,r,i=!1){return new Sv({Ac:e,methodName:n,Dc:r,path:At.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xv(t){const e=t._freezeSettings(),n=ed(t._databaseId);return new jL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LL(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);Av("Data must be an object, but it was:",s,r);const o=JA(r,s);let u,c;if(a.merge)u=new an(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const h=[];for(const m of a.mergeFields){const p=yg(e,m,n);if(!s.contains(p))throw new $(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);eC(h,p)||h.push(p)}u=new an(h),c=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=s.fieldTransforms;return new VL(new $t(o),u,c)}class sd extends wv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sd}}function UL(t,e,n,r){const i=t.Cc(1,e,n);Av("Data must be an object, but it was:",i,r);const a=[],s=$t.empty();Xi(r,(u,c)=>{const h=Cv(e,u,n);c=Be(c);const m=i.yc(h);if(c instanceof sd)a.push(h);else{const p=Uu(c,m);p!=null&&(a.push(h),s.set(h,p))}});const o=new an(a);return new QA(s,o,i.fieldTransforms)}function zL(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[yg(e,r,n)],u=[i];if(a.length%2!=0)throw new $(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(yg(e,a[p])),u.push(a[p+1]);const c=[],h=$t.empty();for(let p=o.length-1;p>=0;--p)if(!eC(c,o[p])){const y=o[p];let S=u[p];S=Be(S);const I=s.yc(y);if(S instanceof sd)c.push(y);else{const R=Uu(S,I);R!=null&&(c.push(y),h.set(y,R))}}const m=new an(c);return new QA(h,m,s.fieldTransforms)}function BL(t,e,n,r=!1){return Uu(n,t.Cc(r?4:3,e))}function Uu(t,e){if(ZA(t=Be(t)))return Av("Unsupported field value:",e,t),JA(t,e);if(t instanceof wv)return function(r,i){if(!XA(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let u=Uu(o,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=_e.fromDate(r);return{timestampValue:Yh(i.serializer,a)}}if(r instanceof _e){const a=new _e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yh(i.serializer,a)}}if(r instanceof ir)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sn)return{bytesValue:bA(i.serializer,r._byteString)};if(r instanceof We){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:av(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ar)return function(s,o){return{mapValue:{fields:{[Wx]:{stringValue:Qx},[Fh]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return tv(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Hf(r)}`)}(t,e)}function JA(t,e){const n={};return qx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(r,i)=>{const a=Uu(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function ZA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _e||t instanceof ir||t instanceof Sn||t instanceof We||t instanceof wv||t instanceof ar)}function Av(t,e,n){if(!ZA(n)||!Bx(n)){const r=Hf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function yg(t,e,n){if((e=Be(e))instanceof ad)return e._internalPath;if(typeof e=="string")return Cv(t,e);throw Jh("Field path arguments must be of type string or ",t,!1,void 0,n)}const FL=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,n){if(e.search(FL)>=0)throw Jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ad(...e.split("."))._internalPath}catch{throw Jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jh(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(U.INVALID_ARGUMENT,o+t+u)}function eC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Nv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qL extends tC{data(){return super.data()}}function Nv(t,e){return typeof e=="string"?Cv(t,e):e instanceof ad?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rv{}class HL extends Rv{}function Iv(t,e,...n){let r=[];e instanceof Rv&&r.push(e),r=r.concat(n),function(a){const s=a.filter(u=>u instanceof Dv).length,o=a.filter(u=>u instanceof od).length;if(s>1||s>0&&o>0)throw new $(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class od extends HL{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new od(e,n,r)}_apply(e){const n=this._parse(e);return rC(e._query,n),new Xa(e.firestore,e.converter,sg(e._query,n))}_parse(e){const n=xv(e.firestore);return function(a,s,o,u,c,h,m){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new $(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){jT(m,h);const S=[];for(const I of m)S.push(VT(u,a,I));p={arrayValue:{values:S}}}else p=VT(u,a,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||jT(m,h),p=BL(o,s,m,h==="in"||h==="not-in");return nt.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zh(t,e,n){const r=e,i=Nv("where",t);return od._create(i,r,n)}class Dv extends Rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Un.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const u of o)rC(s,u),s=sg(s,u)}(e._query,n),new Xa(e.firestore,e.converter,sg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function VT(t,e,n){if(typeof(n=Be(n))=="string"){if(n==="")throw new $(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iA(e)&&n.indexOf("/")!==-1)throw new $(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ne.fromString(n));if(!Q.isDocumentKey(r))throw new $(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jb(t,new Q(r))}if(n instanceof We)return Jb(t,n._key);throw new $(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hf(n)}.`)}function jT(t,e){if(!Array.isArray(t)||t.length===0)throw new $(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rC(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new $(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new $(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class GL{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xi(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Fh].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Ye(s.doubleValue));return new ar(n)}convertGeoPoint(e){return new ir(Ye(e.latitude),Ye(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=zi(e);return new _e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ne.fromString(e);be(AA(r),9688,{name:e});const i=new ou(r.get(1),r.get(3)),a=new Q(r.popFirst(5));return i.isEqual(n)||zr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aa extends tC{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Nv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Aa._jsonSchema={type:it("string",Aa._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};class nh extends Aa{data(e={}){return super.data(e)}}class Ca{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const u=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new bl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const u=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new bl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),h=s.indexOf(o.doc.key)),{type:YL(o.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ca._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function YL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){t=Cn(t,We);const e=Cn(t.firestore,Gi);return IL(id(e),t._key).then(n=>oC(e,t,n))}Ca._jsonSchemaVersion="firestore/querySnapshot/1.0",Ca._jsonSchema={type:it("string",Ca._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};class Ov extends GL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new We(this.firestore,null,n)}}function kv(t){t=Cn(t,Xa);const e=Cn(t.firestore,Gi),n=id(e),r=new Ov(e);return nC(t._query),DL(n,t._query).then(i=>new Ca(e,r,t,i))}function iC(t,e,n,...r){t=Cn(t,We);const i=Cn(t.firestore,Gi),a=xv(i);let s;return s=typeof(e=Be(e))=="string"||e instanceof ad?zL(a,"updateDoc",t._key,e,n,r):UL(a,"updateDoc",t._key,e),Mv(i,[s.toMutation(t._key,jn.exists(!0))])}function aC(t){return Mv(Cn(t.firestore,Gi),[new nv(t._key,jn.none())])}function sC(t,e){const n=Cn(t.firestore,Gi),r=Co(t),i=$L(t.converter,e);return Mv(n,[LL(xv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then(()=>r)}function WL(t,...e){var u,c,h;t=Be(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||PT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PT(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(c=m.error)==null?void 0:c.bind(m),e[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let a,s,o;if(t instanceof We)s=Cn(t.firestore,Gi),o=Kf(t._key.path),a={next:m=>{e[r]&&e[r](oC(s,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Cn(t,Xa);s=Cn(m.firestore,Gi),o=m._query;const p=new Ov(s);a={next:y=>{e[r]&&e[r](new Ca(s,p,m,y))},error:e[r+1],complete:e[r+2]},nC(t._query)}return function(p,y,S,I){const R=new Ev(I),v=new _v(y,R,S);return p.asyncQueue.enqueueAndForget(async()=>gv(await Xh(p),v)),()=>{R.Nu(),p.asyncQueue.enqueueAndForget(async()=>yv(await Xh(p),v))}}(id(s),o,i,a)}function Mv(t,e){return function(r,i){const a=new Or;return r.asyncQueue.enqueueAndForget(async()=>vL(await RL(r),i,a)),a.promise}(id(t),e)}function oC(t,e,n){const r=n.docs.get(e._key),i=new Ov(t);return new Aa(t,i,e._key,r,new bl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Eo=i})(Ka),Ln(new In("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new Gi(new UP(r.getProvider("auth-internal")),new FP(s,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new $(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(c.options.projectId,h)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Kt(Ub,zb,e),Kt(Ub,zb,"esm2020")})();var QL="firebase",XL="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt(QL,XL,"app");function lC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JL=lC,uC=new Ya("auth","Firebase",lC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Ff("@firebase/auth");function ZL(t,...e){ef.logLevel<=ce.WARN&&ef.warn(`Auth (${Ka}): ${t}`,...e)}function rh(t,...e){ef.logLevel<=ce.ERROR&&ef.error(`Auth (${Ka}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,...e){throw Pv(t,...e)}function sr(t,...e){return Pv(t,...e)}function cC(t,e,n){const r={...JL(),[e]:n};return new Ya("auth","Firebase",r).create(e,{appName:t.name})}function ki(t){return cC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uC.create(t,...e)}function J(t,e,...n){if(!t)throw Pv(e,...n)}function Ar(t){const e="INTERNAL ASSERTION FAILED: "+t;throw rh(e),new Error(e)}function Fr(t,e){t||Ar(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function e3(){return LT()==="http:"||LT()==="https:"}function LT(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e3()||wx()||"connection"in navigator)?navigator.onLine:!0}function n3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fr(n>e,"Short delay should be less than long delay!"),this.isMobile=fM()||pM()}get(){return t3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){Fr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a3=new zu(3e4,6e4);function Ja(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Zi(t,e,n,r,i={}){return fC(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=Ou({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...a};return mM()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&$a(t.emulatorConfig.host)&&(c.credentials="include"),hC.fetch()(await dC(t,t.config.apiHost,n,o),c)})}async function fC(t,e,n){t._canInitEmulator=!1;const r={...r3,...e};try{const i=new o3(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ic(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ic(t,"user-disabled",s);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cC(t,h,c);zn(t,h)}}catch(i){if(i instanceof Dn)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function ld(t,e,n,r,i={}){const a=await Zi(t,e,n,r,i);return"mfaPendingCredential"in a&&zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function dC(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Vv(t.config,i):`${t.config.apiScheme}://${i}`;return i3.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function s3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),a3.get())})}}function Ic(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=sr(t,e,r);return i.customData._tokenResponse=n,i}function UT(t){return t!==void 0&&t.enterprise!==void 0}class l3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u3(t,e){return Zi(t,"GET","/v2/recaptchaConfig",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c3(t,e){return Zi(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return Zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h3(t,e=!1){const n=Be(t),r=await n.getIdToken(e),i=jv(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:zl(Dm(i.auth_time)),issuedAtTime:zl(Dm(i.iat)),expirationTime:zl(Dm(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Dm(t){return Number(t)*1e3}function jv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const i=yx(n);return i?JSON.parse(i):(rh("Failed to decode base64 JWT payload"),null)}catch(i){return rh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function zT(t){const e=jv(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Dn&&f3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){var m;const e=t.auth,n=await t.getIdToken(),r=await hu(t,tf(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?mC(i.providerUserInfo):[],s=p3(t.providerData,a),o=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _g(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function m3(t){const e=Be(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e){const n=await fC(t,{},async()=>{const r=Ou({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await dC(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return t.emulatorConfig&&$a(t.emulatorConfig.host)&&(u.credentials="include"),hC.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y3(t,e){return Zi(t,"POST","/v2/accounts:revokeToken",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=zT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await g3(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new zs;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(J(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return Ar("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new d3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _g(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hu(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h3(this,e)}reload(){return m3(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await hu(this,c3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:S,stsTokenManager:I}=n;J(m&&I,e,"internal-error");const R=zs.fromJSON(this.name,I);J(typeof m=="string",e,"internal-error"),ri(r,e.name),ri(i,e.name),J(typeof p=="boolean",e,"internal-error"),J(typeof y=="boolean",e,"internal-error"),ri(a,e.name),ri(s,e.name),ri(o,e.name),ri(u,e.name),ri(c,e.name),ri(h,e.name);const v=new Pn({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:R,createdAt:c,lastLoginAt:h});return S&&Array.isArray(S)&&(v.providerData=S.map(_=>({..._}))),u&&(v._redirectEventId=u),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const a=new Pn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await nf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?mC(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new zs;o.updateFromIdToken(r);const u=new Pn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _g(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=new Map;function Cr(t){Fr(t instanceof Function,"Expected a class definition");let e=BT.get(t);return e?(Fr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,BT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pC.type="NONE";const FT=pC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ih(this.userKey,i.apiKey,a),this.fullPersistenceKey=ih("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Bs(Cr(FT),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Cr(FT);const s=ih(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const h=await c._get(s);if(h){let m;if(typeof h=="string"){const p=await tf(e,{idToken:h}).catch(()=>{});if(!p)break;m=await Pn._fromGetAccountInfoResponse(e,p,h)}else m=Pn._fromJSON(e,h);c!==a&&(o=m),a=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Bs(a,e,r):(a=u[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Bs(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_C(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TC(e))return"Blackberry";if(EC(e))return"Webos";if(yC(e))return"Safari";if((e.includes("chrome/")||vC(e))&&!e.includes("edge/"))return"Chrome";if(bC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gC(t=Pt()){return/firefox\//i.test(t)}function yC(t=Pt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vC(t=Pt()){return/crios\//i.test(t)}function _C(t=Pt()){return/iemobile/i.test(t)}function bC(t=Pt()){return/android/i.test(t)}function TC(t=Pt()){return/blackberry/i.test(t)}function EC(t=Pt()){return/webos/i.test(t)}function Lv(t=Pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v3(t=Pt()){var e;return Lv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _3(){return gM()&&document.documentMode===10}function wC(t=Pt()){return Lv(t)||bC(t)||EC(t)||TC(t)||/windows phone/i.test(t)||_C(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(t,e=[]){let n;switch(t){case"Browser":n=qT(Pt());break;case"Worker":n=`${qT(Pt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ka}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const u=e(a);s(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e={}){return Zi(t,"GET","/v2/passwordPolicy",Ja(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=6;class w3{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??E3,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HT(this),this.idTokenSubscription=new HT(this),this.beforeStateQueue=new b3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),r=await Pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(wn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(ki(this));const n=e?Be(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T3(this),n=new w3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[Cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&ZL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function No(t){return Be(t)}class HT{constructor(e){this.auth=e,this.observer=null,this.addObserver=wM(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x3(t){ud=t}function xC(t){return ud.loadJS(t)}function A3(){return ud.recaptchaEnterpriseScript}function C3(){return ud.gapiScript}function N3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class R3{constructor(){this.enterprise=new I3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const D3="recaptcha-enterprise",AC="NO_RECAPTCHA";class O3{constructor(e){this.type=D3,this.auth=No(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{u3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new l3(u);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(u=>{o(u)})})}function i(a,s,o){const u=window.grecaptcha;UT(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(AC)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new R3().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&UT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=A3();u.length!==0&&(u+=o),xC(u).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function GT(t,e,n,r=!1,i=!1){const a=new O3(t);let s;if(i)s=AC;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function $T(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await GT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await GT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k3(t,e){const n=Qi(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Li(a,e??{}))return i;zn(i,"already-initialized")}return n.initialize({options:e})}function M3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P3(t,e,n){const r=No(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=CC(e),{host:s,port:o}=V3(e),u=o===null?"":`:${o}`,c={url:`${a}//${s}${u}/`},h=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Li(c,r.config.emulator)&&Li(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,$a(s)?(Gy(`${a}//${s}${u}`),$y("Auth",!0)):j3()}function CC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function V3(t){const e=CC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:YT(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:YT(s)}}}function YT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function j3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ar("not implemented")}_getIdTokenResponse(e){return Ar("not implemented")}_linkToIdToken(e,n){return Ar("not implemented")}_getReauthenticationResolver(e){return Ar("not implemented")}}async function L3(t,e){return Zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e){return ld(t,"POST","/v1/accounts:signInWithPassword",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",Ja(t,e))}async function B3(t,e){return ld(t,"POST","/v1/accounts:signInWithEmailLink",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends Uv{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new fu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $T(e,n,"signInWithPassword",U3);case"emailLink":return z3(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $T(e,r,"signUpPassword",L3);case"emailLink":return B3(e,{idToken:n,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fs(t,e){return ld(t,"POST","/v1/accounts:signInWithIdp",Ja(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F3="http://localhost";class Pa extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Pa(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Fs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fs(e,n)}buildRequest(){const e={requestUri:F3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ou(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H3(t){const e=pl(gl(t)).link,n=e?pl(gl(e)).deep_link_id:null,r=pl(gl(t)).deep_link_id;return(r?pl(gl(r)).link:null)||r||n||e||t}class zv{constructor(e){const n=pl(gl(e)),r=n.apiKey??null,i=n.oobCode??null,a=q3(n.mode??null);J(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=H3(e);try{return new zv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zv.parseLink(n);return J(r,"argument-error"),fu._fromEmailAndCode(e,r.code,r.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends NC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Bu{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pa._fromParams({providerId:hi.PROVIDER_ID,signInMethod:hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hi.credentialFromTaggedObject(e)}static credentialFromError(e){return hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hi.credential(n,r)}catch{return null}}}hi.GOOGLE_SIGN_IN_METHOD="google.com";hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Bu{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fi.credential(e.oauthAccessToken)}catch{return null}}}fi.GITHUB_SIGN_IN_METHOD="github.com";fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Pa._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return di.credentialFromTaggedObject(e)}static credentialFromError(e){return di.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return di.credential(n,r)}catch{return null}}}di.TWITTER_SIGN_IN_METHOD="twitter.com";di.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Pn._fromIdTokenResponse(e,r,i),s=KT(r);return new oo({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=KT(r);return new oo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function KT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends Dn{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rf(e,n,r,i)}}function RC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,a,e,r):a})}async function G3(t,e,n=!1){const r=await hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return oo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $3(t,e,n=!1){const{auth:r}=t;if(wn(r.app))return Promise.reject(ki(r));const i="reauthenticate";try{const a=await hu(t,RC(r,i,e,t),n);J(a.idToken,r,"internal-error");const s=jv(a.idToken);J(s,r,"internal-error");const{sub:o}=s;return J(t.uid===o,r,"user-mismatch"),oo._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&zn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t,e,n=!1){if(wn(t.app))return Promise.reject(ki(t));const r="signIn",i=await RC(t,r,e),a=await oo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Y3(t,e){return IC(No(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t){const e=No(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function W3(t,e,n){return wn(t.app)?Promise.reject(ki(t)):Y3(Be(t),Ro.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&K3(t),r})}function Q3(t,e,n,r){return Be(t).onIdTokenChanged(e,n,r)}function X3(t,e,n){return Be(t).beforeAuthStateChanged(e,n)}function J3(t,e,n,r){return Be(t).onAuthStateChanged(e,n,r)}function Z3(t){return Be(t).signOut()}const af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(af,"1"),this.storage.removeItem(af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=1e3,t6=10;class OC extends DC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);_3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,t6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OC.type="LOCAL";const n6=OC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC extends DC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}kC.type="SESSION";const MC=kC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new cd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),u=await r6(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,u)=>{const c=Bv("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(h),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(){return window}function a6(t){or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(){return typeof or().WorkerGlobalScope<"u"&&typeof or().importScripts=="function"}async function s6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function l6(){return PC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="firebaseLocalStorageDb",u6=1,sf="firebaseLocalStorage",jC="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hd(t,e){return t.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function c6(){const t=indexedDB.deleteDatabase(VC);return new Fu(t).toPromise()}function bg(){const t=indexedDB.open(VC,u6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sf,{keyPath:jC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sf)?e(r):(r.close(),await c6(),e(await bg()))})})}async function WT(t,e,n){const r=hd(t,!0).put({[jC]:e,value:n});return new Fu(r).toPromise()}async function h6(t,e){const n=hd(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function QT(t,e){const n=hd(t,!0).delete(e);return new Fu(n).toPromise()}const f6=800,d6=3;class LC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cd._getInstance(l6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await s6(),!this.activeServiceWorker)return;this.sender=new i6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bg();return await WT(e,af,"1"),await QT(e,af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>h6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=hd(i,!1).getAll();return new Fu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LC.type="LOCAL";const m6=LC;new zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(t,e){return e?Cr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g6(t){return IC(t.auth,new Fv(t),t.bypassAuthState)}function y6(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),$3(n,new Fv(t),t.bypassAuthState)}async function v6(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),G3(n,new Fv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g6;case"linkViaPopup":case"linkViaRedirect":return v6;case"reauthViaPopup":case"reauthViaRedirect":return y6;default:zn(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6=new zu(2e3,1e4);class Is extends UC{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Is.currentPopupAction&&Is.currentPopupAction.cancel(),Is.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=Bv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Is.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_6.get())};e()}}Is.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="pendingRedirect",ah=new Map;class T6 extends UC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await E6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E6(t,e){const n=x6(e),r=S6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function w6(t,e){ah.set(t._key(),e)}function S6(t){return Cr(t._redirectPersistence)}function x6(t){return ih(b6,t.config.apiKey,t.name)}async function A6(t,e,n=!1){if(wn(t.app))return Promise.reject(ki(t));const r=No(t),i=p6(r,e),s=await new T6(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=10*60*1e3;class N6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(sr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=C6&&this.cachedEventUids.clear(),this.cachedEventUids.has(XT(e))}saveEventToCache(e){this.cachedEventUids.add(XT(e)),this.lastProcessedEventTime=Date.now()}}function XT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e={}){return Zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O6=/^https?/;async function k6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await I6(t);for(const n of e)try{if(M6(n))return}catch{}zn(t,"unauthorized-domain")}function M6(t){const e=vg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!O6.test(n))return!1;if(D6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6=new zu(3e4,6e4);function JT(){const t=or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function V6(t){return new Promise((e,n)=>{var i,a,s;function r(){JT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{JT(),n(sr(t,"network-request-failed"))},timeout:P6.get()})}if((a=(i=or().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=or().gapi)!=null&&s.load)r();else{const o=N3("iframefcb");return or()[o]=()=>{gapi.load?r():n(sr(t,"network-request-failed"))},xC(`${C3()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw sh=null,e})}let sh=null;function j6(t){return sh=sh||V6(t),sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new zu(5e3,15e3),U6="__/auth/iframe",z6="emulator/auth/iframe",B6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q6(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Vv(e,z6):`https://${t.config.authDomain}/${U6}`,r={apiKey:e.apiKey,appName:t.name,v:Ka},i=F6.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Ou(r).slice(1)}`}async function H6(t){const e=await j6(t),n=or().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:q6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B6,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=sr(t,"network-request-failed"),o=or().setTimeout(()=>{a(s)},L6.get());function u(){or().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$6=500,Y6=600,K6="_blank",W6="http://localhost";class ZT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q6(t,e,n,r=$6,i=Y6){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...G6,width:r.toString(),height:i.toString(),top:a,left:s},c=Pt().toLowerCase();n&&(o=vC(c)?K6:n),gC(c)&&(e=e||W6,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[y,S])=>`${p}${y}=${S},`,"");if(v3(c)&&o!=="_self")return X6(e||"",o),new ZT(null);const m=window.open(e||"",o,h);J(m,t,"popup-blocked");try{m.focus()}catch{}return new ZT(m)}function X6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="__/auth/handler",Z6="emulator/auth/handler",e5=encodeURIComponent("fac");async function eE(t,e,n,r,i,a){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ka,eventId:i};if(e instanceof NC){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",EM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))s[h]=m}if(e instanceof Bu){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const u=await t._getAppCheckToken(),c=u?`#${e5}=${encodeURIComponent(u)}`:"";return`${t5(t)}?${Ou(o).slice(1)}${c}`}function t5({config:t}){return t.emulator?Vv(t,Z6):`https://${t.authDomain}/${J6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class n5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MC,this._completeRedirectFn=A6,this._overrideRedirectResult=w6}async _openPopup(e,n,r,i){var s;Fr((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await eE(e,n,r,vg(),i);return Q6(e,a,Bv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await eE(e,n,r,vg(),i);return a6(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Fr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H6(e),r=new N6(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Om];a!==void 0&&n(!!a),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=k6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wC()||yC()||Lv()}}const r5=n5;var tE="@firebase/auth",nE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s5(t){Ln(new In("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SC(t)},c=new S3(r,i,a,u);return M3(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ln(new In("auth-internal",e=>{const n=No(e.getProvider("auth").getImmediate());return(r=>new i5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(tE,nE,a5(t)),Kt(tE,nE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=5*60,l5=Tx("authIdTokenMaxAge")||o5;let rE=null;const u5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l5)return;const i=n==null?void 0:n.token;rE!==i&&(rE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function c5(t=qf()){const e=Qi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k3(t,{popupRedirectResolver:r5,persistence:[m6,n6,MC]}),r=Tx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=u5(a.toString());X3(n,s,()=>s(n.currentUser)),Q3(n,o=>s(o))}}const i=vx("auth");return i&&P3(n,`http://${i}`),n}function h5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}x3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=sr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",h5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s5("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="firebasestorage.googleapis.com",f5="storageBucket",d5=2*60*1e3,m5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Dn{constructor(e,n,r=0){super(km(e),`Firebase Storage: ${n} (${km(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ur;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ur||(ur={}));function km(t){return"storage/"+t}function p5(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(ur.UNKNOWN,t)}function g5(){return new fr(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y5(){return new fr(ur.CANCELED,"User canceled the upload/download.")}function v5(t){return new fr(ur.INVALID_URL,"Invalid URL '"+t+"'.")}function _5(t){return new fr(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function iE(t){return new fr(ur.INVALID_ARGUMENT,t)}function FC(){return new fr(ur.APP_DELETED,"The Firebase app was deleted.")}function b5(t){return new fr(ur.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vn.makeFromUrl(e,n)}catch{return new Vn(e,"")}if(r.path==="")return r;throw _5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${p}`,"i"),S={bucket:1,path:3},I=n===BC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",v=new RegExp(`^https?://${I}/${i}/${R}`,"i"),x=[{regex:o,indices:u,postModify:a},{regex:y,indices:S,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<x.length;N++){const L=x[N],F=L.regex.exec(e);if(F){const E=F[L.indices.bucket];let T=F[L.indices.path];T||(T=""),r=new Vn(E,T),L.postModify(r);break}}if(r==null)throw v5(e);return r}}class T5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function u(){return o===2}let c=!1;function h(...R){c||(c=!0,e.apply(null,R))}function m(R){i=setTimeout(()=>{i=null,t(y,u())},R)}function p(){a&&clearTimeout(a)}function y(R,...v){if(c){p();return}if(R){p(),h.call(null,R,...v);return}if(u()||s){p(),h.call(null,R,...v);return}r<64&&(r*=2);let x;o===1?(o=2,x=0):x=(r+Math.random())*1e3,m(x)}let S=!1;function I(R){S||(S=!0,p(),!c&&(i!==null?(R||(o=2),clearTimeout(i),m(0)):R||(o=1)))}return m(0),a=setTimeout(()=>{s=!0,I(!0)},n),I}function w5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(t){return t!==void 0}function aE(t,e,n,r){if(r<e)throw iE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iE(`Invalid value for '${t}'. Expected ${n} or less.`)}function x5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var of;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(of||(of={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n,r,i,a,s,o,u,c,h,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,I)=>{this.resolve_=S,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Dc(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const u=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===of.NO_ERROR,u=a.getStatus();if(!o||A5(u,this.additionalRetryCodes_)&&this.retry){const h=a.getErrorCode()===of.ABORT;r(!1,new Dc(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Dc(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(o,o.getResponse());S5(u)?a(u):a()}catch(u){s(u)}else if(o!==null){const u=p5();u.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,u)):s(u)}else if(i.canceled){const u=this.appDelete_?FC():y5();s(u)}else{const u=g5();s(u)}};this.canceled_?n(!1,new Dc(!1,null,!0)):this.backoffId_=E5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function N5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function I5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function O5(t,e,n,r,i,a,s=!0,o=!1){const u=x5(t.urlParams),c=t.url+u,h=Object.assign({},t.headers);return I5(h,e),N5(h,n),R5(h,a),D5(h,r),new C5(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function M5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this._service=e,n instanceof Vn?this._location=n:this._location=Vn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lf(e,n)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M5(this._location.path)}get storage(){return this._service}get parent(){const e=k5(this._location.path);if(e===null)return null;const n=new Vn(this._location.bucket,e);return new lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b5(e)}}function sE(t,e){const n=e==null?void 0:e[f5];return n==null?null:Vn.makeFromBucketSpec(n,t)}function P5(t,e,n,r={}){t.host=`${e}:${n}`;const i=$a(e);i&&(Gy(`https://${t.host}/b`),$y("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:Ex(a,t.app.options.projectId))}class V5{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=BC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d5,this._maxUploadRetryTime=m5,this._requests=new Set,i!=null?this._bucket=Vn.makeFromBucketSpec(i,this._host):this._bucket=sE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=sE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){aE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new T5(FC());{const s=O5(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const oE="@firebase/storage",lE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="storage";function j5(t=qf(),e){t=Be(t);const r=Qi(t,qC).getImmediate({identifier:e}),i=_x("storage");return i&&L5(r,...i),r}function L5(t,e,n,r={}){P5(t,e,n,r)}function U5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new V5(n,r,i,e,Ka)}function z5(){Ln(new In(qC,U5,"PUBLIC").setMultipleInstances(!0)),Kt(oE,lE,""),Kt(oE,lE,"esm2020")}z5();const HC="@firebase/installations",qv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=1e4,$C=`w:${qv}`,YC="FIS_v2",B5="https://firebaseinstallations.googleapis.com/v1",F5=60*60*1e3,q5="installations",H5="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new Ya(q5,H5,G5);function KC(t){return t instanceof Dn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC({projectId:t}){return`${B5}/projects/${t}/installations`}function QC(t){return{token:t.token,requestStatus:2,expiresIn:Y5(t.expiresIn),creationTime:Date.now()}}async function XC(t,e){const r=(await e.json()).error;return Va.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function JC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $5(t,{refreshToken:e}){const n=JC(t);return n.append("Authorization",K5(e)),n}async function ZC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y5(t){return Number(t.replace("s","000"))}function K5(t){return`${YC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=WC(t),i=JC(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:YC,appId:t.appId,sdkVersion:$C},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await ZC(()=>fetch(r,o));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:QC(c.authToken)}}else throw await XC("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q5(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=/^[cdef][\w-]{21}$/,Tg="";function J5(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Z5(t);return X5.test(n)?n:Tg}catch{return Tg}}function Z5(t){return Q5(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=new Map;function nN(t,e){const n=fd(t);rN(n,e),eU(n,e)}function rN(t,e){const n=tN.get(t);if(n)for(const r of n)r(e)}function eU(t,e){const n=tU();n&&n.postMessage({key:t,fid:e}),nU()}let _a=null;function tU(){return!_a&&"BroadcastChannel"in self&&(_a=new BroadcastChannel("[Firebase] FID Change"),_a.onmessage=t=>{rN(t.data.key,t.data.fid)}),_a}function nU(){tN.size===0&&_a&&(_a.close(),_a=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rU="firebase-installations-database",iU=1,ja="firebase-installations-store";let Mm=null;function Hv(){return Mm||(Mm=Nx(rU,iU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ja)}}})),Mm}async function uf(t,e){const n=fd(t),i=(await Hv()).transaction(ja,"readwrite"),a=i.objectStore(ja),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&nN(t,e.fid),e}async function iN(t){const e=fd(t),r=(await Hv()).transaction(ja,"readwrite");await r.objectStore(ja).delete(e),await r.done}async function dd(t,e){const n=fd(t),i=(await Hv()).transaction(ja,"readwrite"),a=i.objectStore(ja),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&nN(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(t){let e;const n=await dd(t.appConfig,r=>{const i=aU(r),a=sU(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Tg?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aU(t){const e=t||{fid:J5(),registrationStatus:0};return aN(e)}function sU(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oU(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lU(t)}:{installationEntry:e}}async function oU(t,e){try{const n=await W5(t,e);return uf(t.appConfig,n)}catch(n){throw KC(n)&&n.customData.serverCode===409?await iN(t.appConfig):await uf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function lU(t){let e=await uE(t.appConfig);for(;e.registrationStatus===1;)await eN(100),e=await uE(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gv(t);return r||n}return e}function uE(t){return dd(t,e=>{if(!e)throw Va.create("installation-not-found");return aN(e)})}function aN(t){return uU(t)?{fid:t.fid,registrationStatus:0}:t}function uU(t){return t.registrationStatus===1&&t.registrationTime+GC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cU({appConfig:t,heartbeatServiceProvider:e},n){const r=hU(t,n),i=$5(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:$C,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await ZC(()=>fetch(r,o));if(u.ok){const c=await u.json();return QC(c)}else throw await XC("Generate Auth Token",u)}function hU(t,{fid:e}){return`${WC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $v(t,e=!1){let n;const r=await dd(t.appConfig,a=>{if(!sN(a))throw Va.create("not-registered");const s=a.authToken;if(!e&&mU(s))return a;if(s.requestStatus===1)return n=fU(t,e),a;{if(!navigator.onLine)throw Va.create("app-offline");const o=gU(a);return n=dU(t,o),o}});return n?await n:r.authToken}async function fU(t,e){let n=await cE(t.appConfig);for(;n.authToken.requestStatus===1;)await eN(100),n=await cE(t.appConfig);const r=n.authToken;return r.requestStatus===0?$v(t,e):r}function cE(t){return dd(t,e=>{if(!sN(e))throw Va.create("not-registered");const n=e.authToken;return yU(n)?{...e,authToken:{requestStatus:0}}:e})}async function dU(t,e){try{const n=await cU(t,e),r={...e,authToken:n};return await uf(t.appConfig,r),n}catch(n){if(KC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await iN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await uf(t.appConfig,r)}throw n}}function sN(t){return t!==void 0&&t.registrationStatus===2}function mU(t){return t.requestStatus===2&&!pU(t)}function pU(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+F5}function gU(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function yU(t){return t.requestStatus===1&&t.requestTime+GC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vU(t){const e=t,{installationEntry:n,registrationPromise:r}=await Gv(e);return r?r.catch(console.error):$v(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _U(t,e=!1){const n=t;return await bU(n),(await $v(n,e)).token}async function bU(t){const{registrationPromise:e}=await Gv(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t){if(!t||!t.options)throw Pm("App Configuration");if(!t.name)throw Pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pm(t){return Va.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="installations",EU="installations-internal",wU=t=>{const e=t.getProvider("app").getImmediate(),n=TU(e),r=Qi(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},SU=t=>{const e=t.getProvider("app").getImmediate(),n=Qi(e,oN).getImmediate();return{getId:()=>vU(n),getToken:i=>_U(n,i)}};function xU(){Ln(new In(oN,wU,"PUBLIC")),Ln(new In(EU,SU,"PRIVATE"))}xU();Kt(HC,qv);Kt(HC,qv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf="analytics",AU="firebase_id",CU="origin",NU=60*1e3,RU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt=new Ff("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cn=new Ya("analytics","Analytics",IU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t){if(!t.startsWith(Yv)){const e=cn.create("invalid-gtag-resource",{gtagURL:t});return Lt.warn(e.message),""}return t}function lN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function OU(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kU(t,e){const n=OU("firebase-js-sdk-policy",{createScriptURL:DU}),r=document.createElement("script"),i=`${Yv}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function MU(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function PU(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const u=(await lN(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(o){Lt.error(o)}t("config",i,a)}async function VU(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await lN(n);for(const u of s){const c=o.find(m=>m.measurementId===u),h=c&&e[c.appId];if(h)a.push(h);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Lt.error(a)}}function jU(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,u]=s;await VU(t,e,n,o,u)}else if(a==="config"){const[o,u]=s;await PU(t,e,n,r,o,u)}else if(a==="consent"){const[o,u]=s;t("consent",o,u)}else if(a==="get"){const[o,u,c]=s;t("get",o,u,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){Lt.error(o)}}return i}function LU(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=jU(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function UU(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Yv)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=30,BU=1e3;class FU{constructor(e={},n=BU){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const uN=new FU;function qU(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function HU(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:qU(n)},i=RU.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const u=await a.json();(s=u.error)!=null&&s.message&&(o=u.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function GU(t,e=uN,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw cn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw cn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new KU;return setTimeout(async()=>{o.abort()},NU),cN({appId:r,apiKey:i,measurementId:a},s,o,e)}async function cN(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=uN){var o;const{appId:a,measurementId:s}=t;try{await $U(r,e)}catch(u){if(s)return Lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw u}try{const u=await HU(t);return i.deleteThrottleMetadata(a),u}catch(u){const c=u;if(!YU(c)){if(i.deleteThrottleMetadata(a),s)return Lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw u}const h=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?Rb(n,i.intervalMillis,zU):Rb(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(a,m),Lt.debug(`Calling attemptFetch again in ${h} millis`),cN(t,m,r,i)}}function $U(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YU(t){if(!(t instanceof Dn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class KU{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function WU(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function QU(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XU(){if(Sx())try{await xx()}catch(t){return Lt.warn(cn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Lt.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JU(t,e,n,r,i,a,s){const o=GU(t);o.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Lt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Lt.error(p)),e.push(o);const u=XU().then(p=>{if(p)return r.getId()}),[c,h]=await Promise.all([o,u]);UU(a)||kU(a,c.measurementId),i("js",new Date);const m=(s==null?void 0:s.config)??{};return m[CU]="firebase",m.update=!0,h!=null&&(m[AU]=h),i("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.app=e}_delete(){return delete qs[this.app.options.appId],Promise.resolve()}}let qs={},hE=[];const fE={};let Vm="dataLayer",e9="gtag",dE,Kv,mE=!1;function t9(){const t=[];if(wx()&&t.push("This is a browser extension environment."),vM()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=cn.create("invalid-analytics-context",{errorInfo:e});Lt.warn(n.message)}}function n9(t,e,n){t9();const r=t.options.appId;if(!r)throw cn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cn.create("no-api-key");if(qs[r]!=null)throw cn.create("already-exists",{id:r});if(!mE){MU(Vm);const{wrappedGtag:a,gtagCore:s}=LU(qs,hE,fE,Vm,e9);Kv=a,dE=s,mE=!0}return qs[r]=JU(t,hE,fE,e,dE,Vm,n),new ZU(t)}function r9(t=qf()){t=Be(t);const e=Qi(t,cf);return e.isInitialized()?e.getImmediate():i9(t)}function i9(t,e={}){const n=Qi(t,cf);if(n.isInitialized()){const i=n.getImmediate();if(Li(e,n.getOptions()))return i;throw cn.create("already-initialized")}return n.initialize({options:e})}function a9(t,e,n){t=Be(t),QU(Kv,qs[t.app.options.appId],e,n).catch(r=>Lt.error(r))}function s9(t,e,n,r){t=Be(t),WU(Kv,qs[t.app.options.appId],e,n,r).catch(i=>Lt.error(i))}const pE="@firebase/analytics",gE="0.10.19";function o9(){Ln(new In(cf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return n9(r,i,n)},"PUBLIC")),Ln(new In("analytics-internal",t,"PRIVATE")),Kt(pE,gE),Kt(pE,gE,"esm2020");function t(e){try{const n=e.getProvider(cf).getImmediate();return{logEvent:(r,i,a)=>s9(n,r,i,a),setUserProperties:(r,i)=>a9(n,r,i)}}catch(n){throw cn.create("interop-component-reg-failed",{reason:n})}}}o9();const l9={apiKey:"AIzaSyAriwME6CybqyDw1e3yNTwF6sHk4NUn7oY",authDomain:"planyourtrip-ed010.firebaseapp.com",databaseURL:"https://planyourtrip-ed010-default-rtdb.firebaseio.com",projectId:"planyourtrip-ed010",storageBucket:"planyourtrip-ed010.firebasestorage.app",messagingSenderId:"889865160214",appId:"1:889865160214:web:3cbe594765950e07609737",measurementId:"G-1TY4MKM2D9"},md=Rx(l9),qn=kL(md),Wv=c5(md);j5(md);r9(md);const u9=async t=>{try{return(await sC(Ao(qn,"trips"),{...t,createdAt:_e.now()})).id}catch(e){throw console.error("Error creating trip:",e),e}},hN=async t=>{try{const e=Co(qn,"trips",t),n=await KL(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting trip:",e),e}},c9=async()=>{try{return(await kv(Ao(qn,"trips"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting all trips:",t),t}},h9=async t=>{try{const e=new Date(t);e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999);const r=Iv(Ao(qn,"trips"),Zh("date",">=",_e.fromDate(e)),Zh("date","<=",_e.fromDate(n)));return(await kv(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw console.error("Error getting trips by date:",e),e}},f9=async(t,e)=>{try{const n=Co(qn,"trips",t);await iC(n,e)}catch(n){throw console.error("Error updating trip:",n),n}},d9=async t=>{try{await aC(Co(qn,"trips",t))}catch(e){throw console.error("Error deleting trip:",e),e}},fN=async t=>{try{return(await sC(Ao(qn,"registrations"),{...t,timestamp:_e.now()})).id}catch(e){throw console.error("Error creating registration:",e),e}},m9=async t=>{try{const e=Iv(Ao(qn,"registrations"),Zh("tripId","==",t));return(await kv(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting registrations:",e),e}},yE=async(t,e)=>{try{const n=Co(qn,"registrations",t);await iC(n,e)}catch(n){throw console.error("Error updating registration:",n),n}},p9=async t=>{try{await aC(Co(qn,"registrations",t))}catch(e){throw console.error("Error deleting registration:",e),e}},Y={primary:{teal:"#00BCD4",black:"#2B2B2B",white:"#FFFFFF"},success:"#10b981",seat:{vacant:"#E5E7EB",occupied:"#10b981",selected:"#00BCD4"},button:{danger:"#ef4444"},gradient:{primary:"linear-gradient(135deg, #00BCD4 0%, #26C6DA 100%)"}},g9=({selectedDate:t,onClose:e,onCreate:n})=>{const[r,i]=O.useState({title:"",vehicleLayout:"sprinter_15",driverName:"",whatsappGroupLink:"",status:"planned"}),[a,s]=O.useState(!1),o=async u=>{u.preventDefault(),s(!0);try{await n({...r,date:_e.fromDate(t)})}catch(c){console.error("Error creating trip:",c)}finally{s(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:u=>u.stopPropagation(),style:{borderColor:Y.primary.teal},children:[f.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Create New Trip"}),f.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:f.jsx(zf,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),f.jsx("input",{type:"text",value:r.title,onChange:u=>i({...r,title:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),f.jsx("input",{type:"text",value:t.toLocaleDateString(),disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),f.jsx("input",{type:"text",value:r.driverName,onChange:u=>i({...r,driverName:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),f.jsxs("select",{value:r.vehicleLayout,onChange:u=>i({...r,vehicleLayout:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[f.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),f.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),f.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),f.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:u=>i({...r,whatsappGroupLink:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),f.jsxs("select",{value:r.status,onChange:u=>i({...r,status:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[f.jsx("option",{value:"planned",children:"Planned (Yellow)"}),f.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),f.jsx("option",{value:"done",children:"Done (Green)"})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:a,style:{backgroundColor:Y.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create Trip"})]})]})]})})},y9=({trip:t,onClose:e,onUpdate:n})=>{var u,c;const[r,i]=O.useState({title:t.title||"",vehicleLayout:t.vehicleLayout||"sprinter_15",driverName:t.driverName||"",whatsappGroupLink:t.whatsappGroupLink||"",status:t.status||"planned"}),[a,s]=O.useState(!1),o=async h=>{h.preventDefault(),s(!0);try{await n(t.id,r)}catch(m){console.error("Error updating trip:",m)}finally{s(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:h=>h.stopPropagation(),style:{borderColor:Y.primary.teal},children:[f.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-bold",children:"Edit Trip"}),f.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:f.jsx(zf,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),f.jsx("input",{type:"text",value:r.title,onChange:h=>i({...r,title:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),f.jsx("input",{type:"text",value:((c=(u=t.date)==null?void 0:u.toDate)==null?void 0:c.call(u).toLocaleDateString())||"N/A",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),f.jsx("input",{type:"text",value:r.driverName,onChange:h=>i({...r,driverName:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),f.jsxs("select",{value:r.vehicleLayout,onChange:h=>i({...r,vehicleLayout:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[f.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),f.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),f.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),f.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:h=>i({...r,whatsappGroupLink:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),f.jsxs("select",{value:r.status,onChange:h=>i({...r,status:h.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[f.jsx("option",{value:"planned",children:"Planned (Yellow)"}),f.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),f.jsx("option",{value:"done",children:"Done (Green)"})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:a,style:{backgroundColor:Y.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Updating...":"Update Trip"})]})]})]})})},vE={sprinter_15:{name:"Mercedes Sprinter Black (14 Seats)",totalSeats:14,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:60,y:320},{id:9,row:4,position:"center",x:165,y:320},{id:10,row:4,position:"right",x:270,y:320},{id:11,row:5,position:"left",x:40,y:410},{id:12,row:5,position:"center-left",x:130,y:410},{id:13,row:5,position:"center-right",x:220,y:410},{id:14,row:5,position:"right",x:310,y:410}]},bus_30:{name:"Mercedes Sprinter White (11 Seats)",totalSeats:11,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:40,y:320},{id:9,row:4,position:"center-left",x:130,y:320},{id:10,row:4,position:"center-right",x:220,y:320},{id:11,row:4,position:"right",x:310,y:320}]},highlander_7:{name:"Toyota Highlander (7 Seats)",totalSeats:7,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:180},{id:3,row:2,position:"center",x:165,y:180},{id:4,row:2,position:"right",x:270,y:180},{id:5,row:3,position:"left",x:60,y:310},{id:6,row:3,position:"center",x:165,y:310},{id:7,row:3,position:"right",x:270,y:310}]}},dN=t=>vE[t]||vE.sprinter_15,mN=({vehicleType:t,registrations:e,onSeatClick:n,selectedSeat:r,driverName:i,reservedSeats:a=[]})=>{const s=dN(t),o=c=>e==null?void 0:e.find(h=>h.seatNumber===c),u=c=>o(c)||a.includes(c)?Y.seat.occupied:r===c?Y.seat.selected:Y.seat.vacant;return f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:Y.primary.teal},children:s.name}),i&&f.jsxs("div",{className:"text-center mb-4 pb-4 border-b",children:[f.jsx("span",{className:"text-sm text-gray-600",children:"Driver: "}),f.jsx("span",{className:"font-semibold",style:{color:Y.primary.teal},children:i})]}),f.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full max-w-md mx-auto border-2 rounded-lg",style:{borderColor:Y.primary.teal},children:[f.jsx("rect",{x:"10",y:"10",width:"380",height:"480",rx:"20",fill:"none",stroke:Y.primary.black,strokeWidth:"3"}),f.jsx("line",{x1:"10",y1:"100",x2:"390",y2:"100",stroke:Y.primary.black,strokeWidth:"2",strokeDasharray:"5,5"}),f.jsxs("g",{children:[f.jsx("rect",{x:"30",y:"40",width:"50",height:"50",rx:"5",fill:Y.primary.black,stroke:Y.primary.teal,strokeWidth:"2"}),f.jsx("text",{x:"55",y:"70",textAnchor:"middle",fontSize:"14",fill:"white",fontWeight:"bold",children:"D"}),i&&f.jsx("text",{x:"55",y:"115",textAnchor:"middle",fontSize:"10",fill:Y.primary.teal,fontWeight:"600",children:i.split(" ")[0]})]}),s.seats.map(c=>{const h=o(c.id),m=n&&!h;return f.jsxs("g",{onClick:()=>m&&n(c.id),className:m?"cursor-pointer hover:opacity-80":"",children:[f.jsx("rect",{x:c.x-25,y:c.y-15,width:"50",height:"35",rx:"5",fill:u(c.id),stroke:"#4b5563",strokeWidth:"2"}),f.jsx("text",{x:c.x,y:c.y+5,textAnchor:"middle",fontSize:"14",fill:h||r===c.id?"white":"#1f2937",fontWeight:"bold",children:c.id})]},c.id)})]}),f.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Y.seat.vacant,border:`2px solid ${Y.primary.black}`}}),f.jsx("span",{children:"Vacant"})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Y.seat.occupied,border:`2px solid ${Y.primary.black}`}}),f.jsx("span",{children:"Occupied"})]}),n&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:Y.seat.selected,border:`2px solid ${Y.primary.black}`}}),f.jsx("span",{children:"Selected"})]})]})]})},v9=({trip:t,registrations:e,onClose:n,onSuccess:r})=>{const[i,a]=O.useState({firstName:"",lastName:"",email:"",phone:"",seatNumber:null,paymentMethod:"on-trip",paid:!1}),[s,o]=O.useState(!1),[u,c]=O.useState(""),h=dN(t.vehicleLayout),m=e.map(S=>S.seatNumber),p=Array.from({length:h.totalSeats},(S,I)=>I+1).filter(S=>!m.includes(S)),y=async S=>{if(S.preventDefault(),c(""),!i.seatNumber){c("Please select a seat");return}o(!0);try{await fN({tripId:t.id,...i,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,addedByAdmin:!0}),r(),n()}catch(I){console.error("Error adding participant:",I),c("Failed to add participant. Please try again.")}finally{o(!1)}};return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:n,children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4 border-teal-400",onClick:S=>S.stopPropagation(),style:{borderColor:Y.primary.teal},children:[f.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(mx,{className:"w-6 h-6"}),f.jsx("h2",{className:"text-xl font-bold",children:"Add Participant"})]}),f.jsx("button",{onClick:n,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:f.jsx(zf,{className:"w-6 h-6"})})]}),f.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),f.jsx("input",{type:"text",value:i.firstName,onChange:S=>a({...i,firstName:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{focusRing:Y.primary.teal},required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),f.jsx("input",{type:"text",value:i.lastName,onChange:S=>a({...i,lastName:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),f.jsx("input",{type:"email",value:i.email,onChange:S=>a({...i,email:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),f.jsx("input",{type:"tel",value:i.phone,onChange:S=>a({...i,phone:S.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seat Number *"}),f.jsxs("select",{value:i.seatNumber||"",onChange:S=>a({...i,seatNumber:parseInt(S.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[f.jsx("option",{value:"",children:"Select a seat"}),p.map(S=>f.jsxs("option",{value:S,children:["Seat ",S]},S))]}),p.length===0&&f.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available seats"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="card"?Y.primary.teal:"#D1D5DB"},children:[f.jsx("input",{type:"radio",value:"card",checked:i.paymentMethod==="card",onChange:S=>a({...i,paymentMethod:S.target.value}),className:"mr-3",style:{accentColor:Y.primary.teal}}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),f.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),f.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="on-trip"?Y.primary.teal:"#D1D5DB"},children:[f.jsx("input",{type:"radio",value:"on-trip",checked:i.paymentMethod==="on-trip",onChange:S=>a({...i,paymentMethod:S.target.value}),className:"mr-3",style:{accentColor:Y.primary.teal}}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),f.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),f.jsx("div",{children:f.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:i.paid?Y.primary.teal:"#D1D5DB"},children:[f.jsx("input",{type:"checkbox",checked:i.paid,onChange:S=>a({...i,paid:S.target.checked}),className:"w-5 h-5 rounded border-gray-300",style:{accentColor:Y.primary.teal}}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-gray-900",children:"Mark as Paid"}),f.jsx("div",{className:"text-sm text-gray-500",children:"Check if participant has already paid"})]})]})}),u&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),f.jsx("button",{type:"submit",disabled:s||p.length===0,style:{backgroundColor:Y.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add Participant"})]})]})]})})},pN=O.createContext(),qu=()=>{const t=O.useContext(pN);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},_9=({children:t})=>{const[e,n]=O.useState("en"),r={language:e,setLanguage:n};return f.jsx(pN.Provider,{value:r,children:t})},Qv={en:{dashboard:"Trip Management Dashboard",dashboardShort:"Dashboard",irviTours:"IVRI Tours",tripManagement:"Trip Management System",adminPortal:"Admin Portal",logout:"Logout",backToDashboard:"Back to dashboard",tripsFor:"Trips for",allTrips:"All Trips",all:"All",currentTrips:"Current Trips",current:"Current",oldTrips:"Old Trips",old:"Old",createTrip:"Create Trip",loadingTrips:"Loading trips...",noUpcomingTrips:"No upcoming trips scheduled.",noPastTrips:"No past trips found.",noTripsForDate:"No trips scheduled for this date.",createFirstTrip:"Create your first trip",whatsapp:"WhatsApp",share:"Share",copied:"Copied!",view:"View",edit:"Edit",delete:"Delete",deleting:"Deleting...",joinWhatsappGroup:"Join WhatsApp Group",linkCopied:"Link copied!",shareTripLink:"Share trip link",viewTripDetails:"View trip details",editTrip:"Edit trip",deleteTrip:"Delete trip",createNewTrip:"Create new trip",showAllTrips:"Show all trips",showCurrentTrips:"Show current trips",showOldTrips:"Show old trips",mercedesSprinterBlack:"Mercedes Sprinter Black (14 Seats)",mercedesSprinterWhite:"Mercedes Sprinter White (11 Seats)",toyotaHighlander:"Toyota Highlander (7 Seats)",driver:"Driver",calendar:"Calendar",createNewTripTitle:"Create New Trip",editTripTitle:"Edit Trip",addParticipant:"Add Participant",participantDetails:"Participant Details",tripTitle:"Trip Title",date:"Date",driverName:"Driver Name",vehicleType:"Vehicle Type",whatsappGroupLink:"WhatsApp Group Link (Optional)",whatsappGroupLinkHelp:"Add a WhatsApp group link for trip participants to join",firstName:"First Name",lastName:"Last Name",email:"Email",phoneNumber:"Phone Number",seatNumber:"Seat Number",selectSeat:"Select a seat",paymentMethod:"Payment Method",payWithCard:"Pay with Card",payWithCardDesc:"Pay now using credit/debit card",payOnTrip:"Pay on Trip",payOnTripDesc:"Pay cash/card on the day of the trip",markAsPaid:"Mark as Paid",markAsPaidDesc:"Check if participant has already paid",cancel:"Cancel",close:"Close",updateTrip:"Update Trip",updating:"Updating...",creating:"Creating...",addParticipantBtn:"Add Participant",adding:"Adding...",completeRegistration:"Complete Registration",submitting:"Submitting...",clearSignature:"Clear Signature",participants:"Participants",add:"Add",noRegistrations:"No registrations yet",name:"Name",phone:"Phone",seat:"Seat Number",paymentStatus:"Payment Status",paid:"Paid",notPaid:"Not Paid",registrationStatus:"Registration Status",complete:"Complete",registered:"Registered",signedAgreements:"Signed Agreements",cancellationPolicy:"Cancellation Policy",liabilityWaiver:"Liability Waiver",markAsNotPaid:"Mark as Not Paid",markAsPaidBtn:"Mark as Paid",selectYourSeat:"Select Your Seat",selectedSeat:"Selected Seat",vacant:"Vacant",occupied:"Occupied",selected:"Selected",noAvailableSeats:"No available seats",personalInformation:"Personal Information",digitalSignature:"Digital Signature",registrationSuccessful:"Registration Successful!",thankYouMessage:"Thank you for registering for",confirmationEmailMessage:"You will receive a confirmation email shortly with your signed waiver.",yourSeat:"Your Seat",loadingTripInfo:"Loading trip information...",tripNotFound:"Trip Not Found",tripNotFoundMessage:"This trip link may be invalid or expired.",tripId:"Trip ID",contactOrganizer:"If you believe this is an error, please contact the trip organizer.",cancellationPolicyTitle:"Cancellation Policy",waiverTitle:"Waiver of Liability",agreeToCancellationPolicy:"I have read and agree to the cancellation policy",agreeToWaiver:"I have read, understand, and agree to the waiver of liability",deleteConfirm:"Are you sure you want to delete this trip? This action cannot be undone.",failedToDelete:"Failed to delete trip. Please try again.",failedToUpdate:"Failed to update trip. Please try again.",failedToAdd:"Failed to add participant. Please try again.",failedToUpdatePayment:"Failed to update payment status",failedToSubmit:"Failed to submit registration. Please try again.",pleasSelectSeat:"Please select a seat",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",phoneRequired:"Phone number is required",seatRequired:"Please select a seat",cancellationPolicyRequired:"You must agree to the cancellation policy",waiverRequired:"You must sign the waiver",signatureRequired:"Signature is required",tripTitlePlaceholder:"e.g., Beach Trip, Museum Visit",driverNamePlaceholder:"e.g., John Smith",whatsappPlaceholder:"https://chat.whatsapp.com/..."},ru:{dashboard:"  ",dashboardShort:"",irviTours:"IVRI Tours",tripManagement:"  ",adminPortal:" ",logout:"",backToDashboard:"  ",tripsFor:" ",allTrips:" ",all:"",currentTrips:" ",current:"",oldTrips:" ",old:"",createTrip:" ",loadingTrips:" ...",noUpcomingTrips:"  .",noPastTrips:"   .",noTripsForDate:"    .",createFirstTrip:"   ",whatsapp:"WhatsApp",share:"",copied:"!",view:"",edit:"",delete:"",deleting:"...",joinWhatsappGroup:"   WhatsApp",linkCopied:" !",shareTripLink:"   ",viewTripDetails:"  ",editTrip:" ",deleteTrip:" ",createNewTrip:"  ",showAllTrips:"  ",showCurrentTrips:"  ",showOldTrips:"  ",mercedesSprinterBlack:"Mercedes Sprinter  (14 )",mercedesSprinterWhite:"Mercedes Sprinter  (11 )",toyotaHighlander:"Toyota Highlander (7 )",driver:"",calendar:"",createNewTripTitle:"  ",editTripTitle:" ",addParticipant:" ",participantDetails:" ",tripTitle:" ",date:"",driverName:" ",vehicleType:" ",whatsappGroupLink:"   WhatsApp ()",whatsappGroupLinkHelp:"    WhatsApp   ",firstName:"",lastName:"",email:" ",phoneNumber:" ",seatNumber:" ",selectSeat:" ",paymentMethod:" ",payWithCard:" ",payWithCardDesc:"  / ",payOnTrip:"  ",payOnTripDesc:" /   ",markAsPaid:"  ",markAsPaidDesc:",    ",cancel:"",close:"",updateTrip:" ",updating:"...",creating:"...",addParticipantBtn:" ",adding:"...",completeRegistration:" ",submitting:"...",clearSignature:" ",participants:"",add:"",noRegistrations:"  ",name:"",phone:"",seat:" ",paymentStatus:" ",paid:"",notPaid:" ",registrationStatus:" ",complete:"",registered:"",signedAgreements:" ",cancellationPolicy:" ",liabilityWaiver:"  ",markAsNotPaid:"   ",markAsPaidBtn:"  ",selectYourSeat:"  ",selectedSeat:" ",vacant:"",occupied:"",selected:"",noAvailableSeats:"  ",personalInformation:" ",digitalSignature:" ",registrationSuccessful:" !",thankYouMessage:"   ",confirmationEmailMessage:"         .",yourSeat:" ",loadingTripInfo:"   ...",tripNotFound:"  ",tripNotFoundMessage:"        .",tripId:"ID ",contactOrganizer:"  ,   , ,    .",cancellationPolicyTitle:" ",waiverTitle:"  ",agreeToCancellationPolicy:" ()  ()   ",agreeToWaiver:" (),   ()    ",deleteConfirm:" ,     ?    .",failedToDelete:"   . ,  .",failedToUpdate:"   . ,  .",failedToAdd:"   . ,  .",failedToUpdatePayment:"    ",failedToSubmit:"   . ,  .",pleasSelectSeat:",  ",firstNameRequired:" ",lastNameRequired:" ",emailRequired:"  ",emailInvalid:"   ",phoneRequired:"  ",seatRequired:",  ",cancellationPolicyRequired:"     ",waiverRequired:"     ",signatureRequired:" ",tripTitlePlaceholder:",   ,  ",driverNamePlaceholder:",  ",whatsappPlaceholder:"https://chat.whatsapp.com/..."}},b9=({tripId:t,onClose:e})=>{var k;const{language:n}=qu(),r=Qv[n],[i,a]=O.useState(null),[s,o]=O.useState([]),[u,c]=O.useState(!0),[h,m]=O.useState(!1),[p,y]=O.useState(null),[S,I]=O.useState(null),[R,v]=O.useState({}),[_,x]=O.useState(null);O.useEffect(()=>{N();const w=L();return()=>w&&w()},[t]);const N=async()=>{try{const w=await hN(t);a(w)}catch(w){console.error("Error loading trip:",w)}finally{c(!1)}},L=()=>{const w=Iv(Ao(qn,"registrations"),Zh("tripId","==",t));return WL(w,q=>{const j=q.docs.map(G=>({id:G.id,...G.data()}));o(j)})},F=async(w,M)=>{try{await yE(w,{paid:!M})}catch(q){console.error("Error updating payment status:",q),alert(r.failedToUpdatePayment)}},E=async w=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){x(w);try{await p9(w),y(null)}catch(M){console.error("Error deleting participant:",M),alert("Failed to delete participant. Please try again.")}finally{x(null)}}},T=w=>{I(w.id),v({firstName:w.firstName,lastName:w.lastName,email:w.email,phone:w.phone})},A=async w=>{try{await yE(w,R),I(null),v({})}catch(M){console.error("Error updating participant:",M),alert("Failed to update participant. Please try again.")}},C=()=>{I(null),v({})};if(u)return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:f.jsx("div",{className:"bg-white rounded-lg p-8",children:f.jsx("div",{className:"text-lg",children:r.loadingTripInfo})})});if(!i)return f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:f.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[f.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.tripNotFound}),f.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:r.close})]})});const D=[...s].sort((w,M)=>w.seatNumber-M.seatNumber);return f.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",onClick:e,children:[f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden border-4 border-teal-400",onClick:w=>w.stopPropagation(),style:{borderColor:Y.primary.teal},children:[f.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 sm:px-6 py-4 flex justify-between items-center",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h2",{className:"text-xl sm:text-2xl font-bold truncate",children:i.title}),f.jsx("p",{className:"text-sm text-teal-100",children:(k=i.date)==null?void 0:k.toDate().toLocaleDateString()})]}),f.jsx("button",{onClick:e,className:"flex-shrink-0 ml-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:r.close,children:f.jsx(zf,{className:"w-6 h-6"})})]}),f.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)] p-4 sm:p-6",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[f.jsx("div",{className:"lg:col-span-2",children:f.jsx(mN,{vehicleType:i.vehicleLayout,registrations:s,driverName:i.driverName})}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-lg p-4 sm:p-6 border-2 border-gray-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(X4,{className:"w-5 h-5",style:{color:Y.primary.teal}}),f.jsxs("h3",{className:"text-lg sm:text-xl font-bold",style:{color:Y.primary.black},children:[r.participants," (",s.length,")"]})]}),f.jsxs("button",{onClick:()=>m(!0),style:{backgroundColor:Y.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:r.addParticipant,children:[f.jsx(mx,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:r.add})]})]}),s.length===0?f.jsx("p",{className:"text-gray-500 text-center py-8",children:r.noRegistrations}):f.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:D.map(w=>f.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[f.jsxs("div",{onClick:()=>y(p===w.id?null:w.id),className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[f.jsx("div",{className:"flex-shrink-0 w-8 h-8 text-white rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:Y.seat.occupied},children:w.seatNumber}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("p",{className:"font-semibold text-gray-900 truncate",children:[w.firstName," ",w.lastName]}),f.jsx("p",{className:"text-sm text-gray-600 truncate",children:w.email})]}),f.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[w.paid?f.jsx(Rs,{className:"w-5 h-5 text-green-500",title:r.paid}):f.jsx(xb,{className:"w-5 h-5 text-red-500",title:r.notPaid}),p===w.id?f.jsx(h4,{className:"w-5 h-5 text-gray-400"}):f.jsx(u4,{className:"w-5 h-5 text-gray-400"})]})]}),p===w.id&&f.jsx("div",{className:"px-3 pb-3 border-t border-gray-200",children:S===w.id?f.jsxs("div",{className:"space-y-3 pt-3",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:"First Name"}),f.jsx("input",{type:"text",value:R.firstName,onChange:M=>v({...R,firstName:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Last Name"}),f.jsx("input",{type:"text",value:R.lastName,onChange:M=>v({...R,lastName:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Email"}),f.jsx("input",{type:"email",value:R.email,onChange:M=>v({...R,email:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),f.jsx("input",{type:"tel",value:R.phone,onChange:M=>v({...R,phone:M.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx("button",{onClick:()=>A(w.id),style:{backgroundColor:Y.success},className:"flex-1 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Save"}),f.jsx("button",{onClick:C,className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):f.jsxs("div",{className:"space-y-3 pt-3",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.phone}),f.jsx("p",{className:"text-sm text-gray-900",children:w.phone})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentMethod}),f.jsx("div",{className:"flex items-center gap-2 mt-1",children:w.paymentMethod==="card"?f.jsxs(f.Fragment,{children:[f.jsx(x4,{className:"w-4 h-4 text-blue-600"}),f.jsx("span",{className:"text-sm text-gray-900",children:r.payWithCard})]}):f.jsxs(f.Fragment,{children:[f.jsx(i4,{className:"w-4 h-4 text-green-600"}),f.jsx("span",{className:"text-sm text-gray-900",children:r.payOnTrip})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentStatus}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.paid?f.jsx(Rs,{className:"w-4 h-4 text-green-500"}):f.jsx(xb,{className:"w-4 h-4 text-red-500"}),f.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:w.paid?r.paid:r.notPaid})]})]}),w.registrationDate&&f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.registered}),f.jsx("p",{className:"text-sm text-gray-900",children:new Date(w.registrationDate).toLocaleDateString()})]}),(w.agreedToCancellationPolicy||w.agreedToWaiver)&&f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.signedAgreements}),f.jsxs("div",{className:"space-y-1 mt-1",children:[w.agreedToCancellationPolicy&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Rs,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-xs text-gray-700",children:r.cancellationPolicy})]}),w.agreedToWaiver&&f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Rs,{className:"w-3 h-3 text-green-500"}),f.jsx("span",{className:"text-xs text-gray-700",children:r.liabilityWaiver})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("button",{onClick:M=>{M.stopPropagation(),F(w.id,w.paid)},style:{backgroundColor:w.paid?Y.button.danger:Y.success},className:"w-full px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:w.paid?r.markAsNotPaid:r.markAsPaidBtn}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:M=>{M.stopPropagation(),T(w)},style:{backgroundColor:Y.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:[f.jsx(U4,{className:"w-4 h-4"}),f.jsx("span",{children:"Edit"})]}),f.jsxs("button",{onClick:M=>{M.stopPropagation(),E(w.id)},disabled:_===w.id,style:{backgroundColor:Y.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx(dx,{className:"w-4 h-4"}),f.jsx("span",{children:_===w.id?"Deleting...":"Delete"})]})]})]})]})})]},w.id))})]})})]})})]}),h&&f.jsx(v9,{trip:i,registrations:s,onClose:()=>m(!1),onSuccess:()=>m(!1)})]})},T9=()=>{const[t,e]=O.useState("New York"),[n,r]=O.useState(""),[i,a]=O.useState(null),[s,o]=O.useState([]),[u,c]=O.useState(!1),[h,m]=O.useState(null),[p,y]=O.useState(!1),S=["New York","Los Angeles","Chicago","Miami","Seattle","Boston"];O.useEffect(()=>{I(t)},[t]);const I=async N=>{c(!0),m(null);try{const F=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(N)}&count=1&language=en&format=json`)).json();if(!F.results||F.results.length===0){m("Location not found"),c(!1);return}const{latitude:E,longitude:T,name:A,country:C}=F.results[0],k=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${E}&longitude=${T}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&temperature_unit=fahrenheit&wind_speed_unit=mph&timezone=auto&forecast_days=5`)).json();a({city:A,country:C,temperature:Math.round(k.current.temperature_2m),humidity:k.current.relative_humidity_2m,windSpeed:Math.round(k.current.wind_speed_10m),weatherCode:k.current.weather_code});const w=k.daily.time.map((M,q)=>({date:new Date(M).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),maxTemp:Math.round(k.daily.temperature_2m_max[q]),minTemp:Math.round(k.daily.temperature_2m_min[q]),weatherCode:k.daily.weather_code[q]}));o(w)}catch(L){console.error("Error fetching weather:",L),m("Failed to load weather data")}finally{c(!1)}},R=N=>{e(N),y(!1),r("")},v=N=>{N.preventDefault(),n.trim()&&R(n.trim())},_=N=>N===0||N===1?f.jsx(Y4,{className:"w-8 h-8",style:{color:"#FCD34D"}}):N===2||N===3?f.jsx(bm,{className:"w-8 h-8",style:{color:"#9CA3AF"}}):N>=51&&N<=67?f.jsx(_m,{className:"w-8 h-8",style:{color:"#60A5FA"}}):N>=71&&N<=77?f.jsx(b4,{className:"w-8 h-8",style:{color:"#93C5FD"}}):N>=80?f.jsx(_m,{className:"w-8 h-8",style:{color:"#3B82F6"}}):f.jsx(bm,{className:"w-8 h-8",style:{color:"#9CA3AF"}}),x=N=>N===0?"Clear sky":N===1?"Mainly clear":N===2?"Partly cloudy":N===3?"Overcast":N>=51&&N<=67?"Rainy":N>=71&&N<=77?"Snowy":N>=80?"Rain showers":"Cloudy";return f.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[f.jsx(bm,{className:"w-5 h-5",style:{color:Y.primary.teal}}),"Weather"]}),f.jsx("button",{onClick:()=>y(!p),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:f.jsx(q4,{className:"w-5 h-5 text-gray-600"})})]}),p&&f.jsxs("div",{className:"mb-4 space-y-3",children:[f.jsxs("form",{onSubmit:v,className:"flex gap-2",children:[f.jsx("input",{type:"text",value:n,onChange:N=>r(N.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),f.jsx("button",{type:"submit",style:{backgroundColor:Y.primary.teal},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:"Search"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(N=>f.jsx("button",{onClick:()=>R(N),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700 transition-colors",children:N},N))})]})]}),f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(P4,{className:"w-4 h-4",style:{color:Y.primary.teal}}),f.jsx("span",{className:"text-sm font-medium text-gray-700",children:i?`${i.city}, ${i.country}`:t})]}),u&&f.jsx("div",{className:"text-center py-8",children:f.jsx("div",{className:"text-gray-500 text-sm",children:"Loading weather..."})}),h&&!u&&f.jsxs("div",{className:"text-center py-8",children:[f.jsx("div",{className:"text-red-500 text-sm",children:h}),f.jsx("button",{onClick:()=>I(t),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Try again"})]}),i&&!u&&!h&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[i.temperature,"F"]}),f.jsx("div",{className:"text-sm text-gray-600 mt-1",children:x(i.weatherCode)})]}),f.jsx("div",{children:_(i.weatherCode)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Z4,{className:"w-4 h-4 text-gray-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),f.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[i.windSpeed," mph"]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_m,{className:"w-4 h-4 text-gray-400"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),f.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[i.humidity,"%"]})]})]})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),f.jsx("div",{className:"space-y-2",children:s.map((N,L)=>f.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"scale-75",children:_(N.weatherCode)}),f.jsx("span",{className:"text-xs text-gray-700",children:N.date})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[N.maxTemp,""]}),f.jsxs("span",{className:"text-sm text-gray-500",children:[N.minTemp,""]})]})]},L))})]})]})]})},E9=({className:t="",size:e="md"})=>{const n={sm:{width:"80px",fontSize:"14px",subSize:"10px"},md:{width:"120px",fontSize:"20px",subSize:"12px"},lg:{width:"160px",fontSize:"28px",subSize:"16px"}},r=n[e]||n.md;return f.jsx("div",{className:`flex items-center gap-3 ${t}`,children:f.jsx("div",{style:{backgroundColor:Y.primary.teal,width:r.width,aspectRatio:"1",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 188, 212, 0.3)"},children:f.jsxs("div",{style:{textAlign:"center",color:Y.primary.white},children:[f.jsx("div",{style:{fontSize:r.fontSize,fontWeight:"bold",letterSpacing:"2px",lineHeight:"1"},children:"IVRI"}),f.jsx("div",{style:{fontSize:r.subSize,letterSpacing:"1px",marginTop:"4px",opacity:.9},children:"TOURS"})]})})})},w9=()=>{const{language:t,setLanguage:e}=qu();return f.jsx("div",{className:"relative",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(R4,{className:"w-4 h-4 text-gray-600"}),f.jsxs("select",{value:t,onChange:n=>e(n.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:Y.primary.teal},children:[f.jsx("option",{value:"en",children:"English (CA)"}),f.jsx("option",{value:"ru",children:""})]})]})})},gN=({showBackButton:t=!1,title:e="",subtitle:n="",showLogout:r=!0})=>{const i=Au(),a=Hr(),{language:s}=qu(),o=Qv[s],u=async()=>{try{await Z3(Wv),i("/login")}catch(p){console.error("Error logging out:",p)}},c=()=>{i("/")},h=a.pathname==="/",m=a.pathname.includes("/register/");return f.jsx("div",{className:"bg-white shadow",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[f.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t&&f.jsx("button",{onClick:c,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:o.backToDashboard,children:f.jsx(n4,{className:"w-6 h-6"})}),f.jsx(E9,{size:"md"}),f.jsx("div",{className:"min-w-0 flex-1",children:h?f.jsxs(f.Fragment,{children:[f.jsxs("h1",{className:"text-base sm:text-2xl font-bold text-gray-900 truncate",children:[f.jsx("span",{className:"hidden sm:inline",children:o.dashboard}),f.jsx("span",{className:"sm:hidden",children:o.dashboardShort})]}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:o.irviTours})]}):e?f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e}),n&&f.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:n})]}):f.jsxs(f.Fragment,{children:[f.jsx("h1",{className:"text-base sm:text-2xl font-bold text-gray-900 truncate",children:o.irviTours}),f.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:o.tripManagement})]})})]}),f.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[f.jsx(w9,{}),r&&!m&&f.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:o.logout,children:[f.jsx(k4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:o.logout})]})]})]})})})},S9=()=>{const{language:t}=qu(),e=Qv[t],[n,r]=O.useState(new Date),[i,a]=O.useState([]),[s,o]=O.useState(!1),[u,c]=O.useState(null),[h,m]=O.useState(!1),[p,y]=O.useState("date"),[S,I]=O.useState("all"),[R,v]=O.useState(null),[_,x]=O.useState(null),[N,L]=O.useState(null);O.useEffect(()=>{F()},[n,p]);const F=async()=>{m(!0);try{let M;p==="date"?M=await h9(n):M=await c9(),a(M)}catch(M){console.error("Error loading trips:",M)}finally{m(!1)}},E=async M=>{try{await u9(M),o(!1),F()}catch(q){console.error("Error creating trip:",q)}},T=M=>{const q=`${window.location.origin}/PlanYourTripNow/register/${M}`;navigator.clipboard.writeText(q),c(M),setTimeout(()=>c(null),2e3)},A=async M=>{if(confirm(e.deleteConfirm)){v(M);try{await d9(M),F()}catch(q){console.error("Error deleting trip:",q),alert(e.failedToDelete)}finally{v(null)}}},C=async(M,q)=>{try{await f9(M,q),x(null),F()}catch(j){console.error("Error updating trip:",j),alert(e.failedToUpdate)}},k=(()=>{const M=new Date;M.setHours(0,0,0,0);let q=i;return p==="date"?q=i:p==="upcoming"?q=i.filter(j=>{var W,X;const G=((X=(W=j.date)==null?void 0:W.toDate)==null?void 0:X.call(W))||new Date(j.date);return G.setHours(0,0,0,0),G>=M}):p==="past"&&(q=i.filter(j=>{var W,X;const G=((X=(W=j.date)==null?void 0:W.toDate)==null?void 0:X.call(W))||new Date(j.date);return G.setHours(0,0,0,0),G<M})),S!=="all"&&(q=q.filter(j=>j.status===S)),q})(),w=M=>{switch(M){case"planned":return{bg:"#FEF3C7",text:"#92400E",label:"Planned"};case"scheduled":return{bg:"#E9D5FF",text:"#6B21A8",label:"Scheduled"};case"done":return{bg:"#D1FAE5",text:"#065F46",label:"Done"};default:return{bg:"#FEF3C7",text:"#92400E",label:"Planned"}}};return f.jsxs("div",{className:"min-h-screen bg-gray-100",children:[f.jsx(gN,{}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==="date"?`${e.tripsFor} ${n.toLocaleDateString()}`:p==="all"?e.allTrips:p==="upcoming"?e.currentTrips:e.oldTrips}),f.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[f.jsxs("button",{onClick:()=>y("date"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="date"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="date"?{backgroundColor:Y.primary.teal}:{},title:`${e.tripsFor} ${n.toLocaleDateString()}`,children:[f.jsx(ll,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:n.toLocaleDateString()})]}),f.jsxs("button",{onClick:()=>y("all"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="all"?{backgroundColor:Y.primary.teal}:{},title:e.showAllTrips,children:[f.jsx(ll,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.allTrips})]}),f.jsxs("button",{onClick:()=>y("upcoming"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="upcoming"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="upcoming"?{backgroundColor:Y.primary.teal}:{},title:e.showCurrentTrips,children:[f.jsx(ll,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.currentTrips})]}),f.jsxs("button",{onClick:()=>y("past"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="past"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="past"?{backgroundColor:Y.primary.teal}:{},title:e.showOldTrips,children:[f.jsx(e4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.oldTrips})]})]}),f.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[f.jsxs("button",{onClick:()=>I("all"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="all"?{backgroundColor:Y.primary.teal}:{},title:"Show all statuses",children:[f.jsx(ll,{className:"w-4 h-4"}),f.jsx("span",{className:"sm:hidden",children:"A"}),f.jsx("span",{className:"hidden sm:inline",children:"All Status"})]}),f.jsxs("button",{onClick:()=>I("planned"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="planned"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="planned"?{backgroundColor:"#92400E"}:{},title:"Show planned trips",children:[f.jsx(y4,{className:"w-4 h-4"}),f.jsx("span",{className:"sm:hidden",children:"P"}),f.jsx("span",{className:"hidden sm:inline",children:"Planned"})]}),f.jsxs("button",{onClick:()=>I("scheduled"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="scheduled"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="scheduled"?{backgroundColor:"#6B21A8"}:{},title:"Show scheduled trips",children:[f.jsx(ll,{className:"w-4 h-4"}),f.jsx("span",{className:"sm:hidden",children:"S"}),f.jsx("span",{className:"hidden sm:inline",children:"Scheduled"})]}),f.jsxs("button",{onClick:()=>I("done"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${S==="done"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:S==="done"?{backgroundColor:"#065F46"}:{},title:"Show completed trips",children:[f.jsx(Rs,{className:"w-4 h-4"}),f.jsx("span",{className:"sm:hidden",children:"D"}),f.jsx("span",{className:"hidden sm:inline",children:"Done"})]})]})]}),f.jsxs("button",{onClick:()=>o(!0),style:{backgroundColor:Y.primary.teal},className:"flex items-center gap-2 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity",title:e.createNewTrip,children:[f.jsx(B4,{className:"w-5 h-5"}),f.jsx("span",{className:"hidden sm:inline",children:e.createTrip})]})]}),h?f.jsx("div",{className:"text-center py-12",children:f.jsx("div",{className:"text-gray-500",children:e.loadingTrips})}):k.length===0?f.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[f.jsxs("p",{className:"text-gray-500",children:[p==="date"&&e.noTripsForDate,p==="upcoming"&&e.noUpcomingTrips,p==="past"&&e.noPastTrips,p==="all"&&"No trips found"]}),f.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstTrip})]}):f.jsx("div",{className:"space-y-3",children:k.map(M=>{var q,j;return f.jsx("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.title}),f.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:w(M.status).bg,color:w(M.status).text},children:w(M.status).label})]}),f.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((j=(q=M.date)==null?void 0:q.toDate)==null?void 0:j.call(q).toLocaleDateString())||new Date(M.date).toLocaleDateString()," - ",M.vehicleLayout==="sprinter_15"?e.mercedesSprinterBlack:M.vehicleLayout==="bus_30"?e.mercedesSprinterWhite:M.vehicleLayout==="highlander_7"?e.toyotaHighlander:M.vehicleLayout]}),M.driverName&&f.jsxs("p",{className:"text-sm mt-1",style:{color:"#00BCD4"},children:[e.driver,": ",M.driverName]})]}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[M.whatsappGroupLink&&f.jsxs("a",{href:M.whatsappGroupLink,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#25D366"},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.joinWhatsappGroup,children:[f.jsx(j4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.whatsapp})]}),f.jsx("button",{onClick:()=>T(M.id),className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:u===M.id?Y.success:Y.primary.teal},title:u===M.id?e.linkCopied:e.shareTripLink,children:u===M.id?f.jsxs(f.Fragment,{children:[f.jsx(o4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.copied})]}):f.jsxs(f.Fragment,{children:[f.jsx(w4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.share})]})}),f.jsxs("button",{onClick:()=>L(M.id),style:{backgroundColor:Y.primary.black},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.viewTripDetails,children:[f.jsx(C4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.view})]}),f.jsxs("button",{onClick:()=>x(M),style:{backgroundColor:Y.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.editTrip,children:[f.jsx(G4,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:e.edit})]}),f.jsxs("button",{onClick:()=>A(M.id),disabled:R===M.id,style:{backgroundColor:Y.button.danger},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteTrip,children:[f.jsx(dx,{className:"w-4 h-4"}),f.jsx("span",{className:"hidden sm:inline",children:R===M.id?e.deleting:e.delete})]})]})]})},M.id)})})]}),f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"space-y-4 sticky top-4",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.calendar}),f.jsx(Yk,{onChange:M=>{r(M),y("date")},value:n,className:"border-0 w-full"})]}),f.jsx(T9,{})]})})]})}),s&&f.jsx(g9,{selectedDate:n,onClose:()=>o(!1),onCreate:E}),_&&f.jsx(y9,{trip:_,onClose:()=>x(null),onUpdate:C}),N&&f.jsx(b9,{tripId:N,onClose:()=>L(null)})]})};function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(null,arguments)}function x9(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function A9(t,e){if(t==null)return{};var n,r,i=x9(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}function C9(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function N9(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sg(t,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sg(t,e)}function R9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sg(t,e)}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},hf(t)}function yN(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yN=function(){return!!t})()}function I9(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D9(t,e){if(e&&(wg(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I9(t)}function O9(t){var e=yN();return function(){var n,r=hf(t);if(e){var i=hf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D9(this,n)}}var vN={exports:{}},k9="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M9=k9,P9=M9;function _N(){}function bN(){}bN.resetWarningCache=_N;var V9=function(){function t(r,i,a,s,o,u){if(u!==P9){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:bN,resetWarningCache:_N};return n.PropTypes=n,n};vN.exports=V9();var j9=vN.exports;const Zt=xg(j9);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function La(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}La.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};La.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};La.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function Xv(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}Xv.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,i=0;i<=t;i+=1){var a=i/t,s=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var u=s-n,c=o-r;e+=Math.sqrt(u*u+c*c)}n=s,r=o}return e};Xv.prototype._point=function(t,e,n,r,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t};function L9(t,e,n){var r,i,a,s=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:Date.now(),s=null,a=t.apply(r,i),s||(r=i=null)};return function(){var c=Date.now();!o&&n.leading===!1&&(o=c);var h=e-(c-o);return r=this,i=arguments,h<=0||h>e?(s&&(clearTimeout(s),s=null),o=c,a=t.apply(r,i),s||(r=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(u,h)),a}}function Ce(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=L9(Ce.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Ce.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var a=i.changedTouches[0];n._strokeBegin(a)}},this._handleTouchMove=function(i){i.preventDefault();var a=i.targetTouches[0];n._strokeMoveUpdate(a)},this._handleTouchEnd=function(i){var a=i.target===n._canvas;a&&(i.preventDefault(),n._strokeEnd(i))},this.on()}Ce.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};Ce.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/i,s=n.height||this._canvas.height/i;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,a,s)},this._isEmpty=!1};Ce.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};Ce.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Ce.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Ce.prototype.isEmpty=function(){return this._isEmpty};Ce.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};Ce.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),i=this._data[this._data.length-1],a=i&&i[i.length-1],s=a&&r.distanceTo(a)<this.minDistance;if(!(a&&s)){var o=this._addPoint(r),u=o.curve,c=o.widths;u&&c&&this._drawCurve(u,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};Ce.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],i=r[r.length-1];n.equals(i)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};Ce.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Ce.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Ce.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Ce.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new La(t-r.left,e-r.top,n||new Date().getTime())};Ce.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var i=n.c1,a=new Xv(e[1],r,i,e[2]),s=this._calculateCurveWidths(a);return e.shift(),{curve:a,widths:s}}return{}};Ce.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,a=e.x-n.x,s=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c=Math.sqrt(r*r+i*i),h=Math.sqrt(a*a+s*s),m=o.x-u.x,p=o.y-u.y,y=h/(c+h),S={x:u.x+m*y,y:u.y+p*y},I=e.x-S.x,R=e.y-S.y;return{c1:new La(o.x+I,o.y+R),c2:new La(u.x+I,u.y+R)}};Ce.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(i);return r.start=this._lastWidth,r.end=a,this._lastVelocity=i,this._lastWidth=a,r};Ce.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};Ce.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};Ce.prototype._drawCurve=function(t,e,n){var r=this._ctx,i=n-e,a=Math.floor(t.length());r.beginPath();for(var s=0;s<a;s+=1){var o=s/a,u=o*o,c=u*o,h=1-o,m=h*h,p=m*h,y=p*t.startPoint.x;y+=3*m*o*t.control1.x,y+=3*h*u*t.control2.x,y+=c*t.endPoint.x;var S=p*t.startPoint.y;S+=3*m*o*t.control1.y,S+=3*h*u*t.control2.y,S+=c*t.endPoint.y;var I=e+c*i;this._drawPoint(y,S,I)}r.closePath(),r.fill()};Ce.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};Ce.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var i=t[r];if(i.length>1)for(var a=0;a<i.length;a+=1){var s=i[a],o=new La(s.x,s.y,s.time),u=s.color;if(a===0)this.penColor=u,this._reset(),this._addPoint(o);else if(a!==i.length-1){var c=this._addPoint(o),h=c.curve,m=c.widths;h&&m&&e(h,m,u)}}else{this._reset();var p=i[0];n(p)}}};Ce.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,a=0,s=n.width/r,o=n.height/r,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(e,function(v,_,x){var N=document.createElement("path");if(!isNaN(v.control1.x)&&!isNaN(v.control1.y)&&!isNaN(v.control2.x)&&!isNaN(v.control2.y)){var L="M "+v.startPoint.x.toFixed(3)+","+v.startPoint.y.toFixed(3)+" "+("C "+v.control1.x.toFixed(3)+","+v.control1.y.toFixed(3)+" ")+(v.control2.x.toFixed(3)+","+v.control2.y.toFixed(3)+" ")+(v.endPoint.x.toFixed(3)+","+v.endPoint.y.toFixed(3));N.setAttribute("d",L),N.setAttribute("stroke-width",(_.end*2.25).toFixed(3)),N.setAttribute("stroke",x),N.setAttribute("fill","none"),N.setAttribute("stroke-linecap","round"),u.appendChild(N)}},function(v){var _=document.createElement("circle"),x=typeof t.dotSize=="function"?t.dotSize():t.dotSize;_.setAttribute("r",x),_.setAttribute("cx",v.x),_.setAttribute("cy",v.y),_.setAttribute("fill",v.color),u.appendChild(_)});var c="data:image/svg+xml;base64,",h='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+a+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",m=u.innerHTML;if(m===void 0){var p=document.createElement("dummy"),y=u.childNodes;p.innerHTML="";for(var S=0;S<y.length;S+=1)p.appendChild(y[S].cloneNode(!0));m=p.innerHTML}var I="</svg>",R=h+m+I;return c+btoa(R)};Ce.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};Ce.prototype.toData=function(){return this._data};var TN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(LN,function(){return function(n){function r(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r){function i(c){var h=c.getContext("2d"),m=c.width,p=c.height,y=h.getImageData(0,0,m,p).data,S=o(!0,m,p,y),I=o(!1,m,p,y),R=u(!0,m,p,y),v=u(!1,m,p,y),_=v-R+1,x=I-S+1,N=h.getImageData(R,S,_,x);return c.width=_,c.height=x,h.clearRect(0,0,_,x),h.putImageData(N,0,0),c}function a(c,h,m,p){return{red:p[4*(m*h+c)],green:p[4*(m*h+c)+1],blue:p[4*(m*h+c)+2],alpha:p[4*(m*h+c)+3]}}function s(c,h,m,p){return a(c,h,m,p).alpha}function o(c,h,m,p){for(var y=c?1:-1,S=c?0:m-1,I=S;c?I<m:I>-1;I+=y)for(var R=0;R<h;R++)if(s(R,I,h,p))return I;return null}function u(c,h,m,p){for(var y=c?1:-1,S=c?0:h-1,I=S;c?I<h:I>-1;I+=y)for(var R=0;R<m;R++)if(s(I,R,h,p))return I;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})})(TN);var U9=TN.exports;const z9=xg(U9);var B9=["canvasProps","clearOnResize"],pd=function(t){R9(n,t);var e=O9(n);function n(){var r;N9(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var u=A9(o,B9);return u},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new Ce(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),u=document.createElement("canvas");return u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),z9(u)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,u,c=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},h=c.width,m=c.height;if(!(typeof h<"u"&&typeof m<"u")){var p=r.getCanvas(),y=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof h>"u"&&(p.width=p.offsetWidth*y),typeof m>"u"&&(p.height=p.offsetHeight*y),p.getContext("2d").scale(y,y),r.clear()}},r.render=function(){var o=r.props.canvasProps;return rR.createElement("canvas",Eg({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,u){return r.getSignaturePad().fromDataURL(o,u)},r.toDataURL=function(o,u){return r.getSignaturePad().toDataURL(o,u)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return C9(n)}(O.Component);pd.propTypes={velocityFilterWeight:Zt.number,minWidth:Zt.number,maxWidth:Zt.number,minDistance:Zt.number,dotSize:Zt.oneOfType([Zt.number,Zt.func]),penColor:Zt.string,throttle:Zt.number,onEnd:Zt.func,onBegin:Zt.func,canvasProps:Zt.object,clearOnResize:Zt.bool};pd.defaultProps={clearOnResize:!0};pd.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const F9=`CANCELLATION POLICY

1. Cancellations made 30 days or more before the trip date will receive a full refund.
2. Cancellations made 15-29 days before the trip date will receive a 50% refund.
3. Cancellations made less than 15 days before the trip date are non-refundable.
4. No-shows on the trip date are non-refundable.
5. Trip organizers reserve the right to cancel trips due to weather, safety concerns, or insufficient participation, in which case full refunds will be provided.`,q9=`WAIVER OF LIABILITY AND ASSUMPTION OF RISK

I, the undersigned, hereby acknowledge that I am voluntarily participating in this trip and related activities. I understand that such participation involves inherent risks, including but not limited to personal injury, property damage, or death.

In consideration of being permitted to participate in this trip, I hereby:

1. WAIVE, RELEASE, AND DISCHARGE the trip organizers, their officers, employees, and agents from any and all liability for any loss, damage, injury, or death that may occur during my participation.

2. ASSUME ALL RISKS associated with participation in this trip, whether known or unknown.

3. AGREE TO INDEMNIFY AND HOLD HARMLESS the trip organizers from any claims, actions, or losses arising from my participation.

4. CONSENT to receive emergency medical treatment if necessary.

I have read this waiver, fully understand its terms, and sign it freely and voluntarily.`,H9=()=>{var k,w;const{tripId:t}=_D();Au();const e=O.useRef(null),{language:n}=qu(),[r,i]=O.useState(null),[a,s]=O.useState([]),[o,u]=O.useState(!0),[c,h]=O.useState(!1),[m,p]=O.useState(!1),[y,S]=O.useState(1),[I,R]=O.useState([]),[v,_]=O.useState([{firstName:"",lastName:"",email:"",phone:"",seatNumber:null}]),[x,N]=O.useState("on-trip"),[L,F]=O.useState({cancellationPolicy:!1,waiver:!1}),[E,T]=O.useState({});O.useEffect(()=>{A()},[t]),O.useEffect(()=>{const M=Array.from({length:y},(q,j)=>v[j]||{firstName:"",lastName:"",email:"",phone:"",seatNumber:null});_(M),R(M.map(q=>q.seatNumber).filter(Boolean))},[y]);const A=async()=>{try{console.log("Loading trip with ID:",t);const[M,q]=await Promise.all([hN(t),m9(t)]);console.log("Trip data loaded:",M),console.log("Registrations loaded:",q),i(M),s(q)}catch(M){console.error("Error loading trip data:",M),alert("Error loading trip: "+M.message)}finally{u(!1)}},C=()=>{var q;const M={};return v.forEach((j,G)=>{j.firstName.trim()||(M[`passenger${G}FirstName`]="First name is required"),j.lastName.trim()||(M[`passenger${G}LastName`]="Last name is required"),j.email.trim()?/\S+@\S+\.\S+/.test(j.email)||(M[`passenger${G}Email`]="Email is invalid"):M[`passenger${G}Email`]="Email is required",j.phone.trim()||(M[`passenger${G}Phone`]="Phone number is required"),j.seatNumber||(M[`passenger${G}Seat`]="Please select a seat")}),L.cancellationPolicy||(M.cancellationPolicy="You must agree to the cancellation policy"),L.waiver||(M.waiver="You must sign the waiver"),(q=e.current)!=null&&q.isEmpty()&&(M.signature="Signature is required"),T(M),Object.keys(M).length===0},D=async M=>{if(M.preventDefault(),!!C()){h(!0);try{const q=e.current.toDataURL();for(const j of v)await fN({tripId:t,firstName:j.firstName,lastName:j.lastName,email:j.email,phone:j.phone,seatNumber:j.seatNumber,paymentMethod:x,paid:!1,signatureData:q,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,adminEmail:"barpupco@gmail.com",registrationDate:new Date().toISOString()});p(!0)}catch(q){console.error("Error submitting registration:",q),T({submit:"Failed to submit registration. Please try again."})}finally{h(!1)}}};return o?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"text-lg",children:"Loading trip information..."})}):r?m?f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[f.jsx(Rs,{className:"w-16 h-16 mx-auto mb-4",style:{color:Y.success}}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),f.jsxs("p",{className:"text-gray-600 mb-4",children:["Thank you for registering for ",f.jsx("span",{className:"font-semibold",children:r.title}),"."]}),f.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Confirmation Email Sent!"}),f.jsx("p",{className:"text-xs text-blue-700",children:"A confirmation email with your trip details and signed waiver has been sent to:"}),f.jsx("p",{className:"text-sm font-semibold text-blue-900 mt-1",children:v[0].email}),v.length>1&&f.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Each passenger will receive their own confirmation email."})]})]})}),f.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E0F7FA"},children:[f.jsx("p",{className:"font-semibold mb-2",style:{color:Y.primary.teal},children:v.length===1?"Your Seat:":"Your Seats:"}),f.jsx("p",{className:"text-lg font-bold",children:v.map(M=>`#${M.seatNumber}`).join(", ")})]}),f.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[f.jsx("p",{children:"Please check your email inbox and spam folder."}),f.jsx("p",{className:"mt-2",children:"If you don't receive the email within 10 minutes, please contact support."})]})]})}):f.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:[f.jsx(gN,{showLogout:!1,title:r.title,subtitle:(k=r.date)==null?void 0:k.toDate().toLocaleDateString(n==="ru"?"ru-RU":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),f.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:f.jsxs("form",{onSubmit:D,className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Number of Seats"}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many seats do you need? *"}),f.jsx("select",{value:y,onChange:M=>S(parseInt(M.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(M=>f.jsxs("option",{value:M,children:[M," ",M===1?"seat":"seats"]},M))})]})]}),v.map((M,q)=>f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Passenger ",q+1," Information"]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),f.jsx("input",{type:"text",value:M.firstName,onChange:j=>{const G=[...v];G[q].firstName=j.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}FirstName`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}FirstName`]&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}FirstName`]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),f.jsx("input",{type:"text",value:M.lastName,onChange:j=>{const G=[...v];G[q].lastName=j.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}LastName`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}LastName`]&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}LastName`]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),f.jsx("input",{type:"email",value:M.email,onChange:j=>{const G=[...v];G[q].email=j.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}Email`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}Email`]&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}Email`]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),f.jsx("input",{type:"tel",value:M.phone,onChange:j=>{const G=[...v];G[q].phone=j.target.value,_(G)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}Phone`]?"border-red-500":"border-gray-300"}`}),E[`passenger${q}Phone`]&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}Phone`]})]})]})]},q)),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Method"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:x==="card"?Y.primary.teal:"#D1D5DB"},children:[f.jsx("input",{type:"radio",value:"card",checked:x==="card",onChange:M=>N(M.target.value),className:"mr-3",style:{accentColor:Y.primary.teal}}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),f.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),f.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:x==="on-trip"?Y.primary.teal:"#D1D5DB"},children:[f.jsx("input",{type:"radio",value:"on-trip",checked:x==="on-trip",onChange:M=>N(M.target.value),className:"mr-3",style:{accentColor:Y.primary.teal}}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),f.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Seats to Passengers *"}),f.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a seat for each passenger from the dropdown below."}),v.map((M,q)=>{const j=r.vehicleLayout,G=j==="sprinter_15"?14:j==="bus_30"?11:7;return f.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Seat for Passenger ",q+1,": ",M.firstName||"(Not entered)"," ",M.lastName||""," *"]}),f.jsxs("select",{value:M.seatNumber||"",onChange:W=>{const X=[...v];X[q].seatNumber=W.target.value?parseInt(W.target.value):null,_(X)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${E[`passenger${q}Seat`]?"border-red-500":"border-gray-300"}`,children:[f.jsx("option",{value:"",children:"Select a seat"}),Array.from({length:G},(W,X)=>X+1).map(W=>{const X=a.some(ht=>ht.seatNumber===W),se=v.some((ht,zt)=>zt!==q&&ht.seatNumber===W),ct=X||se;return f.jsxs("option",{value:W,disabled:ct,children:["Seat #",W," ",X?"(Occupied)":se?"(Selected for another passenger)":""]},W)})]}),E[`passenger${q}Seat`]&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:E[`passenger${q}Seat`]})]},q)}),f.jsxs("div",{className:"mt-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seating Map - Click to Select Seats"}),f.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tap on available (gray) seats to assign them to your passengers"}),v.some(M=>!M.seatNumber)&&f.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:f.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: Select seat for Passenger ",v.findIndex(M=>!M.seatNumber)+1,((w=v[v.findIndex(M=>!M.seatNumber)])==null?void 0:w.firstName)&&` (${v[v.findIndex(M=>!M.seatNumber)].firstName})`]})}),f.jsx(mN,{vehicleType:r.vehicleLayout,registrations:a,driverName:r.driverName,selectedSeat:null,onSeatClick:M=>{const q=v.findIndex(j=>!j.seatNumber);if(q!==-1){const j=[...v];j[q].seatNumber=M,_(j)}},reservedSeats:v.map(M=>M.seatNumber).filter(Boolean)}),v.some(M=>M.seatNumber)&&f.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Seats:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((M,q)=>M.seatNumber&&f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded-full text-sm",children:[f.jsxs("span",{className:"font-semibold",children:["#",M.seatNumber]}),f.jsx("span",{className:"text-gray-600",children:M.firstName||`Passenger ${q+1}`}),f.jsx("button",{type:"button",onClick:()=>{const j=[...v];j[q].seatNumber=null,_(j)},className:"text-red-500 hover:text-red-700",children:""})]},q))})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation Policy"}),f.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto mb-4",children:f.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:F9})}),f.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:L.cancellationPolicy,onChange:M=>F({...L,cancellationPolicy:M.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the cancellation policy *"})]}),E.cancellationPolicy&&f.jsx("p",{className:"text-red-500 text-sm mt-2",children:E.cancellationPolicy})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[f.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Waiver of Liability"}),f.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto mb-4",children:f.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:q9})}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digital Signature *"}),f.jsx("div",{className:`border-2 rounded-lg ${E.signature?"border-red-500":"border-gray-300"}`,children:f.jsx(pd,{ref:e,canvasProps:{className:"w-full h-40 bg-white rounded-lg"}})}),f.jsx("button",{type:"button",onClick:()=>{var M;return(M=e.current)==null?void 0:M.clear()},className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Clear Signature"}),E.signature&&f.jsx("p",{className:"text-red-500 text-sm mt-1",children:E.signature})]}),f.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:L.waiver,onChange:M=>F({...L,waiver:M.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),f.jsx("span",{className:"text-sm text-gray-700",children:"I have read, understand, and agree to the waiver of liability *"})]}),E.waiver&&f.jsx("p",{className:"text-red-500 text-sm mt-2",children:E.waiver})]}),E.submit&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:E.submit}),f.jsx("button",{type:"submit",disabled:c,style:{backgroundColor:Y.primary.teal},className:"w-full text-white py-4 rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Complete Registration"})]})})]}):f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx(d4,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),f.jsx("p",{className:"text-gray-600 mb-4",children:"This trip link may be invalid or expired."}),f.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[f.jsxs("p",{className:"text-sm text-gray-700",children:[f.jsx("strong",{children:"Trip ID:"})," ",t]}),f.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If you believe this is an error, please contact the trip organizer."})]})]})})},G9=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[i,a]=O.useState(""),[s,o]=O.useState(!1),u=Au(),c=async h=>{h.preventDefault(),a(""),o(!0);try{await W3(Wv,t,n),u("/")}catch(m){a("Invalid email or password"),console.error(m)}finally{o(!1)}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:Y.gradient.primary},children:f.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[f.jsx("div",{className:"flex items-center justify-center mb-8",children:f.jsx(D4,{className:"w-12 h-12",style:{color:Y.primary.teal}})}),f.jsx("h1",{className:"text-3xl font-bold text-center mb-8",style:{color:Y.primary.black},children:"Admin Login"}),f.jsxs("form",{onSubmit:c,className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),f.jsx("input",{type:"email",value:t,onChange:h=>e(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),f.jsx("input",{type:"password",value:n,onChange:h=>r(h.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),i&&f.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:i}),f.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:Y.primary.teal},className:"w-full text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]})]})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function $9(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(h){try{c(r.next(h))}catch(m){s(m)}}function u(h){try{c(r.throw(h))}catch(m){s(m)}}function c(h){h.done?a(h.value):i(h.value).then(o,u)}c((r=r.apply(t,[])).next())})}function Y9(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(h){return u([c,h])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(h){c=[6,h],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ds=function(){return Ds=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ds.apply(this,arguments)},EN=function(t){return{loading:t==null,value:t}},K9=function(){return function(t,e){switch(e.type){case"error":return Ds(Ds({},t),{error:e.error,loading:!1,value:void 0});case"reset":return EN(e.defaultValue);case"value":return Ds(Ds({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},W9=function(t){var e=t?t():void 0,n=O.useReducer(K9(),EN(e)),r=n[0],i=n[1],a=O.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),s=O.useCallback(function(u){i({type:"error",error:u})},[]),o=O.useCallback(function(u){i({type:"value",value:u})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:s,setValue:o,value:r.value}},[r.error,r.loading,a,s,o,r.value])},Q9=function(t,e){var n=W9(function(){return t.currentUser}),r=n.error,i=n.loading,a=n.setError,s=n.setValue,o=n.value;return O.useEffect(function(){var u=J3(t,function(c){return $9(void 0,void 0,void 0,function(){var h;return Y9(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return m.sent(),[3,4];case 3:return h=m.sent(),a(h),[3,4];case 4:return s(c),[2]}})})},a);return function(){u()}},[t]),[o,i,r]};const X9=({children:t})=>{const[e,n]=Q9(Wv);return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:f.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:f.jsx(kD,{to:"/login"})};function J9(){return f.jsx(_9,{children:f.jsx(aO,{basename:"/PlanYourTripNow",children:f.jsxs(PD,{children:[f.jsx(Yc,{path:"/login",element:f.jsx(G9,{})}),f.jsx(Yc,{path:"/register/:tripId",element:f.jsx(H9,{})}),f.jsx(Yc,{path:"/",element:f.jsx(X9,{children:f.jsx(S9,{})})})]})})})}VI.createRoot(document.getElementById("root")).render(f.jsx(O.StrictMode,{children:f.jsx(J9,{})}));
