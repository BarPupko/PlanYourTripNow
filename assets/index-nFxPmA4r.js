(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var PI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function nd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lx={exports:{}},rd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jI=Symbol.for("react.transitional.element"),LI=Symbol.for("react.fragment");function Vx(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:jI,type:t,key:r,ref:e!==void 0?e:null,props:n}}rd.Fragment=LI;rd.jsx=Vx;rd.jsxs=Vx;Lx.exports=rd;var h=Lx.exports,Ux={exports:{}},ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=Symbol.for("react.transitional.element"),VI=Symbol.for("react.portal"),UI=Symbol.for("react.fragment"),BI=Symbol.for("react.strict_mode"),zI=Symbol.for("react.profiler"),$I=Symbol.for("react.consumer"),FI=Symbol.for("react.context"),qI=Symbol.for("react.forward_ref"),HI=Symbol.for("react.suspense"),GI=Symbol.for("react.memo"),Bx=Symbol.for("react.lazy"),YI=Symbol.for("react.activity"),I1=Symbol.iterator;function WI(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var zx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$x=Object.assign,Fx={};function jo(t,e,n){this.props=t,this.context=e,this.refs=Fx,this.updater=n||zx}jo.prototype.isReactComponent={};jo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qx(){}qx.prototype=jo.prototype;function $y(t,e,n){this.props=t,this.context=e,this.refs=Fx,this.updater=n||zx}var Fy=$y.prototype=new qx;Fy.constructor=$y;$x(Fy,jo.prototype);Fy.isPureReactComponent=!0;var O1=Array.isArray;function Yp(){}var Pe={H:null,A:null,T:null,S:null},Hx=Object.prototype.hasOwnProperty;function qy(t,e,n){var r=n.ref;return{$$typeof:zy,type:t,key:e,ref:r!==void 0?r:null,props:n}}function KI(t,e){return qy(t.type,e,t.props)}function Hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===zy}function QI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var D1=/\/+/g;function Om(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QI(""+t.key):e.toString(36)}function XI(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Yp,Yp):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Os(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zy:case VI:s=!0;break;case Bx:return s=t._init,Os(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+Om(t,0):r,O1(i)?(n="",s!=null&&(n=s.replace(D1,"$&/")+"/"),Os(i,e,n,"",function(c){return c})):i!=null&&(Hy(i)&&(i=KI(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(D1,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(O1(t))for(var u=0;u<t.length;u++)r=t[u],a=o+Om(r,u),s+=Os(r,e,n,a,i);else if(u=WI(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,a=o+Om(r,u++),s+=Os(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Os(XI(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function qc(t,e,n){if(t==null)return t;var r=[],i=0;return Os(t,r,"","",function(a){return e.call(n,a,i++)}),r}function JI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var k1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ZI={map:qc,forEach:function(t,e,n){qc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qc(t,function(){e++}),e},toArray:function(t){return qc(t,function(e){return e})||[]},only:function(t){if(!Hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Activity=YI;ie.Children=ZI;ie.Component=jo;ie.Fragment=UI;ie.Profiler=zI;ie.PureComponent=$y;ie.StrictMode=BI;ie.Suspense=HI;ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pe;ie.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pe.H.useMemoCache(t)}};ie.cache=function(t){return function(){return t.apply(null,arguments)}};ie.cacheSignal=function(){return null};ie.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=$x({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!Hx.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return qy(t.type,i,r)};ie.createContext=function(t){return t={$$typeof:FI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:$I,_context:t},t};ie.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)Hx.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),u=0;u<s;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return qy(t,a,i)};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:qI,render:t}};ie.isValidElement=Hy;ie.lazy=function(t){return{$$typeof:Bx,_payload:{_status:-1,_result:t},_init:JI}};ie.memo=function(t,e){return{$$typeof:GI,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=Pe.T,n={};Pe.T=n;try{var r=t(),i=Pe.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Yp,k1)}catch(a){k1(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Pe.T=e}};ie.unstable_useCacheRefresh=function(){return Pe.H.useCacheRefresh()};ie.use=function(t){return Pe.H.use(t)};ie.useActionState=function(t,e,n){return Pe.H.useActionState(t,e,n)};ie.useCallback=function(t,e){return Pe.H.useCallback(t,e)};ie.useContext=function(t){return Pe.H.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t,e){return Pe.H.useDeferredValue(t,e)};ie.useEffect=function(t,e){return Pe.H.useEffect(t,e)};ie.useEffectEvent=function(t){return Pe.H.useEffectEvent(t)};ie.useId=function(){return Pe.H.useId()};ie.useImperativeHandle=function(t,e,n){return Pe.H.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Pe.H.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Pe.H.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Pe.H.useMemo(t,e)};ie.useOptimistic=function(t,e){return Pe.H.useOptimistic(t,e)};ie.useReducer=function(t,e,n){return Pe.H.useReducer(t,e,n)};ie.useRef=function(t){return Pe.H.useRef(t)};ie.useState=function(t){return Pe.H.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Pe.H.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Pe.H.useTransition()};ie.version="19.2.3";Ux.exports=ie;var O=Ux.exports;const eO=nd(O);var Gx={exports:{}},id={},Yx={exports:{}},Wx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,z){var q=M.length;M.push(z);e:for(;0<q;){var K=q-1>>>1,X=M[K];if(0<i(X,z))M[K]=z,M[q]=X,q=K;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var z=M[0],q=M.pop();if(q!==z){M[0]=q;e:for(var K=0,X=M.length,xe=X>>>1;K<xe;){var ut=2*(K+1)-1,qt=M[ut],Qe=ut+1,Ht=M[Qe];if(0>i(qt,q))Qe<X&&0>i(Ht,qt)?(M[K]=Ht,M[Qe]=q,K=Qe):(M[K]=qt,M[ut]=q,K=ut);else if(Qe<X&&0>i(Ht,q))M[K]=Ht,M[Qe]=q,K=Qe;else break e}}return z}function i(M,z){var q=M.sortIndex-z.sortIndex;return q!==0?q:M.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],c=[],f=1,m=null,p=3,y=!1,w=!1,I=!1,C=!1,v=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function N(M){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=M)r(c),z.sortIndex=z.expirationTime,e(u,z);else break;z=n(c)}}function L(M){if(I=!1,N(M),!w)if(n(u)!==null)w=!0,F||(F=!0,k());else{var z=n(c);z!==null&&te(L,z.startTime-M)}}var F=!1,A=-1,E=5,x=-1;function R(){return C?!0:!(t.unstable_now()-x<E)}function D(){if(C=!1,F){var M=t.unstable_now();x=M;var z=!0;try{e:{w=!1,I&&(I=!1,_(A),A=-1),y=!0;var q=p;try{t:{for(N(M),m=n(u);m!==null&&!(m.expirationTime>M&&R());){var K=m.callback;if(typeof K=="function"){m.callback=null,p=m.priorityLevel;var X=K(m.expirationTime<=M);if(M=t.unstable_now(),typeof X=="function"){m.callback=X,N(M),z=!0;break t}m===n(u)&&r(u),N(M)}else r(u);m=n(u)}if(m!==null)z=!0;else{var xe=n(c);xe!==null&&te(L,xe.startTime-M),z=!1}}break e}finally{m=null,p=q,y=!1}z=void 0}}finally{z?k():F=!1}}}var k;if(typeof S=="function")k=function(){S(D)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,$=T.port2;T.port1.onmessage=D,k=function(){$.postMessage(null)}}else k=function(){v(D,0)};function te(M,z){A=v(function(){M(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var q=p;p=z;try{return M()}finally{p=q}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=p;p=M;try{return z()}finally{p=q}},t.unstable_scheduleCallback=function(M,z,q){var K=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?K+q:K):q=K,M){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=q+X,M={id:f++,callback:z,priorityLevel:M,startTime:q,expirationTime:X,sortIndex:-1},q>K?(M.sortIndex=q,e(c,M),n(u)===null&&M===n(c)&&(I?(_(A),A=-1):I=!0,te(L,q-K))):(M.sortIndex=X,e(u,M),w||y||(w=!0,F||(F=!0,k()))),M},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(M){var z=p;return function(){var q=p;p=z;try{return M.apply(this,arguments)}finally{p=q}}}})(Wx);Yx.exports=Wx;var tO=Yx.exports,Kx={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nO=O;function Qx(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function mi(){}var Bt={d:{f:mi,r:function(){throw Error(Qx(522))},D:mi,C:mi,L:mi,m:mi,X:mi,S:mi,M:mi},p:0,findDOMNode:null},rO=Symbol.for("react.portal");function iO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rO,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var eu=nO.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ad(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Bt;$t.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Qx(299));return iO(t,e,null,n)};$t.flushSync=function(t){var e=eu.T,n=Bt.p;try{if(eu.T=null,Bt.p=2,t)return t()}finally{eu.T=e,Bt.p=n,Bt.d.f()}};$t.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Bt.d.C(t,e))};$t.prefetchDNS=function(t){typeof t=="string"&&Bt.d.D(t)};$t.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=ad(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Bt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Bt.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};$t.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ad(e.as,e.crossOrigin);Bt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Bt.d.M(t)};$t.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=ad(n,e.crossOrigin);Bt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};$t.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ad(e.as,e.crossOrigin);Bt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Bt.d.m(t)};$t.requestFormReset=function(t){Bt.d.r(t)};$t.unstable_batchedUpdates=function(t,e){return t(e)};$t.useFormState=function(t,e,n){return eu.H.useFormState(t,e,n)};$t.useFormStatus=function(){return eu.H.useHostTransitionStatus()};$t.version="19.2.3";function Xx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xx)}catch(t){console.error(t)}}Xx(),Kx.exports=$t;var aO=Kx.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mt=tO,Jx=O,sO=aO;function U(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tT(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M1(t){if(Yu(t)!==t)throw Error(U(188))}function oO(t){var e=t.alternate;if(!e){if(e=Yu(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return M1(i),t;if(a===r)return M1(i),e;a=a.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function nT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=nT(t),e!==null)return e;t=t.sibling}return null}var je=Object.assign,lO=Symbol.for("react.element"),Hc=Symbol.for("react.transitional.element"),zl=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),rT=Symbol.for("react.strict_mode"),Wp=Symbol.for("react.profiler"),iT=Symbol.for("react.consumer"),Dr=Symbol.for("react.context"),Gy=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Qp=Symbol.for("react.suspense_list"),Yy=Symbol.for("react.memo"),gi=Symbol.for("react.lazy"),Xp=Symbol.for("react.activity"),uO=Symbol.for("react.memo_cache_sentinel"),P1=Symbol.iterator;function Il(t){return t===null||typeof t!="object"?null:(t=P1&&t[P1]||t["@@iterator"],typeof t=="function"?t:null)}var cO=Symbol.for("react.client.reference");function Jp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===cO?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bs:return"Fragment";case Wp:return"Profiler";case rT:return"StrictMode";case Kp:return"Suspense";case Qp:return"SuspenseList";case Xp:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case zl:return"Portal";case Dr:return t.displayName||"Context";case iT:return(t._context.displayName||"Context")+".Consumer";case Gy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yy:return e=t.displayName||null,e!==null?e:Jp(t.type)||"Memo";case gi:e=t._payload,t=t._init;try{return Jp(t(e))}catch{}}return null}var $l=Array.isArray,ee=Jx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=sO.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,La={pending:!1,data:null,method:null,action:null},Zp=[],zs=-1;function _r(t){return{current:t}}function bt(t){0>zs||(t.current=Zp[zs],Zp[zs]=null,zs--)}function Ie(t,e){zs++,Zp[zs]=t.current,t.current=e}var cr=_r(null),bu=_r(null),ki=_r(null),Xh=_r(null);function Jh(t,e){switch(Ie(ki,e),Ie(bu,t),Ie(cr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?zb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=zb(e),t=TA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}bt(cr),Ie(cr,t)}function go(){bt(cr),bt(bu),bt(ki)}function eg(t){t.memoizedState!==null&&Ie(Xh,t);var e=cr.current,n=TA(e,t.type);e!==n&&(Ie(bu,t),Ie(cr,n))}function Zh(t){bu.current===t&&(bt(cr),bt(bu)),Xh.current===t&&(bt(Xh),Ou._currentValue=La)}var Dm,j1;function Ia(t){if(Dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dm=e&&e[1]||"",j1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dm+t+j1}var km=!1;function Mm(t,e){if(!t||km)return"";km=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){p=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var u=s.split(`
`),c=o.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var f=`
`+u[r].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=r&&0<=i);break}}}finally{km=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ia(n):""}function hO(t,e){switch(t.tag){case 26:case 27:case 5:return Ia(t.type);case 16:return Ia("Lazy");case 13:return t.child!==e&&e!==null?Ia("Suspense Fallback"):Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return Mm(t.type,!1);case 11:return Mm(t.type.render,!1);case 1:return Mm(t.type,!0);case 31:return Ia("Activity");default:return""}}function L1(t){try{var e="",n=null;do e+=hO(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var tg=Object.prototype.hasOwnProperty,Wy=mt.unstable_scheduleCallback,Pm=mt.unstable_cancelCallback,fO=mt.unstable_shouldYield,dO=mt.unstable_requestPaint,mn=mt.unstable_now,mO=mt.unstable_getCurrentPriorityLevel,aT=mt.unstable_ImmediatePriority,sT=mt.unstable_UserBlockingPriority,ef=mt.unstable_NormalPriority,pO=mt.unstable_LowPriority,oT=mt.unstable_IdlePriority,gO=mt.log,yO=mt.unstable_setDisableYieldValue,Wu=null,pn=null;function Ni(t){if(typeof gO=="function"&&yO(t),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Wu,t)}catch{}}var gn=Math.clz32?Math.clz32:bO,vO=Math.log,_O=Math.LN2;function bO(t){return t>>>=0,t===0?32:31-(vO(t)/_O|0)|0}var Gc=256,Yc=262144,Wc=4194304;function Oa(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sd(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=Oa(r):(s&=o,s!==0?i=Oa(s):n||(n=o&~t,n!==0&&(i=Oa(n))))):(o=r&~a,o!==0?i=Oa(o):s!==0?i=Oa(s):n||(n=r&~t,n!==0&&(i=Oa(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Ku(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function EO(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lT(){var t=Wc;return Wc<<=1,!(Wc&62914560)&&(Wc=4194304),t}function jm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Qu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wO(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var f=31-gn(n),m=1<<f;o[f]=0,u[f]=-1;var p=c[f];if(p!==null)for(c[f]=null,f=0;f<p.length;f++){var y=p[f];y!==null&&(y.lane&=-536870913)}n&=~m}r!==0&&uT(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function uT(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-gn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function cT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function hT(t,e){var n=e&-e;return n=n&42?1:Ky(n),n&(t.suspendedLanes|e)?0:n}function Ky(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qy(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function fT(){var t=_e.p;return t!==0?t:(t=window.event,t===void 0?32:PA(t.type))}function V1(t,e){var n=_e.p;try{return _e.p=t,e()}finally{_e.p=n}}var sa=Math.random().toString(36).slice(2),St="__reactFiber$"+sa,tn="__reactProps$"+sa,Lo="__reactContainer$"+sa,ng="__reactEvents$"+sa,xO="__reactListeners$"+sa,TO="__reactHandles$"+sa,U1="__reactResources$"+sa,Xu="__reactMarker$"+sa;function Xy(t){delete t[St],delete t[tn],delete t[ng],delete t[xO],delete t[TO]}function $s(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Lo]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gb(t);t!==null;){if(n=t[St])return n;t=Gb(t)}return e}t=n,n=t.parentNode}return null}function Vo(t){if(t=t[St]||t[Lo]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Fl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(U(33))}function ro(t){var e=t[U1];return e||(e=t[U1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _t(t){t[Xu]=!0}var dT=new Set,mT={};function rs(t,e){yo(t,e),yo(t+"Capture",e)}function yo(t,e){for(mT[t]=e,t=0;t<e.length;t++)dT.add(e[t])}var SO=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),B1={},z1={};function AO(t){return tg.call(z1,t)?!0:tg.call(B1,t)?!1:SO.test(t)?z1[t]=!0:(B1[t]=!0,!1)}function wh(t,e,n){if(AO(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Kc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Sr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function Tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NO(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rg(t){if(!t._valueTracker){var e=pT(t)?"checked":"value";t._valueTracker=NO(t,e,""+t[e])}}function gT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var RO=/[\n"\\]/g;function Nn(t){return t.replace(RO,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ig(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Tn(e)):t.value!==""+Tn(e)&&(t.value=""+Tn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?ag(t,s,Tn(e)):n!=null?ag(t,s,Tn(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Tn(o):t.removeAttribute("name")}function yT(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){rg(t);return}n=n!=null?""+Tn(n):"",e=e!=null?""+Tn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),rg(t)}function ag(t,e,n){e==="number"&&tf(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function io(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vT(t,e,n){if(e!=null&&(e=""+Tn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Tn(n):""}function _T(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(U(92));if($l(r)){if(1<r.length)throw Error(U(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Tn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),rg(t)}function vo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var CO=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||CO.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function bT(t,e,n){if(e!=null&&typeof e!="object")throw Error(U(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&$1(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&$1(t,a,e[a])}function Jy(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IO=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),OO=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xh(t){return OO.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kr(){}var sg=null;function Zy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fs=null,ao=null;function F1(t){var e=Vo(t);if(e&&(t=e.stateNode)){var n=t[tn]||null;e:switch(t=e.stateNode,e.type){case"input":if(ig(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[tn]||null;if(!i)throw Error(U(90));ig(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&gT(r)}break e;case"textarea":vT(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}}}var Lm=!1;function ET(t,e,n){if(Lm)return t(e,n);Lm=!0;try{var r=t(e);return r}finally{if(Lm=!1,(Fs!==null||ao!==null)&&(vd(),Fs&&(e=Fs,t=ao,ao=Fs=null,F1(e),t)))for(e=0;e<t.length;e++)F1(t[e])}}function Eu(t,e){var n=t.stateNode;if(n===null)return null;var r=n[tn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),og=!1;if(qr)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){og=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{og=!1}var Ri=null,ev=null,Th=null;function wT(){if(Th)return Th;var t,e=ev,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Th=i.slice(t,1<r?1-r:void 0)}function Sh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Qc(){return!0}function q1(){return!1}function nn(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Qc:q1,this.isPropagationStopped=q1,this}return je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qc)},persist:function(){},isPersistent:Qc}),e}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},od=nn(is),Ju=je({},is,{view:0,detail:0}),DO=nn(Ju),Vm,Um,Dl,ld=je({},Ju,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dl&&(Dl&&t.type==="mousemove"?(Vm=t.screenX-Dl.screenX,Um=t.screenY-Dl.screenY):Um=Vm=0,Dl=t),Vm)},movementY:function(t){return"movementY"in t?t.movementY:Um}}),H1=nn(ld),kO=je({},ld,{dataTransfer:0}),MO=nn(kO),PO=je({},Ju,{relatedTarget:0}),Bm=nn(PO),jO=je({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),LO=nn(jO),VO=je({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UO=nn(VO),BO=je({},is,{data:0}),G1=nn(BO),zO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$O={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FO[t])?!!e[t]:!1}function tv(){return qO}var HO=je({},Ju,{key:function(t){if(t.key){var e=zO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$O[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tv,charCode:function(t){return t.type==="keypress"?Sh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GO=nn(HO),YO=je({},ld,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=nn(YO),WO=je({},Ju,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tv}),KO=nn(WO),QO=je({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),XO=nn(QO),JO=je({},ld,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ZO=nn(JO),eD=je({},is,{newState:0,oldState:0}),tD=nn(eD),nD=[9,13,27,32],nv=qr&&"CompositionEvent"in window,tu=null;qr&&"documentMode"in document&&(tu=document.documentMode);var rD=qr&&"TextEvent"in window&&!tu,xT=qr&&(!nv||tu&&8<tu&&11>=tu),W1=" ",K1=!1;function TT(t,e){switch(t){case"keyup":return nD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ST(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qs=!1;function iD(t,e){switch(t){case"compositionend":return ST(e);case"keypress":return e.which!==32?null:(K1=!0,W1);case"textInput":return t=e.data,t===W1&&K1?null:t;default:return null}}function aD(t,e){if(qs)return t==="compositionend"||!nv&&TT(t,e)?(t=wT(),Th=ev=Ri=null,qs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xT&&e.locale!=="ko"?null:e.data;default:return null}}var sD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sD[t.type]:e==="textarea"}function AT(t,e,n,r){Fs?ao?ao.push(r):ao=[r]:Fs=r,e=bf(e,"onChange"),0<e.length&&(n=new od("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nu=null,wu=null;function oD(t){EA(t,0)}function ud(t){var e=Fl(t);if(gT(e))return t}function X1(t,e){if(t==="change")return e}var NT=!1;if(qr){var zm;if(qr){var $m="oninput"in document;if(!$m){var J1=document.createElement("div");J1.setAttribute("oninput","return;"),$m=typeof J1.oninput=="function"}zm=$m}else zm=!1;NT=zm&&(!document.documentMode||9<document.documentMode)}function Z1(){nu&&(nu.detachEvent("onpropertychange",RT),wu=nu=null)}function RT(t){if(t.propertyName==="value"&&ud(wu)){var e=[];AT(e,wu,t,Zy(t)),ET(oD,e)}}function lD(t,e,n){t==="focusin"?(Z1(),nu=e,wu=n,nu.attachEvent("onpropertychange",RT)):t==="focusout"&&Z1()}function uD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ud(wu)}function cD(t,e){if(t==="click")return ud(e)}function hD(t,e){if(t==="input"||t==="change")return ud(e)}function fD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _n=typeof Object.is=="function"?Object.is:fD;function xu(t,e){if(_n(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tg.call(e,i)||!_n(t[i],e[i]))return!1}return!0}function eb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tb(t,e){var n=eb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eb(n)}}function CT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IT(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=tf(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tf(t.document)}return e}function rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var dD=qr&&"documentMode"in document&&11>=document.documentMode,Hs=null,lg=null,ru=null,ug=!1;function nb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ug||Hs==null||Hs!==tf(r)||(r=Hs,"selectionStart"in r&&rv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ru&&xu(ru,r)||(ru=r,r=bf(lg,"onSelect"),0<r.length&&(e=new od("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Hs)))}function Ca(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Gs={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionrun:Ca("Transition","TransitionRun"),transitionstart:Ca("Transition","TransitionStart"),transitioncancel:Ca("Transition","TransitionCancel"),transitionend:Ca("Transition","TransitionEnd")},Fm={},OT={};qr&&(OT=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function as(t){if(Fm[t])return Fm[t];if(!Gs[t])return t;var e=Gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in OT)return Fm[t]=e[n];return t}var DT=as("animationend"),kT=as("animationiteration"),MT=as("animationstart"),mD=as("transitionrun"),pD=as("transitionstart"),gD=as("transitioncancel"),PT=as("transitionend"),jT=new Map,cg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cg.push("scrollEnd");function Qn(t,e){jT.set(t,e),rs(e,[t])}var nf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xn=[],Ys=0,iv=0;function cd(){for(var t=Ys,e=iv=Ys=0;e<t;){var n=xn[e];xn[e++]=null;var r=xn[e];xn[e++]=null;var i=xn[e];xn[e++]=null;var a=xn[e];if(xn[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&LT(n,i,a)}}function hd(t,e,n,r){xn[Ys++]=t,xn[Ys++]=e,xn[Ys++]=n,xn[Ys++]=r,iv|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function av(t,e,n,r){return hd(t,e,n,r),rf(t)}function ss(t,e){return hd(t,null,null,e),rf(t)}function LT(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-gn(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function rf(t){if(50<fu)throw fu=0,Og=null,Error(U(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Ws={};function yD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,n,r){return new yD(t,e,n,r)}function sv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lr(t,e){var n=t.alternate;return n===null?(n=cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function VT(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Ah(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")sv(t)&&(s=1);else if(typeof t=="string")s=wk(t,n,cr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Xp:return t=cn(31,n,e,i),t.elementType=Xp,t.lanes=a,t;case Bs:return Va(n.children,i,a,e);case rT:s=8,i|=24;break;case Wp:return t=cn(12,n,e,i|2),t.elementType=Wp,t.lanes=a,t;case Kp:return t=cn(13,n,e,i),t.elementType=Kp,t.lanes=a,t;case Qp:return t=cn(19,n,e,i),t.elementType=Qp,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dr:s=10;break e;case iT:s=9;break e;case Gy:s=11;break e;case Yy:s=14;break e;case gi:s=16,r=null;break e}s=29,n=Error(U(130,t===null?"null":typeof t,"")),r=null}return e=cn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Va(t,e,n,r){return t=cn(7,t,r,e),t.lanes=n,t}function qm(t,e,n){return t=cn(6,t,null,e),t.lanes=n,t}function UT(t){var e=cn(18,null,null,0);return e.stateNode=t,e}function Hm(t,e,n){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var rb=new WeakMap;function Rn(t,e){if(typeof t=="object"&&t!==null){var n=rb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:L1(e)},rb.set(t,e),e)}return{value:t,source:e,stack:L1(e)}}var Ks=[],Qs=0,af=null,Tu=0,Sn=[],An=0,Wi=null,sr=1,or="";function Ir(t,e){Ks[Qs++]=Tu,Ks[Qs++]=af,af=t,Tu=e}function BT(t,e,n){Sn[An++]=sr,Sn[An++]=or,Sn[An++]=Wi,Wi=t;var r=sr;t=or;var i=32-gn(r)-1;r&=~(1<<i),n+=1;var a=32-gn(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,sr=1<<32-gn(e)+i|n<<i|r,or=a+t}else sr=1<<a|n<<i|r,or=t}function ov(t){t.return!==null&&(Ir(t,1),BT(t,1,0))}function lv(t){for(;t===af;)af=Ks[--Qs],Ks[Qs]=null,Tu=Ks[--Qs],Ks[Qs]=null;for(;t===Wi;)Wi=Sn[--An],Sn[An]=null,or=Sn[--An],Sn[An]=null,sr=Sn[--An],Sn[An]=null}function zT(t,e){Sn[An++]=sr,Sn[An++]=or,Sn[An++]=Wi,sr=e.id,or=e.overflow,Wi=t}var At=null,Me=null,pe=!1,Mi=null,Cn=!1,hg=Error(U(519));function Ki(t){var e=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Su(Rn(e,t)),hg}function ib(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[St]=t,e[tn]=r,n){case"dialog":ue("cancel",e),ue("close",e);break;case"iframe":case"object":case"embed":ue("load",e);break;case"video":case"audio":for(n=0;n<Cu.length;n++)ue(Cu[n],e);break;case"source":ue("error",e);break;case"img":case"image":case"link":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"input":ue("invalid",e),yT(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":ue("invalid",e);break;case"textarea":ue("invalid",e),_T(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||xA(e.textContent,n)?(r.popover!=null&&(ue("beforetoggle",e),ue("toggle",e)),r.onScroll!=null&&ue("scroll",e),r.onScrollEnd!=null&&ue("scrollend",e),r.onClick!=null&&(e.onclick=kr),e=!0):e=!1,e||Ki(t,!0)}function ab(t){for(At=t.return;At;)switch(At.tag){case 5:case 31:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:At=At.return}}function As(t){if(t!==At)return!1;if(!pe)return ab(t),pe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||jg(t.type,t.memoizedProps)),n=!n),n&&Me&&Ki(t),ab(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Me=Hb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));Me=Hb(t)}else e===27?(e=Me,oa(t.type)?(t=Bg,Bg=null,Me=t):Me=e):Me=At?Mn(t.stateNode.nextSibling):null;return!0}function Ga(){Me=At=null,pe=!1}function Gm(){var t=Mi;return t!==null&&(Kt===null?Kt=t:Kt.push.apply(Kt,t),Mi=null),t}function Su(t){Mi===null?Mi=[t]:Mi.push(t)}var fg=_r(null),os=null,Mr=null;function vi(t,e,n){Ie(fg,e._currentValue),e._currentValue=n}function Vr(t){t._currentValue=fg.current,bt(fg)}function dg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function mg(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var u=0;u<e.length;u++)if(o.context===e[u]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),dg(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(U(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),dg(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function Uo(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(U(387));if(s=s.memoizedProps,s!==null){var o=i.type;_n(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===Xh.current){if(s=i.alternate,s===null)throw Error(U(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Ou):t=[Ou])}i=i.return}t!==null&&mg(e,t,n,r),e.flags|=262144}function sf(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ya(t){os=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return $T(os,t)}function Xc(t,e){return os===null&&Ya(t),$T(t,e)}function $T(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Mr===null){if(t===null)throw Error(U(308));Mr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Mr=Mr.next=e;return n}var vD=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},_D=mt.unstable_scheduleCallback,bD=mt.unstable_NormalPriority,at={$$typeof:Dr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uv(){return{controller:new vD,data:new Map,refCount:0}}function Zu(t){t.refCount--,t.refCount===0&&_D(bD,function(){t.controller.abort()})}var iu=null,pg=0,_o=0,so=null;function ED(t,e){if(iu===null){var n=iu=[];pg=0,_o=Mv(),so={status:"pending",value:void 0,then:function(r){n.push(r)}}}return pg++,e.then(sb,sb),e}function sb(){if(--pg===0&&iu!==null){so!==null&&(so.status="fulfilled");var t=iu;iu=null,_o=0,so=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function wD(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var ob=ee.S;ee.S=function(t,e){nA=mn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&ED(t,e),ob!==null&&ob(t,e)};var Ua=_r(null);function cv(){var t=Ua.current;return t!==null?t:Ne.pooledCache}function Nh(t,e){e===null?Ie(Ua,Ua.current):Ie(Ua,e.pool)}function FT(){var t=cv();return t===null?null:{parent:at._currentValue,pool:t}}var Bo=Error(U(460)),hv=Error(U(474)),fd=Error(U(542)),of={then:function(){}};function lb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qT(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(kr,kr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cb(t),t;default:if(typeof e.status=="string")e.then(kr,kr);else{if(t=Ne,t!==null&&100<t.shellSuspendCounter)throw Error(U(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,cb(t),t}throw Ba=e,Bo}}function Da(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ba=n,Bo):n}}var Ba=null;function ub(){if(Ba===null)throw Error(U(459));var t=Ba;return Ba=null,t}function cb(t){if(t===Bo||t===fd)throw Error(U(483))}var oo=null,Au=0;function Jc(t){var e=Au;return Au+=1,oo===null&&(oo=[]),qT(oo,t,e)}function kl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Zc(t,e){throw e.$$typeof===lO?Error(U(525)):(t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function HT(t){function e(v,_){if(t){var S=v.deletions;S===null?(v.deletions=[_],v.flags|=16):S.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v){for(var _=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function i(v,_){return v=Lr(v,_),v.index=0,v.sibling=null,v}function a(v,_,S){return v.index=S,t?(S=v.alternate,S!==null?(S=S.index,S<_?(v.flags|=67108866,_):S):(v.flags|=67108866,_)):(v.flags|=1048576,_)}function s(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function o(v,_,S,N){return _===null||_.tag!==6?(_=qm(S,v.mode,N),_.return=v,_):(_=i(_,S),_.return=v,_)}function u(v,_,S,N){var L=S.type;return L===Bs?f(v,_,S.props.children,N,S.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gi&&Da(L)===_.type)?(_=i(_,S.props),kl(_,S),_.return=v,_):(_=Ah(S.type,S.key,S.props,null,v.mode,N),kl(_,S),_.return=v,_)}function c(v,_,S,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=Hm(S,v.mode,N),_.return=v,_):(_=i(_,S.children||[]),_.return=v,_)}function f(v,_,S,N,L){return _===null||_.tag!==7?(_=Va(S,v.mode,N,L),_.return=v,_):(_=i(_,S),_.return=v,_)}function m(v,_,S){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=qm(""+_,v.mode,S),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hc:return S=Ah(_.type,_.key,_.props,null,v.mode,S),kl(S,_),S.return=v,S;case zl:return _=Hm(_,v.mode,S),_.return=v,_;case gi:return _=Da(_),m(v,_,S)}if($l(_)||Il(_))return _=Va(_,v.mode,S,null),_.return=v,_;if(typeof _.then=="function")return m(v,Jc(_),S);if(_.$$typeof===Dr)return m(v,Xc(v,_),S);Zc(v,_)}return null}function p(v,_,S,N){var L=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return L!==null?null:o(v,_,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:return S.key===L?u(v,_,S,N):null;case zl:return S.key===L?c(v,_,S,N):null;case gi:return S=Da(S),p(v,_,S,N)}if($l(S)||Il(S))return L!==null?null:f(v,_,S,N,null);if(typeof S.then=="function")return p(v,_,Jc(S),N);if(S.$$typeof===Dr)return p(v,_,Xc(v,S),N);Zc(v,S)}return null}function y(v,_,S,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return v=v.get(S)||null,o(_,v,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Hc:return v=v.get(N.key===null?S:N.key)||null,u(_,v,N,L);case zl:return v=v.get(N.key===null?S:N.key)||null,c(_,v,N,L);case gi:return N=Da(N),y(v,_,S,N,L)}if($l(N)||Il(N))return v=v.get(S)||null,f(_,v,N,L,null);if(typeof N.then=="function")return y(v,_,S,Jc(N),L);if(N.$$typeof===Dr)return y(v,_,S,Xc(_,N),L);Zc(_,N)}return null}function w(v,_,S,N){for(var L=null,F=null,A=_,E=_=0,x=null;A!==null&&E<S.length;E++){A.index>E?(x=A,A=null):x=A.sibling;var R=p(v,A,S[E],N);if(R===null){A===null&&(A=x);break}t&&A&&R.alternate===null&&e(v,A),_=a(R,_,E),F===null?L=R:F.sibling=R,F=R,A=x}if(E===S.length)return n(v,A),pe&&Ir(v,E),L;if(A===null){for(;E<S.length;E++)A=m(v,S[E],N),A!==null&&(_=a(A,_,E),F===null?L=A:F.sibling=A,F=A);return pe&&Ir(v,E),L}for(A=r(A);E<S.length;E++)x=y(A,v,E,S[E],N),x!==null&&(t&&x.alternate!==null&&A.delete(x.key===null?E:x.key),_=a(x,_,E),F===null?L=x:F.sibling=x,F=x);return t&&A.forEach(function(D){return e(v,D)}),pe&&Ir(v,E),L}function I(v,_,S,N){if(S==null)throw Error(U(151));for(var L=null,F=null,A=_,E=_=0,x=null,R=S.next();A!==null&&!R.done;E++,R=S.next()){A.index>E?(x=A,A=null):x=A.sibling;var D=p(v,A,R.value,N);if(D===null){A===null&&(A=x);break}t&&A&&D.alternate===null&&e(v,A),_=a(D,_,E),F===null?L=D:F.sibling=D,F=D,A=x}if(R.done)return n(v,A),pe&&Ir(v,E),L;if(A===null){for(;!R.done;E++,R=S.next())R=m(v,R.value,N),R!==null&&(_=a(R,_,E),F===null?L=R:F.sibling=R,F=R);return pe&&Ir(v,E),L}for(A=r(A);!R.done;E++,R=S.next())R=y(A,v,E,R.value,N),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?E:R.key),_=a(R,_,E),F===null?L=R:F.sibling=R,F=R);return t&&A.forEach(function(k){return e(v,k)}),pe&&Ir(v,E),L}function C(v,_,S,N){if(typeof S=="object"&&S!==null&&S.type===Bs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Hc:e:{for(var L=S.key;_!==null;){if(_.key===L){if(L=S.type,L===Bs){if(_.tag===7){n(v,_.sibling),N=i(_,S.props.children),N.return=v,v=N;break e}}else if(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===gi&&Da(L)===_.type){n(v,_.sibling),N=i(_,S.props),kl(N,S),N.return=v,v=N;break e}n(v,_);break}else e(v,_);_=_.sibling}S.type===Bs?(N=Va(S.props.children,v.mode,N,S.key),N.return=v,v=N):(N=Ah(S.type,S.key,S.props,null,v.mode,N),kl(N,S),N.return=v,v=N)}return s(v);case zl:e:{for(L=S.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(v,_.sibling),N=i(_,S.children||[]),N.return=v,v=N;break e}else{n(v,_);break}else e(v,_);_=_.sibling}N=Hm(S,v.mode,N),N.return=v,v=N}return s(v);case gi:return S=Da(S),C(v,_,S,N)}if($l(S))return w(v,_,S,N);if(Il(S)){if(L=Il(S),typeof L!="function")throw Error(U(150));return S=L.call(S),I(v,_,S,N)}if(typeof S.then=="function")return C(v,_,Jc(S),N);if(S.$$typeof===Dr)return C(v,_,Xc(v,S),N);Zc(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,_!==null&&_.tag===6?(n(v,_.sibling),N=i(_,S),N.return=v,v=N):(n(v,_),N=qm(S,v.mode,N),N.return=v,v=N),s(v)):n(v,_)}return function(v,_,S,N){try{Au=0;var L=C(v,_,S,N);return oo=null,L}catch(A){if(A===Bo||A===fd)throw A;var F=cn(29,A,null,v.mode);return F.lanes=N,F.return=v,F}finally{}}}var Wa=HT(!0),GT=HT(!1),yi=!1;function fv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=rf(t),LT(t,null,n),e}return hd(t,r,e,n),rf(t)}function au(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cT(t,n)}}function Ym(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var yg=!1;function su(){if(yg){var t=so;if(t!==null)throw t}}function ou(t,e,n,r){yg=!1;var i=t.updateQueue;yi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==s&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;s=0,f=c=u=null,o=a;do{var p=o.lane&-536870913,y=p!==o.lane;if(y?(me&p)===p:(r&p)===p){p!==0&&p===_o&&(yg=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var w=t,I=o;p=e;var C=n;switch(I.tag){case 1:if(w=I.payload,typeof w=="function"){m=w.call(C,m,p);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=I.payload,p=typeof w=="function"?w.call(C,m,p):w,p==null)break e;m=je({},m,p);break e;case 2:yi=!0}}p=o.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[p]:y.push(p))}else y={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=y,u=m):f=f.next=y,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,a===null&&(i.shared.lanes=0),Xi|=s,t.lanes=s,t.memoizedState=m}}function YT(t,e){if(typeof t!="function")throw Error(U(191,t));t.call(e)}function WT(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)YT(n[t],e)}var bo=_r(null),lf=_r(0);function hb(t,e){t=Wr,Ie(lf,t),Ie(bo,e),Wr=t|e.baseLanes}function vg(){Ie(lf,Wr),Ie(bo,bo.current)}function dv(){Wr=lf.current,bt(bo),bt(lf)}var bn=_r(null),kn=null;function _i(t){var e=t.alternate;Ie(Je,Je.current&1),Ie(bn,t),kn===null&&(e===null||bo.current!==null||e.memoizedState!==null)&&(kn=t)}function _g(t){Ie(Je,Je.current),Ie(bn,t),kn===null&&(kn=t)}function KT(t){t.tag===22?(Ie(Je,Je.current),Ie(bn,t),kn===null&&(kn=t)):bi()}function bi(){Ie(Je,Je.current),Ie(bn,bn.current)}function un(t){bt(bn),kn===t&&(kn=null),bt(Je)}var Je=_r(0);function uf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Vg(n)||Ug(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hr=0,ae=null,Se=null,rt=null,cf=!1,lo=!1,Ka=!1,hf=0,Nu=0,uo=null,xD=0;function We(){throw Error(U(321))}function mv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_n(t[n],e[n]))return!1;return!0}function pv(t,e,n,r,i,a){return Hr=a,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ee.H=t===null||t.memoizedState===null?AS:Av,Ka=!1,a=n(r,i),Ka=!1,lo&&(a=XT(e,n,r,i)),QT(t),a}function QT(t){ee.H=Ru;var e=Se!==null&&Se.next!==null;if(Hr=0,rt=Se=ae=null,cf=!1,Nu=0,uo=null,e)throw Error(U(300));t===null||ot||(t=t.dependencies,t!==null&&sf(t)&&(ot=!0))}function XT(t,e,n,r){ae=t;var i=0;do{if(lo&&(uo=null),Nu=0,lo=!1,25<=i)throw Error(U(301));if(i+=1,rt=Se=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ee.H=NS,a=e(n,r)}while(lo);return a}function TD(){var t=ee.H,e=t.useState()[0];return e=typeof e.then=="function"?ec(e):e,t=t.useState()[0],(Se!==null?Se.memoizedState:null)!==t&&(ae.flags|=1024),e}function gv(){var t=hf!==0;return hf=0,t}function yv(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function vv(t){if(cf){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}cf=!1}Hr=0,rt=Se=ae=null,lo=!1,Nu=hf=0,uo=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ae.memoizedState=rt=t:rt=rt.next=t,rt}function et(){if(Se===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=rt===null?ae.memoizedState:rt.next;if(e!==null)rt=e,Se=t;else{if(t===null)throw ae.alternate===null?Error(U(467)):Error(U(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},rt===null?ae.memoizedState=rt=t:rt=rt.next=t}return rt}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ec(t){var e=Nu;return Nu+=1,uo===null&&(uo=[]),t=qT(uo,t,e),e=ae,(rt===null?e.memoizedState:rt.next)===null&&(e=e.alternate,ee.H=e===null||e.memoizedState===null?AS:Av),t}function md(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ec(t);if(t.$$typeof===Dr)return Ct(t)}throw Error(U(438,String(t)))}function _v(t){var e=null,n=ae.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ae.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=dd(),ae.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=uO;return e.index++,n}function Gr(t,e){return typeof e=="function"?e(t):e}function Rh(t){var e=et();return bv(e,Se,t)}function bv(t,e,n){var r=t.queue;if(r===null)throw Error(U(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(me&m)===m:(Hr&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===_o&&(f=!0);else if((Hr&p)===p){c=c.next,p===_o&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,s=a):u=u.next=m,ae.lanes|=p,Xi|=p;m=c.action,Ka&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else p={lane:m,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=p,s=a):u=u.next=p,ae.lanes|=m,Xi|=m;c=c.next}while(c!==null&&c!==e);if(u===null?s=a:u.next=o,!_n(a,t.memoizedState)&&(ot=!0,f&&(n=so,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=u,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Wm(t){var e=et(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);_n(a,e.memoizedState)||(ot=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function JT(t,e,n){var r=ae,i=et(),a=pe;if(a){if(n===void 0)throw Error(U(407));n=n()}else n=e();var s=!_n((Se||i).memoizedState,n);if(s&&(i.memoizedState=n,ot=!0),i=i.queue,Ev(tS.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||rt!==null&&rt.memoizedState.tag&1){if(r.flags|=2048,Eo(9,{destroy:void 0},eS.bind(null,r,i,n,e),null),Ne===null)throw Error(U(349));a||Hr&127||ZT(r,e,n)}return n}function ZT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e=dd(),ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function eS(t,e,n,r){e.value=n,e.getSnapshot=r,nS(e)&&rS(t)}function tS(t,e,n){return n(function(){nS(e)&&rS(t)})}function nS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_n(t,n)}catch{return!0}}function rS(t){var e=ss(t,2);e!==null&&Zt(e,t,2)}function bg(t){var e=Ut();if(typeof t=="function"){var n=t;if(t=n(),Ka){Ni(!0);try{n()}finally{Ni(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:t},e}function iS(t,e,n,r){return t.baseState=n,bv(t,Se,typeof r=="function"?r:Gr)}function SD(t,e,n,r,i){if(gd(t))throw Error(U(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ee.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,aS(e,a)):(a.next=n.next,e.pending=n.next=a)}}function aS(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=ee.T,s={};ee.T=s;try{var o=n(i,r),u=ee.S;u!==null&&u(s,o),fb(t,e,o)}catch(c){Eg(t,e,c)}finally{a!==null&&s.types!==null&&(a.types=s.types),ee.T=a}}else try{a=n(i,r),fb(t,e,a)}catch(c){Eg(t,e,c)}}function fb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){db(t,e,r)},function(r){return Eg(t,e,r)}):db(t,e,n)}function db(t,e,n){e.status="fulfilled",e.value=n,sS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,aS(t,n)))}function Eg(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,sS(e),e=e.next;while(e!==r)}t.action=null}function sS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function oS(t,e){return e}function mb(t,e){if(pe){var n=Ne.formState;if(n!==null){e:{var r=ae;if(pe){if(Me){t:{for(var i=Me,a=Cn;i.nodeType!==8;){if(!a){i=null;break t}if(i=Mn(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Me=Mn(i.nextSibling),r=i.data==="F!";break e}}Ki(r)}r=!1}r&&(e=n[0])}}return n=Ut(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oS,lastRenderedState:e},n.queue=r,n=xS.bind(null,ae,r),r.dispatch=n,r=bg(!1),a=Sv.bind(null,ae,!1,r.queue),r=Ut(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=SD.bind(null,ae,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function pb(t){var e=et();return lS(e,Se,t)}function lS(t,e,n){if(e=bv(t,e,oS)[0],t=Rh(Gr)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=ec(e)}catch(s){throw s===Bo?fd:s}else r=e;e=et();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ae.flags|=2048,Eo(9,{destroy:void 0},AD.bind(null,i,n),null)),[r,a,t]}function AD(t,e){t.action=e}function gb(t){var e=et(),n=Se;if(n!==null)return lS(e,n,t);et(),e=e.memoizedState,n=et();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Eo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ae.updateQueue,e===null&&(e=dd(),ae.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function uS(){return et().memoizedState}function Ch(t,e,n,r){var i=Ut();ae.flags|=t,i.memoizedState=Eo(1|e,{destroy:void 0},n,r===void 0?null:r)}function pd(t,e,n,r){var i=et();r=r===void 0?null:r;var a=i.memoizedState.inst;Se!==null&&r!==null&&mv(r,Se.memoizedState.deps)?i.memoizedState=Eo(e,a,n,r):(ae.flags|=t,i.memoizedState=Eo(1|e,a,n,r))}function yb(t,e){Ch(8390656,8,t,e)}function Ev(t,e){pd(2048,8,t,e)}function ND(t){ae.flags|=4;var e=ae.updateQueue;if(e===null)e=dd(),ae.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function cS(t){var e=et().memoizedState;return ND({ref:e,nextImpl:t}),function(){if(ve&2)throw Error(U(440));return e.impl.apply(void 0,arguments)}}function hS(t,e){return pd(4,2,t,e)}function fS(t,e){return pd(4,4,t,e)}function dS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mS(t,e,n){n=n!=null?n.concat([t]):null,pd(4,4,dS.bind(null,e,t),n)}function wv(){}function pS(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&mv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gS(t,e){var n=et();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&mv(e,r[1]))return r[0];if(r=t(),Ka){Ni(!0);try{t()}finally{Ni(!1)}}return n.memoizedState=[r,e],r}function xv(t,e,n){return n===void 0||Hr&1073741824&&!(me&261930)?t.memoizedState=e:(t.memoizedState=n,t=iA(),ae.lanes|=t,Xi|=t,n)}function yS(t,e,n,r){return _n(n,e)?n:bo.current!==null?(t=xv(t,n,r),_n(t,e)||(ot=!0),t):!(Hr&42)||Hr&1073741824&&!(me&261930)?(ot=!0,t.memoizedState=n):(t=iA(),ae.lanes|=t,Xi|=t,e)}function vS(t,e,n,r,i){var a=_e.p;_e.p=a!==0&&8>a?a:8;var s=ee.T,o={};ee.T=o,Sv(t,!1,e,n);try{var u=i(),c=ee.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=wD(u,r);lu(t,e,f,yn(t))}else lu(t,e,r,yn(t))}catch(m){lu(t,e,{then:function(){},status:"rejected",reason:m},yn())}finally{_e.p=a,s!==null&&o.types!==null&&(s.types=o.types),ee.T=s}}function RD(){}function wg(t,e,n,r){if(t.tag!==5)throw Error(U(476));var i=_S(t).queue;vS(t,i,e,La,n===null?RD:function(){return bS(t),n(r)})}function _S(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:La,baseState:La,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:La},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function bS(t){var e=_S(t);e.next===null&&(e=t.alternate.memoizedState),lu(t,e.next.queue,{},yn())}function Tv(){return Ct(Ou)}function ES(){return et().memoizedState}function wS(){return et().memoizedState}function CD(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=yn();t=Pi(n);var r=ji(e,t,n);r!==null&&(Zt(r,e,n),au(r,e,n)),e={cache:uv()},t.payload=e;return}e=e.return}}function ID(t,e,n){var r=yn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},gd(t)?TS(e,n):(n=av(t,e,n,r),n!==null&&(Zt(n,t,r),SS(n,e,r)))}function xS(t,e,n){var r=yn();lu(t,e,n,r)}function lu(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(gd(t))TS(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,_n(o,s))return hd(t,e,i,0),Ne===null&&cd(),!1}catch{}finally{}if(n=av(t,e,i,r),n!==null)return Zt(n,t,r),SS(n,e,r),!0}return!1}function Sv(t,e,n,r){if(r={lane:2,revertLane:Mv(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},gd(t)){if(e)throw Error(U(479))}else e=av(t,n,r,2),e!==null&&Zt(e,t,2)}function gd(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function TS(t,e){lo=cf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function SS(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,cT(t,n)}}var Ru={readContext:Ct,use:md,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};Ru.useEffectEvent=We;var AS={readContext:Ct,use:md,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:yb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Ch(4194308,4,dS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){Ch(4,2,t,e)},useMemo:function(t,e){var n=Ut();e=e===void 0?null:e;var r=t();if(Ka){Ni(!0);try{t()}finally{Ni(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Ut();if(n!==void 0){var i=n(e);if(Ka){Ni(!0);try{n(e)}finally{Ni(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=ID.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:function(t){t=bg(t);var e=t.queue,n=xS.bind(null,ae,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:wv,useDeferredValue:function(t,e){var n=Ut();return xv(n,t,e)},useTransition:function(){var t=bg(!1);return t=vS.bind(null,ae,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ae,i=Ut();if(pe){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ne===null)throw Error(U(349));me&127||ZT(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,yb(tS.bind(null,r,a,t),[t]),r.flags|=2048,Eo(9,{destroy:void 0},eS.bind(null,r,a,n,e),null),n},useId:function(){var t=Ut(),e=Ne.identifierPrefix;if(pe){var n=or,r=sr;n=(r&~(1<<32-gn(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=hf++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=xD++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Tv,useFormState:mb,useActionState:mb,useOptimistic:function(t){var e=Ut();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Sv.bind(null,ae,!0,n),n.dispatch=e,[t,e]},useMemoCache:_v,useCacheRefresh:function(){return Ut().memoizedState=CD.bind(null,ae)},useEffectEvent:function(t){var e=Ut(),n={impl:t};return e.memoizedState=n,function(){if(ve&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},Av={readContext:Ct,use:md,useCallback:pS,useContext:Ct,useEffect:Ev,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:gS,useReducer:Rh,useRef:uS,useState:function(){return Rh(Gr)},useDebugValue:wv,useDeferredValue:function(t,e){var n=et();return yS(n,Se.memoizedState,t,e)},useTransition:function(){var t=Rh(Gr)[0],e=et().memoizedState;return[typeof t=="boolean"?t:ec(t),e]},useSyncExternalStore:JT,useId:ES,useHostTransitionStatus:Tv,useFormState:pb,useActionState:pb,useOptimistic:function(t,e){var n=et();return iS(n,Se,t,e)},useMemoCache:_v,useCacheRefresh:wS};Av.useEffectEvent=cS;var NS={readContext:Ct,use:md,useCallback:pS,useContext:Ct,useEffect:Ev,useImperativeHandle:mS,useInsertionEffect:hS,useLayoutEffect:fS,useMemo:gS,useReducer:Wm,useRef:uS,useState:function(){return Wm(Gr)},useDebugValue:wv,useDeferredValue:function(t,e){var n=et();return Se===null?xv(n,t,e):yS(n,Se.memoizedState,t,e)},useTransition:function(){var t=Wm(Gr)[0],e=et().memoizedState;return[typeof t=="boolean"?t:ec(t),e]},useSyncExternalStore:JT,useId:ES,useHostTransitionStatus:Tv,useFormState:gb,useActionState:gb,useOptimistic:function(t,e){var n=et();return Se!==null?iS(n,Se,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:_v,useCacheRefresh:wS};NS.useEffectEvent=cS;function Km(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xg={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Pi(r);i.payload=e,n!=null&&(i.callback=n),e=ji(t,i,r),e!==null&&(Zt(e,t,r),au(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=yn(),i=Pi(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ji(t,i,r),e!==null&&(Zt(e,t,r),au(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yn(),r=Pi(n);r.tag=2,e!=null&&(r.callback=e),e=ji(t,r,n),e!==null&&(Zt(e,t,n),au(e,t,n))}};function vb(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!xu(n,r)||!xu(i,a):!0}function _b(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xg.enqueueReplaceState(e,e.state,null)}function Qa(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=je({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function RS(t){nf(t)}function CS(t){console.error(t)}function IS(t){nf(t)}function ff(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function bb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Tg(t,e,n){return n=Pi(n),n.tag=3,n.payload={element:null},n.callback=function(){ff(t,e)},n}function OS(t){return t=Pi(t),t.tag=3,t}function DS(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){bb(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){bb(e,n,r),typeof i!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function OD(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Uo(e,n,i,!0),n=bn.current,n!==null){switch(n.tag){case 31:case 13:return kn===null?yf():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===of?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),sp(t,r,i)),!1;case 22:return n.flags|=65536,r===of?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),sp(t,r,i)),!1}throw Error(U(435,n.tag))}return sp(t,r,i),yf(),!1}if(pe)return e=bn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==hg&&(t=Error(U(422),{cause:r}),Su(Rn(t,n)))):(r!==hg&&(e=Error(U(423),{cause:r}),Su(Rn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Rn(r,n),i=Tg(t.stateNode,r,i),Ym(t,i),Ke!==4&&(Ke=2)),!1;var a=Error(U(520),{cause:r});if(a=Rn(a,n),hu===null?hu=[a]:hu.push(a),Ke!==4&&(Ke=2),e===null)return!0;r=Rn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Tg(n.stateNode,r,t),Ym(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Li===null||!Li.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=OS(i),DS(i,t,n,r),Ym(n,i),!1}n=n.return}while(n!==null);return!1}var Nv=Error(U(461)),ot=!1;function xt(t,e,n,r){e.child=t===null?GT(e,null,n,r):Wa(e,t.child,n,r)}function Eb(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Ya(e),r=pv(t,e,n,s,a,i),o=gv(),t!==null&&!ot?(yv(t,e,i),Yr(t,e,i)):(pe&&o&&ov(e),e.flags|=1,xt(t,e,r,i),e.child)}function wb(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!sv(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,kS(t,e,a,r,i)):(t=Ah(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Rv(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:xu,n(s,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Lr(a,r),t.ref=e.ref,t.return=e,e.child=t}function kS(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(xu(a,r)&&t.ref===e.ref)if(ot=!1,e.pendingProps=r=a,Rv(t,i))t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return Sg(t,e,n,r,i)}function MS(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return xb(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nh(e,a!==null?a.cachePool:null),a!==null?hb(e,a):vg(),KT(e);else return r=e.lanes=536870912,xb(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Nh(e,a.cachePool),hb(e,a),bi(),e.memoizedState=null):(t!==null&&Nh(e,null),vg(),bi());return xt(t,e,i,n),e.child}function ql(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function xb(t,e,n,r,i){var a=cv();return a=a===null?null:{parent:at._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Nh(e,null),vg(),KT(e),t!==null&&Uo(t,e,r,!0),e.childLanes=i,null}function Ih(t,e){return e=df({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function Tb(t,e,n){return Wa(e,t.child,null,n),t=Ih(e,e.pendingProps),t.flags|=2,un(e),e.memoizedState=null,t}function DD(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(pe){if(r.mode==="hidden")return t=Ih(e,r),e.lanes=536870912,ql(null,t);if(_g(e),(t=Me)?(t=AA(t,Cn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},n=UT(t),n.return=e,e.child=n,At=e,Me=null)):t=null,t===null)throw Ki(e);return e.lanes=536870912,null}return Ih(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(_g(e),i)if(e.flags&256)e.flags&=-257,e=Tb(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(U(558));else if(ot||Uo(t,e,n,!1),i=(n&t.childLanes)!==0,ot||i){if(r=Ne,r!==null&&(s=hT(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,ss(t,s),Zt(r,t,s),Nv;yf(),e=Tb(t,e,n)}else t=a.treeContext,Me=Mn(s.nextSibling),At=e,pe=!0,Mi=null,Cn=!1,t!==null&&zT(e,t),e=Ih(e,r),e.flags|=4096;return e}return t=Lr(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Oh(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Sg(t,e,n,r,i){return Ya(e),n=pv(t,e,n,r,void 0,i),r=gv(),t!==null&&!ot?(yv(t,e,i),Yr(t,e,i)):(pe&&r&&ov(e),e.flags|=1,xt(t,e,n,i),e.child)}function Sb(t,e,n,r,i,a){return Ya(e),e.updateQueue=null,n=XT(e,r,n,i),QT(t),r=gv(),t!==null&&!ot?(yv(t,e,a),Yr(t,e,a)):(pe&&r&&ov(e),e.flags|=1,xt(t,e,n,a),e.child)}function Ab(t,e,n,r,i){if(Ya(e),e.stateNode===null){var a=Ws,s=n.contextType;typeof s=="object"&&s!==null&&(a=Ct(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=xg,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},fv(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Ct(s):Ws,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Km(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&xg.enqueueReplaceState(a,a.state,null),ou(e,r,a,i),su(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,u=Qa(n,o);a.props=u;var c=a.context,f=n.contextType;s=Ws,typeof f=="object"&&f!==null&&(s=Ct(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||c!==s)&&_b(e,a,r,s),yi=!1;var p=e.memoizedState;a.state=p,ou(e,r,a,i),su(),c=e.memoizedState,o||p!==c||yi?(typeof m=="function"&&(Km(e,n,m,r),c=e.memoizedState),(u=yi||vb(e,n,u,r,p,c,s))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,gg(t,e),s=e.memoizedProps,f=Qa(n,s),a.props=f,m=e.pendingProps,p=a.context,c=n.contextType,u=Ws,typeof c=="object"&&c!==null&&(u=Ct(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||p!==u)&&_b(e,a,r,u),yi=!1,p=e.memoizedState,a.state=p,ou(e,r,a,i),su();var y=e.memoizedState;s!==m||p!==y||yi||t!==null&&t.dependencies!==null&&sf(t.dependencies)?(typeof o=="function"&&(Km(e,n,o,r),y=e.memoizedState),(f=yi||vb(e,n,f,r,p,y,u)||t!==null&&t.dependencies!==null&&sf(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),a.props=r,a.state=y,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Oh(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Wa(e,t.child,null,i),e.child=Wa(e,null,n,i)):xt(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Yr(t,e,i),t}function Nb(t,e,n,r){return Ga(),e.flags|=256,xt(t,e,n,r),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xm(t){return{baseLanes:t,cachePool:FT()}}function Jm(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=fn),t}function PS(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(Je.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(pe){if(i?_i(e):bi(),(t=Me)?(t=AA(t,Cn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:Wi!==null?{id:sr,overflow:or}:null,retryLane:536870912,hydrationErrors:null},n=UT(t),n.return=e,e.child=n,At=e,Me=null)):t=null,t===null)throw Ki(e);return Ug(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(bi(),i=e.mode,o=df({mode:"hidden",children:o},i),r=Va(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=Xm(n),r.childLanes=Jm(t,s,n),e.memoizedState=Qm,ql(null,r)):(_i(e),Ag(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(a)e.flags&256?(_i(e),e.flags&=-257,e=Zm(t,e,n)):e.memoizedState!==null?(bi(),e.child=t.child,e.flags|=128,e=null):(bi(),o=r.fallback,i=e.mode,r=df({mode:"visible",children:r.children},i),o=Va(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Wa(e,t.child,null,n),r=e.child,r.memoizedState=Xm(n),r.childLanes=Jm(t,s,n),e.memoizedState=Qm,e=ql(null,r));else if(_i(e),Ug(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(U(419)),r.stack="",r.digest=s,Su({value:r,source:null,stack:null}),e=Zm(t,e,n)}else if(ot||Uo(t,e,n,!1),s=(n&t.childLanes)!==0,ot||s){if(s=Ne,s!==null&&(r=hT(s,n),r!==0&&r!==u.retryLane))throw u.retryLane=r,ss(t,r),Zt(s,t,r),Nv;Vg(o)||yf(),e=Zm(t,e,n)}else Vg(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,Me=Mn(o.nextSibling),At=e,pe=!0,Mi=null,Cn=!1,t!==null&&zT(e,t),e=Ag(e,r.children),e.flags|=4096);return e}return i?(bi(),o=r.fallback,i=e.mode,u=t.child,c=u.sibling,r=Lr(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=Lr(c,o):(o=Va(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,ql(null,r),r=e.child,o=t.child.memoizedState,o===null?o=Xm(n):(i=o.cachePool,i!==null?(u=at._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=FT(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=Jm(t,s,n),e.memoizedState=Qm,ql(t.child,r)):(_i(e),n=t.child,t=n.sibling,n=Lr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Ag(t,e){return e=df({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function df(t,e){return t=cn(22,t,null,e),t.lanes=0,t}function Zm(t,e,n){return Wa(e,t.child,null,n),t=Ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Rb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dg(t.return,e,n)}function ep(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function jS(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Je.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Ie(Je,s),xt(t,e,r,n),r=pe?Tu:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Rb(t,n,e);else if(t.tag===19)Rb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&uf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ep(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ep(e,!0,n,null,a,r);break;case"together":ep(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xi|=e.lanes,!(n&e.childLanes))if(t!==null){if(Uo(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&sf(t)))}function kD(t,e,n){switch(e.tag){case 3:Jh(e,e.stateNode.containerInfo),vi(e,at,t.memoizedState.cache),Ga();break;case 27:case 5:eg(e);break;case 4:Jh(e,e.stateNode.containerInfo);break;case 10:vi(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,_g(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(_i(e),e.flags|=128,null):n&e.child.childLanes?PS(t,e,n):(_i(e),t=Yr(t,e,n),t!==null?t.sibling:null);_i(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Uo(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return jS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ie(Je,Je.current),r)break;return null;case 22:return e.lanes=0,MS(t,e,n,e.pendingProps);case 24:vi(e,at,t.memoizedState.cache)}return Yr(t,e,n)}function LS(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)ot=!0;else{if(!Rv(t,n)&&!(e.flags&128))return ot=!1,kD(t,e,n);ot=!!(t.flags&131072)}else ot=!1,pe&&e.flags&1048576&&BT(e,Tu,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Da(e.elementType),e.type=t,typeof t=="function")sv(t)?(r=Qa(t,r),e.tag=1,e=Ab(null,e,t,r,n)):(e.tag=0,e=Sg(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===Gy){e.tag=11,e=Eb(null,e,t,r,n);break e}else if(i===Yy){e.tag=14,e=wb(null,e,t,r,n);break e}}throw e=Jp(t)||t,Error(U(306,e,""))}}return e;case 0:return Sg(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Qa(r,e.pendingProps),Ab(t,e,r,i,n);case 3:e:{if(Jh(e,e.stateNode.containerInfo),t===null)throw Error(U(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,gg(t,e),ou(e,r,null,n);var s=e.memoizedState;if(r=s.cache,vi(e,at,r),r!==a.cache&&mg(e,[at],n,!0),su(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=Nb(t,e,r,n);break e}else if(r!==i){i=Rn(Error(U(424)),e),Su(i),e=Nb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Me=Mn(t.firstChild),At=e,pe=!0,Mi=null,Cn=!0,n=GT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ga(),r===i){e=Yr(t,e,n);break e}xt(t,e,r,n)}e=e.child}return e;case 26:return Oh(t,e),t===null?(n=Wb(e.type,null,e.pendingProps,null))?e.memoizedState=n:pe||(n=e.type,t=e.pendingProps,r=Ef(ki.current).createElement(n),r[St]=e,r[tn]=t,It(r,n,t),_t(r),e.stateNode=r):e.memoizedState=Wb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return eg(e),t===null&&pe&&(r=e.stateNode=NA(e.type,e.pendingProps,ki.current),At=e,Cn=!0,i=Me,oa(e.type)?(Bg=i,Me=Mn(r.firstChild)):Me=i),xt(t,e,e.pendingProps.children,n),Oh(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&pe&&((i=r=Me)&&(r=uk(r,e.type,e.pendingProps,Cn),r!==null?(e.stateNode=r,At=e,Me=Mn(r.firstChild),Cn=!1,i=!0):i=!1),i||Ki(e)),eg(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,jg(i,a)?r=null:s!==null&&jg(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=pv(t,e,TD,null,null,n),Ou._currentValue=i),Oh(t,e),xt(t,e,r,n),e.child;case 6:return t===null&&pe&&((t=n=Me)&&(n=ck(n,e.pendingProps,Cn),n!==null?(e.stateNode=n,At=e,Me=null,t=!0):t=!1),t||Ki(e)),null;case 13:return PS(t,e,n);case 4:return Jh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Wa(e,null,r,n):xt(t,e,r,n),e.child;case 11:return Eb(t,e,e.type,e.pendingProps,n);case 7:return xt(t,e,e.pendingProps,n),e.child;case 8:return xt(t,e,e.pendingProps.children,n),e.child;case 12:return xt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,vi(e,e.type,r.value),xt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Ya(e),i=Ct(i),r=r(i),e.flags|=1,xt(t,e,r,n),e.child;case 14:return wb(t,e,e.type,e.pendingProps,n);case 15:return kS(t,e,e.type,e.pendingProps,n);case 19:return jS(t,e,n);case 31:return DD(t,e,n);case 22:return MS(t,e,n,e.pendingProps);case 24:return Ya(e),r=Ct(at),t===null?(i=cv(),i===null&&(i=Ne,a=uv(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},fv(e),vi(e,at,i)):(t.lanes&n&&(gg(t,e),ou(e,null,null,n),su()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),vi(e,at,r)):(r=a.cache,vi(e,at,r),r!==i.cache&&mg(e,[at],n,!0))),xt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(U(156,e.tag))}function Ar(t){t.flags|=4}function tp(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(oA())t.flags|=8192;else throw Ba=of,hv}else t.flags&=-16777217}function Cb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!IA(e))if(oA())t.flags|=8192;else throw Ba=of,hv}function eh(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?lT():536870912,t.lanes|=e,wo|=e)}function Ml(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ke(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MD(t,e,n){var r=e.pendingProps;switch(lv(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return ke(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Vr(at),go(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(As(e)?Ar(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gm())),ke(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Ar(e),a!==null?(ke(e),Cb(e,a)):(ke(e),tp(e,i,null,r,n))):a?a!==t.memoizedState?(Ar(e),ke(e),Cb(e,a)):(ke(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ar(e),ke(e),tp(e,i,t,r,n)),null;case 27:if(Zh(e),n=ki.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ar(e);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ke(e),null}t=cr.current,As(e)?ib(e):(t=NA(i,r,n),e.stateNode=t,Ar(e))}return ke(e),null;case 5:if(Zh(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ar(e);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ke(e),null}if(a=cr.current,As(e))ib(e);else{var s=Ef(ki.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[St]=e,a[tn]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(It(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ar(e)}}return ke(e),tp(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ar(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(t=ki.current,As(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=At,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[St]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||xA(t.nodeValue,n)),t||Ki(e,!0)}else t=Ef(t).createTextNode(r),t[St]=e,e.stateNode=t}return ke(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=As(e),n!==null){if(t===null){if(!r)throw Error(U(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(557));t[St]=e}else Ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),t=!1}else n=Gm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(un(e),e):(un(e),null);if(e.flags&128)throw Error(U(558))}return ke(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=As(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[St]=e}else Ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),i=!1}else i=Gm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(un(e),e):(un(e),null)}return un(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),eh(e,e.updateQueue),ke(e),null);case 4:return go(),t===null&&Pv(e.stateNode.containerInfo),ke(e),null;case 10:return Vr(e.type),ke(e),null;case 19:if(bt(Je),r=e.memoizedState,r===null)return ke(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)Ml(r,!1);else{if(Ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=uf(t),a!==null){for(e.flags|=128,Ml(r,!1),t=a.updateQueue,e.updateQueue=t,eh(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)VT(n,t),n=n.sibling;return Ie(Je,Je.current&1|2),pe&&Ir(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&mn()>pf&&(e.flags|=128,i=!0,Ml(r,!1),e.lanes=4194304)}else{if(!i)if(t=uf(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,eh(e,t),Ml(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!pe)return ke(e),null}else 2*mn()-r.renderingStartTime>pf&&n!==536870912&&(e.flags|=128,i=!0,Ml(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=mn(),t.sibling=null,n=Je.current,Ie(Je,i?n&1|2:n&1),pe&&Ir(e,r.treeForkCount),t):(ke(e),null);case 22:case 23:return un(e),dv(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),n=e.updateQueue,n!==null&&eh(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&bt(Ua),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Vr(at),ke(e),null;case 25:return null;case 30:return null}throw Error(U(156,e.tag))}function PD(t,e){switch(lv(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vr(at),go(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Zh(e),null;case 31:if(e.memoizedState!==null){if(un(e),e.alternate===null)throw Error(U(340));Ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(un(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bt(Je),null;case 4:return go(),null;case 10:return Vr(e.type),null;case 22:case 23:return un(e),dv(),t!==null&&bt(Ua),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Vr(at),null;case 25:return null;default:return null}}function VS(t,e){switch(lv(e),e.tag){case 3:Vr(at),go();break;case 26:case 27:case 5:Zh(e);break;case 4:go();break;case 31:e.memoizedState!==null&&un(e);break;case 13:un(e);break;case 19:bt(Je);break;case 10:Vr(e.type);break;case 22:case 23:un(e),dv(),t!==null&&bt(Ua);break;case 24:Vr(at)}}function tc(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){we(e,e.return,o)}}function Qi(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var u=n,c=o;try{c()}catch(f){we(i,u,f)}}}r=r.next}while(r!==a)}}catch(f){we(e,e.return,f)}}function US(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{WT(e,n)}catch(r){we(t,t.return,r)}}}function BS(t,e,n){n.props=Qa(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){we(t,e,r)}}function uu(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){we(t,e,i)}}function lr(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){we(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){we(t,e,i)}else n.current=null}function zS(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){we(t,t.return,i)}}function np(t,e,n){try{var r=t.stateNode;rk(r,t.type,n,e),r[tn]=e}catch(i){we(t,t.return,i)}}function $S(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&oa(t.type)||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$S(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&oa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ng(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kr));else if(r!==4&&(r===27&&oa(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Ng(t,e,n),t=t.sibling;t!==null;)Ng(t,e,n),t=t.sibling}function mf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&oa(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(mf(t,e,n),t=t.sibling;t!==null;)mf(t,e,n),t=t.sibling}function FS(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);It(e,r,n),e[St]=t,e[tn]=n}catch(a){we(t,t.return,a)}}var Or=!1,it=!1,ip=!1,Ib=typeof WeakSet=="function"?WeakSet:Set,vt=null;function jD(t,e){if(t=t.containerInfo,Mg=Sf,t=IT(t),rv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,u=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(o=s+i),m!==a||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++c===i&&(o=s),p===a&&++f===r&&(u=s),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pg={focusedElem:t,selectionRange:n},Sf=!1,vt=e;vt!==null;)if(e=vt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,vt=t;else for(;vt!==null;){switch(e=vt,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var w=Qa(n.type,i);t=r.getSnapshotBeforeUpdate(w,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(I){we(n,n.return,I)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Lg(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(U(163))}if(t=e.sibling,t!==null){t.return=e.return,vt=t;break}vt=e.return}}function qS(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Rr(t,n),r&4&&tc(5,n);break;case 1:if(Rr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){we(n,n.return,s)}else{var i=Qa(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){we(n,n.return,s)}}r&64&&US(n),r&512&&uu(n,n.return);break;case 3:if(Rr(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{WT(t,e)}catch(s){we(n,n.return,s)}}break;case 27:e===null&&r&4&&FS(n);case 26:case 5:Rr(t,n),e===null&&r&4&&zS(n),r&512&&uu(n,n.return);break;case 12:Rr(t,n);break;case 31:Rr(t,n),r&4&&YS(t,n);break;case 13:Rr(t,n),r&4&&WS(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=HD.bind(null,n),hk(t,n))));break;case 22:if(r=n.memoizedState!==null||Or,!r){e=e!==null&&e.memoizedState!==null||it,i=Or;var a=it;Or=r,(it=e)&&!a?Cr(t,n,(n.subtreeFlags&8772)!==0):Rr(t,n),Or=i,it=a}break;case 30:break;default:Rr(t,n)}}function HS(t){var e=t.alternate;e!==null&&(t.alternate=null,HS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Xy(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ue=null,Wt=!1;function Nr(t,e,n){for(n=n.child;n!==null;)GS(t,e,n),n=n.sibling}function GS(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Wu,n)}catch{}switch(n.tag){case 26:it||lr(n,e),Nr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:it||lr(n,e);var r=Ue,i=Wt;oa(n.type)&&(Ue=n.stateNode,Wt=!1),Nr(t,e,n),du(n.stateNode),Ue=r,Wt=i;break;case 5:it||lr(n,e);case 6:if(r=Ue,i=Wt,Ue=null,Nr(t,e,n),Ue=r,Wt=i,Ue!==null)if(Wt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(n.stateNode)}catch(a){we(n,e,a)}else try{Ue.removeChild(n.stateNode)}catch(a){we(n,e,a)}break;case 18:Ue!==null&&(Wt?(t=Ue,Fb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Ao(t)):Fb(Ue,n.stateNode));break;case 4:r=Ue,i=Wt,Ue=n.stateNode.containerInfo,Wt=!0,Nr(t,e,n),Ue=r,Wt=i;break;case 0:case 11:case 14:case 15:Qi(2,n,e),it||Qi(4,n,e),Nr(t,e,n);break;case 1:it||(lr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&BS(n,e,r)),Nr(t,e,n);break;case 21:Nr(t,e,n);break;case 22:it=(r=it)||n.memoizedState!==null,Nr(t,e,n),it=r;break;default:Nr(t,e,n)}}function YS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ao(t)}catch(n){we(e,e.return,n)}}}function WS(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ao(t)}catch(n){we(e,e.return,n)}}function LD(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ib),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ib),e;default:throw Error(U(435,t.tag))}}function th(t,e){var n=LD(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=GD.bind(null,t,r);r.then(i,i)}})}function Gt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(oa(o.type)){Ue=o.stateNode,Wt=!1;break e}break;case 5:Ue=o.stateNode,Wt=!1;break e;case 3:case 4:Ue=o.stateNode.containerInfo,Wt=!0;break e}o=o.return}if(Ue===null)throw Error(U(160));GS(a,s,i),Ue=null,Wt=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)KS(e,t),e=e.sibling}var Fn=null;function KS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Gt(e,t),Yt(t),r&4&&(Qi(3,t,t.return),tc(3,t),Qi(5,t,t.return));break;case 1:Gt(e,t),Yt(t),r&512&&(it||n===null||lr(n,n.return)),r&64&&Or&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Fn;if(Gt(e,t),Yt(t),r&512&&(it||n===null||lr(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Xu]||a[St]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),It(a,r,n),a[St]=t,_t(a),r=a;break e;case"link":var s=Qb("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),It(a,r,n),i.head.appendChild(a);break;case"meta":if(s=Qb("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),It(a,r,n),i.head.appendChild(a);break;default:throw Error(U(468,r))}a[St]=t,_t(a),r=a}t.stateNode=r}else Xb(i,t.type,t.stateNode);else t.stateNode=Kb(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Xb(i,t.type,t.stateNode):Kb(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&np(t,t.memoizedProps,n.memoizedProps)}break;case 27:Gt(e,t),Yt(t),r&512&&(it||n===null||lr(n,n.return)),n!==null&&r&4&&np(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Gt(e,t),Yt(t),r&512&&(it||n===null||lr(n,n.return)),t.flags&32){i=t.stateNode;try{vo(i,"")}catch(w){we(t,t.return,w)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,np(t,i,n!==null?n.memoizedProps:i)),r&1024&&(ip=!0);break;case 6:if(Gt(e,t),Yt(t),r&4){if(t.stateNode===null)throw Error(U(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(w){we(t,t.return,w)}}break;case 3:if(Mh=null,i=Fn,Fn=wf(e.containerInfo),Gt(e,t),Fn=i,Yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ao(e.containerInfo)}catch(w){we(t,t.return,w)}ip&&(ip=!1,QS(t));break;case 4:r=Fn,Fn=wf(t.stateNode.containerInfo),Gt(e,t),Yt(t),Fn=r;break;case 12:Gt(e,t),Yt(t);break;case 31:Gt(e,t),Yt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,th(t,r)));break;case 13:Gt(e,t),Yt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(yd=mn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,th(t,r)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Or,f=it;if(Or=c||i,it=f||u,Gt(e,t),it=f,Or=c,Yt(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||Or||it||ka(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(a=u.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(w){we(u,u.return,w)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(w){we(u,u.return,w)}}}else if(e.tag===18){if(n===null){u=e;try{var y=u.stateNode;i?qb(y,!0):qb(u.stateNode,!1)}catch(w){we(u,u.return,w)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,th(t,n))));break;case 19:Gt(e,t),Yt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,th(t,r)));break;case 30:break;case 21:break;default:Gt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if($S(r)){n=r;break}r=r.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var i=n.stateNode,a=rp(t);mf(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(vo(s,""),n.flags&=-33);var o=rp(t);mf(t,o,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=rp(t);Ng(t,c,u);break;default:throw Error(U(161))}}catch(f){we(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QS(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;QS(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Rr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)qS(t,e.alternate,e),e=e.sibling}function ka(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Qi(4,e,e.return),ka(e);break;case 1:lr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&BS(e,e.return,n),ka(e);break;case 27:du(e.stateNode);case 26:case 5:lr(e,e.return),ka(e);break;case 22:e.memoizedState===null&&ka(e);break;case 30:ka(e);break;default:ka(e)}t=t.sibling}}function Cr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Cr(i,a,n),tc(4,a);break;case 1:if(Cr(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){we(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)YT(u[i],o)}catch(c){we(r,r.return,c)}}n&&s&64&&US(a),uu(a,a.return);break;case 27:FS(a);case 26:case 5:Cr(i,a,n),n&&r===null&&s&4&&zS(a),uu(a,a.return);break;case 12:Cr(i,a,n);break;case 31:Cr(i,a,n),n&&s&4&&YS(i,a);break;case 13:Cr(i,a,n),n&&s&4&&WS(i,a);break;case 22:a.memoizedState===null&&Cr(i,a,n),uu(a,a.return);break;case 30:break;default:Cr(i,a,n)}e=e.sibling}}function Cv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Zu(n))}function Iv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Zu(t))}function $n(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)XS(t,e,n,r),e=e.sibling}function XS(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:$n(t,e,n,r),i&2048&&tc(9,e);break;case 1:$n(t,e,n,r);break;case 3:$n(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Zu(t)));break;case 12:if(i&2048){$n(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){we(e,e.return,u)}}else $n(t,e,n,r);break;case 31:$n(t,e,n,r);break;case 13:$n(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?$n(t,e,n,r):cu(t,e):a._visibility&2?$n(t,e,n,r):(a._visibility|=2,Ds(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Cv(s,e);break;case 24:$n(t,e,n,r),i&2048&&Iv(e.alternate,e);break;default:$n(t,e,n,r)}}function Ds(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,u=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ds(a,s,o,u,i),tc(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?Ds(a,s,o,u,i):cu(a,s):(f._visibility|=2,Ds(a,s,o,u,i)),i&&c&2048&&Cv(s.alternate,s);break;case 24:Ds(a,s,o,u,i),i&&c&2048&&Iv(s.alternate,s);break;default:Ds(a,s,o,u,i)}e=e.sibling}}function cu(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:cu(n,r),i&2048&&Cv(r.alternate,r);break;case 24:cu(n,r),i&2048&&Iv(r.alternate,r);break;default:cu(n,r)}e=e.sibling}}var Hl=8192;function Ns(t,e,n){if(t.subtreeFlags&Hl)for(t=t.child;t!==null;)JS(t,e,n),t=t.sibling}function JS(t,e,n){switch(t.tag){case 26:Ns(t,e,n),t.flags&Hl&&t.memoizedState!==null&&xk(n,Fn,t.memoizedState,t.memoizedProps);break;case 5:Ns(t,e,n);break;case 3:case 4:var r=Fn;Fn=wf(t.stateNode.containerInfo),Ns(t,e,n),Fn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Hl,Hl=16777216,Ns(t,e,n),Hl=r):Ns(t,e,n));break;default:Ns(t,e,n)}}function ZS(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Pl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];vt=r,tA(r,t)}ZS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)eA(t),t=t.sibling}function eA(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&Qi(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Dh(t)):Pl(t);break;default:Pl(t)}}function Dh(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];vt=r,tA(r,t)}ZS(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Qi(8,e,e.return),Dh(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Dh(e));break;default:Dh(e)}t=t.sibling}}function tA(t,e){for(;vt!==null;){var n=vt;switch(n.tag){case 0:case 11:case 15:Qi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Zu(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,vt=r;else e:for(n=t;vt!==null;){r=vt;var i=r.sibling,a=r.return;if(HS(r),r===n){vt=null;break e}if(i!==null){i.return=a,vt=i;break e}vt=a}}}var VD={getCacheForType:function(t){var e=Ct(at),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ct(at).controller.signal}},UD=typeof WeakMap=="function"?WeakMap:Map,ve=0,Ne=null,ce=null,me=0,Ee=0,ln=null,Ci=!1,zo=!1,Ov=!1,Wr=0,Ke=0,Xi=0,za=0,Dv=0,fn=0,wo=0,hu=null,Kt=null,Rg=!1,yd=0,nA=0,pf=1/0,gf=null,Li=null,ft=0,Vi=null,xo=null,Ur=0,Cg=0,Ig=null,rA=null,fu=0,Og=null;function yn(){return ve&2&&me!==0?me&-me:ee.T!==null?Mv():fT()}function iA(){if(fn===0)if(!(me&536870912)||pe){var t=Yc;Yc<<=1,!(Yc&3932160)&&(Yc=262144),fn=t}else fn=536870912;return t=bn.current,t!==null&&(t.flags|=32),fn}function Zt(t,e,n){(t===Ne&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)&&(To(t,0),Ii(t,me,fn,!1)),Qu(t,n),(!(ve&2)||t!==Ne)&&(t===Ne&&(!(ve&2)&&(za|=n),Ke===4&&Ii(t,me,fn,!1)),br(t))}function aA(t,e,n){if(ve&6)throw Error(U(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Ku(t,e),i=r?$D(t,e):ap(t,e,!0),a=r;do{if(i===0){zo&&!r&&Ii(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!BD(n)){i=ap(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=hu;var u=o.current.memoizedState.isDehydrated;if(u&&(To(o,s).flags|=256),s=ap(o,s,!1),s!==2){if(Ov&&!u){o.errorRecoveryDisabledLanes|=a,za|=a,i=4;break e}a=Kt,Kt=i,a!==null&&(Kt===null?Kt=a:Kt.push.apply(Kt,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){To(t,0),Ii(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(U(345));case 4:if((e&4194048)!==e)break;case 6:Ii(r,e,fn,!Ci);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((e&62914560)===e&&(i=yd+300-mn(),10<i)){if(Ii(r,e,fn,!Ci),sd(r,0,!0)!==0)break e;Ur=e,r.timeoutHandle=SA(Ob.bind(null,r,n,Kt,gf,Rg,e,fn,za,wo,Ci,a,"Throttled",-0,0),i);break e}Ob(r,n,Kt,gf,Rg,e,fn,za,wo,Ci,a,null,-0,0)}}break}while(!0);br(t)}function Ob(t,e,n,r,i,a,s,o,u,c,f,m,p,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kr},JS(e,a,m);var w=(a&62914560)===a?yd-mn():(a&4194048)===a?nA-mn():0;if(w=Tk(m,w),w!==null){Ur=a,t.cancelPendingCommit=w(kb.bind(null,t,e,a,n,r,i,s,o,u,f,m,null,p,y)),Ii(t,a,s,!c);return}}kb(t,e,a,n,r,i,s,o,u)}function BD(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!_n(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e,n,r){e&=~Dv,e&=~za,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-gn(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&uT(t,n,e)}function vd(){return ve&6?!0:(nc(0),!1)}function kv(){if(ce!==null){if(Ee===0)var t=ce.return;else t=ce,Mr=os=null,vv(t),oo=null,Au=0,t=ce;for(;t!==null;)VS(t.alternate,t),t=t.return;ce=null}}function To(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,sk(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ur=0,kv(),Ne=t,ce=n=Lr(t.current,null),me=e,Ee=0,ln=null,Ci=!1,zo=Ku(t,e),Ov=!1,wo=fn=Dv=za=Xi=Ke=0,Kt=hu=null,Rg=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-gn(r),a=1<<i;e|=t[i],r&=~a}return Wr=e,cd(),n}function sA(t,e){ae=null,ee.H=Ru,e===Bo||e===fd?(e=ub(),Ee=3):e===hv?(e=ub(),Ee=4):Ee=e===Nv?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ln=e,ce===null&&(Ke=1,ff(t,Rn(e,t.current)))}function oA(){var t=bn.current;return t===null?!0:(me&4194048)===me?kn===null:(me&62914560)===me||me&536870912?t===kn:!1}function lA(){var t=ee.H;return ee.H=Ru,t===null?Ru:t}function uA(){var t=ee.A;return ee.A=VD,t}function yf(){Ke=4,Ci||(me&4194048)!==me&&bn.current!==null||(zo=!0),!(Xi&134217727)&&!(za&134217727)||Ne===null||Ii(Ne,me,fn,!1)}function ap(t,e,n){var r=ve;ve|=2;var i=lA(),a=uA();(Ne!==t||me!==e)&&(gf=null,To(t,e)),e=!1;var s=Ke;e:do try{if(Ee!==0&&ce!==null){var o=ce,u=ln;switch(Ee){case 8:kv(),s=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(e=!0);var c=Ee;if(Ee=0,ln=null,Xs(t,o,u,c),n&&zo){s=0;break e}break;default:c=Ee,Ee=0,ln=null,Xs(t,o,u,c)}}zD(),s=Ke;break}catch(f){sA(t,f)}while(!0);return e&&t.shellSuspendCounter++,Mr=os=null,ve=r,ee.H=i,ee.A=a,ce===null&&(Ne=null,me=0,cd()),s}function zD(){for(;ce!==null;)cA(ce)}function $D(t,e){var n=ve;ve|=2;var r=lA(),i=uA();Ne!==t||me!==e?(gf=null,pf=mn()+500,To(t,e)):zo=Ku(t,e);e:do try{if(Ee!==0&&ce!==null){e=ce;var a=ln;t:switch(Ee){case 1:Ee=0,ln=null,Xs(t,e,a,1);break;case 2:case 9:if(lb(a)){Ee=0,ln=null,Db(e);break}e=function(){Ee!==2&&Ee!==9||Ne!==t||(Ee=7),br(t)},a.then(e,e);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:lb(a)?(Ee=0,ln=null,Db(e)):(Ee=0,ln=null,Xs(t,e,a,7));break;case 5:var s=null;switch(ce.tag){case 26:s=ce.memoizedState;case 5:case 27:var o=ce;if(s?IA(s):o.stateNode.complete){Ee=0,ln=null;var u=o.sibling;if(u!==null)ce=u;else{var c=o.return;c!==null?(ce=c,_d(c)):ce=null}break t}}Ee=0,ln=null,Xs(t,e,a,5);break;case 6:Ee=0,ln=null,Xs(t,e,a,6);break;case 8:kv(),Ke=6;break e;default:throw Error(U(462))}}FD();break}catch(f){sA(t,f)}while(!0);return Mr=os=null,ee.H=r,ee.A=i,ve=n,ce!==null?0:(Ne=null,me=0,cd(),Ke)}function FD(){for(;ce!==null&&!fO();)cA(ce)}function cA(t){var e=LS(t.alternate,t,Wr);t.memoizedProps=t.pendingProps,e===null?_d(t):ce=e}function Db(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Sb(n,e,e.pendingProps,e.type,void 0,me);break;case 11:e=Sb(n,e,e.pendingProps,e.type.render,e.ref,me);break;case 5:vv(e);default:VS(n,e),e=ce=VT(e,Wr),e=LS(n,e,Wr)}t.memoizedProps=t.pendingProps,e===null?_d(t):ce=e}function Xs(t,e,n,r){Mr=os=null,vv(e),oo=null,Au=0;var i=e.return;try{if(OD(t,i,e,n,me)){Ke=1,ff(t,Rn(n,t.current)),ce=null;return}}catch(a){if(i!==null)throw ce=i,a;Ke=1,ff(t,Rn(n,t.current)),ce=null;return}e.flags&32768?(pe||r===1?t=!0:zo||me&536870912?t=!1:(Ci=t=!0,(r===2||r===9||r===3||r===6)&&(r=bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),hA(e,t)):_d(e)}function _d(t){var e=t;do{if(e.flags&32768){hA(e,Ci);return}t=e.return;var n=MD(e.alternate,e,Wr);if(n!==null){ce=n;return}if(e=e.sibling,e!==null){ce=e;return}ce=e=t}while(e!==null);Ke===0&&(Ke=5)}function hA(t,e){do{var n=PD(t.alternate,t);if(n!==null){n.flags&=32767,ce=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ce=t;return}ce=t=n}while(t!==null);Ke=6,ce=null}function kb(t,e,n,r,i,a,s,o,u){t.cancelPendingCommit=null;do bd();while(ft!==0);if(ve&6)throw Error(U(327));if(e!==null){if(e===t.current)throw Error(U(177));if(a=e.lanes|e.childLanes,a|=iv,wO(t,n,a,s,o,u),t===Ne&&(ce=Ne=null,me=0),xo=e,Vi=t,Ur=n,Cg=a,Ig=i,rA=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,YD(ef,function(){return gA(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ee.T,ee.T=null,i=_e.p,_e.p=2,s=ve,ve|=4;try{jD(t,e,n)}finally{ve=s,_e.p=i,ee.T=r}}ft=1,fA(),dA(),mA()}}function fA(){if(ft===1){ft=0;var t=Vi,e=xo,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ee.T,ee.T=null;var r=_e.p;_e.p=2;var i=ve;ve|=4;try{KS(e,t);var a=Pg,s=IT(t.containerInfo),o=a.focusedElem,u=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&CT(o.ownerDocument.documentElement,o)){if(u!==null&&rv(o)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(f,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),w=o.textContent.length,I=Math.min(u.start,w),C=u.end===void 0?I:Math.min(u.end,w);!y.extend&&I>C&&(s=C,C=I,I=s);var v=tb(o,I),_=tb(o,C);if(v&&_&&(y.rangeCount!==1||y.anchorNode!==v.node||y.anchorOffset!==v.offset||y.focusNode!==_.node||y.focusOffset!==_.offset)){var S=m.createRange();S.setStart(v.node,v.offset),y.removeAllRanges(),I>C?(y.addRange(S),y.extend(_.node,_.offset)):(S.setEnd(_.node,_.offset),y.addRange(S))}}}}for(m=[],y=o;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var N=m[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Sf=!!Mg,Pg=Mg=null}finally{ve=i,_e.p=r,ee.T=n}}t.current=e,ft=2}}function dA(){if(ft===2){ft=0;var t=Vi,e=xo,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ee.T,ee.T=null;var r=_e.p;_e.p=2;var i=ve;ve|=4;try{qS(t,e.alternate,e)}finally{ve=i,_e.p=r,ee.T=n}}ft=3}}function mA(){if(ft===4||ft===3){ft=0,dO();var t=Vi,e=xo,n=Ur,r=rA;e.subtreeFlags&10256||e.flags&10256?ft=5:(ft=0,xo=Vi=null,pA(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(Li=null),Qy(n),e=e.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Wu,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ee.T,i=_e.p,_e.p=2,ee.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ee.T=e,_e.p=i}}Ur&3&&bd(),br(t),i=t.pendingLanes,n&261930&&i&42?t===Og?fu++:(fu=0,Og=t):fu=0,nc(0)}}function pA(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Zu(e)))}function bd(){return fA(),dA(),mA(),gA()}function gA(){if(ft!==5)return!1;var t=Vi,e=Cg;Cg=0;var n=Qy(Ur),r=ee.T,i=_e.p;try{_e.p=32>n?32:n,ee.T=null,n=Ig,Ig=null;var a=Vi,s=Ur;if(ft=0,xo=Vi=null,Ur=0,ve&6)throw Error(U(331));var o=ve;if(ve|=4,eA(a.current),XS(a,a.current,s,n),ve=o,nc(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Wu,a)}catch{}return!0}finally{_e.p=i,ee.T=r,pA(t,e)}}function Mb(t,e,n){e=Rn(n,e),e=Tg(t.stateNode,e,2),t=ji(t,e,2),t!==null&&(Qu(t,2),br(t))}function we(t,e,n){if(t.tag===3)Mb(t,t,n);else for(;e!==null;){if(e.tag===3){Mb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))){t=Rn(n,t),n=OS(2),r=ji(e,n,2),r!==null&&(DS(n,r,e,t),Qu(r,2),br(r));break}}e=e.return}}function sp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Ov=!0,i.add(n),t=qD.bind(null,t,e,n),e.then(t,t))}function qD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ne===t&&(me&n)===n&&(Ke===4||Ke===3&&(me&62914560)===me&&300>mn()-yd?!(ve&2)&&To(t,0):Dv|=n,wo===me&&(wo=0)),br(t)}function yA(t,e){e===0&&(e=lT()),t=ss(t,e),t!==null&&(Qu(t,e),br(t))}function HD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yA(t,n)}function GD(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(U(314))}r!==null&&r.delete(e),yA(t,n)}function YD(t,e){return Wy(t,e)}var vf=null,ks=null,Dg=!1,_f=!1,op=!1,Oi=0;function br(t){t!==ks&&t.next===null&&(ks===null?vf=ks=t:ks=ks.next=t),_f=!0,Dg||(Dg=!0,KD())}function nc(t,e){if(!op&&_f){op=!0;do for(var n=!1,r=vf;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-gn(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Pb(r,a))}else a=me,a=sd(r,r===Ne?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ku(r,a)||(n=!0,Pb(r,a));r=r.next}while(n);op=!1}}function WD(){vA()}function vA(){_f=Dg=!1;var t=0;Oi!==0&&ak()&&(t=Oi);for(var e=mn(),n=null,r=vf;r!==null;){var i=r.next,a=_A(r,e);a===0?(r.next=null,n===null?vf=i:n.next=i,i===null&&(ks=n)):(n=r,(t!==0||a&3)&&(_f=!0)),r=i}ft!==0&&ft!==5||nc(t),Oi!==0&&(Oi=0)}function _A(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-gn(a),o=1<<s,u=i[s];u===-1?(!(o&n)||o&r)&&(i[s]=EO(o,e)):u<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ne,n=me,n=sd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ee===2||Ee===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Pm(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ku(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Pm(r),Qy(n)){case 2:case 8:n=sT;break;case 32:n=ef;break;case 268435456:n=oT;break;default:n=ef}return r=bA.bind(null,t),n=Wy(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Pm(r),t.callbackPriority=2,t.callbackNode=null,2}function bA(t,e){if(ft!==0&&ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(bd()&&t.callbackNode!==n)return null;var r=me;return r=sd(t,t===Ne?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(aA(t,r,e),_A(t,mn()),t.callbackNode!=null&&t.callbackNode===n?bA.bind(null,t):null)}function Pb(t,e){if(bd())return null;aA(t,e,!0)}function KD(){ok(function(){ve&6?Wy(aT,WD):vA()})}function Mv(){if(Oi===0){var t=_o;t===0&&(t=Gc,Gc<<=1,!(Gc&261888)&&(Gc=256)),Oi=t}return Oi}function jb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xh(""+t)}function Lb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function QD(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=jb((i[tn]||null).action),s=r.submitter;s&&(e=(e=s[tn]||null)?jb(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new od("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Oi!==0){var u=s?Lb(i,s):new FormData(i);wg(n,{pending:!0,data:u,method:i.method,action:a},null,u)}}else typeof a=="function"&&(o.preventDefault(),u=s?Lb(i,s):new FormData(i),wg(n,{pending:!0,data:u,method:i.method,action:a},a,u))},currentTarget:i}]})}}for(var lp=0;lp<cg.length;lp++){var up=cg[lp],XD=up.toLowerCase(),JD=up[0].toUpperCase()+up.slice(1);Qn(XD,"on"+JD)}Qn(DT,"onAnimationEnd");Qn(kT,"onAnimationIteration");Qn(MT,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(mD,"onTransitionRun");Qn(pD,"onTransitionStart");Qn(gD,"onTransitionCancel");Qn(PT,"onTransitionEnd");yo("onMouseEnter",["mouseout","mouseover"]);yo("onMouseLeave",["mouseout","mouseover"]);yo("onPointerEnter",["pointerout","pointerover"]);yo("onPointerLeave",["pointerout","pointerover"]);rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function EA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(f){nf(f)}i.currentTarget=null,a=u}else for(s=0;s<r.length;s++){if(o=r[s],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(f){nf(f)}i.currentTarget=null,a=u}}}}function ue(t,e){var n=e[ng];n===void 0&&(n=e[ng]=new Set);var r=t+"__bubble";n.has(r)||(wA(e,t,2,!1),n.add(r))}function cp(t,e,n){var r=0;e&&(r|=4),wA(n,t,r,e)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Pv(t){if(!t[nh]){t[nh]=!0,dT.forEach(function(n){n!=="selectionchange"&&(ZD.has(n)||cp(n,!1,t),cp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nh]||(e[nh]=!0,cp("selectionchange",!1,e))}}function wA(t,e,n,r){switch(PA(e)){case 2:var i=Nk;break;case 8:i=Rk;break;default:i=Uv}n=i.bind(null,e,n,t),i=void 0,!og||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function hp(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=$s(o),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=a=s;continue e}o=o.parentNode}}r=r.return}ET(function(){var c=a,f=Zy(n),m=[];e:{var p=jT.get(t);if(p!==void 0){var y=od,w=t;switch(t){case"keypress":if(Sh(n)===0)break e;case"keydown":case"keyup":y=GO;break;case"focusin":w="focus",y=Bm;break;case"focusout":w="blur",y=Bm;break;case"beforeblur":case"afterblur":y=Bm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=MO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=KO;break;case DT:case kT:case MT:y=LO;break;case PT:y=XO;break;case"scroll":case"scrollend":y=DO;break;case"wheel":y=ZO;break;case"copy":case"cut":case"paste":y=UO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Y1;break;case"toggle":case"beforetoggle":y=tD}var I=(e&4)!==0,C=!I&&(t==="scroll"||t==="scrollend"),v=I?p!==null?p+"Capture":null:p;I=[];for(var _=c,S;_!==null;){var N=_;if(S=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||S===null||v===null||(N=Eu(_,v),N!=null&&I.push(Iu(_,N,S))),C)break;_=_.return}0<I.length&&(p=new y(p,w,null,n,f),m.push({event:p,listeners:I}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==sg&&(w=n.relatedTarget||n.fromElement)&&($s(w)||w[Lo]))break e;if((y||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=c,w=w?$s(w):null,w!==null&&(C=Yu(w),I=w.tag,w!==C||I!==5&&I!==27&&I!==6)&&(w=null)):(y=null,w=c),y!==w)){if(I=H1,N="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(I=Y1,N="onPointerLeave",v="onPointerEnter",_="pointer"),C=y==null?p:Fl(y),S=w==null?p:Fl(w),p=new I(N,_+"leave",y,n,f),p.target=C,p.relatedTarget=S,N=null,$s(f)===c&&(I=new I(v,_+"enter",w,n,f),I.target=S,I.relatedTarget=C,N=I),C=N,y&&w)t:{for(I=ek,v=y,_=w,S=0,N=v;N;N=I(N))S++;N=0;for(var L=_;L;L=I(L))N++;for(;0<S-N;)v=I(v),S--;for(;0<N-S;)_=I(_),N--;for(;S--;){if(v===_||_!==null&&v===_.alternate){I=v;break t}v=I(v),_=I(_)}I=null}else I=null;y!==null&&Vb(m,p,y,I,!1),w!==null&&C!==null&&Vb(m,C,w,I,!0)}}e:{if(p=c?Fl(c):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var F=X1;else if(Q1(p))if(NT)F=hD;else{F=uD;var A=lD}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Jy(c.elementType)&&(F=X1):F=cD;if(F&&(F=F(t,c))){AT(m,F,n,f);break e}A&&A(t,p,c),t==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&ag(p,"number",p.value)}switch(A=c?Fl(c):window,t){case"focusin":(Q1(A)||A.contentEditable==="true")&&(Hs=A,lg=c,ru=null);break;case"focusout":ru=lg=Hs=null;break;case"mousedown":ug=!0;break;case"contextmenu":case"mouseup":case"dragend":ug=!1,nb(m,n,f);break;case"selectionchange":if(dD)break;case"keydown":case"keyup":nb(m,n,f)}var E;if(nv)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else qs?TT(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(xT&&n.locale!=="ko"&&(qs||x!=="onCompositionStart"?x==="onCompositionEnd"&&qs&&(E=wT()):(Ri=f,ev="value"in Ri?Ri.value:Ri.textContent,qs=!0)),A=bf(c,x),0<A.length&&(x=new G1(x,t,null,n,f),m.push({event:x,listeners:A}),E?x.data=E:(E=ST(n),E!==null&&(x.data=E)))),(E=rD?iD(t,n):aD(t,n))&&(x=bf(c,"onBeforeInput"),0<x.length&&(A=new G1("onBeforeInput","beforeinput",null,n,f),m.push({event:A,listeners:x}),A.data=E)),QD(m,t,c,n,f)}EA(m,e)})}function Iu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Eu(t,n),i!=null&&r.unshift(Iu(t,i,a)),i=Eu(t,e),i!=null&&r.push(Iu(t,i,a))),t.tag===3)return r;t=t.return}return[]}function ek(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vb(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||c===null||(u=c,i?(c=Eu(n,a),c!=null&&s.unshift(Iu(n,c,u))):i||(c=Eu(n,a),c!=null&&s.push(Iu(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var tk=/\r\n?/g,nk=/\u0000|\uFFFD/g;function Ub(t){return(typeof t=="string"?t:""+t).replace(tk,`
`).replace(nk,"")}function xA(t,e){return e=Ub(e),Ub(t)===e}function Te(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||vo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&vo(t,""+r);break;case"className":Kc(t,"class",r);break;case"tabIndex":Kc(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Kc(t,n,r);break;case"style":bT(t,r,a);break;case"data":if(e!=="object"){Kc(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=xh(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Te(t,e,"name",i.name,i,null),Te(t,e,"formEncType",i.formEncType,i,null),Te(t,e,"formMethod",i.formMethod,i,null),Te(t,e,"formTarget",i.formTarget,i,null)):(Te(t,e,"encType",i.encType,i,null),Te(t,e,"method",i.method,i,null),Te(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=xh(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=kr);break;case"onScroll":r!=null&&ue("scroll",t);break;case"onScrollEnd":r!=null&&ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(U(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=xh(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":ue("beforetoggle",t),ue("toggle",t),wh(t,"popover",r);break;case"xlinkActuate":Sr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Sr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Sr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Sr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Sr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Sr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Sr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":wh(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=IO.get(n)||n,wh(t,n,r))}}function kg(t,e,n,r,i,a){switch(n){case"style":bT(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(U(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(U(60));t.innerHTML=n}}break;case"children":typeof r=="string"?vo(t,r):(typeof r=="number"||typeof r=="bigint")&&vo(t,""+r);break;case"onScroll":r!=null&&ue("scroll",t);break;case"onScrollEnd":r!=null&&ue("scrollend",t);break;case"onClick":r!=null&&(t.onclick=kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mT.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[tn]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):wh(t,n,r)}}}function It(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",t),ue("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Te(t,e,a,s,n,null)}}i&&Te(t,e,"srcSet",n.srcSet,n,null),r&&Te(t,e,"src",n.src,n,null);return;case"input":ue("invalid",t);var o=a=s=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":i=f;break;case"type":s=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":a=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,e));break;default:Te(t,e,r,f,n,null)}}yT(t,a,o,u,c,s,i,!1);return;case"select":ue("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Te(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?io(t,!!r,e,!1):n!=null&&io(t,!!r,n,!0);return;case"textarea":ue("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(U(91));break;default:Te(t,e,s,o,n,null)}_T(t,r,i,a);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Te(t,e,u,r,n,null)}return;case"dialog":ue("beforetoggle",t),ue("toggle",t),ue("cancel",t),ue("close",t);break;case"iframe":case"object":ue("load",t);break;case"video":case"audio":for(r=0;r<Cu.length;r++)ue(Cu[r],t);break;case"image":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"embed":case"source":case"link":ue("error",t),ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,e));default:Te(t,e,c,r,n,null)}return;default:if(Jy(e)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&kg(t,e,f,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Te(t,e,o,r,n,null))}function rk(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,u=null,c=null,f=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(y)||Te(t,e,y,null,r,m)}}for(var p in r){var y=r[p];if(m=n[p],r.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":a=y;break;case"name":i=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":s=y;break;case"defaultValue":o=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(U(137,e));break;default:y!==m&&Te(t,e,p,y,r,m)}}ig(t,s,o,u,c,f,a,i);return;case"select":y=s=o=p=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":y=u;default:r.hasOwnProperty(a)||Te(t,e,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(a!=null||u!=null))switch(i){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==u&&Te(t,e,i,a,r,u)}e=o,n=s,r=y,p!=null?io(t,!!n,p,!1):!!r!=!!n&&(e!=null?io(t,!!n,e,!0):io(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Te(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":p=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(U(91));break;default:i!==a&&Te(t,e,s,i,r,a)}vT(t,p,y);return;case"option":for(var w in n)if(p=n[w],n.hasOwnProperty(w)&&p!=null&&!r.hasOwnProperty(w))switch(w){case"selected":t.selected=!1;break;default:Te(t,e,w,null,r,p)}for(u in r)if(p=r[u],y=n[u],r.hasOwnProperty(u)&&p!==y&&(p!=null||y!=null))switch(u){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Te(t,e,u,p,r,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var I in n)p=n[I],n.hasOwnProperty(I)&&p!=null&&!r.hasOwnProperty(I)&&Te(t,e,I,null,r,p);for(c in r)if(p=r[c],y=n[c],r.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(U(137,e));break;default:Te(t,e,c,p,r,y)}return;default:if(Jy(e)){for(var C in n)p=n[C],n.hasOwnProperty(C)&&p!==void 0&&!r.hasOwnProperty(C)&&kg(t,e,C,void 0,r,p);for(f in r)p=r[f],y=n[f],!r.hasOwnProperty(f)||p===y||p===void 0&&y===void 0||kg(t,e,f,p,r,y);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Te(t,e,v,null,r,p);for(m in r)p=r[m],y=n[m],!r.hasOwnProperty(m)||p===y||p==null&&y==null||Te(t,e,m,p,r,y)}function Bb(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ik(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&Bb(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var u=n[r],c=u.startTime;if(c>o)break;var f=u.transferSize,m=u.initiatorType;f&&Bb(m)&&(u=u.responseEnd,s+=f*(u<o?1:(o-c)/(u-c)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Mg=null,Pg=null;function Ef(t){return t.nodeType===9?t:t.ownerDocument}function zb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TA(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function jg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=null;function ak(){var t=window.event;return t&&t.type==="popstate"?t===fp?!1:(fp=t,!0):(fp=null,!1)}var SA=typeof setTimeout=="function"?setTimeout:void 0,sk=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(t){return $b.resolve(null).then(t).catch(lk)}:SA;function lk(t){setTimeout(function(){throw t})}function oa(t){return t==="head"}function Fb(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Ao(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")du(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,du(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Xu]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&du(t.ownerDocument.body);n=i}while(n);Ao(e)}function qb(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Lg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Lg(n),Xy(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function uk(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Xu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function ck(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Mn(t.nextSibling),t===null))return null;return t}function AA(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Mn(t.nextSibling),t===null))return null;return t}function Vg(t){return t.data==="$?"||t.data==="$~"}function Ug(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function hk(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Mn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Bg=null;function Hb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Mn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function Gb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function NA(t,e,n){switch(e=Ef(n),t){case"html":if(t=e.documentElement,!t)throw Error(U(452));return t;case"head":if(t=e.head,!t)throw Error(U(453));return t;case"body":if(t=e.body,!t)throw Error(U(454));return t;default:throw Error(U(451))}}function du(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Xy(t)}var jn=new Map,Yb=new Set;function wf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ti=_e.d;_e.d={f:fk,r:dk,D:mk,C:pk,L:gk,m:yk,X:_k,S:vk,M:bk};function fk(){var t=ti.f(),e=vd();return t||e}function dk(t){var e=Vo(t);e!==null&&e.tag===5&&e.type==="form"?bS(e):ti.r(t)}var $o=typeof document>"u"?null:document;function RA(t,e,n){var r=$o;if(r&&typeof e=="string"&&e){var i=Nn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Yb.has(i)||(Yb.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),It(e,"link",t),_t(e),r.head.appendChild(e)))}}function mk(t){ti.D(t),RA("dns-prefetch",t,null)}function pk(t,e){ti.C(t,e),RA("preconnect",t,e)}function gk(t,e,n){ti.L(t,e,n);var r=$o;if(r&&t&&e){var i='link[rel="preload"][as="'+Nn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Nn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Nn(n.imageSizes)+'"]')):i+='[href="'+Nn(t)+'"]';var a=i;switch(e){case"style":a=So(t);break;case"script":a=Fo(t)}jn.has(a)||(t=je({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),jn.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(rc(a))||e==="script"&&r.querySelector(ic(a))||(e=r.createElement("link"),It(e,"link",t),_t(e),r.head.appendChild(e)))}}function yk(t,e){ti.m(t,e);var n=$o;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Nn(r)+'"][href="'+Nn(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Fo(t)}if(!jn.has(a)&&(t=je({rel:"modulepreload",href:t},e),jn.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ic(a)))return}r=n.createElement("link"),It(r,"link",t),_t(r),n.head.appendChild(r)}}}function vk(t,e,n){ti.S(t,e,n);var r=$o;if(r&&t){var i=ro(r).hoistableStyles,a=So(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(rc(a)))o.loading=5;else{t=je({rel:"stylesheet",href:t,"data-precedence":e},n),(n=jn.get(a))&&jv(t,n);var u=s=r.createElement("link");_t(u),It(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,kh(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function _k(t,e){ti.X(t,e);var n=$o;if(n&&t){var r=ro(n).hoistableScripts,i=Fo(t),a=r.get(i);a||(a=n.querySelector(ic(i)),a||(t=je({src:t,async:!0},e),(e=jn.get(i))&&Lv(t,e),a=n.createElement("script"),_t(a),It(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function bk(t,e){ti.M(t,e);var n=$o;if(n&&t){var r=ro(n).hoistableScripts,i=Fo(t),a=r.get(i);a||(a=n.querySelector(ic(i)),a||(t=je({src:t,async:!0,type:"module"},e),(e=jn.get(i))&&Lv(t,e),a=n.createElement("script"),_t(a),It(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Wb(t,e,n,r){var i=(i=ki.current)?wf(i):null;if(!i)throw Error(U(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=So(n.href),n=ro(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=So(n.href);var a=ro(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(rc(t)))&&!a._p&&(s.instance=a,s.state.loading=5),jn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},jn.set(t,n),a||Ek(i,t,n,s.state))),e&&r===null)throw Error(U(528,""));return s}if(e&&r!==null)throw Error(U(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Fo(n),n=ro(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,t))}}function So(t){return'href="'+Nn(t)+'"'}function rc(t){return'link[rel="stylesheet"]['+t+"]"}function CA(t){return je({},t,{"data-precedence":t.precedence,precedence:null})}function Ek(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),It(e,"link",n),_t(e),t.head.appendChild(e))}function Fo(t){return'[src="'+Nn(t)+'"]'}function ic(t){return"script[async]"+t}function Kb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Nn(n.href)+'"]');if(r)return e.instance=r,_t(r),r;var i=je({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),_t(r),It(r,"style",i),kh(r,n.precedence,t),e.instance=r;case"stylesheet":i=So(n.href);var a=t.querySelector(rc(i));if(a)return e.state.loading|=4,e.instance=a,_t(a),a;r=CA(n),(i=jn.get(i))&&jv(r,i),a=(t.ownerDocument||t).createElement("link"),_t(a);var s=a;return s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),It(a,"link",r),e.state.loading|=4,kh(a,n.precedence,t),e.instance=a;case"script":return a=Fo(n.src),(i=t.querySelector(ic(a)))?(e.instance=i,_t(i),i):(r=n,(i=jn.get(a))&&(r=je({},n),Lv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),_t(i),It(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(U(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,kh(r,n.precedence,t));return e.instance}function kh(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function jv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Lv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Mh=null;function Qb(t,e,n){if(Mh===null){var r=new Map,i=Mh=new Map;i.set(n,r)}else i=Mh,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Xu]||a[St]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Xb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function wk(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function IA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function xk(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=So(r.href),a=e.querySelector(rc(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=xf.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,_t(a);return}a=e.ownerDocument||e,r=CA(r),(i=jn.get(i))&&jv(r,i),a=a.createElement("link"),_t(a);var s=a;s._p=new Promise(function(o,u){s.onload=o,s.onerror=u}),It(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=xf.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var dp=0;function Tk(t,e){return t.stylesheets&&t.count===0&&Ph(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Ph(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&dp===0&&(dp=62500*ik());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ph(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>dp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Tf=null;function Ph(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Tf=new Map,e.forEach(Sk,t),Tf=null,xf.call(t))}function Sk(t,e){if(!(e.state.loading&4)){var n=Tf.get(t);if(n)var r=n.get(null);else{n=new Map,Tf.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=xf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Ou={$$typeof:Dr,Provider:null,Consumer:null,_currentValue:La,_currentValue2:La,_threadCount:0};function Ak(t,e,n,r,i,a,s,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jm(0),this.hiddenUpdates=jm(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function OA(t,e,n,r,i,a,s,o,u,c,f,m){return t=new Ak(t,e,n,s,u,c,f,m,o),e=1,a===!0&&(e|=24),a=cn(3,null,null,e),t.current=a,a.stateNode=t,e=uv(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},fv(a),t}function DA(t){return t?(t=Ws,t):Ws}function kA(t,e,n,r,i,a){i=DA(i),r.context===null?r.context=i:r.pendingContext=i,r=Pi(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=ji(t,r,e),n!==null&&(Zt(n,t,e),au(n,t,e))}function Jb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vv(t,e){Jb(t,e),(t=t.alternate)&&Jb(t,e)}function MA(t){if(t.tag===13||t.tag===31){var e=ss(t,67108864);e!==null&&Zt(e,t,67108864),Vv(t,67108864)}}function Zb(t){if(t.tag===13||t.tag===31){var e=yn();e=Ky(e);var n=ss(t,e);n!==null&&Zt(n,t,e),Vv(t,e)}}var Sf=!0;function Nk(t,e,n,r){var i=ee.T;ee.T=null;var a=_e.p;try{_e.p=2,Uv(t,e,n,r)}finally{_e.p=a,ee.T=i}}function Rk(t,e,n,r){var i=ee.T;ee.T=null;var a=_e.p;try{_e.p=8,Uv(t,e,n,r)}finally{_e.p=a,ee.T=i}}function Uv(t,e,n,r){if(Sf){var i=zg(r);if(i===null)hp(t,e,r,Af,n),eE(t,r);else if(Ik(i,t,e,n,r))r.stopPropagation();else if(eE(t,r),e&4&&-1<Ck.indexOf(t)){for(;i!==null;){var a=Vo(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Oa(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var u=1<<31-gn(s);o.entanglements[1]|=u,s&=~u}br(a),!(ve&6)&&(pf=mn()+500,nc(0))}}break;case 31:case 13:o=ss(a,2),o!==null&&Zt(o,a,2),vd(),Vv(a,2)}if(a=zg(r),a===null&&hp(t,e,r,Af,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else hp(t,e,r,null,n)}}function zg(t){return t=Zy(t),Bv(t)}var Af=null;function Bv(t){if(Af=null,t=$s(t),t!==null){var e=Yu(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=eT(e),t!==null)return t;t=null}else if(n===31){if(t=tT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Af=t,null}function PA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mO()){case aT:return 2;case sT:return 8;case ef:case pO:return 32;case oT:return 268435456;default:return 32}default:return 32}}var $g=!1,Ui=null,Bi=null,zi=null,Du=new Map,ku=new Map,Ei=[],Ck="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eE(t,e){switch(t){case"focusin":case"focusout":Ui=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":zi=null;break;case"pointerover":case"pointerout":Du.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(e.pointerId)}}function jl(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Vo(e),e!==null&&MA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ik(t,e,n,r,i){switch(e){case"focusin":return Ui=jl(Ui,t,e,n,r,i),!0;case"dragenter":return Bi=jl(Bi,t,e,n,r,i),!0;case"mouseover":return zi=jl(zi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Du.set(a,jl(Du.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ku.set(a,jl(ku.get(a)||null,t,e,n,r,i)),!0}return!1}function jA(t){var e=$s(t.target);if(e!==null){var n=Yu(e);if(n!==null){if(e=n.tag,e===13){if(e=eT(n),e!==null){t.blockedOn=e,V1(t.priority,function(){Zb(n)});return}}else if(e===31){if(e=tT(n),e!==null){t.blockedOn=e,V1(t.priority,function(){Zb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zg(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);sg=r,n.target.dispatchEvent(r),sg=null}else return e=Vo(n),e!==null&&MA(e),t.blockedOn=n,!1;e.shift()}return!0}function tE(t,e,n){jh(t)&&n.delete(e)}function Ok(){$g=!1,Ui!==null&&jh(Ui)&&(Ui=null),Bi!==null&&jh(Bi)&&(Bi=null),zi!==null&&jh(zi)&&(zi=null),Du.forEach(tE),ku.forEach(tE)}function rh(t,e){t.blockedOn===e&&(t.blockedOn=null,$g||($g=!0,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,Ok)))}var ih=null;function nE(t){ih!==t&&(ih=t,mt.unstable_scheduleCallback(mt.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Bv(r||n)===null)continue;break}var a=Vo(n);a!==null&&(t.splice(e,3),e-=3,wg(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Ao(t){function e(u){return rh(u,t)}Ui!==null&&rh(Ui,t),Bi!==null&&rh(Bi,t),zi!==null&&rh(zi,t),Du.forEach(e),ku.forEach(e);for(var n=0;n<Ei.length;n++){var r=Ei[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)jA(n),n.blockedOn===null&&Ei.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[tn]||null;if(typeof a=="function")s||nE(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[tn]||null)o=s.formAction;else if(Bv(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),nE(n)}}}function LA(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function zv(t){this._internalRoot=t}Ed.prototype.render=zv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));var n=e.current,r=yn();kA(n,r,t,e,null,null)};Ed.prototype.unmount=zv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;kA(t.current,2,null,t,null,null),vd(),e[Lo]=null}};function Ed(t){this._internalRoot=t}Ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=fT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&jA(t)}};var rE=Jx.version;if(rE!=="19.2.3")throw Error(U(527,rE,"19.2.3"));_e.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=oO(e),t=t!==null?nT(t):null,t=t===null?null:t.stateNode,t};var Dk={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Wu=ah.inject(Dk),pn=ah}catch{}}id.createRoot=function(t,e){if(!Zx(t))throw Error(U(299));var n=!1,r="",i=RS,a=CS,s=IS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=OA(t,1,!1,null,null,n,r,null,i,a,s,LA),t[Lo]=e.current,Pv(t),new zv(e)};id.hydrateRoot=function(t,e,n){if(!Zx(t))throw Error(U(299));var r=!1,i="",a=RS,s=CS,o=IS,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=OA(t,1,!0,e,n??null,r,i,u,a,s,o,LA),e.context=DA(null),n=e.current,r=yn(),r=Ky(r),i=Pi(r),i.callback=null,ji(n,i,r),n=r,e.current.lanes=n,Qu(e,n),br(e),t[Lo]=e.current,Pv(t),new Ed(e)};id.version="19.2.3";function VA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VA)}catch(t){console.error(t)}}VA(),Gx.exports=id;var kk=Gx.exports;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iE="popstate";function Mk(t={}){function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return Fg("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Mu(i)}return jk(e,n,null,t)}function Be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ln(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Pk(){return Math.random().toString(36).substring(2,10)}function aE(t,e){return{usr:t.state,key:t.key,idx:e}}function Fg(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qo(e):e,state:n,key:e&&e.key||r||Pk()}}function Mu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function jk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function m(){o="POP";let C=f(),v=C==null?null:C-c;c=C,u&&u({action:o,location:I.location,delta:v})}function p(C,v){o="PUSH";let _=Fg(I.location,C,v);c=f()+1;let S=aE(_,c),N=I.createHref(_);try{s.pushState(S,"",N)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(N)}a&&u&&u({action:o,location:I.location,delta:1})}function y(C,v){o="REPLACE";let _=Fg(I.location,C,v);c=f();let S=aE(_,c),N=I.createHref(_);s.replaceState(S,"",N),a&&u&&u({action:o,location:I.location,delta:0})}function w(C){return Lk(C)}let I={get action(){return o},get location(){return t(i,s)},listen(C){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(iE,m),u=C,()=>{i.removeEventListener(iE,m),u=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let v=w(C);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:p,replace:y,go(C){return s.go(C)}};return I}function Lk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Be(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Mu(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function UA(t,e,n="/"){return Vk(t,e,n,!1)}function Vk(t,e,n,r){let i=typeof e=="string"?qo(e):e,a=Kr(i.pathname||"/",n);if(a==null)return null;let s=BA(t);Uk(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let c=Qk(a);o=Wk(s[u],c,r)}return o}function BA(t,e=[],n=[],r="",i=!1){let a=(s,o,u=i,c)=>{let f={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;Be(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=Br([r,f.relativePath]),p=n.concat(f);s.children&&s.children.length>0&&(Be(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),BA(s.children,e,p,m,u)),!(s.path==null&&!s.index)&&e.push({path:m,score:Gk(m,s.index),routesMeta:p})};return t.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,o);else for(let c of zA(s.path))a(s,o,!0,c)}),e}function zA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=zA(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function Uk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Bk=/^:[\w-]+$/,zk=3,$k=2,Fk=1,qk=10,Hk=-2,sE=t=>t==="*";function Gk(t,e){let n=t.split("/"),r=n.length;return n.some(sE)&&(r+=Hk),e&&(r+=$k),n.filter(i=>!sE(i)).reduce((i,a)=>i+(Bk.test(a)?zk:a===""?Fk:qk),r)}function Yk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Wk(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",m=Nf({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),p=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Nf({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Br([a,m.pathname]),pathnameBase:eM(Br([a,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(a=Br([a,m.pathnameBase]))}return s}function Nf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Kk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:m},p)=>{if(f==="*"){let w=o[p]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[p];return m&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function Kk(t,e=!1,n=!0){Ln(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Qk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Kr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}var $A=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xk=t=>$A.test(t);function Jk(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qo(t):t,a;if(n)if(Xk(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),Ln(!1,`Pathnames cannot have embedded double slashes - normalizing ${s} -> ${n}`)}n.startsWith("/")?a=oE(n.substring(1),"/"):a=oE(n,e)}else a=e;return{pathname:a,search:tM(r),hash:nM(i)}}function oE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $v(t){let e=Zk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Fv(t,e,n,r=!1){let i;typeof t=="string"?i=qo(t):(i={...t},Be(!i.pathname||!i.pathname.includes("?"),mp("?","pathname","search",i)),Be(!i.pathname||!i.pathname.includes("#"),mp("#","pathname","hash",i)),Be(!i.search||!i.search.includes("#"),mp("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}o=m>=0?e[m]:"/"}let u=Jk(i,o),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Br=t=>t.join("/").replace(/\/\/+/g,"/"),eM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,nM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,rM=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function iM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function aM(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qA(t,e){let n=t;if(typeof n!="string"||!$A.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(FA)try{let a=new URL(window.location.href),s=n.startsWith("//")?new URL(a.protocol+n):new URL(n),o=Kr(s.pathname,e);s.origin===a.origin&&o!=null?n=o+s.search+s.hash:i=!0}catch{Ln(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var HA=["POST","PUT","PATCH","DELETE"];new Set(HA);var sM=["GET",...HA];new Set(sM);var Ho=O.createContext(null);Ho.displayName="DataRouter";var wd=O.createContext(null);wd.displayName="DataRouterState";var oM=O.createContext(!1),GA=O.createContext({isTransitioning:!1});GA.displayName="ViewTransition";var lM=O.createContext(new Map);lM.displayName="Fetchers";var uM=O.createContext(null);uM.displayName="Await";var En=O.createContext(null);En.displayName="Navigation";var ac=O.createContext(null);ac.displayName="Location";var Xn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Xn.displayName="Route";var qv=O.createContext(null);qv.displayName="RouteError";var YA="REACT_ROUTER_ERROR",cM="REDIRECT",hM="ROUTE_ERROR_RESPONSE";function fM(t){if(t.startsWith(`${YA}:${cM}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function dM(t){if(t.startsWith(`${YA}:${hM}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new rM(e.status,e.statusText,e.data)}catch{}}function mM(t,{relative:e}={}){Be(Go(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=O.useContext(En),{hash:i,pathname:a,search:s}=oc(t,{relative:e}),o=a;return n!=="/"&&(o=a==="/"?n:Br([n,a])),r.createHref({pathname:o,search:s,hash:i})}function Go(){return O.useContext(ac)!=null}function ni(){return Be(Go(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(ac).location}var WA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function KA(t){O.useContext(En).static||O.useLayoutEffect(t)}function sc(){let{isDataRoute:t}=O.useContext(Xn);return t?NM():pM()}function pM(){Be(Go(),"useNavigate() may be used only in the context of a <Router> component.");let t=O.useContext(Ho),{basename:e,navigator:n}=O.useContext(En),{matches:r}=O.useContext(Xn),{pathname:i}=ni(),a=JSON.stringify($v(r)),s=O.useRef(!1);return KA(()=>{s.current=!0}),O.useCallback((u,c={})=>{if(Ln(s.current,WA),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=Fv(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Br([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,i,t])}O.createContext(null);function QA(){let{matches:t}=O.useContext(Xn),e=t[t.length-1];return e?e.params:{}}function oc(t,{relative:e}={}){let{matches:n}=O.useContext(Xn),{pathname:r}=ni(),i=JSON.stringify($v(n));return O.useMemo(()=>Fv(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function gM(t,e){return XA(t,e)}function XA(t,e,n,r,i){var _;Be(Go(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(En),{matches:s}=O.useContext(Xn),o=s[s.length-1],u=o?o.params:{},c=o?o.pathname:"/",f=o?o.pathnameBase:"/",m=o&&o.route;{let S=m&&m.path||"";ZA(c,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=ni(),y;if(e){let S=typeof e=="string"?qo(e):e;Be(f==="/"||((_=S.pathname)==null?void 0:_.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=p;let w=y.pathname||"/",I=w;if(f!=="/"){let S=f.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=UA(t,{pathname:I});Ln(m||C!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ln(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=EM(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},u,S.params),pathname:Br([f,a.encodeLocation?a.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:Br([f,a.encodeLocation?a.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),s,n,r,i);return e&&v?O.createElement(ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},v):v}function yM(){let t=AM(),e=iM(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,s)}var vM=O.createElement(yM,null),JA=class extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=dM(t.digest);n&&(t=n)}let e=t!==void 0?O.createElement(Xn.Provider,{value:this.props.routeContext},O.createElement(qv.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?O.createElement(_M,{error:t},e):e}};JA.contextType=oM;var pp=new WeakMap;function _M({children:t,error:e}){let{basename:n}=O.useContext(En);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=fM(e.digest);if(r){let i=pp.get(e);if(i)throw i;let a=qA(r.location,n);if(FA&&!pp.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw pp.set(e,s),s}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function bM({routeContext:t,match:e,children:n}){let r=O.useContext(Ho);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Xn.Provider,{value:t},n)}function EM(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=n==null?void 0:n.errors;if(s!=null){let f=a.findIndex(m=>m.route.id&&(s==null?void 0:s[m.route.id])!==void 0);Be(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:p,errors:y}=n,w=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||w){o=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let c=n&&r?(f,m)=>{var p,y;r(f,{location:n.location,params:((y=(p=n.matches)==null?void 0:p[0])==null?void 0:y.params)??{},unstable_pattern:aM(n.matches),errorInfo:m})}:void 0;return a.reduceRight((f,m,p)=>{let y,w=!1,I=null,C=null;n&&(y=s&&m.route.id?s[m.route.id]:void 0,I=m.route.errorElement||vM,o&&(u<0&&p===0?(ZA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):u===p&&(w=!0,C=m.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,p+1)),_=()=>{let S;return y?S=I:w?S=C:m.route.Component?S=O.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,O.createElement(bM,{match:m,routeContext:{outlet:f,matches:v,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?O.createElement(JA,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0},onError:c}):_()},null)}function Hv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wM(t){let e=O.useContext(Ho);return Be(e,Hv(t)),e}function xM(t){let e=O.useContext(wd);return Be(e,Hv(t)),e}function TM(t){let e=O.useContext(Xn);return Be(e,Hv(t)),e}function Gv(t){let e=TM(t),n=e.matches[e.matches.length-1];return Be(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function SM(){return Gv("useRouteId")}function AM(){var r;let t=O.useContext(qv),e=xM("useRouteError"),n=Gv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function NM(){let{router:t}=wM("useNavigate"),e=Gv("useNavigate"),n=O.useRef(!1);return KA(()=>{n.current=!0}),O.useCallback(async(i,a={})=>{Ln(n.current,WA),n.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var lE={};function ZA(t,e,n){!e&&!lE[t]&&(lE[t]=!0,Ln(!1,n))}O.memo(RM);function RM({routes:t,future:e,state:n,onError:r}){return XA(t,void 0,n,r,e)}function CM({to:t,replace:e,state:n,relative:r}){Be(Go(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=O.useContext(En);Ln(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Xn),{pathname:s}=ni(),o=sc(),u=Fv(t,$v(a),s,r==="path"),c=JSON.stringify(u);return O.useEffect(()=>{o(JSON.parse(c),{replace:e,state:n,relative:r})},[o,c,r,e,n]),null}function Ms(t){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function IM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){Be(!Go(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof n=="string"&&(n=qo(n));let{pathname:c="/",search:f="",hash:m="",state:p=null,key:y="default"}=n,w=O.useMemo(()=>{let I=Kr(c,o);return I==null?null:{location:{pathname:I,search:f,hash:m,state:p,key:y},navigationType:r}},[o,c,f,m,p,y,r]);return Ln(w!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(En.Provider,{value:u},O.createElement(ac.Provider,{children:e,value:w}))}function OM({children:t,location:e}){return gM(qg(t),e)}function qg(t,e=[]){let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let a=[...e,i];if(r.type===O.Fragment){n.push.apply(n,qg(r.props.children,a));return}Be(r.type===Ms,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=qg(r.props.children,a)),n.push(s)}),n}var Lh="get",Vh="application/x-www-form-urlencoded";function xd(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function DM(t){return xd(t)&&t.tagName.toLowerCase()==="button"}function kM(t){return xd(t)&&t.tagName.toLowerCase()==="form"}function MM(t){return xd(t)&&t.tagName.toLowerCase()==="input"}function PM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jM(t,e){return t.button===0&&(!e||e==="_self")&&!PM(t)}var sh=null;function LM(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch{sh=!0}return sh}var VM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(t){return t!=null&&!VM.has(t)?(Ln(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vh}"`),null):t}function UM(t,e){let n,r,i,a,s;if(kM(t)){let o=t.getAttribute("action");r=o?Kr(o,e):null,n=t.getAttribute("method")||Lh,i=gp(t.getAttribute("enctype"))||Vh,a=new FormData(t)}else if(DM(t)||MM(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||o.getAttribute("action");if(r=u?Kr(u,e):null,n=t.getAttribute("formmethod")||o.getAttribute("method")||Lh,i=gp(t.getAttribute("formenctype"))||gp(o.getAttribute("enctype"))||Vh,a=new FormData(o,t),!LM()){let{name:c,type:f,value:m}=t;if(f==="image"){let p=c?`${c}.`:"";a.append(`${p}x`,"0"),a.append(`${p}y`,"0")}else c&&a.append(c,m)}}else{if(xd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lh,r=null,i=Vh,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BM(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Kr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $M(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FM(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await zM(a,n);return s.links?s.links():[]}return[]}));return YM(r.flat(1).filter($M).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function uE(t,e,n,r,i,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,o=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||o(u,c)):a==="data"?e.filter((u,c)=>{var m;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||o(u,c))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function qM(t,e,{includeHydrateFallback:n}={}){return HM(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function HM(t){return[...new Set(t)]}function GM(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function YM(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(GM(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function e2(){let t=O.useContext(Ho);return Yv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WM(){let t=O.useContext(wd);return Yv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Wv=O.createContext(void 0);Wv.displayName="FrameworkContext";function t2(){let t=O.useContext(Wv);return Yv(t,"You must render this element inside a <HydratedRouter> element"),t}function KM(t,e){let n=O.useContext(Wv),[r,i]=O.useState(!1),[a,s]=O.useState(!1),{onFocus:o,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,p=O.useRef(null);O.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let I=v=>{v.forEach(_=>{s(_.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return p.current&&C.observe(p.current),()=>{C.disconnect()}}},[t]),O.useEffect(()=>{if(r){let I=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(I)}}},[r]);let y=()=>{i(!0)},w=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,p,{}]:[a,p,{onFocus:Ll(o,y),onBlur:Ll(u,w),onMouseEnter:Ll(c,y),onMouseLeave:Ll(f,w),onTouchStart:Ll(m,y)}]:[!1,p,{}]}function Ll(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function QM({page:t,...e}){let{router:n}=e2(),r=O.useMemo(()=>UA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?O.createElement(JM,{page:t,matches:r,...e}):null}function XM(t){let{manifest:e,routeModules:n}=t2(),[r,i]=O.useState([]);return O.useEffect(()=>{let a=!1;return FM(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function JM({page:t,matches:e,...n}){let r=ni(),{manifest:i,routeModules:a}=t2(),{basename:s}=e2(),{loaderData:o,matches:u}=WM(),c=O.useMemo(()=>uE(t,e,u,i,r,"data"),[t,e,u,i,r]),f=O.useMemo(()=>uE(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=O.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,I=!1;if(e.forEach(v=>{var S;let _=i.routes[v.route.id];!_||!_.hasLoader||(!c.some(N=>N.route.id===v.route.id)&&v.route.id in o&&((S=a[v.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?I=!0:w.add(v.route.id))}),w.size===0)return[];let C=BM(t,s,"data");return I&&w.size>0&&C.searchParams.set("_routes",e.filter(v=>w.has(v.route.id)).map(v=>v.route.id).join(",")),[C.pathname+C.search]},[s,o,r,i,c,e,t,a]),p=O.useMemo(()=>qM(f,i),[f,i]),y=XM(f);return O.createElement(O.Fragment,null,m.map(w=>O.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),p.map(w=>O.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:I})=>O.createElement("link",{key:w,nonce:n.nonce,...I})))}function ZM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var e4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e4&&(window.__reactRouterVersion="7.11.0")}catch{}function t4({basename:t,children:e,unstable_useTransitions:n,window:r}){let i=O.useRef();i.current==null&&(i.current=Mk({window:r,v5Compat:!0}));let a=i.current,[s,o]=O.useState({action:a.action,location:a.location}),u=O.useCallback(c=>{n===!1?o(c):O.startTransition(()=>o(c))},[n]);return O.useLayoutEffect(()=>a.listen(u),[a,u]),O.createElement(IM,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:n})}var n2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,r2=O.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:o,target:u,to:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},w){let{basename:I,unstable_useTransitions:C}=O.useContext(En),v=typeof c=="string"&&n2.test(c),_=qA(c,I);c=_.to;let S=mM(c,{relative:i}),[N,L,F]=KM(r,y),A=a4(c,{replace:s,state:o,target:u,preventScrollReset:f,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:C});function E(R){e&&e(R),R.defaultPrevented||A(R)}let x=O.createElement("a",{...y,...F,href:_.absoluteURL||S,onClick:_.isExternal||a?e:E,ref:ZM(w,L),target:u,"data-discover":!v&&n==="render"?"true":void 0});return N&&!v?O.createElement(O.Fragment,null,x,O.createElement(QM,{page:S})):x});r2.displayName="Link";var n4=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:o,children:u,...c},f){let m=oc(s,{relative:c.relative}),p=ni(),y=O.useContext(wd),{navigator:w,basename:I}=O.useContext(En),C=y!=null&&c4(m)&&o===!0,v=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,_=p.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&I&&(S=Kr(S,I)||S);const N=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let L=_===v||!i&&_.startsWith(v)&&_.charAt(N)==="/",F=S!=null&&(S===v||!i&&S.startsWith(v)&&S.charAt(v.length)==="/"),A={isActive:L,isPending:F,isTransitioning:C},E=L?e:void 0,x;typeof r=="function"?x=r(A):x=[r,L?"active":null,F?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(A):a;return O.createElement(r2,{...c,"aria-current":E,className:x,ref:f,style:R,to:s,viewTransition:o},typeof u=="function"?u(A):u)});n4.displayName="NavLink";var r4=O.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=Lh,action:o,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p,...y},w)=>{let{unstable_useTransitions:I}=O.useContext(En),C=l4(),v=u4(o,{relative:c}),_=s.toLowerCase()==="get"?"get":"post",S=typeof o=="string"&&n2.test(o),N=L=>{if(u&&u(L),L.defaultPrevented)return;L.preventDefault();let F=L.nativeEvent.submitter,A=(F==null?void 0:F.getAttribute("formmethod"))||s,E=()=>C(F||L.currentTarget,{fetcherKey:e,method:A,navigate:n,replace:i,state:a,relative:c,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:p});I&&n!==!1?O.startTransition(()=>E()):E()};return O.createElement("form",{ref:w,method:_,action:v,onSubmit:r?u:N,...y,"data-discover":!S&&t==="render"?"true":void 0})});r4.displayName="Form";function i4(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(t){let e=O.useContext(Ho);return Be(e,i4(t)),e}function a4(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:u}={}){let c=sc(),f=ni(),m=oc(t,{relative:a});return O.useCallback(p=>{if(jM(p,e)){p.preventDefault();let y=n!==void 0?n:Mu(f)===Mu(m),w=()=>c(t,{replace:y,state:r,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});u?O.startTransition(()=>w()):w()}},[f,c,m,n,r,e,t,i,a,s,o,u])}var s4=0,o4=()=>`__${String(++s4)}__`;function l4(){let{router:t}=i2("useSubmit"),{basename:e}=O.useContext(En),n=SM(),r=t.fetch,i=t.navigate;return O.useCallback(async(a,s={})=>{let{action:o,method:u,encType:c,formData:f,body:m}=UM(a,e);if(s.navigate===!1){let p=s.fetcherKey||o4();await r(p,n,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||c,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[r,i,e,n])}function u4(t,{relative:e}={}){let{basename:n}=O.useContext(En),r=O.useContext(Xn);Be(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...oc(t||".",{relative:e})},s=ni();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),u=o.getAll("index");if(u.some(f=>f==="")){o.delete("index"),u.filter(m=>m).forEach(m=>o.append("index",m));let f=o.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Br([n,a.pathname])),Mu(a)}function c4(t,{relative:e}={}){let n=O.useContext(GA);Be(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i2("useViewTransitionState"),i=oc(t,{relative:e});if(!n.isTransitioning)return!1;let a=Kr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Kr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Nf(i.pathname,s)!=null||Nf(i.pathname,a)!=null}function a2(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=a2(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Td(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=a2(t))&&(r&&(r+=" "),r+=e);return r}const h4=(t,e,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(t,n),a=Object.getOwnPropertyDescriptor(e,n);!f4(i,a)&&r||Object.defineProperty(t,n,a)},f4=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},d4=(t,e)=>{const n=Object.getPrototypeOf(e);n!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,n)},m4=(t,e)=>`/* Wrapped ${t}*/
${e}`,p4=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),g4=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),y4=(t,e,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=m4.bind(null,r,e.toString());Object.defineProperty(i,"name",g4);const{writable:a,enumerable:s,configurable:o}=p4;Object.defineProperty(t,"toString",{value:i,writable:a,enumerable:s,configurable:o})};function v4(t,e,{ignoreNonConfigurable:n=!1}={}){const{name:r}=t;for(const i of Reflect.ownKeys(e))h4(t,e,i,n);return d4(t,e),y4(t,e,r),t}const oh=2147483647,_4=new WeakMap,yp=new WeakMap,b4=new WeakMap;function E4(t,e){const n=t.get(e);if(n){if(n.maxAge<=Date.now()){t.delete(e);return}return n}}function s2(t,{cacheKey:e,cache:n=new Map,maxAge:r}={}){if(r===0)return t;if(typeof r=="number"&&Number.isFinite(r)){if(r>oh)throw new TypeError(`The \`maxAge\` option cannot exceed ${oh}.`);if(r<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...a){var f;const s=e?e(a):a[0],o=E4(n,s);if(o)return o.data;const u=t.apply(this,a),c=typeof r=="function"?r(...a):r;if(c!==void 0&&c!==Number.POSITIVE_INFINITY){if(!Number.isFinite(c))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(c<=0)return u;if(c>oh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${oh}.`)}if(n.set(s,{data:u,maxAge:c===void 0||c===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+c}),c!==void 0&&c!==Number.POSITIVE_INFINITY){const m=setTimeout(()=>{var y;n.delete(s),(y=yp.get(i))==null||y.delete(m)},c);(f=m.unref)==null||f.call(m);const p=yp.get(i)??new Set;p.add(m),yp.set(i,p)}return u};return v4(i,t,{ignoreNonConfigurable:!0}),_4.set(i,n),b4.set(i,e??(a=>a[0])),i}function w4(t){return typeof t=="string"}function x4(t,e,n){return n.indexOf(t)===e}function T4(t){return t.toLowerCase()===t}function cE(t){return t.indexOf(",")===-1?t:t.split(",")}function Hg(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var e=t.split(".")[0],n=e===void 0?"":e;return Hg(n)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],n=r===void 0?"":r;return Hg(n)}if(t.indexOf("-")===-1||!T4(t))return t;var i=t.split("-"),a=i[0],s=i[1],o=s===void 0?"":s;return"".concat(a,"-").concat(o.toUpperCase())}function S4(t){var e=t===void 0?{}:t,n=e.useFallbackLocale,r=n===void 0?!0:n,i=e.fallbackLocale,a=i===void 0?"en-US":i,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],u=[],c=0,f=o;c<f.length;c++){var m=f[c];u=u.concat(cE(m))}var p=navigator.language,y=p&&cE(p);s=s.concat(u,y)}return r&&s.push(a),s.filter(w4).map(Hg).filter(x4)}var A4=s2(S4,{cacheKey:JSON.stringify});function N4(t){return A4(t)[0]||null}var o2=s2(N4,{cacheKey:JSON.stringify});function ri(t,e,n){return function(i,a=n){const s=t(i)+a;return e(s)}}function lc(t){return function(n){return new Date(t(n).getTime()-1)}}function uc(t,e){return function(r){return[t(r),e(r)]}}function ze(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;const e=Number.parseInt(t,10);if(typeof t=="string"&&!Number.isNaN(e))return e;throw new Error(`Failed to get year from date: ${t}.`)}function la(t){if(t instanceof Date)return t.getMonth();throw new Error(`Failed to get month from date: ${t}.`)}function Sd(t){if(t instanceof Date)return t.getDate();throw new Error(`Failed to get year from date: ${t}.`)}function Yo(t){const e=ze(t),n=e+(-e+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const R4=ri(ze,Yo,-100),l2=ri(ze,Yo,100),Kv=lc(l2),C4=ri(ze,Kv,-100),u2=uc(Yo,Kv);function ua(t){const e=ze(t),n=e+(-e+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}const c2=ri(ze,ua,-10),Qv=ri(ze,ua,10),Ad=lc(Qv),h2=ri(ze,Ad,-10),f2=uc(ua,Ad);function Wo(t){const e=ze(t),n=new Date;return n.setFullYear(e,0,1),n.setHours(0,0,0,0),n}const d2=ri(ze,Wo,-1),Xv=ri(ze,Wo,1),Nd=lc(Xv),m2=ri(ze,Nd,-1),I4=uc(Wo,Nd);function Jv(t,e){return function(r,i=e){const a=ze(r),s=la(r)+i,o=new Date;return o.setFullYear(a,s,1),o.setHours(0,0,0,0),t(o)}}function ls(t){const e=ze(t),n=la(t),r=new Date;return r.setFullYear(e,n,1),r.setHours(0,0,0,0),r}const p2=Jv(ls,-1),Zv=Jv(ls,1),cc=lc(Zv),g2=Jv(cc,-1),O4=uc(ls,cc);function D4(t,e){return function(r,i=e){const a=ze(r),s=la(r),o=Sd(r)+i,u=new Date;return u.setFullYear(a,s,o),u.setHours(0,0,0,0),t(u)}}function hc(t){const e=ze(t),n=la(t),r=Sd(t),i=new Date;return i.setFullYear(e,n,r),i.setHours(0,0,0,0),i}const k4=D4(hc,1),e0=lc(k4),M4=uc(hc,e0);function y2(t){return Sd(cc(t))}var Nt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},P4={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},t0=[0,1,2,3,4,5,6],vp=new Map;function j4(t){return function(n,r){var i=n||o2();vp.has(i)||vp.set(i,new Map);var a=vp.get(i);return a.has(t)||a.set(t,new Intl.DateTimeFormat(i||void 0,t).format),a.get(t)(r)}}function L4(t){var e=new Date(t);return new Date(e.setHours(12))}function us(t){return function(e,n){return j4(t)(e,L4(n))}}var V4={day:"numeric"},U4={day:"numeric",month:"long",year:"numeric"},B4={month:"long"},z4={month:"long",year:"numeric"},$4={weekday:"short"},F4={weekday:"long"},q4={year:"numeric"},H4=us(V4),G4=us(U4),Y4=us(B4),v2=us(z4),W4=us($4),K4=us(F4),Rd=us(q4),Q4=t0[0],X4=t0[5],hE=t0[6];function Pu(t,e){e===void 0&&(e=Nt.ISO_8601);var n=t.getDay();switch(e){case Nt.ISO_8601:return(n+6)%7;case Nt.ISLAMIC:return(n+1)%7;case Nt.HEBREW:case Nt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function J4(t){var e=Yo(t);return ze(e)}function Z4(t){var e=ua(t);return ze(e)}function Gg(t,e){e===void 0&&(e=Nt.ISO_8601);var n=ze(t),r=la(t),i=t.getDate()-Pu(t,e);return new Date(n,r,i)}function eP(t,e){e===void 0&&(e=Nt.ISO_8601);var n=e===Nt.GREGORY?Nt.GREGORY:Nt.ISO_8601,r=Gg(t,e),i=ze(t)+1,a,s;do a=new Date(i,0,n===Nt.ISO_8601?4:1),s=Gg(a,e),i-=1;while(t<s);return Math.round((r.getTime()-s.getTime())/(864e5*7))+1}function $a(t,e){switch(t){case"century":return Yo(e);case"decade":return ua(e);case"year":return Wo(e);case"month":return ls(e);case"day":return hc(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function tP(t,e){switch(t){case"century":return R4(e);case"decade":return c2(e);case"year":return d2(e);case"month":return p2(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function _2(t,e){switch(t){case"century":return l2(e);case"decade":return Qv(e);case"year":return Xv(e);case"month":return Zv(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function nP(t,e){switch(t){case"decade":return c2(e,-100);case"year":return d2(e,-10);case"month":return p2(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function rP(t,e){switch(t){case"decade":return Qv(e,100);case"year":return Xv(e,10);case"month":return Zv(e,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function b2(t,e){switch(t){case"century":return Kv(e);case"decade":return Ad(e);case"year":return Nd(e);case"month":return cc(e);case"day":return e0(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function iP(t,e){switch(t){case"century":return C4(e);case"decade":return h2(e);case"year":return m2(e);case"month":return g2(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function aP(t,e){switch(t){case"decade":return h2(e,-100);case"year":return m2(e,-10);case"month":return g2(e,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function fE(t,e){switch(t){case"century":return u2(e);case"decade":return f2(e);case"year":return I4(e);case"month":return O4(e);case"day":return M4(e);default:throw new Error("Invalid rangeType: ".concat(t))}}function sP(t,e,n){var r=[e,n].sort(function(i,a){return i.getTime()-a.getTime()});return[$a(t,r[0]),b2(t,r[1])]}function E2(t,e,n){return n.map(function(r){return(e||Rd)(t,r)}).join("  ")}function oP(t,e,n){return E2(t,e,u2(n))}function w2(t,e,n){return E2(t,e,f2(n))}function lP(t){return t.getDay()===new Date().getDay()}function x2(t,e){e===void 0&&(e=Nt.ISO_8601);var n=t.getDay();switch(e){case Nt.ISLAMIC:case Nt.HEBREW:return n===X4||n===hE;case Nt.ISO_8601:case Nt.GREGORY:return n===hE||n===Q4;default:throw new Error("Unsupported calendar type.")}}var ir="react-calendar__navigation";function uP(t){var e=t.activeStartDate,n=t.drillUp,r=t.formatMonthYear,i=r===void 0?v2:r,a=t.formatYear,s=a===void 0?Rd:a,o=t.locale,u=t.maxDate,c=t.minDate,f=t.navigationAriaLabel,m=f===void 0?"":f,p=t.navigationAriaLive,y=t.navigationLabel,w=t.next2AriaLabel,I=w===void 0?"":w,C=t.next2Label,v=C===void 0?"":C,_=t.nextAriaLabel,S=_===void 0?"":_,N=t.nextLabel,L=N===void 0?"":N,F=t.prev2AriaLabel,A=F===void 0?"":F,E=t.prev2Label,x=E===void 0?"":E,R=t.prevAriaLabel,D=R===void 0?"":R,k=t.prevLabel,T=k===void 0?"":k,$=t.setActiveStartDate,te=t.showDoubleView,M=t.view,z=t.views,q=z.indexOf(M)>0,K=M!=="century",X=tP(M,e),xe=K?nP(M,e):void 0,ut=_2(M,e),qt=K?rP(M,e):void 0,Qe=function(){if(X.getFullYear()<0)return!0;var Ge=iP(M,e);return c&&c>=Ge}(),Ht=K&&function(){if(xe.getFullYear()<0)return!0;var Ge=aP(M,e);return c&&c>=Ge}(),ii=u&&u<ut,wr=K&&u&&u<qt;function xr(){$(X,"prev")}function zn(){$(xe,"prev2")}function sl(){$(ut,"next")}function ol(){$(qt,"next2")}function ya(Ge){var _a=function(){switch(M){case"century":return oP(o,s,Ge);case"decade":return w2(o,s,Ge);case"year":return s(o,Ge);case"month":return i(o,Ge);default:throw new Error("Invalid view: ".concat(M,"."))}}();return y?y({date:Ge,label:_a,locale:o||o2()||void 0,view:M}):_a}function va(){var Ge="".concat(ir,"__label");return h.jsxs("button",{"aria-label":m,"aria-live":p,className:Ge,disabled:!q,onClick:n,style:{flexGrow:1},type:"button",children:[h.jsx("span",{className:"".concat(Ge,"__labelText ").concat(Ge,"__labelText--from"),children:ya(e)}),te?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"".concat(Ge,"__divider"),children:"  "}),h.jsx("span",{className:"".concat(Ge,"__labelText ").concat(Ge,"__labelText--to"),children:ya(ut)})]}):null]})}return h.jsxs("div",{className:ir,children:[x!==null&&K?h.jsx("button",{"aria-label":A,className:"".concat(ir,"__arrow ").concat(ir,"__prev2-button"),disabled:Ht,onClick:zn,type:"button",children:x}):null,T!==null&&h.jsx("button",{"aria-label":D,className:"".concat(ir,"__arrow ").concat(ir,"__prev-button"),disabled:Qe,onClick:xr,type:"button",children:T}),va(),L!==null&&h.jsx("button",{"aria-label":S,className:"".concat(ir,"__arrow ").concat(ir,"__next-button"),disabled:ii,onClick:sl,type:"button",children:L}),v!==null&&K?h.jsx("button",{"aria-label":I,className:"".concat(ir,"__arrow ").concat(ir,"__next2-button"),disabled:wr,onClick:ol,type:"button",children:v}):null]})}var Js=function(){return Js=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Js.apply(this,arguments)},cP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function dE(t){return"".concat(t,"%")}function n0(t){var e=t.children,n=t.className,r=t.count,i=t.direction,a=t.offset,s=t.style,o=t.wrap,u=cP(t,["children","className","count","direction","offset","style","wrap"]);return h.jsx("div",Js({className:n,style:Js({display:"flex",flexDirection:i,flexWrap:o?"wrap":"nowrap"},s)},u,{children:O.Children.map(e,function(c,f){var m=a&&f===0?dE(100*a/r):null;return O.cloneElement(c,Js(Js({},c.props),{style:{flexBasis:dE(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))})}))}function hP(t,e,n){return e&&e>t?e:n&&n<t?n:t}function ju(t,e){return e[0]<=t&&e[1]>=t}function fP(t,e){return t[0]<=e[0]&&t[1]>=e[1]}function T2(t,e){return ju(t[0],e)||ju(t[1],e)}function mE(t,e,n){var r=T2(e,t),i=[];if(r){i.push(n);var a=ju(t[0],e),s=ju(t[1],e);a&&i.push("".concat(n,"Start")),s&&i.push("".concat(n,"End")),a&&s&&i.push("".concat(n,"BothEnds"))}return i}function dP(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function mP(t){if(!t)throw new Error("args is required");var e=t.value,n=t.date,r=t.hover,i="react-calendar__tile",a=[i];if(!n)return a;var s=new Date,o=function(){if(Array.isArray(n))return n;var y=t.dateType;if(!y)throw new Error("dateType is required when date is not an array of two dates");return fE(y,n)}();if(ju(s,o)&&a.push("".concat(i,"--now")),!e||!dP(e))return a;var u=function(){if(Array.isArray(e))return e;var y=t.valueType;if(!y)throw new Error("valueType is required when value is not an array of two dates");return fE(y,e)}();fP(u,o)?a.push("".concat(i,"--active")):T2(u,o)&&a.push("".concat(i,"--hasActive"));var c=mE(u,o,"".concat(i,"--range"));a.push.apply(a,c);var f=Array.isArray(e)?e:[e];if(r&&f.length===1){var m=r>u[0]?[u[0],r]:[r,u[0]],p=mE(m,o,"".concat(i,"--hover"));a.push.apply(a,p)}return a}function Cd(t){for(var e=t.className,n=t.count,r=n===void 0?3:n,i=t.dateTransform,a=t.dateType,s=t.end,o=t.hover,u=t.offset,c=t.renderTile,f=t.start,m=t.step,p=m===void 0?1:m,y=t.value,w=t.valueType,I=[],C=f;C<=s;C+=p){var v=i(C);I.push(c({classes:mP({date:v,dateType:a,hover:o,value:y,valueType:w}),date:v}))}return h.jsx(n0,{className:e,count:r,offset:u,wrap:!0,children:I})}function Id(t){var e=t.activeStartDate,n=t.children,r=t.classes,i=t.date,a=t.formatAbbr,s=t.locale,o=t.maxDate,u=t.maxDateTransform,c=t.minDate,f=t.minDateTransform,m=t.onClick,p=t.onMouseOver,y=t.style,w=t.tileClassName,I=t.tileContent,C=t.tileDisabled,v=t.view,_=O.useMemo(function(){var N={activeStartDate:e,date:i,view:v};return typeof w=="function"?w(N):w},[e,i,w,v]),S=O.useMemo(function(){var N={activeStartDate:e,date:i,view:v};return typeof I=="function"?I(N):I},[e,i,I,v]);return h.jsxs("button",{className:Td(r,_),disabled:c&&f(c)>i||o&&u(o)<i||(C==null?void 0:C({activeStartDate:e,date:i,view:v})),onClick:m?function(N){return m(i,N)}:void 0,onFocus:p?function(){return p(i)}:void 0,onMouseOver:p?function(){return p(i)}:void 0,style:y,type:"button",children:[a?h.jsx("abbr",{"aria-label":a(s,i),children:n}):n,S]})}var Yg=function(){return Yg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yg.apply(this,arguments)},pP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},pE="react-calendar__century-view__decades__decade";function gP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentCentury,i=t.formatYear,a=i===void 0?Rd:i,s=pP(t,["classes","currentCentury","formatYear"]),o=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),c.push(pE),Yo(o).getFullYear()!==r&&c.push("".concat(pE,"--neighboringCentury")),h.jsx(Id,Yg({},s,{classes:c,maxDateTransform:Ad,minDateTransform:ua,view:"century",children:w2(u,a,o)}))}var Wg=function(){return Wg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Wg.apply(this,arguments)},gE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function yP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringCentury,i=t.value,a=t.valueType,s=gE(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=J4(e),u=o+(r?119:99);return h.jsx(Cd,{className:"react-calendar__century-view__decades",dateTransform:ua,dateType:"decade",end:u,hover:n,renderTile:function(c){var f=c.date,m=gE(c,["date"]);return h.jsx(gP,Wg({},s,m,{activeStartDate:e,currentCentury:o,date:f}),f.getTime())},start:o,step:10,value:i,valueType:a})}var Kg=function(){return Kg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kg.apply(this,arguments)};function vP(t){function e(){return h.jsx(yP,Kg({},t))}return h.jsx("div",{className:"react-calendar__century-view",children:e()})}var Qg=function(){return Qg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qg.apply(this,arguments)},_P=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},yE="react-calendar__decade-view__years__year";function bP(t){var e=t.classes,n=e===void 0?[]:e,r=t.currentDecade,i=t.formatYear,a=i===void 0?Rd:i,s=_P(t,["classes","currentDecade","formatYear"]),o=s.date,u=s.locale,c=[];return n&&c.push.apply(c,n),c.push(yE),ua(o).getFullYear()!==r&&c.push("".concat(yE,"--neighboringDecade")),h.jsx(Id,Qg({},s,{classes:c,maxDateTransform:Nd,minDateTransform:Wo,view:"decade",children:a(u,o)}))}var Xg=function(){return Xg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Xg.apply(this,arguments)},vE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function EP(t){var e=t.activeStartDate,n=t.hover,r=t.showNeighboringDecade,i=t.value,a=t.valueType,s=vE(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=Z4(e),u=o+(r?11:9);return h.jsx(Cd,{className:"react-calendar__decade-view__years",dateTransform:Wo,dateType:"year",end:u,hover:n,renderTile:function(c){var f=c.date,m=vE(c,["date"]);return h.jsx(bP,Xg({},s,m,{activeStartDate:e,currentDecade:o,date:f}),f.getTime())},start:o,value:i,valueType:a})}var Jg=function(){return Jg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Jg.apply(this,arguments)};function wP(t){function e(){return h.jsx(EP,Jg({},t))}return h.jsx("div",{className:"react-calendar__decade-view",children:e()})}var Zg=function(){return Zg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zg.apply(this,arguments)},xP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},_E=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))},TP="react-calendar__year-view__months__month";function SP(t){var e=t.classes,n=e===void 0?[]:e,r=t.formatMonth,i=r===void 0?Y4:r,a=t.formatMonthYear,s=a===void 0?v2:a,o=xP(t,["classes","formatMonth","formatMonthYear"]),u=o.date,c=o.locale;return h.jsx(Id,Zg({},o,{classes:_E(_E([],n,!0),[TP],!1),formatAbbr:s,maxDateTransform:cc,minDateTransform:ls,view:"year",children:i(c,u)}))}var ey=function(){return ey=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ey.apply(this,arguments)},bE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function AP(t){var e=t.activeStartDate,n=t.hover,r=t.value,i=t.valueType,a=bE(t,["activeStartDate","hover","value","valueType"]),s=0,o=11,u=ze(e);return h.jsx(Cd,{className:"react-calendar__year-view__months",dateTransform:function(c){var f=new Date;return f.setFullYear(u,c,1),ls(f)},dateType:"month",end:o,hover:n,renderTile:function(c){var f=c.date,m=bE(c,["date"]);return h.jsx(SP,ey({},a,m,{activeStartDate:e,date:f}),f.getTime())},start:s,value:r,valueType:i})}var ty=function(){return ty=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ty.apply(this,arguments)};function NP(t){function e(){return h.jsx(AP,ty({},t))}return h.jsx("div",{className:"react-calendar__year-view",children:e()})}var ny=function(){return ny=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ny.apply(this,arguments)},RP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},_p="react-calendar__month-view__days__day";function CP(t){var e=t.calendarType,n=t.classes,r=n===void 0?[]:n,i=t.currentMonthIndex,a=t.formatDay,s=a===void 0?H4:a,o=t.formatLongDate,u=o===void 0?G4:o,c=RP(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),f=c.date,m=c.locale,p=[];return r&&p.push.apply(p,r),p.push(_p),x2(f,e)&&p.push("".concat(_p,"--weekend")),f.getMonth()!==i&&p.push("".concat(_p,"--neighboringMonth")),h.jsx(Id,ny({},c,{classes:p,formatAbbr:u,maxDateTransform:e0,minDateTransform:hc,view:"month",children:s(m,f)}))}var ry=function(){return ry=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},ry.apply(this,arguments)},EE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function IP(t){var e=t.activeStartDate,n=t.calendarType,r=t.hover,i=t.showFixedNumberOfWeeks,a=t.showNeighboringMonth,s=t.value,o=t.valueType,u=EE(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),c=ze(e),f=la(e),m=i||a,p=Pu(e,n),y=m?0:p,w=(m?-p:0)+1,I=function(){if(i)return w+6*7-1;var C=y2(e);if(a){var v=new Date;v.setFullYear(c,f,C),v.setHours(0,0,0,0);var _=7-Pu(v,n)-1;return C+_}return C}();return h.jsx(Cd,{className:"react-calendar__month-view__days",count:7,dateTransform:function(C){var v=new Date;return v.setFullYear(c,f,C),hc(v)},dateType:"day",hover:r,end:I,renderTile:function(C){var v=C.date,_=EE(C,["date"]);return h.jsx(CP,ry({},u,_,{activeStartDate:e,calendarType:n,currentMonthIndex:f,date:v}),v.getTime())},offset:y,start:w,value:s,valueType:o})}var S2="react-calendar__month-view__weekdays",bp="".concat(S2,"__weekday");function OP(t){for(var e=t.calendarType,n=t.formatShortWeekday,r=n===void 0?W4:n,i=t.formatWeekday,a=i===void 0?K4:i,s=t.locale,o=t.onMouseLeave,u=new Date,c=ls(u),f=ze(c),m=la(c),p=[],y=1;y<=7;y+=1){var w=new Date(f,m,y-Pu(c,e)),I=a(s,w);p.push(h.jsx("div",{className:Td(bp,lP(w)&&"".concat(bp,"--current"),x2(w,e)&&"".concat(bp,"--weekend")),children:h.jsx("abbr",{"aria-label":I,title:I,children:r(s,w).replace(".","")})},y))}return h.jsx(n0,{className:S2,count:7,onFocus:o,onMouseOver:o,children:p})}var Rf=function(){return Rf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Rf.apply(this,arguments)},wE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n},xE="react-calendar__tile";function DP(t){var e=t.onClickWeekNumber,n=t.weekNumber,r=h.jsx("span",{children:n});if(e){var i=t.date,a=t.onClickWeekNumber,s=t.weekNumber,o=wE(t,["date","onClickWeekNumber","weekNumber"]);return h.jsx("button",Rf({},o,{className:xE,onClick:function(u){return a(s,i,u)},type:"button",children:r}))}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=wE(t,["date","onClickWeekNumber","weekNumber"]);return h.jsx("div",Rf({},o,{className:xE,children:r}))}}function kP(t){var e=t.activeStartDate,n=t.calendarType,r=t.onClickWeekNumber,i=t.onMouseLeave,a=t.showFixedNumberOfWeeks,s=function(){if(a)return 6;var c=y2(e),f=Pu(e,n),m=c-(7-f);return 1+Math.ceil(m/7)}(),o=function(){for(var c=ze(e),f=la(e),m=Sd(e),p=[],y=0;y<s;y+=1)p.push(Gg(new Date(c,f,m+y*7),n));return p}(),u=o.map(function(c){return eP(c,n)});return h.jsx(n0,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:u.map(function(c,f){var m=o[f];if(!m)throw new Error("date is not defined");return h.jsx(DP,{date:m,onClickWeekNumber:r,weekNumber:c},c)})})}var iy=function(){return iy=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},iy.apply(this,arguments)},MP=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function PP(t){if(t)for(var e=0,n=Object.entries(P4);e<n.length;e++){var r=n[e],i=r[0],a=r[1];if(a.includes(t))return i}return Nt.ISO_8601}function jP(t){var e=t.activeStartDate,n=t.locale,r=t.onMouseLeave,i=t.showFixedNumberOfWeeks,a=t.calendarType,s=a===void 0?PP(n):a,o=t.formatShortWeekday,u=t.formatWeekday,c=t.onClickWeekNumber,f=t.showWeekNumbers,m=MP(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return h.jsx(OP,{calendarType:s,formatShortWeekday:o,formatWeekday:u,locale:n,onMouseLeave:r})}function y(){return f?h.jsx(kP,{activeStartDate:e,calendarType:s,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:i}):null}function w(){return h.jsx(IP,iy({calendarType:s},m))}var I="react-calendar__month-view";return h.jsx("div",{className:Td(I,f?"".concat(I,"--weekNumbers"):""),children:h.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[y(),h.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),w()]})]})})}var Zs=function(){return Zs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zs.apply(this,arguments)},lh="react-calendar",Uh=["century","decade","year","month"],LP=["decade","year","month","day"],r0=new Date;r0.setFullYear(1,0,1);r0.setHours(0,0,0,0);var VP=new Date(864e13);function Gl(t){return t instanceof Date?t:new Date(t)}function A2(t,e){return Uh.slice(Uh.indexOf(t),Uh.indexOf(e)+1)}function UP(t,e,n){var r=A2(e,n);return r.indexOf(t)!==-1}function i0(t,e,n){return t&&UP(t,e,n)?t:n}function N2(t){var e=Uh.indexOf(t);return LP[e]}function BP(t,e){var n=Array.isArray(t)?t[e]:t;if(!n)return null;var r=Gl(n);if(Number.isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function R2(t,e){var n=t.value,r=t.minDate,i=t.maxDate,a=t.maxDetail,s=BP(n,e);if(!s)return null;var o=N2(a),u=function(){switch(e){case 0:return $a(o,s);case 1:return b2(o,s);default:throw new Error("Invalid index value: ".concat(e))}}();return hP(u,r,i)}var a0=function(t){return R2(t,0)},C2=function(t){return R2(t,1)},zP=function(t){return[a0,C2].map(function(e){return e(t)})};function I2(t){var e=t.maxDate,n=t.maxDetail,r=t.minDate,i=t.minDetail,a=t.value,s=t.view,o=i0(s,i,n),u=a0({value:a,minDate:r,maxDate:e,maxDetail:n})||new Date;return $a(o,u)}function $P(t){var e=t.activeStartDate,n=t.defaultActiveStartDate,r=t.defaultValue,i=t.defaultView,a=t.maxDate,s=t.maxDetail,o=t.minDate,u=t.minDetail,c=t.value,f=t.view,m=i0(f,u,s),p=e||n;return p?$a(m,p):I2({maxDate:a,maxDetail:s,minDate:o,minDetail:u,value:c||r,view:f||i})}function Ep(t){return t&&(!Array.isArray(t)||t.length===1)}function uh(t,e){return t instanceof Date&&e instanceof Date&&t.getTime()===e.getTime()}var FP=O.forwardRef(function(e,n){var r=e.activeStartDate,i=e.allowPartialRange,a=e.calendarType,s=e.className,o=e.defaultActiveStartDate,u=e.defaultValue,c=e.defaultView,f=e.formatDay,m=e.formatLongDate,p=e.formatMonth,y=e.formatMonthYear,w=e.formatShortWeekday,I=e.formatWeekday,C=e.formatYear,v=e.goToRangeStartOnSelect,_=v===void 0?!0:v,S=e.inputRef,N=e.locale,L=e.maxDate,F=L===void 0?VP:L,A=e.maxDetail,E=A===void 0?"month":A,x=e.minDate,R=x===void 0?r0:x,D=e.minDetail,k=D===void 0?"century":D,T=e.navigationAriaLabel,$=e.navigationAriaLive,te=e.navigationLabel,M=e.next2AriaLabel,z=e.next2Label,q=e.nextAriaLabel,K=e.nextLabel,X=e.onActiveStartDateChange,xe=e.onChange,ut=e.onClickDay,qt=e.onClickDecade,Qe=e.onClickMonth,Ht=e.onClickWeekNumber,ii=e.onClickYear,wr=e.onDrillDown,xr=e.onDrillUp,zn=e.onViewChange,sl=e.prev2AriaLabel,ol=e.prev2Label,ya=e.prevAriaLabel,va=e.prevLabel,Ge=e.returnValue,_a=Ge===void 0?"start":Ge,Dt=e.selectRange,ai=e.showDoubleView,ll=e.showFixedNumberOfWeeks,ct=e.showNavigation,Et=ct===void 0?!0:ct,_s=e.showNeighboringCentury,_m=e.showNeighboringDecade,ul=e.showNeighboringMonth,bm=ul===void 0?!0:ul,ba=e.showWeekNumbers,Cc=e.tileClassName,Ic=e.tileContent,cl=e.tileDisabled,hl=e.value,Oc=e.view,fl=O.useState(o),Dc=fl[0],Jn=fl[1],bs=O.useState(null),dl=bs[0],Zn=bs[1],ml=O.useState(Array.isArray(u)?u.map(function(oe){return oe!==null?Gl(oe):null}):u!=null?Gl(u):null),si=ml[0],kc=ml[1],oi=O.useState(c),Mc=oi[0],pt=oi[1],wt=r||Dc||$P({activeStartDate:r,defaultActiveStartDate:o,defaultValue:u,defaultView:c,maxDate:F,maxDetail:E,minDate:R,minDetail:k,value:hl,view:Oc}),tt=function(){var oe=function(){return Dt&&Ep(si)?si:hl!==void 0?hl:si}();return oe?Array.isArray(oe)?oe.map(function(Ve){return Ve!==null?Gl(Ve):null}):oe!==null?Gl(oe):null:null}(),er=N2(E),Oe=i0(Oc||Mc,k,E),wn=A2(k,E),li=Dt?dl:null,pl=wn.indexOf(Oe)<wn.length-1,Pc=wn.indexOf(Oe)>0,Ea=O.useCallback(function(oe){var Ve=function(){switch(_a){case"start":return a0;case"end":return C2;case"range":return zP;default:throw new Error("Invalid returnValue.")}}();return Ve({maxDate:F,maxDetail:E,minDate:R,value:oe})},[F,E,R,_a]),Es=O.useCallback(function(oe,Ve){Jn(oe);var $e={action:Ve,activeStartDate:oe,value:tt,view:Oe};X&&!uh(wt,oe)&&X($e)},[wt,X,tt,Oe]),wa=O.useCallback(function(oe,Ve){var $e=function(){switch(Oe){case"century":return qt;case"decade":return ii;case"year":return Qe;case"month":return ut;default:throw new Error("Invalid view: ".concat(Oe,"."))}}();$e&&$e(oe,Ve)},[ut,qt,Qe,ii,Oe]),xa=O.useCallback(function(oe,Ve){if(pl){wa(oe,Ve);var $e=wn[wn.indexOf(Oe)+1];if(!$e)throw new Error("Attempted to drill down from the lowest view.");Jn(oe),pt($e);var rn={action:"drillDown",activeStartDate:oe,value:tt,view:$e};X&&!uh(wt,oe)&&X(rn),zn&&Oe!==$e&&zn(rn),wr&&wr(rn)}},[wt,pl,X,wa,wr,zn,tt,Oe,wn]),Tr=O.useCallback(function(){if(Pc){var oe=wn[wn.indexOf(Oe)-1];if(!oe)throw new Error("Attempted to drill up from the highest view.");var Ve=$a(oe,wt);Jn(Ve),pt(oe);var $e={action:"drillUp",activeStartDate:Ve,value:tt,view:oe};X&&!uh(wt,Ve)&&X($e),zn&&Oe!==oe&&zn($e),xr&&xr($e)}},[wt,Pc,X,xr,zn,tt,Oe,wn]),gl=O.useCallback(function(oe,Ve){var $e=tt;wa(oe,Ve);var rn=Dt&&!Ep($e),kt;if(Dt)if(rn)kt=$a(er,oe);else{if(!$e)throw new Error("previousValue is required");if(Array.isArray($e))throw new Error("previousValue must not be an array");kt=sP(er,$e,oe)}else kt=Ea(oe);var xs=!Dt||rn||_?I2({maxDate:F,maxDetail:E,minDate:R,minDetail:k,value:kt,view:Oe}):null;Ve.persist(),Jn(xs),kc(kt);var bl={action:"onChange",activeStartDate:xs,value:kt,view:Oe};if(X&&!uh(wt,xs)&&X(bl),xe)if(Dt){var Ta=Ep(kt);if(!Ta)xe(kt||null,Ve);else if(i){if(Array.isArray(kt))throw new Error("value must not be an array");xe([kt||null,null],Ve)}}else xe(kt||null,Ve)},[wt,i,Ea,_,F,E,R,k,X,xe,wa,Dt,tt,er,Oe]);function tr(oe){Zn(oe)}function ws(){Zn(null)}O.useImperativeHandle(n,function(){return{activeStartDate:wt,drillDown:xa,drillUp:Tr,onChange:gl,setActiveStartDate:Es,value:tt,view:Oe}},[wt,xa,Tr,gl,Es,tt,Oe]);function yl(oe){var Ve=oe?_2(Oe,wt):$a(Oe,wt),$e=pl?xa:gl,rn={activeStartDate:Ve,hover:li,locale:N,maxDate:F,minDate:R,onClick:$e,onMouseOver:Dt?tr:void 0,tileClassName:Cc,tileContent:Ic,tileDisabled:cl,value:tt,valueType:er};switch(Oe){case"century":return h.jsx(vP,Zs({formatYear:C,showNeighboringCentury:_s},rn));case"decade":return h.jsx(wP,Zs({formatYear:C,showNeighboringDecade:_m},rn));case"year":return h.jsx(NP,Zs({formatMonth:p,formatMonthYear:y},rn));case"month":return h.jsx(jP,Zs({calendarType:a,formatDay:f,formatLongDate:m,formatShortWeekday:w,formatWeekday:I,onClickWeekNumber:Ht,onMouseLeave:Dt?ws:void 0,showFixedNumberOfWeeks:typeof ll<"u"?ll:ai,showNeighboringMonth:bm,showWeekNumbers:ba},rn));default:throw new Error("Invalid view: ".concat(Oe,"."))}}function vl(){return Et?h.jsx(uP,{activeStartDate:wt,drillUp:Tr,formatMonthYear:y,formatYear:C,locale:N,maxDate:F,minDate:R,navigationAriaLabel:T,navigationAriaLive:$,navigationLabel:te,next2AriaLabel:M,next2Label:z,nextAriaLabel:q,nextLabel:K,prev2AriaLabel:sl,prev2Label:ol,prevAriaLabel:ya,prevLabel:va,setActiveStartDate:Es,showDoubleView:ai,view:Oe,views:wn}):null}var _l=Array.isArray(tt)?tt:[tt];return h.jsxs("div",{className:Td(lh,Dt&&_l.length===1&&"".concat(lh,"--selectRange"),ai&&"".concat(lh,"--doubleView"),s),ref:S,children:[vl(),h.jsxs("div",{className:"".concat(lh,"__viewContainer"),onBlur:Dt?ws:void 0,onMouseLeave:Dt?ws:void 0,children:[yl(),ai?yl(!0):null]})]})});/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),HP=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),TE=t=>{const e=HP(t);return e.charAt(0).toUpperCase()+e.slice(1)},O2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),GP=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},u)=>O.createElement("svg",{ref:u,...YP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:O2("lucide",i),...!a&&!GP(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,f])=>O.createElement(c,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const n=O.forwardRef(({className:r,...i},a)=>O.createElement(WP,{ref:a,iconNode:e,className:O2(`lucide-${qP(TE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=TE(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KP=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],QP=le("archive",KP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],SE=le("arrow-left",XP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JP=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],ZP=le("banknote",JP);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],wi=le("calendar",ej);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],D2=le("check",tj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rj=le("chevron-down",nj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aj=le("chevron-up",ij);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],oj=le("circle-alert",sj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eo=le("circle-check",lj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],AE=le("circle-x",uj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hj=le("clock",cj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]],wp=le("cloud-rain",fj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M8 19h.01",key:"puxtts"}],["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M12 21h.01",key:"h35vbk"}],["path",{d:"M16 15h.01",key:"rnfrdf"}],["path",{d:"M16 19h.01",key:"1vcnzz"}]],mj=le("cloud-snow",dj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],xp=le("cloud",pj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],k2=le("copy",gj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vj=le("credit-card",yj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],s0=le("dollar-sign",_j);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ej=le("external-link",bj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],zr=le("gift",wj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Tj=le("globe",xj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Aj=le("loader",Sj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Rj=le("log-in",Nj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ij=le("log-out",Cj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dj=le("map-pin",Oj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Mj=le("message-circle",kj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],jj=le("message-square",Pj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],Vj=le("party-popper",Lj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Bj=le("pen",Uj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],M2=le("plus",zj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fj=le("search",$j);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],NE=le("sparkles",qj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Gj=le("square-pen",Hj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Wj=le("sun",Yj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],o0=le("trash-2",Kj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],P2=le("user-plus",Qj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cf=le("user",Xj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zj=le("users",Jj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],t3=le("wind",e3);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fc=le("x",n3),r3=()=>{};var RE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},i3=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],o=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},L2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=a>>2,m=(a&3)<<4|o>>4;let p=(o&15)<<2|c>>6,y=c&63;u||(y=64,s||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j2(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):i3(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||o==null||c==null||m==null)throw new a3;const p=a<<2|o>>4;if(r.push(p),c!==64){const y=o<<4&240|c>>2;if(r.push(y),m!==64){const w=c<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class a3 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s3=function(t){const e=j2(t);return L2.encodeByteArray(e,!0)},If=function(t){return s3(t).replace(/\./g,"")},V2=function(t){try{return L2.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=()=>o3().__FIREBASE_DEFAULTS__,u3=()=>{if(typeof process>"u"||typeof RE>"u")return;const t=RE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},c3=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V2(t[1]);return e&&JSON.parse(e)},Od=()=>{try{return r3()||l3()||u3()||c3()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},U2=t=>{var e,n;return(n=(e=Od())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},B2=t=>{const e=U2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},z2=()=>{var t;return(t=Od())==null?void 0:t.config},$2=t=>{var e;return(e=Od())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function l0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[If(JSON.stringify(n)),If(JSON.stringify(s)),""].join(".")}const mu={};function f3(){const t={prod:[],emulator:[]};for(const e of Object.keys(mu))mu[e]?t.emulator.push(e):t.prod.push(e);return t}function d3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let CE=!1;function u0(t,e){if(typeof window>"u"||typeof document>"u"||!cs(window.location.host)||mu[t]===e||mu[t]||CE)return;mu[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",a=f3().prod.length>0;function s(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{CE=!0,s()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=d3(r),y=n("text"),w=document.getElementById(y)||document.createElement("span"),I=n("learnmore"),C=document.getElementById(I)||document.createElement("a"),v=n("preprendIcon"),_=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const S=p.element;o(S),f(C,I);const N=c();u(_,v),S.append(_,w,C,N),document.body.appendChild(S)}a?(w.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function p3(){var e;const t=(e=Od())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function q2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function y3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v3(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _3(){return!p3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H2(){try{return typeof indexedDB=="object"}catch{return!1}}function G2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function b3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="FirebaseError";class Un extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=E3,Object.setPrototypeOf(this,Un.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hs.prototype.create)}}class hs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?w3(a,r):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Un(i,o,r)}}function w3(t,e){return t.replace(x3,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x3=/\{\$([^}]+)}/g;function T3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ji(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(IE(a)&&IE(s)){if(!Ji(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Wl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function S3(t,e){const n=new A3(t,e);return n.subscribe.bind(n)}class A3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");N3(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Tp),i.error===void 0&&(i.error=Tp),i.complete===void 0&&(i.complete=Tp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Tp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=1e3,C3=2,I3=4*60*60*1e3,O3=.5;function OE(t,e=R3,n=C3){const r=e*Math.pow(n,t),i=Math.round(O3*r*(Math.random()-.5)*2);return Math.min(I3,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t){return t&&t._delegate?t._delegate:t}class Vn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new h3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M3(e))try{this.getOrInitializeService({instanceIdentifier:Ma})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ma){return this.instances.has(e)}getOptions(e=Ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);r===o&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ma){return this.component?this.component.multipleInstances?e:Ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k3(t){return t===Ma?void 0:t}function M3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new D3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const j3={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},L3=he.INFO,V3={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},U3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=V3[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dd{constructor(e){this.name=e,this._logLevel=L3,this._logHandler=U3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const B3=(t,e)=>e.some(n=>t instanceof n);let DE,kE;function z3(){return DE||(DE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $3(){return kE||(kE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y2=new WeakMap,ay=new WeakMap,W2=new WeakMap,Sp=new WeakMap,c0=new WeakMap;function F3(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n($i(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Y2.set(n,t)}).catch(()=>{}),c0.set(e,t),e}function q3(t){if(ay.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});ay.set(t,e)}let sy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||W2.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function H3(t){sy=t(sy)}function G3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ap(this),e,...n);return W2.set(r,e.sort?e.sort():[e]),$i(r)}:$3().includes(t)?function(...e){return t.apply(Ap(this),e),$i(Y2.get(this))}:function(...e){return $i(t.apply(Ap(this),e))}}function Y3(t){return typeof t=="function"?G3(t):(t instanceof IDBTransaction&&q3(t),B3(t,z3())?new Proxy(t,sy):t)}function $i(t){if(t instanceof IDBRequest)return F3(t);if(Sp.has(t))return Sp.get(t);const e=Y3(t);return e!==t&&(Sp.set(t,e),c0.set(e,t)),e}const Ap=t=>c0.get(t);function K2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=$i(s);return r&&s.addEventListener("upgradeneeded",u=>{r($i(s.result),u.oldVersion,u.newVersion,$i(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const W3=["get","getKey","getAll","getAllKeys","count"],K3=["put","add","delete","clear"],Np=new Map;function ME(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Np.get(e))return Np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||W3.includes(n)))return;const a=async function(s,...o){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&u.done]))[0]};return Np.set(e,a),a}H3(t=>({...t,get:(e,n,r)=>ME(e,n)||t.get(e,n,r),has:(e,n)=>!!ME(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function X3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const oy="@firebase/app",PE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=new Dd("@firebase/app"),J3="@firebase/app-compat",Z3="@firebase/analytics-compat",eL="@firebase/analytics",tL="@firebase/app-check-compat",nL="@firebase/app-check",rL="@firebase/auth",iL="@firebase/auth-compat",aL="@firebase/database",sL="@firebase/data-connect",oL="@firebase/database-compat",lL="@firebase/functions",uL="@firebase/functions-compat",cL="@firebase/installations",hL="@firebase/installations-compat",fL="@firebase/messaging",dL="@firebase/messaging-compat",mL="@firebase/performance",pL="@firebase/performance-compat",gL="@firebase/remote-config",yL="@firebase/remote-config-compat",vL="@firebase/storage",_L="@firebase/storage-compat",bL="@firebase/firestore",EL="@firebase/ai",wL="@firebase/firestore-compat",xL="firebase",TL="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="[DEFAULT]",SL={[oy]:"fire-core",[J3]:"fire-core-compat",[eL]:"fire-analytics",[Z3]:"fire-analytics-compat",[nL]:"fire-app-check",[tL]:"fire-app-check-compat",[rL]:"fire-auth",[iL]:"fire-auth-compat",[aL]:"fire-rtdb",[sL]:"fire-data-connect",[oL]:"fire-rtdb-compat",[lL]:"fire-fn",[uL]:"fire-fn-compat",[cL]:"fire-iid",[hL]:"fire-iid-compat",[fL]:"fire-fcm",[dL]:"fire-fcm-compat",[mL]:"fire-perf",[pL]:"fire-perf-compat",[gL]:"fire-rc",[yL]:"fire-rc-compat",[vL]:"fire-gcs",[_L]:"fire-gcs-compat",[bL]:"fire-fst",[wL]:"fire-fst-compat",[EL]:"fire-vertex","fire-js":"fire-js",[xL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Map,AL=new Map,uy=new Map;function jE(t,e){try{t.container.addComponent(e)}catch(n){Qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yn(t){const e=t.name;if(uy.has(e))return Qr.debug(`There were multiple attempts to register component ${e}.`),!1;uy.set(e,t);for(const n of Of.values())jE(n,t);for(const n of AL.values())jE(n,t);return!0}function ca(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function In(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new hs("app","Firebase",NL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=TL;function Q2(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:ly,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fi.create("bad-app-name",{appName:String(i)});if(n||(n=z2()),!n)throw Fi.create("no-options");const a=Of.get(i);if(a){if(Ji(n,a.options)&&Ji(r,a.config))return a;throw Fi.create("duplicate-app",{appName:i})}const s=new P3(i);for(const u of uy.values())s.addComponent(u);const o=new RL(n,r,s);return Of.set(i,o),o}function kd(t=ly){const e=Of.get(t);if(!e&&t===ly&&z2())return Q2();if(!e)throw Fi.create("no-app",{appName:t});return e}function en(t,e,n){let r=SL[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qr.warn(s.join(" "));return}Yn(new Vn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="firebase-heartbeat-database",IL=1,Lu="firebase-heartbeat-store";let Rp=null;function X2(){return Rp||(Rp=K2(CL,IL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fi.create("idb-open",{originalErrorMessage:t.message})})),Rp}async function OL(t){try{const n=(await X2()).transaction(Lu),r=await n.objectStore(Lu).get(J2(t));return await n.done,r}catch(e){if(e instanceof Un)Qr.warn(e.message);else{const n=Fi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qr.warn(n.message)}}}async function LE(t,e){try{const r=(await X2()).transaction(Lu,"readwrite");await r.objectStore(Lu).put(e,J2(t)),await r.done}catch(n){if(n instanceof Un)Qr.warn(n.message);else{const r=Fi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qr.warn(r.message)}}}function J2(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=1024,kL=30;class ML{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new jL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=VE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kL){const s=LL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VE(),{heartbeatsToSend:r,unsentEntries:i}=PL(this._heartbeatsCache.heartbeats),a=If(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Qr.warn(n),""}}}function VE(){return new Date().toISOString().substring(0,10)}function PL(t,e=DL){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),UE(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class jL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H2()?G2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return LE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function UE(t){return If(JSON.stringify({version:2,heartbeats:t})).length}function LL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){Yn(new Vn("platform-logger",e=>new Q3(e),"PRIVATE")),Yn(new Vn("heartbeat",e=>new ML(e),"PRIVATE")),en(oy,PE,t),en(oy,PE,"esm2020"),en("fire-js","")}VL("");var BE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,Z2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function x(){}x.prototype=E.prototype,A.F=E.prototype,A.prototype=new x,A.prototype.constructor=A,A.D=function(R,D,k){for(var T=Array(arguments.length-2),$=2;$<arguments.length;$++)T[$-2]=arguments[$];return E.prototype[D].apply(R,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,x){x||(x=0);const R=Array(16);if(typeof E=="string")for(var D=0;D<16;++D)R[D]=E.charCodeAt(x++)|E.charCodeAt(x++)<<8|E.charCodeAt(x++)<<16|E.charCodeAt(x++)<<24;else for(D=0;D<16;++D)R[D]=E[x++]|E[x++]<<8|E[x++]<<16|E[x++]<<24;E=A.g[0],x=A.g[1],D=A.g[2];let k=A.g[3],T;T=E+(k^x&(D^k))+R[0]+3614090360&4294967295,E=x+(T<<7&4294967295|T>>>25),T=k+(D^E&(x^D))+R[1]+3905402710&4294967295,k=E+(T<<12&4294967295|T>>>20),T=D+(x^k&(E^x))+R[2]+606105819&4294967295,D=k+(T<<17&4294967295|T>>>15),T=x+(E^D&(k^E))+R[3]+3250441966&4294967295,x=D+(T<<22&4294967295|T>>>10),T=E+(k^x&(D^k))+R[4]+4118548399&4294967295,E=x+(T<<7&4294967295|T>>>25),T=k+(D^E&(x^D))+R[5]+1200080426&4294967295,k=E+(T<<12&4294967295|T>>>20),T=D+(x^k&(E^x))+R[6]+2821735955&4294967295,D=k+(T<<17&4294967295|T>>>15),T=x+(E^D&(k^E))+R[7]+4249261313&4294967295,x=D+(T<<22&4294967295|T>>>10),T=E+(k^x&(D^k))+R[8]+1770035416&4294967295,E=x+(T<<7&4294967295|T>>>25),T=k+(D^E&(x^D))+R[9]+2336552879&4294967295,k=E+(T<<12&4294967295|T>>>20),T=D+(x^k&(E^x))+R[10]+4294925233&4294967295,D=k+(T<<17&4294967295|T>>>15),T=x+(E^D&(k^E))+R[11]+2304563134&4294967295,x=D+(T<<22&4294967295|T>>>10),T=E+(k^x&(D^k))+R[12]+1804603682&4294967295,E=x+(T<<7&4294967295|T>>>25),T=k+(D^E&(x^D))+R[13]+4254626195&4294967295,k=E+(T<<12&4294967295|T>>>20),T=D+(x^k&(E^x))+R[14]+2792965006&4294967295,D=k+(T<<17&4294967295|T>>>15),T=x+(E^D&(k^E))+R[15]+1236535329&4294967295,x=D+(T<<22&4294967295|T>>>10),T=E+(D^k&(x^D))+R[1]+4129170786&4294967295,E=x+(T<<5&4294967295|T>>>27),T=k+(x^D&(E^x))+R[6]+3225465664&4294967295,k=E+(T<<9&4294967295|T>>>23),T=D+(E^x&(k^E))+R[11]+643717713&4294967295,D=k+(T<<14&4294967295|T>>>18),T=x+(k^E&(D^k))+R[0]+3921069994&4294967295,x=D+(T<<20&4294967295|T>>>12),T=E+(D^k&(x^D))+R[5]+3593408605&4294967295,E=x+(T<<5&4294967295|T>>>27),T=k+(x^D&(E^x))+R[10]+38016083&4294967295,k=E+(T<<9&4294967295|T>>>23),T=D+(E^x&(k^E))+R[15]+3634488961&4294967295,D=k+(T<<14&4294967295|T>>>18),T=x+(k^E&(D^k))+R[4]+3889429448&4294967295,x=D+(T<<20&4294967295|T>>>12),T=E+(D^k&(x^D))+R[9]+568446438&4294967295,E=x+(T<<5&4294967295|T>>>27),T=k+(x^D&(E^x))+R[14]+3275163606&4294967295,k=E+(T<<9&4294967295|T>>>23),T=D+(E^x&(k^E))+R[3]+4107603335&4294967295,D=k+(T<<14&4294967295|T>>>18),T=x+(k^E&(D^k))+R[8]+1163531501&4294967295,x=D+(T<<20&4294967295|T>>>12),T=E+(D^k&(x^D))+R[13]+2850285829&4294967295,E=x+(T<<5&4294967295|T>>>27),T=k+(x^D&(E^x))+R[2]+4243563512&4294967295,k=E+(T<<9&4294967295|T>>>23),T=D+(E^x&(k^E))+R[7]+1735328473&4294967295,D=k+(T<<14&4294967295|T>>>18),T=x+(k^E&(D^k))+R[12]+2368359562&4294967295,x=D+(T<<20&4294967295|T>>>12),T=E+(x^D^k)+R[5]+4294588738&4294967295,E=x+(T<<4&4294967295|T>>>28),T=k+(E^x^D)+R[8]+2272392833&4294967295,k=E+(T<<11&4294967295|T>>>21),T=D+(k^E^x)+R[11]+1839030562&4294967295,D=k+(T<<16&4294967295|T>>>16),T=x+(D^k^E)+R[14]+4259657740&4294967295,x=D+(T<<23&4294967295|T>>>9),T=E+(x^D^k)+R[1]+2763975236&4294967295,E=x+(T<<4&4294967295|T>>>28),T=k+(E^x^D)+R[4]+1272893353&4294967295,k=E+(T<<11&4294967295|T>>>21),T=D+(k^E^x)+R[7]+4139469664&4294967295,D=k+(T<<16&4294967295|T>>>16),T=x+(D^k^E)+R[10]+3200236656&4294967295,x=D+(T<<23&4294967295|T>>>9),T=E+(x^D^k)+R[13]+681279174&4294967295,E=x+(T<<4&4294967295|T>>>28),T=k+(E^x^D)+R[0]+3936430074&4294967295,k=E+(T<<11&4294967295|T>>>21),T=D+(k^E^x)+R[3]+3572445317&4294967295,D=k+(T<<16&4294967295|T>>>16),T=x+(D^k^E)+R[6]+76029189&4294967295,x=D+(T<<23&4294967295|T>>>9),T=E+(x^D^k)+R[9]+3654602809&4294967295,E=x+(T<<4&4294967295|T>>>28),T=k+(E^x^D)+R[12]+3873151461&4294967295,k=E+(T<<11&4294967295|T>>>21),T=D+(k^E^x)+R[15]+530742520&4294967295,D=k+(T<<16&4294967295|T>>>16),T=x+(D^k^E)+R[2]+3299628645&4294967295,x=D+(T<<23&4294967295|T>>>9),T=E+(D^(x|~k))+R[0]+4096336452&4294967295,E=x+(T<<6&4294967295|T>>>26),T=k+(x^(E|~D))+R[7]+1126891415&4294967295,k=E+(T<<10&4294967295|T>>>22),T=D+(E^(k|~x))+R[14]+2878612391&4294967295,D=k+(T<<15&4294967295|T>>>17),T=x+(k^(D|~E))+R[5]+4237533241&4294967295,x=D+(T<<21&4294967295|T>>>11),T=E+(D^(x|~k))+R[12]+1700485571&4294967295,E=x+(T<<6&4294967295|T>>>26),T=k+(x^(E|~D))+R[3]+2399980690&4294967295,k=E+(T<<10&4294967295|T>>>22),T=D+(E^(k|~x))+R[10]+4293915773&4294967295,D=k+(T<<15&4294967295|T>>>17),T=x+(k^(D|~E))+R[1]+2240044497&4294967295,x=D+(T<<21&4294967295|T>>>11),T=E+(D^(x|~k))+R[8]+1873313359&4294967295,E=x+(T<<6&4294967295|T>>>26),T=k+(x^(E|~D))+R[15]+4264355552&4294967295,k=E+(T<<10&4294967295|T>>>22),T=D+(E^(k|~x))+R[6]+2734768916&4294967295,D=k+(T<<15&4294967295|T>>>17),T=x+(k^(D|~E))+R[13]+1309151649&4294967295,x=D+(T<<21&4294967295|T>>>11),T=E+(D^(x|~k))+R[4]+4149444226&4294967295,E=x+(T<<6&4294967295|T>>>26),T=k+(x^(E|~D))+R[11]+3174756917&4294967295,k=E+(T<<10&4294967295|T>>>22),T=D+(E^(k|~x))+R[2]+718787259&4294967295,D=k+(T<<15&4294967295|T>>>17),T=x+(k^(D|~E))+R[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(D+(T<<21&4294967295|T>>>11))&4294967295,A.g[2]=A.g[2]+D&4294967295,A.g[3]=A.g[3]+k&4294967295}r.prototype.v=function(A,E){E===void 0&&(E=A.length);const x=E-this.blockSize,R=this.C;let D=this.h,k=0;for(;k<E;){if(D==0)for(;k<=x;)i(this,A,k),k+=this.blockSize;if(typeof A=="string"){for(;k<E;)if(R[D++]=A.charCodeAt(k++),D==this.blockSize){i(this,R),D=0;break}}else for(;k<E;)if(R[D++]=A[k++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=E},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;E=this.o*8;for(var x=A.length-8;x<A.length;++x)A[x]=E&255,E/=256;for(this.v(A),A=Array(16),E=0,x=0;x<4;++x)for(let R=0;R<32;R+=8)A[E++]=this.g[x]>>>R&255;return A};function a(A,E){var x=o;return Object.prototype.hasOwnProperty.call(x,A)?x[A]:x[A]=E(A)}function s(A,E){this.h=E;const x=[];let R=!0;for(let D=A.length-1;D>=0;D--){const k=A[D]|0;R&&k==E||(x[D]=k,R=!1)}this.g=x}var o={};function u(A){return-128<=A&&A<128?a(A,function(E){return new s([E|0],E<0?-1:0)}):new s([A|0],A<0?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return m;if(A<0)return C(c(-A));const E=[];let x=1;for(let R=0;A>=x;R++)E[R]=A/x|0,x*=4294967296;return new s(E,0)}function f(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return C(f(A.substring(1),E));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=c(Math.pow(E,8));let R=m;for(let k=0;k<A.length;k+=8){var D=Math.min(8,A.length-k);const T=parseInt(A.substring(k,k+D),E);D<8?(D=c(Math.pow(E,D)),R=R.j(D).add(c(T))):(R=R.j(x),R=R.add(c(T)))}return R}var m=u(0),p=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(I(this))return-C(this).m();let A=0,E=1;for(let x=0;x<this.g.length;x++){const R=this.i(x);A+=(R>=0?R:4294967296+R)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(w(this))return"0";if(I(this))return"-"+C(this).toString(A);const E=c(Math.pow(A,6));var x=this;let R="";for(;;){const D=N(x,E).g;x=v(x,D.j(E));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(A);if(x=D,w(x))return k+R;for(;k.length<6;)k="0"+k;R=k+R}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function w(A){if(A.h!=0)return!1;for(let E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function I(A){return A.h==-1}t.l=function(A){return A=v(this,A),I(A)?-1:w(A)?0:1};function C(A){const E=A.g.length,x=[];for(let R=0;R<E;R++)x[R]=~A.g[R];return new s(x,~A.h).add(p)}t.abs=function(){return I(this)?C(this):this},t.add=function(A){const E=Math.max(this.g.length,A.g.length),x=[];let R=0;for(let D=0;D<=E;D++){let k=R+(this.i(D)&65535)+(A.i(D)&65535),T=(k>>>16)+(this.i(D)>>>16)+(A.i(D)>>>16);R=T>>>16,k&=65535,T&=65535,x[D]=T<<16|k}return new s(x,x[x.length-1]&-2147483648?-1:0)};function v(A,E){return A.add(C(E))}t.j=function(A){if(w(this)||w(A))return m;if(I(this))return I(A)?C(this).j(C(A)):C(C(this).j(A));if(I(A))return C(this.j(C(A)));if(this.l(y)<0&&A.l(y)<0)return c(this.m()*A.m());const E=this.g.length+A.g.length,x=[];for(var R=0;R<2*E;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(let D=0;D<A.g.length;D++){const k=this.i(R)>>>16,T=this.i(R)&65535,$=A.i(D)>>>16,te=A.i(D)&65535;x[2*R+2*D]+=T*te,_(x,2*R+2*D),x[2*R+2*D+1]+=k*te,_(x,2*R+2*D+1),x[2*R+2*D+1]+=T*$,_(x,2*R+2*D+1),x[2*R+2*D+2]+=k*$,_(x,2*R+2*D+2)}for(A=0;A<E;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=E;A<2*E;A++)x[A]=0;return new s(x,0)};function _(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function S(A,E){this.g=A,this.h=E}function N(A,E){if(w(E))throw Error("division by zero");if(w(A))return new S(m,m);if(I(A))return E=N(C(A),E),new S(C(E.g),C(E.h));if(I(E))return E=N(A,C(E)),new S(C(E.g),E.h);if(A.g.length>30){if(I(A)||I(E))throw Error("slowDivide_ only works with positive integers.");for(var x=p,R=E;R.l(A)<=0;)x=L(x),R=L(R);var D=F(x,1),k=F(R,1);for(R=F(R,2),x=F(x,2);!w(R);){var T=k.add(R);T.l(A)<=0&&(D=D.add(x),k=T),R=F(R,1),x=F(x,1)}return E=v(A,D.j(E)),new S(D,E)}for(D=m;A.l(E)>=0;){for(x=Math.max(1,Math.floor(A.m()/E.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),k=c(x),T=k.j(E);I(T)||T.l(A)>0;)x-=R,k=c(x),T=k.j(E);w(k)&&(k=p),D=D.add(k),A=v(A,T)}return new S(D,A)}t.B=function(A){return N(this,A).h},t.and=function(A){const E=Math.max(this.g.length,A.g.length),x=[];for(let R=0;R<E;R++)x[R]=this.i(R)&A.i(R);return new s(x,this.h&A.h)},t.or=function(A){const E=Math.max(this.g.length,A.g.length),x=[];for(let R=0;R<E;R++)x[R]=this.i(R)|A.i(R);return new s(x,this.h|A.h)},t.xor=function(A){const E=Math.max(this.g.length,A.g.length),x=[];for(let R=0;R<E;R++)x[R]=this.i(R)^A.i(R);return new s(x,this.h^A.h)};function L(A){const E=A.g.length+1,x=[];for(let R=0;R<E;R++)x[R]=A.i(R)<<1|A.i(R-1)>>>31;return new s(x,A.h)}function F(A,E){const x=E>>5;E%=32;const R=A.g.length-x,D=[];for(let k=0;k<R;k++)D[k]=E>0?A.i(k+x)>>>E|A.i(k+x+1)<<32-E:A.i(k+x);return new s(D,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Z2=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,qi=s}).apply(typeof BE<"u"?BE:typeof self<"u"?self:typeof window<"u"?window:{});var ch=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eN,Kl,tN,Bh,cy,nN,rN,iN;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var P=l[b];if(!(P in g))break e;g=g[P]}l=l[l.length-1],b=g[l],d=d(b),d!=b&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(d){var g=[],b;for(b in d)Object.prototype.hasOwnProperty.call(d,b)&&g.push([b,d[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function u(l,d,g){return l.call.apply(l.bind,arguments)}function c(l,d,g){return c=u,c.apply(null,arguments)}function f(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function m(l,d){function g(){}g.prototype=d.prototype,l.Z=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(b,P,j){for(var G=Array(arguments.length-2),se=2;se<arguments.length;se++)G[se-2]=arguments[se];return d.prototype[P].apply(b,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function y(l){const d=l.length;if(d>0){const g=Array(d);for(let b=0;b<d;b++)g[b]=l[b];return g}return[]}function w(l,d){for(let b=1;b<arguments.length;b++){const P=arguments[b];var g=typeof P;if(g=g!="object"?g:P?Array.isArray(P)?"array":g:"null",g=="array"||g=="object"&&typeof P.length=="number"){g=l.length||0;const j=P.length||0;l.length=g+j;for(let G=0;G<j;G++)l[g+G]=P[G]}else l.push(P)}}class I{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return this.h>0?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function C(l){s.setTimeout(()=>{throw l},0)}function v(){var l=A;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class _{constructor(){this.h=this.g=null}add(d,g){const b=S.get();b.set(d,g),this.h?this.h.next=b:this.g=b,this.h=b}}var S=new I(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let L,F=!1,A=new _,E=()=>{const l=Promise.resolve(void 0);L=()=>{l.then(x)}};function x(){for(var l;l=v();){try{l.h.call(l.g)}catch(g){C(g)}var d=S;d.j(l),d.h<100&&(d.h++,l.next=d.g,d.g=l)}F=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};s.addEventListener("test",g,d),s.removeEventListener("test",g,d)}catch{}return l}();function T(l){return/^[\s\xa0]*$/.test(l)}function $(l,d){D.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,d)}m($,D),$.prototype.init=function(l,d){const g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget,d||(g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement)),this.relatedTarget=d,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),M=0;function z(l,d,g,b,P){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!b,this.ha=P,this.key=++M,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function K(l,d,g){for(const b in l)d.call(g,l[b],b,l)}function X(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function xe(l){const d={};for(const g in l)d[g]=l[g];return d}const ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qt(l,d){let g,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(g in b)l[g]=b[g];for(let j=0;j<ut.length;j++)g=ut[j],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function Qe(l){this.src=l,this.g={},this.h=0}Qe.prototype.add=function(l,d,g,b,P){const j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);const G=ii(l,d,b,P);return G>-1?(d=l[G],g||(d.fa=!1)):(d=new z(d,this.src,j,!!b,P),d.fa=g,l.push(d)),d};function Ht(l,d){const g=d.type;if(g in l.g){var b=l.g[g],P=Array.prototype.indexOf.call(b,d,void 0),j;(j=P>=0)&&Array.prototype.splice.call(b,P,1),j&&(q(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function ii(l,d,g,b){for(let P=0;P<l.length;++P){const j=l[P];if(!j.da&&j.listener==d&&j.capture==!!g&&j.ha==b)return P}return-1}var wr="closure_lm_"+(Math.random()*1e6|0),xr={};function zn(l,d,g,b,P){if(Array.isArray(d)){for(let j=0;j<d.length;j++)zn(l,d[j],g,b,P);return null}return g=ll(g),l&&l[te]?l.J(d,g,o(b)?!!b.capture:!1,P):sl(l,d,g,!1,b,P)}function sl(l,d,g,b,P,j){if(!d)throw Error("Invalid event type");const G=o(P)?!!P.capture:!!P;let se=Dt(l);if(se||(l[wr]=se=new Qe(l)),g=se.add(d,g,b,G,j),g.proxy)return g;if(b=ol(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)k||(P=G),P===void 0&&(P=!1),l.addEventListener(d.toString(),b,P);else if(l.attachEvent)l.attachEvent(Ge(d.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ol(){function l(g){return d.call(l.src,l.listener,g)}const d=_a;return l}function ya(l,d,g,b,P){if(Array.isArray(d))for(var j=0;j<d.length;j++)ya(l,d[j],g,b,P);else b=o(b)?!!b.capture:!!b,g=ll(g),l&&l[te]?(l=l.i,j=String(d).toString(),j in l.g&&(d=l.g[j],g=ii(d,g,b,P),g>-1&&(q(d[g]),Array.prototype.splice.call(d,g,1),d.length==0&&(delete l.g[j],l.h--)))):l&&(l=Dt(l))&&(d=l.g[d.toString()],l=-1,d&&(l=ii(d,g,b,P)),(g=l>-1?d[l]:null)&&va(g))}function va(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[te])Ht(d.i,l);else{var g=l.type,b=l.proxy;d.removeEventListener?d.removeEventListener(g,b,l.capture):d.detachEvent?d.detachEvent(Ge(g),b):d.addListener&&d.removeListener&&d.removeListener(b),(g=Dt(d))?(Ht(g,l),g.h==0&&(g.src=null,d[wr]=null)):q(l)}}}function Ge(l){return l in xr?xr[l]:xr[l]="on"+l}function _a(l,d){if(l.da)l=!0;else{d=new $(d,this);const g=l.listener,b=l.ha||l.src;l.fa&&va(l),l=g.call(b,d)}return l}function Dt(l){return l=l[wr],l instanceof Qe?l:null}var ai="__closure_events_fn_"+(Math.random()*1e9>>>0);function ll(l){return typeof l=="function"?l:(l[ai]||(l[ai]=function(d){return l.handleEvent(d)}),l[ai])}function ct(){R.call(this),this.i=new Qe(this),this.M=this,this.G=null}m(ct,R),ct.prototype[te]=!0,ct.prototype.removeEventListener=function(l,d,g,b){ya(this,l,d,g,b)};function Et(l,d){var g,b=l.G;if(b)for(g=[];b;b=b.G)g.push(b);if(l=l.M,b=d.type||d,typeof d=="string")d=new D(d,l);else if(d instanceof D)d.target=d.target||l;else{var P=d;d=new D(b,l),qt(d,P)}P=!0;let j,G;if(g)for(G=g.length-1;G>=0;G--)j=d.g=g[G],P=_s(j,b,!0,d)&&P;if(j=d.g=l,P=_s(j,b,!0,d)&&P,P=_s(j,b,!1,d)&&P,g)for(G=0;G<g.length;G++)j=d.g=g[G],P=_s(j,b,!1,d)&&P}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var l=this.i;for(const d in l.g){const g=l.g[d];for(let b=0;b<g.length;b++)q(g[b]);delete l.g[d],l.h--}}this.G=null},ct.prototype.J=function(l,d,g,b){return this.i.add(String(l),d,!1,g,b)},ct.prototype.K=function(l,d,g,b){return this.i.add(String(l),d,!0,g,b)};function _s(l,d,g,b){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();let P=!0;for(let j=0;j<d.length;++j){const G=d[j];if(G&&!G.da&&G.capture==g){const se=G.listener,ht=G.ha||G.src;G.fa&&Ht(l.i,G),P=se.call(ht,b)!==!1&&P}}return P&&!b.defaultPrevented}function _m(l,d){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=c(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(d)>2147483647?-1:s.setTimeout(l,d||0)}function ul(l){l.g=_m(()=>{l.g=null,l.i&&(l.i=!1,ul(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class bm extends R{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ba(l){R.call(this),this.h=l,this.g={}}m(ba,R);var Cc=[];function Ic(l){K(l.g,function(d,g){this.g.hasOwnProperty(g)&&va(d)},l),l.g={}}ba.prototype.N=function(){ba.Z.N.call(this),Ic(this)},ba.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cl=s.JSON.stringify,hl=s.JSON.parse,Oc=class{stringify(l){return s.JSON.stringify(l,void 0)}parse(l){return s.JSON.parse(l,void 0)}};function fl(){}function Dc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bs(){D.call(this,"d")}m(bs,D);function dl(){D.call(this,"c")}m(dl,D);var Zn={},ml=null;function si(){return ml=ml||new ct}Zn.Ia="serverreachability";function kc(l){D.call(this,Zn.Ia,l)}m(kc,D);function oi(l){const d=si();Et(d,new kc(d))}Zn.STAT_EVENT="statevent";function Mc(l,d){D.call(this,Zn.STAT_EVENT,l),this.stat=d}m(Mc,D);function pt(l){const d=si();Et(d,new Mc(d,l))}Zn.Ja="timingevent";function wt(l,d){D.call(this,Zn.Ja,l),this.size=d}m(wt,D);function tt(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){l()},d)}function er(){this.g=!0}er.prototype.ua=function(){this.g=!1};function Oe(l,d,g,b,P,j){l.info(function(){if(l.g)if(j){var G="",se=j.split("&");for(let Ae=0;Ae<se.length;Ae++){var ht=se[Ae].split("=");if(ht.length>1){const gt=ht[0];ht=ht[1];const rr=gt.split("_");G=rr.length>=2&&rr[1]=="type"?G+(gt+"="+ht+"&"):G+(gt+"=redacted&")}}}else G=null;else G=j;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+d+`
`+g+`
`+G})}function wn(l,d,g,b,P,j,G){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+d+`
`+g+`
`+j+" "+G})}function li(l,d,g,b){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Pc(l,g)+(b?" "+b:"")})}function pl(l,d){l.info(function(){return"TIMEOUT: "+d})}er.prototype.info=function(){};function Pc(l,d){if(!l.g)return d;if(!d)return null;try{const j=JSON.parse(d);if(j){for(l=0;l<j.length;l++)if(Array.isArray(j[l])){var g=j[l];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var P=b[0];if(P!="noop"&&P!="stop"&&P!="close")for(let G=1;G<b.length;G++)b[G]=""}}}}return cl(j)}catch{return d}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Es={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wa;function xa(){}m(xa,fl),xa.prototype.g=function(){return new XMLHttpRequest},wa=new xa;function Tr(l){return encodeURIComponent(String(l))}function gl(l){var d=1;l=l.split(":");const g=[];for(;d>0&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function tr(l,d,g,b){this.j=l,this.i=d,this.l=g,this.S=b||1,this.V=new ba(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ws}function ws(){this.i=null,this.g="",this.h=!1}var yl={},vl={};function _l(l,d,g){l.M=1,l.A=jc(nr(d)),l.u=g,l.R=!0,oe(l,null)}function oe(l,d){l.F=Date.now(),kt(l),l.B=nr(l.A);var g=l.B,b=l.S;Array.isArray(b)||(b=[String(b)]),l1(g.i,"t",b),l.C=0,g=l.j.L,l.h=new ws,l.g=A1(l.j,g?d:null,!l.u),l.P>0&&(l.O=new bm(c(l.Y,l,l.g),l.P)),d=l.V,g=l.g,b=l.ba;var P="readystatechange";Array.isArray(P)||(P&&(Cc[0]=P.toString()),P=Cc);for(let j=0;j<P.length;j++){const G=zn(g,P[j],b||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.J?xe(l.J):{},l.u?(l.v||(l.v="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,d)):(l.v="GET",l.g.ea(l.B,l.v,null,d)),oi(),Oe(l.i,l.v,l.B,l.l,l.S,l.u)}tr.prototype.ba=function(l){l=l.target;const d=this.O;d&&hi(l)==3?d.j():this.Y(l)},tr.prototype.Y=function(l){try{if(l==this.g)e:{const se=hi(this.g),ht=this.g.ya(),Ae=this.g.ca();if(!(se<3)&&(se!=3||this.g&&(this.h.h||this.g.la()||p1(this.g)))){this.K||se!=4||ht==7||(ht==8||Ae<=0?oi(3):oi(2)),bl(this);var d=this.g.ca();this.X=d;var g=Ve(this);if(this.o=d==200,wn(this.i,this.v,this.B,this.l,this.S,se,d),this.o){if(this.U&&!this.L){t:{if(this.g){var b,P=this.g;if((b=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(b)){var j=b;break t}}j=null}if(l=j)li(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Em(this,l);else{this.o=!1,this.m=3,pt(12),Sa(this),Ta(this);break e}}if(this.R){l=!0;let gt;for(;!this.K&&this.C<g.length;)if(gt=rn(this,g),gt==vl){se==4&&(this.m=4,pt(14),l=!1),li(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==yl){this.m=4,pt(15),li(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else li(this.i,this.l,gt,null),Em(this,gt);if($e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),se!=4||g.length!=0||this.h.h||(this.m=1,pt(16),l=!1),this.o=this.o&&l,!l)li(this.i,this.l,g,"[Invalid Chunked Response]"),Sa(this),Ta(this);else if(g.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Cm(G),G.P=!0,pt(11))}}else li(this.i,this.l,g,null),Em(this,g);se==4&&Sa(this),this.o&&!this.K&&(se==4?w1(this.j,this):(this.o=!1,kt(this)))}else kI(this.g),d==400&&g.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Sa(this),Ta(this)}}}catch{}finally{}};function Ve(l){if(!$e(l))return l.g.la();const d=p1(l.g);if(d==="")return"";let g="";const b=d.length,P=hi(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return Sa(l),Ta(l),"";l.h.i=new s.TextDecoder}for(let j=0;j<b;j++)l.h.h=!0,g+=l.h.i.decode(d[j],{stream:!(P&&j==b-1)});return d.length=0,l.h.g+=g,l.C=0,l.h.g}function $e(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function rn(l,d){var g=l.C,b=d.indexOf(`
`,g);return b==-1?vl:(g=Number(d.substring(g,b)),isNaN(g)?yl:(b+=1,b+g>d.length?vl:(d=d.slice(b,b+g),l.C=b+g,d)))}tr.prototype.cancel=function(){this.K=!0,Sa(this)};function kt(l){l.T=Date.now()+l.H,xs(l,l.H)}function xs(l,d){if(l.D!=null)throw Error("WatchDog timer not null");l.D=tt(c(l.aa,l),d)}function bl(l){l.D&&(s.clearTimeout(l.D),l.D=null)}tr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(pl(this.i,this.B),this.M!=2&&(oi(),pt(17)),Sa(this),this.m=2,Ta(this)):xs(this,this.T-l)};function Ta(l){l.j.I==0||l.K||w1(l.j,l)}function Sa(l){bl(l);var d=l.O;d&&typeof d.dispose=="function"&&d.dispose(),l.O=null,Ic(l.V),l.g&&(d=l.g,l.g=null,d.abort(),d.dispose())}function Em(l,d){try{var g=l.j;if(g.I!=0&&(g.g==l||wm(g.h,l))){if(!l.L&&wm(g.h,l)&&g.I==3){try{var b=g.Ba.g.parse(d)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)zc(g),Uc(g);else break e;Rm(g),pt(18)}}else g.xa=P[1],0<g.xa-g.K&&P[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=tt(c(g.Va,g),6e3));e1(g.h)<=1&&g.ta&&(g.ta=void 0)}else Na(g,11)}else if((l.L||g.g==l)&&zc(g),!T(d))for(P=g.Ba.g.parse(d),d=0;d<P.length;d++){let Ae=P[d];const gt=Ae[0];if(!(gt<=g.K))if(g.K=gt,Ae=Ae[1],g.I==2)if(Ae[0]=="c"){g.M=Ae[1],g.ba=Ae[2];const rr=Ae[3];rr!=null&&(g.ka=rr,g.j.info("VER="+g.ka));const Ra=Ae[4];Ra!=null&&(g.za=Ra,g.j.info("SVER="+g.za));const fi=Ae[5];fi!=null&&typeof fi=="number"&&fi>0&&(b=1.5*fi,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const di=l.g;if(di){const Fc=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fc){var j=b.h;j.g||Fc.indexOf("spdy")==-1&&Fc.indexOf("quic")==-1&&Fc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(xm(j,j.h),j.h=null))}if(b.G){const Im=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;Im&&(b.wa=Im,De(b.J,b.G,Im))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var G=l;if(b.na=S1(b,b.L?b.ba:null,b.W),G.L){t1(b.h,G);var se=G,ht=b.O;ht&&(se.H=ht),se.D&&(bl(se),kt(se)),b.g=G}else b1(b);g.i.length>0&&Bc(g)}else Ae[0]!="stop"&&Ae[0]!="close"||Na(g,7);else g.I==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?Na(g,7):Nm(g):Ae[0]!="noop"&&g.l&&g.l.qa(Ae),g.A=0)}}oi(4)}catch{}}var bI=class{constructor(l,d){this.g=l,this.map=d}};function J_(l){this.l=l||10,s.PerformanceNavigationTiming?(l=s.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Z_(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function e1(l){return l.h?1:l.g?l.g.size:0}function wm(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function xm(l,d){l.g?l.g.add(d):l.h=d}function t1(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}J_.prototype.cancel=function(){if(this.i=n1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function n1(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.G);return d}return y(l.i)}var r1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function EI(l,d){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const b=l[g].indexOf("=");let P,j=null;b>=0?(P=l[g].substring(0,b),j=l[g].substring(b+1)):P=l[g],d(P,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function ui(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let d;l instanceof ui?(this.l=l.l,El(this,l.j),this.o=l.o,this.g=l.g,wl(this,l.u),this.h=l.h,Tm(this,u1(l.i)),this.m=l.m):l&&(d=String(l).match(r1))?(this.l=!1,El(this,d[1]||"",!0),this.o=xl(d[2]||""),this.g=xl(d[3]||"",!0),wl(this,d[4]),this.h=xl(d[5]||"",!0),Tm(this,d[6]||"",!0),this.m=xl(d[7]||"")):(this.l=!1,this.i=new Sl(null,this.l))}ui.prototype.toString=function(){const l=[];var d=this.j;d&&l.push(Tl(d,i1,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tl(d,i1,!0),"@"),l.push(Tr(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Tl(g,g.charAt(0)=="/"?TI:xI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Tl(g,AI)),l.join("")},ui.prototype.resolve=function(l){const d=nr(this);let g=!!l.j;g?El(d,l.j):g=!!l.o,g?d.o=l.o:g=!!l.g,g?d.g=l.g:g=l.u!=null;var b=l.h;if(g)wl(d,l.u);else if(g=!!l.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var P=d.h.lastIndexOf("/");P!=-1&&(b=d.h.slice(0,P+1)+b)}if(P=b,P==".."||P==".")b="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){b=P.lastIndexOf("/",0)==0,P=P.split("/");const j=[];for(let G=0;G<P.length;){const se=P[G++];se=="."?b&&G==P.length&&j.push(""):se==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),b&&G==P.length&&j.push("")):(j.push(se),b=!0)}b=j.join("/")}else b=P}return g?d.h=b:g=l.i.toString()!=="",g?Tm(d,u1(l.i)):g=!!l.m,g&&(d.m=l.m),d};function nr(l){return new ui(l)}function El(l,d,g){l.j=g?xl(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function wl(l,d){if(d){if(d=Number(d),isNaN(d)||d<0)throw Error("Bad port number "+d);l.u=d}else l.u=null}function Tm(l,d,g){d instanceof Sl?(l.i=d,NI(l.i,l.l)):(g||(d=Tl(d,SI)),l.i=new Sl(d,l.l))}function De(l,d,g){l.i.set(d,g)}function jc(l){return De(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function xl(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tl(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,wI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var i1=/[#\/\?@]/g,xI=/[#\?:]/g,TI=/[#\?]/g,SI=/[#\?@]/g,AI=/#/g;function Sl(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Aa(l){l.g||(l.g=new Map,l.h=0,l.i&&EI(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}t=Sl.prototype,t.add=function(l,d){Aa(this),this.i=null,l=Ts(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function a1(l,d){Aa(l),d=Ts(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function s1(l,d){return Aa(l),d=Ts(l,d),l.g.has(d)}t.forEach=function(l,d){Aa(this),this.g.forEach(function(g,b){g.forEach(function(P){l.call(d,P,b,this)},this)},this)};function o1(l,d){Aa(l);let g=[];if(typeof d=="string")s1(l,d)&&(g=g.concat(l.g.get(Ts(l,d))));else for(l=Array.from(l.g.values()),d=0;d<l.length;d++)g=g.concat(l[d]);return g}t.set=function(l,d){return Aa(this),this.i=null,l=Ts(this,l),s1(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=o1(this,l),l.length>0?String(l[0]):d):d};function l1(l,d,g){a1(l,d),g.length>0&&(l.i=null,l.g.set(Ts(l,d),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(let b=0;b<d.length;b++){var g=d[b];const P=Tr(g);g=o1(this,g);for(let j=0;j<g.length;j++){let G=P;g[j]!==""&&(G+="="+Tr(g[j])),l.push(G)}}return this.i=l.join("&")};function u1(l){const d=new Sl;return d.i=l.i,l.g&&(d.g=new Map(l.g),d.h=l.h),d}function Ts(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function NI(l,d){d&&!l.j&&(Aa(l),l.i=null,l.g.forEach(function(g,b){const P=b.toLowerCase();b!=P&&(a1(this,b),l1(this,P,g))},l)),l.j=d}function RI(l,d){const g=new er;if(s.Image){const b=new Image;b.onload=f(ci,g,"TestLoadImage: loaded",!0,d,b),b.onerror=f(ci,g,"TestLoadImage: error",!1,d,b),b.onabort=f(ci,g,"TestLoadImage: abort",!1,d,b),b.ontimeout=f(ci,g,"TestLoadImage: timeout",!1,d,b),s.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else d(!1)}function CI(l,d){const g=new er,b=new AbortController,P=setTimeout(()=>{b.abort(),ci(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:b.signal}).then(j=>{clearTimeout(P),j.ok?ci(g,"TestPingServer: ok",!0,d):ci(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(P),ci(g,"TestPingServer: error",!1,d)})}function ci(l,d,g,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(g)}catch{}}function II(){this.g=new Oc}function Sm(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Sm,fl),Sm.prototype.g=function(){return new Lc(this.i,this.h)};function Lc(l,d){ct.call(this),this.H=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Lc,ct),t=Lc.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=d,this.readyState=1,Nl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const d={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(d.body=l),(this.H||s).fetch(new Request(this.D,d)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Al(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Nl(this)),this.g&&(this.readyState=3,Nl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;c1(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function c1(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.B.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Al(this):Nl(this),this.readyState==3&&c1(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,Al(this))},t.Na=function(l){this.g&&(this.response=l,Al(this))},t.ga=function(){this.g&&Al(this)};function Al(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Nl(l)}t.setRequestHeader=function(l,d){this.A.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function Nl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function h1(l){let d="";return K(l,function(g,b){d+=b,d+=":",d+=g,d+=`\r
`}),d}function Am(l,d,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=h1(g),typeof l=="string"?g!=null&&Tr(g):De(l,d,g))}function Ye(l){ct.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ye,ct);var OI=/^https?$/i,DI=["POST","PUT"];t=Ye.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,d,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wa.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){f1(this,j);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)g.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const j of b.keys())g.set(j,b.get(j));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),P=s.FormData&&l instanceof s.FormData,!(Array.prototype.indexOf.call(DI,d,void 0)>=0)||b||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of g)this.g.setRequestHeader(j,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(j){f1(this,j)}};function f1(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.o=5,d1(l),Vc(l)}function d1(l){l.A||(l.A=!0,Et(l,"complete"),Et(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,Et(this,"complete"),Et(this,"abort"),Vc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vc(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?m1(this):this.Xa())},t.Xa=function(){m1(this)};function m1(l){if(l.h&&typeof a<"u"){if(l.v&&hi(l)==4)setTimeout(l.Ca.bind(l),0);else if(Et(l,"readystatechange"),hi(l)==4){l.h=!1;try{const j=l.ca();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var b;if(b=j===0){let G=String(l.D).match(r1)[1]||null;!G&&s.self&&s.self.location&&(G=s.self.location.protocol.slice(0,-1)),b=!OI.test(G?G.toLowerCase():"")}g=b}if(g)Et(l,"complete"),Et(l,"success");else{l.o=6;try{var P=hi(l)>2?l.g.statusText:""}catch{P=""}l.l=P+" ["+l.ca()+"]",d1(l)}}finally{Vc(l)}}}}function Vc(l,d){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,d||Et(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function hi(l){return l.g?l.g.readyState:0}t.ca=function(){try{return hi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),hl(d)}};function p1(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function kI(l){const d={};l=(l.g&&hi(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(T(l[b]))continue;var g=gl(l[b]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=d[P]||[];d[P]=j,j.push(g)}X(d,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rl(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function g1(l){this.za=0,this.i=[],this.j=new er,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Rl("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Rl("baseRetryDelayMs",5e3,l),this.Za=Rl("retryDelaySeedMs",1e4,l),this.Ta=Rl("forwardChannelMaxRetries",2,l),this.va=Rl("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new J_(l&&l.concurrentRequestLimit),this.Ba=new II,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=g1.prototype,t.ka=8,t.I=1,t.connect=function(l,d,g,b){pt(0),this.W=l,this.H=d||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=S1(this,null,this.W),Bc(this)};function Nm(l){if(y1(l),l.I==3){var d=l.V++,g=nr(l.J);if(De(g,"SID",l.M),De(g,"RID",d),De(g,"TYPE","terminate"),Cl(l,g),d=new tr(l,l.j,d),d.M=2,d.A=jc(nr(g)),g=!1,s.navigator&&s.navigator.sendBeacon)try{g=s.navigator.sendBeacon(d.A.toString(),"")}catch{}!g&&s.Image&&(new Image().src=d.A,g=!0),g||(d.g=A1(d.j,null),d.g.ea(d.A)),d.F=Date.now(),kt(d)}T1(l)}function Uc(l){l.g&&(Cm(l),l.g.cancel(),l.g=null)}function y1(l){Uc(l),l.v&&(s.clearTimeout(l.v),l.v=null),zc(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&s.clearTimeout(l.m),l.m=null)}function Bc(l){if(!Z_(l.h)&&!l.m){l.m=!0;var d=l.Ea;L||E(),F||(L(),F=!0),A.add(d,l),l.D=0}}function MI(l,d){return e1(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=d.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=tt(c(l.Ea,l,d),x1(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const P=new tr(this,this.j,l);let j=this.o;if(this.U&&(j?(j=xe(j),qt(j,this.U)):j=this.U),this.u!==null||this.R||(P.J=j,j=null),this.S)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(d+=b,d>4096){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=_1(this,P,d),g=nr(this.J),De(g,"RID",l),De(g,"CVER",22),this.G&&De(g,"X-HTTP-Session-Id",this.G),Cl(this,g),j&&(this.R?d="headers="+Tr(h1(j))+"&"+d:this.u&&Am(g,this.u,j)),xm(this.h,P),this.Ra&&De(g,"TYPE","init"),this.S?(De(g,"$req",d),De(g,"SID","null"),P.U=!0,_l(P,g,null)):_l(P,g,d),this.I=2}}else this.I==3&&(l?v1(this,l):this.i.length==0||Z_(this.h)||v1(this))};function v1(l,d){var g;d?g=d.l:g=l.V++;const b=nr(l.J);De(b,"SID",l.M),De(b,"RID",g),De(b,"AID",l.K),Cl(l,b),l.u&&l.o&&Am(b,l.u,l.o),g=new tr(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),d&&(l.i=d.G.concat(l.i)),d=_1(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),xm(l.h,g),_l(g,b,d)}function Cl(l,d){l.H&&K(l.H,function(g,b){De(d,b,g)}),l.l&&K({},function(g,b){De(d,b,g)})}function _1(l,d,g){g=Math.min(l.i.length,g);const b=l.l?c(l.l.Ka,l.l,l):null;e:{var P=l.i;let se=-1;for(;;){const ht=["count="+g];se==-1?g>0?(se=P[0].g,ht.push("ofs="+se)):se=0:ht.push("ofs="+se);let Ae=!0;for(let gt=0;gt<g;gt++){var j=P[gt].g;const rr=P[gt].map;if(j-=se,j<0)se=Math.max(0,P[gt].g-100),Ae=!1;else try{j="req"+j+"_"||"";try{var G=rr instanceof Map?rr:Object.entries(rr);for(const[Ra,fi]of G){let di=fi;o(fi)&&(di=cl(fi)),ht.push(j+Ra+"="+encodeURIComponent(di))}}catch(Ra){throw ht.push(j+"type="+encodeURIComponent("_badmap")),Ra}}catch{b&&b(rr)}}if(Ae){G=ht.join("&");break e}}G=void 0}return l=l.i.splice(0,g),d.G=l,G}function b1(l){if(!l.g&&!l.v){l.Y=1;var d=l.Da;L||E(),F||(L(),F=!0),A.add(d,l),l.A=0}}function Rm(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=tt(c(l.Da,l),x1(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,E1(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=tt(c(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Uc(this),E1(this))};function Cm(l){l.B!=null&&(s.clearTimeout(l.B),l.B=null)}function E1(l){l.g=new tr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var d=nr(l.na);De(d,"RID","rpc"),De(d,"SID",l.M),De(d,"AID",l.K),De(d,"CI",l.F?"0":"1"),!l.F&&l.ia&&De(d,"TO",l.ia),De(d,"TYPE","xmlhttp"),Cl(l,d),l.u&&l.o&&Am(d,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=jc(nr(d)),g.u=null,g.R=!0,oe(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Uc(this),Rm(this),pt(19))};function zc(l){l.C!=null&&(s.clearTimeout(l.C),l.C=null)}function w1(l,d){var g=null;if(l.g==d){zc(l),Cm(l),l.g=null;var b=2}else if(wm(l.h,d))g=d.G,t1(l.h,d),b=1;else return;if(l.I!=0){if(d.o)if(b==1){g=d.u?d.u.length:0,d=Date.now()-d.F;var P=l.D;b=si(),Et(b,new wt(b,g)),Bc(l)}else b1(l);else if(P=d.m,P==3||P==0&&d.X>0||!(b==1&&MI(l,d)||b==2&&Rm(l)))switch(g&&g.length>0&&(d=l.h,d.i=d.i.concat(g)),P){case 1:Na(l,5);break;case 4:Na(l,10);break;case 3:Na(l,6);break;default:Na(l,2)}}}function x1(l,d){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*d}function Na(l,d){if(l.j.info("Error code "+d),d==2){var g=c(l.bb,l),b=l.Ua;const P=!b;b=new ui(b||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||El(b,"https"),jc(b),P?RI(b.toString(),g):CI(b.toString(),g)}else pt(2);l.I=0,l.l&&l.l.pa(d),T1(l),y1(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function T1(l){if(l.I=0,l.ja=[],l.l){const d=n1(l.h);(d.length!=0||l.i.length!=0)&&(w(l.ja,d),w(l.ja,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.oa()}}function S1(l,d,g){var b=g instanceof ui?nr(g):new ui(g);if(b.g!="")d&&(b.g=d+"."+b.g),wl(b,b.u);else{var P=s.location;b=P.protocol,d=d?d+"."+P.hostname:P.hostname,P=+P.port;const j=new ui(null);b&&El(j,b),d&&(j.g=d),P&&wl(j,P),g&&(j.h=g),b=j}return g=l.G,d=l.wa,g&&d&&De(b,g,d),De(b,"VER",l.ka),Cl(l,b),b}function A1(l,d,g){if(d&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Aa&&!l.ma?new Ye(new Sm({ab:g})):new Ye(l.ma),d.Fa(l.L),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function N1(){}t=N1.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function $c(){}$c.prototype.g=function(l,d){return new an(l,d)};function an(l,d){ct.call(this),this.g=new g1(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.sa&&(l?l["X-WebChannel-Client-Profile"]=d.sa:l={"X-WebChannel-Client-Profile":d.sa}),this.g.U=l,(l=d&&d.Qb)&&!T(l)&&(this.g.u=l),this.A=d&&d.supportsCrossDomainXhr||!1,this.v=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!T(d)&&(this.g.G=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Ss(this)}m(an,ct),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Nm(this.g)},an.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=cl(l),l=g);d.i.push(new bI(d.Ya++,l)),d.I==3&&Bc(d)},an.prototype.N=function(){this.g.l=null,delete this.j,Nm(this.g),delete this.g,an.Z.N.call(this)};function R1(l){bs.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}m(R1,bs);function C1(){dl.call(this),this.status=1}m(C1,dl);function Ss(l){this.g=l}m(Ss,N1),Ss.prototype.ra=function(){Et(this.g,"a")},Ss.prototype.qa=function(l){Et(this.g,new R1(l))},Ss.prototype.pa=function(l){Et(this.g,new C1)},Ss.prototype.oa=function(){Et(this.g,"b")},$c.prototype.createWebChannel=$c.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,iN=function(){return new $c},rN=function(){return si()},nN=Zn,cy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,Bh=Ea,Es.COMPLETE="complete",tN=Es,Dc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Kl=Dc,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,eN=Ye}).apply(typeof ch<"u"?ch:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore",$E="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pt.UNAUTHENTICATED=new Pt(null),Pt.GOOGLE_CREDENTIALS=new Pt("google-credentials-uid"),Pt.FIRST_PARTY=new Pt("first-party-uid"),Pt.MOCK_USER=new Pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Dd("@firebase/firestore");function Ps(){return Xa.logLevel}function W(t,...e){if(Xa.logLevel<=he.DEBUG){const n=e.map(h0);Xa.debug(`Firestore (${Ko}): ${t}`,...n)}}function Xr(t,...e){if(Xa.logLevel<=he.ERROR){const n=e.map(h0);Xa.error(`Firestore (${Ko}): ${t}`,...n)}}function No(t,...e){if(Xa.logLevel<=he.WARN){const n=e.map(h0);Xa.warn(`Firestore (${Ko}): ${t}`,...n)}}function h0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aN(t,r,n)}function aN(t,e,n){let r=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Xr(r),new Error(r)}function be(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||aN(e,i,r)}function re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Un{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Pt.UNAUTHENTICATED))}shutdown(){}}class BL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zL{constructor(e){this.t=e,this.currentUser=Pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new $r;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $r,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $r)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(be(typeof r.accessToken=="string",31837,{l:r}),new sN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new Pt(e)}}class $L{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Pt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $L(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,In(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){be(this.o===void 0,3512);const r=a=>{a.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=HL(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}function hy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return Cp(i)===Cp(a)?fe(i,a):Cp(i)?1:-1}return fe(t.length,e.length)}const GL=55296,YL=57343;function Cp(t){const e=t.charCodeAt(0);return e>=GL&&e<=YL}function Ro(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Z(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=ar.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return fe(e.length,n.length)}static compareSegments(e,n){const r=ar.isNumericId(e),i=ar.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ar.extractNumericId(e).compare(ar.extractNumericId(n)):hy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class Ce extends ar{construct(e,n,r){return new Ce(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ce(n)}static emptyPath(){return new Ce([])}}const WL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends ar{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return WL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Rt([qE])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Y(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(r+=o,i++):(a(),i++)}if(a(),s)throw new Y(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ce.fromString(e))}static fromName(e){return new Q(Ce.fromString(e).popFirst(5))}static empty(){return new Q(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ce.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ce(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(t,e,n){if(!n)throw new Y(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KL(t,e,n,r){if(e===!0&&r===!0)throw new Y(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HE(t){if(!Q.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function GE(t){if(Q.isDocumentKey(t))throw new Y(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z(12329,{type:typeof t})}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Md(t);throw new Y(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e){const n={typeString:t};return e&&(n.value=e),n}function mc(t,e){if(!lN(t))throw new Y(V.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Y(V.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=-62135596800,WE=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WE);return new ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YE)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WE}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mc(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:lt("string",ye._jsonSchemaVersion),seconds:lt("number"),nanoseconds:lt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new ye(0,0))}static max(){return new ne(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function QL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new Zi(i,Q.empty(),e)}function XL(t){return new Zi(t.readTime,t.key,Vu)}class Zi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zi(ne.min(),Q.empty(),Vu)}static max(){return new Zi(ne.max(),Q.empty(),Vu)}}function JL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==ZL)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,a=0,s=!1;e.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&n()},u=>r(u))}),s=!0,a===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const a=e.length,s=new Array(a);let o=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++o,o===a&&r(s)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function tV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Xo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Pd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=-1;function jd(t){return t==null}function Df(t){return t===0&&1/t==-1/0}function nV(t){return typeof t=="number"&&Number.isInteger(t)&&!Df(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="";function rV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KE(e)),e=iV(t.get(n),e);return KE(e)}function iV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case uN:n+="";break;default:n+=a}}return n}function KE(t){return t+uN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ha(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,n){this.comparator=e,this.root=n||Tt.EMPTY}insert(e,n){return new He(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tt{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Tt.RED,this.left=i??Tt.EMPTY,this.right=a??Tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Tt(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Z(27949);return e+(this.isRed()?0:1)}}Tt.EMPTY=null,Tt.RED=!0,Tt.BLACK=!1;Tt.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new dt(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new dn([])}unionWith(e){let n=new dt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ro(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new hN("Invalid base64 string: "+a):a}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const aV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(t){if(be(!!t,39018),typeof t=="string"){let e=0;const n=aV.exec(t);if(be(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xe(t.seconds),nanos:Xe(t.nanos)}}function Xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ta(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="server_timestamp",dN="__type__",mN="__previous_value__",pN="__local_write_time__";function m0(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dN])==null?void 0:r.stringValue)===fN}function Ld(t){const e=t.mapValue.fields[mN];return m0(e)?Ld(e):e}function Uu(t){const e=ea(t.mapValue.fields[pN].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e,n,r,i,a,s,o,u,c,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const kf="(default)";class Bu{constructor(e,n){this.projectId=e,this.database=n||kf}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===kf}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="__type__",oV="__max__",fh={mapValue:{}},yN="__vector__",Mf="value";function na(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?m0(t)?4:uV(t)?9007199254740991:lV(t)?10:11:Z(28295,{value:t})}function yr(t,e){if(t===e)return!0;const n=na(t);if(n!==na(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uu(t).isEqual(Uu(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ea(i.timestampValue),o=ea(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return ta(i.bytesValue).isEqual(ta(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return Xe(i.geoPointValue.latitude)===Xe(a.geoPointValue.latitude)&&Xe(i.geoPointValue.longitude)===Xe(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Xe(i.integerValue)===Xe(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Xe(i.doubleValue),o=Xe(a.doubleValue);return s===o?Df(s)===Df(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Ro(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(QE(s)!==QE(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!yr(s[u],o[u])))return!1;return!0}(t,e);default:return Z(52216,{left:t})}}function zu(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function Co(t,e){if(t===e)return 0;const n=na(t),r=na(e);if(n!==r)return fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(a,s){const o=Xe(a.integerValue||a.doubleValue),u=Xe(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return JE(t.timestampValue,e.timestampValue);case 4:return JE(Uu(t),Uu(e));case 5:return hy(t.stringValue,e.stringValue);case 6:return function(a,s){const o=ta(a),u=ta(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const o=a.split("/"),u=s.split("/");for(let c=0;c<o.length&&c<u.length;c++){const f=fe(o[c],u[c]);if(f!==0)return f}return fe(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const o=fe(Xe(a.latitude),Xe(s.latitude));return o!==0?o:fe(Xe(a.longitude),Xe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZE(t.arrayValue,e.arrayValue);case 10:return function(a,s){var p,y,w,I;const o=a.fields||{},u=s.fields||{},c=(p=o[Mf])==null?void 0:p.arrayValue,f=(y=u[Mf])==null?void 0:y.arrayValue,m=fe(((w=c==null?void 0:c.values)==null?void 0:w.length)||0,((I=f==null?void 0:f.values)==null?void 0:I.length)||0);return m!==0?m:ZE(c,f)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===fh.mapValue&&s===fh.mapValue)return 0;if(a===fh.mapValue)return 1;if(s===fh.mapValue)return-1;const o=a.fields||{},u=Object.keys(o),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const p=hy(u[m],f[m]);if(p!==0)return p;const y=Co(o[u[m]],c[f[m]]);if(y!==0)return y}return fe(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Z(23264,{he:n})}}function JE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=ea(t),r=ea(e),i=fe(n.seconds,r.seconds);return i!==0?i:fe(n.nanos,r.nanos)}function ZE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Co(n[i],r[i]);if(a)return a}return fe(n.length,r.length)}function Io(t){return fy(t)}function fy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ea(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ta(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=fy(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${fy(n.fields[s])}`;return i+"}"}(t.mapValue):Z(61005,{value:t})}function zh(t){switch(na(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ld(t);return e?16+zh(e):16;case 5:return 2*t.stringValue.length;case 6:return ta(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+zh(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ha(r.fields,(a,s)=>{i+=a.length+zh(s)}),i}(t.mapValue);default:throw Z(13486,{value:t})}}function ew(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dy(t){return!!t&&"integerValue"in t}function p0(t){return!!t&&"arrayValue"in t}function tw(t){return!!t&&"nullValue"in t}function nw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $h(t){return!!t&&"mapValue"in t}function lV(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[gN])==null?void 0:r.stringValue)===yN}function pu(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ha(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pu(t.arrayValue.values[n]);return e}return{...t}}function uV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===oV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.value=e}static empty(){return new Jt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pu(n)}setAll(e){let n=Rt.emptyPath(),r={},i=[];e.forEach((s,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=o.popLast()}s?r[o.lastSegment()]=pu(s):i.push(o.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());$h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$h(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ha(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Jt(pu(this.value))}}function vN(t){const e=[];return ha(t.fields,(n,r)=>{const i=new Rt([n]);if($h(r)){const a=vN(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,a,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new jt(e,0,ne.min(),ne.min(),ne.min(),Jt.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,ne.min(),ne.min(),Jt.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,ne.min(),ne.min(),Jt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,n){this.position=e,this.inclusive=n}}function rw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),n.key):r=Co(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function iw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n="asc"){this.field=e,this.dir=n}}function cV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{}class st extends _N{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new fV(e,n,r):n==="array-contains"?new pV(e,r):n==="in"?new gV(e,r):n==="not-in"?new yV(e,r):n==="array-contains-any"?new vV(e,r):new st(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dV(e,r):new mV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Co(n,this.value)):n!==null&&na(this.value)===na(n)&&this.matchesComparison(Co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends _N{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return bN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function bN(t){return t.op==="and"}function EN(t){return hV(t)&&bN(t)}function hV(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function my(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Io(t.value);if(EN(t))return t.filters.map(e=>my(e)).join(",");{const e=t.filters.map(n=>my(n)).join(",");return`${t.op}(${e})`}}function wN(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,o)=>a&&wN(s,i.filters[o]),!0):!1}(t,e):void Z(19439)}function xN(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Io(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(xN).join(" ,")+"}"}(t):"Filter"}class fV extends st{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class dV extends st{constructor(e,n){super(e,"in",n),this.keys=TN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mV extends st{constructor(e,n){super(e,"not-in",n),this.keys=TN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TN(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class pV extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return p0(n)&&zu(n.arrayValue,this.value)}}class gV extends st{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class yV extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zu(this.value.arrayValue,n)}}class vV extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!p0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n=null,r=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function aw(t,e=null,n=[],r=[],i=null,a=null,s=null){return new _V(t,e,n,r,i,a,s)}function g0(t){const e=re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>my(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Io(r)).join(",")),e.Te=n}return e.Te}function y0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iw(t.startAt,e.startAt)&&iw(t.endAt,e.endAt)}function py(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n=null,r=[],i=[],a=null,s="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bV(t,e,n,r,i,a,s,o){return new Jo(t,e,n,r,i,a,s,o)}function Vd(t){return new Jo(t)}function sw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SN(t){return t.collectionGroup!==null}function gu(t){const e=re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new dt(Rt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new $u(a,r))}),n.has(Rt.keyField().canonicalString())||e.Ie.push(new $u(Rt.keyField(),r))}return e.Ie}function hr(t){const e=re(t);return e.Ee||(e.Ee=EV(e,gu(t))),e.Ee}function EV(t,e){if(t.limitType==="F")return aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new $u(i.field,a)});const n=t.endAt?new Pf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pf(t.startAt.position,t.startAt.inclusive):null;return aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gy(t,e){const n=t.filters.concat([e]);return new Jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yy(t,e,n){return new Jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ud(t,e){return y0(hr(t),hr(e))&&t.limitType===e.limitType}function AN(t){return`${g0(hr(t))}|lt:${t.limitType}`}function js(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xN(i)).join(", ")}]`),jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Io(i)).join(",")),`Target(${r})`}(hr(t))}; limitType=${t.limitType})`}function Bd(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Q.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of gu(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,o,u){const c=rw(s,o,u);return s.inclusive?c<=0:c<0}(r.startAt,gu(r),i)||r.endAt&&!function(s,o,u){const c=rw(s,o,u);return s.inclusive?c>=0:c>0}(r.endAt,gu(r),i))}(t,e)}function wV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NN(t){return(e,n)=>{let r=!1;for(const i of gu(t)){const a=xV(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function xV(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(a,s,o){const u=s.data.field(a),c=o.data.field(a);return u!==null&&c!==null?Co(u,c):Z(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ha(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return cN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new He(Q.comparator);function Jr(){return TV}const RN=new He(Q.comparator);function Ql(...t){let e=RN;for(const n of t)e=e.insert(n.key,n);return e}function CN(t){let e=RN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pa(){return yu()}function IN(){return yu()}function yu(){return new ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const SV=new He(Q.comparator),AV=new dt(Q.comparator);function de(...t){let e=AV;for(const n of t)e=e.add(n);return e}const NV=new dt(fe);function RV(){return NV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Df(e)?"-0":e}}function ON(t){return{integerValue:""+t}}function CV(t,e){return nV(e)?ON(e):v0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function IV(t,e,n){return t instanceof jf?function(i,a){const s={fields:{[dN]:{stringValue:fN},[pN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&m0(a)&&(a=Ld(a)),a&&(s.fields[mN]=a),{mapValue:s}}(n,e):t instanceof Fu?kN(t,e):t instanceof qu?MN(t,e):function(i,a){const s=DN(i,a),o=ow(s)+ow(i.Ae);return dy(s)&&dy(i.Ae)?ON(o):v0(i.serializer,o)}(t,e)}function OV(t,e,n){return t instanceof Fu?kN(t,e):t instanceof qu?MN(t,e):n}function DN(t,e){return t instanceof Lf?function(r){return dy(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class jf extends zd{}class Fu extends zd{constructor(e){super(),this.elements=e}}function kN(t,e){const n=PN(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class qu extends zd{constructor(e){super(),this.elements=e}}function MN(t,e){let n=PN(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class Lf extends zd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function ow(t){return Xe(t.integerValue||t.doubleValue)}function PN(t){return p0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function DV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Fu&&i instanceof Fu||r instanceof qu&&i instanceof qu?Ro(r.elements,i.elements,yr):r instanceof Lf&&i instanceof Lf?yr(r.Ae,i.Ae):r instanceof jf&&i instanceof jf}(t.transform,e.transform)}class kV{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $d{}function jN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _0(t.key,Gn.none()):new pc(t.key,t.data,Gn.none());{const n=t.data,r=Jt.empty();let i=new dt(Rt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new fa(t.key,r,new dn(i.toArray()),Gn.none())}}function MV(t,e,n){t instanceof pc?function(i,a,s){const o=i.value.clone(),u=uw(i.fieldTransforms,a,s.transformResults);o.setAll(u),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof fa?function(i,a,s){if(!Fh(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=uw(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(LN(i)),u.setAll(o),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function vu(t,e,n,r){return t instanceof pc?function(a,s,o,u){if(!Fh(a.precondition,s))return o;const c=a.value.clone(),f=cw(a.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof fa?function(a,s,o,u){if(!Fh(a.precondition,s))return o;const c=cw(a.fieldTransforms,u,s),f=s.data;return f.setAll(LN(a)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(a,s,o){return Fh(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function PV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=DN(r.transform,i||null);a!=null&&(n===null&&(n=Jt.empty()),n.set(r.field,a))}return n||null}function lw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ro(r,i,(a,s)=>DV(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class pc extends $d{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fa extends $d{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function LN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uw(t,e,n){const r=new Map;be(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);r.set(a.field,OV(s,o,n[i]))}return r}function cw(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,IV(a,s,e))}return r}class _0 extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jV extends $d{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&MV(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=vu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IN();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=n.has(i.key)?null:o;const u=jN(s,o);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),de())}isEqual(e){return this.batchId===e.batchId&&Ro(this.mutations,e.mutations,(n,r)=>lw(n,r))&&Ro(this.baseMutations,e.baseMutations,(n,r)=>lw(n,r))}}class b0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){be(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return SV}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new b0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,ge;function BV(t){switch(t){case V.OK:return Z(64938);case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0;default:return Z(15467,{code:t})}}function VN(t){if(t===void 0)return Xr("GRPC error has no .code"),V.UNKNOWN;switch(t){case nt.OK:return V.OK;case nt.CANCELLED:return V.CANCELLED;case nt.UNKNOWN:return V.UNKNOWN;case nt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case nt.INTERNAL:return V.INTERNAL;case nt.UNAVAILABLE:return V.UNAVAILABLE;case nt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case nt.NOT_FOUND:return V.NOT_FOUND;case nt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case nt.ABORTED:return V.ABORTED;case nt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case nt.DATA_LOSS:return V.DATA_LOSS;default:return Z(39323,{code:t})}}(ge=nt||(nt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new qi([4294967295,4294967295],0);function hw(t){const e=zV().encode(t),n=new Z2;return n.update(e),new Uint8Array(n.digest())}function fw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([n,r],0),new qi([i,a],0)]}class E0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xl(`Invalid padding: ${n}`);if(r<0)throw new Xl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=qi.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(qi.fromNumber(r)));return i.compare($V)===1&&(i=new qi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=hw(e),[r,i]=fw(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new E0(a,i,n);return r.forEach(o=>s.insert(o)),s}insert(e){if(this.ge===0)return;const n=hw(e),[r,i]=fw(n);for(let a=0;a<this.hashCount;a++){const s=this.ye(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fd(ne.min(),i,new He(fe),Jr(),de())}}class gc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gc(r,n,de(),de(),de())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class UN{constructor(e,n){this.targetId=e,this.Ce=n}}class BN{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dw{constructor(){this.ve=0,this.Fe=mw(),this.Me=Ot.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=de(),n=de(),r=de();return this.Fe.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:a})}}),new gc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=mw()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jr(),this.Je=dh(),this.He=dh(),this.Ye=new He(fe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Z(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(py(a))if(r===0){const s=new Q(a.path);this.et(n,s,jt.newNoDocument(s,ne.min()))}else be(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const o=this.ut(e),u=o?this.ct(o,e,s):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,o;try{s=ta(r).toUint8Array()}catch(u){if(u instanceof hN)return No("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new E0(s,i,a)}catch(u){return No(u instanceof Xl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(n,a,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&py(o.target)){const u=new Q(o.target.path);this.It(u).has(s)||this.Et(s,u)||this.et(s,u,jt.newNoDocument(u,e))}a.Be&&(n.set(s,a.ke()),a.qe())}});let r=de();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(a))}),this.je.forEach((a,s)=>s.setReadTime(e));const i=new Fd(e,n,this.Ye,this.je,r);return this.je=Jr(),this.Je=dh(),this.He=dh(),this.Ye=new He(fe),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dw,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new dt(fe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new dt(fe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new He(Q.comparator)}function mw(){return new He(Q.comparator)}const qV={asc:"ASCENDING",desc:"DESCENDING"},HV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GV={and:"AND",or:"OR"};class YV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vy(t,e){return t.useProto3Json||jd(e)?e:{value:e}}function Vf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WV(t,e){return Vf(t,e.toTimestamp())}function fr(t){return be(!!t,49232),ne.fromTimestamp(function(n){const r=ea(n);return new ye(r.seconds,r.nanos)}(t))}function w0(t,e){return _y(t,e).canonicalString()}function _y(t,e){const n=function(i){return new Ce(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $N(t){const e=Ce.fromString(t);return be(YN(e),10190,{key:e.toString()}),e}function by(t,e){return w0(t.databaseId,e.path)}function Ip(t,e){const n=$N(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(qN(n))}function FN(t,e){return w0(t.databaseId,e)}function KV(t){const e=$N(t);return e.length===4?Ce.emptyPath():qN(e)}function Ey(t){return new Ce(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qN(t){return be(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function pw(t,e,n){return{name:by(t,e),fields:n.value.mapValue.fields}}function QV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,f){return c.useProto3Json?(be(f===void 0||typeof f=="string",58123),Ot.fromBase64String(f||"")):(be(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ot.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&function(c){const f=c.code===void 0?V.UNKNOWN:VN(c.code);return new Y(f,c.message||"")}(s);n=new BN(r,i,a,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ip(t,r.document.name),a=fr(r.document.updateTime),s=r.document.createTime?fr(r.document.createTime):ne.min(),o=new Jt({mapValue:{fields:r.document.fields}}),u=jt.newFoundDocument(i,a,s,o),c=r.targetIds||[],f=r.removedTargetIds||[];n=new qh(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ip(t,r.document),a=r.readTime?fr(r.readTime):ne.min(),s=jt.newNoDocument(i,a),o=r.removedTargetIds||[];n=new qh([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ip(t,r.document),a=r.removedTargetIds||[];n=new qh([],a,i,null)}else{if(!("filter"in e))return Z(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new UV(i,a),o=r.targetId;n=new UN(o,s)}}return n}function XV(t,e){let n;if(e instanceof pc)n={update:pw(t,e.key,e.value)};else if(e instanceof _0)n={delete:by(t,e.key)};else if(e instanceof fa)n={update:pw(t,e.key,e.data),updateMask:s6(e.fieldMask)};else{if(!(e instanceof jV))return Z(16599,{Vt:e.type});n={verify:by(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const o=s.transform;if(o instanceof jf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof qu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Lf)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Z(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:WV(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Z(27497)}(t,e.precondition)),n}function JV(t,e){return t&&t.length>0?(be(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?fr(i.updateTime):fr(a);return s.isEqual(ne.min())&&(s=fr(a)),new kV(s,i.transformResults||[])}(n,e))):[]}function ZV(t,e){return{documents:[FN(t,e.path)]}}function e6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=FN(t,i);const a=function(c){if(c.length!==0)return GN(Wn.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(f=>function(p){return{field:Ls(p.field),direction:r6(p.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function t6(t){let e=KV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){be(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(m){const p=HN(m);return p instanceof Wn&&EN(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(p=>function(w){return new $u(Vs(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,jd(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,y=m.values||[];return new Pf(y,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,y=m.values||[];return new Pf(y,p)}(n.endAt)),bV(e,i,s,a,o,"F",u,c)}function n6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vs(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Vs(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Vs(n.unaryFilter.field);return st.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Vs(n.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(t):t.fieldFilter!==void 0?function(n){return st.create(Vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>HN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(t):Z(30097,{filter:t})}function r6(t){return qV[t]}function i6(t){return HV[t]}function a6(t){return GV[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Vs(t){return Rt.fromServerFormat(t.fieldPath)}function GN(t){return t instanceof st?function(n){if(n.op==="=="){if(nw(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(tw(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nw(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(tw(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:i6(n.op),value:n.value}}}(t):t instanceof Wn?function(n){const r=n.getFilters().map(i=>GN(i));return r.length===1?r[0]:{compositeFilter:{op:a6(n.op),filters:r}}}(t):Z(54877,{filter:t})}function s6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n,r,i,a=ne.min(),s=ne.min(),o=Ot.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new Di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e){this.yt=e}}function l6(t){const e=t6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.Cn=new c6}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Zi.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class c6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new dt(Ce.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new dt(Ce.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WN=41943040;class Qt{static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(WN,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="LruGarbageCollector",h6=1048576;function vw([t,e],[n,r]){const i=fe(t,n);return i===0?fe(e,r):i}class f6{constructor(e){this.Ir=e,this.buffer=new dt(vw),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();vw(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class d6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(yw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Xo(n)?W(yw,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.Vr(3e5)})}}class m6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Pd.ce);const r=new f6(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(gw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gw):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,s,o,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(e,r,n))).next(m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),Ps()<=he.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function p6(t,e){return new m6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this.changes=new ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&vu(r.mutation,i,dn.empty(),ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,n,r=de()){const i=Pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=Ql();return a.forEach((o,u)=>{s=s.insert(o,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,de()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,o)=>{n.set(s,o)})})}computeViews(e,n,r,i){let a=Jr();const s=yu(),o=function(){return yu()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof fa)?a=a.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),vu(f.mutation,c,f.mutation.getFieldMask(),ye.now())):s.set(c.key,dn.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>o.set(c,new y6(f,s.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=yu();let i=new He((s,o)=>s-o),a=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const o of s)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||dn.empty();f=o.applyToLocalView(c,f),r.set(u,f);const m=(i.get(o.batchId)||de()).add(u);i=i.insert(o.batchId,m)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,f=u.value,m=IN();f.forEach(p=>{if(!a.has(p)){const y=jN(n.get(p),r.get(p));y!==null&&m.set(p,y),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):B.resolve(Pa());let o=Vu,u=a;return s.next(c=>B.forEach(c,(f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),a.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{u=u.insert(f,p)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,de())).next(f=>({batchId:o,changes:CN(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Ql();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=Ql();return this.indexManager.getCollectionParents(e,a).next(o=>B.forEach(o,u=>{const c=function(m,p){return new Jo(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((m,p)=>{s=s.insert(m,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,jt.newInvalidDocument(f)))});let o=Ql();return s.forEach((u,c)=>{const f=a.get(u);f!==void 0&&vu(f.mutation,c,dn.empty(),ye.now()),Bd(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:l6(i.bundledQuery),readTime:fr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.overlays=new He(Q.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pa();return B.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Pa(),a=n.length+1,s=new Q(n.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new He((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=a.get(c.largestBatchId);f===null&&(f=Pa(),a=a.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const o=Pa(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>o.set(c,f)),!(o.size()>=i)););return B.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new VV(n,r));let a=this.qr.get(n);a===void 0&&(a=de(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.Qr=new dt(yt.$r),this.Ur=new dt(yt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new yt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new yt(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new Ce([])),r=new yt(n,e),i=new yt(n,e+1),a=[];return this.Ur.forEachInRange([r,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new Ce([])),r=new yt(n,e),i=new yt(n,e+1);let a=de();return this.Ur.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new yt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||fe(e.Yr,n.Yr)}static Kr(e,n){return fe(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dt(yt.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new LV(a,n,r,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new yt(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return B.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?d0:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yt(n,0),i=new yt(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),B.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new dt(fe);return n.forEach(i=>{const a=new yt(i,0),s=new yt(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{r=r.add(o.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Q.isDocumentKey(a)||(a=a.child(""));const s=new yt(new Q(a),0);let o=new dt(fe);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(u.Yr)),!0)},s),B.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){be(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const a=new yt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new yt(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.ri=e,this.docs=function(){return new He(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=Jr();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():jt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Jr();const s=n.path,o=new Q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||JL(XL(f),r)<=0||(i.has(f.key)||Bd(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return B.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Z(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new T6(this)}getSize(e){return B.resolve(this.size)}}class T6 extends g6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e){this.persistence=e,this.si=new ds(n=>g0(n),y0),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.oi=0,this._i=new x0,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(a).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e,n){this.ui={},this.overlays={},this.ci=new Pd(0),this.li=!1,this.li=!0,this.hi=new E6,this.referenceDelegate=e(this),this.Pi=new S6(this),this.indexManager=new u6,this.remoteDocumentCache=function(i){return new x6(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new o6(n),this.Ii=new _6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new b6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new w6(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const i=new A6(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class A6 extends eV{constructor(e){super(),this.currentSequenceNumber=e}}class T0{constructor(e){this.persistence=e,this.Ri=new x0,this.Vi=null}static mi(e){return new T0(e)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(a=>{a||n.removeEntry(i,ne.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Uf{constructor(e,n){this.persistence=e,this.pi=new ds(r=>rV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=p6(this,n)}static mi(e,n){return new Uf(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(a=>a?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,s=>this.br(e,s,n).next(o=>{o||(r++,a.removeEntry(s,ne.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=de(),i=de();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new S0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _3()?8:tV(Lt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new N6;return this.Ss(e,n,s).next(o=>{if(a.result=o,this.Vs)return this.bs(e,n,s,o.size)})}).next(()=>a.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ps()<=he.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",js(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Ps()<=he.DEBUG&&W("QueryEngine","Query:",js(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ps()<=he.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",js(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hr(n))):B.resolve())}ys(e,n){if(sw(n))return B.resolve(null);let r=hr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=yy(n,null,"F"),r=hr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=de(...a);return this.ps.getDocuments(e,s).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Ds(n,o);return this.Cs(n,c,s,u.readTime)?this.ys(e,yy(n,null,"F")):this.vs(e,c,n,u)}))})))}ws(e,n,r,i){return sw(n)||i.isEqual(ne.min())?B.resolve(null):this.ps.getDocuments(e,r).next(a=>{const s=this.Ds(n,a);return this.Cs(n,s,r,i)?B.resolve(null):(Ps()<=he.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),js(n)),this.vs(e,s,n,QL(i,Vu)).next(o=>o))})}Ds(e,n){let r=new dt(NN(e));return n.forEach((i,a)=>{Bd(e,a)&&(r=r.add(a))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return Ps()<=he.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",js(n)),this.ps.getDocumentsMatchingQuery(e,n,Zi.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="LocalStore",C6=3e8;class I6{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new He(fe),this.xs=new ds(a=>g0(a),y0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function O6(t,e,n,r){return new I6(t,e,n,r)}async function QN(t,e){const n=re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],o=[];let u=de();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of a){o.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function D6(t,e){const n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,c,f){const m=c.batch,p=m.keys();let y=B.resolve();return p.forEach(w=>{y=y.next(()=>f.getEntry(u,w)).next(I=>{const C=c.docVersions.get(w);be(C!==null,48541),I.version.compareTo(C)<0&&(m.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),f.addEntry(I)))})}),y.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=de();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XN(t){const e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function k6(t,e){const n=re(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((f,m)=>{const p=i.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(a,f.addedDocuments,m)));let y=p.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Ot.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),function(I,C,v){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=C6?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(p,y,f)&&o.push(n.Pi.updateTargetData(a,y))});let u=Jr(),c=de();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),o.push(M6(a,s,e.documentUpdates).next(f=>{u=f.ks,c=f.qs})),!r.isEqual(ne.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next(m=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r));o.push(f)}return B.waitFor(o).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ms=i,a))}function M6(t,e,n){let r=de(),i=de();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Jr();return n.forEach((o,u)=>{const c=a.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(o,u.readTime),s=s.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(o,u)):W(A0,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{ks:s,qs:i}})}function P6(t,e){const n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=d0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j6(t,e){const n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(a=>a?(i=a,B.resolve(i)):n.Pi.allocateTargetId(r).next(s=>(i=new Di(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function wy(t,e,n){const r=re(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Xo(s))throw s;W(A0,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function _w(t,e,n){const r=re(t);let i=ne.min(),a=de();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const m=re(u),p=m.xs.get(f);return p!==void 0?B.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,f)}(r,s,hr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,o.targetId).next(u=>{a=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?a:de())).next(o=>(L6(r,wV(e),o),{documents:o,Qs:a})))}function L6(t,e,n){let r=t.Os.get(e)||ne.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Os.set(e,r)}class bw{constructor(){this.activeTargetIds=RV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class V6{constructor(){this.Mo=new bw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new bw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="ConnectivityMonitor";class ww{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(Ew,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(Ew,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=null;function xy(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="RestConnection",B6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===kf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const s=xy(),o=this.zo(e,n.toUriEncodedString());W(Op,`Sending RPC '${e}' ${s}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,a);const{host:c}=new URL(o),f=cs(c);return this.Jo(e,o,u,r,f).then(m=>(W(Op,`Received RPC '${e}' ${s}: `,m),m),m=>{throw No(Op,`RPC '${e}' ${s} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(e,n,r,i,a,s){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}zo(e,n){const r=B6[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class F6 extends z6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const s=xy();return new Promise((o,u)=>{const c=new eN;c.setWithCredentials(!0),c.listenOnce(tN.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Bh.NO_ERROR:const m=c.getResponseJson();W(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),o(m);break;case Bh.TIMEOUT:W(Mt,`RPC '${e}' ${s} timed out`),u(new Y(V.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:const p=c.getStatus();if(W(Mt,`RPC '${e}' ${s} failed with status:`,p,"response text:",c.getResponseText()),p>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y==null?void 0:y.error;if(w&&w.status&&w.message){const I=function(v){const _=v.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(_)>=0?_:V.UNKNOWN}(w.status);u(new Y(I,w.message))}else u(new Y(V.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y(V.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:e,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{W(Mt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);W(Mt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",f,r,15)})}T_(e,n,r){const i=xy(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=iN(),o=rN(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");W(Mt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=s.createWebChannel(f,u);this.I_(m);let p=!1,y=!1;const w=new $6({Yo:C=>{y?W(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(W(Mt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),W(Mt,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),I=(C,v,_)=>{C.listen(v,S=>{try{_(S)}catch(N){setTimeout(()=>{throw N},0)}})};return I(m,Kl.EventType.OPEN,()=>{y||(W(Mt,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),I(m,Kl.EventType.CLOSE,()=>{y||(y=!0,W(Mt,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))}),I(m,Kl.EventType.ERROR,C=>{y||(y=!0,No(Mt,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new Y(V.UNAVAILABLE,"The operation could not be completed")))}),I(m,Kl.EventType.MESSAGE,C=>{var v;if(!y){const _=C.data[0];be(!!_,16349);const S=_,N=(S==null?void 0:S.error)||((v=S[0])==null?void 0:v.error);if(N){W(Mt,`RPC '${e}' stream ${i} received error:`,N);const L=N.status;let F=function(x){const R=nt[x];if(R!==void 0)return VN(R)}(L),A=N.message;F===void 0&&(F=V.INTERNAL,A="Unknown error status: "+L+" with message "+N.message),y=!0,w.a_(new Y(F,A)),m.close()}else W(Mt,`RPC '${e}' stream ${i} received:`,_),w.u_(_)}}),I(o,nN.STAT_EVENT,C=>{C.stat===cy.PROXY?W(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===cy.NOPROXY&&W(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){return new YV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&W("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="PersistentStream";class ZN{constructor(e,n,r,i,a,s,o,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Xr(n.toString()),Xr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Y(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class q6 extends ZN{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QV(this.serializer,e),r=function(a){if(!("targetChange"in a))return ne.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?fr(s.readTime):ne.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ey(this.serializer),n.addTarget=function(a,s){let o;const u=s.target;if(o=py(u)?{documents:ZV(a,u)}:{query:e6(a,u).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=zN(a,s.resumeToken);const c=vy(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(ne.min())>0){o.readTime=Vf(a,s.snapshotVersion.toTimestamp());const c=vy(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=n6(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ey(this.serializer),n.removeTarget=e,this.q_(n)}}class H6 extends ZN{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JV(e.writeResults,e.commitTime),r=fr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ey(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>XV(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{}class Y6 extends G6{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(e,_y(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(V.UNKNOWN,a.toString())})}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(e,_y(n,r),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(V.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class W6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Xr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="RemoteStore";class K6{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{r.enqueueAndForget(async()=>{ms(this)&&(W(Ja,"Restarting streams for network reachability change."),await async function(u){const c=re(u);c.Ea.add(4),await yc(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Hd(c)}(this))})}),this.Ra=new W6(r,i)}}async function Hd(t){if(ms(t))for(const e of t.da)await e(!0)}async function yc(t){for(const e of t.da)await e(!1)}function eR(t,e){const n=re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),I0(n)?C0(n):Zo(n).O_()&&R0(n,e))}function N0(t,e){const n=re(t),r=Zo(n);n.Ia.delete(e),r.O_()&&tR(n,e),n.Ia.size===0&&(r.O_()?r.L_():ms(n)&&n.Ra.set("Unknown"))}function R0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Zo(t).Y_(e)}function tR(t,e){t.Va.Ue(e),Zo(t).Z_(e)}function C0(t){t.Va=new FV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Zo(t).start(),t.Ra.ua()}function I0(t){return ms(t)&&!Zo(t).x_()&&t.Ia.size>0}function ms(t){return re(t).Ea.size===0}function nR(t){t.Va=void 0}async function Q6(t){t.Ra.set("Online")}async function X6(t){t.Ia.forEach((e,n)=>{R0(t,e)})}async function J6(t,e){nR(t),I0(t)?(t.Ra.ha(e),C0(t)):t.Ra.set("Unknown")}async function Z6(t,e,n){if(t.Ra.set("Online"),e instanceof BN&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){W(Ja,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bf(t,r)}else if(e instanceof qh?t.Va.Ze(e):e instanceof UN?t.Va.st(e):t.Va.tt(e),!n.isEqual(ne.min()))try{const r=await XN(t.localStore);n.compareTo(r)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=a.Ia.get(c);f&&a.Ia.set(c,f.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach((u,c)=>{const f=a.Ia.get(u);if(!f)return;a.Ia.set(u,f.withResumeToken(Ot.EMPTY_BYTE_STRING,f.snapshotVersion)),tR(a,u);const m=new Di(f.target,u,c,f.sequenceNumber);R0(a,m)}),a.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){W(Ja,"Failed to raise snapshot:",r),await Bf(t,r)}}async function Bf(t,e,n){if(!Xo(e))throw e;t.Ea.add(1),await yc(t),t.Ra.set("Offline"),n||(n=()=>XN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Ja,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Hd(t)})}function rR(t,e){return e().catch(n=>Bf(t,n,e))}async function Gd(t){const e=re(t),n=ra(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:d0;for(;e5(e);)try{const i=await P6(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,t5(e,i)}catch(i){await Bf(e,i)}iR(e)&&aR(e)}function e5(t){return ms(t)&&t.Ta.length<10}function t5(t,e){t.Ta.push(e);const n=ra(t);n.O_()&&n.X_&&n.ea(e.mutations)}function iR(t){return ms(t)&&!ra(t).x_()&&t.Ta.length>0}function aR(t){ra(t).start()}async function n5(t){ra(t).ra()}async function r5(t){const e=ra(t);for(const n of t.Ta)e.ea(n.mutations)}async function i5(t,e,n){const r=t.Ta.shift(),i=b0.from(r,e,n);await rR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gd(t)}async function a5(t,e){e&&ra(t).X_&&await async function(r,i){if(function(s){return BV(s)&&s!==V.ABORTED}(i.code)){const a=r.Ta.shift();ra(r).B_(),await rR(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Gd(r)}}(t,e),iR(t)&&aR(t)}async function Tw(t,e){const n=re(t);n.asyncQueue.verifyOperationInProgress(),W(Ja,"RemoteStore received new credentials");const r=ms(n);n.Ea.add(3),await yc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Hd(n)}async function s5(t,e){const n=re(t);e?(n.Ea.delete(2),await Hd(n)):e||(n.Ea.add(2),await yc(n),n.Ra.set("Unknown"))}function Zo(t){return t.ma||(t.ma=function(n,r,i){const a=re(n);return a.sa(),new q6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Q6.bind(null,t),t_:X6.bind(null,t),r_:J6.bind(null,t),H_:Z6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),I0(t)?C0(t):t.Ra.set("Unknown")):(await t.ma.stop(),nR(t))})),t.ma}function ra(t){return t.fa||(t.fa=function(n,r,i){const a=re(n);return a.sa(),new H6(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:n5.bind(null,t),r_:a5.bind(null,t),ta:r5.bind(null,t),na:i5.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Gd(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Ja,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new $r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,o=new O0(e,n,s,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D0(t,e){if(Xr("AsyncQueue",`${e}: ${t}`),Xo(t))return new Y(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Ql(),this.sortedSet=new He(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.ga=new He(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Z(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Do{constructor(e,n,r,i,a,s,o,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new Do(e,n,co.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class l5{constructor(){this.queries=Aw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=re(n),a=i.queries;i.queries=Aw(),a.forEach((s,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new Y(V.ABORTED,"Firestore shutting down"))}}function Aw(){return new ds(t=>AN(t),Ud)}async function k0(t,e){const n=re(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new o5,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const o=D0(s,`Initialization of query '${js(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&P0(n)}async function M0(t,e){const n=re(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Sa.indexOf(e);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u5(t,e){const n=re(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(r=!0);s.wa=i}}r&&P0(n)}function c5(t,e,n){const r=re(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function P0(t){t.Ca.forEach(e=>{e.next()})}var Ty,Nw;(Nw=Ty||(Ty={})).Ma="default",Nw.Cache="cache";class j0{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Do(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Do.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ty.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.key=e}}class oR{constructor(e){this.key=e}}class h5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=de(),this.mutatedKeys=de(),this.eu=NN(e),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Sw,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const p=i.get(f),y=Bd(this.query,m)?m:null,w=!!p&&this.mutatedKeys.has(p.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;p&&y?p.data.isEqual(y.data)?w!==I&&(r.track({type:3,doc:y}),C=!0):this.su(p,y)||(r.track({type:2,doc:y}),C=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(o=!0)):!p&&y?(r.track({type:0,doc:y}),C=!0):p&&!y&&(r.track({type:1,doc:p}),C=!0,(u||c)&&(o=!0)),C&&(y?(s=s.add(y),a=I?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:s,iu:r,Cs:o,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((f,m)=>function(y,w){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:C})}};return I(y)-I(w)}(f.type,m.type)||this.eu(f.doc,m.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,s.length!==0||c?{snapshot:new Do(this.query,e.tu,a,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Sw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=de(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new oR(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new sR(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=de();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const L0="SyncEngine";class f5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class d5{constructor(e){this.key=e,this.hu=!1}}class m5{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new ds(o=>AN(o),Ud),this.Iu=new Map,this.Eu=new Set,this.du=new He(Q.comparator),this.Au=new Map,this.Ru=new x0,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p5(t,e,n=!0){const r=dR(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await lR(r,e,n,!0),i}async function g5(t,e){const n=dR(t);await lR(n,e,!0,!1)}async function lR(t,e,n,r){const i=await j6(t.localStore,hr(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await y5(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&eR(t.remoteStore,i),o}async function y5(t,e,n,r,i){t.pu=(m,p,y)=>async function(I,C,v,_){let S=C.view.ru(v);S.Cs&&(S=await _w(I.localStore,C.query,!1).then(({documents:A})=>C.view.ru(A,S)));const N=_&&_.targetChanges.get(C.targetId),L=_&&_.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges(S,I.isPrimaryClient,N,L);return Cw(I,C.targetId,F.au),F.snapshot}(t,m,p,y);const a=await _w(t.localStore,e,!0),s=new h5(e,a.Qs),o=s.ru(a.documents),u=gc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(o,t.isPrimaryClient,u);Cw(t,n,c.au);const f=new f5(e,n,s);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function v5(t,e,n){const r=re(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(s=>!Ud(s,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&N0(r.remoteStore,i.targetId),Sy(r,i.targetId)}).catch(Qo)):(Sy(r,i.targetId),await wy(r.localStore,i.targetId,!0))}async function _5(t,e){const n=re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),N0(n.remoteStore,r.targetId))}async function b5(t,e,n){const r=N5(t);try{const i=await function(s,o){const u=re(s),c=ye.now(),f=o.reduce((y,w)=>y.add(w.key),de());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=Jr(),I=de();return u.Ns.getEntries(y,f).next(C=>{w=C,w.forEach((v,_)=>{_.isValidDocument()||(I=I.add(v))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(C=>{m=C;const v=[];for(const _ of o){const S=PV(_,m.get(_.key).overlayedDocument);S!=null&&v.push(new fa(_.key,S,vN(S.value.mapValue),Gn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,v,o)}).next(C=>{p=C;const v=C.applyToLocalDocumentSet(m,I);return u.documentOverlayCache.saveOverlays(y,C.batchId,v)})}).then(()=>({batchId:p.batchId,changes:CN(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let c=s.Vu[s.currentUser.toKey()];c||(c=new He(fe)),c=c.insert(o,u),s.Vu[s.currentUser.toKey()]=c}(r,i.batchId,n),await vc(r,i.changes),await Gd(r.remoteStore)}catch(i){const a=D0(i,"Failed to persist write");n.reject(a)}}async function uR(t,e){const n=re(t);try{const r=await k6(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n.Au.get(a);s&&(be(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?be(s.hu,14607):i.removedDocuments.size>0&&(be(s.hu,42227),s.hu=!1))}),await vc(n,r,e)}catch(r){await Qo(r)}}function Rw(t,e,n){const r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(s,o){const u=re(s);u.onlineState=o;let c=!1;u.queries.forEach((f,m)=>{for(const p of m.Sa)p.va(o)&&(c=!0)}),c&&P0(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E5(t,e,n){const r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let s=new He(Q.comparator);s=s.insert(a,jt.newNoDocument(a,ne.min()));const o=de().add(a),u=new Fd(ne.min(),new Map,new He(fe),s,o);await uR(r,u),r.du=r.du.remove(a),r.Au.delete(e),V0(r)}else await wy(r.localStore,e,!1).then(()=>Sy(r,e,n)).catch(Qo)}async function w5(t,e){const n=re(t),r=e.batch.batchId;try{const i=await D6(n.localStore,e);hR(n,r,null),cR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vc(n,i)}catch(i){await Qo(i)}}async function x5(t,e,n){const r=re(t);try{const i=await function(s,o){const u=re(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,o).next(m=>(be(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);hR(r,e,n),cR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vc(r,i)}catch(i){await Qo(i)}}function cR(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function hR(t,e,n){const r=re(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Sy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||fR(t,r)})}function fR(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(N0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),V0(t))}function Cw(t,e,n){for(const r of n)r instanceof sR?(t.Ru.addReference(r.key,e),T5(t,r)):r instanceof oR?(W(L0,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||fR(t,r.key)):Z(19791,{wu:r})}function T5(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(W(L0,"New document in limbo: "+n),t.Eu.add(r),V0(t))}function V0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Ce.fromString(e)),r=t.fu.next();t.Au.set(r,new d5(n)),t.du=t.du.insert(n,r),eR(t.remoteStore,new Di(hr(Vd(n.path)),r,"TargetPurposeLimboResolution",Pd.ce))}}async function vc(t,e,n){const r=re(t),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{s.push(r.pu(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=S0.As(u.targetId,c);a.push(m)}}))}),await Promise.all(s),r.Pu.H_(i),await async function(u,c){const f=re(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>B.forEach(c,p=>B.forEach(p.Es,y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>B.forEach(p.ds,y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!Xo(m))throw m;W(A0,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const y=f.Ms.get(p),w=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(p,I)}}}(r.localStore,a))}async function S5(t,e){const n=re(t);if(!n.currentUser.isEqual(e)){W(L0,"User change. New user:",e.toKey());const r=await QN(n.localStore,e);n.currentUser=e,function(a,s){a.mu.forEach(o=>{o.forEach(u=>{u.reject(new Y(V.CANCELLED,s))})}),a.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vc(n,r.Ls)}}function A5(t,e){const n=re(t),r=n.Au.get(e);if(r&&r.hu)return de().add(r.key);{let i=de();const a=n.Iu.get(e);if(!a)return i;for(const s of a){const o=n.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function dR(t){const e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E5.bind(null,e),e.Pu.H_=u5.bind(null,e.eventManager),e.Pu.yu=c5.bind(null,e.eventManager),e}function N5(t){const e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x5.bind(null,e),e}class zf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return O6(this.persistence,new R6,e.initialUser,this.serializer)}Cu(e){return new KN(T0.mi,this.serializer)}Du(e){return new V6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zf.provider={build:()=>new zf};class R5 extends zf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){be(this.persistence.referenceDelegate instanceof Uf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new d6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Qt.withCacheSize(this.cacheSizeBytes):Qt.DEFAULT;return new KN(r=>Uf.mi(r,n),this.serializer)}}class Ay{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=S5.bind(null,this.syncEngine),await s5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l5}()}createDatastore(e){const n=qd(e.databaseInfo.databaseId),r=function(a){return new F6(a)}(e.databaseInfo);return function(a,s,o,u){return new Y6(a,s,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,o){return new K6(r,i,a,s,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Rw(this.syncEngine,n,0),function(){return ww.v()?new ww:new U6}())}createSyncEngine(e,n){return function(i,a,s,o,u,c,f){const m=new m5(i,a,s,o,u,c);return f&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=re(i);W(Ja,"RemoteStore shutting down."),a.Ea.add(5),await yc(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ay.provider={build:()=>new Ay};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Xr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="FirestoreClient";class C5{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Pt.UNAUTHENTICATED,this.clientId=f0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{W(ia,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(W(ia,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=D0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function kp(t,e){t.asyncQueue.verifyOperationInProgress(),W(ia,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Iw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await I5(t);W(ia,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Tw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Tw(e.remoteStore,i)),t._onlineComponents=e}async function I5(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(ia,"Using user provided OfflineComponentProvider");try{await kp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await kp(t,new zf)}}else W(ia,"Using default OfflineComponentProvider"),await kp(t,new R5(void 0));return t._offlineComponents}async function mR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(ia,"Using user provided OnlineComponentProvider"),await Iw(t,t._uninitializedComponentsProvider._online)):(W(ia,"Using default OnlineComponentProvider"),await Iw(t,new Ay))),t._onlineComponents}function O5(t){return mR(t).then(e=>e.syncEngine)}async function $f(t){const e=await mR(t),n=e.eventManager;return n.onListen=p5.bind(null,e.syncEngine),n.onUnlisten=v5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_5.bind(null,e.syncEngine),n}function D5(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const f=new U0({next:p=>{f.Nu(),s.enqueueAndForget(()=>M0(a,m));const y=p.docs.has(o);!y&&p.fromCache?c.reject(new Y(V.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&u&&u.source==="server"?c.reject(new Y(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new j0(Vd(o.path),f,{includeMetadataChanges:!0,qa:!0});return k0(a,m)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}function k5(t,e,n={}){const r=new $r;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,o,u,c){const f=new U0({next:p=>{f.Nu(),s.enqueueAndForget(()=>M0(a,m)),p.fromCache&&u.source==="server"?c.reject(new Y(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),m=new j0(o,f,{includeMetadataChanges:!0,qa:!0});return k0(a,m)}(await $f(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="firestore.googleapis.com",Dw=!0;class kw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=gR,this.ssl=Dw}else this.host=e.host,this.ssl=e.ssl??Dw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<h6)throw new Y(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pR(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(V.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UL;switch(r.type){case"firstParty":return new FL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ow.get(n);r&&(W("ComponentProvider","Removing Datastore"),Ow.delete(n),r.terminate())}(this),Promise.resolve()}}function M5(t,e,n,r={}){var c;t=Pn(t,Yd);const i=cs(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(l0(`https://${o}`),u0("Firestore",!0)),a.host!==gR&&a.host!==o&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...a,host:o,ssl:i,emulatorOptions:r};if(!Ji(u,s)&&(t._setSettings(u),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=Pt.MOCK_USER;else{f=F2(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Pt(p)}t._authCredentials=new BL(new sN(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(mc(n,Ze._jsonSchema))return new Ze(e,r||null,new Q(Ce.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:lt("string",Ze._jsonSchemaVersion),referencePath:lt("string")};class Hi extends da{constructor(e,n,r){super(e,n,Vd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new Q(e))}withConverter(e){return new Hi(this.firestore,e,this._path)}}function ma(t,e,...n){if(t=qe(t),oN("collection","path",e),t instanceof Yd){const r=Ce.fromString(e,...n);return GE(r),new Hi(t,null,r)}{if(!(t instanceof Ze||t instanceof Hi))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return GE(r),new Hi(t.firestore,null,r)}}function Zr(t,e,...n){if(t=qe(t),arguments.length===1&&(e=f0.newId()),oN("doc","path",e),t instanceof Yd){const r=Ce.fromString(e,...n);return HE(r),new Ze(t,null,new Q(r))}{if(!(t instanceof Ze||t instanceof Hi))throw new Y(V.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ce.fromString(e,...n));return HE(r),new Ze(t.firestore,t instanceof Hi?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="AsyncQueue";class Pw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JN(this,"async_queue_retry"),this._c=()=>{const r=Dp();r&&W(Mw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $r;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Xo(e))throw e;W(Mw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Xr("INTERNAL UNHANDLED ERROR: ",jw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=O0.createAndSchedule(this,e,n,r,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:jw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1}(t,["next","error","complete"])}class aa extends Yd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Pw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pw(e),this._firestoreClient=void 0,await e}}}function P5(t,e){const n=typeof t=="object"?t:kd(),r=typeof t=="string"?t:kf,i=ca(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=B2("firestore");a&&M5(i,...a)}return i}function Wd(t){if(t._terminated)throw new Y(V.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j5(t),t._firestoreClient}function j5(t){var r,i,a;const e=t._freezeSettings(),n=function(o,u,c,f){return new sV(o,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,pR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new C5(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Ot.fromBase64String(e))}catch(n){throw new Y(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mc(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:lt("string",On._jsonSchemaVersion),bytes:lt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(mc(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:lt("string",dr._jsonSchemaVersion),latitude:lt("number"),longitude:lt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mc(e,mr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mr(e.vectorValues);throw new Y(V.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:lt("string",mr._jsonSchemaVersion),vectorValues:lt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=/^__.*__$/;class V5{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new pc(e,this.data,n,this.fieldTransforms)}}class yR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:t})}}class z0{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new z0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ff(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vR(this.Ac)&&L5.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class U5{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qd(e)}Cc(e,n,r,i=!1){return new z0({Ac:e,methodName:n,Dc:r,path:Rt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $0(t){const e=t._freezeSettings(),n=qd(t._databaseId);return new U5(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B5(t,e,n,r,i,a={}){const s=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);F0("Data must be an object, but it was:",s,r);const o=_R(r,s);let u,c;if(a.merge)u=new dn(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const m of a.mergeFields){const p=Ny(e,m,n);if(!s.contains(p))throw new Y(V.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ER(f,p)||f.push(p)}u=new dn(f),c=s.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=s.fieldTransforms;return new V5(new Jt(o),u,c)}class Qd extends B0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}function z5(t,e,n,r){const i=t.Cc(1,e,n);F0("Data must be an object, but it was:",i,r);const a=[],s=Jt.empty();ha(r,(u,c)=>{const f=q0(e,u,n);c=qe(c);const m=i.yc(f);if(c instanceof Qd)a.push(f);else{const p=_c(c,m);p!=null&&(a.push(f),s.set(f,p))}});const o=new dn(a);return new yR(s,o,i.fieldTransforms)}function $5(t,e,n,r,i,a){const s=t.Cc(1,e,n),o=[Ny(e,r,n)],u=[i];if(a.length%2!=0)throw new Y(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(Ny(e,a[p])),u.push(a[p+1]);const c=[],f=Jt.empty();for(let p=o.length-1;p>=0;--p)if(!ER(c,o[p])){const y=o[p];let w=u[p];w=qe(w);const I=s.yc(y);if(w instanceof Qd)c.push(y);else{const C=_c(w,I);C!=null&&(c.push(y),f.set(y,C))}}const m=new dn(c);return new yR(f,m,s.fieldTransforms)}function F5(t,e,n,r=!1){return _c(n,t.Cc(r?4:3,e))}function _c(t,e){if(bR(t=qe(t)))return F0("Unsupported field value:",e,t),_R(t,e);if(t instanceof B0)return function(r,i){if(!vR(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const o of r){let u=_c(o,i.wc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=qe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ye.fromDate(r);return{timestampValue:Vf(i.serializer,a)}}if(r instanceof ye){const a=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Vf(i.serializer,a)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:zN(i.serializer,r._byteString)};if(r instanceof Ze){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:w0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mr)return function(s,o){return{mapValue:{fields:{[gN]:{stringValue:yN},[Mf]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return v0(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Md(r)}`)}(t,e)}function _R(t,e){const n={};return cN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ha(t,(r,i)=>{const a=_c(i,e.mc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function bR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof dr||t instanceof On||t instanceof Ze||t instanceof B0||t instanceof mr)}function F0(t,e,n){if(!bR(n)||!lN(n)){const r=Md(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Ny(t,e,n){if((e=qe(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return q0(t,e);throw Ff("Field path arguments must be of type string or ",t,!1,void 0,n)}const q5=new RegExp("[~\\*/\\[\\]]");function q0(t,e,n){if(e.search(q5)>=0)throw Ff(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Kd(...e.split("."))._internalPath}catch{throw Ff(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ff(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new Y(V.INVALID_ARGUMENT,o+t+u)}function ER(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H5 extends wR{data(){return super.data()}}function Xd(t,e){return typeof e=="string"?q0(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class H0{}class TR extends H0{}function Jd(t,e,...n){let r=[];e instanceof H0&&r.push(e),r=r.concat(n),function(a){const s=a.filter(u=>u instanceof G0).length,o=a.filter(u=>u instanceof Zd).length;if(s>1||s>0&&o>0)throw new Y(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Zd extends TR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Zd(e,n,r)}_apply(e){const n=this._parse(e);return SR(e._query,n),new da(e.firestore,e.converter,gy(e._query,n))}_parse(e){const n=$0(e.firestore);return function(a,s,o,u,c,f,m){let p;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Y(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Uw(m,f);const w=[];for(const I of m)w.push(Vw(u,a,I));p={arrayValue:{values:w}}}else p=Vw(u,a,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Uw(m,f),p=F5(o,s,m,f==="in"||f==="not-in");return st.create(c,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qf(t,e,n){const r=e,i=Xd("where",t);return Zd._create(i,r,n)}class G0 extends H0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new G0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Wn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const u of o)SR(s,u),s=gy(s,u)}(e._query,n),new da(e.firestore,e.converter,gy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Y0 extends TR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Y0(e,n)}_apply(e){const n=function(i,a,s){if(i.startAt!==null)throw new Y(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $u(a,s)}(e._query,this._field,this._direction);return new da(e.firestore,e.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Jo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function G5(t,e="asc"){const n=e,r=Xd("orderBy",t);return Y0._create(r,n)}function Vw(t,e,n){if(typeof(n=qe(n))=="string"){if(n==="")throw new Y(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SN(e)&&n.indexOf("/")!==-1)throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ce.fromString(n));if(!Q.isDocumentKey(r))throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ew(t,new Q(r))}if(n instanceof Ze)return ew(t,n._key);throw new Y(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(n)}.`)}function Uw(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SR(t,e){const n=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y5{convertValue(e,n="none"){switch(na(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ha(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var r,i,a;const n=(a=(i=(r=e.fields)==null?void 0:r[Mf].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>Xe(s.doubleValue));return new mr(n)}convertGeoPoint(e){return new dr(Xe(e.latitude),Xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uu(e));default:return null}}convertTimestamp(e){const n=ea(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ce.fromString(e);be(YN(r),9688,{name:e});const i=new Bu(r.get(1),r.get(3)),a=new Q(r.popFirst(5));return i.isEqual(n)||Xr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fa extends wR{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Xd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(V.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fa._jsonSchema={type:lt("string",Fa._jsonSchemaVersion),bundleSource:lt("string","DocumentSnapshot"),bundleName:lt("string"),bundle:lt("string")};class Hh extends Fa{data(e={}){return super.data(e)}}class qa{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Jl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Hh(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const u=new Hh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const u=new Hh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Jl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),f=s.indexOf(o.doc.key)),{type:K5(o.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(V.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=f0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t){t=Pn(t,Ze);const e=Pn(t.firestore,aa);return D5(Wd(e),t._key).then(n=>RR(e,t,n))}qa._jsonSchemaVersion="firestore/querySnapshot/1.0",qa._jsonSchema={type:lt("string",qa._jsonSchemaVersion),bundleSource:lt("string","QuerySnapshot"),bundleName:lt("string"),bundle:lt("string")};class W0 extends Y5{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function K0(t){t=Pn(t,da);const e=Pn(t.firestore,aa),n=Wd(e),r=new W0(e);return xR(t._query),k5(n,t._query).then(i=>new qa(e,r,t,i))}function Q0(t,e,n,...r){t=Pn(t,Ze);const i=Pn(t.firestore,aa),a=$0(i);let s;return s=typeof(e=qe(e))=="string"||e instanceof Kd?$5(a,"updateDoc",t._key,e,n,r):z5(a,"updateDoc",t._key,e),Z0(i,[s.toMutation(t._key,Gn.exists(!0))])}function X0(t){return Z0(Pn(t.firestore,aa),[new _0(t._key,Gn.none())])}function J0(t,e){const n=Pn(t.firestore,aa),r=Zr(t),i=W5(t.converter,e);return Z0(n,[B5($0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Gn.exists(!1))]).then(()=>r)}function NR(t,...e){var u,c,f;t=qe(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Lw(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Lw(e[r])){const m=e[r];e[r]=(u=m.next)==null?void 0:u.bind(m),e[r+1]=(c=m.error)==null?void 0:c.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let a,s,o;if(t instanceof Ze)s=Pn(t.firestore,aa),o=Vd(t._key.path),a={next:m=>{e[r]&&e[r](RR(s,t,m))},error:e[r+1],complete:e[r+2]};else{const m=Pn(t,da);s=Pn(m.firestore,aa),o=m._query;const p=new W0(s);a={next:y=>{e[r]&&e[r](new qa(s,p,m,y))},error:e[r+1],complete:e[r+2]},xR(t._query)}return function(p,y,w,I){const C=new U0(I),v=new j0(y,C,w);return p.asyncQueue.enqueueAndForget(async()=>k0(await $f(p),v)),()=>{C.Nu(),p.asyncQueue.enqueueAndForget(async()=>M0(await $f(p),v))}}(Wd(s),o,i,a)}function Z0(t,e){return function(r,i){const a=new $r;return r.asyncQueue.enqueueAndForget(async()=>b5(await O5(r),i,a)),a.promise}(Wd(t),e)}function RR(t,e,n){const r=n.docs.get(e._key),i=new W0(t);return new Fa(t,i,e._key,r,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ko=i})(fs),Yn(new Vn("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),o=new aa(new zL(r.getProvider("auth-internal")),new qL(s,r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(c.options.projectId,f)}(s,i),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),en(zE,$E,e),en(zE,$E,"esm2020")})();var Q5="firebase",X5="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en(Q5,X5,"app");function CR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J5=CR,IR=new hs("auth","Firebase",CR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Dd("@firebase/auth");function Z5(t,...e){Hf.logLevel<=he.WARN&&Hf.warn(`Auth (${fs}): ${t}`,...e)}function Gh(t,...e){Hf.logLevel<=he.ERROR&&Hf.error(`Auth (${fs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(t,...e){throw e_(t,...e)}function pr(t,...e){return e_(t,...e)}function OR(t,e,n){const r={...J5(),[e]:n};return new hs("auth","Firebase",r).create(e,{appName:t.name})}function Gi(t){return OR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IR.create(t,...e)}function J(t,e,...n){if(!t)throw e_(e,...n)}function Pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function ei(t,e){t||Pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function e9(){return Bw()==="http:"||Bw()==="https:"}function Bw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e9()||q2()||"connection"in navigator)?navigator.onLine:!0}function n9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=m3()||y3()}get(){return t9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(t,e){ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i9=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],a9=new bc(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function pa(t,e,n,r,i={}){return kR(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const o=dc({key:t.config.apiKey,...s}).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:u,...a};return g3()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&cs(t.emulatorConfig.host)&&(c.credentials="include"),DR.fetch()(await MR(t,t.config.apiHost,n,o),c)})}async function kR(t,e,n){t._canInitEmulator=!1;const r={...r9,...e};try{const i=new o9(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw ph(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ph(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ph(t,"user-disabled",s);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw OR(t,f,c);Kn(t,f)}}catch(i){if(i instanceof Un)throw i;Kn(t,"network-request-failed",{message:String(i)})}}async function em(t,e,n,r,i={}){const a=await pa(t,e,n,r,i);return"mfaPendingCredential"in a&&Kn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function MR(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?t_(t.config,i):`${t.config.apiScheme}://${i}`;return i9.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function s9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o9{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(pr(this.auth,"network-request-failed")),a9.get())})}}function ph(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pr(t,e,r);return i.customData._tokenResponse=n,i}function zw(t){return t!==void 0&&t.enterprise!==void 0}class l9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return s9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function u9(t,e){return pa(t,"GET","/v2/recaptchaConfig",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e){return pa(t,"POST","/v1/accounts:delete",e)}async function Gf(t,e){return pa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h9(t,e=!1){const n=qe(t),r=await n.getIdToken(e),i=n_(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:_u(Mp(i.auth_time)),issuedAtTime:_u(Mp(i.iat)),expirationTime:_u(Mp(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Mp(t){return Number(t)*1e3}function n_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=V2(n);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $w(t){const e=n_(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Un&&f9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function f9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var m;const e=t.auth,n=await t.getIdToken(),r=await Hu(t,Gf(e,{idToken:n}));J(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=(m=i.providerUserInfo)!=null&&m.length?PR(i.providerUserInfo):[],s=p9(t.providerData,a),o=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cy(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function m9(t){const e=qe(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g9(t,e){const n=await kR(t,{},async()=>{const r=dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await MR(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return t.emulatorConfig&&cs(t.emulatorConfig.host)&&(u.credentials="include"),DR.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function y9(t,e){return pa(t,"POST","/v2/accounts:revokeToken",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");const n=$w(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await g9(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new ho;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(J(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class qn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new d9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Cy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Hu(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return h9(this,e)}reload(){return m9(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await Hu(this,c9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:w,stsTokenManager:I}=n;J(m&&I,e,"internal-error");const C=ho.fromJSON(this.name,I);J(typeof m=="string",e,"internal-error"),pi(r,e.name),pi(i,e.name),J(typeof p=="boolean",e,"internal-error"),J(typeof y=="boolean",e,"internal-error"),pi(a,e.name),pi(s,e.name),pi(o,e.name),pi(u,e.name),pi(c,e.name),pi(f,e.name);const v=new qn({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:C,createdAt:c,lastLoginAt:f});return w&&Array.isArray(w)&&(v.providerData=w.map(_=>({..._}))),u&&(v._redirectEventId=u),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new ho;i.updateFromServerResponse(n);const a=new qn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];J(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new ho;o.updateFromIdToken(r);const u=new qn({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw=new Map;function jr(t){ei(t instanceof Function,"Expected a class definition");let e=Fw.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Fw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jR.type="NONE";const qw=jR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e,n){return`firebase:${t}:${e}:${n}`}class fo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Yh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Yh("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Gf(this.auth,{idToken:e}).catch(()=>{});return n?qn._fromGetAccountInfoResponse(this.auth,n,e):null}return qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new fo(jr(qw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||jr(qw);const s=Yh(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const f=await c._get(s);if(f){let m;if(typeof f=="string"){const p=await Gf(e,{idToken:f}).catch(()=>{});if(!p)break;m=await qn._fromGetAccountInfoResponse(e,p,f)}else m=qn._fromJSON(e,f);c!==a&&(o=m),a=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new fo(a,e,r):(a=u[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new fo(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($R(e))return"Blackberry";if(FR(e))return"Webos";if(VR(e))return"Safari";if((e.includes("chrome/")||UR(e))&&!e.includes("edge/"))return"Chrome";if(zR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LR(t=Lt()){return/firefox\//i.test(t)}function VR(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UR(t=Lt()){return/crios\//i.test(t)}function BR(t=Lt()){return/iemobile/i.test(t)}function zR(t=Lt()){return/android/i.test(t)}function $R(t=Lt()){return/blackberry/i.test(t)}function FR(t=Lt()){return/webos/i.test(t)}function r_(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v9(t=Lt()){var e;return r_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function _9(){return v3()&&document.documentMode===10}function qR(t=Lt()){return r_(t)||zR(t)||FR(t)||$R(t)||/windows phone/i.test(t)||BR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e=[]){let n;switch(t){case"Browser":n=Hw(Lt());break;case"Worker":n=`${Hw(Lt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,o)=>{try{const u=e(a);s(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e={}){return pa(t,"GET","/v2/passwordPolicy",ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=6;class x9{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??w9,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gw(this),this.idTokenSubscription=new Gw(this),this.beforeStateQueue=new b9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Gf(this,{idToken:e}),r=await qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(In(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===o)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(In(this.app))return Promise.reject(Gi(this));const n=e?qe(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return In(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(jr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await E9(this),n=new x9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await y9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&jr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[jr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Z5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function el(t){return qe(t)}class Gw{constructor(e){this.auth=e,this.observer=null,this.addObserver=S3(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S9(t){tm=t}function GR(t){return tm.loadJS(t)}function A9(){return tm.recaptchaEnterpriseScript}function N9(){return tm.gapiScript}function R9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class C9{constructor(){this.enterprise=new I9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const O9="recaptcha-enterprise",YR="NO_RECAPTCHA";class D9{constructor(e){this.type=O9,this.auth=el(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{u9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new l9(u);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(u=>{o(u)})})}function i(a,s,o){const u=window.grecaptcha;zw(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(c=>{s(c)}).catch(()=>{s(YR)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new C9().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{r(this.auth).then(o=>{if(!n&&zw(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=A9();u.length!==0&&(u+=o),GR(u).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function Yw(t,e,n,r=!1,i=!1){const a=new D9(t);let s;if(i)s=YR;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const u=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const u=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ww(t,e,n,r,i){var a;if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Yw(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Yw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k9(t,e){const n=ca(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Ji(a,e??{}))return i;Kn(i,"already-initialized")}return n.initialize({options:e})}function M9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(jr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function P9(t,e,n){const r=el(t);J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=WR(e),{host:s,port:o}=j9(e),u=o===null?"":`:${o}`,c={url:`${a}//${s}${u}/`},f=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){J(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),J(Ji(c,r.config.emulator)&&Ji(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,cs(s)?(l0(`${a}//${s}${u}`),u0("Auth",!0)):L9()}function WR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function j9(t){const e=WR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Kw(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:Kw(s)}}}function Kw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function L9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Pr("not implemented")}_getIdTokenResponse(e){return Pr("not implemented")}_linkToIdToken(e,n){return Pr("not implemented")}_getReauthenticationResolver(e){return Pr("not implemented")}}async function V9(t,e){return pa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e){return em(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(t,e){return em(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function z9(t,e){return em(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends i_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Gu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Gu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,n,"signInWithPassword",U9);case"emailLink":return B9(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,r,"signUpPassword",V9);case"emailLink":return z9(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(t,e){return em(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="http://localhost";class Za extends i_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const s=new Za(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:$9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q9(t){const e=Yl(Wl(t)).link,n=e?Yl(Wl(e)).deep_link_id:null,r=Yl(Wl(t)).deep_link_id;return(r?Yl(Wl(r)).link:null)||r||n||e||t}class a_{constructor(e){const n=Yl(Wl(e)),r=n.apiKey??null,i=n.oobCode??null,a=F9(n.mode??null);J(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=q9(e);try{return new a_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(){this.providerId=tl.PROVIDER_ID}static credential(e,n){return Gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=a_.parseLink(n);return J(r,"argument-error"),Gu._fromEmailAndCode(e,r.code,r.tenantId)}}tl.PROVIDER_ID="password";tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends KR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ec{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xi.credential(e.oauthAccessToken)}catch{return null}}}xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ti.credential(n,r)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ec{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com";Si.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ec{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ai.credential(n,r)}catch{return null}}}Ai.TWITTER_SIGN_IN_METHOD="twitter.com";Ai.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await qn._fromIdTokenResponse(e,r,i),s=Qw(r);return new ko({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Qw(r);return new ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf extends Un{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wf(e,n,r,i)}}function QR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(t,a,e,r):a})}async function H9(t,e,n=!1){const r=await Hu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t,e,n=!1){const{auth:r}=t;if(In(r.app))return Promise.reject(Gi(r));const i="reauthenticate";try{const a=await Hu(t,QR(r,i,e,t),n);J(a.idToken,r,"internal-error");const s=n_(a.idToken);J(s,r,"internal-error");const{sub:o}=s;return J(t.uid===o,r,"user-mismatch"),ko._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Kn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XR(t,e,n=!1){if(In(t.app))return Promise.reject(Gi(t));const r="signIn",i=await QR(t,r,e),a=await ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function Y9(t,e){return XR(el(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(t){const e=el(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function K9(t,e,n){return In(t.app)?Promise.reject(Gi(t)):Y9(qe(t),tl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&W9(t),r})}function Q9(t,e,n,r){return qe(t).onIdTokenChanged(e,n,r)}function X9(t,e,n){return qe(t).beforeAuthStateChanged(e,n)}function J9(t,e,n,r){return qe(t).onAuthStateChanged(e,n,r)}function Z9(t){return qe(t).signOut()}const Kf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kf,"1"),this.storage.removeItem(Kf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=1e3,tU=10;class ZR extends JR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);_9()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tU):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZR.type="LOCAL";const nU=ZR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC extends JR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eC.type="SESSION";const tC=eC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(s).map(async c=>c(n.origin,a)),u=await rU(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,u)=>{const c=s_("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function aU(t){gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function sU(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oU(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function lU(){return nC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebaseLocalStorageDb",uU=1,Qf="firebaseLocalStorage",iC="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rm(t,e){return t.transaction([Qf],e?"readwrite":"readonly").objectStore(Qf)}function cU(){const t=indexedDB.deleteDatabase(rC);return new wc(t).toPromise()}function Iy(){const t=indexedDB.open(rC,uU);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Qf,{keyPath:iC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Qf)?e(r):(r.close(),await cU(),e(await Iy()))})})}async function Xw(t,e,n){const r=rm(t,!0).put({[iC]:e,value:n});return new wc(r).toPromise()}async function hU(t,e){const n=rm(t,!1).get(e),r=await new wc(n).toPromise();return r===void 0?null:r.value}function Jw(t,e){const n=rm(t,!0).delete(e);return new wc(n).toPromise()}const fU=800,dU=3;class aC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Iy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dU)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nm._getInstance(lU()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await sU(),!this.activeServiceWorker)return;this.sender=new iU(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Iy();return await Xw(e,Kf,"1"),await Jw(e,Kf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hU(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=rm(i,!1).getAll();return new wc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aC.type="LOCAL";const mU=aC;new bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(t,e){return e?jr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_ extends i_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gU(t){return XR(t.auth,new o_(t),t.bypassAuthState)}function yU(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),G9(n,new o_(t),t.bypassAuthState)}async function vU(t){const{auth:e,user:n}=t;return J(n,e,"internal-error"),H9(n,new o_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gU;case"linkViaPopup":case"linkViaRedirect":return vU;case"reauthViaPopup":case"reauthViaRedirect":return yU;default:Kn(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _U=new bc(2e3,1e4);class to extends sC{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return J(e,this.auth,"internal-error"),e}async onExecution(){ei(this.filter.length===1,"Popup operations only handle one event");const e=s_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_U.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="pendingRedirect",Wh=new Map;class EU extends sC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wh.get(this.auth._key());if(!e){try{const r=await wU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wh.set(this.auth._key(),e)}return this.bypassAuthState||Wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wU(t,e){const n=SU(e),r=TU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function xU(t,e){Wh.set(t._key(),e)}function TU(t){return jr(t._redirectPersistence)}function SU(t){return Yh(bU,t.config.apiKey,t.name)}async function AU(t,e,n=!1){if(In(t.app))return Promise.reject(Gi(t));const r=el(t),i=pU(r,e),s=await new EU(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU=10*60*1e3;class RU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(pr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NU&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IU(t,e={}){return pa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DU=/^https?/;async function kU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IU(t);for(const n of e)try{if(MU(n))return}catch{}Kn(t,"unauthorized-domain")}function MU(t){const e=Ry(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!DU.test(n))return!1;if(OU.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=new bc(3e4,6e4);function ex(){const t=gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jU(t){return new Promise((e,n)=>{var i,a,s;function r(){ex(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ex(),n(pr(t,"network-request-failed"))},timeout:PU.get()})}if((a=(i=gr().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=gr().gapi)!=null&&s.load)r();else{const o=R9("iframefcb");return gr()[o]=()=>{gapi.load?r():n(pr(t,"network-request-failed"))},GR(`${N9()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Kh=null,e})}let Kh=null;function LU(t){return Kh=Kh||jU(t),Kh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=new bc(5e3,15e3),UU="__/auth/iframe",BU="emulator/auth/iframe",zU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FU(t){const e=t.config;J(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?t_(e,BU):`https://${t.config.authDomain}/${UU}`,r={apiKey:e.apiKey,appName:t.name,v:fs},i=$U.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${dc(r).slice(1)}`}async function qU(t){const e=await LU(t),n=gr().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:FU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zU,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=pr(t,"network-request-failed"),o=gr().setTimeout(()=>{a(s)},VU.get());function u(){gr().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,YU=600,WU="_blank",KU="http://localhost";class tx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QU(t,e,n,r=GU,i=YU){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...HU,width:r.toString(),height:i.toString(),top:a,left:s},c=Lt().toLowerCase();n&&(o=UR(c)?WU:n),LR(c)&&(e=e||KU,u.scrollbars="yes");const f=Object.entries(u).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(v9(c)&&o!=="_self")return XU(e||"",o),new tx(null);const m=window.open(e||"",o,f);J(m,t,"popup-blocked");try{m.focus()}catch{}return new tx(m)}function XU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="__/auth/handler",ZU="emulator/auth/handler",e8=encodeURIComponent("fac");async function nx(t,e,n,r,i,a){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fs,eventId:i};if(e instanceof KR){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",T3(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))s[f]=m}if(e instanceof Ec){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const u=await t._getAppCheckToken(),c=u?`#${e8}=${encodeURIComponent(u)}`:"";return`${t8(t)}?${dc(o).slice(1)}${c}`}function t8({config:t}){return t.emulator?t_(t,ZU):`https://${t.authDomain}/${JU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class n8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=AU,this._overrideRedirectResult=xU}async _openPopup(e,n,r,i){var s;ei((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await nx(e,n,r,Ry(),i);return QU(e,a,s_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await nx(e,n,r,Ry(),i);return aU(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qU(e),r=new RU(e);return n.register("authEvent",i=>(J(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pp,{type:Pp},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[Pp];a!==void 0&&n(!!a),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return qR()||VR()||r_()}}const r8=n8;var rx="@firebase/auth",ix="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s8(t){Yn(new Vn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HR(t)},c=new T9(r,i,a,u);return M9(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yn(new Vn("auth-internal",e=>{const n=el(e.getProvider("auth").getImmediate());return(r=>new i8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),en(rx,ix,a8(t)),en(rx,ix,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8=5*60,l8=$2("authIdTokenMaxAge")||o8;let ax=null;const u8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l8)return;const i=n==null?void 0:n.token;ax!==i&&(ax=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function c8(t=kd()){const e=ca(t,"auth");if(e.isInitialized())return e.getImmediate();const n=k9(t,{popupRedirectResolver:r8,persistence:[mU,nU,tC]}),r=$2("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=u8(a.toString());X9(n,s,()=>s(n.currentUser)),Q9(n,o=>s(o))}}const i=U2("auth");return i&&P9(n,`http://${i}`),n}function h8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}S9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=pr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",h8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s8("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="firebasestorage.googleapis.com",f8="storageBucket",d8=2*60*1e3,m8=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Un{constructor(e,n,r=0){super(jp(e),`Firebase Storage: ${n} (${jp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Er.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return jp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vr||(vr={}));function jp(t){return"storage/"+t}function p8(){const t="An unknown error occurred, please check the error payload for server response.";return new Er(vr.UNKNOWN,t)}function g8(){return new Er(vr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y8(){return new Er(vr.CANCELED,"User canceled the upload/download.")}function v8(t){return new Er(vr.INVALID_URL,"Invalid URL '"+t+"'.")}function _8(t){return new Er(vr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function sx(t){return new Er(vr.INVALID_ARGUMENT,t)}function uC(){return new Er(vr.APP_DELETED,"The Firebase app was deleted.")}function b8(t){return new Er(vr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Hn.makeFromUrl(e,n)}catch{return new Hn(e,"")}if(r.path==="")return r;throw _8(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},I=n===lC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",v=new RegExp(`^https?://${I}/${i}/${C}`,"i"),S=[{regex:o,indices:u,postModify:a},{regex:y,indices:w,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<S.length;N++){const L=S[N],F=L.regex.exec(e);if(F){const A=F[L.indices.bucket];let E=F[L.indices.path];E||(E=""),r=new Hn(A,E),L.postModify(r);break}}if(r==null)throw v8(e);return r}}class E8{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(t,e,n){let r=1,i=null,a=null,s=!1,o=0;function u(){return o===2}let c=!1;function f(...C){c||(c=!0,e.apply(null,C))}function m(C){i=setTimeout(()=>{i=null,t(y,u())},C)}function p(){a&&clearTimeout(a)}function y(C,...v){if(c){p();return}if(C){p(),f.call(null,C,...v);return}if(u()||s){p(),f.call(null,C,...v);return}r<64&&(r*=2);let S;o===1?(o=2,S=0):S=(r+Math.random())*1e3,m(S)}let w=!1;function I(C){w||(w=!0,p(),!c&&(i!==null?(C||(o=2),clearTimeout(i),m(0)):C||(o=1)))}return m(0),a=setTimeout(()=>{s=!0,I(!0)},n),I}function x8(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T8(t){return t!==void 0}function ox(t,e,n,r){if(r<e)throw sx(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw sx(`Invalid value for '${t}'. Expected ${n} or less.`)}function S8(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xf||(Xf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A8(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,n,r,i,a,s,o,u,c,f,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,I)=>{this.resolve_=w,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const u=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===Xf.NO_ERROR,u=a.getStatus();if(!o||A8(u,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===Xf.ABORT;r(!1,new gh(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new gh(c,a))})},n=(r,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(o,o.getResponse());T8(u)?a(u):a()}catch(u){s(u)}else if(o!==null){const u=p8();u.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,u)):s(u)}else if(i.canceled){const u=this.appDelete_?uC():y8();s(u)}else{const u=g8();s(u)}};this.canceled_?n(!1,new gh(!1,null,!0)):this.backoffId_=w8(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x8(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function R8(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function C8(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function I8(t,e){e&&(t["X-Firebase-GMPID"]=e)}function O8(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function D8(t,e,n,r,i,a,s=!0,o=!1){const u=S8(t.urlParams),c=t.url+u,f=Object.assign({},t.headers);return I8(f,e),R8(f,n),C8(f,a),O8(f,r),new N8(c,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k8(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function M8(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this._service=e,n instanceof Hn?this._location=n:this._location=Hn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Jf(e,n)}get root(){const e=new Hn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return M8(this._location.path)}get storage(){return this._service}get parent(){const e=k8(this._location.path);if(e===null)return null;const n=new Hn(this._location.bucket,e);return new Jf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b8(e)}}function lx(t,e){const n=e==null?void 0:e[f8];return n==null?null:Hn.makeFromBucketSpec(n,t)}function P8(t,e,n,r={}){t.host=`${e}:${n}`;const i=cs(e);i&&(l0(`https://${t.host}/b`),u0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:F2(a,t.app.options.projectId))}class j8{constructor(e,n,r,i,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=lC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d8,this._maxUploadRetryTime=m8,this._requests=new Set,i!=null?this._bucket=Hn.makeFromBucketSpec(i,this._host):this._bucket=lx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Hn.makeFromBucketSpec(this._url,e):this._bucket=lx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ox("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Jf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new E8(uC());{const s=D8(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const ux="@firebase/storage",cx="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="storage";function L8(t=kd(),e){t=qe(t);const r=ca(t,cC).getImmediate({identifier:e}),i=B2("storage");return i&&V8(r,...i),r}function V8(t,e,n,r={}){P8(t,e,n,r)}function U8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new j8(n,r,i,e,fs)}function B8(){Yn(new Vn(cC,U8,"PUBLIC").setMultipleInstances(!0)),en(ux,cx,""),en(ux,cx,"esm2020")}B8();const hC="@firebase/installations",l_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1e4,dC=`w:${l_}`,mC="FIS_v2",z8="https://firebaseinstallations.googleapis.com/v1",$8=60*60*1e3,F8="installations",q8="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H8={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},es=new hs(F8,q8,H8);function pC(t){return t instanceof Un&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC({projectId:t}){return`${z8}/projects/${t}/installations`}function yC(t){return{token:t.token,requestStatus:2,expiresIn:Y8(t.expiresIn),creationTime:Date.now()}}async function vC(t,e){const r=(await e.json()).error;return es.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _C({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function G8(t,{refreshToken:e}){const n=_C(t);return n.append("Authorization",W8(e)),n}async function bC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Y8(t){return Number(t.replace("s","000"))}function W8(t){return`${mC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K8({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gC(t),i=_C(t),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:n,authVersion:mC,appId:t.appId,sdkVersion:dC},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await bC(()=>fetch(r,o));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:yC(c.authToken)}}else throw await vC("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8=/^[cdef][\w-]{21}$/,Oy="";function J8(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Z8(t);return X8.test(n)?n:Oy}catch{return Oy}}function Z8(t){return Q8(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new Map;function xC(t,e){const n=im(t);TC(n,e),eB(n,e)}function TC(t,e){const n=wC.get(t);if(n)for(const r of n)r(e)}function eB(t,e){const n=tB();n&&n.postMessage({key:t,fid:e}),nB()}let ja=null;function tB(){return!ja&&"BroadcastChannel"in self&&(ja=new BroadcastChannel("[Firebase] FID Change"),ja.onmessage=t=>{TC(t.data.key,t.data.fid)}),ja}function nB(){wC.size===0&&ja&&(ja.close(),ja=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB="firebase-installations-database",iB=1,ts="firebase-installations-store";let Lp=null;function u_(){return Lp||(Lp=K2(rB,iB,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ts)}}})),Lp}async function Zf(t,e){const n=im(t),i=(await u_()).transaction(ts,"readwrite"),a=i.objectStore(ts),s=await a.get(n);return await a.put(e,n),await i.done,(!s||s.fid!==e.fid)&&xC(t,e.fid),e}async function SC(t){const e=im(t),r=(await u_()).transaction(ts,"readwrite");await r.objectStore(ts).delete(e),await r.done}async function am(t,e){const n=im(t),i=(await u_()).transaction(ts,"readwrite"),a=i.objectStore(ts),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await i.done,o&&(!s||s.fid!==o.fid)&&xC(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(t){let e;const n=await am(t.appConfig,r=>{const i=aB(r),a=sB(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Oy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function aB(t){const e=t||{fid:J8(),registrationStatus:0};return AC(e)}function sB(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(es.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=oB(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:lB(t)}:{installationEntry:e}}async function oB(t,e){try{const n=await K8(t,e);return Zf(t.appConfig,n)}catch(n){throw pC(n)&&n.customData.serverCode===409?await SC(t.appConfig):await Zf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function lB(t){let e=await hx(t.appConfig);for(;e.registrationStatus===1;)await EC(100),e=await hx(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await c_(t);return r||n}return e}function hx(t){return am(t,e=>{if(!e)throw es.create("installation-not-found");return AC(e)})}function AC(t){return uB(t)?{fid:t.fid,registrationStatus:0}:t}function uB(t){return t.registrationStatus===1&&t.registrationTime+fC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cB({appConfig:t,heartbeatServiceProvider:e},n){const r=hB(t,n),i=G8(t,n),a=e.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:dC,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},u=await bC(()=>fetch(r,o));if(u.ok){const c=await u.json();return yC(c)}else throw await vC("Generate Auth Token",u)}function hB(t,{fid:e}){return`${gC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h_(t,e=!1){let n;const r=await am(t.appConfig,a=>{if(!NC(a))throw es.create("not-registered");const s=a.authToken;if(!e&&mB(s))return a;if(s.requestStatus===1)return n=fB(t,e),a;{if(!navigator.onLine)throw es.create("app-offline");const o=gB(a);return n=dB(t,o),o}});return n?await n:r.authToken}async function fB(t,e){let n=await fx(t.appConfig);for(;n.authToken.requestStatus===1;)await EC(100),n=await fx(t.appConfig);const r=n.authToken;return r.requestStatus===0?h_(t,e):r}function fx(t){return am(t,e=>{if(!NC(e))throw es.create("not-registered");const n=e.authToken;return yB(n)?{...e,authToken:{requestStatus:0}}:e})}async function dB(t,e){try{const n=await cB(t,e),r={...e,authToken:n};return await Zf(t.appConfig,r),n}catch(n){if(pC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Zf(t.appConfig,r)}throw n}}function NC(t){return t!==void 0&&t.registrationStatus===2}function mB(t){return t.requestStatus===2&&!pB(t)}function pB(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$8}function gB(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function yB(t){return t.requestStatus===1&&t.requestTime+fC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t){const e=t,{installationEntry:n,registrationPromise:r}=await c_(e);return r?r.catch(console.error):h_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _B(t,e=!1){const n=t;return await bB(n),(await h_(n,e)).token}async function bB(t){const{registrationPromise:e}=await c_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(t){if(!t||!t.options)throw Vp("App Configuration");if(!t.name)throw Vp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Vp(t){return es.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="installations",wB="installations-internal",xB=t=>{const e=t.getProvider("app").getImmediate(),n=EB(e),r=ca(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},TB=t=>{const e=t.getProvider("app").getImmediate(),n=ca(e,RC).getImmediate();return{getId:()=>vB(n),getToken:i=>_B(n,i)}};function SB(){Yn(new Vn(RC,xB,"PUBLIC")),Yn(new Vn(wB,TB,"PRIVATE"))}SB();en(hC,l_);en(hC,l_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="analytics",AB="firebase_id",NB="origin",RB=60*1e3,CB="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",f_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt=new Dd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IB={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},vn=new hs("analytics","Analytics",IB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OB(t){if(!t.startsWith(f_)){const e=vn.create("invalid-gtag-resource",{gtagURL:t});return zt.warn(e.message),""}return t}function CC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function DB(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function kB(t,e){const n=DB("firebase-js-sdk-policy",{createScriptURL:OB}),r=document.createElement("script"),i=`${f_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function MB(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function PB(t,e,n,r,i,a){const s=r[i];try{if(s)await e[s];else{const u=(await CC(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(o){zt.error(o)}t("config",i,a)}async function jB(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await CC(n);for(const u of s){const c=o.find(m=>m.measurementId===u),f=c&&e[c.appId];if(f)a.push(f);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){zt.error(a)}}function LB(t,e,n,r){async function i(a,...s){try{if(a==="event"){const[o,u]=s;await jB(t,e,n,o,u)}else if(a==="config"){const[o,u]=s;await PB(t,e,n,r,o,u)}else if(a==="consent"){const[o,u]=s;t("consent",o,u)}else if(a==="get"){const[o,u,c]=s;t("get",o,u,c)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){zt.error(o)}}return i}function VB(t,e,n,r,i){let a=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=LB(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function UB(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(f_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=30,zB=1e3;class $B{constructor(e={},n=zB){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const IC=new $B;function FB(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function qB(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:FB(n)},i=CB.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const u=await a.json();(s=u.error)!=null&&s.message&&(o=u.error.message)}catch{}throw vn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function HB(t,e=IC,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw vn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw vn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new WB;return setTimeout(async()=>{o.abort()},RB),OC({appId:r,apiKey:i,measurementId:a},s,o,e)}async function OC(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=IC){var o;const{appId:a,measurementId:s}=t;try{await GB(r,e)}catch(u){if(s)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw u}try{const u=await qB(t);return i.deleteThrottleMetadata(a),u}catch(u){const c=u;if(!YB(c)){if(i.deleteThrottleMetadata(a),s)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw u}const f=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?OE(n,i.intervalMillis,BB):OE(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(a,m),zt.debug(`Calling attemptFetch again in ${f} millis`),OC(t,m,r,i)}}function GB(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(vn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function YB(t){if(!(t instanceof Un)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class WB{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function KB(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,s={...r,send_to:a};t("event",n,s)}}async function QB(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XB(){if(H2())try{await G2()}catch(t){return zt.warn(vn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return zt.warn(vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function JB(t,e,n,r,i,a,s){const o=HB(t);o.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>zt.error(p)),e.push(o);const u=XB().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([o,u]);UB(a)||kB(a,c.measurementId),i("js",new Date);const m=(s==null?void 0:s.config)??{};return m[NB]="firebase",m.update=!0,f!=null&&(m[AB]=f),i("config",c.measurementId,m),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.app=e}_delete(){return delete po[this.app.options.appId],Promise.resolve()}}let po={},dx=[];const mx={};let Up="dataLayer",e7="gtag",px,d_,gx=!1;function t7(){const t=[];if(q2()&&t.push("This is a browser extension environment."),b3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=vn.create("invalid-analytics-context",{errorInfo:e});zt.warn(n.message)}}function n7(t,e,n){t7();const r=t.options.appId;if(!r)throw vn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw vn.create("no-api-key");if(po[r]!=null)throw vn.create("already-exists",{id:r});if(!gx){MB(Up);const{wrappedGtag:a,gtagCore:s}=VB(po,dx,mx,Up,e7);d_=a,px=s,gx=!0}return po[r]=JB(t,dx,mx,e,px,Up,n),new ZB(t)}function r7(t=kd()){t=qe(t);const e=ca(t,ed);return e.isInitialized()?e.getImmediate():i7(t)}function i7(t,e={}){const n=ca(t,ed);if(n.isInitialized()){const i=n.getImmediate();if(Ji(e,n.getOptions()))return i;throw vn.create("already-initialized")}return n.initialize({options:e})}function a7(t,e,n){t=qe(t),QB(d_,po[t.app.options.appId],e,n).catch(r=>zt.error(r))}function s7(t,e,n,r){t=qe(t),KB(d_,po[t.app.options.appId],e,n,r).catch(i=>zt.error(i))}const yx="@firebase/analytics",vx="0.10.19";function o7(){Yn(new Vn(ed,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return n7(r,i,n)},"PUBLIC")),Yn(new Vn("analytics-internal",t,"PRIVATE")),en(yx,vx),en(yx,vx,"esm2020");function t(e){try{const n=e.getProvider(ed).getImmediate();return{logEvent:(r,i,a)=>s7(n,r,i,a),setUserProperties:(r,i)=>a7(n,r,i)}}catch(n){throw vn.create("interop-component-reg-failed",{reason:n})}}}o7();const l7={apiKey:"AIzaSyAriwME6CybqyDw1e3yNTwF6sHk4NUn7oY",authDomain:"planyourtrip-ed010.firebaseapp.com",databaseURL:"https://planyourtrip-ed010-default-rtdb.firebaseio.com",projectId:"planyourtrip-ed010",storageBucket:"planyourtrip-ed010.firebasestorage.app",messagingSenderId:"889865160214",appId:"1:889865160214:web:3cbe594765950e07609737",measurementId:"G-1TY4MKM2D9"},sm=Q2(l7),Vt=P5(sm),m_=c8(sm);L8(sm);r7(sm);const u7=async t=>{try{return(await J0(ma(Vt,"trips"),{...t,createdAt:ye.now()})).id}catch(e){throw console.error("Error creating trip:",e),e}},DC=async t=>{try{const e=Zr(Vt,"trips",t),n=await AR(e);return n.exists()?{id:n.id,...n.data()}:null}catch(e){throw console.error("Error getting trip:",e),e}},c7=async()=>{try{return(await K0(ma(Vt,"trips"))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){throw console.error("Error getting all trips:",t),t}},h7=async t=>{try{const e=new Date(t);e.setHours(0,0,0,0);const n=new Date(t);n.setHours(23,59,59,999);const r=Jd(ma(Vt,"trips"),qf("date",">=",ye.fromDate(e)),qf("date","<=",ye.fromDate(n)));return(await K0(r)).docs.map(a=>({id:a.id,...a.data()}))}catch(e){throw console.error("Error getting trips by date:",e),e}},f7=async(t,e)=>{try{const n=Zr(Vt,"trips",t);await Q0(n,e)}catch(n){throw console.error("Error updating trip:",n),n}},d7=async t=>{try{await X0(Zr(Vt,"trips",t))}catch(e){throw console.error("Error deleting trip:",e),e}},kC=async t=>{try{return(await J0(ma(Vt,"registrations"),{...t,timestamp:ye.now()})).id}catch(e){throw console.error("Error creating registration:",e),e}},m7=async t=>{try{const e=Jd(ma(Vt,"registrations"),qf("tripId","==",t));return(await K0(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error getting registrations:",e),e}},_x=async(t,e)=>{try{const n=Zr(Vt,"registrations",t);await Q0(n,e)}catch(n){throw console.error("Error updating registration:",n),n}},p7=async t=>{try{await X0(Zr(Vt,"registrations",t))}catch(e){throw console.error("Error deleting registration:",e),e}},H={primary:{teal:"#00BCD4",black:"#2B2B2B",white:"#FFFFFF"},success:"#10b981",seat:{vacant:"#E5E7EB",occupied:"#10b981",selected:"#00BCD4"},button:{danger:"#ef4444"},gradient:{primary:"linear-gradient(135deg, #00BCD4 0%, #26C6DA 100%)"}},g7=({selectedDate:t,onClose:e,onCreate:n})=>{const[r,i]=O.useState({title:"",vehicleLayout:"sprinter_15",driverName:"",whatsappGroupLink:"",status:"planned"}),[a,s]=O.useState(!1),o=async u=>{u.preventDefault(),s(!0);try{await n({...r,date:ye.fromDate(t)})}catch(c){console.error("Error creating trip:",c)}finally{s(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:u=>u.stopPropagation(),style:{borderColor:H.primary.teal},children:[h.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold",children:"Create New Trip"}),h.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:h.jsx(fc,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),h.jsx("input",{type:"text",value:r.title,onChange:u=>i({...r,title:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),h.jsx("input",{type:"text",value:t.toLocaleDateString(),disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),h.jsx("input",{type:"text",value:r.driverName,onChange:u=>i({...r,driverName:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),h.jsxs("select",{value:r.vehicleLayout,onChange:u=>i({...r,vehicleLayout:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[h.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),h.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),h.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),h.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:u=>i({...r,whatsappGroupLink:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),h.jsxs("select",{value:r.status,onChange:u=>i({...r,status:u.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[h.jsx("option",{value:"planned",children:"Planned (Yellow)"}),h.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),h.jsx("option",{value:"done",children:"Done (Green)"})]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:a,style:{backgroundColor:H.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating...":"Create Trip"})]})]})]})})},y7=({trip:t,onClose:e,onUpdate:n})=>{var u,c;const[r,i]=O.useState({title:t.title||"",vehicleLayout:t.vehicleLayout||"sprinter_15",driverName:t.driverName||"",whatsappGroupLink:t.whatsappGroupLink||"",status:t.status||"planned"}),[a,s]=O.useState(!1),o=async f=>{f.preventDefault(),s(!0);try{await n(t.id,r)}catch(m){console.error("Error updating trip:",m)}finally{s(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full border-4 border-teal-400",onClick:f=>f.stopPropagation(),style:{borderColor:H.primary.teal},children:[h.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center",children:[h.jsx("h2",{className:"text-xl font-bold",children:"Edit Trip"}),h.jsx("button",{onClick:e,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:h.jsx(fc,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:o,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Title"}),h.jsx("input",{type:"text",value:r.title,onChange:f=>i({...r,title:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Beach Trip, Museum Visit",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),h.jsx("input",{type:"text",value:((c=(u=t.date)==null?void 0:u.toDate)==null?void 0:c.call(u).toLocaleDateString())||"N/A",disabled:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driver Name"}),h.jsx("input",{type:"text",value:r.driverName,onChange:f=>i({...r,driverName:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),h.jsxs("select",{value:r.vehicleLayout,onChange:f=>i({...r,vehicleLayout:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[h.jsx("option",{value:"sprinter_15",children:"Mercedes Sprinter Black (14 Seats)"}),h.jsx("option",{value:"bus_30",children:"Mercedes Sprinter White (11 Seats)"}),h.jsx("option",{value:"highlander_7",children:"Toyota Highlander (7 Seats)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Group Link (Optional)"}),h.jsx("input",{type:"url",value:r.whatsappGroupLink,onChange:f=>i({...r,whatsappGroupLink:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",placeholder:"https://chat.whatsapp.com/..."}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add a WhatsApp group link for trip participants to join"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Trip Status"}),h.jsxs("select",{value:r.status,onChange:f=>i({...r,status:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",children:[h.jsx("option",{value:"planned",children:"Planned (Yellow)"}),h.jsx("option",{value:"scheduled",children:"Scheduled (Purple)"}),h.jsx("option",{value:"done",children:"Done (Green)"})]})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:a,style:{backgroundColor:H.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Updating...":"Update Trip"})]})]})]})})},bx={sprinter_15:{name:"Mercedes Sprinter Black (13 Seats)",totalSeats:14,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:60,y:320},{id:9,row:4,position:"center",x:165,y:320},{id:10,row:4,position:"right",x:270,y:320},{id:11,row:5,position:"left",x:40,y:410},{id:12,row:5,position:"center-left",x:130,y:410},{id:13,row:5,position:"center-right",x:220,y:410},{id:14,row:5,position:"right",x:310,y:410}]},bus_30:{name:"Mercedes Sprinter White (10 Seats)",totalSeats:11,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:140},{id:3,row:2,position:"center",x:165,y:140},{id:4,row:2,position:"right",x:270,y:140},{id:5,row:3,position:"left",x:60,y:230},{id:6,row:3,position:"center",x:165,y:230},{id:7,row:3,position:"right",x:270,y:230},{id:8,row:4,position:"left",x:40,y:320},{id:9,row:4,position:"center-left",x:130,y:320},{id:10,row:4,position:"center-right",x:220,y:320},{id:11,row:4,position:"right",x:310,y:320}]},highlander_7:{name:"Toyota Highlander (7 Seats)",totalSeats:7,hasDriverName:!0,seats:[{id:1,row:1,position:"right",x:250,y:50},{id:2,row:2,position:"left",x:60,y:180},{id:3,row:2,position:"center",x:165,y:180},{id:4,row:2,position:"right",x:270,y:180},{id:5,row:3,position:"left",x:60,y:310},{id:6,row:3,position:"center",x:165,y:310},{id:7,row:3,position:"right",x:270,y:310}]}},MC=t=>bx[t]||bx.sprinter_15,PC=({vehicleType:t,registrations:e,onSeatClick:n,selectedSeat:r,driverName:i,reservedSeats:a=[]})=>{const s=MC(t),o=c=>e==null?void 0:e.find(f=>f.seatNumber===c),u=c=>o(c)||a.includes(c)?H.seat.occupied:r===c?H.seat.selected:H.seat.vacant;return h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-bold mb-4 text-center",style:{color:H.primary.teal},children:s.name}),i&&h.jsxs("div",{className:"text-center mb-4 pb-4 border-b",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"Driver: "}),h.jsx("span",{className:"font-semibold",style:{color:H.primary.teal},children:i})]}),h.jsxs("svg",{viewBox:"0 0 400 500",className:"w-full max-w-md mx-auto border-2 rounded-lg",style:{borderColor:H.primary.teal},children:[h.jsx("rect",{x:"10",y:"10",width:"380",height:"480",rx:"20",fill:"none",stroke:H.primary.black,strokeWidth:"3"}),h.jsx("line",{x1:"10",y1:"100",x2:"390",y2:"100",stroke:H.primary.black,strokeWidth:"2",strokeDasharray:"5,5"}),h.jsxs("g",{children:[h.jsx("rect",{x:"30",y:"40",width:"50",height:"50",rx:"5",fill:H.primary.black,stroke:H.primary.teal,strokeWidth:"2"}),h.jsx("text",{x:"55",y:"70",textAnchor:"middle",fontSize:"14",fill:"white",fontWeight:"bold",children:"D"}),i&&h.jsx("text",{x:"55",y:"115",textAnchor:"middle",fontSize:"10",fill:H.primary.teal,fontWeight:"600",children:i.split(" ")[0]})]}),s.seats.map(c=>{const f=o(c.id),m=n&&!f;return h.jsxs("g",{onClick:()=>m&&n(c.id),className:m?"cursor-pointer hover:opacity-80":"",children:[h.jsx("rect",{x:c.x-25,y:c.y-15,width:"50",height:"35",rx:"5",fill:u(c.id),stroke:"#4b5563",strokeWidth:"2"}),h.jsx("text",{x:c.x,y:c.y+5,textAnchor:"middle",fontSize:"14",fill:f||r===c.id?"white":"#1f2937",fontWeight:"bold",children:c.id})]},c.id)})]}),h.jsxs("div",{className:"flex justify-center gap-6 mt-4 text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:H.seat.vacant,border:`2px solid ${H.primary.black}`}}),h.jsx("span",{children:"Vacant"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:H.seat.occupied,border:`2px solid ${H.primary.black}`}}),h.jsx("span",{children:"Occupied"})]}),n&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:H.seat.selected,border:`2px solid ${H.primary.black}`}}),h.jsx("span",{children:"Selected"})]})]})]})},v7=({trip:t,registrations:e,onClose:n,onSuccess:r})=>{const[i,a]=O.useState({firstName:"",lastName:"",email:"",phone:"",seatNumber:null,paymentMethod:"on-trip",paid:!1}),[s,o]=O.useState(!1),[u,c]=O.useState(""),f=MC(t.vehicleLayout),m=e.map(w=>w.seatNumber),p=Array.from({length:f.totalSeats},(w,I)=>I+1).filter(w=>!m.includes(w)),y=async w=>{if(w.preventDefault(),c(""),!i.seatNumber){c("Please select a seat");return}o(!0);try{await kC({tripId:t.id,...i,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,addedByAdmin:!0}),r(),n()}catch(I){console.error("Error adding participant:",I),c("Failed to add participant. Please try again.")}finally{o(!1)}};return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:n,children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border-4 border-teal-400",onClick:w=>w.stopPropagation(),style:{borderColor:H.primary.teal},children:[h.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-6 py-4 rounded-t-xl flex justify-between items-center sticky top-0 z-10",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(P2,{className:"w-6 h-6"}),h.jsx("h2",{className:"text-xl font-bold",children:"Add Participant"})]}),h.jsx("button",{onClick:n,className:"hover:bg-white hover:bg-opacity-20 rounded-lg p-2 transition-colors",children:h.jsx(fc,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:y,className:"p-6 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),h.jsx("input",{type:"text",value:i.firstName,onChange:w=>a({...i,firstName:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:border-transparent",style:{focusRing:H.primary.teal},required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),h.jsx("input",{type:"text",value:i.lastName,onChange:w=>a({...i,lastName:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),h.jsx("input",{type:"email",value:i.email,onChange:w=>a({...i,email:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),h.jsx("input",{type:"tel",value:i.phone,onChange:w=>a({...i,phone:w.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Seat Number *"}),h.jsxs("select",{value:i.seatNumber||"",onChange:w=>a({...i,seatNumber:parseInt(w.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0,children:[h.jsx("option",{value:"",children:"Select a seat"}),p.map(w=>h.jsxs("option",{value:w,children:["Seat ",w]},w))]}),p.length===0&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:"No available seats"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method *"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="card"?H.primary.teal:"#D1D5DB"},children:[h.jsx("input",{type:"radio",value:"card",checked:i.paymentMethod==="card",onChange:w=>a({...i,paymentMethod:w.target.value}),className:"mr-3",style:{accentColor:H.primary.teal}}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),h.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:i.paymentMethod==="on-trip"?H.primary.teal:"#D1D5DB"},children:[h.jsx("input",{type:"radio",value:"on-trip",checked:i.paymentMethod==="on-trip",onChange:w=>a({...i,paymentMethod:w.target.value}),className:"mr-3",style:{accentColor:H.primary.teal}}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),h.jsx("div",{children:h.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-3 border rounded-lg hover:bg-gray-50 transition-colors",style:{borderColor:i.paid?H.primary.teal:"#D1D5DB"},children:[h.jsx("input",{type:"checkbox",checked:i.paid,onChange:w=>a({...i,paid:w.target.checked}),className:"w-5 h-5 rounded border-gray-300",style:{accentColor:H.primary.teal}}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Mark as Paid"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Check if participant has already paid"})]})]})}),u&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:u}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:s||p.length===0,style:{backgroundColor:H.primary.teal},className:"flex-1 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Adding...":"Add Participant"})]})]})]})})},jC=O.createContext(),xc=()=>{const t=O.useContext(jC);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},_7=({children:t})=>{const[e,n]=O.useState("en"),r={language:e,setLanguage:n};return h.jsx(jC.Provider,{value:r,children:t})},p_={en:{dashboard:"Trip Management Dashboard",dashboardShort:"Dashboard",irviTours:"IVRI Tours",tripManagement:"Trip Management System",adminPortal:"Admin Portal",logout:"Logout",backToDashboard:"Back to dashboard",tripsFor:"Trips for",allTrips:"All Trips",all:"All",currentTrips:"Current Trips",current:"Current",oldTrips:"Old Trips",old:"Old",createTrip:"Create Trip",loadingTrips:"Loading trips...",noUpcomingTrips:"No upcoming trips scheduled.",noPastTrips:"No past trips found.",noTripsForDate:"No trips scheduled for this date.",createFirstTrip:"Create your first trip",whatsapp:"WhatsApp",share:"Share",copied:"Copied!",view:"View",edit:"Edit",delete:"Delete",deleting:"Deleting...",joinWhatsappGroup:"Join WhatsApp Group",linkCopied:"Link copied!",shareTripLink:"Share trip link",viewTripDetails:"View trip details",editTrip:"Edit trip",deleteTrip:"Delete trip",createNewTrip:"Create new trip",showAllTrips:"Show all trips",showCurrentTrips:"Show current trips",showOldTrips:"Show old trips",mercedesSprinterBlack:"Mercedes Sprinter Black (14 Seats)",mercedesSprinterWhite:"Mercedes Sprinter White (11 Seats)",toyotaHighlander:"Toyota Highlander (7 Seats)",driver:"Driver",calendar:"Calendar",createNewTripTitle:"Create New Trip",editTripTitle:"Edit Trip",addParticipant:"Add Participant",participantDetails:"Participant Details",tripTitle:"Trip Title",date:"Date",driverName:"Driver Name",vehicleType:"Vehicle Type",whatsappGroupLink:"WhatsApp Group Link (Optional)",whatsappGroupLinkHelp:"Add a WhatsApp group link for trip participants to join",firstName:"First Name",lastName:"Last Name",email:"Email",phoneNumber:"Phone Number",seatNumber:"Seat Number",selectSeat:"Select a seat",paymentMethod:"Payment Method",payWithCard:"Pay with Card",payWithCardDesc:"Pay now using credit/debit card",payOnTrip:"Pay on Trip",payOnTripDesc:"Pay cash/card on the day of the trip",markAsPaid:"Mark as Paid",markAsPaidDesc:"Check if participant has already paid",cancel:"Cancel",close:"Close",updateTrip:"Update Trip",updating:"Updating...",creating:"Creating...",addParticipantBtn:"Add Participant",adding:"Adding...",completeRegistration:"Complete Registration",submitting:"Submitting...",clearSignature:"Clear Signature",participants:"Participants",add:"Add",noRegistrations:"No registrations yet",name:"Name",phone:"Phone",seat:"Seat Number",paymentStatus:"Payment Status",paid:"Paid",notPaid:"Not Paid",registrationStatus:"Registration Status",complete:"Complete",registered:"Registered",signedAgreements:"Signed Agreements",cancellationPolicy:"Cancellation Policy",liabilityWaiver:"Liability Waiver",markAsNotPaid:"Mark as Not Paid",markAsPaidBtn:"Mark as Paid",selectYourSeat:"Select Your Seat",selectedSeat:"Selected Seat",vacant:"Vacant",occupied:"Occupied",selected:"Selected",noAvailableSeats:"No available seats",personalInformation:"Personal Information",digitalSignature:"Digital Signature",registrationSuccessful:"Registration Successful!",thankYouMessage:"Thank you for registering for",confirmationEmailMessage:"You will receive a confirmation email shortly with your signed waiver.",yourSeat:"Your Seat",loadingTripInfo:"Loading trip information...",tripNotFound:"Trip Not Found",tripNotFoundMessage:"This trip link may be invalid or expired.",tripId:"Trip ID",contactOrganizer:"If you believe this is an error, please contact the trip organizer.",cancellationPolicyTitle:"Cancellation Policy",waiverTitle:"Waiver of Liability",agreeToCancellationPolicy:"I have read and agree to the cancellation policy",agreeToWaiver:"I have read, understand, and agree to the waiver of liability",deleteConfirm:"Are you sure you want to delete this trip? This action cannot be undone.",failedToDelete:"Failed to delete trip. Please try again.",failedToUpdate:"Failed to update trip. Please try again.",failedToAdd:"Failed to add participant. Please try again.",failedToUpdatePayment:"Failed to update payment status",failedToSubmit:"Failed to submit registration. Please try again.",pleasSelectSeat:"Please select a seat",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",emailRequired:"Email is required",emailInvalid:"Email is invalid",phoneRequired:"Phone number is required",seatRequired:"Please select a seat",cancellationPolicyRequired:"You must agree to the cancellation policy",waiverRequired:"You must sign the waiver",signatureRequired:"Signature is required",tripTitlePlaceholder:"e.g., Beach Trip, Museum Visit",driverNamePlaceholder:"e.g., John Smith",whatsappPlaceholder:"https://chat.whatsapp.com/..."},ru:{dashboard:"  ",dashboardShort:"",irviTours:"IVRI Tours",tripManagement:"  ",adminPortal:" ",logout:"",backToDashboard:"  ",tripsFor:" ",allTrips:" ",all:"",currentTrips:" ",current:"",oldTrips:" ",old:"",createTrip:" ",loadingTrips:" ...",noUpcomingTrips:"  .",noPastTrips:"   .",noTripsForDate:"    .",createFirstTrip:"   ",whatsapp:"WhatsApp",share:"",copied:"!",view:"",edit:"",delete:"",deleting:"...",joinWhatsappGroup:"   WhatsApp",linkCopied:" !",shareTripLink:"   ",viewTripDetails:"  ",editTrip:" ",deleteTrip:" ",createNewTrip:"  ",showAllTrips:"  ",showCurrentTrips:"  ",showOldTrips:"  ",mercedesSprinterBlack:"Mercedes Sprinter  (14 )",mercedesSprinterWhite:"Mercedes Sprinter  (11 )",toyotaHighlander:"Toyota Highlander (7 )",driver:"",calendar:"",createNewTripTitle:"  ",editTripTitle:" ",addParticipant:" ",participantDetails:" ",tripTitle:" ",date:"",driverName:" ",vehicleType:" ",whatsappGroupLink:"   WhatsApp ()",whatsappGroupLinkHelp:"    WhatsApp   ",firstName:"",lastName:"",email:" ",phoneNumber:" ",seatNumber:" ",selectSeat:" ",paymentMethod:" ",payWithCard:" ",payWithCardDesc:"  / ",payOnTrip:"  ",payOnTripDesc:" /   ",markAsPaid:"  ",markAsPaidDesc:",    ",cancel:"",close:"",updateTrip:" ",updating:"...",creating:"...",addParticipantBtn:" ",adding:"...",completeRegistration:" ",submitting:"...",clearSignature:" ",participants:"",add:"",noRegistrations:"  ",name:"",phone:"",seat:" ",paymentStatus:" ",paid:"",notPaid:" ",registrationStatus:" ",complete:"",registered:"",signedAgreements:" ",cancellationPolicy:" ",liabilityWaiver:"  ",markAsNotPaid:"   ",markAsPaidBtn:"  ",selectYourSeat:"  ",selectedSeat:" ",vacant:"",occupied:"",selected:"",noAvailableSeats:"  ",personalInformation:" ",digitalSignature:" ",registrationSuccessful:" !",thankYouMessage:"   ",confirmationEmailMessage:"         .",yourSeat:" ",loadingTripInfo:"   ...",tripNotFound:"  ",tripNotFoundMessage:"        .",tripId:"ID ",contactOrganizer:"  ,   , ,    .",cancellationPolicyTitle:" ",waiverTitle:"  ",agreeToCancellationPolicy:" ()  ()   ",agreeToWaiver:" (),   ()    ",deleteConfirm:" ,     ?    .",failedToDelete:"   . ,  .",failedToUpdate:"   . ,  .",failedToAdd:"   . ,  .",failedToUpdatePayment:"    ",failedToSubmit:"   . ,  .",pleasSelectSeat:",  ",firstNameRequired:" ",lastNameRequired:" ",emailRequired:"  ",emailInvalid:"   ",phoneRequired:"  ",seatRequired:",  ",cancellationPolicyRequired:"     ",waiverRequired:"     ",signatureRequired:" ",tripTitlePlaceholder:",   ,  ",driverNamePlaceholder:",  ",whatsappPlaceholder:"https://chat.whatsapp.com/..."}},b7=({tripId:t,onClose:e})=>{var k;const{language:n}=xc(),r=p_[n],[i,a]=O.useState(null),[s,o]=O.useState([]),[u,c]=O.useState(!0),[f,m]=O.useState(!1),[p,y]=O.useState(null),[w,I]=O.useState(null),[C,v]=O.useState({}),[_,S]=O.useState(null);O.useEffect(()=>{N();const T=L();return()=>T&&T()},[t]);const N=async()=>{try{const T=await DC(t);a(T)}catch(T){console.error("Error loading trip:",T)}finally{c(!1)}},L=()=>{const T=Jd(ma(Vt,"registrations"),qf("tripId","==",t));return NR(T,te=>{const M=te.docs.map(z=>({id:z.id,...z.data()}));o(M)})},F=async(T,$)=>{try{await _x(T,{paid:!$})}catch(te){console.error("Error updating payment status:",te),alert(r.failedToUpdatePayment)}},A=async T=>{if(confirm("Are you sure you want to delete this participant? This action cannot be undone.")){S(T);try{await p7(T),y(null)}catch($){console.error("Error deleting participant:",$),alert("Failed to delete participant. Please try again.")}finally{S(null)}}},E=T=>{I(T.id),v({firstName:T.firstName,lastName:T.lastName,email:T.email,phone:T.phone})},x=async T=>{try{await _x(T,C),I(null),v({})}catch($){console.error("Error updating participant:",$),alert("Failed to update participant. Please try again.")}},R=()=>{I(null),v({})};if(u)return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:h.jsx("div",{className:"bg-white rounded-lg p-8",children:h.jsx("div",{className:"text-lg",children:r.loadingTripInfo})})});if(!i)return h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-4 z-50",onClick:e,children:h.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[h.jsx("p",{className:"text-lg text-gray-600 mb-4",children:r.tripNotFound}),h.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded-lg hover:bg-gray-300",children:r.close})]})});const D=[...s].sort((T,$)=>T.seatNumber-$.seatNumber);return h.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-15 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",onClick:e,children:[h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[95vh] overflow-hidden border-4 border-teal-400",onClick:T=>T.stopPropagation(),style:{borderColor:H.primary.teal},children:[h.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-teal-600 text-white px-4 sm:px-6 py-4 flex justify-between items-center",children:[h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h2",{className:"text-xl sm:text-2xl font-bold truncate",children:i.title}),h.jsx("p",{className:"text-sm text-teal-100",children:(k=i.date)==null?void 0:k.toDate().toLocaleDateString()})]}),h.jsx("button",{onClick:e,className:"flex-shrink-0 ml-4 p-2 hover:bg-white hover:bg-opacity-20 rounded-lg transition-colors",title:r.close,children:h.jsx(fc,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"overflow-y-auto max-h-[calc(95vh-80px)] p-4 sm:p-6",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(PC,{vehicleType:i.vehicleLayout,registrations:s,driverName:i.driverName})}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-gray-50 rounded-lg shadow-lg p-4 sm:p-6 border-2 border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Zj,{className:"w-5 h-5",style:{color:H.primary.teal}}),h.jsxs("h3",{className:"text-lg sm:text-xl font-bold",style:{color:H.primary.black},children:[r.participants," (",s.length,")"]})]}),h.jsxs("button",{onClick:()=>m(!0),style:{backgroundColor:H.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:r.addParticipant,children:[h.jsx(P2,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden sm:inline",children:r.add})]})]}),s.length===0?h.jsx("p",{className:"text-gray-500 text-center py-8",children:r.noRegistrations}):h.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:D.map(T=>h.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[h.jsxs("div",{onClick:()=>y(p===T.id?null:T.id),className:"flex items-center gap-3 p-3 hover:bg-gray-50 transition-colors cursor-pointer",children:[h.jsx("div",{className:"flex-shrink-0 w-8 h-8 text-white rounded-full flex items-center justify-center font-bold text-sm",style:{backgroundColor:H.seat.occupied},children:T.seatNumber}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("p",{className:"font-semibold text-gray-900 truncate",children:[T.firstName," ",T.lastName]}),h.jsx("p",{className:"text-sm text-gray-600 truncate",children:T.email})]}),h.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[T.paid?h.jsx(eo,{className:"w-5 h-5 text-green-500",title:r.paid}):h.jsx(AE,{className:"w-5 h-5 text-red-500",title:r.notPaid}),p===T.id?h.jsx(aj,{className:"w-5 h-5 text-gray-400"}):h.jsx(rj,{className:"w-5 h-5 text-gray-400"})]})]}),p===T.id&&h.jsx("div",{className:"px-3 pb-3 border-t border-gray-200",children:w===T.id?h.jsxs("div",{className:"space-y-3 pt-3",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:"First Name"}),h.jsx("input",{type:"text",value:C.firstName,onChange:$=>v({...C,firstName:$.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Last Name"}),h.jsx("input",{type:"text",value:C.lastName,onChange:$=>v({...C,lastName:$.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Email"}),h.jsx("input",{type:"email",value:C.email,onChange:$=>v({...C,email:$.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),h.jsx("input",{type:"tel",value:C.phone,onChange:$=>v({...C,phone:$.target.value}),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded"})]}),h.jsxs("div",{className:"flex gap-2 pt-2",children:[h.jsx("button",{onClick:()=>x(T.id),style:{backgroundColor:H.success},className:"flex-1 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:"Save"}),h.jsx("button",{onClick:R,className:"flex-1 px-3 py-2 bg-gray-300 text-gray-700 text-sm rounded-lg hover:bg-gray-400 transition-colors font-medium",children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-3 pt-3",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.phone}),h.jsx("p",{className:"text-sm text-gray-900",children:T.phone})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentMethod}),h.jsx("div",{className:"flex items-center gap-2 mt-1",children:T.paymentMethod==="card"?h.jsxs(h.Fragment,{children:[h.jsx(vj,{className:"w-4 h-4 text-blue-600"}),h.jsx("span",{className:"text-sm text-gray-900",children:r.payWithCard})]}):h.jsxs(h.Fragment,{children:[h.jsx(ZP,{className:"w-4 h-4 text-green-600"}),h.jsx("span",{className:"text-sm text-gray-900",children:r.payOnTrip})]})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.paymentStatus}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[T.paid?h.jsx(eo,{className:"w-4 h-4 text-green-500"}):h.jsx(AE,{className:"w-4 h-4 text-red-500"}),h.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:T.paid?r.paid:r.notPaid})]})]}),T.registrationDate&&h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.registered}),h.jsx("p",{className:"text-sm text-gray-900",children:new Date(T.registrationDate).toLocaleDateString()})]}),(T.agreedToCancellationPolicy||T.agreedToWaiver)&&h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-medium text-gray-500",children:r.signedAgreements}),h.jsxs("div",{className:"space-y-1 mt-1",children:[T.agreedToCancellationPolicy&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(eo,{className:"w-3 h-3 text-green-500"}),h.jsx("span",{className:"text-xs text-gray-700",children:r.cancellationPolicy})]}),T.agreedToWaiver&&h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(eo,{className:"w-3 h-3 text-green-500"}),h.jsx("span",{className:"text-xs text-gray-700",children:r.liabilityWaiver})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("button",{onClick:$=>{$.stopPropagation(),F(T.id,T.paid)},style:{backgroundColor:T.paid?H.button.danger:H.success},className:"w-full px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:T.paid?r.markAsNotPaid:r.markAsPaidBtn}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:$=>{$.stopPropagation(),E(T)},style:{backgroundColor:H.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium",children:[h.jsx(Bj,{className:"w-4 h-4"}),h.jsx("span",{children:"Edit"})]}),h.jsxs("button",{onClick:$=>{$.stopPropagation(),A(T.id)},disabled:_===T.id,style:{backgroundColor:H.button.danger},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white text-sm rounded-lg hover:opacity-90 transition-opacity font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(o0,{className:"w-4 h-4"}),h.jsx("span",{children:_===T.id?"Deleting...":"Delete"})]})]})]})]})})]},T.id))})]})})]})})]}),f&&h.jsx(v7,{trip:i,registrations:s,onClose:()=>m(!1),onSuccess:()=>m(!1)})]})},E7=()=>{const[t,e]=O.useState("New York"),[n,r]=O.useState(""),[i,a]=O.useState(null),[s,o]=O.useState([]),[u,c]=O.useState(!1),[f,m]=O.useState(null),[p,y]=O.useState(!1),w=["New York","Los Angeles","Chicago","Miami","Seattle","Boston"];O.useEffect(()=>{I(t)},[t]);const I=async N=>{c(!0),m(null);try{const F=await(await fetch(`https://geocoding-api.open-meteo.com/v1/search?name=${encodeURIComponent(N)}&count=1&language=en&format=json`)).json();if(!F.results||F.results.length===0){m("Location not found"),c(!1);return}const{latitude:A,longitude:E,name:x,country:R}=F.results[0],k=await(await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${A}&longitude=${E}&current=temperature_2m,relative_humidity_2m,weather_code,wind_speed_10m&daily=weather_code,temperature_2m_max,temperature_2m_min&temperature_unit=fahrenheit&wind_speed_unit=mph&timezone=auto&forecast_days=5`)).json();a({city:x,country:R,temperature:Math.round(k.current.temperature_2m),humidity:k.current.relative_humidity_2m,windSpeed:Math.round(k.current.wind_speed_10m),weatherCode:k.current.weather_code});const T=k.daily.time.map(($,te)=>({date:new Date($).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),maxTemp:Math.round(k.daily.temperature_2m_max[te]),minTemp:Math.round(k.daily.temperature_2m_min[te]),weatherCode:k.daily.weather_code[te]}));o(T)}catch(L){console.error("Error fetching weather:",L),m("Failed to load weather data")}finally{c(!1)}},C=N=>{e(N),y(!1),r("")},v=N=>{N.preventDefault(),n.trim()&&C(n.trim())},_=N=>N===0||N===1?h.jsx(Wj,{className:"w-8 h-8",style:{color:"#FCD34D"}}):N===2||N===3?h.jsx(xp,{className:"w-8 h-8",style:{color:"#9CA3AF"}}):N>=51&&N<=67?h.jsx(wp,{className:"w-8 h-8",style:{color:"#60A5FA"}}):N>=71&&N<=77?h.jsx(mj,{className:"w-8 h-8",style:{color:"#93C5FD"}}):N>=80?h.jsx(wp,{className:"w-8 h-8",style:{color:"#3B82F6"}}):h.jsx(xp,{className:"w-8 h-8",style:{color:"#9CA3AF"}}),S=N=>N===0?"Clear sky":N===1?"Mainly clear":N===2?"Partly cloudy":N===3?"Overcast":N>=51&&N<=67?"Rainy":N>=71&&N<=77?"Snowy":N>=80?"Rain showers":"Cloudy";return h.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center gap-2",children:[h.jsx(xp,{className:"w-5 h-5",style:{color:H.primary.teal}}),"Weather"]}),h.jsx("button",{onClick:()=>y(!p),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Change location",children:h.jsx(Fj,{className:"w-5 h-5 text-gray-600"})})]}),p&&h.jsxs("div",{className:"mb-4 space-y-3",children:[h.jsxs("form",{onSubmit:v,className:"flex gap-2",children:[h.jsx("input",{type:"text",value:n,onChange:N=>r(N.target.value),placeholder:"Enter city name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"}),h.jsx("button",{type:"submit",style:{backgroundColor:H.primary.teal},className:"px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:"Search"})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Popular locations:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(N=>h.jsx("button",{onClick:()=>C(N),className:"px-3 py-1 bg-gray-100 hover:bg-gray-200 rounded-full text-xs text-gray-700 transition-colors",children:N},N))})]})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(Dj,{className:"w-4 h-4",style:{color:H.primary.teal}}),h.jsx("span",{className:"text-sm font-medium text-gray-700",children:i?`${i.city}, ${i.country}`:t})]}),u&&h.jsx("div",{className:"text-center py-8",children:h.jsx("div",{className:"text-gray-500 text-sm",children:"Loading weather..."})}),f&&!u&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"text-red-500 text-sm",children:f}),h.jsx("button",{onClick:()=>I(t),className:"mt-2 text-blue-600 hover:text-blue-700 text-sm",children:"Try again"})]}),i&&!u&&!f&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex items-center justify-between mb-6 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"text-4xl font-bold text-gray-900",children:[i.temperature,"F"]}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:S(i.weatherCode)})]}),h.jsx("div",{children:_(i.weatherCode)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(t3,{className:"w-4 h-4 text-gray-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-gray-500",children:"Wind"}),h.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[i.windSpeed," mph"]})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(wp,{className:"w-4 h-4 text-gray-400"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-gray-500",children:"Humidity"}),h.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:[i.humidity,"%"]})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"5-Day Forecast"}),h.jsx("div",{className:"space-y-2",children:s.map((N,L)=>h.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"scale-75",children:_(N.weatherCode)}),h.jsx("span",{className:"text-xs text-gray-700",children:N.date})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[N.maxTemp,""]}),h.jsxs("span",{className:"text-sm text-gray-500",children:[N.minTemp,""]})]})]},L))})]})]})]})},w7=({className:t="",size:e="md"})=>{const n={sm:{width:"80px",fontSize:"14px",subSize:"10px"},md:{width:"120px",fontSize:"20px",subSize:"12px"},lg:{width:"160px",fontSize:"28px",subSize:"16px"}},r=n[e]||n.md;return h.jsx("div",{className:`flex items-center gap-3 ${t}`,children:h.jsx("div",{style:{backgroundColor:H.primary.teal,width:r.width,aspectRatio:"1",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(0, 188, 212, 0.3)"},children:h.jsxs("div",{style:{textAlign:"center",color:H.primary.white},children:[h.jsx("div",{style:{fontSize:r.fontSize,fontWeight:"bold",letterSpacing:"2px",lineHeight:"1"},children:"IVRI"}),h.jsx("div",{style:{fontSize:r.subSize,letterSpacing:"1px",marginTop:"4px",opacity:.9},children:"TOURS"})]})})})},x7=()=>{const{language:t,setLanguage:e}=xc();return h.jsx("div",{className:"relative",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Tj,{className:"w-4 h-4 text-gray-600"}),h.jsxs("select",{value:t,onChange:n=>e(n.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:border-transparent bg-white cursor-pointer hover:bg-gray-50 transition-colors",style:{focusRing:H.primary.teal},children:[h.jsx("option",{value:"en",children:"English (CA)"}),h.jsx("option",{value:"ru",children:""})]})]})})},g_=({showBackButton:t=!1,title:e="",subtitle:n="",showLogout:r=!0})=>{const i=sc(),a=ni(),{language:s}=xc(),o=p_[s],u=async()=>{try{await Z9(m_),i("/login")}catch(y){console.error("Error logging out:",y)}},c=()=>{i("/")},f=a.pathname==="/",m=a.pathname==="/gift-cards",p=a.pathname.includes("/register/");return h.jsx("div",{className:"bg-white shadow",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:h.jsxs("div",{className:"flex justify-between items-center gap-2 sm:gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[t&&h.jsx("button",{onClick:c,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors flex-shrink-0",title:o.backToDashboard,children:h.jsx(SE,{className:"w-6 h-6"})}),h.jsx(w7,{size:"md"}),h.jsx("div",{className:"min-w-0 flex-1",children:f?h.jsxs(h.Fragment,{children:[h.jsxs("h1",{className:"text-base sm:text-2xl font-bold text-gray-900 truncate",children:[h.jsx("span",{className:"hidden sm:inline",children:o.dashboard}),h.jsx("span",{className:"sm:hidden",children:o.dashboardShort})]}),h.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:o.irviTours})]}):e?h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 truncate",children:e}),n&&h.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:n})]}):h.jsxs(h.Fragment,{children:[h.jsx("h1",{className:"text-base sm:text-2xl font-bold text-gray-900 truncate",children:o.irviTours}),h.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-1",children:o.tripManagement})]})})]}),h.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[h.jsx(x7,{}),!p&&h.jsxs(h.Fragment,{children:[f&&h.jsxs("button",{onClick:()=>i("/gift-cards"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:H.primary.teal},title:"Gift Cards",children:[h.jsx(zr,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Gift Cards"})]}),m&&h.jsxs("button",{onClick:()=>i("/"),className:"flex items-center gap-2 px-3 sm:px-4 py-2 hover:bg-gray-100 rounded-lg transition-colors",style:{color:H.primary.teal},title:"Dashboard",children:[h.jsx(SE,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]})]}),r&&!p&&h.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-3 sm:px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:o.logout,children:[h.jsx(Ij,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:o.logout})]})]})]})})})},T7=()=>{const{language:t}=xc(),e=p_[t],[n,r]=O.useState(new Date),[i,a]=O.useState([]),[s,o]=O.useState(!1),[u,c]=O.useState(null),[f,m]=O.useState(!1),[p,y]=O.useState("date"),[w,I]=O.useState("all"),[C,v]=O.useState(null),[_,S]=O.useState(null),[N,L]=O.useState(null);O.useEffect(()=>{F()},[n,p]);const F=async()=>{m(!0);try{let $;p==="date"?$=await h7(n):$=await c7(),a($)}catch($){console.error("Error loading trips:",$)}finally{m(!1)}},A=async $=>{try{await u7($),o(!1),F()}catch(te){console.error("Error creating trip:",te)}},E=$=>{const te=`${window.location.origin}/PlanYourTripNow/register/${$}`;navigator.clipboard.writeText(te),c($),setTimeout(()=>c(null),2e3)},x=async $=>{if(confirm(e.deleteConfirm)){v($);try{await d7($),F()}catch(te){console.error("Error deleting trip:",te),alert(e.failedToDelete)}finally{v(null)}}},R=async($,te)=>{try{await f7($,te),S(null),F()}catch(M){console.error("Error updating trip:",M),alert(e.failedToUpdate)}},k=(()=>{const $=new Date;$.setHours(0,0,0,0);let te=i;return p==="date"?te=i:p==="upcoming"?te=i.filter(M=>{var q,K;const z=((K=(q=M.date)==null?void 0:q.toDate)==null?void 0:K.call(q))||new Date(M.date);return z.setHours(0,0,0,0),z>=$}):p==="past"&&(te=i.filter(M=>{var q,K;const z=((K=(q=M.date)==null?void 0:q.toDate)==null?void 0:K.call(q))||new Date(M.date);return z.setHours(0,0,0,0),z<$})),w!=="all"&&(te=te.filter(M=>(M.status||"planned")===w)),te})(),T=$=>{switch($||"planned"){case"planned":return{bg:"#FEF3C7",text:"#92400E",label:"Planned"};case"scheduled":return{bg:"#E9D5FF",text:"#6B21A8",label:"Scheduled"};case"done":return{bg:"#D1FAE5",text:"#065F46",label:"Done"};default:return{bg:"#FEF3C7",text:"#92400E",label:"Planned"}}};return h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx(g_,{}),h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:p==="date"?`${e.tripsFor} ${n.toLocaleDateString()}`:p==="all"?e.allTrips:p==="upcoming"?e.currentTrips:e.oldTrips}),h.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[h.jsxs("button",{onClick:()=>y("date"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="date"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="date"?{backgroundColor:H.primary.teal}:{},title:`${e.tripsFor} ${n.toLocaleDateString()}`,children:[h.jsx(wi,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:n.toLocaleDateString()})]}),h.jsxs("button",{onClick:()=>y("all"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="all"?{backgroundColor:H.primary.teal}:{},title:e.showAllTrips,children:[h.jsx(wi,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.allTrips})]}),h.jsxs("button",{onClick:()=>y("upcoming"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="upcoming"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="upcoming"?{backgroundColor:H.primary.teal}:{},title:e.showCurrentTrips,children:[h.jsx(wi,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.currentTrips})]}),h.jsxs("button",{onClick:()=>y("past"),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${p==="past"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:p==="past"?{backgroundColor:H.primary.teal}:{},title:e.showOldTrips,children:[h.jsx(QP,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.oldTrips})]})]}),h.jsxs("div",{className:"flex gap-2 mt-3 flex-wrap",children:[h.jsxs("button",{onClick:()=>I("all"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${w==="all"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:w==="all"?{backgroundColor:H.primary.teal}:{},title:"Show all statuses",children:[h.jsx(wi,{className:"w-4 h-4"}),h.jsx("span",{className:"sm:hidden",children:"A"}),h.jsx("span",{className:"hidden sm:inline",children:"All Status"})]}),h.jsxs("button",{onClick:()=>I("planned"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${w==="planned"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:w==="planned"?{backgroundColor:"#92400E"}:{},title:"Show planned trips",children:[h.jsx(hj,{className:"w-4 h-4"}),h.jsx("span",{className:"sm:hidden",children:"P"}),h.jsx("span",{className:"hidden sm:inline",children:"Planned"})]}),h.jsxs("button",{onClick:()=>I("scheduled"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${w==="scheduled"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:w==="scheduled"?{backgroundColor:"#6B21A8"}:{},title:"Show scheduled trips",children:[h.jsx(wi,{className:"w-4 h-4"}),h.jsx("span",{className:"sm:hidden",children:"S"}),h.jsx("span",{className:"hidden sm:inline",children:"Scheduled"})]}),h.jsxs("button",{onClick:()=>I("done"),className:`flex items-center gap-1 px-2 sm:px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${w==="done"?"text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,style:w==="done"?{backgroundColor:"#065F46"}:{},title:"Show completed trips",children:[h.jsx(eo,{className:"w-4 h-4"}),h.jsx("span",{className:"sm:hidden",children:"D"}),h.jsx("span",{className:"hidden sm:inline",children:"Done"})]})]})]}),h.jsxs("button",{onClick:()=>o(!0),style:{backgroundColor:H.primary.teal},className:"flex items-center gap-2 px-4 py-2 text-white rounded-lg hover:opacity-90 transition-opacity",title:e.createNewTrip,children:[h.jsx(M2,{className:"w-5 h-5"}),h.jsx("span",{className:"hidden sm:inline",children:e.createTrip})]})]}),f?h.jsx("div",{className:"text-center py-12",children:h.jsx("div",{className:"text-gray-500",children:e.loadingTrips})}):k.length===0?h.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[h.jsxs("p",{className:"text-gray-500",children:[p==="date"&&e.noTripsForDate,p==="upcoming"&&e.noUpcomingTrips,p==="past"&&e.noPastTrips,p==="all"&&"No trips found"]}),h.jsx("button",{onClick:()=>o(!0),className:"mt-4 text-blue-600 hover:text-blue-700 font-medium",children:e.createFirstTrip})]}):h.jsx("div",{className:"space-y-3",children:k.map($=>{var te,M;return h.jsx("div",{onClick:()=>L($.id),className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.title}),h.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:T($.status).bg,color:T($.status).text},children:T($.status).label})]}),h.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((M=(te=$.date)==null?void 0:te.toDate)==null?void 0:M.call(te).toLocaleDateString())||new Date($.date).toLocaleDateString()," - ",$.vehicleLayout==="sprinter_15"?e.mercedesSprinterBlack:$.vehicleLayout==="bus_30"?e.mercedesSprinterWhite:$.vehicleLayout==="highlander_7"?e.toyotaHighlander:$.vehicleLayout]}),$.driverName&&h.jsxs("p",{className:"text-sm mt-1",style:{color:"#00BCD4"},children:[e.driver,": ",$.driverName]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",onClick:z=>z.stopPropagation(),children:[$.whatsappGroupLink&&h.jsxs("a",{href:$.whatsappGroupLink,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:"#25D366"},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.joinWhatsappGroup,children:[h.jsx(Mj,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.whatsapp})]}),h.jsx("button",{onClick:()=>E($.id),className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:u===$.id?H.success:H.primary.teal},title:u===$.id?e.linkCopied:e.shareTripLink,children:u===$.id?h.jsxs(h.Fragment,{children:[h.jsx(D2,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.copied})]}):h.jsxs(h.Fragment,{children:[h.jsx(k2,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.share})]})}),h.jsxs("button",{onClick:()=>S($),style:{backgroundColor:H.primary.teal},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",title:e.editTrip,children:[h.jsx(Gj,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:e.edit})]}),h.jsxs("button",{onClick:()=>x($.id),disabled:C===$.id,style:{backgroundColor:H.button.danger},className:"flex items-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",title:e.deleteTrip,children:[h.jsx(o0,{className:"w-4 h-4"}),h.jsx("span",{className:"hidden sm:inline",children:C===$.id?e.deleting:e.delete})]})]})]})},$.id)})})]}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"space-y-4 sticky top-4",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:e.calendar}),h.jsx(FP,{onChange:$=>{r($),y("date")},value:n,className:"border-0 w-full"})]}),h.jsx(E7,{})]})})]})}),s&&h.jsx(g7,{selectedDate:n,onClose:()=>o(!1),onCreate:A}),_&&h.jsx(y7,{trip:_,onClose:()=>S(null),onUpdate:R}),N&&h.jsx(b7,{tripId:N,onClose:()=>L(null)})]})};function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dy.apply(null,arguments)}function S7(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function A7(t,e){if(t==null)return{};var n,r,i=S7(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function N7(t,e,n){return Object.defineProperty(t,"prototype",{writable:!1}),t}function R7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function My(t,e){return My=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},My(t,e)}function C7(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&My(t,e)}function td(t){return td=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},td(t)}function LC(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LC=function(){return!!t})()}function I7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O7(t,e){if(e&&(ky(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I7(t)}function D7(t){var e=LC();return function(){var n,r=td(t);if(e){var i=td(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O7(this,n)}}var VC={exports:{}},k7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M7=k7,P7=M7;function UC(){}function BC(){}BC.resetWarningCache=UC;var j7=function(){function t(r,i,a,s,o,u){if(u!==P7){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:BC,resetWarningCache:UC};return n.PropTypes=n,n};VC.exports=j7();var L7=VC.exports;const sn=nd(L7);/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bzier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bzier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bzier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function ns(t,e,n){this.x=t,this.y=e,this.time=n||new Date().getTime()}ns.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};ns.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};ns.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function y_(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r}y_.prototype.length=function(){for(var t=10,e=0,n=void 0,r=void 0,i=0;i<=t;i+=1){var a=i/t,s=this._point(a,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),o=this._point(a,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var u=s-n,c=o-r;e+=Math.sqrt(u*u+c*c)}n=s,r=o}return e};y_.prototype._point=function(t,e,n,r,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t};function V7(t,e,n){var r,i,a,s=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:Date.now(),s=null,a=t.apply(r,i),s||(r=i=null)};return function(){var c=Date.now();!o&&n.leading===!1&&(o=c);var f=e-(c-o);return r=this,i=arguments,f<=0||f>e?(s&&(clearTimeout(s),s=null),o=c,a=t.apply(r,i),s||(r=i=null)):!s&&n.trailing!==!1&&(s=setTimeout(u,f)),a}}function Re(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.throttle="throttle"in r?r.throttle:16,this.minDistance="minDistance"in r?r.minDistance:5,this.throttle?this._strokeMoveUpdate=V7(Re.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=Re.prototype._strokeUpdate,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onBegin=r.onBegin,this.onEnd=r.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var a=i.changedTouches[0];n._strokeBegin(a)}},this._handleTouchMove=function(i){i.preventDefault();var a=i.targetTouches[0];n._strokeMoveUpdate(a)},this._handleTouchEnd=function(i){var a=i.target===n._canvas;a&&(i.preventDefault(),n._strokeEnd(i))},this.on()}Re.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0};Re.prototype.fromDataURL=function(t){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=new Image,i=n.ratio||window.devicePixelRatio||1,a=n.width||this._canvas.width/i,s=n.height||this._canvas.height/i;this._reset(),r.src=t,r.onload=function(){e._ctx.drawImage(r,0,0,a,s)},this._isEmpty=!1};Re.prototype.toDataURL=function(t){var e;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(e=this._canvas).toDataURL.apply(e,[t].concat(r))}};Re.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};Re.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};Re.prototype.isEmpty=function(){return this._isEmpty};Re.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};Re.prototype._strokeUpdate=function(t){var e=t.clientX,n=t.clientY,r=this._createPoint(e,n),i=this._data[this._data.length-1],a=i&&i[i.length-1],s=a&&r.distanceTo(a)<this.minDistance;if(!(a&&s)){var o=this._addPoint(r),u=o.curve,c=o.widths;u&&c&&this._drawCurve(u,c.start,c.end),this._data[this._data.length-1].push({x:r.x,y:r.y,time:r.time,color:this.penColor})}};Re.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];if(!e&&n&&this._drawDot(n),n){var r=this._data[this._data.length-1],i=r[r.length-1];n.equals(i)||r.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};Re.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};Re.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};Re.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};Re.prototype._createPoint=function(t,e,n){var r=this._canvas.getBoundingClientRect();return new ns(t-r.left,e-r.top,n||new Date().getTime())};Re.prototype._addPoint=function(t){var e=this.points,n=void 0;if(e.push(t),e.length>2){e.length===3&&e.unshift(e[0]),n=this._calculateCurveControlPoints(e[0],e[1],e[2]);var r=n.c2;n=this._calculateCurveControlPoints(e[1],e[2],e[3]);var i=n.c1,a=new y_(e[1],r,i,e[2]),s=this._calculateCurveWidths(a);return e.shift(),{curve:a,widths:s}}return{}};Re.prototype._calculateCurveControlPoints=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,a=e.x-n.x,s=e.y-n.y,o={x:(t.x+e.x)/2,y:(t.y+e.y)/2},u={x:(e.x+n.x)/2,y:(e.y+n.y)/2},c=Math.sqrt(r*r+i*i),f=Math.sqrt(a*a+s*s),m=o.x-u.x,p=o.y-u.y,y=f/(c+f),w={x:u.x+m*y,y:u.y+p*y},I=e.x-w.x,C=e.y-w.y;return{c1:new ns(o.x+I,o.y+C),c2:new ns(u.x+I,u.y+C)}};Re.prototype._calculateCurveWidths=function(t){var e=t.startPoint,n=t.endPoint,r={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(e)+(1-this.velocityFilterWeight)*this._lastVelocity,a=this._strokeWidth(i);return r.start=this._lastWidth,r.end=a,this._lastVelocity=i,this._lastWidth=a,r};Re.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};Re.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1};Re.prototype._drawCurve=function(t,e,n){var r=this._ctx,i=n-e,a=Math.floor(t.length());r.beginPath();for(var s=0;s<a;s+=1){var o=s/a,u=o*o,c=u*o,f=1-o,m=f*f,p=m*f,y=p*t.startPoint.x;y+=3*m*o*t.control1.x,y+=3*f*u*t.control2.x,y+=c*t.endPoint.x;var w=p*t.startPoint.y;w+=3*m*o*t.control1.y,w+=3*f*u*t.control2.y,w+=c*t.endPoint.y;var I=e+c*i;this._drawPoint(y,w,I)}r.closePath(),r.fill()};Re.prototype._drawDot=function(t){var e=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()};Re.prototype._fromData=function(t,e,n){for(var r=0;r<t.length;r+=1){var i=t[r];if(i.length>1)for(var a=0;a<i.length;a+=1){var s=i[a],o=new ns(s.x,s.y,s.time),u=s.color;if(a===0)this.penColor=u,this._reset(),this._addPoint(o);else if(a!==i.length-1){var c=this._addPoint(o),f=c.curve,m=c.widths;f&&m&&e(f,m,u)}}else{this._reset();var p=i[0];n(p)}}};Re.prototype._toSVG=function(){var t=this,e=this._data,n=this._canvas,r=Math.max(window.devicePixelRatio||1,1),i=0,a=0,s=n.width/r,o=n.height/r,u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.setAttributeNS(null,"width",n.width),u.setAttributeNS(null,"height",n.height),this._fromData(e,function(v,_,S){var N=document.createElement("path");if(!isNaN(v.control1.x)&&!isNaN(v.control1.y)&&!isNaN(v.control2.x)&&!isNaN(v.control2.y)){var L="M "+v.startPoint.x.toFixed(3)+","+v.startPoint.y.toFixed(3)+" "+("C "+v.control1.x.toFixed(3)+","+v.control1.y.toFixed(3)+" ")+(v.control2.x.toFixed(3)+","+v.control2.y.toFixed(3)+" ")+(v.endPoint.x.toFixed(3)+","+v.endPoint.y.toFixed(3));N.setAttribute("d",L),N.setAttribute("stroke-width",(_.end*2.25).toFixed(3)),N.setAttribute("stroke",S),N.setAttribute("fill","none"),N.setAttribute("stroke-linecap","round"),u.appendChild(N)}},function(v){var _=document.createElement("circle"),S=typeof t.dotSize=="function"?t.dotSize():t.dotSize;_.setAttribute("r",S),_.setAttribute("cx",v.x),_.setAttribute("cy",v.y),_.setAttribute("fill",v.color),u.appendChild(_)});var c="data:image/svg+xml;base64,",f='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+a+" "+s+" "+o+'"')+(' width="'+s+'"')+(' height="'+o+'"')+">",m=u.innerHTML;if(m===void 0){var p=document.createElement("dummy"),y=u.childNodes;p.innerHTML="";for(var w=0;w<y.length;w+=1)p.appendChild(y[w].cloneNode(!0));m=p.innerHTML}var I="</svg>",C=f+m+I;return c+btoa(C)};Re.prototype.fromData=function(t){var e=this;this.clear(),this._fromData(t,function(n,r){return e._drawCurve(n,r.start,r.end)},function(n){return e._drawDot(n)}),this._data=t};Re.prototype.toData=function(){return this._data};var zC={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(PI,function(){return function(n){function r(a){if(i[a])return i[a].exports;var s=i[a]={exports:{},id:a,loaded:!1};return n[a].call(s.exports,s,s.exports,r),s.loaded=!0,s.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(n,r){function i(c){var f=c.getContext("2d"),m=c.width,p=c.height,y=f.getImageData(0,0,m,p).data,w=o(!0,m,p,y),I=o(!1,m,p,y),C=u(!0,m,p,y),v=u(!1,m,p,y),_=v-C+1,S=I-w+1,N=f.getImageData(C,w,_,S);return c.width=_,c.height=S,f.clearRect(0,0,_,S),f.putImageData(N,0,0),c}function a(c,f,m,p){return{red:p[4*(m*f+c)],green:p[4*(m*f+c)+1],blue:p[4*(m*f+c)+2],alpha:p[4*(m*f+c)+3]}}function s(c,f,m,p){return a(c,f,m,p).alpha}function o(c,f,m,p){for(var y=c?1:-1,w=c?0:m-1,I=w;c?I<m:I>-1;I+=y)for(var C=0;C<f;C++)if(s(C,I,f,p))return I;return null}function u(c,f,m,p){for(var y=c?1:-1,w=c?0:f-1,I=w;c?I<f:I>-1;I+=y)for(var C=0;C<m;C++)if(s(I,C,f,p))return I;return null}Object.defineProperty(r,"__esModule",{value:!0}),r.default=i}])})})(zC);var U7=zC.exports;const B7=nd(U7);var z7=["canvasProps","clearOnResize"],om=function(t){C7(n,t);var e=D7(n);function n(){var r;R7(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=e.call.apply(e,[this].concat(a)),r.staticThis=r.constructor,r._sigPad=null,r._canvas=null,r.setRef=function(o){r._canvas=o,r._canvas===null&&(r._sigPad=null)},r._excludeOurProps=function(){var o=r.props;o.canvasProps,o.clearOnResize;var u=A7(o,z7);return u},r.componentDidMount=function(){var o=r.getCanvas();r._sigPad=new Re(o,r._excludeOurProps()),r._resizeCanvas(),r.on()},r.componentWillUnmount=function(){r.off()},r.componentDidUpdate=function(){Object.assign(r._sigPad,r._excludeOurProps())},r.getCanvas=function(){if(r._canvas===null)throw r.staticThis.refNullError;return r._canvas},r.getTrimmedCanvas=function(){var o=r.getCanvas(),u=document.createElement("canvas");return u.width=o.width,u.height=o.height,u.getContext("2d").drawImage(o,0,0),B7(u)},r.getSignaturePad=function(){if(r._sigPad===null)throw r.staticThis.refNullError;return r._sigPad},r._checkClearOnResize=function(){r.props.clearOnResize&&r._resizeCanvas()},r._resizeCanvas=function(){var o,u,c=(o=r.props.canvasProps)!==null&&o!==void 0?o:{},f=c.width,m=c.height;if(!(typeof f<"u"&&typeof m<"u")){var p=r.getCanvas(),y=Math.max((u=window.devicePixelRatio)!==null&&u!==void 0?u:1,1);typeof f>"u"&&(p.width=p.offsetWidth*y),typeof m>"u"&&(p.height=p.offsetHeight*y),p.getContext("2d").scale(y,y),r.clear()}},r.render=function(){var o=r.props.canvasProps;return eO.createElement("canvas",Dy({ref:r.setRef},o))},r.on=function(){return window.addEventListener("resize",r._checkClearOnResize),r.getSignaturePad().on()},r.off=function(){return window.removeEventListener("resize",r._checkClearOnResize),r.getSignaturePad().off()},r.clear=function(){return r.getSignaturePad().clear()},r.isEmpty=function(){return r.getSignaturePad().isEmpty()},r.fromDataURL=function(o,u){return r.getSignaturePad().fromDataURL(o,u)},r.toDataURL=function(o,u){return r.getSignaturePad().toDataURL(o,u)},r.fromData=function(o){return r.getSignaturePad().fromData(o)},r.toData=function(){return r.getSignaturePad().toData()},r}return N7(n)}(O.Component);om.propTypes={velocityFilterWeight:sn.number,minWidth:sn.number,maxWidth:sn.number,minDistance:sn.number,dotSize:sn.oneOfType([sn.number,sn.func]),penColor:sn.string,throttle:sn.number,onEnd:sn.func,onBegin:sn.func,canvasProps:sn.object,clearOnResize:sn.bool};om.defaultProps={clearOnResize:!0};om.refNullError=new Error("react-signature-canvas is currently mounting or unmounting: React refs are null during this phase.");const $7=`CANCELLATION POLICY

1. Cancellations made 30 days or more before the trip date will receive a full refund.
2. Cancellations made 15-29 days before the trip date will receive a 50% refund.
3. Cancellations made less than 15 days before the trip date are non-refundable.
4. No-shows on the trip date are non-refundable.
5. Trip organizers reserve the right to cancel trips due to weather, safety concerns, or insufficient participation, in which case full refunds will be provided.`,F7=`WAIVER OF LIABILITY AND ASSUMPTION OF RISK

I, the undersigned, hereby acknowledge that I am voluntarily participating in this trip and related activities. I understand that such participation involves inherent risks, including but not limited to personal injury, property damage, or death.

In consideration of being permitted to participate in this trip, I hereby:

1. WAIVE, RELEASE, AND DISCHARGE the trip organizers, their officers, employees, and agents from any and all liability for any loss, damage, injury, or death that may occur during my participation.

2. ASSUME ALL RISKS associated with participation in this trip, whether known or unknown.

3. AGREE TO INDEMNIFY AND HOLD HARMLESS the trip organizers from any claims, actions, or losses arising from my participation.

4. CONSENT to receive emergency medical treatment if necessary.

I have read this waiver, fully understand its terms, and sign it freely and voluntarily.`,q7=()=>{var $,te;const{tripId:t}=QA();sc();const e=O.useRef(null),{language:n}=xc(),[r,i]=O.useState(null),[a,s]=O.useState([]),[o,u]=O.useState(!0),[c,f]=O.useState(!1),[m,p]=O.useState(!1),[y,w]=O.useState(1),[I,C]=O.useState([]),[v,_]=O.useState([{firstName:"",lastName:"",email:"",phone:"",seatNumber:null}]),[S,N]=O.useState("on-trip"),[L,F]=O.useState(!1),[A,E]=O.useState({cancellationPolicy:!1,waiver:!1}),[x,R]=O.useState({});O.useEffect(()=>{D()},[t]),O.useEffect(()=>{const M=Array.from({length:y},(z,q)=>v[q]||{firstName:"",lastName:"",email:"",phone:"",seatNumber:null});_(M),C(M.map(z=>z.seatNumber).filter(Boolean))},[y]);const D=async()=>{try{console.log("Loading trip with ID:",t);const[M,z]=await Promise.all([DC(t),m7(t)]);console.log("Trip data loaded:",M),console.log("Registrations loaded:",z),i(M),s(z)}catch(M){console.error("Error loading trip data:",M),alert("Error loading trip: "+M.message)}finally{u(!1)}},k=()=>{var z;const M={};return v.forEach((q,K)=>{q.firstName.trim()||(M[`passenger${K}FirstName`]="First name is required"),q.lastName.trim()||(M[`passenger${K}LastName`]="Last name is required"),q.email.trim()?/\S+@\S+\.\S+/.test(q.email)||(M[`passenger${K}Email`]="Email is invalid"):M[`passenger${K}Email`]="Email is required",q.phone.trim()||(M[`passenger${K}Phone`]="Phone number is required"),q.seatNumber||(M[`passenger${K}Seat`]="Please select a seat")}),A.cancellationPolicy||(M.cancellationPolicy="You must agree to the cancellation policy"),A.waiver||(M.waiver="You must sign the waiver"),(z=e.current)!=null&&z.isEmpty()&&(M.signature="Signature is required"),R(M),Object.keys(M).length===0},T=async M=>{if(M.preventDefault(),!!k()){f(!0);try{const z=e.current.toDataURL();for(const q of v)await kC({tripId:t,firstName:q.firstName,lastName:q.lastName,email:q.email,phone:q.phone,seatNumber:q.seatNumber,paymentMethod:S,paid:!1,signatureData:z,signatureUrl:"",pdfUrl:"",agreedToCancellationPolicy:!0,agreedToWaiver:!0,adminEmail:"barpupco@gmail.com",registrationDate:new Date().toISOString()});p(!0)}catch(z){console.error("Error submitting registration:",z),R({submit:"Failed to submit registration. Please try again."})}finally{f(!1)}}};return o?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-lg",children:"Loading trip information..."})}):r?m?h.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full text-center",children:[h.jsx(eo,{className:"w-16 h-16 mx-auto mb-4",style:{color:H.success}}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),h.jsxs("p",{className:"text-gray-600 mb-4",children:["Thank you for registering for ",h.jsx("span",{className:"font-semibold",children:r.title}),"."]}),h.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),h.jsxs("div",{className:"text-left",children:[h.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Confirmation Email Sent!"}),h.jsx("p",{className:"text-xs text-blue-700",children:"A confirmation email with your trip details and signed waiver has been sent to:"}),h.jsx("p",{className:"text-sm font-semibold text-blue-900 mt-1",children:v[0].email}),v.length>1&&h.jsx("p",{className:"text-xs text-blue-700 mt-2",children:"Each passenger will receive their own confirmation email."})]})]})}),h.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"#E0F7FA"},children:[h.jsx("p",{className:"font-semibold mb-2",style:{color:H.primary.teal},children:v.length===1?"Your Seat:":"Your Seats:"}),h.jsx("p",{className:"text-lg font-bold",children:v.map(M=>`#${M.seatNumber}`).join(", ")})]}),h.jsxs("div",{className:"mt-6 text-sm text-gray-600",children:[h.jsx("p",{children:"Please check your email inbox and spam folder."}),h.jsx("p",{className:"mt-2",children:"If you don't receive the email within 10 minutes, please contact support."})]})]})}):h.jsxs("div",{className:"min-h-screen",style:{background:"linear-gradient(135deg, #E0F7FA 0%, #B2EBF2 100%)"},children:[h.jsx(g_,{showLogout:!1,title:r.title,subtitle:($=r.date)==null?void 0:$.toDate().toLocaleDateString(n==="ru"?"ru-RU":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),h.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:h.jsxs("form",{onSubmit:T,className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Number of Seats"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many seats do you need? *"}),h.jsx("select",{value:y,onChange:M=>w(parseInt(M.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[1,2,3,4,5].map(M=>h.jsxs("option",{value:M,children:[M," ",M===1?"seat":"seats"]},M))})]})]}),v.map((M,z)=>h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Passenger ",z+1," Information"]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),h.jsx("input",{type:"text",value:M.firstName,onChange:q=>{const K=[...v];K[z].firstName=q.target.value,_(K)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x[`passenger${z}FirstName`]?"border-red-500":"border-gray-300"}`}),x[`passenger${z}FirstName`]&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:x[`passenger${z}FirstName`]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),h.jsx("input",{type:"text",value:M.lastName,onChange:q=>{const K=[...v];K[z].lastName=q.target.value,_(K)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x[`passenger${z}LastName`]?"border-red-500":"border-gray-300"}`}),x[`passenger${z}LastName`]&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:x[`passenger${z}LastName`]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),h.jsx("input",{type:"email",value:z===0||!L?M.email:v[0].email,onChange:q=>{const K=[...v];K[z].email=q.target.value,_(K),z===0&&L&&(K.forEach((X,xe)=>{xe>0&&(X.email=q.target.value)}),_(K))},disabled:z>0&&L,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x[`passenger${z}Email`]?"border-red-500":"border-gray-300"} ${z>0&&L?"bg-gray-100":""}`}),x[`passenger${z}Email`]&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:x[`passenger${z}Email`]}),z===0&&y>1&&h.jsxs("label",{className:"flex items-center mt-2 text-sm text-gray-600",children:[h.jsx("input",{type:"checkbox",checked:L,onChange:q=>{if(F(q.target.checked),q.target.checked){const K=[...v],X=v[0].email;K.forEach((xe,ut)=>{ut>0&&(xe.email=X)}),_(K)}},className:"mr-2",style:{accentColor:H.primary.teal}}),"Use this email for all passengers"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),h.jsx("input",{type:"tel",value:M.phone,onChange:q=>{const K=[...v];K[z].phone=q.target.value,_(K)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x[`passenger${z}Phone`]?"border-red-500":"border-gray-300"}`}),x[`passenger${z}Phone`]&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:x[`passenger${z}Phone`]})]})]})]},z)),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Payment Method"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:S==="card"?H.primary.teal:"#D1D5DB"},children:[h.jsx("input",{type:"radio",value:"card",checked:S==="card",onChange:M=>N(M.target.value),className:"mr-3",style:{accentColor:H.primary.teal}}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Pay with Card"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Pay now using credit/debit card"})]})]}),h.jsxs("label",{className:"flex items-center p-3 border rounded-lg cursor-pointer hover:bg-gray-50 transition-colors",style:{borderColor:S==="on-trip"?H.primary.teal:"#D1D5DB"},children:[h.jsx("input",{type:"radio",value:"on-trip",checked:S==="on-trip",onChange:M=>N(M.target.value),className:"mr-3",style:{accentColor:H.primary.teal}}),h.jsxs("div",{children:[h.jsx("div",{className:"font-medium text-gray-900",children:"Pay on Trip"}),h.jsx("div",{className:"text-sm text-gray-500",children:"Pay cash/card on the day of the trip"})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Assign Seats to Passengers *"}),h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a seat for each passenger from the dropdown below."}),v.map((M,z)=>{const q=r.vehicleLayout,K=q==="sprinter_15"?14:q==="bus_30"?11:7;return h.jsxs("div",{className:"mb-4 p-4 bg-gray-50 rounded-lg",children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Seat for Passenger ",z+1,": ",M.firstName||"(Not entered)"," ",M.lastName||""," *"]}),h.jsxs("select",{value:M.seatNumber||"",onChange:X=>{const xe=[...v];xe[z].seatNumber=X.target.value?parseInt(X.target.value):null,_(xe)},className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${x[`passenger${z}Seat`]?"border-red-500":"border-gray-300"}`,children:[h.jsx("option",{value:"",children:"Select a seat"}),Array.from({length:K},(X,xe)=>xe+1).map(X=>{const xe=a.some(Qe=>Qe.seatNumber===X),ut=v.some((Qe,Ht)=>Ht!==z&&Qe.seatNumber===X),qt=xe||ut;return h.jsxs("option",{value:X,disabled:qt,children:["Seat #",X," ",xe?"(Occupied)":ut?"(Selected for another passenger)":""]},X)})]}),x[`passenger${z}Seat`]&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:x[`passenger${z}Seat`]})]},z)}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Seating Map - Click to Select Seats"}),h.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Tap on available (gray) seats to assign them to your passengers"}),v.some(M=>!M.seatNumber)&&h.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:h.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: Select seat for Passenger ",v.findIndex(M=>!M.seatNumber)+1,((te=v[v.findIndex(M=>!M.seatNumber)])==null?void 0:te.firstName)&&` (${v[v.findIndex(M=>!M.seatNumber)].firstName})`]})}),h.jsx(PC,{vehicleType:r.vehicleLayout,registrations:a,driverName:r.driverName,selectedSeat:null,onSeatClick:M=>{const z=v.findIndex(q=>!q.seatNumber);if(z!==-1){const q=[...v];q[z].seatNumber=M,_(q)}},reservedSeats:v.map(M=>M.seatNumber).filter(Boolean)}),v.some(M=>M.seatNumber)&&h.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Seats:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:v.map((M,z)=>M.seatNumber&&h.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-white border border-gray-300 rounded-full text-sm",children:[h.jsxs("span",{className:"font-semibold",children:["#",M.seatNumber]}),h.jsx("span",{className:"text-gray-600",children:M.firstName||`Passenger ${z+1}`}),h.jsx("button",{type:"button",onClick:()=>{const q=[...v];q[z].seatNumber=null,_(q)},className:"text-red-500 hover:text-red-700",children:""})]},z))})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Cancellation Policy"}),h.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-48 overflow-y-auto mb-4",children:h.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:$7})}),h.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:A.cancellationPolicy,onChange:M=>E({...A,cancellationPolicy:M.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"I have read and agree to the cancellation policy *"})]}),x.cancellationPolicy&&h.jsx("p",{className:"text-red-500 text-sm mt-2",children:x.cancellationPolicy})]}),h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Waiver of Liability"}),h.jsx("div",{className:"bg-gray-50 p-4 rounded-lg max-h-64 overflow-y-auto mb-4",children:h.jsx("pre",{className:"whitespace-pre-wrap text-sm text-gray-700 font-sans",children:F7})}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Digital Signature *"}),h.jsx("div",{className:`border-2 rounded-lg ${x.signature?"border-red-500":"border-gray-300"}`,children:h.jsx(om,{ref:e,canvasProps:{className:"w-full h-40 bg-white rounded-lg"}})}),h.jsx("button",{type:"button",onClick:()=>{var M;return(M=e.current)==null?void 0:M.clear()},className:"mt-2 text-sm text-blue-600 hover:text-blue-700",children:"Clear Signature"}),x.signature&&h.jsx("p",{className:"text-red-500 text-sm mt-1",children:x.signature})]}),h.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:A.waiver,onChange:M=>E({...A,waiver:M.target.checked}),className:"mt-1 w-5 h-5 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),h.jsx("span",{className:"text-sm text-gray-700",children:"I have read, understand, and agree to the waiver of liability *"})]}),x.waiver&&h.jsx("p",{className:"text-red-500 text-sm mt-2",children:x.waiver})]}),x.submit&&h.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 p-4 rounded-lg",children:x.submit}),h.jsx("button",{type:"submit",disabled:c,style:{backgroundColor:H.primary.teal},className:"w-full text-white py-4 rounded-lg font-bold text-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Submitting...":"Complete Registration"})]})})]}):h.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:h.jsxs("div",{className:"text-center max-w-md",children:[h.jsx(oj,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trip Not Found"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"This trip link may be invalid or expired."}),h.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg text-left",children:[h.jsxs("p",{className:"text-sm text-gray-700",children:[h.jsx("strong",{children:"Trip ID:"})," ",t]}),h.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"If you believe this is an error, please contact the trip organizer."})]})]})})},H7=()=>{const[t,e]=O.useState(""),[n,r]=O.useState(""),[i,a]=O.useState(""),[s,o]=O.useState(!1),u=sc(),c=async f=>{f.preventDefault(),a(""),o(!0);try{await K9(m_,t,n),u("/")}catch(m){a("Invalid email or password"),console.error(m)}finally{o(!1)}};return h.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",style:{background:H.gradient.primary},children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 w-full max-w-md",children:[h.jsx("div",{className:"flex items-center justify-center mb-8",children:h.jsx(Rj,{className:"w-12 h-12",style:{color:H.primary.teal}})}),h.jsx("h1",{className:"text-3xl font-bold text-center mb-8",style:{color:H.primary.black},children:"Admin Login"}),h.jsxs("form",{onSubmit:c,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",value:t,onChange:f=>e(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),h.jsx("input",{type:"password",value:n,onChange:f=>r(f.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#00BCD4] focus:border-transparent",required:!0})]}),i&&h.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:i}),h.jsx("button",{type:"submit",disabled:s,style:{backgroundColor:H.primary.teal},className:"w-full text-white py-3 rounded-lg font-semibold hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Signing in...":"Sign In"})]})]})})};var v_={},lm={},Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});function G7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Y7=function t(e,n){G7(this,t),this.data=e,this.text=n.text||e,this.options=n};Ft.default=Y7;Object.defineProperty(lm,"__esModule",{value:!0});lm.CODE39=void 0;var W7=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),K7=Ft,Q7=X7(K7);function X7(t){return t&&t.__esModule?t:{default:t}}function J7(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z7(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ez(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var tz=function(t){ez(e,t);function e(n,r){return J7(this,e),n=n.toUpperCase(),r.mod43&&(n+=iz(az(n))),Z7(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return W7(e,[{key:"encode",value:function(){for(var r=Bp("*"),i=0;i<this.data.length;i++)r+=Bp(this.data[i])+"0";return r+=Bp("*"),{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(Q7.default),$C=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],nz=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function Bp(t){return rz(FC(t))}function rz(t){return nz[t].toString(2)}function iz(t){return $C[t]}function FC(t){return $C.indexOf(t)}function az(t){for(var e=0,n=0;n<t.length;n++)e+=FC(t[n]);return e=e%43,e}lm.CODE39=tz;var ur={},__={},nl={},Le={};Object.defineProperty(Le,"__esModule",{value:!0});var Vl;function zp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var qC=Le.SET_A=0,HC=Le.SET_B=1,GC=Le.SET_C=2;Le.SHIFT=98;var sz=Le.START_A=103,oz=Le.START_B=104,lz=Le.START_C=105;Le.MODULO=103;Le.STOP=106;Le.FNC1=207;Le.SET_BY_CODE=(Vl={},zp(Vl,sz,qC),zp(Vl,oz,HC),zp(Vl,lz,GC),Vl);Le.SWAP={101:qC,100:HC,99:GC};Le.A_START_CHAR="";Le.B_START_CHAR="";Le.C_START_CHAR="";Le.A_CHARS="[\0-_-]";Le.B_CHARS="[ --]";Le.C_CHARS="(*[0-9]{2}*)";Le.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty(nl,"__esModule",{value:!0});var uz=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),cz=Ft,hz=fz(cz),on=Le;function fz(t){return t&&t.__esModule?t:{default:t}}function dz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gz=function(t){pz(e,t);function e(n,r){dz(this,e);var i=mz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.substring(1),r));return i.bytes=n.split("").map(function(a){return a.charCodeAt(0)}),i}return uz(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.bytes,i=r.shift()-105,a=on.SET_BY_CODE[i];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&r.unshift(on.FNC1);var s=e.next(r,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(i)+s.result+e.getBar((s.checksum+i)%on.MODULO)+e.getBar(on.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var r=this.options.ean128||!1;return typeof r=="string"&&(r=r.toLowerCase()==="true"),r}}],[{key:"getBar",value:function(r){return on.BARS[r]?on.BARS[r].toString():""}},{key:"correctIndex",value:function(r,i){if(i===on.SET_A){var a=r.shift();return a<32?a+64:a-32}else return i===on.SET_B?r.shift()-32:(r.shift()-48)*10+r.shift()-48}},{key:"next",value:function(r,i,a){if(!r.length)return{result:"",checksum:0};var s=void 0,o=void 0;if(r[0]>=200){o=r.shift()-105;var u=on.SWAP[o];u!==void 0?s=e.next(r,i+1,u):((a===on.SET_A||a===on.SET_B)&&o===on.SHIFT&&(r[0]=a===on.SET_A?r[0]>95?r[0]-96:r[0]:r[0]<32?r[0]+96:r[0]),s=e.next(r,i+1,a))}else o=e.correctIndex(r,a),s=e.next(r,i+1,a);var c=e.getBar(o),f=o*i;return{result:c+s.result,checksum:f+s.checksum}}}]),e}(hz.default);nl.default=gz;var b_={};Object.defineProperty(b_,"__esModule",{value:!0});var Yi=Le,YC=function(e){return e.match(new RegExp("^"+Yi.A_CHARS+"*"))[0].length},WC=function(e){return e.match(new RegExp("^"+Yi.B_CHARS+"*"))[0].length},KC=function(e){return e.match(new RegExp("^"+Yi.C_CHARS+"*"))[0]};function E_(t,e){var n=e?Yi.A_CHARS:Yi.B_CHARS,r=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+""+QC(t.substring(r[1].length));var i=t.match(new RegExp("^"+n+"+"))[0];return i.length===t.length?t:i+String.fromCharCode(e?205:206)+E_(t.substring(i.length),!e)}function QC(t){var e=KC(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=YC(t)>=WC(t);return e+String.fromCharCode(r?206:205)+E_(t,r)}b_.default=function(t){var e=void 0,n=KC(t).length;if(n>=2)e=Yi.C_START_CHAR+QC(t);else{var r=YC(t)>WC(t);e=(r?Yi.A_START_CHAR:Yi.B_START_CHAR)+E_(t,r)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(i,a){return""+a})};Object.defineProperty(__,"__esModule",{value:!0});var yz=nl,vz=XC(yz),_z=b_,bz=XC(_z);function XC(t){return t&&t.__esModule?t:{default:t}}function Ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xz=function(t){wz(e,t);function e(n,r){if(Ez(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var i=$p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,bz.default)(n),r));else var i=$p(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return $p(i)}return e}(vz.default);__.default=xz;var w_={};Object.defineProperty(w_,"__esModule",{value:!0});var Tz=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Sz=nl,Az=Nz(Sz),Ex=Le;function Nz(t){return t&&t.__esModule?t:{default:t}}function Rz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Iz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Oz=function(t){Iz(e,t);function e(n,r){return Rz(this,e),Cz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Ex.A_START_CHAR+n,r))}return Tz(e,[{key:"valid",value:function(){return new RegExp("^"+Ex.A_CHARS+"+$").test(this.data)}}]),e}(Az.default);w_.default=Oz;var x_={};Object.defineProperty(x_,"__esModule",{value:!0});var Dz=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),kz=nl,Mz=Pz(kz),wx=Le;function Pz(t){return t&&t.__esModule?t:{default:t}}function jz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Vz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Uz=function(t){Vz(e,t);function e(n,r){return jz(this,e),Lz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,wx.B_START_CHAR+n,r))}return Dz(e,[{key:"valid",value:function(){return new RegExp("^"+wx.B_CHARS+"+$").test(this.data)}}]),e}(Mz.default);x_.default=Uz;var T_={};Object.defineProperty(T_,"__esModule",{value:!0});var Bz=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),zz=nl,$z=Fz(zz),xx=Le;function Fz(t){return t&&t.__esModule?t:{default:t}}function qz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hz(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Gz(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yz=function(t){Gz(e,t);function e(n,r){return qz(this,e),Hz(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,xx.C_START_CHAR+n,r))}return Bz(e,[{key:"valid",value:function(){return new RegExp("^"+xx.C_CHARS+"+$").test(this.data)}}]),e}($z.default);T_.default=Yz;Object.defineProperty(ur,"__esModule",{value:!0});ur.CODE128C=ur.CODE128B=ur.CODE128A=ur.CODE128=void 0;var Wz=__,Kz=um(Wz),Qz=w_,Xz=um(Qz),Jz=x_,Zz=um(Jz),e$=T_,t$=um(e$);function um(t){return t&&t.__esModule?t:{default:t}}ur.CODE128=Kz.default;ur.CODE128A=Xz.default;ur.CODE128B=Zz.default;ur.CODE128C=t$.default;var Xt={},S_={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.SIDE_BIN="101";Bn.MIDDLE_BIN="01010";Bn.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};Bn.EAN2_STRUCTURE=["LL","LG","GL","GG"];Bn.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];Bn.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var cm={},gs={};Object.defineProperty(gs,"__esModule",{value:!0});var n$=Bn,r$=function(e,n,r){var i=e.split("").map(function(s,o){return n$.BINARIES[n[o]]}).map(function(s,o){return s?s[e[o]]:""});if(r){var a=e.length-1;i=i.map(function(s,o){return o<a?s+r:s})}return i.join("")};gs.default=r$;Object.defineProperty(cm,"__esModule",{value:!0});var i$=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Rs=Bn,a$=gs,Tx=JC(a$),s$=Ft,o$=JC(s$);function JC(t){return t&&t.__esModule?t:{default:t}}function l$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function c$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var h$=function(t){c$(e,t);function e(n,r){l$(this,e);var i=u$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.fontSize=!r.flat&&r.fontSize>r.width*10?r.width*10:r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return i$(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(r,i){return this.text.substr(r,i)}},{key:"leftEncode",value:function(r,i){return(0,Tx.default)(r,i)}},{key:"rightText",value:function(r,i){return this.text.substr(r,i)}},{key:"rightEncode",value:function(r,i){return(0,Tx.default)(r,i)}},{key:"encodeGuarded",value:function(){var r={fontSize:this.fontSize},i={height:this.guardHeight};return[{data:Rs.SIDE_BIN,options:i},{data:this.leftEncode(),text:this.leftText(),options:r},{data:Rs.MIDDLE_BIN,options:i},{data:this.rightEncode(),text:this.rightText(),options:r},{data:Rs.SIDE_BIN,options:i}]}},{key:"encodeFlat",value:function(){var r=[Rs.SIDE_BIN,this.leftEncode(),Rs.MIDDLE_BIN,this.rightEncode(),Rs.SIDE_BIN];return{data:r.join(""),text:this.text}}}]),e}(o$.default);cm.default=h$;Object.defineProperty(S_,"__esModule",{value:!0});var f$=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Ul=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},d$=Bn,m$=cm,p$=g$(m$);function g$(t){return t&&t.__esModule?t:{default:t}}function y$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function _$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Sx=function(e){var n=e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*3:r+i},0);return(10-n%10)%10},b$=function(t){_$(e,t);function e(n,r){y$(this,e),n.search(/^[0-9]{12}$/)!==-1&&(n+=Sx(n));var i=v$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.lastChar=r.lastChar,i}return f$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Sx(this.data)}},{key:"leftText",value:function(){return Ul(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var r=this.data.substr(1,6),i=d$.EAN13_STRUCTURE[this.data[0]];return Ul(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,i)}},{key:"rightText",value:function(){return Ul(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var r=this.data.substr(7,6);return Ul(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRRRR")}},{key:"encodeGuarded",value:function(){var r=Ul(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(r.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(r.push({data:"00"}),r.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),r}}]),e}(p$.default);S_.default=b$;var A_={};Object.defineProperty(A_,"__esModule",{value:!0});var E$=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),yh=function t(e,n,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(i===void 0){var a=Object.getPrototypeOf(e);return a===null?void 0:t(a,n,r)}else{if("value"in i)return i.value;var s=i.get;return s===void 0?void 0:s.call(r)}},w$=cm,x$=T$(w$);function T$(t){return t&&t.__esModule?t:{default:t}}function S$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function N$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ax=function(e){var n=e.substr(0,7).split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i:r+i*3},0);return(10-n%10)%10},R$=function(t){N$(e,t);function e(n,r){return S$(this,e),n.search(/^[0-9]{7}$/)!==-1&&(n+=Ax(n)),A$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return E$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===Ax(this.data)}},{key:"leftText",value:function(){return yh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return yh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return yh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return yh(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),e}(x$.default);A_.default=R$;var N_={};Object.defineProperty(N_,"__esModule",{value:!0});var C$=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),I$=Bn,O$=gs,D$=ZC(O$),k$=Ft,M$=ZC(k$);function ZC(t){return t&&t.__esModule?t:{default:t}}function P$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function L$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var V$=function(e){var n=e.split("").map(function(r){return+r}).reduce(function(r,i,a){return a%2?r+i*9:r+i*3},0);return n%10},U$=function(t){L$(e,t);function e(n,r){return P$(this,e),j$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return C$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var r=I$.EAN5_STRUCTURE[V$(this.data)];return{data:"1011"+(0,D$.default)(this.data,r,"01"),text:this.text}}}]),e}(M$.default);N_.default=U$;var R_={};Object.defineProperty(R_,"__esModule",{value:!0});var B$=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),z$=Bn,$$=gs,F$=eI($$),q$=Ft,H$=eI(q$);function eI(t){return t&&t.__esModule?t:{default:t}}function G$(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y$(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function W$(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var K$=function(t){W$(e,t);function e(n,r){return G$(this,e),Y$(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return B$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var r=z$.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,F$.default)(this.data,r,"01"),text:this.text}}}]),e}(H$.default);R_.default=K$;var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});var Q$=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();Tc.checksum=Py;var X$=gs,Cs=tI(X$),J$=Ft,Z$=tI(J$);function tI(t){return t&&t.__esModule?t:{default:t}}function eF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function nF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var rF=function(t){nF(e,t);function e(n,r){eF(this,e),n.search(/^[0-9]{11}$/)!==-1&&(n+=Py(n));var i=tF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return Q$(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==Py(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=(0,Cs.default)(this.data.substr(0,6),"LLLLLL"),r+="01010",r+=(0,Cs.default)(this.data.substr(6,6),"RRRRRR"),r+="101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101"+(0,Cs.default)(this.data[0],"L"),options:{height:this.guardHeight}}),r.push({data:(0,Cs.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),r.push({data:"01010",options:{height:this.guardHeight}}),r.push({data:(0,Cs.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),r.push({data:(0,Cs.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),r}}]),e}(Z$.default);function Py(t){var e=0,n;for(n=1;n<11;n+=2)e+=parseInt(t[n]);for(n=0;n<11;n+=2)e+=parseInt(t[n])*3;return(10-e%10)%10}Tc.default=rF;var C_={};Object.defineProperty(C_,"__esModule",{value:!0});var iF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),aF=gs,sF=nI(aF),oF=Ft,lF=nI(oF),uF=Tc;function nI(t){return t&&t.__esModule?t:{default:t}}function cF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fp(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function hF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var fF=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],dF=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],mF=function(t){hF(e,t);function e(n,r){cF(this,e);var i=Fp(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));if(i.isValid=!1,n.search(/^[0-9]{6}$/)!==-1)i.middleDigits=n,i.upcA=Nx(n,"0"),i.text=r.text||""+i.upcA[0]+n+i.upcA[i.upcA.length-1],i.isValid=!0;else if(n.search(/^[01][0-9]{7}$/)!==-1)if(i.middleDigits=n.substring(1,n.length-1),i.upcA=Nx(i.middleDigits,n[0]),i.upcA[i.upcA.length-1]===n[n.length-1])i.isValid=!0;else return Fp(i);else return Fp(i);return i.displayValue=r.displayValue,r.fontSize>r.width*10?i.fontSize=r.width*10:i.fontSize=r.fontSize,i.guardHeight=r.height+i.fontSize/2+r.textMargin,i}return iF(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var r="";return r+="101",r+=this.encodeMiddleDigits(),r+="010101",{data:r,text:this.text}}},{key:"guardedEncoding",value:function(){var r=[];return this.displayValue&&r.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),r.push({data:"101",options:{height:this.guardHeight}}),r.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),r.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&r.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),r}},{key:"encodeMiddleDigits",value:function(){var r=this.upcA[0],i=this.upcA[this.upcA.length-1],a=dF[parseInt(i)][parseInt(r)];return(0,sF.default)(this.middleDigits,a)}}]),e}(lF.default);function Nx(t,e){for(var n=parseInt(t[t.length-1]),r=fF[n],i="",a=0,s=0;s<r.length;s++){var o=r[s];o==="X"?i+=t[a++]:i+=o}return i=""+e+i,""+i+(0,uF.checksum)(i)}C_.default=mF;Object.defineProperty(Xt,"__esModule",{value:!0});Xt.UPCE=Xt.UPC=Xt.EAN2=Xt.EAN5=Xt.EAN8=Xt.EAN13=void 0;var pF=S_,gF=rl(pF),yF=A_,vF=rl(yF),_F=N_,bF=rl(_F),EF=R_,wF=rl(EF),xF=Tc,TF=rl(xF),SF=C_,AF=rl(SF);function rl(t){return t&&t.__esModule?t:{default:t}}Xt.EAN13=gF.default;Xt.EAN8=vF.default;Xt.EAN5=bF.default;Xt.EAN2=wF.default;Xt.UPC=TF.default;Xt.UPCE=AF.default;var Mo={},hm={},Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.START_BIN="1010";Sc.END_BIN="11101";Sc.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(hm,"__esModule",{value:!0});var NF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),vh=Sc,RF=Ft,CF=IF(RF);function IF(t){return t&&t.__esModule?t:{default:t}}function OF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function kF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var MF=function(t){kF(e,t);function e(){return OF(this,e),DF(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return NF(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,i=this.data.match(/.{2}/g).map(function(a){return r.encodePair(a)}).join("");return{data:vh.START_BIN+i+vh.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var i=vh.BINARIES[r[1]];return vh.BINARIES[r[0]].split("").map(function(a,s){return(a==="1"?"111":"1")+(i[s]==="1"?"000":"0")}).join("")}}]),e}(CF.default);hm.default=MF;var I_={};Object.defineProperty(I_,"__esModule",{value:!0});var PF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),jF=hm,LF=VF(jF);function VF(t){return t&&t.__esModule?t:{default:t}}function UF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function zF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Rx=function(e){var n=e.substr(0,13).split("").map(function(r){return parseInt(r,10)}).reduce(function(r,i,a){return r+i*(3-a%2*2)},0);return Math.ceil(n/10)*10-n},$F=function(t){zF(e,t);function e(n,r){return UF(this,e),n.search(/^[0-9]{13}$/)!==-1&&(n+=Rx(n)),BF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return PF(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===Rx(this.data)}}]),e}(LF.default);I_.default=$F;Object.defineProperty(Mo,"__esModule",{value:!0});Mo.ITF14=Mo.ITF=void 0;var FF=hm,qF=rI(FF),HF=I_,GF=rI(HF);function rI(t){return t&&t.__esModule?t:{default:t}}Mo.ITF=qF.default;Mo.ITF14=GF.default;var Dn={},ys={};Object.defineProperty(ys,"__esModule",{value:!0});var YF=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),WF=Ft,KF=QF(WF);function QF(t){return t&&t.__esModule?t:{default:t}}function XF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JF(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ZF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eq=function(t){ZF(e,t);function e(n,r){return XF(this,e),JF(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return YF(e,[{key:"encode",value:function(){for(var r="110",i=0;i<this.data.length;i++){var a=parseInt(this.data[i]),s=a.toString(2);s=tq(s,4-s.length);for(var o=0;o<s.length;o++)r+=s[o]=="0"?"100":"110"}return r+="1001",{data:r,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(KF.default);function tq(t,e){for(var n=0;n<e;n++)t="0"+t;return t}ys.default=eq;var O_={},vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.mod10=nq;vs.mod11=rq;function nq(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);(n+t.length)%2===0?e+=r:e+=r*2%10+Math.floor(r*2/10)}return(10-e%10)%10}function rq(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}Object.defineProperty(O_,"__esModule",{value:!0});var iq=ys,aq=oq(iq),sq=vs;function oq(t){return t&&t.__esModule?t:{default:t}}function lq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function cq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hq=function(t){cq(e,t);function e(n,r){return lq(this,e),uq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,sq.mod10)(n),r))}return e}(aq.default);O_.default=hq;var D_={};Object.defineProperty(D_,"__esModule",{value:!0});var fq=ys,dq=pq(fq),mq=vs;function pq(t){return t&&t.__esModule?t:{default:t}}function gq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _q=function(t){vq(e,t);function e(n,r){return gq(this,e),yq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n+(0,mq.mod11)(n),r))}return e}(dq.default);D_.default=_q;var k_={};Object.defineProperty(k_,"__esModule",{value:!0});var bq=ys,Eq=wq(bq),Cx=vs;function wq(t){return t&&t.__esModule?t:{default:t}}function xq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Sq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Aq=function(t){Sq(e,t);function e(n,r){return xq(this,e),n+=(0,Cx.mod10)(n),n+=(0,Cx.mod10)(n),Tq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Eq.default);k_.default=Aq;var M_={};Object.defineProperty(M_,"__esModule",{value:!0});var Nq=ys,Rq=Cq(Nq),Ix=vs;function Cq(t){return t&&t.__esModule?t:{default:t}}function Iq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Dq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kq=function(t){Dq(e,t);function e(n,r){return Iq(this,e),n+=(0,Ix.mod11)(n),n+=(0,Ix.mod10)(n),Oq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return e}(Rq.default);M_.default=kq;Object.defineProperty(Dn,"__esModule",{value:!0});Dn.MSI1110=Dn.MSI1010=Dn.MSI11=Dn.MSI10=Dn.MSI=void 0;var Mq=ys,Pq=Ac(Mq),jq=O_,Lq=Ac(jq),Vq=D_,Uq=Ac(Vq),Bq=k_,zq=Ac(Bq),$q=M_,Fq=Ac($q);function Ac(t){return t&&t.__esModule?t:{default:t}}Dn.MSI=Pq.default;Dn.MSI10=Lq.default;Dn.MSI11=Uq.default;Dn.MSI1010=zq.default;Dn.MSI1110=Fq.default;var fm={};Object.defineProperty(fm,"__esModule",{value:!0});fm.pharmacode=void 0;var qq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Hq=Ft,Gq=Yq(Hq);function Yq(t){return t&&t.__esModule?t:{default:t}}function Wq(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kq(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qq(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Xq=function(t){Qq(e,t);function e(n,r){Wq(this,e);var i=Kq(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r));return i.number=parseInt(n,10),i}return qq(e,[{key:"encode",value:function(){for(var r=this.number,i="";!isNaN(r)&&r!=0;)r%2===0?(i="11100"+i,r=(r-2)/2):(i="100"+i,r=(r-1)/2);return i=i.slice(0,-2),{data:i,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(Gq.default);fm.pharmacode=Xq;var dm={};Object.defineProperty(dm,"__esModule",{value:!0});dm.codabar=void 0;var Jq=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Zq=Ft,eH=tH(Zq);function tH(t){return t&&t.__esModule?t:{default:t}}function nH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function iH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var aH=function(t){iH(e,t);function e(n,r){nH(this,e),n.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(n="A"+n+"A");var i=rH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n.toUpperCase(),r));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return Jq(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var r=[],i=this.getEncodings(),a=0;a<this.data.length;a++)r.push(i[this.data.charAt(a)]),a!==this.data.length-1&&r.push("0");return{text:this.text,data:r.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(eH.default);dm.codabar=aH;var Po={},mm={},Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.SYMBOLS=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","($)","(%)","(/)","(+)",""];Nc.BINARIES=["100010100","101001000","101000100","101000010","100101000","100100100","100100010","101010000","100010010","100001010","110101000","110100100","110100010","110010100","110010010","110001010","101101000","101100100","101100010","100110100","100011010","101011000","101001100","101000110","100101100","100010110","110110100","110110010","110101100","110100110","110010110","110011010","101101100","101100110","100110110","100111010","100101110","111010100","111010010","111001010","101101110","101110110","110101110","100100110","111011010","111010110","100110010","101011110"];Nc.MULTI_SYMBOLS={"\0":["(%)","U"],"":["($)","A"],"":["($)","B"],"":["($)","C"],"":["($)","D"],"":["($)","E"],"":["($)","F"],"\x07":["($)","G"],"\b":["($)","H"],"	":["($)","I"],"\n":["($)","J"],"\v":["($)","K"],"\f":["($)","L"],"\r":["($)","M"],"":["($)","N"],"":["($)","O"],"":["($)","P"],"":["($)","Q"],"":["($)","R"],"":["($)","S"],"":["($)","T"],"":["($)","U"],"":["($)","V"],"":["($)","W"],"":["($)","X"],"":["($)","Y"],"":["($)","Z"],"\x1B":["(%)","A"],"":["(%)","B"],"":["(%)","C"],"":["(%)","D"],"":["(%)","E"],"!":["(/)","A"],'"':["(/)","B"],"#":["(/)","C"],"&":["(/)","F"],"'":["(/)","G"],"(":["(/)","H"],")":["(/)","I"],"*":["(/)","J"],",":["(/)","L"],":":["(/)","Z"],";":["(%)","F"],"<":["(%)","G"],"=":["(%)","H"],">":["(%)","I"],"?":["(%)","J"],"@":["(%)","V"],"[":["(%)","K"],"\\":["(%)","L"],"]":["(%)","M"],"^":["(%)","N"],_:["(%)","O"],"`":["(%)","W"],a:["(+)","A"],b:["(+)","B"],c:["(+)","C"],d:["(+)","D"],e:["(+)","E"],f:["(+)","F"],g:["(+)","G"],h:["(+)","H"],i:["(+)","I"],j:["(+)","J"],k:["(+)","K"],l:["(+)","L"],m:["(+)","M"],n:["(+)","N"],o:["(+)","O"],p:["(+)","P"],q:["(+)","Q"],r:["(+)","R"],s:["(+)","S"],t:["(+)","T"],u:["(+)","U"],v:["(+)","V"],w:["(+)","W"],x:["(+)","X"],y:["(+)","Y"],z:["(+)","Z"],"{":["(%)","P"],"|":["(%)","Q"],"}":["(%)","R"],"~":["(%)","S"],"":["(%)","T"]};Object.defineProperty(mm,"__esModule",{value:!0});var sH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),_h=Nc,oH=Ft,lH=uH(oH);function uH(t){return t&&t.__esModule?t:{default:t}}function cH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var dH=function(t){fH(e,t);function e(n,r){return cH(this,e),hH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return sH(e,[{key:"valid",value:function(){return/^[0-9A-Z\-. $/+%]+$/.test(this.data)}},{key:"encode",value:function(){var r=this.data.split("").flatMap(function(o){return _h.MULTI_SYMBOLS[o]||o}),i=r.map(function(o){return e.getEncoding(o)}).join(""),a=e.checksum(r,20),s=e.checksum(r.concat(a),15);return{text:this.text,data:e.getEncoding("")+i+e.getEncoding(a)+e.getEncoding(s)+e.getEncoding("")+"1"}}}],[{key:"getEncoding",value:function(r){return _h.BINARIES[e.symbolValue(r)]}},{key:"getSymbol",value:function(r){return _h.SYMBOLS[r]}},{key:"symbolValue",value:function(r){return _h.SYMBOLS.indexOf(r)}},{key:"checksum",value:function(r,i){var a=r.slice().reverse().reduce(function(s,o,u){var c=u%i+1;return s+e.symbolValue(o)*c},0);return e.getSymbol(a%47)}}]),e}(lH.default);mm.default=dH;var P_={};Object.defineProperty(P_,"__esModule",{value:!0});var mH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),pH=mm,gH=yH(pH);function yH(t){return t&&t.__esModule?t:{default:t}}function vH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _H(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function bH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var EH=function(t){bH(e,t);function e(n,r){return vH(this,e),_H(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return mH(e,[{key:"valid",value:function(){return/^[\x00-\x7f]+$/.test(this.data)}}]),e}(gH.default);P_.default=EH;Object.defineProperty(Po,"__esModule",{value:!0});Po.CODE93FullASCII=Po.CODE93=void 0;var wH=mm,xH=iI(wH),TH=P_,SH=iI(TH);function iI(t){return t&&t.__esModule?t:{default:t}}Po.CODE93=xH.default;Po.CODE93FullASCII=SH.default;var pm={};Object.defineProperty(pm,"__esModule",{value:!0});pm.GenericBarcode=void 0;var AH=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),NH=Ft,RH=CH(NH);function CH(t){return t&&t.__esModule?t:{default:t}}function IH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OH(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function DH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kH=function(t){DH(e,t);function e(n,r){return IH(this,e),OH(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,n,r))}return AH(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(RH.default);pm.GenericBarcode=kH;Object.defineProperty(v_,"__esModule",{value:!0});var MH=lm,bh=ur,Is=Xt,Ox=Mo,Bl=Dn,PH=fm,jH=dm,Dx=Po,LH=pm;v_.default={CODE39:MH.CODE39,CODE128:bh.CODE128,CODE128A:bh.CODE128A,CODE128B:bh.CODE128B,CODE128C:bh.CODE128C,EAN13:Is.EAN13,EAN8:Is.EAN8,EAN5:Is.EAN5,EAN2:Is.EAN2,UPC:Is.UPC,UPCE:Is.UPCE,ITF14:Ox.ITF14,ITF:Ox.ITF,MSI:Bl.MSI,MSI10:Bl.MSI10,MSI11:Bl.MSI11,MSI1010:Bl.MSI1010,MSI1110:Bl.MSI1110,pharmacode:PH.pharmacode,codabar:jH.codabar,CODE93:Dx.CODE93,CODE93FullASCII:Dx.CODE93FullASCII,GenericBarcode:LH.GenericBarcode};var il={};Object.defineProperty(il,"__esModule",{value:!0});var VH=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};il.default=function(t,e){return VH({},t,e)};var j_={};Object.defineProperty(j_,"__esModule",{value:!0});j_.default=UH;function UH(t){var e=[];function n(r){if(Array.isArray(r))for(var i=0;i<r.length;i++)n(r[i]);else r.text=r.text||"",r.data=r.data||"",e.push(r)}return n(t),e}var L_={};Object.defineProperty(L_,"__esModule",{value:!0});L_.default=BH;function BH(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var V_={},U_={},gm={};Object.defineProperty(gm,"__esModule",{value:!0});gm.default=zH;function zH(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&(n=e[n],typeof t[n]=="string"&&(t[n]=parseInt(t[n],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var ym={};Object.defineProperty(ym,"__esModule",{value:!0});var $H={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};ym.default=$H;Object.defineProperty(U_,"__esModule",{value:!0});var FH=gm,qH=aI(FH),HH=ym,kx=aI(HH);function aI(t){return t&&t.__esModule?t:{default:t}}function GH(t){var e={};for(var n in kx.default)kx.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,qH.default)(e),e}U_.default=GH;var B_={},z_={},hn={};Object.defineProperty(hn,"__esModule",{value:!0});hn.getTotalWidthOfEncodings=hn.calculateEncodingAttributes=hn.getBarcodePadding=hn.getEncodingHeight=hn.getMaximumHeightOfEncodings=void 0;var YH=il,WH=KH(YH);function KH(t){return t&&t.__esModule?t:{default:t}}function sI(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function oI(t,e,n){if(n.displayValue&&e<t){if(n.textAlign=="center")return Math.floor((t-e)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(t-e)}return 0}function QH(t,e,n){for(var r=0;r<t.length;r++){var i=t[r],a=(0,WH.default)(e,i.options),s;a.displayValue?s=ZH(i.text,a,n):s=0;var o=i.data.length*a.width;i.width=Math.ceil(Math.max(s,o)),i.height=sI(i,a),i.barcodePadding=oI(s,o,a)}}function XH(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}function JH(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e}function ZH(t,e,n){var r;if(n)r=n;else if(typeof document<"u")r=document.createElement("canvas").getContext("2d");else return 0;r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);if(!i)return 0;var a=i.width;return a}hn.getMaximumHeightOfEncodings=JH;hn.getEncodingHeight=sI;hn.getBarcodePadding=oI;hn.calculateEncodingAttributes=QH;hn.getTotalWidthOfEncodings=XH;Object.defineProperty(z_,"__esModule",{value:!0});var eG=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),tG=il,nG=rG(tG),qp=hn;function rG(t){return t&&t.__esModule?t:{default:t}}function iG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var aG=function(){function t(e,n,r){iG(this,t),this.canvas=e,this.encodings=n,this.options=r}return eG(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var n=0;n<this.encodings.length;n++){var r=(0,nG.default)(this.options,this.encodings[n].options);this.drawCanvasBarcode(r,this.encodings[n]),this.drawCanvasText(r,this.encodings[n]),this.moveCanvasDrawing(this.encodings[n])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var n=this.canvas.getContext("2d");n.save(),(0,qp.calculateEncodingAttributes)(this.encodings,this.options,n);var r=(0,qp.getTotalWidthOfEncodings)(this.encodings),i=(0,qp.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=r+this.options.marginLeft+this.options.marginRight,this.canvas.height=i,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(n.fillStyle=this.options.background,n.fillRect(0,0,this.canvas.width,this.canvas.height)),n.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(n,r){var i=this.canvas.getContext("2d"),a=r.data,s;n.textPosition=="top"?s=n.marginTop+n.fontSize+n.textMargin:s=n.marginTop,i.fillStyle=n.lineColor;for(var o=0;o<a.length;o++){var u=o*n.width+r.barcodePadding;a[o]==="1"?i.fillRect(u,s,n.width,n.height):a[o]&&i.fillRect(u,s,n.width,n.height*a[o])}}},{key:"drawCanvasText",value:function(n,r){var i=this.canvas.getContext("2d"),a=n.fontOptions+" "+n.fontSize+"px "+n.font;if(n.displayValue){var s,o;n.textPosition=="top"?o=n.marginTop+n.fontSize-n.textMargin:o=n.height+n.textMargin+n.marginTop+n.fontSize,i.font=a,n.textAlign=="left"||r.barcodePadding>0?(s=0,i.textAlign="left"):n.textAlign=="right"?(s=r.width-1,i.textAlign="right"):(s=r.width/2,i.textAlign="center"),i.fillText(r.text,s,o)}}},{key:"moveCanvasDrawing",value:function(n){var r=this.canvas.getContext("2d");r.translate(n.width,0)}},{key:"restoreCanvas",value:function(){var n=this.canvas.getContext("2d");n.restore()}}]),t}();z_.default=aG;var $_={};Object.defineProperty($_,"__esModule",{value:!0});var sG=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),oG=il,lG=uG(oG),Hp=hn;function uG(t){return t&&t.__esModule?t:{default:t}}function cG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Eh="http://www.w3.org/2000/svg",hG=function(){function t(e,n,r){cG(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return sG(t,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var i=this.encodings[r],a=(0,lG.default)(this.options,i.options),s=this.createGroup(n,a.marginTop,this.svg);this.setGroupOptions(s,a),this.drawSvgBarcode(s,a,i),this.drawSVGText(s,a,i),n+=i.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,Hp.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,Hp.getTotalWidthOfEncodings)(this.encodings),r=(0,Hp.getMaximumHeightOfEncodings)(this.encodings),i=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(i,r),this.options.background&&this.drawRect(0,0,i,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,r,i){var a=i.data,s;r.textPosition=="top"?s=r.fontSize+r.textMargin:s=0;for(var o=0,u=0,c=0;c<a.length;c++)u=c*r.width+i.barcodePadding,a[c]==="1"?o++:o>0&&(this.drawRect(u-r.width*o,s,r.width*o,r.height,n),o=0);o>0&&this.drawRect(u-r.width*(o-1),s,r.width*o,r.height,n)}},{key:"drawSVGText",value:function(n,r,i){var a=this.document.createElementNS(Eh,"text");if(r.displayValue){var s,o;a.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),r.textPosition=="top"?o=r.fontSize-r.textMargin:o=r.height+r.textMargin+r.fontSize,r.textAlign=="left"||i.barcodePadding>0?(s=0,a.setAttribute("text-anchor","start")):r.textAlign=="right"?(s=i.width-1,a.setAttribute("text-anchor","end")):(s=i.width/2,a.setAttribute("text-anchor","middle")),a.setAttribute("x",s),a.setAttribute("y",o),a.appendChild(this.document.createTextNode(i.text)),n.appendChild(a)}}},{key:"setSvgAttributes",value:function(n,r){var i=this.svg;i.setAttribute("width",n+"px"),i.setAttribute("height",r+"px"),i.setAttribute("x","0px"),i.setAttribute("y","0px"),i.setAttribute("viewBox","0 0 "+n+" "+r),i.setAttribute("xmlns",Eh),i.setAttribute("version","1.1"),i.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,r,i){var a=this.document.createElementNS(Eh,"g");return a.setAttribute("transform","translate("+n+", "+r+")"),i.appendChild(a),a}},{key:"setGroupOptions",value:function(n,r){n.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(n,r,i,a,s){var o=this.document.createElementNS(Eh,"rect");return o.setAttribute("x",n),o.setAttribute("y",r),o.setAttribute("width",i),o.setAttribute("height",a),s.appendChild(o),o}}]),t}();$_.default=hG;var F_={};Object.defineProperty(F_,"__esModule",{value:!0});var fG=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function dG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var mG=function(){function t(e,n,r){dG(this,t),this.object=e,this.encodings=n,this.options=r}return fG(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();F_.default=mG;Object.defineProperty(B_,"__esModule",{value:!0});var pG=z_,gG=q_(pG),yG=$_,vG=q_(yG),_G=F_,bG=q_(_G);function q_(t){return t&&t.__esModule?t:{default:t}}B_.default={CanvasRenderer:gG.default,SVGRenderer:vG.default,ObjectRenderer:bG.default};var al={};Object.defineProperty(al,"__esModule",{value:!0});function H_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G_(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Y_(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var EG=function(t){Y_(e,t);function e(n,r){H_(this,e);var i=G_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.name="InvalidInputException",i.symbology=n,i.input=r,i.message='"'+i.input+'" is not a valid input for '+i.symbology,i}return e}(Error),wG=function(t){Y_(e,t);function e(){H_(this,e);var n=G_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return e}(Error),xG=function(t){Y_(e,t);function e(){H_(this,e);var n=G_(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return e}(Error);al.InvalidInputException=EG;al.InvalidElementException=wG;al.NoElementException=xG;Object.defineProperty(V_,"__esModule",{value:!0});var TG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},SG=U_,jy=lI(SG),AG=B_,Zl=lI(AG),NG=al;function lI(t){return t&&t.__esModule?t:{default:t}}function W_(t){if(typeof t=="string")return RG(t);if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++)e.push(W_(t[n]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return CG(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,jy.default)(t),renderer:Zl.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,jy.default)(t),renderer:Zl.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Zl.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":TG(t))==="object"&&!t.nodeName)return{element:t,renderer:Zl.default.ObjectRenderer};throw new NG.InvalidElementException}}function RG(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var n=[],r=0;r<e.length;r++)n.push(W_(e[r]));return n}}function CG(t){var e=document.createElement("canvas");return{element:e,options:(0,jy.default)(t),renderer:Zl.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}V_.default=W_;var K_={};Object.defineProperty(K_,"__esModule",{value:!0});var IG=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function OG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var DG=function(){function t(e){OG(this,t),this.api=e}return IG(t,[{key:"handleCatch",value:function(n){if(n.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw n.message;else throw n;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(n){try{var r=n.apply(void 0,arguments);return this.api._options.valid(!0),r}catch(i){return this.handleCatch(i),this.api}}}]),t}();K_.default=DG;var kG=v_,Ha=ga(kG),MG=il,Rc=ga(MG),PG=j_,uI=ga(PG),jG=L_,Mx=ga(jG),LG=V_,VG=ga(LG),UG=gm,BG=ga(UG),zG=K_,$G=ga(zG),cI=al,FG=ym,hI=ga(FG);function ga(t){return t&&t.__esModule?t:{default:t}}var Fr=function(){},vm=function(e,n,r){var i=new Fr;if(typeof e>"u")throw Error("No element to render on was provided.");return i._renderProperties=(0,VG.default)(e),i._encodings=[],i._options=hI.default,i._errorHandler=new $G.default(i),typeof n<"u"&&(r=r||{},r.format||(r.format=dI()),i.options(r)[r.format](n,r).render()),i};vm.getModule=function(t){return Ha.default[t]};for(var Px in Ha.default)Ha.default.hasOwnProperty(Px)&&qG(Ha.default,Px);function qG(t,e){Fr.prototype[e]=Fr.prototype[e.toUpperCase()]=Fr.prototype[e.toLowerCase()]=function(n,r){var i=this;return i._errorHandler.wrapBarcodeCall(function(){r.text=typeof r.text>"u"?void 0:""+r.text;var a=(0,Rc.default)(i._options,r);a=(0,BG.default)(a);var s=t[e],o=fI(n,s,a);return i._encodings.push(o),i})}}function fI(t,e,n){t=""+t;var r=new e(t,n);if(!r.valid())throw new cI.InvalidInputException(r.constructor.name,t);var i=r.encode();i=(0,uI.default)(i);for(var a=0;a<i.length;a++)i[a].options=(0,Rc.default)(n,i[a].options);return i}function dI(){return Ha.default.CODE128?"CODE128":Object.keys(Ha.default)[0]}Fr.prototype.options=function(t){return this._options=(0,Rc.default)(this._options,t),this};Fr.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};Fr.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var n=(0,Rc.default)(this._options,t.options);n.format=="auto"&&(n.format=dI()),this._errorHandler.wrapBarcodeCall(function(){var r=n.value,i=Ha.default[n.format.toUpperCase()],a=fI(r,i,n);Ly(t,a,n)})}}};Fr.prototype.render=function(){if(!this._renderProperties)throw new cI.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)Ly(this._renderProperties[t],this._encodings,this._options);else Ly(this._renderProperties,this._encodings,this._options);return this};Fr.prototype._defaults=hI.default;function Ly(t,e,n){e=(0,uI.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,Rc.default)(n,e[r].options),(0,Mx.default)(e[r].options);(0,Mx.default)(n);var i=t.renderer,a=new i(t.element,e,n);a.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=vm);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each(function(){n.push(this)}),vm(n,t,e)});var HG=vm,mI={exports:{}},GG="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",YG=GG,WG=YG;function pI(){}function gI(){}gI.resetWarningCache=pI;var KG=function(){function t(r,i,a,s,o,u){if(u!==WG){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gI,resetWarningCache:pI};return n.PropTypes=n,n};mI.exports=KG();var QG=mI.exports;function Qh(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qh=function(n){return typeof n}:Qh=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qh(t)}var Us=Q_(O),XG=Q_(HG),Fe=Q_(QG);function Q_(t){return t&&t.__esModule?t:{default:t}}function JG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eY(t,e,n){return e&&ZG(t.prototype,e),t}function tY(t,e){return e&&(Qh(e)==="object"||typeof e=="function")?e:yI(t)}function Vy(t){return Vy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Vy(t)}function yI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uy(t,e)}function Uy(t,e){return Uy=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},Uy(t,e)}var By,Gp=Us.default.version.split(/[.-]/);Gp[0]==="0"&&(Gp[1]==="13"||Gp[1]==="12")?By=function(e){return e.getDOMNode()}:By=function(e){return e};var X_=function(t){nY(e,t);function e(n){var r;return JG(this,e),r=tY(this,Vy(e).call(this,n)),r.renderElementRef=Us.default.createRef(),r.update=r.update.bind(yI(r)),r}return eY(e,[{key:"shouldComponentUpdate",value:function(r){var i=this;return Object.keys(e.propTypes).some(function(a){return i.props[a]!==r[a]})}},{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var r=By(this.renderElementRef.current);try{new XG.default(r,this.props.value,Object.assign({text:this.props.text||this.props.value},this.props))}catch(i){window.console.error(i)}}},{key:"render",value:function(){var r=this.props,i=r.id,a=r.className;if(this.props.renderer==="svg")return Us.default.createElement("svg",{ref:this.renderElementRef,id:i,className:a});if(this.props.renderer==="canvas")return Us.default.createElement("canvas",{ref:this.renderElementRef,id:i,className:a});if(this.props.renderer==="img")return Us.default.createElement("img",{ref:this.renderElementRef,id:i,className:a})}}]),e}(Us.default.Component);X_.propTypes={value:Fe.default.string.isRequired,text:Fe.default.string,renderer:Fe.default.string,format:Fe.default.string,width:Fe.default.number,height:Fe.default.number,displayValue:Fe.default.bool,fontOptions:Fe.default.string,font:Fe.default.string,textAlign:Fe.default.string,textPosition:Fe.default.string,textMargin:Fe.default.number,fontSize:Fe.default.number,background:Fe.default.string,lineColor:Fe.default.string,margin:Fe.default.number,marginTop:Fe.default.number,marginBottom:Fe.default.number,marginLeft:Fe.default.number,marginRight:Fe.default.number,id:Fe.default.string,className:Fe.default.string,ean128:Fe.default.bool};X_.defaultProps={format:"CODE128",renderer:"svg",width:2,height:100,displayValue:!0,fontOptions:"",font:"monospace",textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,className:"",ean128:!1};var rY=X_;const vI=nd(rY),iY=({onClose:t})=>{const[e,n]=O.useState({recipientName:"",senderName:"",amount:"",message:"",expiryDate:""}),[r,i]=O.useState(!1),[a,s]=O.useState(!1),[o,u]=O.useState(""),c=(p,y)=>{n(w=>({...w,[p]:y}))},f=()=>{const p="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let y="GC";for(let w=0;w<10;w++)y+=p.charAt(Math.floor(Math.random()*p.length));return y},m=async p=>{if(p.preventDefault(),!e.recipientName||!e.senderName||!e.amount||!e.expiryDate){alert("Please fill in all required fields");return}i(!0);try{const y=f(),w={recipientName:e.recipientName,senderName:e.senderName,amount:parseFloat(e.amount),message:e.message||"Wishing you wonderful adventures!",expiryDate:ye.fromDate(new Date(e.expiryDate)),createdAt:ye.now(),redeemed:!1,barcodeId:y};await J0(ma(Vt,"giftCards"),w),u(y),s(!0),setTimeout(()=>{t()},3e3)}catch(y){console.error("Error creating gift card:",y),alert("Failed to create gift card. Please try again."),i(!1)}};return a?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-8 text-center",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(zr,{className:"w-8 h-8 text-green-600"})}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gift Card Created!"}),h.jsx("p",{className:"text-gray-600",children:"Your gift card has been generated successfully"})]}),h.jsx("div",{className:"bg-gray-50 rounded-lg p-6 mb-4",children:h.jsx(vI,{value:o,width:2,height:80,fontSize:14,background:"#F9FAFB"})}),h.jsx("p",{className:"text-sm text-gray-500",children:"Closing in a moment..."})]})}):h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"sticky top-0 bg-white border-b px-6 py-4 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(zr,{className:"w-6 h-6",style:{color:H.primary.teal}}),h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Gift Card"})]}),h.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(fc,{className:"w-6 h-6"})})]}),h.jsxs("form",{onSubmit:m,className:"p-6",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx(Cf,{className:"w-4 h-4"}),"Recipient Name *"]}),h.jsx("input",{type:"text",value:e.recipientName,onChange:p=>c("recipientName",p.target.value),placeholder:"Who is this gift card for?",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx(Cf,{className:"w-4 h-4"}),"Your Name (Sender) *"]}),h.jsx("input",{type:"text",value:e.senderName,onChange:p=>c("senderName",p.target.value),placeholder:"Your name",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx(s0,{className:"w-4 h-4"}),"Gift Card Amount *"]}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),h.jsx("input",{type:"number",min:"1",step:"0.01",value:e.amount,onChange:p=>c("amount",p.target.value),placeholder:"100.00",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx(jj,{className:"w-4 h-4"}),"Personal Message (Optional)"]}),h.jsx("textarea",{value:e.message,onChange:p=>c("message",p.target.value),placeholder:"Write a personalized message for the recipient...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[h.jsx(wi,{className:"w-4 h-4"}),"Expiry Date *"]}),h.jsx("input",{type:"date",value:e.expiryDate,onChange:p=>c("expiryDate",p.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",required:!0})]}),h.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:h.jsxs("p",{className:"text-sm text-blue-800",children:[h.jsx("strong",{children:"Note:"})," A unique barcode will be generated for this gift card. The recipient will receive a shareable link with a beautiful reveal animation."]})})]}),h.jsxs("div",{className:"flex gap-3 mt-8",children:[h.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",disabled:r,style:{backgroundColor:H.primary.teal},className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity disabled:opacity-50 disabled:cursor-not-allowed",children:r?h.jsxs(h.Fragment,{children:[h.jsx(Aj,{className:"w-5 h-5 animate-spin"}),h.jsx("span",{children:"Creating..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(zr,{className:"w-5 h-5"}),h.jsx("span",{children:"Create Gift Card"})]})})]})]})]})})},aY=()=>{const[t,e]=O.useState([]),[n,r]=O.useState(!1),[i,a]=O.useState(!0),[s,o]=O.useState(null),[u,c]=O.useState(null),[f,m]=O.useState("all");O.useEffect(()=>{const v=Jd(ma(Vt,"giftCards"),G5("createdAt","desc")),_=NR(v,S=>{const N=S.docs.map(L=>({id:L.id,...L.data()}));e(N),a(!1)});return()=>_()},[]);const p=v=>{const _=`${window.location.origin}/PlanYourTripNow/gift/${v}`;navigator.clipboard.writeText(_),o(v),setTimeout(()=>o(null),2e3)},y=async v=>{if(confirm("Are you sure you want to delete this gift card? This action cannot be undone.")){c(v);try{await X0(Zr(Vt,"giftCards",v))}catch(_){console.error("Error deleting gift card:",_),alert("Failed to delete gift card. Please try again.")}finally{c(null)}}},I=(()=>{const v=new Date;return f==="all"?t:t.filter(_=>{var N,L;const S=((L=(N=_.expiryDate)==null?void 0:N.toDate)==null?void 0:L.call(N))||new Date(_.expiryDate);return f==="redeemed"?_.redeemed:f==="expired"?!_.redeemed&&S<v:f==="active"?!_.redeemed&&S>=v:!0})})(),C=v=>{var N,L;return v.redeemed?{bg:"#D1FAE5",text:"#065F46",label:"Redeemed"}:(((L=(N=v.expiryDate)==null?void 0:N.toDate)==null?void 0:L.call(N))||new Date(v.expiryDate))<new Date?{bg:"#FEE2E2",text:"#991B1B",label:"Expired"}:{bg:"#DBEAFE",text:"#1E40AF",label:"Active"}};return h.jsxs("div",{className:"min-h-screen bg-gray-100",children:[h.jsx(g_,{}),h.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[h.jsx(zr,{className:"w-8 h-8",style:{color:H.primary.teal}}),"Gift Cards"]}),h.jsx("p",{className:"text-gray-600 mt-1",children:"Create and manage gift cards for your trips"})]}),h.jsxs("button",{onClick:()=>r(!0),style:{backgroundColor:H.primary.teal},className:"flex items-center gap-2 px-6 py-3 text-white rounded-lg hover:opacity-90 transition-opacity shadow-lg",children:[h.jsx(M2,{className:"w-5 h-5"}),h.jsx("span",{children:"Create Gift Card"})]})]}),h.jsx("div",{className:"mb-6 flex gap-2 flex-wrap",children:["all","active","redeemed","expired"].map(v=>h.jsx("button",{onClick:()=>m(v),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${f===v?"text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,style:f===v?{backgroundColor:H.primary.teal}:{},children:v.charAt(0).toUpperCase()+v.slice(1)},v))}),i?h.jsx("div",{className:"text-center py-12",children:h.jsx("div",{className:"text-gray-500",children:"Loading gift cards..."})}):I.length===0?h.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[h.jsx(zr,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),h.jsx("p",{className:"text-gray-500 text-lg mb-4",children:f==="all"?"No gift cards created yet":`No ${f} gift cards found`}),h.jsx("button",{onClick:()=>r(!0),className:"text-blue-600 hover:text-blue-700 font-medium",children:"Create your first gift card"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:I.map(v=>{var S,N;const _=C(v);return h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-shadow border-2",style:{borderColor:H.primary.teal},children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900 flex-1",children:v.recipientName}),h.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:_.bg,color:_.text},children:_.label})]}),h.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:v.message}),h.jsxs("div",{className:"space-y-2 mb-4",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(s0,{className:"w-4 h-4 text-gray-400"}),h.jsxs("span",{className:"text-gray-700",children:[h.jsxs("span",{className:"font-semibold",children:["$",v.amount]})," value"]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(wi,{className:"w-4 h-4 text-gray-400"}),h.jsxs("span",{className:"text-gray-700",children:["Expires: ",((N=(S=v.expiryDate)==null?void 0:S.toDate)==null?void 0:N.call(S).toLocaleDateString())||new Date(v.expiryDate).toLocaleDateString()]})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(Cf,{className:"w-4 h-4 text-gray-400"}),h.jsxs("span",{className:"text-gray-700",children:["From: ",v.senderName]})]})]}),v.redeemed&&h.jsx("div",{className:"mb-4 p-2 bg-green-50 rounded-lg",children:h.jsxs("p",{className:"text-xs text-green-700",children:["Redeemed on ",new Date(v.redeemedAt).toLocaleDateString()]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>p(v.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",style:{backgroundColor:s===v.id?H.success:H.primary.teal},children:s===v.id?h.jsxs(h.Fragment,{children:[h.jsx(D2,{className:"w-4 h-4"}),h.jsx("span",{children:"Copied!"})]}):h.jsxs(h.Fragment,{children:[h.jsx(k2,{className:"w-4 h-4"}),h.jsx("span",{children:"Share"})]})}),h.jsxs("a",{href:`/PlanYourTripNow/gift/${v.id}`,target:"_blank",rel:"noopener noreferrer",style:{backgroundColor:H.primary.black},className:"flex items-center justify-center gap-2 px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm",children:[h.jsx(Ej,{className:"w-4 h-4"}),h.jsx("span",{children:"View"})]}),h.jsx("button",{onClick:()=>y(v.id),disabled:u===v.id,style:{backgroundColor:H.button.danger},className:"flex items-center justify-center px-3 py-2 text-white rounded-lg hover:opacity-90 transition-opacity text-sm disabled:opacity-50 disabled:cursor-not-allowed",children:h.jsx(o0,{className:"w-4 h-4"})})]})]},v.id)})})]}),n&&h.jsx(iY,{onClose:()=>r(!1)})]})},sY=()=>{var w,I;const{giftCardId:t}=QA(),[e,n]=O.useState(null),[r,i]=O.useState(!0),[a,s]=O.useState(null),[o,u]=O.useState(!1),[c,f]=O.useState(!1);O.useEffect(()=>{(async()=>{try{const v=Zr(Vt,"giftCards",t),_=await AR(v);_.exists()?n({id:_.id,..._.data()}):s("Gift card not found")}catch(v){console.error("Error fetching gift card:",v),s("Failed to load gift card")}finally{i(!1)}})()},[t]);const m=async()=>{if(u(!0),f(!0),e&&!e.redeemed)try{const C=Zr(Vt,"giftCards",t);await Q0(C,{redeemed:!0,redeemedAt:ye.now()}),n(v=>({...v,redeemed:!0,redeemedAt:new Date}))}catch(C){console.error("Error marking gift card as redeemed:",C)}setTimeout(()=>f(!1),5e3)};if(r)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx(zr,{className:"w-16 h-16 mx-auto mb-4 text-purple-600 animate-pulse"}),h.jsx("p",{className:"text-xl text-gray-700",children:"Loading your gift..."})]})});if(a)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(zr,{className:"w-10 h-10 text-red-600"})}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops!"}),h.jsx("p",{className:"text-gray-600",children:a})]})});const p=((I=(w=e.expiryDate)==null?void 0:w.toDate)==null?void 0:I.call(w))||new Date(e.expiryDate),y=p<new Date;return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-pink-100 to-blue-100 flex items-center justify-center p-4 relative overflow-hidden",children:[c&&h.jsx("div",{className:"confetti-container",children:[...Array(50)].map((C,v)=>h.jsx("div",{className:"confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,backgroundColor:["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8"][Math.floor(Math.random()*5)]}},v))}),o?h.jsx("div",{className:"gift-card-reveal max-w-2xl w-full",children:h.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl overflow-hidden",children:[h.jsxs("div",{className:"p-8 text-white text-center relative overflow-hidden",style:{backgroundColor:H.primary.teal},children:[h.jsx("div",{className:"absolute inset-0 opacity-10",children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent"})}),h.jsxs("div",{className:"relative z-10",children:[h.jsx(Vj,{className:"w-16 h-16 mx-auto mb-4"}),h.jsx("h1",{className:"text-4xl font-bold mb-2",children:"Congratulations!"}),h.jsx("p",{className:"text-xl opacity-90",children:"You've received a gift card"})]})]}),h.jsxs("div",{className:"p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("p",{className:"text-gray-600 mb-2",children:"Dear"}),h.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:e.recipientName}),h.jsxs("div",{className:"inline-block px-8 py-4 rounded-2xl text-white mb-6",style:{backgroundColor:H.primary.teal},children:[h.jsx(s0,{className:"w-8 h-8 inline-block mb-1"}),h.jsx("span",{className:"text-5xl font-bold",children:e.amount})]})]}),e.message&&h.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 mb-8",children:[h.jsxs("p",{className:"text-gray-700 text-lg italic text-center leading-relaxed",children:['"',e.message,'"']}),h.jsxs("p",{className:"text-gray-600 text-right mt-4",children:["- ",e.senderName]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[h.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[h.jsx(Cf,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500",children:"From"}),h.jsx("p",{className:"font-semibold text-gray-900",children:e.senderName})]})]}),h.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 flex items-center gap-3",children:[h.jsx(wi,{className:"w-5 h-5 text-gray-400"}),h.jsxs("div",{children:[h.jsx("p",{className:"text-xs text-gray-500",children:"Expires"}),h.jsx("p",{className:"font-semibold text-gray-900",children:p.toLocaleDateString()})]})]})]}),h.jsxs("div",{className:"bg-white border-2 border-dashed border-gray-300 rounded-2xl p-6 text-center",children:[h.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Gift Card Code"}),h.jsx("div",{className:"flex justify-center",children:h.jsx(vI,{value:e.barcodeId,width:2,height:60,fontSize:14,background:"transparent"})}),h.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"Present this code when booking your trip"})]}),y&&h.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-xl p-4 text-center",children:h.jsx("p",{className:"text-red-700 font-medium",children:"This gift card has expired"})}),e.redeemed&&!y&&h.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:h.jsx("p",{className:"text-green-700 font-medium",children:"Gift card revealed! Contact us to redeem."})}),!y&&!e.redeemed&&h.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-4 text-center",children:h.jsx("p",{className:"text-blue-700 font-medium",children:"Ready to use! Contact us to book your amazing trip."})})]})]})}):h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"gift-box-container mb-8",onClick:m,children:h.jsxs("div",{className:"gift-box",children:[h.jsx("div",{className:"gift-box-lid",children:h.jsx("div",{className:"gift-ribbon-horizontal"})}),h.jsx("div",{className:"gift-box-body",children:h.jsx("div",{className:"gift-ribbon-vertical"})})]})}),h.jsxs("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4 flex items-center justify-center gap-3",children:[h.jsx(NE,{className:"w-8 h-8 text-yellow-500"}),"You've Got a Gift!",h.jsx(NE,{className:"w-8 h-8 text-yellow-500"})]}),h.jsx("p",{className:"text-xl text-gray-700 mb-8",children:"Click the gift box to reveal your surprise"}),h.jsx("div",{className:"animate-bounce",children:h.jsx(zr,{className:"w-12 h-12 mx-auto text-purple-600"})})]})]})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oY(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(f){try{c(r.next(f))}catch(m){s(m)}}function u(f){try{c(r.throw(f))}catch(m){s(m)}}function c(f){f.done?a(f.value):i(f.value).then(o,u)}c((r=r.apply(t,[])).next())})}function lY(t,e){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(c){return function(f){return u([c,f])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){n.label=c[1];break}if(c[0]===6&&n.label<a[1]){n.label=a[1],a=c;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(c);break}a[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(f){c=[6,f],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var no=function(){return no=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},no.apply(this,arguments)},_I=function(t){return{loading:t==null,value:t}},uY=function(){return function(t,e){switch(e.type){case"error":return no(no({},t),{error:e.error,loading:!1,value:void 0});case"reset":return _I(e.defaultValue);case"value":return no(no({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},cY=function(t){var e=t?t():void 0,n=O.useReducer(uY(),_I(e)),r=n[0],i=n[1],a=O.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),s=O.useCallback(function(u){i({type:"error",error:u})},[]),o=O.useCallback(function(u){i({type:"value",value:u})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:a,setError:s,setValue:o,value:r.value}},[r.error,r.loading,a,s,o,r.value])},hY=function(t,e){var n=cY(function(){return t.currentUser}),r=n.error,i=n.loading,a=n.setError,s=n.setValue,o=n.value;return O.useEffect(function(){var u=J9(t,function(c){return oY(void 0,void 0,void 0,function(){var f;return lY(this,function(m){switch(m.label){case 0:return[3,4];case 1:return m.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return m.sent(),[3,4];case 3:return f=m.sent(),a(f),[3,4];case 4:return s(c),[2]}})})},a);return function(){u()}},[t]),[o,i,r]};const jx=({children:t})=>{const[e,n]=hY(m_);return n?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-lg",children:"Loading..."})}):e?t:h.jsx(CM,{to:"/login"})};function fY(){return h.jsx(_7,{children:h.jsx(t4,{basename:"/PlanYourTripNow",children:h.jsxs(OM,{children:[h.jsx(Ms,{path:"/login",element:h.jsx(H7,{})}),h.jsx(Ms,{path:"/register/:tripId",element:h.jsx(q7,{})}),h.jsx(Ms,{path:"/gift/:giftCardId",element:h.jsx(sY,{})}),h.jsx(Ms,{path:"/",element:h.jsx(jx,{children:h.jsx(T7,{})})}),h.jsx(Ms,{path:"/gift-cards",element:h.jsx(jx,{children:h.jsx(aY,{})})})]})})})}kk.createRoot(document.getElementById("root")).render(h.jsx(O.StrictMode,{children:h.jsx(fY,{})}));
